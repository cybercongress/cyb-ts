/*! For license information please see 285.35065711.chunk.js.LICENSE.txt */
!function(){var e,t,r,i,n={48764:function(e,t,r){"use strict";var i=r(25108),n=r(79742),o=r(80645),a="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=f,t.SlowBuffer=function(e){+e!=e&&(e=0);return f.alloc(+e)},t.INSPECT_MAX_BYTES=50;var s=2147483647;function c(e){if(e>s)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,f.prototype),t}function f(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return p(e)}return u(e,t,r)}function u(e,t,r){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!f.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=0|g(e,t),i=c(r),n=i.write(e,t);n!==r&&(i=i.slice(0,n));return i}(e,t);if(ArrayBuffer.isView(e))return function(e){if(_(e,Uint8Array)){var t=new Uint8Array(e);return m(t.buffer,t.byteOffset,t.byteLength)}return l(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(_(e,ArrayBuffer)||e&&_(e.buffer,ArrayBuffer))return m(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(_(e,SharedArrayBuffer)||e&&_(e.buffer,SharedArrayBuffer)))return m(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var i=e.valueOf&&e.valueOf();if(null!=i&&i!==e)return f.from(i,t,r);var n=function(e){if(f.isBuffer(e)){var t=0|d(e.length),r=c(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!=typeof e.length||$(e.length)?c(0):l(e);if("Buffer"===e.type&&Array.isArray(e.data))return l(e.data)}(e);if(n)return n;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return f.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function h(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function p(e){return h(e),c(e<0?0:0|d(e))}function l(e){for(var t=e.length<0?0:0|d(e.length),r=c(t),i=0;i<t;i+=1)r[i]=255&e[i];return r}function m(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var i;return i=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(i,f.prototype),i}function d(e){if(e>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|e}function g(e,t){if(f.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||_(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,i=arguments.length>2&&!0===arguments[2];if(!i&&0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return N(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return F(e).length;default:if(n)return i?-1:N(e).length;t=(""+t).toLowerCase(),n=!0}}function y(e,t,r){var i=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return C(this,t,r);case"utf8":case"utf-8":return T(this,t,r);case"ascii":return U(this,t,r);case"latin1":case"binary":return I(this,t,r);case"base64":return A(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,t,r);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function w(e,t,r){var i=e[t];e[t]=e[r],e[r]=i}function v(e,t,r,i,n){if(0===e.length)return-1;if("string"==typeof r?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),$(r=+r)&&(r=n?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(n)return-1;r=e.length-1}else if(r<0){if(!n)return-1;r=0}if("string"==typeof t&&(t=f.from(t,i)),f.isBuffer(t))return 0===t.length?-1:b(e,t,r,i,n);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?n?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):b(e,[t],r,i,n);throw new TypeError("val must be string, number or Buffer")}function b(e,t,r,i,n){var o,a=1,s=e.length,c=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;a=2,s/=2,c/=2,r/=2}function f(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(n){var u=-1;for(o=r;o<s;o++)if(f(e,o)===f(t,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===c)return u*a}else-1!==u&&(o-=o-u),u=-1}else for(r+c>s&&(r=s-c),o=r;o>=0;o--){for(var h=!0,p=0;p<c;p++)if(f(e,o+p)!==f(t,p)){h=!1;break}if(h)return o}return-1}function x(e,t,r,i){r=Number(r)||0;var n=e.length-r;i?(i=Number(i))>n&&(i=n):i=n;var o=t.length;i>o/2&&(i=o/2);for(var a=0;a<i;++a){var s=parseInt(t.substr(2*a,2),16);if($(s))return a;e[r+a]=s}return a}function k(e,t,r,i){return D(N(t,e.length-r),e,r,i)}function S(e,t,r,i){return D(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,i)}function E(e,t,r,i){return D(F(t),e,r,i)}function B(e,t,r,i){return D(function(e,t){for(var r,i,n,o=[],a=0;a<e.length&&!((t-=2)<0);++a)i=(r=e.charCodeAt(a))>>8,n=r%256,o.push(n),o.push(i);return o}(t,e.length-r),e,r,i)}function A(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function T(e,t,r){r=Math.min(e.length,r);for(var i=[],n=t;n<r;){var o,a,s,c,f=e[n],u=null,h=f>239?4:f>223?3:f>191?2:1;if(n+h<=r)switch(h){case 1:f<128&&(u=f);break;case 2:128==(192&(o=e[n+1]))&&(c=(31&f)<<6|63&o)>127&&(u=c);break;case 3:o=e[n+1],a=e[n+2],128==(192&o)&&128==(192&a)&&(c=(15&f)<<12|(63&o)<<6|63&a)>2047&&(c<55296||c>57343)&&(u=c);break;case 4:o=e[n+1],a=e[n+2],s=e[n+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(c=(15&f)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(u=c)}null===u?(u=65533,h=1):u>65535&&(u-=65536,i.push(u>>>10&1023|55296),u=56320|1023&u),i.push(u),n+=h}return function(e){var t=e.length;if(t<=P)return String.fromCharCode.apply(String,e);var r="",i=0;for(;i<t;)r+=String.fromCharCode.apply(String,e.slice(i,i+=P));return r}(i)}t.kMaxLength=s,f.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),f.TYPED_ARRAY_SUPPORT||void 0===i||"function"!=typeof i.error||i.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}}),f.poolSize=8192,f.from=function(e,t,r){return u(e,t,r)},Object.setPrototypeOf(f.prototype,Uint8Array.prototype),Object.setPrototypeOf(f,Uint8Array),f.alloc=function(e,t,r){return function(e,t,r){return h(e),e<=0?c(e):void 0!==t?"string"==typeof r?c(e).fill(t,r):c(e).fill(t):c(e)}(e,t,r)},f.allocUnsafe=function(e){return p(e)},f.allocUnsafeSlow=function(e){return p(e)},f.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==f.prototype},f.compare=function(e,t){if(_(e,Uint8Array)&&(e=f.from(e,e.offset,e.byteLength)),_(t,Uint8Array)&&(t=f.from(t,t.offset,t.byteLength)),!f.isBuffer(e)||!f.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,i=t.length,n=0,o=Math.min(r,i);n<o;++n)if(e[n]!==t[n]){r=e[n],i=t[n];break}return r<i?-1:i<r?1:0},f.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return f.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var i=f.allocUnsafe(t),n=0;for(r=0;r<e.length;++r){var o=e[r];if(_(o,Uint8Array))n+o.length>i.length?f.from(o).copy(i,n):Uint8Array.prototype.set.call(i,o,n);else{if(!f.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(i,n)}n+=o.length}return i},f.byteLength=g,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)w(this,t,t+1);return this},f.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)w(this,t,t+3),w(this,t+1,t+2);return this},f.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)w(this,t,t+7),w(this,t+1,t+6),w(this,t+2,t+5),w(this,t+3,t+4);return this},f.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?T(this,0,e):y.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(e){if(!f.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===f.compare(this,e)},f.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},a&&(f.prototype[a]=f.prototype.inspect),f.prototype.compare=function(e,t,r,i,n){if(_(e,Uint8Array)&&(e=f.from(e,e.offset,e.byteLength)),!f.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===i&&(i=0),void 0===n&&(n=this.length),t<0||r>e.length||i<0||n>this.length)throw new RangeError("out of range index");if(i>=n&&t>=r)return 0;if(i>=n)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(n>>>=0)-(i>>>=0),a=(r>>>=0)-(t>>>=0),s=Math.min(o,a),c=this.slice(i,n),u=e.slice(t,r),h=0;h<s;++h)if(c[h]!==u[h]){o=c[h],a=u[h];break}return o<a?-1:a<o?1:0},f.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},f.prototype.indexOf=function(e,t,r){return v(this,e,t,r,!0)},f.prototype.lastIndexOf=function(e,t,r){return v(this,e,t,r,!1)},f.prototype.write=function(e,t,r,i){if(void 0===t)i="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)i=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===i&&(i="utf8")):(i=r,r=void 0)}var n=this.length-t;if((void 0===r||r>n)&&(r=n),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return x(this,e,t,r);case"utf8":case"utf-8":return k(this,e,t,r);case"ascii":case"latin1":case"binary":return S(this,e,t,r);case"base64":return E(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var P=4096;function U(e,t,r){var i="";r=Math.min(e.length,r);for(var n=t;n<r;++n)i+=String.fromCharCode(127&e[n]);return i}function I(e,t,r){var i="";r=Math.min(e.length,r);for(var n=t;n<r;++n)i+=String.fromCharCode(e[n]);return i}function C(e,t,r){var i=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>i)&&(r=i);for(var n="",o=t;o<r;++o)n+=G[e[o]];return n}function z(e,t,r){for(var i=e.slice(t,r),n="",o=0;o<i.length-1;o+=2)n+=String.fromCharCode(i[o]+256*i[o+1]);return n}function L(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function O(e,t,r,i,n,o){if(!f.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>n||t<o)throw new RangeError('"value" argument is out of bounds');if(r+i>e.length)throw new RangeError("Index out of range")}function j(e,t,r,i,n,o){if(r+i>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function M(e,t,r,i,n){return t=+t,r>>>=0,n||j(e,0,r,4),o.write(e,t,r,i,23,4),r+4}function R(e,t,r,i,n){return t=+t,r>>>=0,n||j(e,0,r,8),o.write(e,t,r,i,52,8),r+8}f.prototype.slice=function(e,t){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var i=this.subarray(e,t);return Object.setPrototypeOf(i,f.prototype),i},f.prototype.readUintLE=f.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||L(e,t,this.length);for(var i=this[e],n=1,o=0;++o<t&&(n*=256);)i+=this[e+o]*n;return i},f.prototype.readUintBE=f.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||L(e,t,this.length);for(var i=this[e+--t],n=1;t>0&&(n*=256);)i+=this[e+--t]*n;return i},f.prototype.readUint8=f.prototype.readUInt8=function(e,t){return e>>>=0,t||L(e,1,this.length),this[e]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(e,t){return e>>>=0,t||L(e,2,this.length),this[e]|this[e+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(e,t){return e>>>=0,t||L(e,2,this.length),this[e]<<8|this[e+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(e,t){return e>>>=0,t||L(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(e,t){return e>>>=0,t||L(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},f.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||L(e,t,this.length);for(var i=this[e],n=1,o=0;++o<t&&(n*=256);)i+=this[e+o]*n;return i>=(n*=128)&&(i-=Math.pow(2,8*t)),i},f.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||L(e,t,this.length);for(var i=t,n=1,o=this[e+--i];i>0&&(n*=256);)o+=this[e+--i]*n;return o>=(n*=128)&&(o-=Math.pow(2,8*t)),o},f.prototype.readInt8=function(e,t){return e>>>=0,t||L(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},f.prototype.readInt16LE=function(e,t){e>>>=0,t||L(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},f.prototype.readInt16BE=function(e,t){e>>>=0,t||L(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},f.prototype.readInt32LE=function(e,t){return e>>>=0,t||L(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},f.prototype.readInt32BE=function(e,t){return e>>>=0,t||L(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},f.prototype.readFloatLE=function(e,t){return e>>>=0,t||L(e,4,this.length),o.read(this,e,!0,23,4)},f.prototype.readFloatBE=function(e,t){return e>>>=0,t||L(e,4,this.length),o.read(this,e,!1,23,4)},f.prototype.readDoubleLE=function(e,t){return e>>>=0,t||L(e,8,this.length),o.read(this,e,!0,52,8)},f.prototype.readDoubleBE=function(e,t){return e>>>=0,t||L(e,8,this.length),o.read(this,e,!1,52,8)},f.prototype.writeUintLE=f.prototype.writeUIntLE=function(e,t,r,i){(e=+e,t>>>=0,r>>>=0,i)||O(this,e,t,r,Math.pow(2,8*r)-1,0);var n=1,o=0;for(this[t]=255&e;++o<r&&(n*=256);)this[t+o]=e/n&255;return t+r},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(e,t,r,i){(e=+e,t>>>=0,r>>>=0,i)||O(this,e,t,r,Math.pow(2,8*r)-1,0);var n=r-1,o=1;for(this[t+n]=255&e;--n>=0&&(o*=256);)this[t+n]=e/o&255;return t+r},f.prototype.writeUint8=f.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,1,255,0),this[t]=255&e,t+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},f.prototype.writeIntLE=function(e,t,r,i){if(e=+e,t>>>=0,!i){var n=Math.pow(2,8*r-1);O(this,e,t,r,n-1,-n)}var o=0,a=1,s=0;for(this[t]=255&e;++o<r&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},f.prototype.writeIntBE=function(e,t,r,i){if(e=+e,t>>>=0,!i){var n=Math.pow(2,8*r-1);O(this,e,t,r,n-1,-n)}var o=r-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},f.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},f.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},f.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},f.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},f.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},f.prototype.writeFloatLE=function(e,t,r){return M(this,e,t,!0,r)},f.prototype.writeFloatBE=function(e,t,r){return M(this,e,t,!1,r)},f.prototype.writeDoubleLE=function(e,t,r){return R(this,e,t,!0,r)},f.prototype.writeDoubleBE=function(e,t,r){return R(this,e,t,!1,r)},f.prototype.copy=function(e,t,r,i){if(!f.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),i||0===i||(i=this.length),t>=e.length&&(t=e.length),t||(t=0),i>0&&i<r&&(i=r),i===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-r&&(i=e.length-t+r);var n=i-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,i):Uint8Array.prototype.set.call(e,this.subarray(r,i),t),n},f.prototype.fill=function(e,t,r,i){if("string"==typeof e){if("string"==typeof t?(i=t,t=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!f.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(1===e.length){var n=e.charCodeAt(0);("utf8"===i&&n<128||"latin1"===i)&&(e=n)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var a=f.isBuffer(e)?e:f.from(e,i),s=a.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<r-t;++o)this[o+t]=a[o%s]}return this};var q=/[^+/0-9A-Za-z-_]/g;function N(e,t){var r;t=t||1/0;for(var i=e.length,n=null,o=[],a=0;a<i;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!n){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===i){(t-=3)>-1&&o.push(239,191,189);continue}n=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),n=r;continue}r=65536+(n-55296<<10|r-56320)}else n&&(t-=3)>-1&&o.push(239,191,189);if(n=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function F(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(q,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function D(e,t,r,i){for(var n=0;n<i&&!(n+r>=t.length||n>=e.length);++n)t[n+r]=e[n];return n}function _(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function $(e){return e!=e}var G=function(){for(var e="0123456789abcdef",t=new Array(256),r=0;r<16;++r)for(var i=16*r,n=0;n<16;++n)t[i+n]=e[r]+e[n];return t}()},32299:function(e,t,r){"use strict";var i={};r.r(i),r.d(i,{destroy:function(){return f},init:function(){return c}});var n={};r.r(n),r.d(n,{destroy:function(){return y},init:function(){return g}});const o={indirect:-1,direct:0,recursive:1};var a=r(89546),s=r(25108);async function c(e){s.log(`Init with IPFS API at ${e.urlOpts}`);try{const t=(0,a.Ue)(e.urlOpts);return t.nodeType="external",t}catch(e){throw new Error("err init IpfsHttpClient")}}async function f(){s.log("destroy")}var u=r(13963),h=r(5578),p=r(97608);var l=()=>({start:!0,repo:"ipfs-repo-cyber-v2",relay:{enabled:!1,hop:{enabled:!1}},preload:{enabled:!1},config:{API:{HTTPHeaders:{"Access-Control-Allow-Methods":["PUT","POST"],"Access-Control-Allow-Origin":["http://localhost:3000","http://127.0.0.1:5001","http://127.0.0.1:8888","http://localhost:8888"]}},Addresses:{Gateway:"/ip4/127.0.0.1/tcp/8080",Swarm:[],Delegates:[]},Discovery:{MDNS:{Enabled:!0,Interval:10},webRTCStar:{Enabled:!1}},Bootstrap:[],Pubsub:{Enabled:!1},Swarm:{ConnMgr:{HighWater:300,LowWater:50},DisableNatPortMap:!1},Routing:{Type:"dhtclient"}},libp2p:{transports:[(0,h.E)({filter:p.FR})],nat:{enabled:!1}},EXPERIMENTAL:{ipnsPubsub:!1}}),m=r(25108);let d=null;async function g(){if(null!==d)m.log("IPFS already started");else if("undefined"!=typeof window&&window?.ipfs&&window?.ipfs?.enable)m.log("Found window.ipfs"),d=await(window?.ipfs?.enable({commands:["id"]}));else try{m.time("IPFS Started"),d=await(0,u.Ue)(l()),d.nodeType="embedded",m.timeEnd("IPFS Started")}catch(e){throw m.error("IPFS init error:",e),d=null,new Error(`init embedded type ${e}`)}return d}async function y(){m.log("destroy"),d&&(m.log("node",d),await d.stop(),d=null)}var w=r(91026),v=r(41690),b=r(49784),x=(r(58090),r(48764));r(80645);function k(e){return new DataView(e.buffer,e.byteOffset)}const S={len:1,get:(e,t)=>k(e).getUint8(t),put:(e,t,r)=>(k(e).setUint8(t,r),t+1)},E={len:2,get:(e,t)=>k(e).getUint16(t,!0),put:(e,t,r)=>(k(e).setUint16(t,r,!0),t+2)},B={len:2,get:(e,t)=>k(e).getUint16(t),put:(e,t,r)=>(k(e).setUint16(t,r),t+2)},A={len:4,get:(e,t)=>k(e).getUint32(t,!0),put:(e,t,r)=>(k(e).setUint32(t,r,!0),t+4)},T={len:4,get:(e,t)=>k(e).getUint32(t),put:(e,t,r)=>(k(e).setUint32(t,r),t+4)},P={len:4,get:(e,t)=>k(e).getInt32(t),put:(e,t,r)=>(k(e).setInt32(t,r),t+4)},U={len:8,get:(e,t)=>k(e).getBigUint64(t,!0),put:(e,t,r)=>(k(e).setBigUint64(t,r,!0),t+8)};class I{constructor(e,t){this.len=e,this.encoding=t}get(e,t){return x.Buffer.from(e).toString(this.encoding,t,t+this.len)}}class C{constructor(e){this.len=e}static decode(e,t,r){let i="";for(let n=t;n<r;++n)i+=C.codePointToString(C.singleByteDecoder(e[n]));return i}static inRange(e,t,r){return t<=e&&e<=r}static codePointToString(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e)))}static singleByteDecoder(e){if(C.inRange(e,0,127))return e;const t=C.windows1252[e-128];if(null===t)throw Error("invaliding encoding");return t}get(e,t=0){return C.decode(e,t,t+this.len)}}C.windows1252=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255];r(49886);var z=r(32807),L=r(48574);class O extends L.Z{constructor(e,t){super(t),this.uint8Array=e,this.fileInfo.size=this.fileInfo.size?this.fileInfo.size:e.length}async readBuffer(e,t){if(t&&t.position){if(t.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");this.position=t.position}const r=await this.peekBuffer(e,t);return this.position+=r,r}async peekBuffer(e,t){const r=this.normalizeOptions(e,t),i=Math.min(this.uint8Array.length-r.position,r.length);if(!r.mayBeLess&&i<r.length)throw new z.d;return e.set(this.uint8Array.subarray(r.position,r.position+i),r.offset),i}async close(){}}const j={get:(e,t)=>127&e[t+3]|e[t+2]<<7|e[t+1]<<14|e[t]<<21,len:4};var M=r(1900);async function R(e){if(!(e instanceof Uint8Array||e instanceof ArrayBuffer))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof e}\``);const t=e instanceof Uint8Array?e:new Uint8Array(e);var r;if(t?.length>1)return N(new O(t,r))}function q(e,t,r){r={offset:0,...r};for(const[i,n]of t.entries())if(r.mask){if(n!==(r.mask[i]&e[i+r.offset]))return!1}else if(n!==e[i+r.offset])return!1;return!0}async function N(e){try{return(new F).parse(e)}catch(e){if(!(e instanceof z.d))throw e}}class F{check(e,t){return q(this.buffer,e,t)}checkString(e,t){return this.check((r=e,[...r].map((e=>e.charCodeAt(0)))),t);var r}async parse(e){if(this.buffer=x.Buffer.alloc(4100),void 0===e.fileInfo.size&&(e.fileInfo.size=Number.MAX_SAFE_INTEGER),this.tokenizer=e,await e.peekBuffer(this.buffer,{length:12,mayBeLess:!0}),this.check([66,77]))return{ext:"bmp",mime:"image/bmp"};if(this.check([11,119]))return{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"};if(this.check([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(this.check([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if(this.check([37,33]))return await e.peekBuffer(this.buffer,{length:24,mayBeLess:!0}),this.checkString("PS-Adobe-",{offset:2})&&this.checkString(" EPSF-",{offset:14})?{ext:"eps",mime:"application/eps"}:{ext:"ps",mime:"application/postscript"};if(this.check([31,160])||this.check([31,157]))return{ext:"Z",mime:"application/x-compress"};if(this.check([199,113]))return{ext:"cpio",mime:"application/x-cpio"};if(this.check([96,234]))return{ext:"arj",mime:"application/x-arj"};if(this.check([239,187,191]))return this.tokenizer.ignore(3),this.parse(e);if(this.check([71,73,70]))return{ext:"gif",mime:"image/gif"};if(this.check([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(this.check([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(this.check([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(this.checkString("ID3")){await e.ignore(6);const t=await e.readToken(j);return e.position+t>e.fileInfo.size?{ext:"mp3",mime:"audio/mpeg"}:(await e.ignore(t),N(e))}if(this.checkString("MP+"))return{ext:"mpc",mime:"audio/x-musepack"};if((67===this.buffer[0]||70===this.buffer[0])&&this.check([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(this.check([255,216,255]))return this.check([247],{offset:3})?{ext:"jls",mime:"image/jls"}:{ext:"jpg",mime:"image/jpeg"};if(this.checkString("FLIF"))return{ext:"flif",mime:"image/flif"};if(this.checkString("8BPS"))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(this.checkString("WEBP",{offset:8}))return{ext:"webp",mime:"image/webp"};if(this.checkString("MPCK"))return{ext:"mpc",mime:"audio/x-musepack"};if(this.checkString("FORM"))return{ext:"aif",mime:"audio/aiff"};if(this.checkString("icns",{offset:0}))return{ext:"icns",mime:"image/icns"};if(this.check([80,75,3,4])){try{for(;e.position+30<e.fileInfo.size;){await e.readBuffer(this.buffer,{length:30});const r={compressedSize:this.buffer.readUInt32LE(18),uncompressedSize:this.buffer.readUInt32LE(22),filenameLength:this.buffer.readUInt16LE(26),extraFieldLength:this.buffer.readUInt16LE(28)};if(r.filename=await e.readToken(new I(r.filenameLength,"utf-8")),await e.ignore(r.extraFieldLength),"META-INF/mozilla.rsa"===r.filename)return{ext:"xpi",mime:"application/x-xpinstall"};if(r.filename.endsWith(".rels")||r.filename.endsWith(".xml")){switch(r.filename.split("/")[0]){case"_rels":default:break;case"word":return{ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"};case"ppt":return{ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"};case"xl":return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}}}if(r.filename.startsWith("xl/"))return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};if(r.filename.startsWith("3D/")&&r.filename.endsWith(".model"))return{ext:"3mf",mime:"model/3mf"};if("mimetype"===r.filename&&r.compressedSize===r.uncompressedSize){let i=await e.readToken(new I(r.compressedSize,"utf-8"));switch(i=i.trim(),i){case"application/epub+zip":return{ext:"epub",mime:"application/epub+zip"};case"application/vnd.oasis.opendocument.text":return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};case"application/vnd.oasis.opendocument.spreadsheet":return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};case"application/vnd.oasis.opendocument.presentation":return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"}}}if(0===r.compressedSize){let n=-1;for(;n<0&&e.position<e.fileInfo.size;)await e.peekBuffer(this.buffer,{mayBeLess:!0}),n=this.buffer.indexOf("504B0304",0,"hex"),await e.ignore(n>=0?n:this.buffer.length)}else await e.ignore(r.compressedSize)}}catch(o){if(!(o instanceof z.d))throw o}return{ext:"zip",mime:"application/zip"}}if(this.checkString("OggS")){await e.ignore(28);const a=x.Buffer.alloc(8);return await e.readBuffer(a),q(a,[79,112,117,115,72,101,97,100])?{ext:"opus",mime:"audio/opus"}:q(a,[128,116,104,101,111,114,97])?{ext:"ogv",mime:"video/ogg"}:q(a,[1,118,105,100,101,111,0])?{ext:"ogm",mime:"video/ogg"}:q(a,[127,70,76,65,67])?{ext:"oga",mime:"audio/ogg"}:q(a,[83,112,101,101,120,32,32])?{ext:"spx",mime:"audio/ogg"}:q(a,[1,118,111,114,98,105,115])?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"}}if(this.check([80,75])&&(3===this.buffer[2]||5===this.buffer[2]||7===this.buffer[2])&&(4===this.buffer[3]||6===this.buffer[3]||8===this.buffer[3]))return{ext:"zip",mime:"application/zip"};if(this.checkString("ftyp",{offset:4})&&0!=(96&this.buffer[8])){const s=this.buffer.toString("binary",8,12).replace("\0"," ").trim();switch(s){case"avif":case"avis":return{ext:"avif",mime:"image/avif"};case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};case"crx":return{ext:"cr3",mime:"image/x-canon-cr3"};default:return s.startsWith("3g")?s.startsWith("3g2")?{ext:"3g2",mime:"video/3gpp2"}:{ext:"3gp",mime:"video/3gpp"}:{ext:"mp4",mime:"video/mp4"}}}if(this.checkString("MThd"))return{ext:"mid",mime:"audio/midi"};if(this.checkString("wOFF")&&(this.check([0,1,0,0],{offset:4})||this.checkString("OTTO",{offset:4})))return{ext:"woff",mime:"font/woff"};if(this.checkString("wOF2")&&(this.check([0,1,0,0],{offset:4})||this.checkString("OTTO",{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(this.check([212,195,178,161])||this.check([161,178,195,212]))return{ext:"pcap",mime:"application/vnd.tcpdump.pcap"};if(this.checkString("DSD "))return{ext:"dsf",mime:"audio/x-dsf"};if(this.checkString("LZIP"))return{ext:"lz",mime:"application/x-lzip"};if(this.checkString("fLaC"))return{ext:"flac",mime:"audio/x-flac"};if(this.check([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(this.checkString("wvpk"))return{ext:"wv",mime:"audio/wavpack"};if(this.checkString("%PDF")){try{await e.ignore(1350);const c=10485760,f=x.Buffer.alloc(Math.min(c,e.fileInfo.size));if(await e.readBuffer(f,{mayBeLess:!0}),f.includes(x.Buffer.from("AIPrivateData")))return{ext:"ai",mime:"application/postscript"}}catch(u){if(!(u instanceof z.d))throw u}return{ext:"pdf",mime:"application/pdf"}}if(this.check([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(this.check([73,73])){const h=await this.readTiffHeader(!1);if(h)return h}if(this.check([77,77])){const p=await this.readTiffHeader(!0);if(p)return p}if(this.checkString("MAC "))return{ext:"ape",mime:"audio/ape"};if(this.check([26,69,223,163])){async function l(){const t=await e.peekNumber(S);let r=128,i=0;for(;0==(t&r)&&0!==r;)++i,r>>=1;const n=x.Buffer.alloc(i+1);return await e.readBuffer(n),n}async function m(){const e=await l(),t=await l();t[0]^=128>>t.length-1;const r=Math.min(6,t.length);return{id:e.readUIntBE(0,e.length),len:t.readUIntBE(t.length-r,r)}}async function d(t){for(;t>0;){const r=await m();if(17026===r.id){return(await e.readToken(new I(r.len,"utf-8"))).replace(/\00.*$/g,"")}await e.ignore(r.len),--t}}const g=await m();switch(await d(g.len)){case"webm":return{ext:"webm",mime:"video/webm"};case"matroska":return{ext:"mkv",mime:"video/x-matroska"};default:return}}if(this.check([82,73,70,70])){if(this.check([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(this.check([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(this.check([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(this.checkString("SQLi"))return{ext:"sqlite",mime:"application/x-sqlite3"};if(this.check([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(this.checkString("Cr24"))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(this.checkString("MSCF")||this.checkString("ISc("))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(this.check([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(this.check([197,208,211,198]))return{ext:"eps",mime:"application/eps"};if(this.check([40,181,47,253]))return{ext:"zst",mime:"application/zstd"};if(this.check([127,69,76,70]))return{ext:"elf",mime:"application/x-elf"};if(this.check([33,66,68,78]))return{ext:"pst",mime:"application/vnd.ms-outlook"};if(this.checkString("PAR1"))return{ext:"parquet",mime:"application/x-parquet"};if(this.check([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(this.checkString("#!AMR"))return{ext:"amr",mime:"audio/amr"};if(this.checkString("{\\rtf"))return{ext:"rtf",mime:"application/rtf"};if(this.check([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(this.checkString("IMPM"))return{ext:"it",mime:"audio/x-it"};if(this.checkString("-lh0-",{offset:2})||this.checkString("-lh1-",{offset:2})||this.checkString("-lh2-",{offset:2})||this.checkString("-lh3-",{offset:2})||this.checkString("-lh4-",{offset:2})||this.checkString("-lh5-",{offset:2})||this.checkString("-lh6-",{offset:2})||this.checkString("-lh7-",{offset:2})||this.checkString("-lzs-",{offset:2})||this.checkString("-lz4-",{offset:2})||this.checkString("-lz5-",{offset:2})||this.checkString("-lhd-",{offset:2}))return{ext:"lzh",mime:"application/x-lzh-compressed"};if(this.check([0,0,1,186])){if(this.check([33],{offset:4,mask:[241]}))return{ext:"mpg",mime:"video/MP1S"};if(this.check([68],{offset:4,mask:[196]}))return{ext:"mpg",mime:"video/MP2P"}}if(this.checkString("ITSF"))return{ext:"chm",mime:"application/vnd.ms-htmlhelp"};if(this.check([202,254,186,190]))return{ext:"class",mime:"application/java-vm"};if(this.check([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(this.checkString("<?xml "))return{ext:"xml",mime:"application/xml"};if(this.check([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(this.check([82,97,114,33,26,7])&&(0===this.buffer[6]||1===this.buffer[6]))return{ext:"rar",mime:"application/x-rar-compressed"};if(this.checkString("solid "))return{ext:"stl",mime:"model/stl"};if(this.checkString("AC")){const y=this.buffer.toString("binary",2,6);if(y.match("^d*")&&y>=1e3&&y<=1050)return{ext:"dwg",mime:"image/vnd.dwg"}}if(this.checkString("070707"))return{ext:"cpio",mime:"application/x-cpio"};if(this.checkString("BLENDER"))return{ext:"blend",mime:"application/x-blender"};if(this.checkString("!<arch>")){await e.ignore(8);return"debian-binary"===await e.readToken(new I(13,"ascii"))?{ext:"deb",mime:"application/x-deb"}:{ext:"ar",mime:"application/x-unix-archive"}}if(this.checkString("**ACE",{offset:7})&&(await e.peekBuffer(this.buffer,{length:14,mayBeLess:!0}),this.checkString("**",{offset:12})))return{ext:"ace",mime:"application/x-ace-compressed"};if(this.check([137,80,78,71,13,10,26,10])){async function w(){return{length:await e.readToken(P),type:await e.readToken(new I(4,"binary"))}}await e.ignore(8);do{const v=await w();if(v.length<0)return;switch(v.type){case"IDAT":return{ext:"png",mime:"image/png"};case"acTL":return{ext:"apng",mime:"image/apng"};default:await e.ignore(v.length+4)}}while(e.position+8<e.fileInfo.size);return{ext:"png",mime:"image/png"}}if(this.check([65,82,82,79,87,49,0,0]))return{ext:"arrow",mime:"application/x-apache-arrow"};if(this.check([103,108,84,70,2,0,0,0]))return{ext:"glb",mime:"model/gltf-binary"};if(this.check([102,114,101,101],{offset:4})||this.check([109,100,97,116],{offset:4})||this.check([109,111,111,118],{offset:4})||this.check([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(this.check([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(this.checkString("gimp xcf "))return{ext:"xcf",mime:"image/x-xcf"};if(this.check([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if(this.check([48,38,178,117,142,102,207,17,166,217])){async function b(){const t=x.Buffer.alloc(16);return await e.readBuffer(t),{id:t,size:Number(await e.readToken(U))}}for(await e.ignore(30);e.position+24<e.fileInfo.size;){const k=await b();let E=k.size-24;if(q(k.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){const B=x.Buffer.alloc(16);if(E-=await e.readBuffer(B),q(B,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"audio/x-ms-asf"};if(q(B,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"video/x-ms-asf"};break}await e.ignore(E)}return{ext:"asf",mime:"application/vnd.ms-asf"}}if(this.check([171,75,84,88,32,49,49,187,13,10,26,10]))return{ext:"ktx",mime:"image/ktx"};if((this.check([126,16,4])||this.check([126,24,4]))&&this.check([48,77,73,69],{offset:4}))return{ext:"mie",mime:"application/x-mie"};if(this.check([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2}))return{ext:"shp",mime:"application/x-esri-shape"};if(this.check([255,79,255,81]))return{ext:"j2c",mime:"image/j2c"};if(this.check([0,0,0,12,106,80,32,32,13,10,135,10])){await e.ignore(20);switch(await e.readToken(new I(4,"ascii"))){case"jp2 ":return{ext:"jp2",mime:"image/jp2"};case"jpx ":return{ext:"jpx",mime:"image/jpx"};case"jpm ":return{ext:"jpm",mime:"image/jpm"};case"mjp2":return{ext:"mj2",mime:"image/mj2"};default:return}}if(this.check([255,10])||this.check([0,0,0,12,74,88,76,32,13,10,135,10]))return{ext:"jxl",mime:"image/jxl"};if(this.check([254,255]))return this.check([0,60,0,63,0,120,0,109,0,108],{offset:2})?{ext:"xml",mime:"application/xml"}:void 0;if(this.check([0,0,1,186])||this.check([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(this.check([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(this.check([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(this.check([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(this.check([208,207,17,224,161,177,26,225]))return{ext:"cfb",mime:"application/x-cfb"};if(await e.peekBuffer(this.buffer,{length:Math.min(256,e.fileInfo.size),mayBeLess:!0}),this.checkString("BEGIN:")){if(this.checkString("VCARD",{offset:6}))return{ext:"vcf",mime:"text/vcard"};if(this.checkString("VCALENDAR",{offset:6}))return{ext:"ics",mime:"text/calendar"}}if(this.checkString("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(this.checkString("Extended Module:"))return{ext:"xm",mime:"audio/x-xm"};if(this.checkString("Creative Voice File"))return{ext:"voc",mime:"audio/x-voc"};if(this.check([4,0,0,0])&&this.buffer.length>=16){const A=this.buffer.readUInt32LE(12);if(A>12&&this.buffer.length>=A+16)try{const T=this.buffer.slice(16,A+16).toString();if(JSON.parse(T).files)return{ext:"asar",mime:"application/x-asar"}}catch{}}if(this.check([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(this.checkString("SCRM",{offset:44}))return{ext:"s3m",mime:"audio/x-s3m"};if(this.check([71])&&this.check([71],{offset:188}))return{ext:"mts",mime:"video/mp2t"};if(this.check([71],{offset:4})&&this.check([71],{offset:196}))return{ext:"mts",mime:"video/mp2t"};if(this.check([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(this.check([68,73,67,77],{offset:128}))return{ext:"dcm",mime:"application/dicom"};if(this.check([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70]))return{ext:"lnk",mime:"application/x.ms.shortcut"};if(this.check([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0]))return{ext:"alias",mime:"application/x.apple.alias"};if(this.check([76,80],{offset:34})&&(this.check([0,0,1],{offset:8})||this.check([1,0,2],{offset:8})||this.check([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(this.check([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29]))return{ext:"indd",mime:"application/x-indesign"};if(await e.peekBuffer(this.buffer,{length:Math.min(512,e.fileInfo.size),mayBeLess:!0}),function(e,t=0){const r=Number.parseInt(e.toString("utf8",148,154).replace(/\0.*$/,"").trim(),8);if(Number.isNaN(r))return!1;let i=256;for(let r=t;r<t+148;r++)i+=e[r];for(let r=t+156;r<t+512;r++)i+=e[r];return r===i}(this.buffer))return{ext:"tar",mime:"application/x-tar"};if(this.check([255,254]))return this.check([60,0,63,0,120,0,109,0,108,0],{offset:2})?{ext:"xml",mime:"application/xml"}:this.check([255,14,83,0,107,0,101,0,116,0,99,0,104,0,85,0,112,0,32,0,77,0,111,0,100,0,101,0,108,0],{offset:2})?{ext:"skp",mime:"application/vnd.sketchup.skp"}:void 0;if(this.checkString("-----BEGIN PGP MESSAGE-----"))return{ext:"pgp",mime:"application/pgp-encrypted"};if(this.buffer.length>=2&&this.check([255,224],{offset:0,mask:[255,224]})){if(this.check([16],{offset:1,mask:[22]}))return this.check([8],{offset:1,mask:[8]}),{ext:"aac",mime:"audio/aac"};if(this.check([2],{offset:1,mask:[6]}))return{ext:"mp3",mime:"audio/mpeg"};if(this.check([4],{offset:1,mask:[6]}))return{ext:"mp2",mime:"audio/mpeg"};if(this.check([6],{offset:1,mask:[6]}))return{ext:"mp1",mime:"audio/mpeg"}}}async readTiffTag(e){const t=await this.tokenizer.readToken(e?B:E);switch(this.tokenizer.ignore(10),t){case 50341:return{ext:"arw",mime:"image/x-sony-arw"};case 50706:return{ext:"dng",mime:"image/x-adobe-dng"}}}async readTiffIFD(e){const t=await this.tokenizer.readToken(e?B:E);for(let r=0;r<t;++r){const t=await this.readTiffTag(e);if(t)return t}}async readTiffHeader(e){const t=(e?B:E).get(this.buffer,2),r=(e?T:A).get(this.buffer,4);if(42===t){if(r>=6){if(this.checkString("CR",{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(r>=8&&(this.check([28,0,254,0],{offset:8})||this.check([31,0,11,0],{offset:8})))return{ext:"nef",mime:"image/x-nikon-nef"}}await this.tokenizer.ignore(r);return await this.readTiffIFD(e)??{ext:"tif",mime:"image/tiff"}}if(43===t)return{ext:"tif",mime:"image/tiff"}}}new Set(M.R),new Set(M.a);r(25108);const D=async e=>{if(!e)return"unknown";const t=await R(e);return t?.mime||"text/plain"};const _=new(r(39387).ZP)("cyber-page-cash");_.version(3).stores({cid:"cid",following:"cid"});var $=_;r(25108);var G=r(86107);r(25108);new G.vu("https://io.cybernode.ai");r(41487),r(23085).lW,r(25108);var H=r(25108);const W="https://gateway.ipfs.cybernode.ai",Y=(e,t)=>e&&t&&"text/plain"===t?(0,b.B)(e).slice(0,150):void 0,Z=async e=>{const t=await(async e=>{const t=await $.table("cid").get({cid:e});return t?.data||t?.content})(e);if(t&&t.length){const r=await D(t),i=Y(t,r);return{result:t,cid:e,meta:{type:"file",size:t.length,sizeLocal:t.length,mime:r},source:"db",textPreview:i}}},V={type:"file",size:-1,local:void 0,sizeLocal:-1},Q=async(e,t,r)=>{if(e){const i=`/ipfs/${t}`,{type:n,size:o,sizeLocal:a,local:s,blocks:c}=await e.files.stat(i,{signal:r,withLocal:!0,size:!0});return{type:n,size:o||-1,sizeLocal:a||-1,local:s,blocks:c}}return V},X=async(e,t,r)=>{const i=r||new AbortController,{signal:n}=i;let o;if(!e)return void H.log("--------fetchIPFSContentFromNode NO NODE INTIALIZED--------");r||(o=setTimeout((()=>{i.abort()}),6e4));const a=`/ipfs/${t}`;try{const r=Date.now(),i=await Q(e,t,n),s=Date.now();i.statsTime=s-r;const c=i.size<2e7;if(o&&clearTimeout(o),"directory"===i.type)return{cid:t,availableDownload:!0,source:"node",meta:i};{const{value:r,done:o}=await e.cat(a,{signal:n,length:2048,offset:0})[Symbol.asyncIterator]().next(),f=await D(r),u=i.size>-1&&r.length>=i.size,h=Y(r,f),p=u?r:c?e.cat(a,{signal:n}):void 0;return i.catTime=Date.now()-s,!i.local&&c?(e.pin.add(t),i.pinTime=Date.now()-i.catTime):i.pinTime=-1,{result:p,textPreview:h,cid:t,meta:{...i,mime:f},source:"node"}}}catch(e){return H.log("error fetch stat",e),{cid:t,availableDownload:!0,source:"node",meta:V}}},J=async(e,t,r)=>{const i="external"===e?.nodeType,n=i?await Q(e,t,r?.signal):V,o=`${W}/ipfs/${t}`,a=await fetch(o,{method:"GET",signal:r?.signal});if(a&&a.body){const e=(e,r)=>i?Promise.resolve():(async(e,t)=>{if(!await $.table("cid").get({cid:e})){const r={cid:e,data:t};$.table("cid").add(r)}})(t,(0,v.z)(e)),{mime:r,result:s,firstChunk:c}=await async function(e,t){const[r,i]=e.tee(),n=[],o=r.getReader(),{value:a}=await o.read(),s=a?await D(a):void 0,c=new ReadableStream({async pull(e){const r=i.getReader(),{done:o,value:a}=await r.read();o?(e.close(),t&&t(n,s)):(e.enqueue(a),t&&n.push(a)),r.releaseLock()},cancel(){r.cancel(),i.cancel()}});return{mime:s,result:c,firstChunk:a}}(a.body,e),f=Y(c,r);return{cid:t,textPreview:f,meta:{...n,mime:r},result:s,source:"gateway",contentUrl:o}}};const K=async(e,t,r,i)=>{const n=await Z(t);if(void 0!==n)return n;if(e){i&&i("trying to get with a node");return await X(e,t,r)}i&&i("trying to get with a gatway");return await J(e,t,r)},ee=async(e,t)=>{if(!e)return;const r="embedded"===e.nodeType?"/dns4/swarm.io.cybernode.ai/tcp/443/wss/p2p/QmUgmRxoLtGERot7Y6G7UyF6fwvnusQZfGR15PuE6pY3aB":"/ip4/88.99.105.146/tcp/4001/p2p/QmUgmRxoLtGERot7Y6G7UyF6fwvnusQZfGR15PuE6pY3aB",i=await e.swarm.peers();Date.now()-t<e.connMgrGracePeriod||i.find((e=>"QmUgmRxoLtGERot7Y6G7UyF6fwvnusQZfGR15PuE6pY3aB"===e.peer.toString()))||await(async(e,t)=>{const r=(0,w.HM)(t);await e.bootstrap.add(r),e?.swarm.connect(r).then((e=>{H.log(`Welcome to swarm ${t} ðŸðŸðŸ`)})).catch((e=>{H.log("Error object properties:",Object.getOwnPropertyNames(e),e.stack,e.errors,e.message),H.log(`Can't connect to swarm ${t}: ${e.message}`)}))})(e,r)},te=async e=>{try{return function(e){if("number"==typeof e)return e;const t=parseFloat(e),r=e.replace(t.toString(),"").trim().toLowerCase();switch(r){case"ms":case"":return t;case"s":return 1e3*t;case"m":return 60*t*1e3;case"h":return 60*t*60*1e3;case"d":return 24*t*60*60*1e3;default:throw new Error(`Invalid time unit: ${r}`)}}(await e.config.get("Swarm.ConnMgr.GracePeriod",{timeout:3e3})||1e4)}catch{return 1e4}};var re=r(25108);let ie;var ne=class{constructor(e){this.channel=new BroadcastChannel("cyb-broadcast-channel"),e&&(this.channel.onmessage=t=>e(t))}post(e){this.channel.postMessage(e)}};async function oe(e,t,r=10){let i=[];for await(const n of e)i.push(n),i.length===r&&(await t(i),i=[])}const ae=e=>{const{cid:t,result:r,meta:i,textPreview:n}=e,{size:o,mime:a,type:s,blocks:c,sizeLocal:f}=i;return{cid:t,size:o,mime:a||"unknown",type:s,text:n?.replace(/"/g,"'")||"",sizeLocal:f||-1,blocks:c||0}},se=e=>({cid:e.cid.toString(),type:o[e.type]}),ce=e=>{const{transaction_hash:t,transaction:r,type:i,value:n}=e;return{hash:t,type:i,timestamp:new Date(r.block.timestamp).getTime(),value:JSON.stringify(n),success:r.success}};var fe=r(25108);const ue=async(e,t)=>{try{const r=ae(e);return(await t.executePutCommand("particle",[r])).ok}catch(e){return fe.error("importParicleContent",e),!1}};var he=r(2157),pe=r(21858),le=r(73112),me=r(17933),de=r(28688),ge=r(24518),ye=r(74077),we=r.t(ye,2);r(3050);const ve=e=>{let t={};return e&&("undefined"!=typeof Headers&&e instanceof Headers||we&&ye.Headers&&e instanceof ye.Headers?t=(0,le.L)(e):Array.isArray(e)?e.forEach((([e,r])=>{e&&void 0!==r&&(t[e]=r)})):t=e),t},be=e=>e.replace(/([\s,]|#[^\n\r]+)+/g," ").trim(),xe=e=>async t=>{const{url:r,query:i,variables:n,operationName:o,fetch:a,fetchOptions:s,middleware:c}=t,f={...t.headers};let u,h="";"POST"===e?(u=(0,he.Z)(i,n,o,s.jsonSerializer),"string"==typeof u&&(f["Content-Type"]="application/json")):h=(e=>{if(!Array.isArray(e.query)){const t=e,r=[`query=${encodeURIComponent(be(t.query))}`];return e.variables&&r.push(`variables=${encodeURIComponent(t.jsonSerializer.stringify(t.variables))}`),t.operationName&&r.push(`operationName=${encodeURIComponent(t.operationName)}`),r.join("&")}if(void 0!==e.variables&&!Array.isArray(e.variables))throw new Error("Cannot create query with given variable type, array expected");const t=e,r=e.query.reduce(((e,r,i)=>(e.push({query:be(r),variables:t.variables?t.jsonSerializer.stringify(t.variables[i]):void 0}),e)),[]);return`query=${encodeURIComponent(t.jsonSerializer.stringify(r))}`})({query:i,variables:n,operationName:o,jsonSerializer:s.jsonSerializer??pe.n});const p={method:e,headers:f,body:u,...s};let l=r,m=p;if(c){const e=await Promise.resolve(c({...p,url:r,operationName:o,variables:n})),{url:t,...i}=e;l=t,m=i}return h&&(l=`${l}?${h}`),await a(l,m)};class ke{constructor(e,t={}){this.url=e,this.requestConfig=t,this.rawRequest=async(...e)=>{const[t,r,i]=e,n=(0,me.N$)(t,r,i),{headers:o,fetch:a=ye,method:s="POST",requestMiddleware:c,responseMiddleware:f,...u}=this.requestConfig,{url:h}=this;void 0!==n.signal&&(u.signal=n.signal);const{operationName:p}=(0,de.h)(n.query);return Se({url:h,query:n.query,variables:n.variables,headers:{...ve(Ae(o)),...ve(n.requestHeaders)},operationName:p,fetch:a,method:s,fetchOptions:u,middleware:c}).then((e=>(f&&f(e),e))).catch((e=>{throw f&&f(e),e}))}}async request(e,...t){const[r,i]=t,n=(0,me.ZO)(e,r,i),{headers:o,fetch:a=ye,method:s="POST",requestMiddleware:c,responseMiddleware:f,...u}=this.requestConfig,{url:h}=this;void 0!==n.signal&&(u.signal=n.signal);const{query:p,operationName:l}=(0,de.h)(n.document);return Se({url:h,query:p,variables:n.variables,headers:{...ve(Ae(o)),...ve(n.requestHeaders)},operationName:l,fetch:a,method:s,fetchOptions:u,middleware:c}).then((e=>(f&&f(e),e.data))).catch((e=>{throw f&&f(e),e}))}batchRequests(e,t){const r=(0,me.HU)(e,t),{headers:i,...n}=this.requestConfig;void 0!==r.signal&&(n.signal=r.signal);const o=r.documents.map((({document:e})=>(0,de.h)(e).query)),a=r.documents.map((({variables:e})=>e));return Se({url:this.url,query:o,variables:a,headers:{...ve(Ae(i)),...ve(r.requestHeaders)},operationName:void 0,fetch:this.requestConfig.fetch??ye,method:this.requestConfig.method||"POST",fetchOptions:n,middleware:this.requestConfig.requestMiddleware}).then((e=>(this.requestConfig.responseMiddleware&&this.requestConfig.responseMiddleware(e),e.data))).catch((e=>{throw this.requestConfig.responseMiddleware&&this.requestConfig.responseMiddleware(e),e}))}setHeaders(e){return this.requestConfig.headers=e,this}setHeader(e,t){const{headers:r}=this.requestConfig;return r?r[e]=t:this.requestConfig.headers={[e]:t},this}setEndpoint(e){return this.url=e,this}}const Se=async e=>{const{query:t,variables:r,fetchOptions:i}=e,n=xe((0,le.P)(e.method??"post")),o=Array.isArray(e.query),a=await n(e),s=await Be(a,i.jsonSerializer??pe.n),c=Array.isArray(s)?!s.some((({data:e})=>!e)):Boolean(s.data),f=Array.isArray(s)||!s.errors||Array.isArray(s.errors)&&!s.errors.length||"all"===i.errorPolicy||"ignore"===i.errorPolicy;if(a.ok&&f&&c){const{errors:e,...t}=(Array.isArray(s),s),r="ignore"===i.errorPolicy?t:s;return{...o?{data:r}:r,headers:a.headers,status:a.status}}{const e="string"==typeof s?{error:s}:s;throw new ge.X({...e,status:a.status,headers:a.headers},{query:t,variables:r})}};async function Ee(e,t,...r){const i=(0,me.Gr)(e,t,...r);return new ke(i.url).request({...i})}const Be=async(e,t)=>{let r;return e.headers.forEach(((e,t)=>{"content-type"===t.toLowerCase()&&(r=e)})),r&&(r.toLowerCase().startsWith("application/json")||r.toLowerCase().startsWith("application/graphql+json")||r.toLowerCase().startsWith("application/graphql-response+json"))?t.parse(await e.text()):e.text()},Ae=e=>"function"==typeof e?e():e;var Te=r(31230),Pe=r(25108);const Ue=(0,Te.ZP)('\n  query MyQuery($address: _text, $limit: bigint, $offset: bigint) {\n  messages_by_address(args: {addresses: $address, limit: $limit, offset: $offset, types: "{}"},\n    order_by: {transaction: {block: {height: desc}}}) {\n    transaction_hash\n    value\n    transaction {\n      success\n      block {\n        timestamp\n      }\n    }\n    type\n  }\n}\n'),Ie=async(e,t,r=0)=>(await Ee(t,Ue,{address:`{${e}}`,limit:"100",offset:r})).messages_by_address;const Ce=async(e,t,r,i,n)=>{Pe.log("---importTransactions");let o=0;const a=async function*(e,t){let r=0;for(;;){const i=await Ie(e,t,r);if(0===i.length)break;const n=i.map((e=>ce(e)));yield n,r+=n.length}}(t,r);for await(const t of a)o+=t.length,await e.executeBatchPutCommand("transaction",t,t.length),i&&i(o);n&&n(o)};var ze=r(25108);var Le=r(25108);const Oe=Symbol("Comlink.proxy"),je=Symbol("Comlink.endpoint"),Me=Symbol("Comlink.releaseProxy"),Re=Symbol("Comlink.finalizer"),qe=Symbol("Comlink.thrown"),Ne=e=>"object"==typeof e&&null!==e||"function"==typeof e,Fe=new Map([["proxy",{canHandle:e=>Ne(e)&&e[Oe],serialize(e){const{port1:t,port2:r}=new MessageChannel;return De(e,t),[r,[r]]},deserialize(e){return e.start(),Ye(e,[],t);var t}}],["throw",{canHandle:e=>Ne(e)&&qe in e,serialize({value:e}){let t;return t=e instanceof Error?{isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:{isError:!1,value:e},[t,[]]},deserialize(e){if(e.isError)throw Object.assign(new Error(e.value.message),e.value);throw e.value}}]]);function De(e,t=globalThis,r=["*"]){t.addEventListener("message",(function i(n){if(!n||!n.data)return;if(!function(e,t){for(const r of e){if(t===r||"*"===r)return!0;if(r instanceof RegExp&&r.test(t))return!0}return!1}(r,n.origin))return void Le.warn(`Invalid origin '${n.origin}' for comlink proxy`);const{id:o,type:a,path:s}=Object.assign({path:[]},n.data),c=(n.data.argumentList||[]).map(Xe);let f;try{const t=s.slice(0,-1).reduce(((e,t)=>e[t]),e),r=s.reduce(((e,t)=>e[t]),e);switch(a){case"GET":f=r;break;case"SET":t[s.slice(-1)[0]]=Xe(n.data.value),f=!0;break;case"APPLY":f=r.apply(t,c);break;case"CONSTRUCT":f=function(e){return Object.assign(e,{[Oe]:!0})}(new r(...c));break;case"ENDPOINT":{const{port1:t,port2:r}=new MessageChannel;De(e,r),f=function(e,t){return Ve.set(e,t),e}(t,[t])}break;case"RELEASE":f=void 0;break;default:return}}catch(e){f={value:e,[qe]:0}}Promise.resolve(f).catch((e=>({value:e,[qe]:0}))).then((r=>{const[n,s]=Qe(r);t.postMessage(Object.assign(Object.assign({},n),{id:o}),s),"RELEASE"===a&&(t.removeEventListener("message",i),_e(t),Re in e&&"function"==typeof e[Re]&&e[Re]())})).catch((e=>{const[r,i]=Qe({value:new TypeError("Unserializable return value"),[qe]:0});t.postMessage(Object.assign(Object.assign({},r),{id:o}),i)}))})),t.start&&t.start()}function _e(e){(function(e){return"MessagePort"===e.constructor.name})(e)&&e.close()}function $e(e){if(e)throw new Error("Proxy has been released and is not useable")}function Ge(e){return Je(e,{type:"RELEASE"}).then((()=>{_e(e)}))}const He=new WeakMap,We="FinalizationRegistry"in globalThis&&new FinalizationRegistry((e=>{const t=(He.get(e)||0)-1;He.set(e,t),0===t&&Ge(e)}));function Ye(e,t=[],r=function(){}){let i=!1;const n=new Proxy(r,{get(r,o){if($e(i),o===Me)return()=>{!function(e){We&&We.unregister(e)}(n),Ge(e),i=!0};if("then"===o){if(0===t.length)return{then:()=>n};const r=Je(e,{type:"GET",path:t.map((e=>e.toString()))}).then(Xe);return r.then.bind(r)}return Ye(e,[...t,o])},set(r,n,o){$e(i);const[a,s]=Qe(o);return Je(e,{type:"SET",path:[...t,n].map((e=>e.toString())),value:a},s).then(Xe)},apply(r,n,o){$e(i);const a=t[t.length-1];if(a===je)return Je(e,{type:"ENDPOINT"}).then(Xe);if("bind"===a)return Ye(e,t.slice(0,-1));const[s,c]=Ze(o);return Je(e,{type:"APPLY",path:t.map((e=>e.toString())),argumentList:s},c).then(Xe)},construct(r,n){$e(i);const[o,a]=Ze(n);return Je(e,{type:"CONSTRUCT",path:t.map((e=>e.toString())),argumentList:o},a).then(Xe)}});return function(e,t){const r=(He.get(t)||0)+1;He.set(t,r),We&&We.register(e,t,e)}(n,e),n}function Ze(e){const t=e.map(Qe);return[t.map((e=>e[0])),(r=t.map((e=>e[1])),Array.prototype.concat.apply([],r))];var r}const Ve=new WeakMap;function Qe(e){for(const[t,r]of Fe)if(r.canHandle(e)){const[i,n]=r.serialize(e);return[{type:"HANDLER",name:t,value:i},n]}return[{type:"RAW",value:e},Ve.get(e)||[]]}function Xe(e){switch(e.type){case"HANDLER":return Fe.get(e.name).deserialize(e.value);case"RAW":return e.value}}function Je(e,t,r){return new Promise((i=>{const n=new Array(4).fill(0).map((()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16))).join("-");e.addEventListener("message",(function t(r){r.data&&r.data.id&&r.data.id===n&&(e.removeEventListener("message",t),i(r.data))})),e.start&&e.start(),e.postMessage(Object.assign({id:n},t),r)}))}r(34155);var Ke=r(25108);const et=(()=>{let e,t;Ke.log("----backendApi worker constructor!");const r=new ne,a=(e,t)=>r.post({type:"worker_status",value:{status:e,lastError:t}}),s=(e,t)=>r.post({type:"sync_entry",value:{entry:e,state:t}});return{init:async(r,o)=>{Ke.log("----backendApi worker init! "),t=o,e=await async function(e){let t;switch(e.ipfsNodeType){case"embedded":t=n;break;case"external":t=i;break;default:throw new Error(`Unsupported ipfsNodeType: ${e.ipfsNodeType}`)}const r=await t.init(e);return r.connMgrGracePeriod=await te(r),r.libp2p&&(r.libp2p.addEventListener("peer:connect",(e=>{re.debug(`Connected to ${e.detail.remotePeer.toString()}`)})),r.libp2p.addEventListener("peer:disconnect",(e=>{re.debug(`Disconnected from ${e.detail.remotePeer.toString()}`)}))),await ee(r),ie=t,r}(r),a("idle")},syncDrive:async(r,i)=>{["transaction","pin","particle"].forEach((e=>s(e,{progress:0,done:!1,error:void 0})));try{if(!r)return void a("error","Wallet is not connected");if(!e)return void a("error","IPFS node is not initialized");if(!t)return void a("error","CozoDb is not initialized");a("syncing");const n=async()=>{Ke.log("-----import ipfs"),await(async(e,t,r,i)=>{let n=0;await oe(e.pin.ls({type:"recursive"}),(async e=>{const i=e.map(se);n+=e.length,await t.executeBatchPutCommand("pin",i,e.length),r&&r(n)}),10),i&&i(n)})(e,t,(async e=>s("pin",{progress:e})),(async()=>s("pin",{done:!0})));const r=await t.executeGetCommand("pin",[`type = ${o.recursive}`],["cid"]);if(Ke.log("-----import ipfs pinsData",r),!1===r.ok)return void a("error",r.message);const i=r.rows.map((e=>e[0]));await(async(e,t,r,i,n)=>{let o=0;await oe(async function*(e){for(const t of e)yield t}(t),(async t=>{const n=(await Promise.all(t.map((t=>K(e,t))))).filter((e=>!!e)).map((e=>ae(e)));o+=n.length,await r.executeBatchPutCommand("particle",n,n.length),i&&i(o)}),10),n&&n(o)})(e,i,t,(async e=>s("particle",{progress:e})),(async()=>s("particle",{done:!0}))),Ke.log("-----import ipfs done")},c=Ce(t,r,i,(async e=>s("transaction",{progress:e})),(async e=>s("transaction",{done:!0}))),f=n();await Promise.all([c,f]),a("idle")}catch(e){Ke.error("syncDrive",e),a("error",e.toString())}},importParicleContent:async e=>ue(e,t),importCyberlinks:async e=>(async(e,t)=>{try{await t.executeBatchPutCommand("link",e.map((e=>({...e,neuron_address:""}))),100)}catch(e){ze.error("importCyberlinks",e)}})(e,t),importParticle:async r=>(async(e,t,r)=>K(t,e).then((e=>!!e&&ue(e,r))))(r,e,t)}})();var tt,rt;tt=self,rt=et,void 0!==tt.onconnect?tt.onconnect=e=>De(rt,e.ports[0]):De(rt)},41487:function(e,t,r){"use strict";const{XMLParser:i,XMLValidator:n}=r(16932),o=e=>{if(null==e)return!1;if(0===(e=e.toString().trim()).length)return!1;if(!0!==n.validate(e))return!1;let t;const r=new i;try{t=r.parse(e)}catch(e){return!1}return!!t&&"svg"in t};e.exports=o,e.exports.default=o},70655:function(e,t,r){"use strict";r.d(t,{pi:function(){return i}});var i=function(){return i=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},i.apply(this,arguments)};Object.create;Object.create},7420:function(){},95856:function(){},35883:function(){},52596:function(){},63897:function(){},85104:function(){},25819:function(){},81265:function(){},35539:function(){},99283:function(){},43838:function(){}},o={};function a(e){var t=o[e];if(void 0!==t)return t.exports;var r=o[e]={exports:{}};return n[e].call(r.exports,r,r.exports,a),r.exports}a.m=n,a.x=function(){var e=a.O(void 0,[525,607],(function(){return a(32299)}));return e=a.O(e)},e=[],a.O=function(t,r,i,n){if(!r){var o=1/0;for(u=0;u<e.length;u++){r=e[u][0],i=e[u][1],n=e[u][2];for(var s=!0,c=0;c<r.length;c++)(!1&n||o>=n)&&Object.keys(a.O).every((function(e){return a.O[e](r[c])}))?r.splice(c--,1):(s=!1,n<o&&(o=n));if(s){e.splice(u--,1);var f=i();void 0!==f&&(t=f)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[r,i,n]},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,{a:t}),t},r=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},a.t=function(e,i){if(1&i&&(e=this(e)),8&i)return e;if("object"==typeof e&&e){if(4&i&&e.__esModule)return e;if(16&i&&"function"==typeof e.then)return e}var n=Object.create(null);a.r(n);var o={};t=t||[null,r({}),r([]),r(r)];for(var s=2&i&&e;"object"==typeof s&&!~t.indexOf(s);s=r(s))Object.getOwnPropertyNames(s).forEach((function(t){o[t]=function(){return e[t]}}));return o.default=function(){return e},a.d(n,o),n},a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(t,r){return a.f[r](e,t),t}),[]))},a.u=function(e){return 827===e?"827.faf9b24a.chunk.js":e+"."+{525:"10009588",607:"aa698d38"}[e]+".js"},a.miniCssF=function(e){},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.p="/",function(){var e={285:1};a.f.i=function(t,r){e[t]||importScripts(a.p+a.u(t))};var t=self.webpackChunkcyb=self.webpackChunkcyb||[],r=t.push.bind(t);t.push=function(t){var i=t[0],n=t[1],o=t[2];for(var s in n)a.o(n,s)&&(a.m[s]=n[s]);for(o&&o(a);i.length;)e[i.pop()]=1;r(t)}}(),i=a.x,a.x=function(){return Promise.all([a.e(525),a.e(607)]).then(i)};a.x()}();
//# sourceMappingURL=285.35065711.chunk.js.map