{"version":3,"file":"748.2250a551.chunk.js","mappings":"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","sources":["webpack://cyb/./node_modules/@assemblyscript/loader/index.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/protobufjs/minimal.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/protobufjs/src/index-minimal.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/protobufjs/src/reader.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/protobufjs/src/reader_buffer.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/protobufjs/src/roots.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/protobufjs/src/rpc.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/protobufjs/src/rpc/service.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/protobufjs/src/util/longbits.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/protobufjs/src/util/minimal.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/protobufjs/src/writer.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/protobufjs/src/writer_buffer.js","webpack://cyb/./node_modules/@cosmjs/crypto/build/index.js","webpack://cyb/./node_modules/@cosmjs/encoding/build/index.js","webpack://cyb/./node_modules/@cosmjs/math/build/index.js","webpack://cyb/./node_modules/@cosmjs/proto-signing/build/index.js","webpack://cyb/./node_modules/@cosmjs/stargate/build/index.js","webpack://cyb/./node_modules/@cosmjs/stargate/build/logs.js","webpack://cyb/./node_modules/@cosmjs/tendermint-rpc/build/index.js","webpack://cyb/./node_modules/@cybercongress/cyber-js/build/index.js","webpack://cyb/./node_modules/@cybercongress/cyber-ts/cosmos/tx/v1beta1/service.js","webpack://cyb/./node_modules/@cybercongress/cyber-ts/cyber/liquidity/v1beta1/tx.js","webpack://cyb/./node_modules/@cybercongress/cyber-ts/node_modules/@cosmjs/math/build/index.js","webpack://cyb/./node_modules/abstract-level/abstract-chained-batch.js","webpack://cyb/./node_modules/abstract-level/abstract-iterator.js","webpack://cyb/./node_modules/abstract-level/abstract-level.js","webpack://cyb/./node_modules/abstract-level/index.js","webpack://cyb/./node_modules/abstract-level/lib/abstract-sublevel-iterator.js","webpack://cyb/./node_modules/abstract-level/lib/abstract-sublevel.js","webpack://cyb/./node_modules/abstract-level/lib/common.js","webpack://cyb/./node_modules/abstract-level/lib/default-chained-batch.js","webpack://cyb/./node_modules/abstract-level/lib/default-kv-iterator.js","webpack://cyb/./node_modules/abstract-level/lib/deferred-iterator.js","webpack://cyb/./node_modules/abstract-level/lib/next-tick-browser.js","webpack://cyb/./node_modules/abstract-level/lib/range-options.js","webpack://cyb/./node_modules/abstract-level/node_modules/buffer/index.js","webpack://cyb/./node_modules/any-signal/index.js","webpack://cyb/./node_modules/bech32/index.js","webpack://cyb/./node_modules/bignumber.js/bignumber.mjs","webpack://cyb/./node_modules/browser-level/index.js","webpack://cyb/./node_modules/browser-level/iterator.js","webpack://cyb/./node_modules/browser-level/util/clear.js","webpack://cyb/./node_modules/browser-level/util/deserialize.js","webpack://cyb/./node_modules/browser-level/util/key-range.js","webpack://cyb/./node_modules/buffer/index.js","webpack://cyb/./node_modules/bytes/index.js","webpack://cyb/./node_modules/catering/index.js","webpack://cyb/./node_modules/catering/next-tick-browser.js","webpack://cyb/./node_modules/comlink/dist/esm/comlink.mjs","webpack://cyb/./node_modules/cosmjs-types/cosmos/gov/v1beta1/gov.js","webpack://cyb/./node_modules/cosmjs-types/cosmos/staking/v1beta1/staking.js","webpack://cyb/./node_modules/cosmjs-types/cosmos/tx/v1beta1/service.js","webpack://cyb/./node_modules/cosmjs-types/ibc/core/channel/v1/channel.js","webpack://cyb/./node_modules/cross-fetch/dist/browser-ponyfill.js","webpack://cyb/./node_modules/cyb-rune-wasm/cyb_rune_wasm.js","webpack://cyb/./node_modules/dateformat/lib/dateformat.js","webpack://cyb/./node_modules/debug/node_modules/ms/index.js","webpack://cyb/./node_modules/debug/src/browser.js","webpack://cyb/./node_modules/debug/src/common.js","webpack://cyb/./node_modules/delay/index.js","webpack://cyb/./node_modules/denque/index.js","webpack://cyb/./node_modules/detect-browser/es/index.js","webpack://cyb/./node_modules/dlv/dist/dlv.umd.js","webpack://cyb/./node_modules/err-code/index.js","webpack://cyb/./node_modules/event-iterator/lib/dom.js","webpack://cyb/./node_modules/event-iterator/lib/event-iterator.js","webpack://cyb/./node_modules/extract-files/public/ReactNativeFile.js","webpack://cyb/./node_modules/extract-files/public/extractFiles.js","webpack://cyb/./node_modules/extract-files/public/isExtractableFile.js","webpack://cyb/./node_modules/fast-fifo/fixed-size.js","webpack://cyb/./node_modules/fast-fifo/index.js","webpack://cyb/./node_modules/fnv1a/index.js","webpack://cyb/./node_modules/graphql-request/node_modules/form-data/lib/browser.js","webpack://cyb/./node_modules/hashlru/index.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/dist/src/message/rpc.cjs","webpack://cyb/./node_modules/@apollo/client/utilities/common/canUse.js","webpack://cyb/./node_modules/@chainsafe/is-ip/lib/is-ip.js","webpack://cyb/./node_modules/@chainsafe/is-ip/lib/parse.js","webpack://cyb/./node_modules/@chainsafe/is-ip/lib/parser.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/multiformats/vendor/base-x.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/multiformats/src/bytes.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/multiformats/src/bases/base.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/multiformats/src/bases/base58.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/multiformats/src/bases/base10.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/multiformats/src/bases/base16.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/multiformats/src/bases/base2.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/multiformats/src/bases/base256emoji.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/multiformats/src/bases/base32.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/multiformats/src/bases/base36.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/multiformats/src/bases/base64.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/multiformats/src/bases/base8.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/multiformats/src/bases/identity.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/multiformats/src/codecs/json.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/multiformats/src/codecs/raw.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/multiformats/vendor/varint.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/multiformats/src/varint.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/multiformats/src/hashes/digest.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/multiformats/src/hashes/identity.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/multiformats/src/hashes/hasher.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/multiformats/src/hashes/sha2-browser.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/multiformats/src/cid.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/multiformats/src/basics.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/uint8arrays/dist/src/equals.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/@libp2p/peer-id/dist/src/index.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/@libp2p/logger/dist/src/index.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/dist/src/message-cache.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/dist/src/message/rpc.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/dist/src/constants.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/dist/src/utils/shuffle.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/uint8arrays/dist/src/util/as-uint8array.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/uint8arrays/dist/src/alloc.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/uint8arrays/dist/src/util/bases.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/uint8arrays/dist/src/to-string.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/dist/src/utils/messageIdToString.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/uint8arrays/dist/src/from-string.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/@libp2p/crypto/dist/src/keys/ed25519-browser.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/uint8arrays/dist/src/concat.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/@libp2p/crypto/dist/src/webcrypto.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/@libp2p/crypto/dist/src/ciphers/aes-gcm.browser.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/@libp2p/crypto/dist/src/keys/exporter.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/@libp2p/crypto/dist/src/keys/keys.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/@libp2p/crypto/dist/src/keys/ed25519-class.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/@libp2p/crypto/dist/src/util.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/@libp2p/crypto/dist/src/keys/ecdh-browser.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/@noble/hashes/esm/crypto.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/@noble/hashes/esm/utils.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/@libp2p/crypto/dist/src/random-bytes.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/@libp2p/crypto/dist/src/keys/jwk2pem.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/@libp2p/crypto/dist/src/keys/rsa-browser.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/@libp2p/crypto/dist/src/keys/rsa-class.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/@libp2p/crypto/dist/src/keys/rsa-utils.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/@libp2p/crypto/dist/src/keys/secp256k1.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/@libp2p/crypto/dist/src/keys/secp256k1-class.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/@libp2p/crypto/dist/src/keys/index.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/dist/src/types.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/dist/src/score/constants.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/dist/src/score/peer-score-params.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/dist/src/score/peer-score-thresholds.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/dist/src/score/compute-score.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/dist/src/score/message-deliveries.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/dist/src/utils/set.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/dist/src/score/peer-score.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/dist/src/tracer.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/dist/src/utils/time-cache.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/dist/src/metrics.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/dist/src/utils/buildRawMessage.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/dist/src/utils/msgIdFn.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/@libp2p/pubsub/dist/src/utils.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/dist/src/score/scoreMetrics.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/it-pushable/dist/src/fifo.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/it-pushable/dist/src/index.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/abortable-iterator/dist/src/abort-error.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/abortable-iterator/dist/src/index.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/get-iterator/dist/src/index.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/dist/src/stream.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/dist/src/message/decodeRpc.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/@multiformats/multiaddr/node_modules/uint8arrays/node_modules/multiformats/vendor/base-x.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/@multiformats/multiaddr/node_modules/uint8arrays/node_modules/multiformats/src/bytes.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/@multiformats/multiaddr/node_modules/uint8arrays/node_modules/multiformats/src/bases/base.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/@multiformats/multiaddr/node_modules/uint8arrays/node_modules/multiformats/src/bases/identity.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/@multiformats/multiaddr/node_modules/uint8arrays/node_modules/multiformats/src/bases/base2.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/@multiformats/multiaddr/node_modules/uint8arrays/node_modules/multiformats/src/bases/base8.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/@multiformats/multiaddr/node_modules/uint8arrays/node_modules/multiformats/src/bases/base10.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/@multiformats/multiaddr/node_modules/uint8arrays/node_modules/multiformats/src/bases/base16.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/@multiformats/multiaddr/node_modules/uint8arrays/node_modules/multiformats/src/bases/base32.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/@multiformats/multiaddr/node_modules/uint8arrays/node_modules/multiformats/src/bases/base36.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/@multiformats/multiaddr/node_modules/uint8arrays/node_modules/multiformats/src/bases/base58.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/@multiformats/multiaddr/node_modules/uint8arrays/node_modules/multiformats/src/bases/base64.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/@multiformats/multiaddr/node_modules/uint8arrays/node_modules/multiformats/src/bases/base256emoji.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/@multiformats/multiaddr/node_modules/uint8arrays/node_modules/multiformats/vendor/varint.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/@multiformats/multiaddr/node_modules/uint8arrays/node_modules/multiformats/src/varint.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/@multiformats/multiaddr/node_modules/uint8arrays/node_modules/multiformats/src/hashes/digest.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/@multiformats/multiaddr/node_modules/uint8arrays/node_modules/multiformats/src/hashes/hasher.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/@multiformats/multiaddr/node_modules/uint8arrays/node_modules/multiformats/src/hashes/sha2-browser.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/@multiformats/multiaddr/node_modules/uint8arrays/node_modules/multiformats/src/hashes/identity.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/@multiformats/multiaddr/node_modules/uint8arrays/node_modules/multiformats/src/codecs/raw.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/@multiformats/multiaddr/node_modules/uint8arrays/node_modules/multiformats/src/codecs/json.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/@multiformats/multiaddr/node_modules/uint8arrays/node_modules/multiformats/src/cid.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/@multiformats/multiaddr/node_modules/uint8arrays/node_modules/multiformats/src/basics.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/@multiformats/multiaddr/node_modules/uint8arrays/dist/src/alloc.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/@multiformats/multiaddr/node_modules/uint8arrays/dist/src/util/as-uint8array.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/@multiformats/multiaddr/node_modules/uint8arrays/dist/src/util/bases.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/@multiformats/multiaddr/node_modules/uint8arrays/dist/src/to-string.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/@multiformats/multiaddr/dist/src/ip.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/@multiformats/multiaddr/dist/src/protocols-table.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/node_modules/@multiformats/multiaddr/dist/src/convert.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/dist/src/utils/multiaddr.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/dist/src/index.js","webpack://cyb/./node_modules/@chainsafe/libp2p-gossipsub/dist/src/utils/publishConfig.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/node_modules/it-pair/dist/src/index.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/dist/src/constants.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/node_modules/@noble/hashes/esm/_assert.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/node_modules/@noble/hashes/esm/crypto.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/node_modules/@noble/hashes/esm/utils.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/node_modules/@noble/hashes/esm/hmac.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/node_modules/@noble/hashes/esm/hkdf.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/node_modules/@noble/hashes/esm/_sha2.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/node_modules/@noble/hashes/esm/sha256.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/dist/src/crypto/js.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/node_modules/uint8arrays/dist/src/util/as-uint8array.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/node_modules/uint8arrays/dist/src/alloc.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/node_modules/uint8arrays/dist/src/concat.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/dist/src/encoder.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/node_modules/multiformats/vendor/base-x.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/node_modules/multiformats/src/bytes.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/node_modules/multiformats/src/bases/base.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/node_modules/multiformats/src/bases/base10.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/node_modules/multiformats/src/bases/base16.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/node_modules/multiformats/src/bases/base2.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/node_modules/multiformats/src/bases/base256emoji.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/node_modules/multiformats/src/bases/base32.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/node_modules/multiformats/src/bases/base36.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/node_modules/multiformats/src/bases/base58.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/node_modules/multiformats/src/bases/base64.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/node_modules/multiformats/src/bases/base8.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/node_modules/multiformats/src/bases/identity.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/node_modules/multiformats/src/codecs/json.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/node_modules/multiformats/src/codecs/raw.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/node_modules/multiformats/vendor/varint.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/node_modules/multiformats/src/varint.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/node_modules/multiformats/src/hashes/digest.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/node_modules/multiformats/src/hashes/identity.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/node_modules/multiformats/src/hashes/hasher.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/node_modules/multiformats/src/hashes/sha2-browser.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/node_modules/multiformats/src/cid.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/node_modules/multiformats/src/basics.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/node_modules/uint8arrays/dist/src/util/bases.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/node_modules/uint8arrays/dist/src/from-string.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/node_modules/uint8arrays/dist/src/equals.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/node_modules/@libp2p/crypto/dist/src/keys/ed25519-browser.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/node_modules/@libp2p/crypto/dist/src/webcrypto.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/node_modules/@libp2p/crypto/dist/src/ciphers/aes-gcm.browser.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/node_modules/@libp2p/crypto/dist/src/keys/exporter.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/node_modules/@libp2p/crypto/dist/src/keys/keys.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/node_modules/@libp2p/crypto/dist/src/keys/ed25519-class.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/node_modules/uint8arrays/dist/src/to-string.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/node_modules/@libp2p/crypto/dist/src/util.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/node_modules/@libp2p/crypto/dist/src/keys/ecdh-browser.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/node_modules/@libp2p/crypto/dist/src/random-bytes.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/node_modules/@libp2p/crypto/dist/src/keys/jwk2pem.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/node_modules/@libp2p/crypto/dist/src/keys/rsa-browser.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/node_modules/@libp2p/crypto/dist/src/keys/rsa-class.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/node_modules/@libp2p/crypto/dist/src/keys/rsa-utils.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/node_modules/@libp2p/crypto/dist/src/keys/secp256k1.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/node_modules/@libp2p/crypto/dist/src/keys/secp256k1-class.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/node_modules/@libp2p/crypto/dist/src/keys/index.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/node_modules/@libp2p/peer-id/dist/src/index.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/dist/src/proto/payload.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/dist/src/utils.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/node_modules/@libp2p/logger/dist/src/index.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/dist/src/logger.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/dist/src/nonce.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/dist/src/handshakes/abstract-handshake.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/dist/src/handshakes/xx.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/dist/src/handshake-xx.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/dist/src/noise.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/dist/src/metrics.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/node_modules/it-pair/dist/src/duplex.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/dist/src/crypto/streaming.js","webpack://cyb/./node_modules/@chainsafe/libp2p-noise/dist/src/index.js","webpack://cyb/./node_modules/@chainsafe/libp2p-yamux/node_modules/multiformats/vendor/base-x.js","webpack://cyb/./node_modules/@chainsafe/libp2p-yamux/node_modules/multiformats/src/bytes.js","webpack://cyb/./node_modules/@chainsafe/libp2p-yamux/node_modules/multiformats/src/bases/base.js","webpack://cyb/./node_modules/@chainsafe/libp2p-yamux/node_modules/multiformats/src/bases/base32.js","webpack://cyb/./node_modules/@chainsafe/libp2p-yamux/node_modules/multiformats/src/bases/base58.js","webpack://cyb/./node_modules/@chainsafe/libp2p-yamux/node_modules/multiformats/src/bases/base64.js","webpack://cyb/./node_modules/@chainsafe/libp2p-yamux/node_modules/@libp2p/logger/dist/src/index.js","webpack://cyb/./node_modules/@chainsafe/libp2p-yamux/node_modules/abortable-iterator/dist/src/abort-error.js","webpack://cyb/./node_modules/@chainsafe/libp2p-yamux/node_modules/abortable-iterator/dist/src/index.js","webpack://cyb/./node_modules/@chainsafe/libp2p-yamux/node_modules/get-iterator/dist/src/index.js","webpack://cyb/./node_modules/@chainsafe/libp2p-yamux/node_modules/it-pushable/dist/src/fifo.js","webpack://cyb/./node_modules/@chainsafe/libp2p-yamux/node_modules/it-pushable/dist/src/index.js","webpack://cyb/./node_modules/@chainsafe/libp2p-yamux/dist/src/constants.js","webpack://cyb/./node_modules/@chainsafe/libp2p-yamux/dist/src/config.js","webpack://cyb/./node_modules/@chainsafe/libp2p-yamux/dist/src/frame.js","webpack://cyb/./node_modules/@chainsafe/libp2p-yamux/dist/src/decode.js","webpack://cyb/./node_modules/@chainsafe/libp2p-yamux/dist/src/encode.js","webpack://cyb/./node_modules/@chainsafe/libp2p-yamux/node_modules/it-foreach/dist/src/index.js","webpack://cyb/./node_modules/@chainsafe/libp2p-yamux/dist/src/stream.js","webpack://cyb/./node_modules/@chainsafe/libp2p-yamux/dist/src/muxer.js","webpack://cyb/./node_modules/@chainsafe/libp2p-yamux/dist/src/index.js","webpack://cyb/./node_modules/@chainsafe/netmask/dist/src/ip.js","webpack://cyb/./node_modules/abortable-iterator/dist/src/abort-error.js","webpack://cyb/./node_modules/abortable-iterator/dist/src/index.js","webpack://cyb/./node_modules/abortable-iterator/node_modules/get-iterator/dist/src/index.js","webpack://cyb/./node_modules/array-shuffle/index.js","webpack://cyb/./node_modules/blob-to-it/dist/src/index.js","webpack://cyb/./node_modules/blockstore-core/dist/src/errors.js","webpack://cyb/./node_modules/blockstore-core/dist/src/base.js","webpack://cyb/./node_modules/blockstore-core/node_modules/multiformats/vendor/base-x.js","webpack://cyb/./node_modules/blockstore-core/node_modules/multiformats/src/bytes.js","webpack://cyb/./node_modules/blockstore-core/node_modules/multiformats/src/bases/base.js","webpack://cyb/./node_modules/blockstore-core/node_modules/multiformats/src/bases/base32.js","webpack://cyb/./node_modules/blockstore-core/node_modules/multiformats/src/bases/base58.js","webpack://cyb/./node_modules/blockstore-core/node_modules/multiformats/vendor/varint.js","webpack://cyb/./node_modules/blockstore-core/node_modules/multiformats/src/varint.js","webpack://cyb/./node_modules/blockstore-core/node_modules/multiformats/src/hashes/digest.js","webpack://cyb/./node_modules/blockstore-core/node_modules/multiformats/src/cid.js","webpack://cyb/./node_modules/blockstore-core/dist/src/memory.js","webpack://cyb/./node_modules/blockstore-core/node_modules/multiformats/src/codecs/raw.js","webpack://cyb/./node_modules/blockstore-core/node_modules/multiformats/src/bases/base64.js","webpack://cyb/./node_modules/blockstore-core/node_modules/@libp2p/logger/dist/src/index.js","webpack://cyb/./node_modules/blockstore-core/node_modules/it-merge/node_modules/it-pushable/dist/src/index.js","webpack://cyb/./node_modules/blockstore-core/dist/src/tiered.js","webpack://cyb/./node_modules/blockstore-core/dist/src/index.js","webpack://cyb/./node_modules/blockstore-datastore-adapter/node_modules/blockstore-core/src/base.js","webpack://cyb/./node_modules/blockstore-datastore-adapter/node_modules/it-all/dist/src/index.js","webpack://cyb/./node_modules/blockstore-datastore-adapter/src/index.js","webpack://cyb/./node_modules/blockstore-idb/node_modules/multiformats/vendor/base-x.js","webpack://cyb/./node_modules/blockstore-idb/node_modules/multiformats/src/bytes.js","webpack://cyb/./node_modules/blockstore-idb/node_modules/multiformats/src/bases/base.js","webpack://cyb/./node_modules/blockstore-idb/node_modules/multiformats/src/bases/base32.js","webpack://cyb/./node_modules/blockstore-idb/node_modules/multiformats/src/bases/base58.js","webpack://cyb/./node_modules/blockstore-idb/node_modules/multiformats/vendor/varint.js","webpack://cyb/./node_modules/blockstore-idb/node_modules/multiformats/src/varint.js","webpack://cyb/./node_modules/blockstore-idb/node_modules/multiformats/src/hashes/digest.js","webpack://cyb/./node_modules/blockstore-idb/node_modules/multiformats/src/cid.js","webpack://cyb/./node_modules/blockstore-idb/dist/src/index.js","webpack://cyb/./node_modules/blockstore-idb/node_modules/multiformats/src/codecs/raw.js","webpack://cyb/./node_modules/browser-readablestream-to-it/dist/src/index.js","webpack://cyb/./node_modules/byte-access/dist/src/index.js","webpack://cyb/./node_modules/cborg/esm/lib/0uint.js","webpack://cyb/./node_modules/cborg/esm/lib/1negint.js","webpack://cyb/./node_modules/cborg/esm/lib/2bytes.js","webpack://cyb/./node_modules/cborg/esm/lib/3string.js","webpack://cyb/./node_modules/cborg/esm/lib/4array.js","webpack://cyb/./node_modules/cborg/esm/lib/5map.js","webpack://cyb/./node_modules/cborg/esm/lib/6tag.js","webpack://cyb/./node_modules/cborg/esm/lib/7float.js","webpack://cyb/./node_modules/cborg/esm/lib/byte-utils.js","webpack://cyb/./node_modules/cborg/esm/lib/common.js","webpack://cyb/./node_modules/cborg/esm/lib/decode.js","webpack://cyb/./node_modules/cborg/esm/lib/is.js","webpack://cyb/./node_modules/cborg/esm/lib/bl.js","webpack://cyb/./node_modules/cborg/esm/lib/encode.js","webpack://cyb/./node_modules/cborg/esm/lib/json/encode.js","webpack://cyb/./node_modules/cborg/esm/lib/json/decode.js","webpack://cyb/./node_modules/cborg/esm/lib/jump.js","webpack://cyb/./node_modules/cborg/esm/lib/token.js","webpack://cyb/./node_modules/dag-jose/lib/utils.js","webpack://cyb/./node_modules/dag-jose/lib/signing.js","webpack://cyb/./node_modules/dag-jose/lib/encryption.js","webpack://cyb/./node_modules/dag-jose/lib/index.js","webpack://cyb/./node_modules/datastore-core/dist/src/base.js","webpack://cyb/./node_modules/datastore-core/dist/src/errors.js","webpack://cyb/./node_modules/datastore-core/dist/src/shard.js","webpack://cyb/./node_modules/datastore-core/dist/src/keytransform.js","webpack://cyb/./node_modules/datastore-core/dist/src/sharding.js","webpack://cyb/./node_modules/datastore-core/node_modules/it-merge/node_modules/it-pushable/dist/src/index.js","webpack://cyb/./node_modules/datastore-core/dist/src/mount.js","webpack://cyb/./node_modules/datastore-core/node_modules/multiformats/vendor/base-x.js","webpack://cyb/./node_modules/datastore-core/node_modules/multiformats/src/bytes.js","webpack://cyb/./node_modules/datastore-core/node_modules/multiformats/src/bases/base.js","webpack://cyb/./node_modules/datastore-core/node_modules/multiformats/src/bases/base32.js","webpack://cyb/./node_modules/datastore-core/node_modules/multiformats/src/bases/base58.js","webpack://cyb/./node_modules/datastore-core/node_modules/multiformats/src/bases/base64.js","webpack://cyb/./node_modules/datastore-core/node_modules/@libp2p/logger/dist/src/index.js","webpack://cyb/./node_modules/datastore-core/dist/src/tiered.js","webpack://cyb/./node_modules/datastore-core/dist/src/memory.js","webpack://cyb/./node_modules/datastore-core/node_modules/interface-datastore/dist/src/key.js","webpack://cyb/./node_modules/datastore-core/node_modules/nanoid/index.browser.js","webpack://cyb/./node_modules/datastore-core/node_modules/it-drain/dist/src/index.js","webpack://cyb/./node_modules/datastore-core/node_modules/it-filter/dist/src/index.js","webpack://cyb/./node_modules/datastore-core/node_modules/it-all/dist/src/index.js","webpack://cyb/./node_modules/datastore-core/node_modules/it-sort/dist/src/index.js","webpack://cyb/./node_modules/datastore-core/node_modules/it-take/dist/src/index.js","webpack://cyb/./node_modules/datastore-idb/node_modules/interface-datastore/dist/src/key.js","webpack://cyb/./node_modules/datastore-idb/node_modules/nanoid/index.browser.js","webpack://cyb/./node_modules/datastore-idb/node_modules/it-filter/dist/src/index.js","webpack://cyb/./node_modules/datastore-idb/node_modules/it-all/dist/src/index.js","webpack://cyb/./node_modules/datastore-idb/node_modules/it-sort/dist/src/index.js","webpack://cyb/./node_modules/datastore-idb/dist/src/index.js","webpack://cyb/./node_modules/datastore-level/node_modules/datastore-core/src/errors.js","webpack://cyb/./node_modules/datastore-level/node_modules/datastore-core/src/shard.js","webpack://cyb/./node_modules/datastore-level/node_modules/datastore-core/src/utils.js","webpack://cyb/./node_modules/datastore-level/node_modules/it-all/dist/src/index.js","webpack://cyb/./node_modules/datastore-level/node_modules/datastore-core/src/base.js","webpack://cyb/./node_modules/datastore-level/node_modules/datastore-core/src/sharding.js","webpack://cyb/./node_modules/datastore-level/node_modules/datastore-core/src/tiered.js","webpack://cyb/./node_modules/datastore-level/src/index.js","webpack://cyb/./node_modules/datastore-pubsub/node_modules/datastore-core/src/shard.js","webpack://cyb/./node_modules/datastore-pubsub/node_modules/datastore-core/src/utils.js","webpack://cyb/./node_modules/datastore-pubsub/node_modules/it-all/dist/src/index.js","webpack://cyb/./node_modules/datastore-pubsub/node_modules/datastore-core/src/base.js","webpack://cyb/./node_modules/datastore-pubsub/node_modules/datastore-core/src/sharding.js","webpack://cyb/./node_modules/datastore-pubsub/node_modules/datastore-core/src/tiered.js","webpack://cyb/./node_modules/datastore-pubsub/src/utils.js","webpack://cyb/./node_modules/datastore-pubsub/src/index.js","webpack://cyb/./node_modules/dns-over-http-resolver/node_modules/native-fetch/esm/src/index.js","webpack://cyb/./node_modules/dns-over-http-resolver/dist/src/utils.js","webpack://cyb/./node_modules/dns-over-http-resolver/dist/src/index.js","webpack://cyb/./node_modules/engine.io-parser/build/esm/commons.js","webpack://cyb/./node_modules/engine.io-parser/build/esm/encodePacket.browser.js","webpack://cyb/./node_modules/engine.io-parser/build/esm/contrib/base64-arraybuffer.js","webpack://cyb/./node_modules/engine.io-parser/build/esm/decodePacket.browser.js","webpack://cyb/./node_modules/engine.io-parser/build/esm/index.js","webpack://cyb/./node_modules/engine.io-client/build/esm/globalThis.browser.js","webpack://cyb/./node_modules/engine.io-client/build/esm/util.js","webpack://cyb/./node_modules/engine.io-client/build/esm/transport.js","webpack://cyb/./node_modules/engine.io-client/build/esm/contrib/yeast.js","webpack://cyb/./node_modules/engine.io-client/build/esm/contrib/parseqs.js","webpack://cyb/./node_modules/engine.io-client/build/esm/contrib/has-cors.js","webpack://cyb/./node_modules/engine.io-client/build/esm/transports/xmlhttprequest.browser.js","webpack://cyb/./node_modules/engine.io-client/build/esm/transports/polling.js","webpack://cyb/./node_modules/engine.io-client/build/esm/transports/websocket-constructor.browser.js","webpack://cyb/./node_modules/engine.io-client/build/esm/transports/websocket.js","webpack://cyb/./node_modules/engine.io-client/build/esm/transports/index.js","webpack://cyb/./node_modules/engine.io-client/build/esm/contrib/parseuri.js","webpack://cyb/./node_modules/engine.io-client/build/esm/socket.js","webpack://cyb/./node_modules/engine.io-client/build/esm/index.js","webpack://cyb/./node_modules/file-type/util.js","webpack://cyb/./node_modules/file-type/core.js","webpack://cyb/./node_modules/graphql-request/build/esm/defaultJsonSerializer.js","webpack://cyb/./node_modules/graphql-request/build/esm/createRequestBody.js","webpack://cyb/./node_modules/graphql-request/build/esm/resolveRequestDocument.js","webpack://cyb/./node_modules/graphql-request/build/esm/types.js","webpack://cyb/./node_modules/graphql-request/build/esm/index.js","webpack://cyb/./node_modules/graphql-request/build/esm/helpers.js","webpack://cyb/./node_modules/graphql-request/build/esm/parseArgs.js","webpack://cyb/./node_modules/hamt-sharding/dist/src/bucket.js","webpack://cyb/./node_modules/hamt-sharding/dist/src/consumable-buffer.js","webpack://cyb/./node_modules/hamt-sharding/dist/src/consumable-hash.js","webpack://cyb/./node_modules/hamt-sharding/dist/src/index.js"],"sourcesContent":["\"use strict\";\n\n// Runtime header offsets\nconst ID_OFFSET = -8;\nconst SIZE_OFFSET = -4;\n\n// Runtime ids\nconst ARRAYBUFFER_ID = 0;\nconst STRING_ID = 1;\nconst ARRAYBUFFERVIEW_ID = 2;\n\n// Runtime type information\nconst ARRAYBUFFERVIEW = 1 << 0;\nconst ARRAY = 1 << 1;\nconst SET = 1 << 2;\nconst MAP = 1 << 3;\nconst VAL_ALIGN_OFFSET = 5;\nconst VAL_ALIGN = 1 << VAL_ALIGN_OFFSET;\nconst VAL_SIGNED = 1 << 10;\nconst VAL_FLOAT = 1 << 11;\nconst VAL_NULLABLE = 1 << 12;\nconst VAL_MANAGED = 1 << 13;\nconst KEY_ALIGN_OFFSET = 14;\nconst KEY_ALIGN = 1 << KEY_ALIGN_OFFSET;\nconst KEY_SIGNED = 1 << 19;\nconst KEY_FLOAT = 1 << 20;\nconst KEY_NULLABLE = 1 << 21;\nconst KEY_MANAGED = 1 << 22;\n\n// Array(BufferView) layout\nconst ARRAYBUFFERVIEW_BUFFER_OFFSET = 0;\nconst ARRAYBUFFERVIEW_DATASTART_OFFSET = 4;\nconst ARRAYBUFFERVIEW_DATALENGTH_OFFSET = 8;\nconst ARRAYBUFFERVIEW_SIZE = 12;\nconst ARRAY_LENGTH_OFFSET = 12;\nconst ARRAY_SIZE = 16;\n\nconst BIGINT = typeof BigUint64Array !== \"undefined\";\nconst THIS = Symbol();\nconst CHUNKSIZE = 1024;\n\n/** Gets a string from an U32 and an U16 view on a memory. */\nfunction getStringImpl(buffer, ptr) {\n  const U32 = new Uint32Array(buffer);\n  const U16 = new Uint16Array(buffer);\n  var length = U32[(ptr + SIZE_OFFSET) >>> 2] >>> 1;\n  var offset = ptr >>> 1;\n  if (length <= CHUNKSIZE) return String.fromCharCode.apply(String, U16.subarray(offset, offset + length));\n  const parts = [];\n  do {\n    const last = U16[offset + CHUNKSIZE - 1];\n    const size = last >= 0xD800 && last < 0xDC00 ? CHUNKSIZE - 1 : CHUNKSIZE;\n    parts.push(String.fromCharCode.apply(String, U16.subarray(offset, offset += size)));\n    length -= size;\n  } while (length > CHUNKSIZE);\n  return parts.join(\"\") + String.fromCharCode.apply(String, U16.subarray(offset, offset + length));\n}\n\n/** Prepares the base module prior to instantiation. */\nfunction preInstantiate(imports) {\n  const baseModule = {};\n\n  function getString(memory, ptr) {\n    if (!memory) return \"<yet unknown>\";\n    return getStringImpl(memory.buffer, ptr);\n  }\n\n  // add common imports used by stdlib for convenience\n  const env = (imports.env = imports.env || {});\n  env.abort = env.abort || function abort(mesg, file, line, colm) {\n    const memory = baseModule.memory || env.memory; // prefer exported, otherwise try imported\n    throw Error(\"abort: \" + getString(memory, mesg) + \" at \" + getString(memory, file) + \":\" + line + \":\" + colm);\n  }\n  env.trace = env.trace || function trace(mesg, n) {\n    const memory = baseModule.memory || env.memory;\n    console.log(\"trace: \" + getString(memory, mesg) + (n ? \" \" : \"\") + Array.prototype.slice.call(arguments, 2, 2 + n).join(\", \"));\n  }\n  imports.Math = imports.Math || Math;\n  imports.Date = imports.Date || Date;\n\n  return baseModule;\n}\n\n/** Prepares the final module once instantiation is complete. */\nfunction postInstantiate(baseModule, instance) {\n  const rawExports = instance.exports;\n  const memory = rawExports.memory;\n  const table = rawExports.table;\n  const alloc = rawExports[\"__alloc\"];\n  const retain = rawExports[\"__retain\"];\n  const rttiBase = rawExports[\"__rtti_base\"] || ~0; // oob if not present\n\n  /** Gets the runtime type info for the given id. */\n  function getInfo(id) {\n    const U32 = new Uint32Array(memory.buffer);\n    const count = U32[rttiBase >>> 2];\n    if ((id >>>= 0) >= count) throw Error(\"invalid id: \" + id);\n    return U32[(rttiBase + 4 >>> 2) + id * 2];\n  }\n\n  /** Gets the runtime base id for the given id. */\n  function getBase(id) {\n    const U32 = new Uint32Array(memory.buffer);\n    const count = U32[rttiBase >>> 2];\n    if ((id >>>= 0) >= count) throw Error(\"invalid id: \" + id);\n    return U32[(rttiBase + 4 >>> 2) + id * 2 + 1];\n  }\n\n  /** Gets the runtime alignment of a collection's values. */\n  function getValueAlign(info) {\n    return 31 - Math.clz32((info >>> VAL_ALIGN_OFFSET) & 31); // -1 if none\n  }\n\n  /** Gets the runtime alignment of a collection's keys. */\n  function getKeyAlign(info) {\n    return 31 - Math.clz32((info >>> KEY_ALIGN_OFFSET) & 31); // -1 if none\n  }\n\n  /** Allocates a new string in the module's memory and returns its retained pointer. */\n  function __allocString(str) {\n    const length = str.length;\n    const ptr = alloc(length << 1, STRING_ID);\n    const U16 = new Uint16Array(memory.buffer);\n    for (var i = 0, p = ptr >>> 1; i < length; ++i) U16[p + i] = str.charCodeAt(i);\n    return ptr;\n  }\n\n  baseModule.__allocString = __allocString;\n\n  /** Reads a string from the module's memory by its pointer. */\n  function __getString(ptr) {\n    const buffer = memory.buffer;\n    const id = new Uint32Array(buffer)[ptr + ID_OFFSET >>> 2];\n    if (id !== STRING_ID) throw Error(\"not a string: \" + ptr);\n    return getStringImpl(buffer, ptr);\n  }\n\n  baseModule.__getString = __getString;\n\n  /** Gets the view matching the specified alignment, signedness and floatness. */\n  function getView(alignLog2, signed, float) {\n    const buffer = memory.buffer;\n    if (float) {\n      switch (alignLog2) {\n        case 2: return new Float32Array(buffer);\n        case 3: return new Float64Array(buffer);\n      }\n    } else {\n      switch (alignLog2) {\n        case 0: return new (signed ? Int8Array : Uint8Array)(buffer);\n        case 1: return new (signed ? Int16Array : Uint16Array)(buffer);\n        case 2: return new (signed ? Int32Array : Uint32Array)(buffer);\n        case 3: return new (signed ? BigInt64Array : BigUint64Array)(buffer);\n      }\n    }\n    throw Error(\"unsupported align: \" + alignLog2);\n  }\n\n  /** Allocates a new array in the module's memory and returns its retained pointer. */\n  function __allocArray(id, values) {\n    const info = getInfo(id);\n    if (!(info & (ARRAYBUFFERVIEW | ARRAY))) throw Error(\"not an array: \" + id + \" @ \" + info);\n    const align = getValueAlign(info);\n    const length = values.length;\n    const buf = alloc(length << align, ARRAYBUFFER_ID);\n    const arr = alloc(info & ARRAY ? ARRAY_SIZE : ARRAYBUFFERVIEW_SIZE, id);\n    const U32 = new Uint32Array(memory.buffer);\n    U32[arr + ARRAYBUFFERVIEW_BUFFER_OFFSET >>> 2] = retain(buf);\n    U32[arr + ARRAYBUFFERVIEW_DATASTART_OFFSET >>> 2] = buf;\n    U32[arr + ARRAYBUFFERVIEW_DATALENGTH_OFFSET >>> 2] = length << align;\n    if (info & ARRAY) U32[arr + ARRAY_LENGTH_OFFSET >>> 2] = length;\n    const view = getView(align, info & VAL_SIGNED, info & VAL_FLOAT);\n    if (info & VAL_MANAGED) {\n      for (let i = 0; i < length; ++i) view[(buf >>> align) + i] = retain(values[i]);\n    } else {\n      view.set(values, buf >>> align);\n    }\n    return arr;\n  }\n\n  baseModule.__allocArray = __allocArray;\n\n  /** Gets a live view on an array's values in the module's memory. Infers the array type from RTTI. */\n  function __getArrayView(arr) {\n    const U32 = new Uint32Array(memory.buffer);\n    const id = U32[arr + ID_OFFSET >>> 2];\n    const info = getInfo(id);\n    if (!(info & ARRAYBUFFERVIEW)) throw Error(\"not an array: \" + id);\n    const align = getValueAlign(info);\n    var buf = U32[arr + ARRAYBUFFERVIEW_DATASTART_OFFSET >>> 2];\n    const length = info & ARRAY\n      ? U32[arr + ARRAY_LENGTH_OFFSET >>> 2]\n      : U32[buf + SIZE_OFFSET >>> 2] >>> align;\n    return getView(align, info & VAL_SIGNED, info & VAL_FLOAT)\n          .subarray(buf >>>= align, buf + length);\n  }\n\n  baseModule.__getArrayView = __getArrayView;\n\n  /** Copies an array's values from the module's memory. Infers the array type from RTTI. */\n  function __getArray(arr) {\n    const input = __getArrayView(arr);\n    const len = input.length;\n    const out = new Array(len);\n    for (let i = 0; i < len; i++) out[i] = input[i];\n    return out;\n  }\n\n  baseModule.__getArray = __getArray;\n\n  /** Copies an ArrayBuffer's value from the module's memory. */\n  function __getArrayBuffer(ptr) {\n    const buffer = memory.buffer;\n    const length = new Uint32Array(buffer)[ptr + SIZE_OFFSET >>> 2];\n    return buffer.slice(ptr, ptr + length);\n  }\n\n  baseModule.__getArrayBuffer = __getArrayBuffer;\n\n  /** Copies a typed array's values from the module's memory. */\n  function getTypedArray(Type, alignLog2, ptr) {\n    return new Type(getTypedArrayView(Type, alignLog2, ptr));\n  }\n\n  /** Gets a live view on a typed array's values in the module's memory. */\n  function getTypedArrayView(Type, alignLog2, ptr) {\n    const buffer = memory.buffer;\n    const U32 = new Uint32Array(buffer);\n    const bufPtr = U32[ptr + ARRAYBUFFERVIEW_DATASTART_OFFSET >>> 2];\n    return new Type(buffer, bufPtr, U32[bufPtr + SIZE_OFFSET >>> 2] >>> alignLog2);\n  }\n\n  baseModule.__getInt8Array = getTypedArray.bind(null, Int8Array, 0);\n  baseModule.__getInt8ArrayView = getTypedArrayView.bind(null, Int8Array, 0);\n  baseModule.__getUint8Array = getTypedArray.bind(null, Uint8Array, 0);\n  baseModule.__getUint8ArrayView = getTypedArrayView.bind(null, Uint8Array, 0);\n  baseModule.__getUint8ClampedArray = getTypedArray.bind(null, Uint8ClampedArray, 0);\n  baseModule.__getUint8ClampedArrayView = getTypedArrayView.bind(null, Uint8ClampedArray, 0);\n  baseModule.__getInt16Array = getTypedArray.bind(null, Int16Array, 1);\n  baseModule.__getInt16ArrayView = getTypedArrayView.bind(null, Int16Array, 1);\n  baseModule.__getUint16Array = getTypedArray.bind(null, Uint16Array, 1);\n  baseModule.__getUint16ArrayView = getTypedArrayView.bind(null, Uint16Array, 1);\n  baseModule.__getInt32Array = getTypedArray.bind(null, Int32Array, 2);\n  baseModule.__getInt32ArrayView = getTypedArrayView.bind(null, Int32Array, 2);\n  baseModule.__getUint32Array = getTypedArray.bind(null, Uint32Array, 2);\n  baseModule.__getUint32ArrayView = getTypedArrayView.bind(null, Uint32Array, 2);\n  if (BIGINT) {\n    baseModule.__getInt64Array = getTypedArray.bind(null, BigInt64Array, 3);\n    baseModule.__getInt64ArrayView = getTypedArrayView.bind(null, BigInt64Array, 3);\n    baseModule.__getUint64Array = getTypedArray.bind(null, BigUint64Array, 3);\n    baseModule.__getUint64ArrayView = getTypedArrayView.bind(null, BigUint64Array, 3);\n  }\n  baseModule.__getFloat32Array = getTypedArray.bind(null, Float32Array, 2);\n  baseModule.__getFloat32ArrayView = getTypedArrayView.bind(null, Float32Array, 2);\n  baseModule.__getFloat64Array = getTypedArray.bind(null, Float64Array, 3);\n  baseModule.__getFloat64ArrayView = getTypedArrayView.bind(null, Float64Array, 3);\n\n  /** Tests whether an object is an instance of the class represented by the specified base id. */\n  function __instanceof(ptr, baseId) {\n    const U32 = new Uint32Array(memory.buffer);\n    var id = U32[(ptr + ID_OFFSET) >>> 2];\n    if (id <= U32[rttiBase >>> 2]) {\n      do if (id == baseId) return true;\n      while (id = getBase(id));\n    }\n    return false;\n  }\n\n  baseModule.__instanceof = __instanceof;\n\n  // Pull basic exports to baseModule so code in preInstantiate can use them\n  baseModule.memory = baseModule.memory || memory;\n  baseModule.table  = baseModule.table  || table;\n\n  // Demangle exports and provide the usual utility on the prototype\n  return demangle(rawExports, baseModule);\n}\n\nfunction isResponse(o) {\n  return typeof Response !== \"undefined\" && o instanceof Response;\n}\n\n/** Asynchronously instantiates an AssemblyScript module from anything that can be instantiated. */\nasync function instantiate(source, imports) {\n  if (isResponse(source = await source)) return instantiateStreaming(source, imports);\n  return postInstantiate(\n    preInstantiate(imports || (imports = {})),\n    await WebAssembly.instantiate(\n      source instanceof WebAssembly.Module\n        ? source\n        : await WebAssembly.compile(source),\n      imports\n    )\n  );\n}\n\nexports.instantiate = instantiate;\n\n/** Synchronously instantiates an AssemblyScript module from a WebAssembly.Module or binary buffer. */\nfunction instantiateSync(source, imports) {\n  return postInstantiate(\n    preInstantiate(imports || (imports = {})),\n    new WebAssembly.Instance(\n      source instanceof WebAssembly.Module\n        ? source\n        : new WebAssembly.Module(source),\n      imports\n    )\n  )\n}\n\nexports.instantiateSync = instantiateSync;\n\n/** Asynchronously instantiates an AssemblyScript module from a response, i.e. as obtained by `fetch`. */\nasync function instantiateStreaming(source, imports) {\n  if (!WebAssembly.instantiateStreaming) {\n    return instantiate(\n      isResponse(source = await source)\n        ? source.arrayBuffer()\n        : source,\n      imports\n    );\n  }\n  return postInstantiate(\n    preInstantiate(imports || (imports = {})),\n    (await WebAssembly.instantiateStreaming(source, imports)).instance\n  );\n}\n\nexports.instantiateStreaming = instantiateStreaming;\n\n/** Demangles an AssemblyScript module's exports to a friendly object structure. */\nfunction demangle(exports, baseModule) {\n  var module = baseModule ? Object.create(baseModule) : {};\n  var setArgumentsLength = exports[\"__argumentsLength\"]\n    ? function(length) { exports[\"__argumentsLength\"].value = length; }\n    : exports[\"__setArgumentsLength\"] || exports[\"__setargc\"] || function() {};\n  for (let internalName in exports) {\n    if (!Object.prototype.hasOwnProperty.call(exports, internalName)) continue;\n    const elem = exports[internalName];\n    let parts = internalName.split(\".\");\n    let curr = module;\n    while (parts.length > 1) {\n      let part = parts.shift();\n      if (!Object.prototype.hasOwnProperty.call(curr, part)) curr[part] = {};\n      curr = curr[part];\n    }\n    let name = parts[0];\n    let hash = name.indexOf(\"#\");\n    if (hash >= 0) {\n      let className = name.substring(0, hash);\n      let classElem = curr[className];\n      if (typeof classElem === \"undefined\" || !classElem.prototype) {\n        let ctor = function(...args) {\n          return ctor.wrap(ctor.prototype.constructor(0, ...args));\n        };\n        ctor.prototype = {\n          valueOf: function valueOf() {\n            return this[THIS];\n          }\n        };\n        ctor.wrap = function(thisValue) {\n          return Object.create(ctor.prototype, { [THIS]: { value: thisValue, writable: false } });\n        };\n        if (classElem) Object.getOwnPropertyNames(classElem).forEach(name =>\n          Object.defineProperty(ctor, name, Object.getOwnPropertyDescriptor(classElem, name))\n        );\n        curr[className] = ctor;\n      }\n      name = name.substring(hash + 1);\n      curr = curr[className].prototype;\n      if (/^(get|set):/.test(name)) {\n        if (!Object.prototype.hasOwnProperty.call(curr, name = name.substring(4))) {\n          let getter = exports[internalName.replace(\"set:\", \"get:\")];\n          let setter = exports[internalName.replace(\"get:\", \"set:\")];\n          Object.defineProperty(curr, name, {\n            get: function() { return getter(this[THIS]); },\n            set: function(value) { setter(this[THIS], value); },\n            enumerable: true\n          });\n        }\n      } else {\n        if (name === 'constructor') {\n          (curr[name] = (...args) => {\n            setArgumentsLength(args.length);\n            return elem(...args);\n          }).original = elem;\n        } else { // instance method\n          (curr[name] = function(...args) { // !\n            setArgumentsLength(args.length);\n            return elem(this[THIS], ...args);\n          }).original = elem;\n        }\n      }\n    } else {\n      if (/^(get|set):/.test(name)) {\n        if (!Object.prototype.hasOwnProperty.call(curr, name = name.substring(4))) {\n          Object.defineProperty(curr, name, {\n            get: exports[internalName.replace(\"set:\", \"get:\")],\n            set: exports[internalName.replace(\"get:\", \"set:\")],\n            enumerable: true\n          });\n        }\n      } else if (typeof elem === \"function\" && elem !== setArgumentsLength) {\n        (curr[name] = (...args) => {\n          setArgumentsLength(args.length);\n          return elem(...args);\n        }).original = elem;\n      } else {\n        curr[name] = elem;\n      }\n    }\n  }\n  return module;\n}\n\nexports.demangle = demangle;\n","// minimal library entry point.\n\n\"use strict\";\nmodule.exports = require(\"./src/index-minimal\");\n","\"use strict\";\nvar protobuf = exports;\n\n/**\n * Build type, one of `\"full\"`, `\"light\"` or `\"minimal\"`.\n * @name build\n * @type {string}\n * @const\n */\nprotobuf.build = \"minimal\";\n\n// Serialization\nprotobuf.Writer       = require(\"./writer\");\nprotobuf.BufferWriter = require(\"./writer_buffer\");\nprotobuf.Reader       = require(\"./reader\");\nprotobuf.BufferReader = require(\"./reader_buffer\");\n\n// Utility\nprotobuf.util         = require(\"./util/minimal\");\nprotobuf.rpc          = require(\"./rpc\");\nprotobuf.roots        = require(\"./roots\");\nprotobuf.configure    = configure;\n\n/* istanbul ignore next */\n/**\n * Reconfigures the library according to the environment.\n * @returns {undefined}\n */\nfunction configure() {\n    protobuf.util._configure();\n    protobuf.Writer._configure(protobuf.BufferWriter);\n    protobuf.Reader._configure(protobuf.BufferReader);\n}\n\n// Set up buffer utility according to the environment\nconfigure();\n","\"use strict\";\nmodule.exports = Reader;\n\nvar util      = require(\"./util/minimal\");\n\nvar BufferReader; // cyclic\n\nvar LongBits  = util.LongBits,\n    utf8      = util.utf8;\n\n/* istanbul ignore next */\nfunction indexOutOfRange(reader, writeLength) {\n    return RangeError(\"index out of range: \" + reader.pos + \" + \" + (writeLength || 1) + \" > \" + reader.len);\n}\n\n/**\n * Constructs a new reader instance using the specified buffer.\n * @classdesc Wire format reader using `Uint8Array` if available, otherwise `Array`.\n * @constructor\n * @param {Uint8Array} buffer Buffer to read from\n */\nfunction Reader(buffer) {\n\n    /**\n     * Read buffer.\n     * @type {Uint8Array}\n     */\n    this.buf = buffer;\n\n    /**\n     * Read buffer position.\n     * @type {number}\n     */\n    this.pos = 0;\n\n    /**\n     * Read buffer length.\n     * @type {number}\n     */\n    this.len = buffer.length;\n}\n\nvar create_array = typeof Uint8Array !== \"undefined\"\n    ? function create_typed_array(buffer) {\n        if (buffer instanceof Uint8Array || Array.isArray(buffer))\n            return new Reader(buffer);\n        throw Error(\"illegal buffer\");\n    }\n    /* istanbul ignore next */\n    : function create_array(buffer) {\n        if (Array.isArray(buffer))\n            return new Reader(buffer);\n        throw Error(\"illegal buffer\");\n    };\n\nvar create = function create() {\n    return util.Buffer\n        ? function create_buffer_setup(buffer) {\n            return (Reader.create = function create_buffer(buffer) {\n                return util.Buffer.isBuffer(buffer)\n                    ? new BufferReader(buffer)\n                    /* istanbul ignore next */\n                    : create_array(buffer);\n            })(buffer);\n        }\n        /* istanbul ignore next */\n        : create_array;\n};\n\n/**\n * Creates a new reader using the specified buffer.\n * @function\n * @param {Uint8Array|Buffer} buffer Buffer to read from\n * @returns {Reader|BufferReader} A {@link BufferReader} if `buffer` is a Buffer, otherwise a {@link Reader}\n * @throws {Error} If `buffer` is not a valid buffer\n */\nReader.create = create();\n\nReader.prototype._slice = util.Array.prototype.subarray || /* istanbul ignore next */ util.Array.prototype.slice;\n\n/**\n * Reads a varint as an unsigned 32 bit value.\n * @function\n * @returns {number} Value read\n */\nReader.prototype.uint32 = (function read_uint32_setup() {\n    var value = 4294967295; // optimizer type-hint, tends to deopt otherwise (?!)\n    return function read_uint32() {\n        value = (         this.buf[this.pos] & 127       ) >>> 0; if (this.buf[this.pos++] < 128) return value;\n        value = (value | (this.buf[this.pos] & 127) <<  7) >>> 0; if (this.buf[this.pos++] < 128) return value;\n        value = (value | (this.buf[this.pos] & 127) << 14) >>> 0; if (this.buf[this.pos++] < 128) return value;\n        value = (value | (this.buf[this.pos] & 127) << 21) >>> 0; if (this.buf[this.pos++] < 128) return value;\n        value = (value | (this.buf[this.pos] &  15) << 28) >>> 0; if (this.buf[this.pos++] < 128) return value;\n\n        /* istanbul ignore if */\n        if ((this.pos += 5) > this.len) {\n            this.pos = this.len;\n            throw indexOutOfRange(this, 10);\n        }\n        return value;\n    };\n})();\n\n/**\n * Reads a varint as a signed 32 bit value.\n * @returns {number} Value read\n */\nReader.prototype.int32 = function read_int32() {\n    return this.uint32() | 0;\n};\n\n/**\n * Reads a zig-zag encoded varint as a signed 32 bit value.\n * @returns {number} Value read\n */\nReader.prototype.sint32 = function read_sint32() {\n    var value = this.uint32();\n    return value >>> 1 ^ -(value & 1) | 0;\n};\n\n/* eslint-disable no-invalid-this */\n\nfunction readLongVarint() {\n    // tends to deopt with local vars for octet etc.\n    var bits = new LongBits(0, 0);\n    var i = 0;\n    if (this.len - this.pos > 4) { // fast route (lo)\n        for (; i < 4; ++i) {\n            // 1st..4th\n            bits.lo = (bits.lo | (this.buf[this.pos] & 127) << i * 7) >>> 0;\n            if (this.buf[this.pos++] < 128)\n                return bits;\n        }\n        // 5th\n        bits.lo = (bits.lo | (this.buf[this.pos] & 127) << 28) >>> 0;\n        bits.hi = (bits.hi | (this.buf[this.pos] & 127) >>  4) >>> 0;\n        if (this.buf[this.pos++] < 128)\n            return bits;\n        i = 0;\n    } else {\n        for (; i < 3; ++i) {\n            /* istanbul ignore if */\n            if (this.pos >= this.len)\n                throw indexOutOfRange(this);\n            // 1st..3th\n            bits.lo = (bits.lo | (this.buf[this.pos] & 127) << i * 7) >>> 0;\n            if (this.buf[this.pos++] < 128)\n                return bits;\n        }\n        // 4th\n        bits.lo = (bits.lo | (this.buf[this.pos++] & 127) << i * 7) >>> 0;\n        return bits;\n    }\n    if (this.len - this.pos > 4) { // fast route (hi)\n        for (; i < 5; ++i) {\n            // 6th..10th\n            bits.hi = (bits.hi | (this.buf[this.pos] & 127) << i * 7 + 3) >>> 0;\n            if (this.buf[this.pos++] < 128)\n                return bits;\n        }\n    } else {\n        for (; i < 5; ++i) {\n            /* istanbul ignore if */\n            if (this.pos >= this.len)\n                throw indexOutOfRange(this);\n            // 6th..10th\n            bits.hi = (bits.hi | (this.buf[this.pos] & 127) << i * 7 + 3) >>> 0;\n            if (this.buf[this.pos++] < 128)\n                return bits;\n        }\n    }\n    /* istanbul ignore next */\n    throw Error(\"invalid varint encoding\");\n}\n\n/* eslint-enable no-invalid-this */\n\n/**\n * Reads a varint as a signed 64 bit value.\n * @name Reader#int64\n * @function\n * @returns {Long} Value read\n */\n\n/**\n * Reads a varint as an unsigned 64 bit value.\n * @name Reader#uint64\n * @function\n * @returns {Long} Value read\n */\n\n/**\n * Reads a zig-zag encoded varint as a signed 64 bit value.\n * @name Reader#sint64\n * @function\n * @returns {Long} Value read\n */\n\n/**\n * Reads a varint as a boolean.\n * @returns {boolean} Value read\n */\nReader.prototype.bool = function read_bool() {\n    return this.uint32() !== 0;\n};\n\nfunction readFixed32_end(buf, end) { // note that this uses `end`, not `pos`\n    return (buf[end - 4]\n          | buf[end - 3] << 8\n          | buf[end - 2] << 16\n          | buf[end - 1] << 24) >>> 0;\n}\n\n/**\n * Reads fixed 32 bits as an unsigned 32 bit integer.\n * @returns {number} Value read\n */\nReader.prototype.fixed32 = function read_fixed32() {\n\n    /* istanbul ignore if */\n    if (this.pos + 4 > this.len)\n        throw indexOutOfRange(this, 4);\n\n    return readFixed32_end(this.buf, this.pos += 4);\n};\n\n/**\n * Reads fixed 32 bits as a signed 32 bit integer.\n * @returns {number} Value read\n */\nReader.prototype.sfixed32 = function read_sfixed32() {\n\n    /* istanbul ignore if */\n    if (this.pos + 4 > this.len)\n        throw indexOutOfRange(this, 4);\n\n    return readFixed32_end(this.buf, this.pos += 4) | 0;\n};\n\n/* eslint-disable no-invalid-this */\n\nfunction readFixed64(/* this: Reader */) {\n\n    /* istanbul ignore if */\n    if (this.pos + 8 > this.len)\n        throw indexOutOfRange(this, 8);\n\n    return new LongBits(readFixed32_end(this.buf, this.pos += 4), readFixed32_end(this.buf, this.pos += 4));\n}\n\n/* eslint-enable no-invalid-this */\n\n/**\n * Reads fixed 64 bits.\n * @name Reader#fixed64\n * @function\n * @returns {Long} Value read\n */\n\n/**\n * Reads zig-zag encoded fixed 64 bits.\n * @name Reader#sfixed64\n * @function\n * @returns {Long} Value read\n */\n\n/**\n * Reads a float (32 bit) as a number.\n * @function\n * @returns {number} Value read\n */\nReader.prototype.float = function read_float() {\n\n    /* istanbul ignore if */\n    if (this.pos + 4 > this.len)\n        throw indexOutOfRange(this, 4);\n\n    var value = util.float.readFloatLE(this.buf, this.pos);\n    this.pos += 4;\n    return value;\n};\n\n/**\n * Reads a double (64 bit float) as a number.\n * @function\n * @returns {number} Value read\n */\nReader.prototype.double = function read_double() {\n\n    /* istanbul ignore if */\n    if (this.pos + 8 > this.len)\n        throw indexOutOfRange(this, 4);\n\n    var value = util.float.readDoubleLE(this.buf, this.pos);\n    this.pos += 8;\n    return value;\n};\n\n/**\n * Reads a sequence of bytes preceeded by its length as a varint.\n * @returns {Uint8Array} Value read\n */\nReader.prototype.bytes = function read_bytes() {\n    var length = this.uint32(),\n        start  = this.pos,\n        end    = this.pos + length;\n\n    /* istanbul ignore if */\n    if (end > this.len)\n        throw indexOutOfRange(this, length);\n\n    this.pos += length;\n    if (Array.isArray(this.buf)) // plain array\n        return this.buf.slice(start, end);\n\n    if (start === end) { // fix for IE 10/Win8 and others' subarray returning array of size 1\n        var nativeBuffer = util.Buffer;\n        return nativeBuffer\n            ? nativeBuffer.alloc(0)\n            : new this.buf.constructor(0);\n    }\n    return this._slice.call(this.buf, start, end);\n};\n\n/**\n * Reads a string preceeded by its byte length as a varint.\n * @returns {string} Value read\n */\nReader.prototype.string = function read_string() {\n    var bytes = this.bytes();\n    return utf8.read(bytes, 0, bytes.length);\n};\n\n/**\n * Skips the specified number of bytes if specified, otherwise skips a varint.\n * @param {number} [length] Length if known, otherwise a varint is assumed\n * @returns {Reader} `this`\n */\nReader.prototype.skip = function skip(length) {\n    if (typeof length === \"number\") {\n        /* istanbul ignore if */\n        if (this.pos + length > this.len)\n            throw indexOutOfRange(this, length);\n        this.pos += length;\n    } else {\n        do {\n            /* istanbul ignore if */\n            if (this.pos >= this.len)\n                throw indexOutOfRange(this);\n        } while (this.buf[this.pos++] & 128);\n    }\n    return this;\n};\n\n/**\n * Skips the next element of the specified wire type.\n * @param {number} wireType Wire type received\n * @returns {Reader} `this`\n */\nReader.prototype.skipType = function(wireType) {\n    switch (wireType) {\n        case 0:\n            this.skip();\n            break;\n        case 1:\n            this.skip(8);\n            break;\n        case 2:\n            this.skip(this.uint32());\n            break;\n        case 3:\n            while ((wireType = this.uint32() & 7) !== 4) {\n                this.skipType(wireType);\n            }\n            break;\n        case 5:\n            this.skip(4);\n            break;\n\n        /* istanbul ignore next */\n        default:\n            throw Error(\"invalid wire type \" + wireType + \" at offset \" + this.pos);\n    }\n    return this;\n};\n\nReader._configure = function(BufferReader_) {\n    BufferReader = BufferReader_;\n    Reader.create = create();\n    BufferReader._configure();\n\n    var fn = util.Long ? \"toLong\" : /* istanbul ignore next */ \"toNumber\";\n    util.merge(Reader.prototype, {\n\n        int64: function read_int64() {\n            return readLongVarint.call(this)[fn](false);\n        },\n\n        uint64: function read_uint64() {\n            return readLongVarint.call(this)[fn](true);\n        },\n\n        sint64: function read_sint64() {\n            return readLongVarint.call(this).zzDecode()[fn](false);\n        },\n\n        fixed64: function read_fixed64() {\n            return readFixed64.call(this)[fn](true);\n        },\n\n        sfixed64: function read_sfixed64() {\n            return readFixed64.call(this)[fn](false);\n        }\n\n    });\n};\n","\"use strict\";\nmodule.exports = BufferReader;\n\n// extends Reader\nvar Reader = require(\"./reader\");\n(BufferReader.prototype = Object.create(Reader.prototype)).constructor = BufferReader;\n\nvar util = require(\"./util/minimal\");\n\n/**\n * Constructs a new buffer reader instance.\n * @classdesc Wire format reader using node buffers.\n * @extends Reader\n * @constructor\n * @param {Buffer} buffer Buffer to read from\n */\nfunction BufferReader(buffer) {\n    Reader.call(this, buffer);\n\n    /**\n     * Read buffer.\n     * @name BufferReader#buf\n     * @type {Buffer}\n     */\n}\n\nBufferReader._configure = function () {\n    /* istanbul ignore else */\n    if (util.Buffer)\n        BufferReader.prototype._slice = util.Buffer.prototype.slice;\n};\n\n\n/**\n * @override\n */\nBufferReader.prototype.string = function read_string_buffer() {\n    var len = this.uint32(); // modifies pos\n    return this.buf.utf8Slice\n        ? this.buf.utf8Slice(this.pos, this.pos = Math.min(this.pos + len, this.len))\n        : this.buf.toString(\"utf-8\", this.pos, this.pos = Math.min(this.pos + len, this.len));\n};\n\n/**\n * Reads a sequence of bytes preceeded by its length as a varint.\n * @name BufferReader#bytes\n * @function\n * @returns {Buffer} Value read\n */\n\nBufferReader._configure();\n","\"use strict\";\nmodule.exports = {};\n\n/**\n * Named roots.\n * This is where pbjs stores generated structures (the option `-r, --root` specifies a name).\n * Can also be used manually to make roots available across modules.\n * @name roots\n * @type {Object.<string,Root>}\n * @example\n * // pbjs -r myroot -o compiled.js ...\n *\n * // in another module:\n * require(\"./compiled.js\");\n *\n * // in any subsequent module:\n * var root = protobuf.roots[\"myroot\"];\n */\n","\"use strict\";\n\n/**\n * Streaming RPC helpers.\n * @namespace\n */\nvar rpc = exports;\n\n/**\n * RPC implementation passed to {@link Service#create} performing a service request on network level, i.e. by utilizing http requests or websockets.\n * @typedef RPCImpl\n * @type {function}\n * @param {Method|rpc.ServiceMethod<Message<{}>,Message<{}>>} method Reflected or static method being called\n * @param {Uint8Array} requestData Request data\n * @param {RPCImplCallback} callback Callback function\n * @returns {undefined}\n * @example\n * function rpcImpl(method, requestData, callback) {\n *     if (protobuf.util.lcFirst(method.name) !== \"myMethod\") // compatible with static code\n *         throw Error(\"no such method\");\n *     asynchronouslyObtainAResponse(requestData, function(err, responseData) {\n *         callback(err, responseData);\n *     });\n * }\n */\n\n/**\n * Node-style callback as used by {@link RPCImpl}.\n * @typedef RPCImplCallback\n * @type {function}\n * @param {Error|null} error Error, if any, otherwise `null`\n * @param {Uint8Array|null} [response] Response data or `null` to signal end of stream, if there hasn't been an error\n * @returns {undefined}\n */\n\nrpc.Service = require(\"./rpc/service\");\n","\"use strict\";\nmodule.exports = Service;\n\nvar util = require(\"../util/minimal\");\n\n// Extends EventEmitter\n(Service.prototype = Object.create(util.EventEmitter.prototype)).constructor = Service;\n\n/**\n * A service method callback as used by {@link rpc.ServiceMethod|ServiceMethod}.\n *\n * Differs from {@link RPCImplCallback} in that it is an actual callback of a service method which may not return `response = null`.\n * @typedef rpc.ServiceMethodCallback\n * @template TRes extends Message<TRes>\n * @type {function}\n * @param {Error|null} error Error, if any\n * @param {TRes} [response] Response message\n * @returns {undefined}\n */\n\n/**\n * A service method part of a {@link rpc.Service} as created by {@link Service.create}.\n * @typedef rpc.ServiceMethod\n * @template TReq extends Message<TReq>\n * @template TRes extends Message<TRes>\n * @type {function}\n * @param {TReq|Properties<TReq>} request Request message or plain object\n * @param {rpc.ServiceMethodCallback<TRes>} [callback] Node-style callback called with the error, if any, and the response message\n * @returns {Promise<Message<TRes>>} Promise if `callback` has been omitted, otherwise `undefined`\n */\n\n/**\n * Constructs a new RPC service instance.\n * @classdesc An RPC service as returned by {@link Service#create}.\n * @exports rpc.Service\n * @extends util.EventEmitter\n * @constructor\n * @param {RPCImpl} rpcImpl RPC implementation\n * @param {boolean} [requestDelimited=false] Whether requests are length-delimited\n * @param {boolean} [responseDelimited=false] Whether responses are length-delimited\n */\nfunction Service(rpcImpl, requestDelimited, responseDelimited) {\n\n    if (typeof rpcImpl !== \"function\")\n        throw TypeError(\"rpcImpl must be a function\");\n\n    util.EventEmitter.call(this);\n\n    /**\n     * RPC implementation. Becomes `null` once the service is ended.\n     * @type {RPCImpl|null}\n     */\n    this.rpcImpl = rpcImpl;\n\n    /**\n     * Whether requests are length-delimited.\n     * @type {boolean}\n     */\n    this.requestDelimited = Boolean(requestDelimited);\n\n    /**\n     * Whether responses are length-delimited.\n     * @type {boolean}\n     */\n    this.responseDelimited = Boolean(responseDelimited);\n}\n\n/**\n * Calls a service method through {@link rpc.Service#rpcImpl|rpcImpl}.\n * @param {Method|rpc.ServiceMethod<TReq,TRes>} method Reflected or static method\n * @param {Constructor<TReq>} requestCtor Request constructor\n * @param {Constructor<TRes>} responseCtor Response constructor\n * @param {TReq|Properties<TReq>} request Request message or plain object\n * @param {rpc.ServiceMethodCallback<TRes>} callback Service callback\n * @returns {undefined}\n * @template TReq extends Message<TReq>\n * @template TRes extends Message<TRes>\n */\nService.prototype.rpcCall = function rpcCall(method, requestCtor, responseCtor, request, callback) {\n\n    if (!request)\n        throw TypeError(\"request must be specified\");\n\n    var self = this;\n    if (!callback)\n        return util.asPromise(rpcCall, self, method, requestCtor, responseCtor, request);\n\n    if (!self.rpcImpl) {\n        setTimeout(function() { callback(Error(\"already ended\")); }, 0);\n        return undefined;\n    }\n\n    try {\n        return self.rpcImpl(\n            method,\n            requestCtor[self.requestDelimited ? \"encodeDelimited\" : \"encode\"](request).finish(),\n            function rpcCallback(err, response) {\n\n                if (err) {\n                    self.emit(\"error\", err, method);\n                    return callback(err);\n                }\n\n                if (response === null) {\n                    self.end(/* endedByRPC */ true);\n                    return undefined;\n                }\n\n                if (!(response instanceof responseCtor)) {\n                    try {\n                        response = responseCtor[self.responseDelimited ? \"decodeDelimited\" : \"decode\"](response);\n                    } catch (err) {\n                        self.emit(\"error\", err, method);\n                        return callback(err);\n                    }\n                }\n\n                self.emit(\"data\", response, method);\n                return callback(null, response);\n            }\n        );\n    } catch (err) {\n        self.emit(\"error\", err, method);\n        setTimeout(function() { callback(err); }, 0);\n        return undefined;\n    }\n};\n\n/**\n * Ends this service and emits the `end` event.\n * @param {boolean} [endedByRPC=false] Whether the service has been ended by the RPC implementation.\n * @returns {rpc.Service} `this`\n */\nService.prototype.end = function end(endedByRPC) {\n    if (this.rpcImpl) {\n        if (!endedByRPC) // signal end to rpcImpl\n            this.rpcImpl(null, null, null);\n        this.rpcImpl = null;\n        this.emit(\"end\").off();\n    }\n    return this;\n};\n","\"use strict\";\nmodule.exports = LongBits;\n\nvar util = require(\"../util/minimal\");\n\n/**\n * Constructs new long bits.\n * @classdesc Helper class for working with the low and high bits of a 64 bit value.\n * @memberof util\n * @constructor\n * @param {number} lo Low 32 bits, unsigned\n * @param {number} hi High 32 bits, unsigned\n */\nfunction LongBits(lo, hi) {\n\n    // note that the casts below are theoretically unnecessary as of today, but older statically\n    // generated converter code might still call the ctor with signed 32bits. kept for compat.\n\n    /**\n     * Low bits.\n     * @type {number}\n     */\n    this.lo = lo >>> 0;\n\n    /**\n     * High bits.\n     * @type {number}\n     */\n    this.hi = hi >>> 0;\n}\n\n/**\n * Zero bits.\n * @memberof util.LongBits\n * @type {util.LongBits}\n */\nvar zero = LongBits.zero = new LongBits(0, 0);\n\nzero.toNumber = function() { return 0; };\nzero.zzEncode = zero.zzDecode = function() { return this; };\nzero.length = function() { return 1; };\n\n/**\n * Zero hash.\n * @memberof util.LongBits\n * @type {string}\n */\nvar zeroHash = LongBits.zeroHash = \"\\0\\0\\0\\0\\0\\0\\0\\0\";\n\n/**\n * Constructs new long bits from the specified number.\n * @param {number} value Value\n * @returns {util.LongBits} Instance\n */\nLongBits.fromNumber = function fromNumber(value) {\n    if (value === 0)\n        return zero;\n    var sign = value < 0;\n    if (sign)\n        value = -value;\n    var lo = value >>> 0,\n        hi = (value - lo) / 4294967296 >>> 0;\n    if (sign) {\n        hi = ~hi >>> 0;\n        lo = ~lo >>> 0;\n        if (++lo > 4294967295) {\n            lo = 0;\n            if (++hi > 4294967295)\n                hi = 0;\n        }\n    }\n    return new LongBits(lo, hi);\n};\n\n/**\n * Constructs new long bits from a number, long or string.\n * @param {Long|number|string} value Value\n * @returns {util.LongBits} Instance\n */\nLongBits.from = function from(value) {\n    if (typeof value === \"number\")\n        return LongBits.fromNumber(value);\n    if (util.isString(value)) {\n        /* istanbul ignore else */\n        if (util.Long)\n            value = util.Long.fromString(value);\n        else\n            return LongBits.fromNumber(parseInt(value, 10));\n    }\n    return value.low || value.high ? new LongBits(value.low >>> 0, value.high >>> 0) : zero;\n};\n\n/**\n * Converts this long bits to a possibly unsafe JavaScript number.\n * @param {boolean} [unsigned=false] Whether unsigned or not\n * @returns {number} Possibly unsafe number\n */\nLongBits.prototype.toNumber = function toNumber(unsigned) {\n    if (!unsigned && this.hi >>> 31) {\n        var lo = ~this.lo + 1 >>> 0,\n            hi = ~this.hi     >>> 0;\n        if (!lo)\n            hi = hi + 1 >>> 0;\n        return -(lo + hi * 4294967296);\n    }\n    return this.lo + this.hi * 4294967296;\n};\n\n/**\n * Converts this long bits to a long.\n * @param {boolean} [unsigned=false] Whether unsigned or not\n * @returns {Long} Long\n */\nLongBits.prototype.toLong = function toLong(unsigned) {\n    return util.Long\n        ? new util.Long(this.lo | 0, this.hi | 0, Boolean(unsigned))\n        /* istanbul ignore next */\n        : { low: this.lo | 0, high: this.hi | 0, unsigned: Boolean(unsigned) };\n};\n\nvar charCodeAt = String.prototype.charCodeAt;\n\n/**\n * Constructs new long bits from the specified 8 characters long hash.\n * @param {string} hash Hash\n * @returns {util.LongBits} Bits\n */\nLongBits.fromHash = function fromHash(hash) {\n    if (hash === zeroHash)\n        return zero;\n    return new LongBits(\n        ( charCodeAt.call(hash, 0)\n        | charCodeAt.call(hash, 1) << 8\n        | charCodeAt.call(hash, 2) << 16\n        | charCodeAt.call(hash, 3) << 24) >>> 0\n    ,\n        ( charCodeAt.call(hash, 4)\n        | charCodeAt.call(hash, 5) << 8\n        | charCodeAt.call(hash, 6) << 16\n        | charCodeAt.call(hash, 7) << 24) >>> 0\n    );\n};\n\n/**\n * Converts this long bits to a 8 characters long hash.\n * @returns {string} Hash\n */\nLongBits.prototype.toHash = function toHash() {\n    return String.fromCharCode(\n        this.lo        & 255,\n        this.lo >>> 8  & 255,\n        this.lo >>> 16 & 255,\n        this.lo >>> 24      ,\n        this.hi        & 255,\n        this.hi >>> 8  & 255,\n        this.hi >>> 16 & 255,\n        this.hi >>> 24\n    );\n};\n\n/**\n * Zig-zag encodes this long bits.\n * @returns {util.LongBits} `this`\n */\nLongBits.prototype.zzEncode = function zzEncode() {\n    var mask =   this.hi >> 31;\n    this.hi  = ((this.hi << 1 | this.lo >>> 31) ^ mask) >>> 0;\n    this.lo  = ( this.lo << 1                   ^ mask) >>> 0;\n    return this;\n};\n\n/**\n * Zig-zag decodes this long bits.\n * @returns {util.LongBits} `this`\n */\nLongBits.prototype.zzDecode = function zzDecode() {\n    var mask = -(this.lo & 1);\n    this.lo  = ((this.lo >>> 1 | this.hi << 31) ^ mask) >>> 0;\n    this.hi  = ( this.hi >>> 1                  ^ mask) >>> 0;\n    return this;\n};\n\n/**\n * Calculates the length of this longbits when encoded as a varint.\n * @returns {number} Length\n */\nLongBits.prototype.length = function length() {\n    var part0 =  this.lo,\n        part1 = (this.lo >>> 28 | this.hi << 4) >>> 0,\n        part2 =  this.hi >>> 24;\n    return part2 === 0\n         ? part1 === 0\n           ? part0 < 16384\n             ? part0 < 128 ? 1 : 2\n             : part0 < 2097152 ? 3 : 4\n           : part1 < 16384\n             ? part1 < 128 ? 5 : 6\n             : part1 < 2097152 ? 7 : 8\n         : part2 < 128 ? 9 : 10;\n};\n","\"use strict\";\nvar util = exports;\n\n// used to return a Promise where callback is omitted\nutil.asPromise = require(\"@protobufjs/aspromise\");\n\n// converts to / from base64 encoded strings\nutil.base64 = require(\"@protobufjs/base64\");\n\n// base class of rpc.Service\nutil.EventEmitter = require(\"@protobufjs/eventemitter\");\n\n// float handling accross browsers\nutil.float = require(\"@protobufjs/float\");\n\n// requires modules optionally and hides the call from bundlers\nutil.inquire = require(\"@protobufjs/inquire\");\n\n// converts to / from utf8 encoded strings\nutil.utf8 = require(\"@protobufjs/utf8\");\n\n// provides a node-like buffer pool in the browser\nutil.pool = require(\"@protobufjs/pool\");\n\n// utility to work with the low and high bits of a 64 bit value\nutil.LongBits = require(\"./longbits\");\n\n/**\n * Whether running within node or not.\n * @memberof util\n * @type {boolean}\n */\nutil.isNode = Boolean(typeof global !== \"undefined\"\n                   && global\n                   && global.process\n                   && global.process.versions\n                   && global.process.versions.node);\n\n/**\n * Global object reference.\n * @memberof util\n * @type {Object}\n */\nutil.global = util.isNode && global\n           || typeof window !== \"undefined\" && window\n           || typeof self   !== \"undefined\" && self\n           || this; // eslint-disable-line no-invalid-this\n\n/**\n * An immuable empty array.\n * @memberof util\n * @type {Array.<*>}\n * @const\n */\nutil.emptyArray = Object.freeze ? Object.freeze([]) : /* istanbul ignore next */ []; // used on prototypes\n\n/**\n * An immutable empty object.\n * @type {Object}\n * @const\n */\nutil.emptyObject = Object.freeze ? Object.freeze({}) : /* istanbul ignore next */ {}; // used on prototypes\n\n/**\n * Tests if the specified value is an integer.\n * @function\n * @param {*} value Value to test\n * @returns {boolean} `true` if the value is an integer\n */\nutil.isInteger = Number.isInteger || /* istanbul ignore next */ function isInteger(value) {\n    return typeof value === \"number\" && isFinite(value) && Math.floor(value) === value;\n};\n\n/**\n * Tests if the specified value is a string.\n * @param {*} value Value to test\n * @returns {boolean} `true` if the value is a string\n */\nutil.isString = function isString(value) {\n    return typeof value === \"string\" || value instanceof String;\n};\n\n/**\n * Tests if the specified value is a non-null object.\n * @param {*} value Value to test\n * @returns {boolean} `true` if the value is a non-null object\n */\nutil.isObject = function isObject(value) {\n    return value && typeof value === \"object\";\n};\n\n/**\n * Checks if a property on a message is considered to be present.\n * This is an alias of {@link util.isSet}.\n * @function\n * @param {Object} obj Plain object or message instance\n * @param {string} prop Property name\n * @returns {boolean} `true` if considered to be present, otherwise `false`\n */\nutil.isset =\n\n/**\n * Checks if a property on a message is considered to be present.\n * @param {Object} obj Plain object or message instance\n * @param {string} prop Property name\n * @returns {boolean} `true` if considered to be present, otherwise `false`\n */\nutil.isSet = function isSet(obj, prop) {\n    var value = obj[prop];\n    if (value != null && obj.hasOwnProperty(prop)) // eslint-disable-line eqeqeq, no-prototype-builtins\n        return typeof value !== \"object\" || (Array.isArray(value) ? value.length : Object.keys(value).length) > 0;\n    return false;\n};\n\n/**\n * Any compatible Buffer instance.\n * This is a minimal stand-alone definition of a Buffer instance. The actual type is that exported by node's typings.\n * @interface Buffer\n * @extends Uint8Array\n */\n\n/**\n * Node's Buffer class if available.\n * @type {Constructor<Buffer>}\n */\nutil.Buffer = (function() {\n    try {\n        var Buffer = util.inquire(\"buffer\").Buffer;\n        // refuse to use non-node buffers if not explicitly assigned (perf reasons):\n        return Buffer.prototype.utf8Write ? Buffer : /* istanbul ignore next */ null;\n    } catch (e) {\n        /* istanbul ignore next */\n        return null;\n    }\n})();\n\n// Internal alias of or polyfull for Buffer.from.\nutil._Buffer_from = null;\n\n// Internal alias of or polyfill for Buffer.allocUnsafe.\nutil._Buffer_allocUnsafe = null;\n\n/**\n * Creates a new buffer of whatever type supported by the environment.\n * @param {number|number[]} [sizeOrArray=0] Buffer size or number array\n * @returns {Uint8Array|Buffer} Buffer\n */\nutil.newBuffer = function newBuffer(sizeOrArray) {\n    /* istanbul ignore next */\n    return typeof sizeOrArray === \"number\"\n        ? util.Buffer\n            ? util._Buffer_allocUnsafe(sizeOrArray)\n            : new util.Array(sizeOrArray)\n        : util.Buffer\n            ? util._Buffer_from(sizeOrArray)\n            : typeof Uint8Array === \"undefined\"\n                ? sizeOrArray\n                : new Uint8Array(sizeOrArray);\n};\n\n/**\n * Array implementation used in the browser. `Uint8Array` if supported, otherwise `Array`.\n * @type {Constructor<Uint8Array>}\n */\nutil.Array = typeof Uint8Array !== \"undefined\" ? Uint8Array /* istanbul ignore next */ : Array;\n\n/**\n * Any compatible Long instance.\n * This is a minimal stand-alone definition of a Long instance. The actual type is that exported by long.js.\n * @interface Long\n * @property {number} low Low bits\n * @property {number} high High bits\n * @property {boolean} unsigned Whether unsigned or not\n */\n\n/**\n * Long.js's Long class if available.\n * @type {Constructor<Long>}\n */\nutil.Long = /* istanbul ignore next */ util.global.dcodeIO && /* istanbul ignore next */ util.global.dcodeIO.Long\n         || /* istanbul ignore next */ util.global.Long\n         || util.inquire(\"long\");\n\n/**\n * Regular expression used to verify 2 bit (`bool`) map keys.\n * @type {RegExp}\n * @const\n */\nutil.key2Re = /^true|false|0|1$/;\n\n/**\n * Regular expression used to verify 32 bit (`int32` etc.) map keys.\n * @type {RegExp}\n * @const\n */\nutil.key32Re = /^-?(?:0|[1-9][0-9]*)$/;\n\n/**\n * Regular expression used to verify 64 bit (`int64` etc.) map keys.\n * @type {RegExp}\n * @const\n */\nutil.key64Re = /^(?:[\\\\x00-\\\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;\n\n/**\n * Converts a number or long to an 8 characters long hash string.\n * @param {Long|number} value Value to convert\n * @returns {string} Hash\n */\nutil.longToHash = function longToHash(value) {\n    return value\n        ? util.LongBits.from(value).toHash()\n        : util.LongBits.zeroHash;\n};\n\n/**\n * Converts an 8 characters long hash string to a long or number.\n * @param {string} hash Hash\n * @param {boolean} [unsigned=false] Whether unsigned or not\n * @returns {Long|number} Original value\n */\nutil.longFromHash = function longFromHash(hash, unsigned) {\n    var bits = util.LongBits.fromHash(hash);\n    if (util.Long)\n        return util.Long.fromBits(bits.lo, bits.hi, unsigned);\n    return bits.toNumber(Boolean(unsigned));\n};\n\n/**\n * Merges the properties of the source object into the destination object.\n * @memberof util\n * @param {Object.<string,*>} dst Destination object\n * @param {Object.<string,*>} src Source object\n * @param {boolean} [ifNotSet=false] Merges only if the key is not already set\n * @returns {Object.<string,*>} Destination object\n */\nfunction merge(dst, src, ifNotSet) { // used by converters\n    for (var keys = Object.keys(src), i = 0; i < keys.length; ++i)\n        if (dst[keys[i]] === undefined || !ifNotSet)\n            dst[keys[i]] = src[keys[i]];\n    return dst;\n}\n\nutil.merge = merge;\n\n/**\n * Converts the first character of a string to lower case.\n * @param {string} str String to convert\n * @returns {string} Converted string\n */\nutil.lcFirst = function lcFirst(str) {\n    return str.charAt(0).toLowerCase() + str.substring(1);\n};\n\n/**\n * Creates a custom error constructor.\n * @memberof util\n * @param {string} name Error name\n * @returns {Constructor<Error>} Custom error constructor\n */\nfunction newError(name) {\n\n    function CustomError(message, properties) {\n\n        if (!(this instanceof CustomError))\n            return new CustomError(message, properties);\n\n        // Error.call(this, message);\n        // ^ just returns a new error instance because the ctor can be called as a function\n\n        Object.defineProperty(this, \"message\", { get: function() { return message; } });\n\n        /* istanbul ignore next */\n        if (Error.captureStackTrace) // node\n            Error.captureStackTrace(this, CustomError);\n        else\n            Object.defineProperty(this, \"stack\", { value: new Error().stack || \"\" });\n\n        if (properties)\n            merge(this, properties);\n    }\n\n    CustomError.prototype = Object.create(Error.prototype, {\n        constructor: {\n            value: CustomError,\n            writable: true,\n            enumerable: false,\n            configurable: true,\n        },\n        name: {\n            get: function get() { return name; },\n            set: undefined,\n            enumerable: false,\n            // configurable: false would accurately preserve the behavior of\n            // the original, but I'm guessing that was not intentional.\n            // For an actual error subclass, this property would\n            // be configurable.\n            configurable: true,\n        },\n        toString: {\n            value: function value() { return this.name + \": \" + this.message; },\n            writable: true,\n            enumerable: false,\n            configurable: true,\n        },\n    });\n\n    return CustomError;\n}\n\nutil.newError = newError;\n\n/**\n * Constructs a new protocol error.\n * @classdesc Error subclass indicating a protocol specifc error.\n * @memberof util\n * @extends Error\n * @template T extends Message<T>\n * @constructor\n * @param {string} message Error message\n * @param {Object.<string,*>} [properties] Additional properties\n * @example\n * try {\n *     MyMessage.decode(someBuffer); // throws if required fields are missing\n * } catch (e) {\n *     if (e instanceof ProtocolError && e.instance)\n *         console.log(\"decoded so far: \" + JSON.stringify(e.instance));\n * }\n */\nutil.ProtocolError = newError(\"ProtocolError\");\n\n/**\n * So far decoded message instance.\n * @name util.ProtocolError#instance\n * @type {Message<T>}\n */\n\n/**\n * A OneOf getter as returned by {@link util.oneOfGetter}.\n * @typedef OneOfGetter\n * @type {function}\n * @returns {string|undefined} Set field name, if any\n */\n\n/**\n * Builds a getter for a oneof's present field name.\n * @param {string[]} fieldNames Field names\n * @returns {OneOfGetter} Unbound getter\n */\nutil.oneOfGetter = function getOneOf(fieldNames) {\n    var fieldMap = {};\n    for (var i = 0; i < fieldNames.length; ++i)\n        fieldMap[fieldNames[i]] = 1;\n\n    /**\n     * @returns {string|undefined} Set field name, if any\n     * @this Object\n     * @ignore\n     */\n    return function() { // eslint-disable-line consistent-return\n        for (var keys = Object.keys(this), i = keys.length - 1; i > -1; --i)\n            if (fieldMap[keys[i]] === 1 && this[keys[i]] !== undefined && this[keys[i]] !== null)\n                return keys[i];\n    };\n};\n\n/**\n * A OneOf setter as returned by {@link util.oneOfSetter}.\n * @typedef OneOfSetter\n * @type {function}\n * @param {string|undefined} value Field name\n * @returns {undefined}\n */\n\n/**\n * Builds a setter for a oneof's present field name.\n * @param {string[]} fieldNames Field names\n * @returns {OneOfSetter} Unbound setter\n */\nutil.oneOfSetter = function setOneOf(fieldNames) {\n\n    /**\n     * @param {string} name Field name\n     * @returns {undefined}\n     * @this Object\n     * @ignore\n     */\n    return function(name) {\n        for (var i = 0; i < fieldNames.length; ++i)\n            if (fieldNames[i] !== name)\n                delete this[fieldNames[i]];\n    };\n};\n\n/**\n * Default conversion options used for {@link Message#toJSON} implementations.\n *\n * These options are close to proto3's JSON mapping with the exception that internal types like Any are handled just like messages. More precisely:\n *\n * - Longs become strings\n * - Enums become string keys\n * - Bytes become base64 encoded strings\n * - (Sub-)Messages become plain objects\n * - Maps become plain objects with all string keys\n * - Repeated fields become arrays\n * - NaN and Infinity for float and double fields become strings\n *\n * @type {IConversionOptions}\n * @see https://developers.google.com/protocol-buffers/docs/proto3?hl=en#json\n */\nutil.toJSONOptions = {\n    longs: String,\n    enums: String,\n    bytes: String,\n    json: true\n};\n\n// Sets up buffer utility according to the environment (called in index-minimal)\nutil._configure = function() {\n    var Buffer = util.Buffer;\n    /* istanbul ignore if */\n    if (!Buffer) {\n        util._Buffer_from = util._Buffer_allocUnsafe = null;\n        return;\n    }\n    // because node 4.x buffers are incompatible & immutable\n    // see: https://github.com/dcodeIO/protobuf.js/pull/665\n    util._Buffer_from = Buffer.from !== Uint8Array.from && Buffer.from ||\n        /* istanbul ignore next */\n        function Buffer_from(value, encoding) {\n            return new Buffer(value, encoding);\n        };\n    util._Buffer_allocUnsafe = Buffer.allocUnsafe ||\n        /* istanbul ignore next */\n        function Buffer_allocUnsafe(size) {\n            return new Buffer(size);\n        };\n};\n","\"use strict\";\nmodule.exports = Writer;\n\nvar util      = require(\"./util/minimal\");\n\nvar BufferWriter; // cyclic\n\nvar LongBits  = util.LongBits,\n    base64    = util.base64,\n    utf8      = util.utf8;\n\n/**\n * Constructs a new writer operation instance.\n * @classdesc Scheduled writer operation.\n * @constructor\n * @param {function(*, Uint8Array, number)} fn Function to call\n * @param {number} len Value byte length\n * @param {*} val Value to write\n * @ignore\n */\nfunction Op(fn, len, val) {\n\n    /**\n     * Function to call.\n     * @type {function(Uint8Array, number, *)}\n     */\n    this.fn = fn;\n\n    /**\n     * Value byte length.\n     * @type {number}\n     */\n    this.len = len;\n\n    /**\n     * Next operation.\n     * @type {Writer.Op|undefined}\n     */\n    this.next = undefined;\n\n    /**\n     * Value to write.\n     * @type {*}\n     */\n    this.val = val; // type varies\n}\n\n/* istanbul ignore next */\nfunction noop() {} // eslint-disable-line no-empty-function\n\n/**\n * Constructs a new writer state instance.\n * @classdesc Copied writer state.\n * @memberof Writer\n * @constructor\n * @param {Writer} writer Writer to copy state from\n * @ignore\n */\nfunction State(writer) {\n\n    /**\n     * Current head.\n     * @type {Writer.Op}\n     */\n    this.head = writer.head;\n\n    /**\n     * Current tail.\n     * @type {Writer.Op}\n     */\n    this.tail = writer.tail;\n\n    /**\n     * Current buffer length.\n     * @type {number}\n     */\n    this.len = writer.len;\n\n    /**\n     * Next state.\n     * @type {State|null}\n     */\n    this.next = writer.states;\n}\n\n/**\n * Constructs a new writer instance.\n * @classdesc Wire format writer using `Uint8Array` if available, otherwise `Array`.\n * @constructor\n */\nfunction Writer() {\n\n    /**\n     * Current length.\n     * @type {number}\n     */\n    this.len = 0;\n\n    /**\n     * Operations head.\n     * @type {Object}\n     */\n    this.head = new Op(noop, 0, 0);\n\n    /**\n     * Operations tail\n     * @type {Object}\n     */\n    this.tail = this.head;\n\n    /**\n     * Linked forked states.\n     * @type {Object|null}\n     */\n    this.states = null;\n\n    // When a value is written, the writer calculates its byte length and puts it into a linked\n    // list of operations to perform when finish() is called. This both allows us to allocate\n    // buffers of the exact required size and reduces the amount of work we have to do compared\n    // to first calculating over objects and then encoding over objects. In our case, the encoding\n    // part is just a linked list walk calling operations with already prepared values.\n}\n\nvar create = function create() {\n    return util.Buffer\n        ? function create_buffer_setup() {\n            return (Writer.create = function create_buffer() {\n                return new BufferWriter();\n            })();\n        }\n        /* istanbul ignore next */\n        : function create_array() {\n            return new Writer();\n        };\n};\n\n/**\n * Creates a new writer.\n * @function\n * @returns {BufferWriter|Writer} A {@link BufferWriter} when Buffers are supported, otherwise a {@link Writer}\n */\nWriter.create = create();\n\n/**\n * Allocates a buffer of the specified size.\n * @param {number} size Buffer size\n * @returns {Uint8Array} Buffer\n */\nWriter.alloc = function alloc(size) {\n    return new util.Array(size);\n};\n\n// Use Uint8Array buffer pool in the browser, just like node does with buffers\n/* istanbul ignore else */\nif (util.Array !== Array)\n    Writer.alloc = util.pool(Writer.alloc, util.Array.prototype.subarray);\n\n/**\n * Pushes a new operation to the queue.\n * @param {function(Uint8Array, number, *)} fn Function to call\n * @param {number} len Value byte length\n * @param {number} val Value to write\n * @returns {Writer} `this`\n * @private\n */\nWriter.prototype._push = function push(fn, len, val) {\n    this.tail = this.tail.next = new Op(fn, len, val);\n    this.len += len;\n    return this;\n};\n\nfunction writeByte(val, buf, pos) {\n    buf[pos] = val & 255;\n}\n\nfunction writeVarint32(val, buf, pos) {\n    while (val > 127) {\n        buf[pos++] = val & 127 | 128;\n        val >>>= 7;\n    }\n    buf[pos] = val;\n}\n\n/**\n * Constructs a new varint writer operation instance.\n * @classdesc Scheduled varint writer operation.\n * @extends Op\n * @constructor\n * @param {number} len Value byte length\n * @param {number} val Value to write\n * @ignore\n */\nfunction VarintOp(len, val) {\n    this.len = len;\n    this.next = undefined;\n    this.val = val;\n}\n\nVarintOp.prototype = Object.create(Op.prototype);\nVarintOp.prototype.fn = writeVarint32;\n\n/**\n * Writes an unsigned 32 bit value as a varint.\n * @param {number} value Value to write\n * @returns {Writer} `this`\n */\nWriter.prototype.uint32 = function write_uint32(value) {\n    // here, the call to this.push has been inlined and a varint specific Op subclass is used.\n    // uint32 is by far the most frequently used operation and benefits significantly from this.\n    this.len += (this.tail = this.tail.next = new VarintOp(\n        (value = value >>> 0)\n                < 128       ? 1\n        : value < 16384     ? 2\n        : value < 2097152   ? 3\n        : value < 268435456 ? 4\n        :                     5,\n    value)).len;\n    return this;\n};\n\n/**\n * Writes a signed 32 bit value as a varint.\n * @function\n * @param {number} value Value to write\n * @returns {Writer} `this`\n */\nWriter.prototype.int32 = function write_int32(value) {\n    return value < 0\n        ? this._push(writeVarint64, 10, LongBits.fromNumber(value)) // 10 bytes per spec\n        : this.uint32(value);\n};\n\n/**\n * Writes a 32 bit value as a varint, zig-zag encoded.\n * @param {number} value Value to write\n * @returns {Writer} `this`\n */\nWriter.prototype.sint32 = function write_sint32(value) {\n    return this.uint32((value << 1 ^ value >> 31) >>> 0);\n};\n\nfunction writeVarint64(val, buf, pos) {\n    while (val.hi) {\n        buf[pos++] = val.lo & 127 | 128;\n        val.lo = (val.lo >>> 7 | val.hi << 25) >>> 0;\n        val.hi >>>= 7;\n    }\n    while (val.lo > 127) {\n        buf[pos++] = val.lo & 127 | 128;\n        val.lo = val.lo >>> 7;\n    }\n    buf[pos++] = val.lo;\n}\n\n/**\n * Writes an unsigned 64 bit value as a varint.\n * @param {Long|number|string} value Value to write\n * @returns {Writer} `this`\n * @throws {TypeError} If `value` is a string and no long library is present.\n */\nWriter.prototype.uint64 = function write_uint64(value) {\n    var bits = LongBits.from(value);\n    return this._push(writeVarint64, bits.length(), bits);\n};\n\n/**\n * Writes a signed 64 bit value as a varint.\n * @function\n * @param {Long|number|string} value Value to write\n * @returns {Writer} `this`\n * @throws {TypeError} If `value` is a string and no long library is present.\n */\nWriter.prototype.int64 = Writer.prototype.uint64;\n\n/**\n * Writes a signed 64 bit value as a varint, zig-zag encoded.\n * @param {Long|number|string} value Value to write\n * @returns {Writer} `this`\n * @throws {TypeError} If `value` is a string and no long library is present.\n */\nWriter.prototype.sint64 = function write_sint64(value) {\n    var bits = LongBits.from(value).zzEncode();\n    return this._push(writeVarint64, bits.length(), bits);\n};\n\n/**\n * Writes a boolish value as a varint.\n * @param {boolean} value Value to write\n * @returns {Writer} `this`\n */\nWriter.prototype.bool = function write_bool(value) {\n    return this._push(writeByte, 1, value ? 1 : 0);\n};\n\nfunction writeFixed32(val, buf, pos) {\n    buf[pos    ] =  val         & 255;\n    buf[pos + 1] =  val >>> 8   & 255;\n    buf[pos + 2] =  val >>> 16  & 255;\n    buf[pos + 3] =  val >>> 24;\n}\n\n/**\n * Writes an unsigned 32 bit value as fixed 32 bits.\n * @param {number} value Value to write\n * @returns {Writer} `this`\n */\nWriter.prototype.fixed32 = function write_fixed32(value) {\n    return this._push(writeFixed32, 4, value >>> 0);\n};\n\n/**\n * Writes a signed 32 bit value as fixed 32 bits.\n * @function\n * @param {number} value Value to write\n * @returns {Writer} `this`\n */\nWriter.prototype.sfixed32 = Writer.prototype.fixed32;\n\n/**\n * Writes an unsigned 64 bit value as fixed 64 bits.\n * @param {Long|number|string} value Value to write\n * @returns {Writer} `this`\n * @throws {TypeError} If `value` is a string and no long library is present.\n */\nWriter.prototype.fixed64 = function write_fixed64(value) {\n    var bits = LongBits.from(value);\n    return this._push(writeFixed32, 4, bits.lo)._push(writeFixed32, 4, bits.hi);\n};\n\n/**\n * Writes a signed 64 bit value as fixed 64 bits.\n * @function\n * @param {Long|number|string} value Value to write\n * @returns {Writer} `this`\n * @throws {TypeError} If `value` is a string and no long library is present.\n */\nWriter.prototype.sfixed64 = Writer.prototype.fixed64;\n\n/**\n * Writes a float (32 bit).\n * @function\n * @param {number} value Value to write\n * @returns {Writer} `this`\n */\nWriter.prototype.float = function write_float(value) {\n    return this._push(util.float.writeFloatLE, 4, value);\n};\n\n/**\n * Writes a double (64 bit float).\n * @function\n * @param {number} value Value to write\n * @returns {Writer} `this`\n */\nWriter.prototype.double = function write_double(value) {\n    return this._push(util.float.writeDoubleLE, 8, value);\n};\n\nvar writeBytes = util.Array.prototype.set\n    ? function writeBytes_set(val, buf, pos) {\n        buf.set(val, pos); // also works for plain array values\n    }\n    /* istanbul ignore next */\n    : function writeBytes_for(val, buf, pos) {\n        for (var i = 0; i < val.length; ++i)\n            buf[pos + i] = val[i];\n    };\n\n/**\n * Writes a sequence of bytes.\n * @param {Uint8Array|string} value Buffer or base64 encoded string to write\n * @returns {Writer} `this`\n */\nWriter.prototype.bytes = function write_bytes(value) {\n    var len = value.length >>> 0;\n    if (!len)\n        return this._push(writeByte, 1, 0);\n    if (util.isString(value)) {\n        var buf = Writer.alloc(len = base64.length(value));\n        base64.decode(value, buf, 0);\n        value = buf;\n    }\n    return this.uint32(len)._push(writeBytes, len, value);\n};\n\n/**\n * Writes a string.\n * @param {string} value Value to write\n * @returns {Writer} `this`\n */\nWriter.prototype.string = function write_string(value) {\n    var len = utf8.length(value);\n    return len\n        ? this.uint32(len)._push(utf8.write, len, value)\n        : this._push(writeByte, 1, 0);\n};\n\n/**\n * Forks this writer's state by pushing it to a stack.\n * Calling {@link Writer#reset|reset} or {@link Writer#ldelim|ldelim} resets the writer to the previous state.\n * @returns {Writer} `this`\n */\nWriter.prototype.fork = function fork() {\n    this.states = new State(this);\n    this.head = this.tail = new Op(noop, 0, 0);\n    this.len = 0;\n    return this;\n};\n\n/**\n * Resets this instance to the last state.\n * @returns {Writer} `this`\n */\nWriter.prototype.reset = function reset() {\n    if (this.states) {\n        this.head   = this.states.head;\n        this.tail   = this.states.tail;\n        this.len    = this.states.len;\n        this.states = this.states.next;\n    } else {\n        this.head = this.tail = new Op(noop, 0, 0);\n        this.len  = 0;\n    }\n    return this;\n};\n\n/**\n * Resets to the last state and appends the fork state's current write length as a varint followed by its operations.\n * @returns {Writer} `this`\n */\nWriter.prototype.ldelim = function ldelim() {\n    var head = this.head,\n        tail = this.tail,\n        len  = this.len;\n    this.reset().uint32(len);\n    if (len) {\n        this.tail.next = head.next; // skip noop\n        this.tail = tail;\n        this.len += len;\n    }\n    return this;\n};\n\n/**\n * Finishes the write operation.\n * @returns {Uint8Array} Finished buffer\n */\nWriter.prototype.finish = function finish() {\n    var head = this.head.next, // skip noop\n        buf  = this.constructor.alloc(this.len),\n        pos  = 0;\n    while (head) {\n        head.fn(head.val, buf, pos);\n        pos += head.len;\n        head = head.next;\n    }\n    // this.head = this.tail = null;\n    return buf;\n};\n\nWriter._configure = function(BufferWriter_) {\n    BufferWriter = BufferWriter_;\n    Writer.create = create();\n    BufferWriter._configure();\n};\n","\"use strict\";\nmodule.exports = BufferWriter;\n\n// extends Writer\nvar Writer = require(\"./writer\");\n(BufferWriter.prototype = Object.create(Writer.prototype)).constructor = BufferWriter;\n\nvar util = require(\"./util/minimal\");\n\n/**\n * Constructs a new buffer writer instance.\n * @classdesc Wire format writer using node buffers.\n * @extends Writer\n * @constructor\n */\nfunction BufferWriter() {\n    Writer.call(this);\n}\n\nBufferWriter._configure = function () {\n    /**\n     * Allocates a buffer of the specified size.\n     * @function\n     * @param {number} size Buffer size\n     * @returns {Buffer} Buffer\n     */\n    BufferWriter.alloc = util._Buffer_allocUnsafe;\n\n    BufferWriter.writeBytesBuffer = util.Buffer && util.Buffer.prototype instanceof Uint8Array && util.Buffer.prototype.set.name === \"set\"\n        ? function writeBytesBuffer_set(val, buf, pos) {\n          buf.set(val, pos); // faster than copy (requires node >= 4 where Buffers extend Uint8Array and set is properly inherited)\n          // also works for plain array values\n        }\n        /* istanbul ignore next */\n        : function writeBytesBuffer_copy(val, buf, pos) {\n          if (val.copy) // Buffer values\n            val.copy(buf, pos, 0, val.length);\n          else for (var i = 0; i < val.length;) // plain array values\n            buf[pos++] = val[i++];\n        };\n};\n\n\n/**\n * @override\n */\nBufferWriter.prototype.bytes = function write_bytes_buffer(value) {\n    if (util.isString(value))\n        value = util._Buffer_from(value, \"base64\");\n    var len = value.length >>> 0;\n    this.uint32(len);\n    if (len)\n        this._push(BufferWriter.writeBytesBuffer, len, value);\n    return this;\n};\n\nfunction writeStringBuffer(val, buf, pos) {\n    if (val.length < 40) // plain js is faster for short strings (probably due to redundant assertions)\n        util.utf8.write(val, buf, pos);\n    else if (buf.utf8Write)\n        buf.utf8Write(val, pos);\n    else\n        buf.write(val, pos);\n}\n\n/**\n * @override\n */\nBufferWriter.prototype.string = function write_string_buffer(value) {\n    var len = util.Buffer.byteLength(value);\n    this.uint32(len);\n    if (len)\n        this._push(writeStringBuffer, len, value);\n    return this;\n};\n\n\n/**\n * Finishes the write operation.\n * @name BufferWriter#finish\n * @function\n * @returns {Buffer} Finished buffer\n */\n\nBufferWriter._configure();\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.stringToPath = exports.Slip10RawIndex = exports.slip10CurveFromString = exports.Slip10Curve = exports.Slip10 = exports.pathToString = exports.sha512 = exports.Sha512 = exports.sha256 = exports.Sha256 = exports.Secp256k1Signature = exports.ExtendedSecp256k1Signature = exports.Secp256k1 = exports.ripemd160 = exports.Ripemd160 = exports.Random = exports.Xchacha20poly1305Ietf = exports.xchacha20NonceLength = exports.isArgon2idOptions = exports.Ed25519Keypair = exports.Ed25519 = exports.Argon2id = exports.keccak256 = exports.Keccak256 = exports.Hmac = exports.EnglishMnemonic = exports.Bip39 = void 0;\nvar bip39_1 = require(\"./bip39\");\nObject.defineProperty(exports, \"Bip39\", { enumerable: true, get: function () { return bip39_1.Bip39; } });\nObject.defineProperty(exports, \"EnglishMnemonic\", { enumerable: true, get: function () { return bip39_1.EnglishMnemonic; } });\nvar hmac_1 = require(\"./hmac\");\nObject.defineProperty(exports, \"Hmac\", { enumerable: true, get: function () { return hmac_1.Hmac; } });\nvar keccak_1 = require(\"./keccak\");\nObject.defineProperty(exports, \"Keccak256\", { enumerable: true, get: function () { return keccak_1.Keccak256; } });\nObject.defineProperty(exports, \"keccak256\", { enumerable: true, get: function () { return keccak_1.keccak256; } });\nvar libsodium_1 = require(\"./libsodium\");\nObject.defineProperty(exports, \"Argon2id\", { enumerable: true, get: function () { return libsodium_1.Argon2id; } });\nObject.defineProperty(exports, \"Ed25519\", { enumerable: true, get: function () { return libsodium_1.Ed25519; } });\nObject.defineProperty(exports, \"Ed25519Keypair\", { enumerable: true, get: function () { return libsodium_1.Ed25519Keypair; } });\nObject.defineProperty(exports, \"isArgon2idOptions\", { enumerable: true, get: function () { return libsodium_1.isArgon2idOptions; } });\nObject.defineProperty(exports, \"xchacha20NonceLength\", { enumerable: true, get: function () { return libsodium_1.xchacha20NonceLength; } });\nObject.defineProperty(exports, \"Xchacha20poly1305Ietf\", { enumerable: true, get: function () { return libsodium_1.Xchacha20poly1305Ietf; } });\nvar random_1 = require(\"./random\");\nObject.defineProperty(exports, \"Random\", { enumerable: true, get: function () { return random_1.Random; } });\nvar ripemd_1 = require(\"./ripemd\");\nObject.defineProperty(exports, \"Ripemd160\", { enumerable: true, get: function () { return ripemd_1.Ripemd160; } });\nObject.defineProperty(exports, \"ripemd160\", { enumerable: true, get: function () { return ripemd_1.ripemd160; } });\nvar secp256k1_1 = require(\"./secp256k1\");\nObject.defineProperty(exports, \"Secp256k1\", { enumerable: true, get: function () { return secp256k1_1.Secp256k1; } });\nvar secp256k1signature_1 = require(\"./secp256k1signature\");\nObject.defineProperty(exports, \"ExtendedSecp256k1Signature\", { enumerable: true, get: function () { return secp256k1signature_1.ExtendedSecp256k1Signature; } });\nObject.defineProperty(exports, \"Secp256k1Signature\", { enumerable: true, get: function () { return secp256k1signature_1.Secp256k1Signature; } });\nvar sha_1 = require(\"./sha\");\nObject.defineProperty(exports, \"Sha256\", { enumerable: true, get: function () { return sha_1.Sha256; } });\nObject.defineProperty(exports, \"sha256\", { enumerable: true, get: function () { return sha_1.sha256; } });\nObject.defineProperty(exports, \"Sha512\", { enumerable: true, get: function () { return sha_1.Sha512; } });\nObject.defineProperty(exports, \"sha512\", { enumerable: true, get: function () { return sha_1.sha512; } });\nvar slip10_1 = require(\"./slip10\");\nObject.defineProperty(exports, \"pathToString\", { enumerable: true, get: function () { return slip10_1.pathToString; } });\nObject.defineProperty(exports, \"Slip10\", { enumerable: true, get: function () { return slip10_1.Slip10; } });\nObject.defineProperty(exports, \"Slip10Curve\", { enumerable: true, get: function () { return slip10_1.Slip10Curve; } });\nObject.defineProperty(exports, \"slip10CurveFromString\", { enumerable: true, get: function () { return slip10_1.slip10CurveFromString; } });\nObject.defineProperty(exports, \"Slip10RawIndex\", { enumerable: true, get: function () { return slip10_1.Slip10RawIndex; } });\nObject.defineProperty(exports, \"stringToPath\", { enumerable: true, get: function () { return slip10_1.stringToPath; } });\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.toUtf8 = exports.fromUtf8 = exports.toRfc3339 = exports.fromRfc3339 = exports.toHex = exports.fromHex = exports.toBech32 = exports.normalizeBech32 = exports.fromBech32 = exports.toBase64 = exports.fromBase64 = exports.toAscii = exports.fromAscii = void 0;\nvar ascii_1 = require(\"./ascii\");\nObject.defineProperty(exports, \"fromAscii\", { enumerable: true, get: function () { return ascii_1.fromAscii; } });\nObject.defineProperty(exports, \"toAscii\", { enumerable: true, get: function () { return ascii_1.toAscii; } });\nvar base64_1 = require(\"./base64\");\nObject.defineProperty(exports, \"fromBase64\", { enumerable: true, get: function () { return base64_1.fromBase64; } });\nObject.defineProperty(exports, \"toBase64\", { enumerable: true, get: function () { return base64_1.toBase64; } });\nvar bech32_1 = require(\"./bech32\");\nObject.defineProperty(exports, \"fromBech32\", { enumerable: true, get: function () { return bech32_1.fromBech32; } });\nObject.defineProperty(exports, \"normalizeBech32\", { enumerable: true, get: function () { return bech32_1.normalizeBech32; } });\nObject.defineProperty(exports, \"toBech32\", { enumerable: true, get: function () { return bech32_1.toBech32; } });\nvar hex_1 = require(\"./hex\");\nObject.defineProperty(exports, \"fromHex\", { enumerable: true, get: function () { return hex_1.fromHex; } });\nObject.defineProperty(exports, \"toHex\", { enumerable: true, get: function () { return hex_1.toHex; } });\nvar rfc3339_1 = require(\"./rfc3339\");\nObject.defineProperty(exports, \"fromRfc3339\", { enumerable: true, get: function () { return rfc3339_1.fromRfc3339; } });\nObject.defineProperty(exports, \"toRfc3339\", { enumerable: true, get: function () { return rfc3339_1.toRfc3339; } });\nvar utf8_1 = require(\"./utf8\");\nObject.defineProperty(exports, \"fromUtf8\", { enumerable: true, get: function () { return utf8_1.fromUtf8; } });\nObject.defineProperty(exports, \"toUtf8\", { enumerable: true, get: function () { return utf8_1.toUtf8; } });\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Uint64 = exports.Uint53 = exports.Uint32 = exports.Int53 = exports.Decimal = void 0;\nvar decimal_1 = require(\"./decimal\");\nObject.defineProperty(exports, \"Decimal\", { enumerable: true, get: function () { return decimal_1.Decimal; } });\nvar integers_1 = require(\"./integers\");\nObject.defineProperty(exports, \"Int53\", { enumerable: true, get: function () { return integers_1.Int53; } });\nObject.defineProperty(exports, \"Uint32\", { enumerable: true, get: function () { return integers_1.Uint32; } });\nObject.defineProperty(exports, \"Uint53\", { enumerable: true, get: function () { return integers_1.Uint53; } });\nObject.defineProperty(exports, \"Uint64\", { enumerable: true, get: function () { return integers_1.Uint64; } });\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.parseCoins = exports.coins = exports.coin = exports.executeKdf = exports.makeSignDoc = exports.makeSignBytes = exports.makeAuthInfoBytes = exports.isOfflineDirectSigner = exports.Registry = exports.isTxBodyEncodeObject = exports.isTsProtoGeneratedType = exports.isPbjsGeneratedType = exports.encodePubkey = exports.decodePubkey = exports.decodeOptionalPubkey = exports.anyToSinglePubkey = exports.makeCosmoshubPath = exports.DirectSecp256k1Wallet = exports.extractKdfConfiguration = exports.DirectSecp256k1HdWallet = exports.decodeTxRaw = void 0;\n// This type happens to be shared between Amino and Direct sign modes\nvar decode_1 = require(\"./decode\");\nObject.defineProperty(exports, \"decodeTxRaw\", { enumerable: true, get: function () { return decode_1.decodeTxRaw; } });\nvar directsecp256k1hdwallet_1 = require(\"./directsecp256k1hdwallet\");\nObject.defineProperty(exports, \"DirectSecp256k1HdWallet\", { enumerable: true, get: function () { return directsecp256k1hdwallet_1.DirectSecp256k1HdWallet; } });\nObject.defineProperty(exports, \"extractKdfConfiguration\", { enumerable: true, get: function () { return directsecp256k1hdwallet_1.extractKdfConfiguration; } });\nvar directsecp256k1wallet_1 = require(\"./directsecp256k1wallet\");\nObject.defineProperty(exports, \"DirectSecp256k1Wallet\", { enumerable: true, get: function () { return directsecp256k1wallet_1.DirectSecp256k1Wallet; } });\nvar paths_1 = require(\"./paths\");\nObject.defineProperty(exports, \"makeCosmoshubPath\", { enumerable: true, get: function () { return paths_1.makeCosmoshubPath; } });\nvar pubkey_1 = require(\"./pubkey\");\nObject.defineProperty(exports, \"anyToSinglePubkey\", { enumerable: true, get: function () { return pubkey_1.anyToSinglePubkey; } });\nObject.defineProperty(exports, \"decodeOptionalPubkey\", { enumerable: true, get: function () { return pubkey_1.decodeOptionalPubkey; } });\nObject.defineProperty(exports, \"decodePubkey\", { enumerable: true, get: function () { return pubkey_1.decodePubkey; } });\nObject.defineProperty(exports, \"encodePubkey\", { enumerable: true, get: function () { return pubkey_1.encodePubkey; } });\nvar registry_1 = require(\"./registry\");\nObject.defineProperty(exports, \"isPbjsGeneratedType\", { enumerable: true, get: function () { return registry_1.isPbjsGeneratedType; } });\nObject.defineProperty(exports, \"isTsProtoGeneratedType\", { enumerable: true, get: function () { return registry_1.isTsProtoGeneratedType; } });\nObject.defineProperty(exports, \"isTxBodyEncodeObject\", { enumerable: true, get: function () { return registry_1.isTxBodyEncodeObject; } });\nObject.defineProperty(exports, \"Registry\", { enumerable: true, get: function () { return registry_1.Registry; } });\nvar signer_1 = require(\"./signer\");\nObject.defineProperty(exports, \"isOfflineDirectSigner\", { enumerable: true, get: function () { return signer_1.isOfflineDirectSigner; } });\nvar signing_1 = require(\"./signing\");\nObject.defineProperty(exports, \"makeAuthInfoBytes\", { enumerable: true, get: function () { return signing_1.makeAuthInfoBytes; } });\nObject.defineProperty(exports, \"makeSignBytes\", { enumerable: true, get: function () { return signing_1.makeSignBytes; } });\nObject.defineProperty(exports, \"makeSignDoc\", { enumerable: true, get: function () { return signing_1.makeSignDoc; } });\nvar wallet_1 = require(\"./wallet\");\nObject.defineProperty(exports, \"executeKdf\", { enumerable: true, get: function () { return wallet_1.executeKdf; } });\n// re-exports\nvar amino_1 = require(\"@cosmjs/amino\");\nObject.defineProperty(exports, \"coin\", { enumerable: true, get: function () { return amino_1.coin; } });\nObject.defineProperty(exports, \"coins\", { enumerable: true, get: function () { return amino_1.coins; } });\nObject.defineProperty(exports, \"parseCoins\", { enumerable: true, get: function () { return amino_1.parseCoins; } });\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isMsgVoteWeightedEncodeObject = exports.isMsgVoteEncodeObject = exports.isMsgUndelegateEncodeObject = exports.isMsgTransferEncodeObject = exports.isMsgSubmitProposalEncodeObject = exports.isMsgSendEncodeObject = exports.isMsgEditValidatorEncodeObject = exports.isMsgDepositEncodeObject = exports.isMsgDelegateEncodeObject = exports.isMsgCreateValidatorEncodeObject = exports.isMsgCancelUnbondingDelegationEncodeObject = exports.isMsgBeginRedelegateEncodeObject = exports.isAminoMsgWithdrawValidatorCommission = exports.isAminoMsgWithdrawDelegatorReward = exports.isAminoMsgVoteWeighted = exports.isAminoMsgVote = exports.isAminoMsgVerifyInvariant = exports.isAminoMsgUnjail = exports.isAminoMsgUndelegate = exports.isAminoMsgTransfer = exports.isAminoMsgSubmitProposal = exports.isAminoMsgSubmitEvidence = exports.isAminoMsgSetWithdrawAddress = exports.isAminoMsgSend = exports.isAminoMsgMultiSend = exports.isAminoMsgFundCommunityPool = exports.isAminoMsgEditValidator = exports.isAminoMsgDeposit = exports.isAminoMsgDelegate = exports.isAminoMsgCreateVestingAccount = exports.isAminoMsgCreateValidator = exports.isAminoMsgBeginRedelegate = exports.createVestingAminoConverters = exports.createStakingAminoConverters = exports.createSlashingAminoConverters = exports.createIbcAminoConverters = exports.createGroupAminoConverters = exports.createGovAminoConverters = exports.createFeegrantAminoConverters = exports.createEvidenceAminoConverters = exports.createDistributionAminoConverters = exports.createCrysisAminoConverters = exports.createBankAminoConverters = exports.createAuthzAminoConverters = exports.logs = exports.GasPrice = exports.calculateFee = exports.fromTendermintEvent = exports.AminoTypes = exports.accountFromAny = void 0;\nexports.parseCoins = exports.makeCosmoshubPath = exports.coins = exports.coin = exports.TimeoutError = exports.StargateClient = exports.isDeliverTxSuccess = exports.isDeliverTxFailure = exports.BroadcastTxError = exports.assertIsDeliverTxSuccess = exports.assertIsDeliverTxFailure = exports.SigningStargateClient = exports.defaultRegistryTypes = exports.createDefaultAminoConverters = exports.isSearchTxQueryArray = exports.QueryClient = exports.decodeCosmosSdkDecFromProto = exports.createProtobufRpcClient = exports.createPagination = exports.makeMultisignedTxBytes = exports.makeMultisignedTx = exports.setupTxExtension = exports.setupStakingExtension = exports.setupSlashingExtension = exports.setupMintExtension = exports.setupIbcExtension = exports.setupGovExtension = exports.setupFeegrantExtension = exports.setupDistributionExtension = exports.setupBankExtension = exports.setupAuthzExtension = exports.setupAuthExtension = exports.isMsgWithdrawDelegatorRewardEncodeObject = void 0;\nvar accounts_1 = require(\"./accounts\");\nObject.defineProperty(exports, \"accountFromAny\", { enumerable: true, get: function () { return accounts_1.accountFromAny; } });\nvar aminotypes_1 = require(\"./aminotypes\");\nObject.defineProperty(exports, \"AminoTypes\", { enumerable: true, get: function () { return aminotypes_1.AminoTypes; } });\nvar events_1 = require(\"./events\");\nObject.defineProperty(exports, \"fromTendermintEvent\", { enumerable: true, get: function () { return events_1.fromTendermintEvent; } });\nvar fee_1 = require(\"./fee\");\nObject.defineProperty(exports, \"calculateFee\", { enumerable: true, get: function () { return fee_1.calculateFee; } });\nObject.defineProperty(exports, \"GasPrice\", { enumerable: true, get: function () { return fee_1.GasPrice; } });\nexports.logs = __importStar(require(\"./logs\"));\nvar modules_1 = require(\"./modules\");\nObject.defineProperty(exports, \"createAuthzAminoConverters\", { enumerable: true, get: function () { return modules_1.createAuthzAminoConverters; } });\nObject.defineProperty(exports, \"createBankAminoConverters\", { enumerable: true, get: function () { return modules_1.createBankAminoConverters; } });\nObject.defineProperty(exports, \"createCrysisAminoConverters\", { enumerable: true, get: function () { return modules_1.createCrysisAminoConverters; } });\nObject.defineProperty(exports, \"createDistributionAminoConverters\", { enumerable: true, get: function () { return modules_1.createDistributionAminoConverters; } });\nObject.defineProperty(exports, \"createEvidenceAminoConverters\", { enumerable: true, get: function () { return modules_1.createEvidenceAminoConverters; } });\nObject.defineProperty(exports, \"createFeegrantAminoConverters\", { enumerable: true, get: function () { return modules_1.createFeegrantAminoConverters; } });\nObject.defineProperty(exports, \"createGovAminoConverters\", { enumerable: true, get: function () { return modules_1.createGovAminoConverters; } });\nObject.defineProperty(exports, \"createGroupAminoConverters\", { enumerable: true, get: function () { return modules_1.createGroupAminoConverters; } });\nObject.defineProperty(exports, \"createIbcAminoConverters\", { enumerable: true, get: function () { return modules_1.createIbcAminoConverters; } });\nObject.defineProperty(exports, \"createSlashingAminoConverters\", { enumerable: true, get: function () { return modules_1.createSlashingAminoConverters; } });\nObject.defineProperty(exports, \"createStakingAminoConverters\", { enumerable: true, get: function () { return modules_1.createStakingAminoConverters; } });\nObject.defineProperty(exports, \"createVestingAminoConverters\", { enumerable: true, get: function () { return modules_1.createVestingAminoConverters; } });\nObject.defineProperty(exports, \"isAminoMsgBeginRedelegate\", { enumerable: true, get: function () { return modules_1.isAminoMsgBeginRedelegate; } });\nObject.defineProperty(exports, \"isAminoMsgCreateValidator\", { enumerable: true, get: function () { return modules_1.isAminoMsgCreateValidator; } });\nObject.defineProperty(exports, \"isAminoMsgCreateVestingAccount\", { enumerable: true, get: function () { return modules_1.isAminoMsgCreateVestingAccount; } });\nObject.defineProperty(exports, \"isAminoMsgDelegate\", { enumerable: true, get: function () { return modules_1.isAminoMsgDelegate; } });\nObject.defineProperty(exports, \"isAminoMsgDeposit\", { enumerable: true, get: function () { return modules_1.isAminoMsgDeposit; } });\nObject.defineProperty(exports, \"isAminoMsgEditValidator\", { enumerable: true, get: function () { return modules_1.isAminoMsgEditValidator; } });\nObject.defineProperty(exports, \"isAminoMsgFundCommunityPool\", { enumerable: true, get: function () { return modules_1.isAminoMsgFundCommunityPool; } });\nObject.defineProperty(exports, \"isAminoMsgMultiSend\", { enumerable: true, get: function () { return modules_1.isAminoMsgMultiSend; } });\nObject.defineProperty(exports, \"isAminoMsgSend\", { enumerable: true, get: function () { return modules_1.isAminoMsgSend; } });\nObject.defineProperty(exports, \"isAminoMsgSetWithdrawAddress\", { enumerable: true, get: function () { return modules_1.isAminoMsgSetWithdrawAddress; } });\nObject.defineProperty(exports, \"isAminoMsgSubmitEvidence\", { enumerable: true, get: function () { return modules_1.isAminoMsgSubmitEvidence; } });\nObject.defineProperty(exports, \"isAminoMsgSubmitProposal\", { enumerable: true, get: function () { return modules_1.isAminoMsgSubmitProposal; } });\nObject.defineProperty(exports, \"isAminoMsgTransfer\", { enumerable: true, get: function () { return modules_1.isAminoMsgTransfer; } });\nObject.defineProperty(exports, \"isAminoMsgUndelegate\", { enumerable: true, get: function () { return modules_1.isAminoMsgUndelegate; } });\nObject.defineProperty(exports, \"isAminoMsgUnjail\", { enumerable: true, get: function () { return modules_1.isAminoMsgUnjail; } });\nObject.defineProperty(exports, \"isAminoMsgVerifyInvariant\", { enumerable: true, get: function () { return modules_1.isAminoMsgVerifyInvariant; } });\nObject.defineProperty(exports, \"isAminoMsgVote\", { enumerable: true, get: function () { return modules_1.isAminoMsgVote; } });\nObject.defineProperty(exports, \"isAminoMsgVoteWeighted\", { enumerable: true, get: function () { return modules_1.isAminoMsgVoteWeighted; } });\nObject.defineProperty(exports, \"isAminoMsgWithdrawDelegatorReward\", { enumerable: true, get: function () { return modules_1.isAminoMsgWithdrawDelegatorReward; } });\nObject.defineProperty(exports, \"isAminoMsgWithdrawValidatorCommission\", { enumerable: true, get: function () { return modules_1.isAminoMsgWithdrawValidatorCommission; } });\nObject.defineProperty(exports, \"isMsgBeginRedelegateEncodeObject\", { enumerable: true, get: function () { return modules_1.isMsgBeginRedelegateEncodeObject; } });\nObject.defineProperty(exports, \"isMsgCancelUnbondingDelegationEncodeObject\", { enumerable: true, get: function () { return modules_1.isMsgCancelUnbondingDelegationEncodeObject; } });\nObject.defineProperty(exports, \"isMsgCreateValidatorEncodeObject\", { enumerable: true, get: function () { return modules_1.isMsgCreateValidatorEncodeObject; } });\nObject.defineProperty(exports, \"isMsgDelegateEncodeObject\", { enumerable: true, get: function () { return modules_1.isMsgDelegateEncodeObject; } });\nObject.defineProperty(exports, \"isMsgDepositEncodeObject\", { enumerable: true, get: function () { return modules_1.isMsgDepositEncodeObject; } });\nObject.defineProperty(exports, \"isMsgEditValidatorEncodeObject\", { enumerable: true, get: function () { return modules_1.isMsgEditValidatorEncodeObject; } });\nObject.defineProperty(exports, \"isMsgSendEncodeObject\", { enumerable: true, get: function () { return modules_1.isMsgSendEncodeObject; } });\nObject.defineProperty(exports, \"isMsgSubmitProposalEncodeObject\", { enumerable: true, get: function () { return modules_1.isMsgSubmitProposalEncodeObject; } });\nObject.defineProperty(exports, \"isMsgTransferEncodeObject\", { enumerable: true, get: function () { return modules_1.isMsgTransferEncodeObject; } });\nObject.defineProperty(exports, \"isMsgUndelegateEncodeObject\", { enumerable: true, get: function () { return modules_1.isMsgUndelegateEncodeObject; } });\nObject.defineProperty(exports, \"isMsgVoteEncodeObject\", { enumerable: true, get: function () { return modules_1.isMsgVoteEncodeObject; } });\nObject.defineProperty(exports, \"isMsgVoteWeightedEncodeObject\", { enumerable: true, get: function () { return modules_1.isMsgVoteWeightedEncodeObject; } });\nObject.defineProperty(exports, \"isMsgWithdrawDelegatorRewardEncodeObject\", { enumerable: true, get: function () { return modules_1.isMsgWithdrawDelegatorRewardEncodeObject; } });\nObject.defineProperty(exports, \"setupAuthExtension\", { enumerable: true, get: function () { return modules_1.setupAuthExtension; } });\nObject.defineProperty(exports, \"setupAuthzExtension\", { enumerable: true, get: function () { return modules_1.setupAuthzExtension; } });\nObject.defineProperty(exports, \"setupBankExtension\", { enumerable: true, get: function () { return modules_1.setupBankExtension; } });\nObject.defineProperty(exports, \"setupDistributionExtension\", { enumerable: true, get: function () { return modules_1.setupDistributionExtension; } });\nObject.defineProperty(exports, \"setupFeegrantExtension\", { enumerable: true, get: function () { return modules_1.setupFeegrantExtension; } });\nObject.defineProperty(exports, \"setupGovExtension\", { enumerable: true, get: function () { return modules_1.setupGovExtension; } });\nObject.defineProperty(exports, \"setupIbcExtension\", { enumerable: true, get: function () { return modules_1.setupIbcExtension; } });\nObject.defineProperty(exports, \"setupMintExtension\", { enumerable: true, get: function () { return modules_1.setupMintExtension; } });\nObject.defineProperty(exports, \"setupSlashingExtension\", { enumerable: true, get: function () { return modules_1.setupSlashingExtension; } });\nObject.defineProperty(exports, \"setupStakingExtension\", { enumerable: true, get: function () { return modules_1.setupStakingExtension; } });\nObject.defineProperty(exports, \"setupTxExtension\", { enumerable: true, get: function () { return modules_1.setupTxExtension; } });\nvar multisignature_1 = require(\"./multisignature\");\nObject.defineProperty(exports, \"makeMultisignedTx\", { enumerable: true, get: function () { return multisignature_1.makeMultisignedTx; } });\nObject.defineProperty(exports, \"makeMultisignedTxBytes\", { enumerable: true, get: function () { return multisignature_1.makeMultisignedTxBytes; } });\nvar queryclient_1 = require(\"./queryclient\");\nObject.defineProperty(exports, \"createPagination\", { enumerable: true, get: function () { return queryclient_1.createPagination; } });\nObject.defineProperty(exports, \"createProtobufRpcClient\", { enumerable: true, get: function () { return queryclient_1.createProtobufRpcClient; } });\nObject.defineProperty(exports, \"decodeCosmosSdkDecFromProto\", { enumerable: true, get: function () { return queryclient_1.decodeCosmosSdkDecFromProto; } });\nObject.defineProperty(exports, \"QueryClient\", { enumerable: true, get: function () { return queryclient_1.QueryClient; } });\nvar search_1 = require(\"./search\");\nObject.defineProperty(exports, \"isSearchTxQueryArray\", { enumerable: true, get: function () { return search_1.isSearchTxQueryArray; } });\nvar signingstargateclient_1 = require(\"./signingstargateclient\");\nObject.defineProperty(exports, \"createDefaultAminoConverters\", { enumerable: true, get: function () { return signingstargateclient_1.createDefaultAminoConverters; } });\nObject.defineProperty(exports, \"defaultRegistryTypes\", { enumerable: true, get: function () { return signingstargateclient_1.defaultRegistryTypes; } });\nObject.defineProperty(exports, \"SigningStargateClient\", { enumerable: true, get: function () { return signingstargateclient_1.SigningStargateClient; } });\nvar stargateclient_1 = require(\"./stargateclient\");\nObject.defineProperty(exports, \"assertIsDeliverTxFailure\", { enumerable: true, get: function () { return stargateclient_1.assertIsDeliverTxFailure; } });\nObject.defineProperty(exports, \"assertIsDeliverTxSuccess\", { enumerable: true, get: function () { return stargateclient_1.assertIsDeliverTxSuccess; } });\nObject.defineProperty(exports, \"BroadcastTxError\", { enumerable: true, get: function () { return stargateclient_1.BroadcastTxError; } });\nObject.defineProperty(exports, \"isDeliverTxFailure\", { enumerable: true, get: function () { return stargateclient_1.isDeliverTxFailure; } });\nObject.defineProperty(exports, \"isDeliverTxSuccess\", { enumerable: true, get: function () { return stargateclient_1.isDeliverTxSuccess; } });\nObject.defineProperty(exports, \"StargateClient\", { enumerable: true, get: function () { return stargateclient_1.StargateClient; } });\nObject.defineProperty(exports, \"TimeoutError\", { enumerable: true, get: function () { return stargateclient_1.TimeoutError; } });\nvar proto_signing_1 = require(\"@cosmjs/proto-signing\");\nObject.defineProperty(exports, \"coin\", { enumerable: true, get: function () { return proto_signing_1.coin; } });\nObject.defineProperty(exports, \"coins\", { enumerable: true, get: function () { return proto_signing_1.coins; } });\nObject.defineProperty(exports, \"makeCosmoshubPath\", { enumerable: true, get: function () { return proto_signing_1.makeCosmoshubPath; } });\nObject.defineProperty(exports, \"parseCoins\", { enumerable: true, get: function () { return proto_signing_1.parseCoins; } });\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.findAttribute = exports.parseRawLog = exports.parseLogs = exports.parseLog = exports.parseEvent = exports.parseAttribute = void 0;\n/* eslint-disable @typescript-eslint/naming-convention */\nconst utils_1 = require(\"@cosmjs/utils\");\nfunction parseAttribute(input) {\n    if (!(0, utils_1.isNonNullObject)(input))\n        throw new Error(\"Attribute must be a non-null object\");\n    const { key, value } = input;\n    if (typeof key !== \"string\" || !key)\n        throw new Error(\"Attribute's key must be a non-empty string\");\n    if (typeof value !== \"string\" && typeof value !== \"undefined\") {\n        throw new Error(\"Attribute's value must be a string or unset\");\n    }\n    return {\n        key: key,\n        value: value || \"\",\n    };\n}\nexports.parseAttribute = parseAttribute;\nfunction parseEvent(input) {\n    if (!(0, utils_1.isNonNullObject)(input))\n        throw new Error(\"Event must be a non-null object\");\n    const { type, attributes } = input;\n    if (typeof type !== \"string\" || type === \"\") {\n        throw new Error(`Event type must be a non-empty string`);\n    }\n    if (!Array.isArray(attributes))\n        throw new Error(\"Event's attributes must be an array\");\n    return {\n        type: type,\n        attributes: attributes.map(parseAttribute),\n    };\n}\nexports.parseEvent = parseEvent;\nfunction parseLog(input) {\n    if (!(0, utils_1.isNonNullObject)(input))\n        throw new Error(\"Log must be a non-null object\");\n    const { msg_index, log, events } = input;\n    if (typeof msg_index !== \"number\")\n        throw new Error(\"Log's msg_index must be a number\");\n    if (typeof log !== \"string\")\n        throw new Error(\"Log's log must be a string\");\n    if (!Array.isArray(events))\n        throw new Error(\"Log's events must be an array\");\n    return {\n        msg_index: msg_index,\n        log: log,\n        events: events.map(parseEvent),\n    };\n}\nexports.parseLog = parseLog;\nfunction parseLogs(input) {\n    if (!Array.isArray(input))\n        throw new Error(\"Logs must be an array\");\n    return input.map(parseLog);\n}\nexports.parseLogs = parseLogs;\nfunction parseRawLog(input) {\n    // Cosmos SDK >= 0.50 gives us an empty string here. This should be handled like undefined.\n    if (!input)\n        return [];\n    const logsToParse = JSON.parse(input).map(({ events }, i) => ({\n        msg_index: i,\n        events,\n        log: \"\",\n    }));\n    return parseLogs(logsToParse);\n}\nexports.parseRawLog = parseRawLog;\n/**\n * Searches in logs for the first event of the given event type and in that event\n * for the first first attribute with the given attribute key.\n *\n * Throws if the attribute was not found.\n */\nfunction findAttribute(logs, eventType, attrKey) {\n    const firstLogs = logs.find(() => true);\n    const out = firstLogs?.events\n        .find((event) => event.type === eventType)\n        ?.attributes.find((attr) => attr.key === attrKey);\n    if (!out) {\n        throw new Error(`Could not find attribute '${attrKey}' in first event of type '${eventType}' in first log.`);\n    }\n    return out;\n}\nexports.findAttribute = findAttribute;\n//# sourceMappingURL=logs.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BlockIdFlag = exports.isTendermint37Client = exports.isTendermint34Client = exports.isComet38Client = exports.connectComet = exports.Tendermint37Client = exports.tendermint37 = exports.Tendermint34Client = exports.tendermint34 = exports.VoteType = exports.SubscriptionEventType = exports.Method = exports.broadcastTxSyncSuccess = exports.broadcastTxCommitSuccess = exports.WebsocketClient = exports.HttpClient = exports.HttpBatchClient = exports.Comet38Client = exports.comet38 = exports.toSeconds = exports.toRfc3339WithNanoseconds = exports.fromSeconds = exports.fromRfc3339WithNanoseconds = exports.DateTime = exports.rawSecp256k1PubkeyToRawAddress = exports.rawEd25519PubkeyToRawAddress = exports.pubkeyToRawAddress = exports.pubkeyToAddress = void 0;\nvar addresses_1 = require(\"./addresses\");\nObject.defineProperty(exports, \"pubkeyToAddress\", { enumerable: true, get: function () { return addresses_1.pubkeyToAddress; } });\nObject.defineProperty(exports, \"pubkeyToRawAddress\", { enumerable: true, get: function () { return addresses_1.pubkeyToRawAddress; } });\nObject.defineProperty(exports, \"rawEd25519PubkeyToRawAddress\", { enumerable: true, get: function () { return addresses_1.rawEd25519PubkeyToRawAddress; } });\nObject.defineProperty(exports, \"rawSecp256k1PubkeyToRawAddress\", { enumerable: true, get: function () { return addresses_1.rawSecp256k1PubkeyToRawAddress; } });\nvar dates_1 = require(\"./dates\");\nObject.defineProperty(exports, \"DateTime\", { enumerable: true, get: function () { return dates_1.DateTime; } });\nObject.defineProperty(exports, \"fromRfc3339WithNanoseconds\", { enumerable: true, get: function () { return dates_1.fromRfc3339WithNanoseconds; } });\nObject.defineProperty(exports, \"fromSeconds\", { enumerable: true, get: function () { return dates_1.fromSeconds; } });\nObject.defineProperty(exports, \"toRfc3339WithNanoseconds\", { enumerable: true, get: function () { return dates_1.toRfc3339WithNanoseconds; } });\nObject.defineProperty(exports, \"toSeconds\", { enumerable: true, get: function () { return dates_1.toSeconds; } });\n// The public Tendermint34Client.create constructor allows manually choosing an RpcClient.\n// This is currently the only way to switch to the HttpBatchClient (which may become default at some point).\n// Due to this API, we make RPC client implementations public.\nexports.comet38 = __importStar(require(\"./comet38\"));\nvar comet38_1 = require(\"./comet38\");\nObject.defineProperty(exports, \"Comet38Client\", { enumerable: true, get: function () { return comet38_1.Comet38Client; } });\nvar rpcclients_1 = require(\"./rpcclients\");\nObject.defineProperty(exports, \"HttpBatchClient\", { enumerable: true, get: function () { return rpcclients_1.HttpBatchClient; } });\nObject.defineProperty(exports, \"HttpClient\", { enumerable: true, get: function () { return rpcclients_1.HttpClient; } });\nObject.defineProperty(exports, \"WebsocketClient\", { enumerable: true, get: function () { return rpcclients_1.WebsocketClient; } });\nvar tendermint34_1 = require(\"./tendermint34\");\nObject.defineProperty(exports, \"broadcastTxCommitSuccess\", { enumerable: true, get: function () { return tendermint34_1.broadcastTxCommitSuccess; } });\nObject.defineProperty(exports, \"broadcastTxSyncSuccess\", { enumerable: true, get: function () { return tendermint34_1.broadcastTxSyncSuccess; } });\nObject.defineProperty(exports, \"Method\", { enumerable: true, get: function () { return tendermint34_1.Method; } });\nObject.defineProperty(exports, \"SubscriptionEventType\", { enumerable: true, get: function () { return tendermint34_1.SubscriptionEventType; } });\nObject.defineProperty(exports, \"VoteType\", { enumerable: true, get: function () { return tendermint34_1.VoteType; } });\nexports.tendermint34 = __importStar(require(\"./tendermint34\"));\nvar tendermint34_2 = require(\"./tendermint34\");\nObject.defineProperty(exports, \"Tendermint34Client\", { enumerable: true, get: function () { return tendermint34_2.Tendermint34Client; } });\nexports.tendermint37 = __importStar(require(\"./tendermint37\"));\nvar tendermint37_1 = require(\"./tendermint37\");\nObject.defineProperty(exports, \"Tendermint37Client\", { enumerable: true, get: function () { return tendermint37_1.Tendermint37Client; } });\nvar tendermintclient_1 = require(\"./tendermintclient\");\nObject.defineProperty(exports, \"connectComet\", { enumerable: true, get: function () { return tendermintclient_1.connectComet; } });\nObject.defineProperty(exports, \"isComet38Client\", { enumerable: true, get: function () { return tendermintclient_1.isComet38Client; } });\nObject.defineProperty(exports, \"isTendermint34Client\", { enumerable: true, get: function () { return tendermintclient_1.isTendermint34Client; } });\nObject.defineProperty(exports, \"isTendermint37Client\", { enumerable: true, get: function () { return tendermintclient_1.isTendermint37Client; } });\nvar types_1 = require(\"./types\");\nObject.defineProperty(exports, \"BlockIdFlag\", { enumerable: true, get: function () { return types_1.BlockIdFlag; } });\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createCyberAminoConverters = exports.OfflineDappWallet = exports.SigningCyberClient = exports.CyberClient = void 0;\nvar cyberclient_1 = require(\"./cyberclient\");\nObject.defineProperty(exports, \"CyberClient\", { enumerable: true, get: function () { return cyberclient_1.CyberClient; } });\nvar signingcyberclient_1 = require(\"./signingcyberclient\");\nObject.defineProperty(exports, \"SigningCyberClient\", { enumerable: true, get: function () { return signingcyberclient_1.SigningCyberClient; } });\nObject.defineProperty(exports, \"OfflineDappWallet\", { enumerable: true, get: function () { return signingcyberclient_1.OfflineDappWallet; } });\n__exportStar(require(\"./registryTypes\"), exports);\nvar aminomsgs_1 = require(\"./aminomsgs\");\nObject.defineProperty(exports, \"createCyberAminoConverters\", { enumerable: true, get: function () { return aminomsgs_1.createCyberAminoConverters; } });\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.GetBlockWithTxsResponse = exports.GetBlockWithTxsRequest = exports.GetTxResponse = exports.GetTxRequest = exports.SimulateResponse = exports.SimulateRequest = exports.BroadcastTxResponse = exports.BroadcastTxRequest = exports.GetTxsEventResponse = exports.GetTxsEventRequest = exports.BroadcastModeAmino = exports.BroadcastModeSDKType = exports.BroadcastMode = exports.OrderByAmino = exports.OrderBySDKType = exports.OrderBy = void 0;\nexports.orderByFromJSON = orderByFromJSON;\nexports.orderByToJSON = orderByToJSON;\nexports.broadcastModeFromJSON = broadcastModeFromJSON;\nexports.broadcastModeToJSON = broadcastModeToJSON;\n//@ts-nocheck\nconst tx_1 = require(\"./tx\");\nconst pagination_1 = require(\"../../base/query/v1beta1/pagination\");\nconst abci_1 = require(\"../../base/abci/v1beta1/abci\");\nconst types_1 = require(\"../../../tendermint/types/types\");\nconst block_1 = require(\"../../../tendermint/types/block\");\nconst helpers_1 = require(\"../../../helpers\");\nconst binary_1 = require(\"../../../binary\");\nconst registry_1 = require(\"../../../registry\");\n/** OrderBy defines the sorting order */\nvar OrderBy;\n(function (OrderBy) {\n    /** ORDER_BY_UNSPECIFIED - ORDER_BY_UNSPECIFIED specifies an unknown sorting order. OrderBy defaults to ASC in this case. */\n    OrderBy[OrderBy[\"ORDER_BY_UNSPECIFIED\"] = 0] = \"ORDER_BY_UNSPECIFIED\";\n    /** ORDER_BY_ASC - ORDER_BY_ASC defines ascending order */\n    OrderBy[OrderBy[\"ORDER_BY_ASC\"] = 1] = \"ORDER_BY_ASC\";\n    /** ORDER_BY_DESC - ORDER_BY_DESC defines descending order */\n    OrderBy[OrderBy[\"ORDER_BY_DESC\"] = 2] = \"ORDER_BY_DESC\";\n    OrderBy[OrderBy[\"UNRECOGNIZED\"] = -1] = \"UNRECOGNIZED\";\n})(OrderBy || (exports.OrderBy = OrderBy = {}));\nexports.OrderBySDKType = OrderBy;\nexports.OrderByAmino = OrderBy;\nfunction orderByFromJSON(object) {\n    switch (object) {\n        case 0:\n        case \"ORDER_BY_UNSPECIFIED\":\n            return OrderBy.ORDER_BY_UNSPECIFIED;\n        case 1:\n        case \"ORDER_BY_ASC\":\n            return OrderBy.ORDER_BY_ASC;\n        case 2:\n        case \"ORDER_BY_DESC\":\n            return OrderBy.ORDER_BY_DESC;\n        case -1:\n        case \"UNRECOGNIZED\":\n        default:\n            return OrderBy.UNRECOGNIZED;\n    }\n}\nfunction orderByToJSON(object) {\n    switch (object) {\n        case OrderBy.ORDER_BY_UNSPECIFIED:\n            return \"ORDER_BY_UNSPECIFIED\";\n        case OrderBy.ORDER_BY_ASC:\n            return \"ORDER_BY_ASC\";\n        case OrderBy.ORDER_BY_DESC:\n            return \"ORDER_BY_DESC\";\n        case OrderBy.UNRECOGNIZED:\n        default:\n            return \"UNRECOGNIZED\";\n    }\n}\n/** BroadcastMode specifies the broadcast mode for the TxService.Broadcast RPC method. */\nvar BroadcastMode;\n(function (BroadcastMode) {\n    /** BROADCAST_MODE_UNSPECIFIED - zero-value for mode ordering */\n    BroadcastMode[BroadcastMode[\"BROADCAST_MODE_UNSPECIFIED\"] = 0] = \"BROADCAST_MODE_UNSPECIFIED\";\n    /**\n     * BROADCAST_MODE_BLOCK - BROADCAST_MODE_BLOCK defines a tx broadcasting mode where the client waits for\n     * the tx to be committed in a block.\n     */\n    BroadcastMode[BroadcastMode[\"BROADCAST_MODE_BLOCK\"] = 1] = \"BROADCAST_MODE_BLOCK\";\n    /**\n     * BROADCAST_MODE_SYNC - BROADCAST_MODE_SYNC defines a tx broadcasting mode where the client waits for\n     * a CheckTx execution response only.\n     */\n    BroadcastMode[BroadcastMode[\"BROADCAST_MODE_SYNC\"] = 2] = \"BROADCAST_MODE_SYNC\";\n    /**\n     * BROADCAST_MODE_ASYNC - BROADCAST_MODE_ASYNC defines a tx broadcasting mode where the client returns\n     * immediately.\n     */\n    BroadcastMode[BroadcastMode[\"BROADCAST_MODE_ASYNC\"] = 3] = \"BROADCAST_MODE_ASYNC\";\n    BroadcastMode[BroadcastMode[\"UNRECOGNIZED\"] = -1] = \"UNRECOGNIZED\";\n})(BroadcastMode || (exports.BroadcastMode = BroadcastMode = {}));\nexports.BroadcastModeSDKType = BroadcastMode;\nexports.BroadcastModeAmino = BroadcastMode;\nfunction broadcastModeFromJSON(object) {\n    switch (object) {\n        case 0:\n        case \"BROADCAST_MODE_UNSPECIFIED\":\n            return BroadcastMode.BROADCAST_MODE_UNSPECIFIED;\n        case 1:\n        case \"BROADCAST_MODE_BLOCK\":\n            return BroadcastMode.BROADCAST_MODE_BLOCK;\n        case 2:\n        case \"BROADCAST_MODE_SYNC\":\n            return BroadcastMode.BROADCAST_MODE_SYNC;\n        case 3:\n        case \"BROADCAST_MODE_ASYNC\":\n            return BroadcastMode.BROADCAST_MODE_ASYNC;\n        case -1:\n        case \"UNRECOGNIZED\":\n        default:\n            return BroadcastMode.UNRECOGNIZED;\n    }\n}\nfunction broadcastModeToJSON(object) {\n    switch (object) {\n        case BroadcastMode.BROADCAST_MODE_UNSPECIFIED:\n            return \"BROADCAST_MODE_UNSPECIFIED\";\n        case BroadcastMode.BROADCAST_MODE_BLOCK:\n            return \"BROADCAST_MODE_BLOCK\";\n        case BroadcastMode.BROADCAST_MODE_SYNC:\n            return \"BROADCAST_MODE_SYNC\";\n        case BroadcastMode.BROADCAST_MODE_ASYNC:\n            return \"BROADCAST_MODE_ASYNC\";\n        case BroadcastMode.UNRECOGNIZED:\n        default:\n            return \"UNRECOGNIZED\";\n    }\n}\nfunction createBaseGetTxsEventRequest() {\n    return {\n        events: [],\n        pagination: undefined,\n        orderBy: 0\n    };\n}\nexports.GetTxsEventRequest = {\n    typeUrl: \"/cosmos.tx.v1beta1.GetTxsEventRequest\",\n    aminoType: \"cosmos-sdk/GetTxsEventRequest\",\n    is(o) {\n        return o && (o.$typeUrl === exports.GetTxsEventRequest.typeUrl || Array.isArray(o.events) && (!o.events.length || typeof o.events[0] === \"string\") && (0, helpers_1.isSet)(o.orderBy));\n    },\n    isSDK(o) {\n        return o && (o.$typeUrl === exports.GetTxsEventRequest.typeUrl || Array.isArray(o.events) && (!o.events.length || typeof o.events[0] === \"string\") && (0, helpers_1.isSet)(o.order_by));\n    },\n    isAmino(o) {\n        return o && (o.$typeUrl === exports.GetTxsEventRequest.typeUrl || Array.isArray(o.events) && (!o.events.length || typeof o.events[0] === \"string\") && (0, helpers_1.isSet)(o.order_by));\n    },\n    encode(message, writer = binary_1.BinaryWriter.create()) {\n        for (const v of message.events) {\n            writer.uint32(10).string(v);\n        }\n        if (message.pagination !== undefined) {\n            pagination_1.PageRequest.encode(message.pagination, writer.uint32(18).fork()).ldelim();\n        }\n        if (message.orderBy !== 0) {\n            writer.uint32(24).int32(message.orderBy);\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBaseGetTxsEventRequest();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.events.push(reader.string());\n                    break;\n                case 2:\n                    message.pagination = pagination_1.PageRequest.decode(reader, reader.uint32());\n                    break;\n                case 3:\n                    message.orderBy = reader.int32();\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        return {\n            events: Array.isArray(object?.events) ? object.events.map((e) => String(e)) : [],\n            pagination: (0, helpers_1.isSet)(object.pagination) ? pagination_1.PageRequest.fromJSON(object.pagination) : undefined,\n            orderBy: (0, helpers_1.isSet)(object.orderBy) ? orderByFromJSON(object.orderBy) : -1\n        };\n    },\n    toJSON(message) {\n        const obj = {};\n        if (message.events) {\n            obj.events = message.events.map(e => e);\n        }\n        else {\n            obj.events = [];\n        }\n        message.pagination !== undefined && (obj.pagination = message.pagination ? pagination_1.PageRequest.toJSON(message.pagination) : undefined);\n        message.orderBy !== undefined && (obj.orderBy = orderByToJSON(message.orderBy));\n        return obj;\n    },\n    fromPartial(object) {\n        const message = createBaseGetTxsEventRequest();\n        message.events = object.events?.map(e => e) || [];\n        message.pagination = object.pagination !== undefined && object.pagination !== null ? pagination_1.PageRequest.fromPartial(object.pagination) : undefined;\n        message.orderBy = object.orderBy ?? 0;\n        return message;\n    },\n    fromAmino(object) {\n        const message = createBaseGetTxsEventRequest();\n        message.events = object.events?.map(e => e) || [];\n        if (object.pagination !== undefined && object.pagination !== null) {\n            message.pagination = pagination_1.PageRequest.fromAmino(object.pagination);\n        }\n        if (object.order_by !== undefined && object.order_by !== null) {\n            message.orderBy = object.order_by;\n        }\n        return message;\n    },\n    toAmino(message) {\n        const obj = {};\n        if (message.events) {\n            obj.events = message.events.map(e => e);\n        }\n        else {\n            obj.events = message.events;\n        }\n        obj.pagination = message.pagination ? pagination_1.PageRequest.toAmino(message.pagination) : undefined;\n        obj.order_by = message.orderBy === 0 ? undefined : message.orderBy;\n        return obj;\n    },\n    fromAminoMsg(object) {\n        return exports.GetTxsEventRequest.fromAmino(object.value);\n    },\n    toAminoMsg(message) {\n        return {\n            type: \"cosmos-sdk/GetTxsEventRequest\",\n            value: exports.GetTxsEventRequest.toAmino(message)\n        };\n    },\n    fromProtoMsg(message) {\n        return exports.GetTxsEventRequest.decode(message.value);\n    },\n    toProto(message) {\n        return exports.GetTxsEventRequest.encode(message).finish();\n    },\n    toProtoMsg(message) {\n        return {\n            typeUrl: \"/cosmos.tx.v1beta1.GetTxsEventRequest\",\n            value: exports.GetTxsEventRequest.encode(message).finish()\n        };\n    }\n};\nregistry_1.GlobalDecoderRegistry.register(exports.GetTxsEventRequest.typeUrl, exports.GetTxsEventRequest);\nregistry_1.GlobalDecoderRegistry.registerAminoProtoMapping(exports.GetTxsEventRequest.aminoType, exports.GetTxsEventRequest.typeUrl);\nfunction createBaseGetTxsEventResponse() {\n    return {\n        txs: [],\n        txResponses: [],\n        pagination: undefined\n    };\n}\nexports.GetTxsEventResponse = {\n    typeUrl: \"/cosmos.tx.v1beta1.GetTxsEventResponse\",\n    aminoType: \"cosmos-sdk/GetTxsEventResponse\",\n    is(o) {\n        return o && (o.$typeUrl === exports.GetTxsEventResponse.typeUrl || Array.isArray(o.txs) && (!o.txs.length || tx_1.Tx.is(o.txs[0])) && Array.isArray(o.txResponses) && (!o.txResponses.length || abci_1.TxResponse.is(o.txResponses[0])));\n    },\n    isSDK(o) {\n        return o && (o.$typeUrl === exports.GetTxsEventResponse.typeUrl || Array.isArray(o.txs) && (!o.txs.length || tx_1.Tx.isSDK(o.txs[0])) && Array.isArray(o.tx_responses) && (!o.tx_responses.length || abci_1.TxResponse.isSDK(o.tx_responses[0])));\n    },\n    isAmino(o) {\n        return o && (o.$typeUrl === exports.GetTxsEventResponse.typeUrl || Array.isArray(o.txs) && (!o.txs.length || tx_1.Tx.isAmino(o.txs[0])) && Array.isArray(o.tx_responses) && (!o.tx_responses.length || abci_1.TxResponse.isAmino(o.tx_responses[0])));\n    },\n    encode(message, writer = binary_1.BinaryWriter.create()) {\n        for (const v of message.txs) {\n            tx_1.Tx.encode(v, writer.uint32(10).fork()).ldelim();\n        }\n        for (const v of message.txResponses) {\n            abci_1.TxResponse.encode(v, writer.uint32(18).fork()).ldelim();\n        }\n        if (message.pagination !== undefined) {\n            pagination_1.PageResponse.encode(message.pagination, writer.uint32(26).fork()).ldelim();\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBaseGetTxsEventResponse();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.txs.push(tx_1.Tx.decode(reader, reader.uint32()));\n                    break;\n                case 2:\n                    message.txResponses.push(abci_1.TxResponse.decode(reader, reader.uint32()));\n                    break;\n                case 3:\n                    message.pagination = pagination_1.PageResponse.decode(reader, reader.uint32());\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        return {\n            txs: Array.isArray(object?.txs) ? object.txs.map((e) => tx_1.Tx.fromJSON(e)) : [],\n            txResponses: Array.isArray(object?.txResponses) ? object.txResponses.map((e) => abci_1.TxResponse.fromJSON(e)) : [],\n            pagination: (0, helpers_1.isSet)(object.pagination) ? pagination_1.PageResponse.fromJSON(object.pagination) : undefined\n        };\n    },\n    toJSON(message) {\n        const obj = {};\n        if (message.txs) {\n            obj.txs = message.txs.map(e => e ? tx_1.Tx.toJSON(e) : undefined);\n        }\n        else {\n            obj.txs = [];\n        }\n        if (message.txResponses) {\n            obj.txResponses = message.txResponses.map(e => e ? abci_1.TxResponse.toJSON(e) : undefined);\n        }\n        else {\n            obj.txResponses = [];\n        }\n        message.pagination !== undefined && (obj.pagination = message.pagination ? pagination_1.PageResponse.toJSON(message.pagination) : undefined);\n        return obj;\n    },\n    fromPartial(object) {\n        const message = createBaseGetTxsEventResponse();\n        message.txs = object.txs?.map(e => tx_1.Tx.fromPartial(e)) || [];\n        message.txResponses = object.txResponses?.map(e => abci_1.TxResponse.fromPartial(e)) || [];\n        message.pagination = object.pagination !== undefined && object.pagination !== null ? pagination_1.PageResponse.fromPartial(object.pagination) : undefined;\n        return message;\n    },\n    fromAmino(object) {\n        const message = createBaseGetTxsEventResponse();\n        message.txs = object.txs?.map(e => tx_1.Tx.fromAmino(e)) || [];\n        message.txResponses = object.tx_responses?.map(e => abci_1.TxResponse.fromAmino(e)) || [];\n        if (object.pagination !== undefined && object.pagination !== null) {\n            message.pagination = pagination_1.PageResponse.fromAmino(object.pagination);\n        }\n        return message;\n    },\n    toAmino(message) {\n        const obj = {};\n        if (message.txs) {\n            obj.txs = message.txs.map(e => e ? tx_1.Tx.toAmino(e) : undefined);\n        }\n        else {\n            obj.txs = message.txs;\n        }\n        if (message.txResponses) {\n            obj.tx_responses = message.txResponses.map(e => e ? abci_1.TxResponse.toAmino(e) : undefined);\n        }\n        else {\n            obj.tx_responses = message.txResponses;\n        }\n        obj.pagination = message.pagination ? pagination_1.PageResponse.toAmino(message.pagination) : undefined;\n        return obj;\n    },\n    fromAminoMsg(object) {\n        return exports.GetTxsEventResponse.fromAmino(object.value);\n    },\n    toAminoMsg(message) {\n        return {\n            type: \"cosmos-sdk/GetTxsEventResponse\",\n            value: exports.GetTxsEventResponse.toAmino(message)\n        };\n    },\n    fromProtoMsg(message) {\n        return exports.GetTxsEventResponse.decode(message.value);\n    },\n    toProto(message) {\n        return exports.GetTxsEventResponse.encode(message).finish();\n    },\n    toProtoMsg(message) {\n        return {\n            typeUrl: \"/cosmos.tx.v1beta1.GetTxsEventResponse\",\n            value: exports.GetTxsEventResponse.encode(message).finish()\n        };\n    }\n};\nregistry_1.GlobalDecoderRegistry.register(exports.GetTxsEventResponse.typeUrl, exports.GetTxsEventResponse);\nregistry_1.GlobalDecoderRegistry.registerAminoProtoMapping(exports.GetTxsEventResponse.aminoType, exports.GetTxsEventResponse.typeUrl);\nfunction createBaseBroadcastTxRequest() {\n    return {\n        txBytes: new Uint8Array(),\n        mode: 0\n    };\n}\nexports.BroadcastTxRequest = {\n    typeUrl: \"/cosmos.tx.v1beta1.BroadcastTxRequest\",\n    aminoType: \"cosmos-sdk/BroadcastTxRequest\",\n    is(o) {\n        return o && (o.$typeUrl === exports.BroadcastTxRequest.typeUrl || (o.txBytes instanceof Uint8Array || typeof o.txBytes === \"string\") && (0, helpers_1.isSet)(o.mode));\n    },\n    isSDK(o) {\n        return o && (o.$typeUrl === exports.BroadcastTxRequest.typeUrl || (o.tx_bytes instanceof Uint8Array || typeof o.tx_bytes === \"string\") && (0, helpers_1.isSet)(o.mode));\n    },\n    isAmino(o) {\n        return o && (o.$typeUrl === exports.BroadcastTxRequest.typeUrl || (o.tx_bytes instanceof Uint8Array || typeof o.tx_bytes === \"string\") && (0, helpers_1.isSet)(o.mode));\n    },\n    encode(message, writer = binary_1.BinaryWriter.create()) {\n        if (message.txBytes.length !== 0) {\n            writer.uint32(10).bytes(message.txBytes);\n        }\n        if (message.mode !== 0) {\n            writer.uint32(16).int32(message.mode);\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBaseBroadcastTxRequest();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.txBytes = reader.bytes();\n                    break;\n                case 2:\n                    message.mode = reader.int32();\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        return {\n            txBytes: (0, helpers_1.isSet)(object.txBytes) ? (0, helpers_1.bytesFromBase64)(object.txBytes) : new Uint8Array(),\n            mode: (0, helpers_1.isSet)(object.mode) ? broadcastModeFromJSON(object.mode) : -1\n        };\n    },\n    toJSON(message) {\n        const obj = {};\n        message.txBytes !== undefined && (obj.txBytes = (0, helpers_1.base64FromBytes)(message.txBytes !== undefined ? message.txBytes : new Uint8Array()));\n        message.mode !== undefined && (obj.mode = broadcastModeToJSON(message.mode));\n        return obj;\n    },\n    fromPartial(object) {\n        const message = createBaseBroadcastTxRequest();\n        message.txBytes = object.txBytes ?? new Uint8Array();\n        message.mode = object.mode ?? 0;\n        return message;\n    },\n    fromAmino(object) {\n        const message = createBaseBroadcastTxRequest();\n        if (object.tx_bytes !== undefined && object.tx_bytes !== null) {\n            message.txBytes = (0, helpers_1.bytesFromBase64)(object.tx_bytes);\n        }\n        if (object.mode !== undefined && object.mode !== null) {\n            message.mode = object.mode;\n        }\n        return message;\n    },\n    toAmino(message) {\n        const obj = {};\n        obj.tx_bytes = message.txBytes ? (0, helpers_1.base64FromBytes)(message.txBytes) : undefined;\n        obj.mode = message.mode === 0 ? undefined : message.mode;\n        return obj;\n    },\n    fromAminoMsg(object) {\n        return exports.BroadcastTxRequest.fromAmino(object.value);\n    },\n    toAminoMsg(message) {\n        return {\n            type: \"cosmos-sdk/BroadcastTxRequest\",\n            value: exports.BroadcastTxRequest.toAmino(message)\n        };\n    },\n    fromProtoMsg(message) {\n        return exports.BroadcastTxRequest.decode(message.value);\n    },\n    toProto(message) {\n        return exports.BroadcastTxRequest.encode(message).finish();\n    },\n    toProtoMsg(message) {\n        return {\n            typeUrl: \"/cosmos.tx.v1beta1.BroadcastTxRequest\",\n            value: exports.BroadcastTxRequest.encode(message).finish()\n        };\n    }\n};\nregistry_1.GlobalDecoderRegistry.register(exports.BroadcastTxRequest.typeUrl, exports.BroadcastTxRequest);\nregistry_1.GlobalDecoderRegistry.registerAminoProtoMapping(exports.BroadcastTxRequest.aminoType, exports.BroadcastTxRequest.typeUrl);\nfunction createBaseBroadcastTxResponse() {\n    return {\n        txResponse: undefined\n    };\n}\nexports.BroadcastTxResponse = {\n    typeUrl: \"/cosmos.tx.v1beta1.BroadcastTxResponse\",\n    aminoType: \"cosmos-sdk/BroadcastTxResponse\",\n    is(o) {\n        return o && o.$typeUrl === exports.BroadcastTxResponse.typeUrl;\n    },\n    isSDK(o) {\n        return o && o.$typeUrl === exports.BroadcastTxResponse.typeUrl;\n    },\n    isAmino(o) {\n        return o && o.$typeUrl === exports.BroadcastTxResponse.typeUrl;\n    },\n    encode(message, writer = binary_1.BinaryWriter.create()) {\n        if (message.txResponse !== undefined) {\n            abci_1.TxResponse.encode(message.txResponse, writer.uint32(10).fork()).ldelim();\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBaseBroadcastTxResponse();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.txResponse = abci_1.TxResponse.decode(reader, reader.uint32());\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        return {\n            txResponse: (0, helpers_1.isSet)(object.txResponse) ? abci_1.TxResponse.fromJSON(object.txResponse) : undefined\n        };\n    },\n    toJSON(message) {\n        const obj = {};\n        message.txResponse !== undefined && (obj.txResponse = message.txResponse ? abci_1.TxResponse.toJSON(message.txResponse) : undefined);\n        return obj;\n    },\n    fromPartial(object) {\n        const message = createBaseBroadcastTxResponse();\n        message.txResponse = object.txResponse !== undefined && object.txResponse !== null ? abci_1.TxResponse.fromPartial(object.txResponse) : undefined;\n        return message;\n    },\n    fromAmino(object) {\n        const message = createBaseBroadcastTxResponse();\n        if (object.tx_response !== undefined && object.tx_response !== null) {\n            message.txResponse = abci_1.TxResponse.fromAmino(object.tx_response);\n        }\n        return message;\n    },\n    toAmino(message) {\n        const obj = {};\n        obj.tx_response = message.txResponse ? abci_1.TxResponse.toAmino(message.txResponse) : undefined;\n        return obj;\n    },\n    fromAminoMsg(object) {\n        return exports.BroadcastTxResponse.fromAmino(object.value);\n    },\n    toAminoMsg(message) {\n        return {\n            type: \"cosmos-sdk/BroadcastTxResponse\",\n            value: exports.BroadcastTxResponse.toAmino(message)\n        };\n    },\n    fromProtoMsg(message) {\n        return exports.BroadcastTxResponse.decode(message.value);\n    },\n    toProto(message) {\n        return exports.BroadcastTxResponse.encode(message).finish();\n    },\n    toProtoMsg(message) {\n        return {\n            typeUrl: \"/cosmos.tx.v1beta1.BroadcastTxResponse\",\n            value: exports.BroadcastTxResponse.encode(message).finish()\n        };\n    }\n};\nregistry_1.GlobalDecoderRegistry.register(exports.BroadcastTxResponse.typeUrl, exports.BroadcastTxResponse);\nregistry_1.GlobalDecoderRegistry.registerAminoProtoMapping(exports.BroadcastTxResponse.aminoType, exports.BroadcastTxResponse.typeUrl);\nfunction createBaseSimulateRequest() {\n    return {\n        tx: undefined,\n        txBytes: new Uint8Array()\n    };\n}\nexports.SimulateRequest = {\n    typeUrl: \"/cosmos.tx.v1beta1.SimulateRequest\",\n    aminoType: \"cosmos-sdk/SimulateRequest\",\n    is(o) {\n        return o && (o.$typeUrl === exports.SimulateRequest.typeUrl || o.txBytes instanceof Uint8Array || typeof o.txBytes === \"string\");\n    },\n    isSDK(o) {\n        return o && (o.$typeUrl === exports.SimulateRequest.typeUrl || o.tx_bytes instanceof Uint8Array || typeof o.tx_bytes === \"string\");\n    },\n    isAmino(o) {\n        return o && (o.$typeUrl === exports.SimulateRequest.typeUrl || o.tx_bytes instanceof Uint8Array || typeof o.tx_bytes === \"string\");\n    },\n    encode(message, writer = binary_1.BinaryWriter.create()) {\n        if (message.tx !== undefined) {\n            tx_1.Tx.encode(message.tx, writer.uint32(10).fork()).ldelim();\n        }\n        if (message.txBytes.length !== 0) {\n            writer.uint32(18).bytes(message.txBytes);\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBaseSimulateRequest();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.tx = tx_1.Tx.decode(reader, reader.uint32());\n                    break;\n                case 2:\n                    message.txBytes = reader.bytes();\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        return {\n            tx: (0, helpers_1.isSet)(object.tx) ? tx_1.Tx.fromJSON(object.tx) : undefined,\n            txBytes: (0, helpers_1.isSet)(object.txBytes) ? (0, helpers_1.bytesFromBase64)(object.txBytes) : new Uint8Array()\n        };\n    },\n    toJSON(message) {\n        const obj = {};\n        message.tx !== undefined && (obj.tx = message.tx ? tx_1.Tx.toJSON(message.tx) : undefined);\n        message.txBytes !== undefined && (obj.txBytes = (0, helpers_1.base64FromBytes)(message.txBytes !== undefined ? message.txBytes : new Uint8Array()));\n        return obj;\n    },\n    fromPartial(object) {\n        const message = createBaseSimulateRequest();\n        message.tx = object.tx !== undefined && object.tx !== null ? tx_1.Tx.fromPartial(object.tx) : undefined;\n        message.txBytes = object.txBytes ?? new Uint8Array();\n        return message;\n    },\n    fromAmino(object) {\n        const message = createBaseSimulateRequest();\n        if (object.tx !== undefined && object.tx !== null) {\n            message.tx = tx_1.Tx.fromAmino(object.tx);\n        }\n        if (object.tx_bytes !== undefined && object.tx_bytes !== null) {\n            message.txBytes = (0, helpers_1.bytesFromBase64)(object.tx_bytes);\n        }\n        return message;\n    },\n    toAmino(message) {\n        const obj = {};\n        obj.tx = message.tx ? tx_1.Tx.toAmino(message.tx) : undefined;\n        obj.tx_bytes = message.txBytes ? (0, helpers_1.base64FromBytes)(message.txBytes) : undefined;\n        return obj;\n    },\n    fromAminoMsg(object) {\n        return exports.SimulateRequest.fromAmino(object.value);\n    },\n    toAminoMsg(message) {\n        return {\n            type: \"cosmos-sdk/SimulateRequest\",\n            value: exports.SimulateRequest.toAmino(message)\n        };\n    },\n    fromProtoMsg(message) {\n        return exports.SimulateRequest.decode(message.value);\n    },\n    toProto(message) {\n        return exports.SimulateRequest.encode(message).finish();\n    },\n    toProtoMsg(message) {\n        return {\n            typeUrl: \"/cosmos.tx.v1beta1.SimulateRequest\",\n            value: exports.SimulateRequest.encode(message).finish()\n        };\n    }\n};\nregistry_1.GlobalDecoderRegistry.register(exports.SimulateRequest.typeUrl, exports.SimulateRequest);\nregistry_1.GlobalDecoderRegistry.registerAminoProtoMapping(exports.SimulateRequest.aminoType, exports.SimulateRequest.typeUrl);\nfunction createBaseSimulateResponse() {\n    return {\n        gasInfo: undefined,\n        result: undefined\n    };\n}\nexports.SimulateResponse = {\n    typeUrl: \"/cosmos.tx.v1beta1.SimulateResponse\",\n    aminoType: \"cosmos-sdk/SimulateResponse\",\n    is(o) {\n        return o && o.$typeUrl === exports.SimulateResponse.typeUrl;\n    },\n    isSDK(o) {\n        return o && o.$typeUrl === exports.SimulateResponse.typeUrl;\n    },\n    isAmino(o) {\n        return o && o.$typeUrl === exports.SimulateResponse.typeUrl;\n    },\n    encode(message, writer = binary_1.BinaryWriter.create()) {\n        if (message.gasInfo !== undefined) {\n            abci_1.GasInfo.encode(message.gasInfo, writer.uint32(10).fork()).ldelim();\n        }\n        if (message.result !== undefined) {\n            abci_1.Result.encode(message.result, writer.uint32(18).fork()).ldelim();\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBaseSimulateResponse();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.gasInfo = abci_1.GasInfo.decode(reader, reader.uint32());\n                    break;\n                case 2:\n                    message.result = abci_1.Result.decode(reader, reader.uint32());\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        return {\n            gasInfo: (0, helpers_1.isSet)(object.gasInfo) ? abci_1.GasInfo.fromJSON(object.gasInfo) : undefined,\n            result: (0, helpers_1.isSet)(object.result) ? abci_1.Result.fromJSON(object.result) : undefined\n        };\n    },\n    toJSON(message) {\n        const obj = {};\n        message.gasInfo !== undefined && (obj.gasInfo = message.gasInfo ? abci_1.GasInfo.toJSON(message.gasInfo) : undefined);\n        message.result !== undefined && (obj.result = message.result ? abci_1.Result.toJSON(message.result) : undefined);\n        return obj;\n    },\n    fromPartial(object) {\n        const message = createBaseSimulateResponse();\n        message.gasInfo = object.gasInfo !== undefined && object.gasInfo !== null ? abci_1.GasInfo.fromPartial(object.gasInfo) : undefined;\n        message.result = object.result !== undefined && object.result !== null ? abci_1.Result.fromPartial(object.result) : undefined;\n        return message;\n    },\n    fromAmino(object) {\n        const message = createBaseSimulateResponse();\n        if (object.gas_info !== undefined && object.gas_info !== null) {\n            message.gasInfo = abci_1.GasInfo.fromAmino(object.gas_info);\n        }\n        if (object.result !== undefined && object.result !== null) {\n            message.result = abci_1.Result.fromAmino(object.result);\n        }\n        return message;\n    },\n    toAmino(message) {\n        const obj = {};\n        obj.gas_info = message.gasInfo ? abci_1.GasInfo.toAmino(message.gasInfo) : undefined;\n        obj.result = message.result ? abci_1.Result.toAmino(message.result) : undefined;\n        return obj;\n    },\n    fromAminoMsg(object) {\n        return exports.SimulateResponse.fromAmino(object.value);\n    },\n    toAminoMsg(message) {\n        return {\n            type: \"cosmos-sdk/SimulateResponse\",\n            value: exports.SimulateResponse.toAmino(message)\n        };\n    },\n    fromProtoMsg(message) {\n        return exports.SimulateResponse.decode(message.value);\n    },\n    toProto(message) {\n        return exports.SimulateResponse.encode(message).finish();\n    },\n    toProtoMsg(message) {\n        return {\n            typeUrl: \"/cosmos.tx.v1beta1.SimulateResponse\",\n            value: exports.SimulateResponse.encode(message).finish()\n        };\n    }\n};\nregistry_1.GlobalDecoderRegistry.register(exports.SimulateResponse.typeUrl, exports.SimulateResponse);\nregistry_1.GlobalDecoderRegistry.registerAminoProtoMapping(exports.SimulateResponse.aminoType, exports.SimulateResponse.typeUrl);\nfunction createBaseGetTxRequest() {\n    return {\n        hash: \"\"\n    };\n}\nexports.GetTxRequest = {\n    typeUrl: \"/cosmos.tx.v1beta1.GetTxRequest\",\n    aminoType: \"cosmos-sdk/GetTxRequest\",\n    is(o) {\n        return o && (o.$typeUrl === exports.GetTxRequest.typeUrl || typeof o.hash === \"string\");\n    },\n    isSDK(o) {\n        return o && (o.$typeUrl === exports.GetTxRequest.typeUrl || typeof o.hash === \"string\");\n    },\n    isAmino(o) {\n        return o && (o.$typeUrl === exports.GetTxRequest.typeUrl || typeof o.hash === \"string\");\n    },\n    encode(message, writer = binary_1.BinaryWriter.create()) {\n        if (message.hash !== \"\") {\n            writer.uint32(10).string(message.hash);\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBaseGetTxRequest();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.hash = reader.string();\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        return {\n            hash: (0, helpers_1.isSet)(object.hash) ? String(object.hash) : \"\"\n        };\n    },\n    toJSON(message) {\n        const obj = {};\n        message.hash !== undefined && (obj.hash = message.hash);\n        return obj;\n    },\n    fromPartial(object) {\n        const message = createBaseGetTxRequest();\n        message.hash = object.hash ?? \"\";\n        return message;\n    },\n    fromAmino(object) {\n        const message = createBaseGetTxRequest();\n        if (object.hash !== undefined && object.hash !== null) {\n            message.hash = object.hash;\n        }\n        return message;\n    },\n    toAmino(message) {\n        const obj = {};\n        obj.hash = message.hash === \"\" ? undefined : message.hash;\n        return obj;\n    },\n    fromAminoMsg(object) {\n        return exports.GetTxRequest.fromAmino(object.value);\n    },\n    toAminoMsg(message) {\n        return {\n            type: \"cosmos-sdk/GetTxRequest\",\n            value: exports.GetTxRequest.toAmino(message)\n        };\n    },\n    fromProtoMsg(message) {\n        return exports.GetTxRequest.decode(message.value);\n    },\n    toProto(message) {\n        return exports.GetTxRequest.encode(message).finish();\n    },\n    toProtoMsg(message) {\n        return {\n            typeUrl: \"/cosmos.tx.v1beta1.GetTxRequest\",\n            value: exports.GetTxRequest.encode(message).finish()\n        };\n    }\n};\nregistry_1.GlobalDecoderRegistry.register(exports.GetTxRequest.typeUrl, exports.GetTxRequest);\nregistry_1.GlobalDecoderRegistry.registerAminoProtoMapping(exports.GetTxRequest.aminoType, exports.GetTxRequest.typeUrl);\nfunction createBaseGetTxResponse() {\n    return {\n        tx: undefined,\n        txResponse: undefined\n    };\n}\nexports.GetTxResponse = {\n    typeUrl: \"/cosmos.tx.v1beta1.GetTxResponse\",\n    aminoType: \"cosmos-sdk/GetTxResponse\",\n    is(o) {\n        return o && o.$typeUrl === exports.GetTxResponse.typeUrl;\n    },\n    isSDK(o) {\n        return o && o.$typeUrl === exports.GetTxResponse.typeUrl;\n    },\n    isAmino(o) {\n        return o && o.$typeUrl === exports.GetTxResponse.typeUrl;\n    },\n    encode(message, writer = binary_1.BinaryWriter.create()) {\n        if (message.tx !== undefined) {\n            tx_1.Tx.encode(message.tx, writer.uint32(10).fork()).ldelim();\n        }\n        if (message.txResponse !== undefined) {\n            abci_1.TxResponse.encode(message.txResponse, writer.uint32(18).fork()).ldelim();\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBaseGetTxResponse();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.tx = tx_1.Tx.decode(reader, reader.uint32());\n                    break;\n                case 2:\n                    message.txResponse = abci_1.TxResponse.decode(reader, reader.uint32());\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        return {\n            tx: (0, helpers_1.isSet)(object.tx) ? tx_1.Tx.fromJSON(object.tx) : undefined,\n            txResponse: (0, helpers_1.isSet)(object.txResponse) ? abci_1.TxResponse.fromJSON(object.txResponse) : undefined\n        };\n    },\n    toJSON(message) {\n        const obj = {};\n        message.tx !== undefined && (obj.tx = message.tx ? tx_1.Tx.toJSON(message.tx) : undefined);\n        message.txResponse !== undefined && (obj.txResponse = message.txResponse ? abci_1.TxResponse.toJSON(message.txResponse) : undefined);\n        return obj;\n    },\n    fromPartial(object) {\n        const message = createBaseGetTxResponse();\n        message.tx = object.tx !== undefined && object.tx !== null ? tx_1.Tx.fromPartial(object.tx) : undefined;\n        message.txResponse = object.txResponse !== undefined && object.txResponse !== null ? abci_1.TxResponse.fromPartial(object.txResponse) : undefined;\n        return message;\n    },\n    fromAmino(object) {\n        const message = createBaseGetTxResponse();\n        if (object.tx !== undefined && object.tx !== null) {\n            message.tx = tx_1.Tx.fromAmino(object.tx);\n        }\n        if (object.tx_response !== undefined && object.tx_response !== null) {\n            message.txResponse = abci_1.TxResponse.fromAmino(object.tx_response);\n        }\n        return message;\n    },\n    toAmino(message) {\n        const obj = {};\n        obj.tx = message.tx ? tx_1.Tx.toAmino(message.tx) : undefined;\n        obj.tx_response = message.txResponse ? abci_1.TxResponse.toAmino(message.txResponse) : undefined;\n        return obj;\n    },\n    fromAminoMsg(object) {\n        return exports.GetTxResponse.fromAmino(object.value);\n    },\n    toAminoMsg(message) {\n        return {\n            type: \"cosmos-sdk/GetTxResponse\",\n            value: exports.GetTxResponse.toAmino(message)\n        };\n    },\n    fromProtoMsg(message) {\n        return exports.GetTxResponse.decode(message.value);\n    },\n    toProto(message) {\n        return exports.GetTxResponse.encode(message).finish();\n    },\n    toProtoMsg(message) {\n        return {\n            typeUrl: \"/cosmos.tx.v1beta1.GetTxResponse\",\n            value: exports.GetTxResponse.encode(message).finish()\n        };\n    }\n};\nregistry_1.GlobalDecoderRegistry.register(exports.GetTxResponse.typeUrl, exports.GetTxResponse);\nregistry_1.GlobalDecoderRegistry.registerAminoProtoMapping(exports.GetTxResponse.aminoType, exports.GetTxResponse.typeUrl);\nfunction createBaseGetBlockWithTxsRequest() {\n    return {\n        height: BigInt(0),\n        pagination: undefined\n    };\n}\nexports.GetBlockWithTxsRequest = {\n    typeUrl: \"/cosmos.tx.v1beta1.GetBlockWithTxsRequest\",\n    aminoType: \"cosmos-sdk/GetBlockWithTxsRequest\",\n    is(o) {\n        return o && (o.$typeUrl === exports.GetBlockWithTxsRequest.typeUrl || typeof o.height === \"bigint\");\n    },\n    isSDK(o) {\n        return o && (o.$typeUrl === exports.GetBlockWithTxsRequest.typeUrl || typeof o.height === \"bigint\");\n    },\n    isAmino(o) {\n        return o && (o.$typeUrl === exports.GetBlockWithTxsRequest.typeUrl || typeof o.height === \"bigint\");\n    },\n    encode(message, writer = binary_1.BinaryWriter.create()) {\n        if (message.height !== BigInt(0)) {\n            writer.uint32(8).int64(message.height);\n        }\n        if (message.pagination !== undefined) {\n            pagination_1.PageRequest.encode(message.pagination, writer.uint32(18).fork()).ldelim();\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBaseGetBlockWithTxsRequest();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.height = reader.int64();\n                    break;\n                case 2:\n                    message.pagination = pagination_1.PageRequest.decode(reader, reader.uint32());\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        return {\n            height: (0, helpers_1.isSet)(object.height) ? BigInt(object.height.toString()) : BigInt(0),\n            pagination: (0, helpers_1.isSet)(object.pagination) ? pagination_1.PageRequest.fromJSON(object.pagination) : undefined\n        };\n    },\n    toJSON(message) {\n        const obj = {};\n        message.height !== undefined && (obj.height = (message.height || BigInt(0)).toString());\n        message.pagination !== undefined && (obj.pagination = message.pagination ? pagination_1.PageRequest.toJSON(message.pagination) : undefined);\n        return obj;\n    },\n    fromPartial(object) {\n        const message = createBaseGetBlockWithTxsRequest();\n        message.height = object.height !== undefined && object.height !== null ? BigInt(object.height.toString()) : BigInt(0);\n        message.pagination = object.pagination !== undefined && object.pagination !== null ? pagination_1.PageRequest.fromPartial(object.pagination) : undefined;\n        return message;\n    },\n    fromAmino(object) {\n        const message = createBaseGetBlockWithTxsRequest();\n        if (object.height !== undefined && object.height !== null) {\n            message.height = BigInt(object.height);\n        }\n        if (object.pagination !== undefined && object.pagination !== null) {\n            message.pagination = pagination_1.PageRequest.fromAmino(object.pagination);\n        }\n        return message;\n    },\n    toAmino(message) {\n        const obj = {};\n        obj.height = message.height !== BigInt(0) ? message.height.toString() : undefined;\n        obj.pagination = message.pagination ? pagination_1.PageRequest.toAmino(message.pagination) : undefined;\n        return obj;\n    },\n    fromAminoMsg(object) {\n        return exports.GetBlockWithTxsRequest.fromAmino(object.value);\n    },\n    toAminoMsg(message) {\n        return {\n            type: \"cosmos-sdk/GetBlockWithTxsRequest\",\n            value: exports.GetBlockWithTxsRequest.toAmino(message)\n        };\n    },\n    fromProtoMsg(message) {\n        return exports.GetBlockWithTxsRequest.decode(message.value);\n    },\n    toProto(message) {\n        return exports.GetBlockWithTxsRequest.encode(message).finish();\n    },\n    toProtoMsg(message) {\n        return {\n            typeUrl: \"/cosmos.tx.v1beta1.GetBlockWithTxsRequest\",\n            value: exports.GetBlockWithTxsRequest.encode(message).finish()\n        };\n    }\n};\nregistry_1.GlobalDecoderRegistry.register(exports.GetBlockWithTxsRequest.typeUrl, exports.GetBlockWithTxsRequest);\nregistry_1.GlobalDecoderRegistry.registerAminoProtoMapping(exports.GetBlockWithTxsRequest.aminoType, exports.GetBlockWithTxsRequest.typeUrl);\nfunction createBaseGetBlockWithTxsResponse() {\n    return {\n        txs: [],\n        blockId: undefined,\n        block: undefined,\n        pagination: undefined\n    };\n}\nexports.GetBlockWithTxsResponse = {\n    typeUrl: \"/cosmos.tx.v1beta1.GetBlockWithTxsResponse\",\n    aminoType: \"cosmos-sdk/GetBlockWithTxsResponse\",\n    is(o) {\n        return o && (o.$typeUrl === exports.GetBlockWithTxsResponse.typeUrl || Array.isArray(o.txs) && (!o.txs.length || tx_1.Tx.is(o.txs[0])));\n    },\n    isSDK(o) {\n        return o && (o.$typeUrl === exports.GetBlockWithTxsResponse.typeUrl || Array.isArray(o.txs) && (!o.txs.length || tx_1.Tx.isSDK(o.txs[0])));\n    },\n    isAmino(o) {\n        return o && (o.$typeUrl === exports.GetBlockWithTxsResponse.typeUrl || Array.isArray(o.txs) && (!o.txs.length || tx_1.Tx.isAmino(o.txs[0])));\n    },\n    encode(message, writer = binary_1.BinaryWriter.create()) {\n        for (const v of message.txs) {\n            tx_1.Tx.encode(v, writer.uint32(10).fork()).ldelim();\n        }\n        if (message.blockId !== undefined) {\n            types_1.BlockID.encode(message.blockId, writer.uint32(18).fork()).ldelim();\n        }\n        if (message.block !== undefined) {\n            block_1.Block.encode(message.block, writer.uint32(26).fork()).ldelim();\n        }\n        if (message.pagination !== undefined) {\n            pagination_1.PageResponse.encode(message.pagination, writer.uint32(34).fork()).ldelim();\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBaseGetBlockWithTxsResponse();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.txs.push(tx_1.Tx.decode(reader, reader.uint32()));\n                    break;\n                case 2:\n                    message.blockId = types_1.BlockID.decode(reader, reader.uint32());\n                    break;\n                case 3:\n                    message.block = block_1.Block.decode(reader, reader.uint32());\n                    break;\n                case 4:\n                    message.pagination = pagination_1.PageResponse.decode(reader, reader.uint32());\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        return {\n            txs: Array.isArray(object?.txs) ? object.txs.map((e) => tx_1.Tx.fromJSON(e)) : [],\n            blockId: (0, helpers_1.isSet)(object.blockId) ? types_1.BlockID.fromJSON(object.blockId) : undefined,\n            block: (0, helpers_1.isSet)(object.block) ? block_1.Block.fromJSON(object.block) : undefined,\n            pagination: (0, helpers_1.isSet)(object.pagination) ? pagination_1.PageResponse.fromJSON(object.pagination) : undefined\n        };\n    },\n    toJSON(message) {\n        const obj = {};\n        if (message.txs) {\n            obj.txs = message.txs.map(e => e ? tx_1.Tx.toJSON(e) : undefined);\n        }\n        else {\n            obj.txs = [];\n        }\n        message.blockId !== undefined && (obj.blockId = message.blockId ? types_1.BlockID.toJSON(message.blockId) : undefined);\n        message.block !== undefined && (obj.block = message.block ? block_1.Block.toJSON(message.block) : undefined);\n        message.pagination !== undefined && (obj.pagination = message.pagination ? pagination_1.PageResponse.toJSON(message.pagination) : undefined);\n        return obj;\n    },\n    fromPartial(object) {\n        const message = createBaseGetBlockWithTxsResponse();\n        message.txs = object.txs?.map(e => tx_1.Tx.fromPartial(e)) || [];\n        message.blockId = object.blockId !== undefined && object.blockId !== null ? types_1.BlockID.fromPartial(object.blockId) : undefined;\n        message.block = object.block !== undefined && object.block !== null ? block_1.Block.fromPartial(object.block) : undefined;\n        message.pagination = object.pagination !== undefined && object.pagination !== null ? pagination_1.PageResponse.fromPartial(object.pagination) : undefined;\n        return message;\n    },\n    fromAmino(object) {\n        const message = createBaseGetBlockWithTxsResponse();\n        message.txs = object.txs?.map(e => tx_1.Tx.fromAmino(e)) || [];\n        if (object.block_id !== undefined && object.block_id !== null) {\n            message.blockId = types_1.BlockID.fromAmino(object.block_id);\n        }\n        if (object.block !== undefined && object.block !== null) {\n            message.block = block_1.Block.fromAmino(object.block);\n        }\n        if (object.pagination !== undefined && object.pagination !== null) {\n            message.pagination = pagination_1.PageResponse.fromAmino(object.pagination);\n        }\n        return message;\n    },\n    toAmino(message) {\n        const obj = {};\n        if (message.txs) {\n            obj.txs = message.txs.map(e => e ? tx_1.Tx.toAmino(e) : undefined);\n        }\n        else {\n            obj.txs = message.txs;\n        }\n        obj.block_id = message.blockId ? types_1.BlockID.toAmino(message.blockId) : undefined;\n        obj.block = message.block ? block_1.Block.toAmino(message.block) : undefined;\n        obj.pagination = message.pagination ? pagination_1.PageResponse.toAmino(message.pagination) : undefined;\n        return obj;\n    },\n    fromAminoMsg(object) {\n        return exports.GetBlockWithTxsResponse.fromAmino(object.value);\n    },\n    toAminoMsg(message) {\n        return {\n            type: \"cosmos-sdk/GetBlockWithTxsResponse\",\n            value: exports.GetBlockWithTxsResponse.toAmino(message)\n        };\n    },\n    fromProtoMsg(message) {\n        return exports.GetBlockWithTxsResponse.decode(message.value);\n    },\n    toProto(message) {\n        return exports.GetBlockWithTxsResponse.encode(message).finish();\n    },\n    toProtoMsg(message) {\n        return {\n            typeUrl: \"/cosmos.tx.v1beta1.GetBlockWithTxsResponse\",\n            value: exports.GetBlockWithTxsResponse.encode(message).finish()\n        };\n    }\n};\nregistry_1.GlobalDecoderRegistry.register(exports.GetBlockWithTxsResponse.typeUrl, exports.GetBlockWithTxsResponse);\nregistry_1.GlobalDecoderRegistry.registerAminoProtoMapping(exports.GetBlockWithTxsResponse.aminoType, exports.GetBlockWithTxsResponse.typeUrl);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MsgSwapWithinBatchResponse = exports.MsgSwapWithinBatch = exports.MsgWithdrawWithinBatchResponse = exports.MsgWithdrawWithinBatch = exports.MsgDepositWithinBatchResponse = exports.MsgDepositWithinBatch = exports.MsgCreatePoolResponse = exports.MsgCreatePool = void 0;\n//@ts-nocheck\nconst coin_1 = require(\"../../../cosmos/base/v1beta1/coin\");\nconst binary_1 = require(\"../../../binary\");\nconst helpers_1 = require(\"../../../helpers\");\nconst registry_1 = require(\"../../../registry\");\nconst math_1 = require(\"@cosmjs/math\");\nfunction createBaseMsgCreatePool() {\n    return {\n        poolCreatorAddress: \"\",\n        poolTypeId: 0,\n        depositCoins: []\n    };\n}\nexports.MsgCreatePool = {\n    typeUrl: \"/cyber.liquidity.v1beta1.MsgCreatePool\",\n    is(o) {\n        return o && (o.$typeUrl === exports.MsgCreatePool.typeUrl || typeof o.poolCreatorAddress === \"string\" && typeof o.poolTypeId === \"number\" && Array.isArray(o.depositCoins) && (!o.depositCoins.length || coin_1.Coin.is(o.depositCoins[0])));\n    },\n    isSDK(o) {\n        return o && (o.$typeUrl === exports.MsgCreatePool.typeUrl || typeof o.pool_creator_address === \"string\" && typeof o.pool_type_id === \"number\" && Array.isArray(o.deposit_coins) && (!o.deposit_coins.length || coin_1.Coin.isSDK(o.deposit_coins[0])));\n    },\n    isAmino(o) {\n        return o && (o.$typeUrl === exports.MsgCreatePool.typeUrl || typeof o.pool_creator_address === \"string\" && typeof o.pool_type_id === \"number\" && Array.isArray(o.deposit_coins) && (!o.deposit_coins.length || coin_1.Coin.isAmino(o.deposit_coins[0])));\n    },\n    encode(message, writer = binary_1.BinaryWriter.create()) {\n        if (message.poolCreatorAddress !== \"\") {\n            writer.uint32(10).string(message.poolCreatorAddress);\n        }\n        if (message.poolTypeId !== 0) {\n            writer.uint32(16).uint32(message.poolTypeId);\n        }\n        for (const v of message.depositCoins) {\n            coin_1.Coin.encode(v, writer.uint32(34).fork()).ldelim();\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBaseMsgCreatePool();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.poolCreatorAddress = reader.string();\n                    break;\n                case 2:\n                    message.poolTypeId = reader.uint32();\n                    break;\n                case 4:\n                    message.depositCoins.push(coin_1.Coin.decode(reader, reader.uint32()));\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        return {\n            poolCreatorAddress: (0, helpers_1.isSet)(object.poolCreatorAddress) ? String(object.poolCreatorAddress) : \"\",\n            poolTypeId: (0, helpers_1.isSet)(object.poolTypeId) ? Number(object.poolTypeId) : 0,\n            depositCoins: Array.isArray(object?.depositCoins) ? object.depositCoins.map((e) => coin_1.Coin.fromJSON(e)) : []\n        };\n    },\n    toJSON(message) {\n        const obj = {};\n        message.poolCreatorAddress !== undefined && (obj.poolCreatorAddress = message.poolCreatorAddress);\n        message.poolTypeId !== undefined && (obj.poolTypeId = Math.round(message.poolTypeId));\n        if (message.depositCoins) {\n            obj.depositCoins = message.depositCoins.map(e => e ? coin_1.Coin.toJSON(e) : undefined);\n        }\n        else {\n            obj.depositCoins = [];\n        }\n        return obj;\n    },\n    fromPartial(object) {\n        const message = createBaseMsgCreatePool();\n        message.poolCreatorAddress = object.poolCreatorAddress ?? \"\";\n        message.poolTypeId = object.poolTypeId ?? 0;\n        message.depositCoins = object.depositCoins?.map(e => coin_1.Coin.fromPartial(e)) || [];\n        return message;\n    },\n    fromAmino(object) {\n        const message = createBaseMsgCreatePool();\n        if (object.pool_creator_address !== undefined && object.pool_creator_address !== null) {\n            message.poolCreatorAddress = object.pool_creator_address;\n        }\n        if (object.pool_type_id !== undefined && object.pool_type_id !== null) {\n            message.poolTypeId = object.pool_type_id;\n        }\n        message.depositCoins = object.deposit_coins?.map(e => coin_1.Coin.fromAmino(e)) || [];\n        return message;\n    },\n    toAmino(message) {\n        const obj = {};\n        obj.pool_creator_address = message.poolCreatorAddress === \"\" ? undefined : message.poolCreatorAddress;\n        obj.pool_type_id = message.poolTypeId === 0 ? undefined : message.poolTypeId;\n        if (message.depositCoins) {\n            obj.deposit_coins = message.depositCoins.map(e => e ? coin_1.Coin.toAmino(e) : undefined);\n        }\n        else {\n            obj.deposit_coins = message.depositCoins;\n        }\n        return obj;\n    },\n    fromAminoMsg(object) {\n        return exports.MsgCreatePool.fromAmino(object.value);\n    },\n    fromProtoMsg(message) {\n        return exports.MsgCreatePool.decode(message.value);\n    },\n    toProto(message) {\n        return exports.MsgCreatePool.encode(message).finish();\n    },\n    toProtoMsg(message) {\n        return {\n            typeUrl: \"/cyber.liquidity.v1beta1.MsgCreatePool\",\n            value: exports.MsgCreatePool.encode(message).finish()\n        };\n    }\n};\nregistry_1.GlobalDecoderRegistry.register(exports.MsgCreatePool.typeUrl, exports.MsgCreatePool);\nfunction createBaseMsgCreatePoolResponse() {\n    return {};\n}\nexports.MsgCreatePoolResponse = {\n    typeUrl: \"/cyber.liquidity.v1beta1.MsgCreatePoolResponse\",\n    is(o) {\n        return o && o.$typeUrl === exports.MsgCreatePoolResponse.typeUrl;\n    },\n    isSDK(o) {\n        return o && o.$typeUrl === exports.MsgCreatePoolResponse.typeUrl;\n    },\n    isAmino(o) {\n        return o && o.$typeUrl === exports.MsgCreatePoolResponse.typeUrl;\n    },\n    encode(_, writer = binary_1.BinaryWriter.create()) {\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBaseMsgCreatePoolResponse();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(_) {\n        return {};\n    },\n    toJSON(_) {\n        const obj = {};\n        return obj;\n    },\n    fromPartial(_) {\n        const message = createBaseMsgCreatePoolResponse();\n        return message;\n    },\n    fromAmino(_) {\n        const message = createBaseMsgCreatePoolResponse();\n        return message;\n    },\n    toAmino(_) {\n        const obj = {};\n        return obj;\n    },\n    fromAminoMsg(object) {\n        return exports.MsgCreatePoolResponse.fromAmino(object.value);\n    },\n    fromProtoMsg(message) {\n        return exports.MsgCreatePoolResponse.decode(message.value);\n    },\n    toProto(message) {\n        return exports.MsgCreatePoolResponse.encode(message).finish();\n    },\n    toProtoMsg(message) {\n        return {\n            typeUrl: \"/cyber.liquidity.v1beta1.MsgCreatePoolResponse\",\n            value: exports.MsgCreatePoolResponse.encode(message).finish()\n        };\n    }\n};\nregistry_1.GlobalDecoderRegistry.register(exports.MsgCreatePoolResponse.typeUrl, exports.MsgCreatePoolResponse);\nfunction createBaseMsgDepositWithinBatch() {\n    return {\n        depositorAddress: \"\",\n        poolId: BigInt(0),\n        depositCoins: []\n    };\n}\nexports.MsgDepositWithinBatch = {\n    typeUrl: \"/cyber.liquidity.v1beta1.MsgDepositWithinBatch\",\n    is(o) {\n        return o && (o.$typeUrl === exports.MsgDepositWithinBatch.typeUrl || typeof o.depositorAddress === \"string\" && typeof o.poolId === \"bigint\" && Array.isArray(o.depositCoins) && (!o.depositCoins.length || coin_1.Coin.is(o.depositCoins[0])));\n    },\n    isSDK(o) {\n        return o && (o.$typeUrl === exports.MsgDepositWithinBatch.typeUrl || typeof o.depositor_address === \"string\" && typeof o.pool_id === \"bigint\" && Array.isArray(o.deposit_coins) && (!o.deposit_coins.length || coin_1.Coin.isSDK(o.deposit_coins[0])));\n    },\n    isAmino(o) {\n        return o && (o.$typeUrl === exports.MsgDepositWithinBatch.typeUrl || typeof o.depositor_address === \"string\" && typeof o.pool_id === \"bigint\" && Array.isArray(o.deposit_coins) && (!o.deposit_coins.length || coin_1.Coin.isAmino(o.deposit_coins[0])));\n    },\n    encode(message, writer = binary_1.BinaryWriter.create()) {\n        if (message.depositorAddress !== \"\") {\n            writer.uint32(10).string(message.depositorAddress);\n        }\n        if (message.poolId !== BigInt(0)) {\n            writer.uint32(16).uint64(message.poolId);\n        }\n        for (const v of message.depositCoins) {\n            coin_1.Coin.encode(v, writer.uint32(26).fork()).ldelim();\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBaseMsgDepositWithinBatch();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.depositorAddress = reader.string();\n                    break;\n                case 2:\n                    message.poolId = reader.uint64();\n                    break;\n                case 3:\n                    message.depositCoins.push(coin_1.Coin.decode(reader, reader.uint32()));\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        return {\n            depositorAddress: (0, helpers_1.isSet)(object.depositorAddress) ? String(object.depositorAddress) : \"\",\n            poolId: (0, helpers_1.isSet)(object.poolId) ? BigInt(object.poolId.toString()) : BigInt(0),\n            depositCoins: Array.isArray(object?.depositCoins) ? object.depositCoins.map((e) => coin_1.Coin.fromJSON(e)) : []\n        };\n    },\n    toJSON(message) {\n        const obj = {};\n        message.depositorAddress !== undefined && (obj.depositorAddress = message.depositorAddress);\n        message.poolId !== undefined && (obj.poolId = (message.poolId || BigInt(0)).toString());\n        if (message.depositCoins) {\n            obj.depositCoins = message.depositCoins.map(e => e ? coin_1.Coin.toJSON(e) : undefined);\n        }\n        else {\n            obj.depositCoins = [];\n        }\n        return obj;\n    },\n    fromPartial(object) {\n        const message = createBaseMsgDepositWithinBatch();\n        message.depositorAddress = object.depositorAddress ?? \"\";\n        message.poolId = object.poolId !== undefined && object.poolId !== null ? BigInt(object.poolId.toString()) : BigInt(0);\n        message.depositCoins = object.depositCoins?.map(e => coin_1.Coin.fromPartial(e)) || [];\n        return message;\n    },\n    fromAmino(object) {\n        const message = createBaseMsgDepositWithinBatch();\n        if (object.depositor_address !== undefined && object.depositor_address !== null) {\n            message.depositorAddress = object.depositor_address;\n        }\n        if (object.pool_id !== undefined && object.pool_id !== null) {\n            message.poolId = BigInt(object.pool_id);\n        }\n        message.depositCoins = object.deposit_coins?.map(e => coin_1.Coin.fromAmino(e)) || [];\n        return message;\n    },\n    toAmino(message) {\n        const obj = {};\n        obj.depositor_address = message.depositorAddress === \"\" ? undefined : message.depositorAddress;\n        obj.pool_id = message.poolId !== BigInt(0) ? message.poolId.toString() : undefined;\n        if (message.depositCoins) {\n            obj.deposit_coins = message.depositCoins.map(e => e ? coin_1.Coin.toAmino(e) : undefined);\n        }\n        else {\n            obj.deposit_coins = message.depositCoins;\n        }\n        return obj;\n    },\n    fromAminoMsg(object) {\n        return exports.MsgDepositWithinBatch.fromAmino(object.value);\n    },\n    fromProtoMsg(message) {\n        return exports.MsgDepositWithinBatch.decode(message.value);\n    },\n    toProto(message) {\n        return exports.MsgDepositWithinBatch.encode(message).finish();\n    },\n    toProtoMsg(message) {\n        return {\n            typeUrl: \"/cyber.liquidity.v1beta1.MsgDepositWithinBatch\",\n            value: exports.MsgDepositWithinBatch.encode(message).finish()\n        };\n    }\n};\nregistry_1.GlobalDecoderRegistry.register(exports.MsgDepositWithinBatch.typeUrl, exports.MsgDepositWithinBatch);\nfunction createBaseMsgDepositWithinBatchResponse() {\n    return {};\n}\nexports.MsgDepositWithinBatchResponse = {\n    typeUrl: \"/cyber.liquidity.v1beta1.MsgDepositWithinBatchResponse\",\n    is(o) {\n        return o && o.$typeUrl === exports.MsgDepositWithinBatchResponse.typeUrl;\n    },\n    isSDK(o) {\n        return o && o.$typeUrl === exports.MsgDepositWithinBatchResponse.typeUrl;\n    },\n    isAmino(o) {\n        return o && o.$typeUrl === exports.MsgDepositWithinBatchResponse.typeUrl;\n    },\n    encode(_, writer = binary_1.BinaryWriter.create()) {\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBaseMsgDepositWithinBatchResponse();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(_) {\n        return {};\n    },\n    toJSON(_) {\n        const obj = {};\n        return obj;\n    },\n    fromPartial(_) {\n        const message = createBaseMsgDepositWithinBatchResponse();\n        return message;\n    },\n    fromAmino(_) {\n        const message = createBaseMsgDepositWithinBatchResponse();\n        return message;\n    },\n    toAmino(_) {\n        const obj = {};\n        return obj;\n    },\n    fromAminoMsg(object) {\n        return exports.MsgDepositWithinBatchResponse.fromAmino(object.value);\n    },\n    fromProtoMsg(message) {\n        return exports.MsgDepositWithinBatchResponse.decode(message.value);\n    },\n    toProto(message) {\n        return exports.MsgDepositWithinBatchResponse.encode(message).finish();\n    },\n    toProtoMsg(message) {\n        return {\n            typeUrl: \"/cyber.liquidity.v1beta1.MsgDepositWithinBatchResponse\",\n            value: exports.MsgDepositWithinBatchResponse.encode(message).finish()\n        };\n    }\n};\nregistry_1.GlobalDecoderRegistry.register(exports.MsgDepositWithinBatchResponse.typeUrl, exports.MsgDepositWithinBatchResponse);\nfunction createBaseMsgWithdrawWithinBatch() {\n    return {\n        withdrawerAddress: \"\",\n        poolId: BigInt(0),\n        poolCoin: coin_1.Coin.fromPartial({})\n    };\n}\nexports.MsgWithdrawWithinBatch = {\n    typeUrl: \"/cyber.liquidity.v1beta1.MsgWithdrawWithinBatch\",\n    is(o) {\n        return o && (o.$typeUrl === exports.MsgWithdrawWithinBatch.typeUrl || typeof o.withdrawerAddress === \"string\" && typeof o.poolId === \"bigint\" && coin_1.Coin.is(o.poolCoin));\n    },\n    isSDK(o) {\n        return o && (o.$typeUrl === exports.MsgWithdrawWithinBatch.typeUrl || typeof o.withdrawer_address === \"string\" && typeof o.pool_id === \"bigint\" && coin_1.Coin.isSDK(o.pool_coin));\n    },\n    isAmino(o) {\n        return o && (o.$typeUrl === exports.MsgWithdrawWithinBatch.typeUrl || typeof o.withdrawer_address === \"string\" && typeof o.pool_id === \"bigint\" && coin_1.Coin.isAmino(o.pool_coin));\n    },\n    encode(message, writer = binary_1.BinaryWriter.create()) {\n        if (message.withdrawerAddress !== \"\") {\n            writer.uint32(10).string(message.withdrawerAddress);\n        }\n        if (message.poolId !== BigInt(0)) {\n            writer.uint32(16).uint64(message.poolId);\n        }\n        if (message.poolCoin !== undefined) {\n            coin_1.Coin.encode(message.poolCoin, writer.uint32(26).fork()).ldelim();\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBaseMsgWithdrawWithinBatch();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.withdrawerAddress = reader.string();\n                    break;\n                case 2:\n                    message.poolId = reader.uint64();\n                    break;\n                case 3:\n                    message.poolCoin = coin_1.Coin.decode(reader, reader.uint32());\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        return {\n            withdrawerAddress: (0, helpers_1.isSet)(object.withdrawerAddress) ? String(object.withdrawerAddress) : \"\",\n            poolId: (0, helpers_1.isSet)(object.poolId) ? BigInt(object.poolId.toString()) : BigInt(0),\n            poolCoin: (0, helpers_1.isSet)(object.poolCoin) ? coin_1.Coin.fromJSON(object.poolCoin) : undefined\n        };\n    },\n    toJSON(message) {\n        const obj = {};\n        message.withdrawerAddress !== undefined && (obj.withdrawerAddress = message.withdrawerAddress);\n        message.poolId !== undefined && (obj.poolId = (message.poolId || BigInt(0)).toString());\n        message.poolCoin !== undefined && (obj.poolCoin = message.poolCoin ? coin_1.Coin.toJSON(message.poolCoin) : undefined);\n        return obj;\n    },\n    fromPartial(object) {\n        const message = createBaseMsgWithdrawWithinBatch();\n        message.withdrawerAddress = object.withdrawerAddress ?? \"\";\n        message.poolId = object.poolId !== undefined && object.poolId !== null ? BigInt(object.poolId.toString()) : BigInt(0);\n        message.poolCoin = object.poolCoin !== undefined && object.poolCoin !== null ? coin_1.Coin.fromPartial(object.poolCoin) : undefined;\n        return message;\n    },\n    fromAmino(object) {\n        const message = createBaseMsgWithdrawWithinBatch();\n        if (object.withdrawer_address !== undefined && object.withdrawer_address !== null) {\n            message.withdrawerAddress = object.withdrawer_address;\n        }\n        if (object.pool_id !== undefined && object.pool_id !== null) {\n            message.poolId = BigInt(object.pool_id);\n        }\n        if (object.pool_coin !== undefined && object.pool_coin !== null) {\n            message.poolCoin = coin_1.Coin.fromAmino(object.pool_coin);\n        }\n        return message;\n    },\n    toAmino(message) {\n        const obj = {};\n        obj.withdrawer_address = message.withdrawerAddress === \"\" ? undefined : message.withdrawerAddress;\n        obj.pool_id = message.poolId !== BigInt(0) ? message.poolId.toString() : undefined;\n        obj.pool_coin = message.poolCoin ? coin_1.Coin.toAmino(message.poolCoin) : undefined;\n        return obj;\n    },\n    fromAminoMsg(object) {\n        return exports.MsgWithdrawWithinBatch.fromAmino(object.value);\n    },\n    fromProtoMsg(message) {\n        return exports.MsgWithdrawWithinBatch.decode(message.value);\n    },\n    toProto(message) {\n        return exports.MsgWithdrawWithinBatch.encode(message).finish();\n    },\n    toProtoMsg(message) {\n        return {\n            typeUrl: \"/cyber.liquidity.v1beta1.MsgWithdrawWithinBatch\",\n            value: exports.MsgWithdrawWithinBatch.encode(message).finish()\n        };\n    }\n};\nregistry_1.GlobalDecoderRegistry.register(exports.MsgWithdrawWithinBatch.typeUrl, exports.MsgWithdrawWithinBatch);\nfunction createBaseMsgWithdrawWithinBatchResponse() {\n    return {};\n}\nexports.MsgWithdrawWithinBatchResponse = {\n    typeUrl: \"/cyber.liquidity.v1beta1.MsgWithdrawWithinBatchResponse\",\n    is(o) {\n        return o && o.$typeUrl === exports.MsgWithdrawWithinBatchResponse.typeUrl;\n    },\n    isSDK(o) {\n        return o && o.$typeUrl === exports.MsgWithdrawWithinBatchResponse.typeUrl;\n    },\n    isAmino(o) {\n        return o && o.$typeUrl === exports.MsgWithdrawWithinBatchResponse.typeUrl;\n    },\n    encode(_, writer = binary_1.BinaryWriter.create()) {\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBaseMsgWithdrawWithinBatchResponse();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(_) {\n        return {};\n    },\n    toJSON(_) {\n        const obj = {};\n        return obj;\n    },\n    fromPartial(_) {\n        const message = createBaseMsgWithdrawWithinBatchResponse();\n        return message;\n    },\n    fromAmino(_) {\n        const message = createBaseMsgWithdrawWithinBatchResponse();\n        return message;\n    },\n    toAmino(_) {\n        const obj = {};\n        return obj;\n    },\n    fromAminoMsg(object) {\n        return exports.MsgWithdrawWithinBatchResponse.fromAmino(object.value);\n    },\n    fromProtoMsg(message) {\n        return exports.MsgWithdrawWithinBatchResponse.decode(message.value);\n    },\n    toProto(message) {\n        return exports.MsgWithdrawWithinBatchResponse.encode(message).finish();\n    },\n    toProtoMsg(message) {\n        return {\n            typeUrl: \"/cyber.liquidity.v1beta1.MsgWithdrawWithinBatchResponse\",\n            value: exports.MsgWithdrawWithinBatchResponse.encode(message).finish()\n        };\n    }\n};\nregistry_1.GlobalDecoderRegistry.register(exports.MsgWithdrawWithinBatchResponse.typeUrl, exports.MsgWithdrawWithinBatchResponse);\nfunction createBaseMsgSwapWithinBatch() {\n    return {\n        swapRequesterAddress: \"\",\n        poolId: BigInt(0),\n        swapTypeId: 0,\n        offerCoin: coin_1.Coin.fromPartial({}),\n        demandCoinDenom: \"\",\n        offerCoinFee: coin_1.Coin.fromPartial({}),\n        orderPrice: \"\"\n    };\n}\nexports.MsgSwapWithinBatch = {\n    typeUrl: \"/cyber.liquidity.v1beta1.MsgSwapWithinBatch\",\n    is(o) {\n        return o && (o.$typeUrl === exports.MsgSwapWithinBatch.typeUrl || typeof o.swapRequesterAddress === \"string\" && typeof o.poolId === \"bigint\" && typeof o.swapTypeId === \"number\" && coin_1.Coin.is(o.offerCoin) && typeof o.demandCoinDenom === \"string\" && coin_1.Coin.is(o.offerCoinFee) && typeof o.orderPrice === \"string\");\n    },\n    isSDK(o) {\n        return o && (o.$typeUrl === exports.MsgSwapWithinBatch.typeUrl || typeof o.swap_requester_address === \"string\" && typeof o.pool_id === \"bigint\" && typeof o.swap_type_id === \"number\" && coin_1.Coin.isSDK(o.offer_coin) && typeof o.demand_coin_denom === \"string\" && coin_1.Coin.isSDK(o.offer_coin_fee) && typeof o.order_price === \"string\");\n    },\n    isAmino(o) {\n        return o && (o.$typeUrl === exports.MsgSwapWithinBatch.typeUrl || typeof o.swap_requester_address === \"string\" && typeof o.pool_id === \"bigint\" && typeof o.swap_type_id === \"number\" && coin_1.Coin.isAmino(o.offer_coin) && typeof o.demand_coin_denom === \"string\" && coin_1.Coin.isAmino(o.offer_coin_fee) && typeof o.order_price === \"string\");\n    },\n    encode(message, writer = binary_1.BinaryWriter.create()) {\n        if (message.swapRequesterAddress !== \"\") {\n            writer.uint32(10).string(message.swapRequesterAddress);\n        }\n        if (message.poolId !== BigInt(0)) {\n            writer.uint32(16).uint64(message.poolId);\n        }\n        if (message.swapTypeId !== 0) {\n            writer.uint32(24).uint32(message.swapTypeId);\n        }\n        if (message.offerCoin !== undefined) {\n            coin_1.Coin.encode(message.offerCoin, writer.uint32(34).fork()).ldelim();\n        }\n        if (message.demandCoinDenom !== \"\") {\n            writer.uint32(42).string(message.demandCoinDenom);\n        }\n        if (message.offerCoinFee !== undefined) {\n            coin_1.Coin.encode(message.offerCoinFee, writer.uint32(50).fork()).ldelim();\n        }\n        if (message.orderPrice !== \"\") {\n            writer.uint32(58).string(math_1.Decimal.fromUserInput(message.orderPrice, 18).atomics);\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBaseMsgSwapWithinBatch();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.swapRequesterAddress = reader.string();\n                    break;\n                case 2:\n                    message.poolId = reader.uint64();\n                    break;\n                case 3:\n                    message.swapTypeId = reader.uint32();\n                    break;\n                case 4:\n                    message.offerCoin = coin_1.Coin.decode(reader, reader.uint32());\n                    break;\n                case 5:\n                    message.demandCoinDenom = reader.string();\n                    break;\n                case 6:\n                    message.offerCoinFee = coin_1.Coin.decode(reader, reader.uint32());\n                    break;\n                case 7:\n                    message.orderPrice = math_1.Decimal.fromAtomics(reader.string(), 18).toString();\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        return {\n            swapRequesterAddress: (0, helpers_1.isSet)(object.swapRequesterAddress) ? String(object.swapRequesterAddress) : \"\",\n            poolId: (0, helpers_1.isSet)(object.poolId) ? BigInt(object.poolId.toString()) : BigInt(0),\n            swapTypeId: (0, helpers_1.isSet)(object.swapTypeId) ? Number(object.swapTypeId) : 0,\n            offerCoin: (0, helpers_1.isSet)(object.offerCoin) ? coin_1.Coin.fromJSON(object.offerCoin) : undefined,\n            demandCoinDenom: (0, helpers_1.isSet)(object.demandCoinDenom) ? String(object.demandCoinDenom) : \"\",\n            offerCoinFee: (0, helpers_1.isSet)(object.offerCoinFee) ? coin_1.Coin.fromJSON(object.offerCoinFee) : undefined,\n            orderPrice: (0, helpers_1.isSet)(object.orderPrice) ? String(object.orderPrice) : \"\"\n        };\n    },\n    toJSON(message) {\n        const obj = {};\n        message.swapRequesterAddress !== undefined && (obj.swapRequesterAddress = message.swapRequesterAddress);\n        message.poolId !== undefined && (obj.poolId = (message.poolId || BigInt(0)).toString());\n        message.swapTypeId !== undefined && (obj.swapTypeId = Math.round(message.swapTypeId));\n        message.offerCoin !== undefined && (obj.offerCoin = message.offerCoin ? coin_1.Coin.toJSON(message.offerCoin) : undefined);\n        message.demandCoinDenom !== undefined && (obj.demandCoinDenom = message.demandCoinDenom);\n        message.offerCoinFee !== undefined && (obj.offerCoinFee = message.offerCoinFee ? coin_1.Coin.toJSON(message.offerCoinFee) : undefined);\n        message.orderPrice !== undefined && (obj.orderPrice = message.orderPrice);\n        return obj;\n    },\n    fromPartial(object) {\n        const message = createBaseMsgSwapWithinBatch();\n        message.swapRequesterAddress = object.swapRequesterAddress ?? \"\";\n        message.poolId = object.poolId !== undefined && object.poolId !== null ? BigInt(object.poolId.toString()) : BigInt(0);\n        message.swapTypeId = object.swapTypeId ?? 0;\n        message.offerCoin = object.offerCoin !== undefined && object.offerCoin !== null ? coin_1.Coin.fromPartial(object.offerCoin) : undefined;\n        message.demandCoinDenom = object.demandCoinDenom ?? \"\";\n        message.offerCoinFee = object.offerCoinFee !== undefined && object.offerCoinFee !== null ? coin_1.Coin.fromPartial(object.offerCoinFee) : undefined;\n        message.orderPrice = object.orderPrice ?? \"\";\n        return message;\n    },\n    fromAmino(object) {\n        const message = createBaseMsgSwapWithinBatch();\n        if (object.swap_requester_address !== undefined && object.swap_requester_address !== null) {\n            message.swapRequesterAddress = object.swap_requester_address;\n        }\n        if (object.pool_id !== undefined && object.pool_id !== null) {\n            message.poolId = BigInt(object.pool_id);\n        }\n        if (object.swap_type_id !== undefined && object.swap_type_id !== null) {\n            message.swapTypeId = object.swap_type_id;\n        }\n        if (object.offer_coin !== undefined && object.offer_coin !== null) {\n            message.offerCoin = coin_1.Coin.fromAmino(object.offer_coin);\n        }\n        if (object.demand_coin_denom !== undefined && object.demand_coin_denom !== null) {\n            message.demandCoinDenom = object.demand_coin_denom;\n        }\n        if (object.offer_coin_fee !== undefined && object.offer_coin_fee !== null) {\n            message.offerCoinFee = coin_1.Coin.fromAmino(object.offer_coin_fee);\n        }\n        if (object.order_price !== undefined && object.order_price !== null) {\n            message.orderPrice = object.order_price;\n        }\n        return message;\n    },\n    toAmino(message) {\n        const obj = {};\n        obj.swap_requester_address = message.swapRequesterAddress === \"\" ? undefined : message.swapRequesterAddress;\n        obj.pool_id = message.poolId !== BigInt(0) ? message.poolId.toString() : undefined;\n        obj.swap_type_id = message.swapTypeId === 0 ? undefined : message.swapTypeId;\n        obj.offer_coin = message.offerCoin ? coin_1.Coin.toAmino(message.offerCoin) : undefined;\n        obj.demand_coin_denom = message.demandCoinDenom === \"\" ? undefined : message.demandCoinDenom;\n        obj.offer_coin_fee = message.offerCoinFee ? coin_1.Coin.toAmino(message.offerCoinFee) : undefined;\n        obj.order_price = message.orderPrice === \"\" ? undefined : message.orderPrice;\n        return obj;\n    },\n    fromAminoMsg(object) {\n        return exports.MsgSwapWithinBatch.fromAmino(object.value);\n    },\n    fromProtoMsg(message) {\n        return exports.MsgSwapWithinBatch.decode(message.value);\n    },\n    toProto(message) {\n        return exports.MsgSwapWithinBatch.encode(message).finish();\n    },\n    toProtoMsg(message) {\n        return {\n            typeUrl: \"/cyber.liquidity.v1beta1.MsgSwapWithinBatch\",\n            value: exports.MsgSwapWithinBatch.encode(message).finish()\n        };\n    }\n};\nregistry_1.GlobalDecoderRegistry.register(exports.MsgSwapWithinBatch.typeUrl, exports.MsgSwapWithinBatch);\nfunction createBaseMsgSwapWithinBatchResponse() {\n    return {};\n}\nexports.MsgSwapWithinBatchResponse = {\n    typeUrl: \"/cyber.liquidity.v1beta1.MsgSwapWithinBatchResponse\",\n    is(o) {\n        return o && o.$typeUrl === exports.MsgSwapWithinBatchResponse.typeUrl;\n    },\n    isSDK(o) {\n        return o && o.$typeUrl === exports.MsgSwapWithinBatchResponse.typeUrl;\n    },\n    isAmino(o) {\n        return o && o.$typeUrl === exports.MsgSwapWithinBatchResponse.typeUrl;\n    },\n    encode(_, writer = binary_1.BinaryWriter.create()) {\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBaseMsgSwapWithinBatchResponse();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(_) {\n        return {};\n    },\n    toJSON(_) {\n        const obj = {};\n        return obj;\n    },\n    fromPartial(_) {\n        const message = createBaseMsgSwapWithinBatchResponse();\n        return message;\n    },\n    fromAmino(_) {\n        const message = createBaseMsgSwapWithinBatchResponse();\n        return message;\n    },\n    toAmino(_) {\n        const obj = {};\n        return obj;\n    },\n    fromAminoMsg(object) {\n        return exports.MsgSwapWithinBatchResponse.fromAmino(object.value);\n    },\n    fromProtoMsg(message) {\n        return exports.MsgSwapWithinBatchResponse.decode(message.value);\n    },\n    toProto(message) {\n        return exports.MsgSwapWithinBatchResponse.encode(message).finish();\n    },\n    toProtoMsg(message) {\n        return {\n            typeUrl: \"/cyber.liquidity.v1beta1.MsgSwapWithinBatchResponse\",\n            value: exports.MsgSwapWithinBatchResponse.encode(message).finish()\n        };\n    }\n};\nregistry_1.GlobalDecoderRegistry.register(exports.MsgSwapWithinBatchResponse.typeUrl, exports.MsgSwapWithinBatchResponse);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Uint64 = exports.Uint53 = exports.Uint32 = exports.Int53 = exports.Decimal = void 0;\nvar decimal_1 = require(\"./decimal\");\nObject.defineProperty(exports, \"Decimal\", { enumerable: true, get: function () { return decimal_1.Decimal; } });\nvar integers_1 = require(\"./integers\");\nObject.defineProperty(exports, \"Int53\", { enumerable: true, get: function () { return integers_1.Int53; } });\nObject.defineProperty(exports, \"Uint32\", { enumerable: true, get: function () { return integers_1.Uint32; } });\nObject.defineProperty(exports, \"Uint53\", { enumerable: true, get: function () { return integers_1.Uint53; } });\nObject.defineProperty(exports, \"Uint64\", { enumerable: true, get: function () { return integers_1.Uint64; } });\n//# sourceMappingURL=index.js.map","'use strict'\n\nconst { fromCallback } = require('catering')\nconst ModuleError = require('module-error')\nconst { getCallback, getOptions } = require('./lib/common')\n\nconst kPromise = Symbol('promise')\nconst kStatus = Symbol('status')\nconst kOperations = Symbol('operations')\nconst kFinishClose = Symbol('finishClose')\nconst kCloseCallbacks = Symbol('closeCallbacks')\n\nclass AbstractChainedBatch {\n  constructor (db) {\n    if (typeof db !== 'object' || db === null) {\n      const hint = db === null ? 'null' : typeof db\n      throw new TypeError(`The first argument must be an abstract-level database, received ${hint}`)\n    }\n\n    this[kOperations] = []\n    this[kCloseCallbacks] = []\n    this[kStatus] = 'open'\n    this[kFinishClose] = this[kFinishClose].bind(this)\n\n    this.db = db\n    this.db.attachResource(this)\n    this.nextTick = db.nextTick\n  }\n\n  get length () {\n    return this[kOperations].length\n  }\n\n  put (key, value, options) {\n    if (this[kStatus] !== 'open') {\n      throw new ModuleError('Batch is not open: cannot call put() after write() or close()', {\n        code: 'LEVEL_BATCH_NOT_OPEN'\n      })\n    }\n\n    const err = this.db._checkKey(key) || this.db._checkValue(value)\n    if (err) throw err\n\n    const db = options && options.sublevel != null ? options.sublevel : this.db\n    const original = options\n    const keyEncoding = db.keyEncoding(options && options.keyEncoding)\n    const valueEncoding = db.valueEncoding(options && options.valueEncoding)\n    const keyFormat = keyEncoding.format\n\n    // Forward encoding options\n    options = { ...options, keyEncoding: keyFormat, valueEncoding: valueEncoding.format }\n\n    // Prevent double prefixing\n    if (db !== this.db) {\n      options.sublevel = null\n    }\n\n    const mappedKey = db.prefixKey(keyEncoding.encode(key), keyFormat)\n    const mappedValue = valueEncoding.encode(value)\n\n    this._put(mappedKey, mappedValue, options)\n    this[kOperations].push({ ...original, type: 'put', key, value })\n\n    return this\n  }\n\n  _put (key, value, options) {}\n\n  del (key, options) {\n    if (this[kStatus] !== 'open') {\n      throw new ModuleError('Batch is not open: cannot call del() after write() or close()', {\n        code: 'LEVEL_BATCH_NOT_OPEN'\n      })\n    }\n\n    const err = this.db._checkKey(key)\n    if (err) throw err\n\n    const db = options && options.sublevel != null ? options.sublevel : this.db\n    const original = options\n    const keyEncoding = db.keyEncoding(options && options.keyEncoding)\n    const keyFormat = keyEncoding.format\n\n    // Forward encoding options\n    options = { ...options, keyEncoding: keyFormat }\n\n    // Prevent double prefixing\n    if (db !== this.db) {\n      options.sublevel = null\n    }\n\n    this._del(db.prefixKey(keyEncoding.encode(key), keyFormat), options)\n    this[kOperations].push({ ...original, type: 'del', key })\n\n    return this\n  }\n\n  _del (key, options) {}\n\n  clear () {\n    if (this[kStatus] !== 'open') {\n      throw new ModuleError('Batch is not open: cannot call clear() after write() or close()', {\n        code: 'LEVEL_BATCH_NOT_OPEN'\n      })\n    }\n\n    this._clear()\n    this[kOperations] = []\n\n    return this\n  }\n\n  _clear () {}\n\n  write (options, callback) {\n    callback = getCallback(options, callback)\n    callback = fromCallback(callback, kPromise)\n    options = getOptions(options)\n\n    if (this[kStatus] !== 'open') {\n      this.nextTick(callback, new ModuleError('Batch is not open: cannot call write() after write() or close()', {\n        code: 'LEVEL_BATCH_NOT_OPEN'\n      }))\n    } else if (this.length === 0) {\n      this.close(callback)\n    } else {\n      this[kStatus] = 'writing'\n      this._write(options, (err) => {\n        this[kStatus] = 'closing'\n        this[kCloseCallbacks].push(() => callback(err))\n\n        // Emit after setting 'closing' status, because event may trigger a\n        // db close which in turn triggers (idempotently) closing this batch.\n        if (!err) this.db.emit('batch', this[kOperations])\n\n        this._close(this[kFinishClose])\n      })\n    }\n\n    return callback[kPromise]\n  }\n\n  _write (options, callback) {}\n\n  close (callback) {\n    callback = fromCallback(callback, kPromise)\n\n    if (this[kStatus] === 'closing') {\n      this[kCloseCallbacks].push(callback)\n    } else if (this[kStatus] === 'closed') {\n      this.nextTick(callback)\n    } else {\n      this[kCloseCallbacks].push(callback)\n\n      if (this[kStatus] !== 'writing') {\n        this[kStatus] = 'closing'\n        this._close(this[kFinishClose])\n      }\n    }\n\n    return callback[kPromise]\n  }\n\n  _close (callback) {\n    this.nextTick(callback)\n  }\n\n  [kFinishClose] () {\n    this[kStatus] = 'closed'\n    this.db.detachResource(this)\n\n    const callbacks = this[kCloseCallbacks]\n    this[kCloseCallbacks] = []\n\n    for (const cb of callbacks) {\n      cb()\n    }\n  }\n}\n\nexports.AbstractChainedBatch = AbstractChainedBatch\n","'use strict'\n\nconst { fromCallback } = require('catering')\nconst ModuleError = require('module-error')\nconst { getOptions, getCallback } = require('./lib/common')\n\nconst kPromise = Symbol('promise')\nconst kCallback = Symbol('callback')\nconst kWorking = Symbol('working')\nconst kHandleOne = Symbol('handleOne')\nconst kHandleMany = Symbol('handleMany')\nconst kAutoClose = Symbol('autoClose')\nconst kFinishWork = Symbol('finishWork')\nconst kReturnMany = Symbol('returnMany')\nconst kClosing = Symbol('closing')\nconst kHandleClose = Symbol('handleClose')\nconst kClosed = Symbol('closed')\nconst kCloseCallbacks = Symbol('closeCallbacks')\nconst kKeyEncoding = Symbol('keyEncoding')\nconst kValueEncoding = Symbol('valueEncoding')\nconst kAbortOnClose = Symbol('abortOnClose')\nconst kLegacy = Symbol('legacy')\nconst kKeys = Symbol('keys')\nconst kValues = Symbol('values')\nconst kLimit = Symbol('limit')\nconst kCount = Symbol('count')\n\nconst emptyOptions = Object.freeze({})\nconst noop = () => {}\nlet warnedEnd = false\n\n// This class is an internal utility for common functionality between AbstractIterator,\n// AbstractKeyIterator and AbstractValueIterator. It's not exported.\nclass CommonIterator {\n  constructor (db, options, legacy) {\n    if (typeof db !== 'object' || db === null) {\n      const hint = db === null ? 'null' : typeof db\n      throw new TypeError(`The first argument must be an abstract-level database, received ${hint}`)\n    }\n\n    if (typeof options !== 'object' || options === null) {\n      throw new TypeError('The second argument must be an options object')\n    }\n\n    this[kClosed] = false\n    this[kCloseCallbacks] = []\n    this[kWorking] = false\n    this[kClosing] = false\n    this[kAutoClose] = false\n    this[kCallback] = null\n    this[kHandleOne] = this[kHandleOne].bind(this)\n    this[kHandleMany] = this[kHandleMany].bind(this)\n    this[kHandleClose] = this[kHandleClose].bind(this)\n    this[kKeyEncoding] = options[kKeyEncoding]\n    this[kValueEncoding] = options[kValueEncoding]\n    this[kLegacy] = legacy\n    this[kLimit] = Number.isInteger(options.limit) && options.limit >= 0 ? options.limit : Infinity\n    this[kCount] = 0\n\n    // Undocumented option to abort pending work on close(). Used by the\n    // many-level module as a temporary solution to a blocked close().\n    // TODO (next major): consider making this the default behavior. Native\n    // implementations should have their own logic to safely close iterators.\n    this[kAbortOnClose] = !!options.abortOnClose\n\n    this.db = db\n    this.db.attachResource(this)\n    this.nextTick = db.nextTick\n  }\n\n  get count () {\n    return this[kCount]\n  }\n\n  get limit () {\n    return this[kLimit]\n  }\n\n  next (callback) {\n    let promise\n\n    if (callback === undefined) {\n      promise = new Promise((resolve, reject) => {\n        callback = (err, key, value) => {\n          if (err) reject(err)\n          else if (!this[kLegacy]) resolve(key)\n          else if (key === undefined && value === undefined) resolve()\n          else resolve([key, value])\n        }\n      })\n    } else if (typeof callback !== 'function') {\n      throw new TypeError('Callback must be a function')\n    }\n\n    if (this[kClosing]) {\n      this.nextTick(callback, new ModuleError('Iterator is not open: cannot call next() after close()', {\n        code: 'LEVEL_ITERATOR_NOT_OPEN'\n      }))\n    } else if (this[kWorking]) {\n      this.nextTick(callback, new ModuleError('Iterator is busy: cannot call next() until previous call has completed', {\n        code: 'LEVEL_ITERATOR_BUSY'\n      }))\n    } else {\n      this[kWorking] = true\n      this[kCallback] = callback\n\n      if (this[kCount] >= this[kLimit]) this.nextTick(this[kHandleOne], null)\n      else this._next(this[kHandleOne])\n    }\n\n    return promise\n  }\n\n  _next (callback) {\n    this.nextTick(callback)\n  }\n\n  nextv (size, options, callback) {\n    callback = getCallback(options, callback)\n    callback = fromCallback(callback, kPromise)\n    options = getOptions(options, emptyOptions)\n\n    if (!Number.isInteger(size)) {\n      this.nextTick(callback, new TypeError(\"The first argument 'size' must be an integer\"))\n      return callback[kPromise]\n    }\n\n    if (this[kClosing]) {\n      this.nextTick(callback, new ModuleError('Iterator is not open: cannot call nextv() after close()', {\n        code: 'LEVEL_ITERATOR_NOT_OPEN'\n      }))\n    } else if (this[kWorking]) {\n      this.nextTick(callback, new ModuleError('Iterator is busy: cannot call nextv() until previous call has completed', {\n        code: 'LEVEL_ITERATOR_BUSY'\n      }))\n    } else {\n      if (size < 1) size = 1\n      if (this[kLimit] < Infinity) size = Math.min(size, this[kLimit] - this[kCount])\n\n      this[kWorking] = true\n      this[kCallback] = callback\n\n      if (size <= 0) this.nextTick(this[kHandleMany], null, [])\n      else this._nextv(size, options, this[kHandleMany])\n    }\n\n    return callback[kPromise]\n  }\n\n  _nextv (size, options, callback) {\n    const acc = []\n    const onnext = (err, key, value) => {\n      if (err) {\n        return callback(err)\n      } else if (this[kLegacy] ? key === undefined && value === undefined : key === undefined) {\n        return callback(null, acc)\n      }\n\n      acc.push(this[kLegacy] ? [key, value] : key)\n\n      if (acc.length === size) {\n        callback(null, acc)\n      } else {\n        this._next(onnext)\n      }\n    }\n\n    this._next(onnext)\n  }\n\n  all (options, callback) {\n    callback = getCallback(options, callback)\n    callback = fromCallback(callback, kPromise)\n    options = getOptions(options, emptyOptions)\n\n    if (this[kClosing]) {\n      this.nextTick(callback, new ModuleError('Iterator is not open: cannot call all() after close()', {\n        code: 'LEVEL_ITERATOR_NOT_OPEN'\n      }))\n    } else if (this[kWorking]) {\n      this.nextTick(callback, new ModuleError('Iterator is busy: cannot call all() until previous call has completed', {\n        code: 'LEVEL_ITERATOR_BUSY'\n      }))\n    } else {\n      this[kWorking] = true\n      this[kCallback] = callback\n      this[kAutoClose] = true\n\n      if (this[kCount] >= this[kLimit]) this.nextTick(this[kHandleMany], null, [])\n      else this._all(options, this[kHandleMany])\n    }\n\n    return callback[kPromise]\n  }\n\n  _all (options, callback) {\n    // Must count here because we're directly calling _nextv()\n    let count = this[kCount]\n    const acc = []\n\n    const nextv = () => {\n      // Not configurable, because implementations should optimize _all().\n      const size = this[kLimit] < Infinity ? Math.min(1e3, this[kLimit] - count) : 1e3\n\n      if (size <= 0) {\n        this.nextTick(callback, null, acc)\n      } else {\n        this._nextv(size, emptyOptions, onnextv)\n      }\n    }\n\n    const onnextv = (err, items) => {\n      if (err) {\n        callback(err)\n      } else if (items.length === 0) {\n        callback(null, acc)\n      } else {\n        acc.push.apply(acc, items)\n        count += items.length\n        nextv()\n      }\n    }\n\n    nextv()\n  }\n\n  [kFinishWork] () {\n    const cb = this[kCallback]\n\n    // Callback will be null if work was aborted on close\n    if (this[kAbortOnClose] && cb === null) return noop\n\n    this[kWorking] = false\n    this[kCallback] = null\n\n    if (this[kClosing]) this._close(this[kHandleClose])\n\n    return cb\n  }\n\n  [kReturnMany] (cb, err, items) {\n    if (this[kAutoClose]) {\n      this.close(cb.bind(null, err, items))\n    } else {\n      cb(err, items)\n    }\n  }\n\n  seek (target, options) {\n    options = getOptions(options, emptyOptions)\n\n    if (this[kClosing]) {\n      // Don't throw here, to be kind to implementations that wrap\n      // another db and don't necessarily control when the db is closed\n    } else if (this[kWorking]) {\n      throw new ModuleError('Iterator is busy: cannot call seek() until next() has completed', {\n        code: 'LEVEL_ITERATOR_BUSY'\n      })\n    } else {\n      const keyEncoding = this.db.keyEncoding(options.keyEncoding || this[kKeyEncoding])\n      const keyFormat = keyEncoding.format\n\n      if (options.keyEncoding !== keyFormat) {\n        options = { ...options, keyEncoding: keyFormat }\n      }\n\n      const mapped = this.db.prefixKey(keyEncoding.encode(target), keyFormat)\n      this._seek(mapped, options)\n    }\n  }\n\n  _seek (target, options) {\n    throw new ModuleError('Iterator does not support seek()', {\n      code: 'LEVEL_NOT_SUPPORTED'\n    })\n  }\n\n  close (callback) {\n    callback = fromCallback(callback, kPromise)\n\n    if (this[kClosed]) {\n      this.nextTick(callback)\n    } else if (this[kClosing]) {\n      this[kCloseCallbacks].push(callback)\n    } else {\n      this[kClosing] = true\n      this[kCloseCallbacks].push(callback)\n\n      if (!this[kWorking]) {\n        this._close(this[kHandleClose])\n      } else if (this[kAbortOnClose]) {\n        // Don't wait for work to finish. Subsequently ignore the result.\n        const cb = this[kFinishWork]()\n\n        cb(new ModuleError('Aborted on iterator close()', {\n          code: 'LEVEL_ITERATOR_NOT_OPEN'\n        }))\n      }\n    }\n\n    return callback[kPromise]\n  }\n\n  _close (callback) {\n    this.nextTick(callback)\n  }\n\n  [kHandleClose] () {\n    this[kClosed] = true\n    this.db.detachResource(this)\n\n    const callbacks = this[kCloseCallbacks]\n    this[kCloseCallbacks] = []\n\n    for (const cb of callbacks) {\n      cb()\n    }\n  }\n\n  async * [Symbol.asyncIterator] () {\n    try {\n      let item\n\n      while ((item = (await this.next())) !== undefined) {\n        yield item\n      }\n    } finally {\n      if (!this[kClosed]) await this.close()\n    }\n  }\n}\n\n// For backwards compatibility this class is not (yet) called AbstractEntryIterator.\nclass AbstractIterator extends CommonIterator {\n  constructor (db, options) {\n    super(db, options, true)\n    this[kKeys] = options.keys !== false\n    this[kValues] = options.values !== false\n  }\n\n  [kHandleOne] (err, key, value) {\n    const cb = this[kFinishWork]()\n    if (err) return cb(err)\n\n    try {\n      key = this[kKeys] && key !== undefined ? this[kKeyEncoding].decode(key) : undefined\n      value = this[kValues] && value !== undefined ? this[kValueEncoding].decode(value) : undefined\n    } catch (err) {\n      return cb(new IteratorDecodeError('entry', err))\n    }\n\n    if (!(key === undefined && value === undefined)) {\n      this[kCount]++\n    }\n\n    cb(null, key, value)\n  }\n\n  [kHandleMany] (err, entries) {\n    const cb = this[kFinishWork]()\n    if (err) return this[kReturnMany](cb, err)\n\n    try {\n      for (const entry of entries) {\n        const key = entry[0]\n        const value = entry[1]\n\n        entry[0] = this[kKeys] && key !== undefined ? this[kKeyEncoding].decode(key) : undefined\n        entry[1] = this[kValues] && value !== undefined ? this[kValueEncoding].decode(value) : undefined\n      }\n    } catch (err) {\n      return this[kReturnMany](cb, new IteratorDecodeError('entries', err))\n    }\n\n    this[kCount] += entries.length\n    this[kReturnMany](cb, null, entries)\n  }\n\n  end (callback) {\n    if (!warnedEnd && typeof console !== 'undefined') {\n      warnedEnd = true\n      console.warn(new ModuleError(\n        'The iterator.end() method was renamed to close() and end() is an alias that will be removed in a future version',\n        { code: 'LEVEL_LEGACY' }\n      ))\n    }\n\n    return this.close(callback)\n  }\n}\n\nclass AbstractKeyIterator extends CommonIterator {\n  constructor (db, options) {\n    super(db, options, false)\n  }\n\n  [kHandleOne] (err, key) {\n    const cb = this[kFinishWork]()\n    if (err) return cb(err)\n\n    try {\n      key = key !== undefined ? this[kKeyEncoding].decode(key) : undefined\n    } catch (err) {\n      return cb(new IteratorDecodeError('key', err))\n    }\n\n    if (key !== undefined) this[kCount]++\n    cb(null, key)\n  }\n\n  [kHandleMany] (err, keys) {\n    const cb = this[kFinishWork]()\n    if (err) return this[kReturnMany](cb, err)\n\n    try {\n      for (let i = 0; i < keys.length; i++) {\n        const key = keys[i]\n        keys[i] = key !== undefined ? this[kKeyEncoding].decode(key) : undefined\n      }\n    } catch (err) {\n      return this[kReturnMany](cb, new IteratorDecodeError('keys', err))\n    }\n\n    this[kCount] += keys.length\n    this[kReturnMany](cb, null, keys)\n  }\n}\n\nclass AbstractValueIterator extends CommonIterator {\n  constructor (db, options) {\n    super(db, options, false)\n  }\n\n  [kHandleOne] (err, value) {\n    const cb = this[kFinishWork]()\n    if (err) return cb(err)\n\n    try {\n      value = value !== undefined ? this[kValueEncoding].decode(value) : undefined\n    } catch (err) {\n      return cb(new IteratorDecodeError('value', err))\n    }\n\n    if (value !== undefined) this[kCount]++\n    cb(null, value)\n  }\n\n  [kHandleMany] (err, values) {\n    const cb = this[kFinishWork]()\n    if (err) return this[kReturnMany](cb, err)\n\n    try {\n      for (let i = 0; i < values.length; i++) {\n        const value = values[i]\n        values[i] = value !== undefined ? this[kValueEncoding].decode(value) : undefined\n      }\n    } catch (err) {\n      return this[kReturnMany](cb, new IteratorDecodeError('values', err))\n    }\n\n    this[kCount] += values.length\n    this[kReturnMany](cb, null, values)\n  }\n}\n\n// Internal utility, not typed or exported\nclass IteratorDecodeError extends ModuleError {\n  constructor (subject, cause) {\n    super(`Iterator could not decode ${subject}`, {\n      code: 'LEVEL_DECODE_ERROR',\n      cause\n    })\n  }\n}\n\n// To help migrating to abstract-level\nfor (const k of ['_ended property', '_nexting property', '_end method']) {\n  Object.defineProperty(AbstractIterator.prototype, k.split(' ')[0], {\n    get () { throw new ModuleError(`The ${k} has been removed`, { code: 'LEVEL_LEGACY' }) },\n    set () { throw new ModuleError(`The ${k} has been removed`, { code: 'LEVEL_LEGACY' }) }\n  })\n}\n\n// Exposed so that AbstractLevel can set these options\nAbstractIterator.keyEncoding = kKeyEncoding\nAbstractIterator.valueEncoding = kValueEncoding\n\nexports.AbstractIterator = AbstractIterator\nexports.AbstractKeyIterator = AbstractKeyIterator\nexports.AbstractValueIterator = AbstractValueIterator\n","'use strict'\n\nconst { supports } = require('level-supports')\nconst { Transcoder } = require('level-transcoder')\nconst { EventEmitter } = require('events')\nconst { fromCallback } = require('catering')\nconst ModuleError = require('module-error')\nconst { AbstractIterator } = require('./abstract-iterator')\nconst { DefaultKeyIterator, DefaultValueIterator } = require('./lib/default-kv-iterator')\nconst { DeferredIterator, DeferredKeyIterator, DeferredValueIterator } = require('./lib/deferred-iterator')\nconst { DefaultChainedBatch } = require('./lib/default-chained-batch')\nconst { getCallback, getOptions } = require('./lib/common')\nconst rangeOptions = require('./lib/range-options')\n\nconst kPromise = Symbol('promise')\nconst kLanded = Symbol('landed')\nconst kResources = Symbol('resources')\nconst kCloseResources = Symbol('closeResources')\nconst kOperations = Symbol('operations')\nconst kUndefer = Symbol('undefer')\nconst kDeferOpen = Symbol('deferOpen')\nconst kOptions = Symbol('options')\nconst kStatus = Symbol('status')\nconst kDefaultOptions = Symbol('defaultOptions')\nconst kTranscoder = Symbol('transcoder')\nconst kKeyEncoding = Symbol('keyEncoding')\nconst kValueEncoding = Symbol('valueEncoding')\nconst noop = () => {}\n\nclass AbstractLevel extends EventEmitter {\n  constructor (manifest, options) {\n    super()\n\n    if (typeof manifest !== 'object' || manifest === null) {\n      throw new TypeError(\"The first argument 'manifest' must be an object\")\n    }\n\n    options = getOptions(options)\n    const { keyEncoding, valueEncoding, passive, ...forward } = options\n\n    this[kResources] = new Set()\n    this[kOperations] = []\n    this[kDeferOpen] = true\n    this[kOptions] = forward\n    this[kStatus] = 'opening'\n\n    this.supports = supports(manifest, {\n      status: true,\n      promises: true,\n      clear: true,\n      getMany: true,\n      deferredOpen: true,\n\n      // TODO (next major): add seek\n      snapshots: manifest.snapshots !== false,\n      permanence: manifest.permanence !== false,\n\n      // TODO: remove from level-supports because it's always supported\n      keyIterator: true,\n      valueIterator: true,\n      iteratorNextv: true,\n      iteratorAll: true,\n\n      encodings: manifest.encodings || {},\n      events: Object.assign({}, manifest.events, {\n        opening: true,\n        open: true,\n        closing: true,\n        closed: true,\n        put: true,\n        del: true,\n        batch: true,\n        clear: true\n      })\n    })\n\n    this[kTranscoder] = new Transcoder(formats(this))\n    this[kKeyEncoding] = this[kTranscoder].encoding(keyEncoding || 'utf8')\n    this[kValueEncoding] = this[kTranscoder].encoding(valueEncoding || 'utf8')\n\n    // Add custom and transcoder encodings to manifest\n    for (const encoding of this[kTranscoder].encodings()) {\n      if (!this.supports.encodings[encoding.commonName]) {\n        this.supports.encodings[encoding.commonName] = true\n      }\n    }\n\n    this[kDefaultOptions] = {\n      empty: Object.freeze({}),\n      entry: Object.freeze({\n        keyEncoding: this[kKeyEncoding].commonName,\n        valueEncoding: this[kValueEncoding].commonName\n      }),\n      key: Object.freeze({\n        keyEncoding: this[kKeyEncoding].commonName\n      })\n    }\n\n    // Let subclass finish its constructor\n    this.nextTick(() => {\n      if (this[kDeferOpen]) {\n        this.open({ passive: false }, noop)\n      }\n    })\n  }\n\n  get status () {\n    return this[kStatus]\n  }\n\n  keyEncoding (encoding) {\n    return this[kTranscoder].encoding(encoding != null ? encoding : this[kKeyEncoding])\n  }\n\n  valueEncoding (encoding) {\n    return this[kTranscoder].encoding(encoding != null ? encoding : this[kValueEncoding])\n  }\n\n  open (options, callback) {\n    callback = getCallback(options, callback)\n    callback = fromCallback(callback, kPromise)\n\n    options = { ...this[kOptions], ...getOptions(options) }\n\n    options.createIfMissing = options.createIfMissing !== false\n    options.errorIfExists = !!options.errorIfExists\n\n    const maybeOpened = (err) => {\n      if (this[kStatus] === 'closing' || this[kStatus] === 'opening') {\n        // Wait until pending state changes are done\n        this.once(kLanded, err ? () => maybeOpened(err) : maybeOpened)\n      } else if (this[kStatus] !== 'open') {\n        callback(new ModuleError('Database is not open', {\n          code: 'LEVEL_DATABASE_NOT_OPEN',\n          cause: err\n        }))\n      } else {\n        callback()\n      }\n    }\n\n    if (options.passive) {\n      if (this[kStatus] === 'opening') {\n        this.once(kLanded, maybeOpened)\n      } else {\n        this.nextTick(maybeOpened)\n      }\n    } else if (this[kStatus] === 'closed' || this[kDeferOpen]) {\n      this[kDeferOpen] = false\n      this[kStatus] = 'opening'\n      this.emit('opening')\n\n      this._open(options, (err) => {\n        if (err) {\n          this[kStatus] = 'closed'\n\n          // Resources must be safe to close in any db state\n          this[kCloseResources](() => {\n            this.emit(kLanded)\n            maybeOpened(err)\n          })\n\n          this[kUndefer]()\n          return\n        }\n\n        this[kStatus] = 'open'\n        this[kUndefer]()\n        this.emit(kLanded)\n\n        // Only emit public event if pending state changes are done\n        if (this[kStatus] === 'open') this.emit('open')\n\n        // TODO (next major): remove this alias\n        if (this[kStatus] === 'open') this.emit('ready')\n\n        maybeOpened()\n      })\n    } else if (this[kStatus] === 'open') {\n      this.nextTick(maybeOpened)\n    } else {\n      this.once(kLanded, () => this.open(options, callback))\n    }\n\n    return callback[kPromise]\n  }\n\n  _open (options, callback) {\n    this.nextTick(callback)\n  }\n\n  close (callback) {\n    callback = fromCallback(callback, kPromise)\n\n    const maybeClosed = (err) => {\n      if (this[kStatus] === 'opening' || this[kStatus] === 'closing') {\n        // Wait until pending state changes are done\n        this.once(kLanded, err ? maybeClosed(err) : maybeClosed)\n      } else if (this[kStatus] !== 'closed') {\n        callback(new ModuleError('Database is not closed', {\n          code: 'LEVEL_DATABASE_NOT_CLOSED',\n          cause: err\n        }))\n      } else {\n        callback()\n      }\n    }\n\n    if (this[kStatus] === 'open') {\n      this[kStatus] = 'closing'\n      this.emit('closing')\n\n      const cancel = (err) => {\n        this[kStatus] = 'open'\n        this[kUndefer]()\n        this.emit(kLanded)\n        maybeClosed(err)\n      }\n\n      this[kCloseResources](() => {\n        this._close((err) => {\n          if (err) return cancel(err)\n\n          this[kStatus] = 'closed'\n          this[kUndefer]()\n          this.emit(kLanded)\n\n          // Only emit public event if pending state changes are done\n          if (this[kStatus] === 'closed') this.emit('closed')\n\n          maybeClosed()\n        })\n      })\n    } else if (this[kStatus] === 'closed') {\n      this.nextTick(maybeClosed)\n    } else {\n      this.once(kLanded, () => this.close(callback))\n    }\n\n    return callback[kPromise]\n  }\n\n  [kCloseResources] (callback) {\n    if (this[kResources].size === 0) {\n      return this.nextTick(callback)\n    }\n\n    let pending = this[kResources].size\n    let sync = true\n\n    const next = () => {\n      if (--pending === 0) {\n        // We don't have tests for generic resources, so dezalgo\n        if (sync) this.nextTick(callback)\n        else callback()\n      }\n    }\n\n    // In parallel so that all resources know they are closed\n    for (const resource of this[kResources]) {\n      resource.close(next)\n    }\n\n    sync = false\n    this[kResources].clear()\n  }\n\n  _close (callback) {\n    this.nextTick(callback)\n  }\n\n  get (key, options, callback) {\n    callback = getCallback(options, callback)\n    callback = fromCallback(callback, kPromise)\n    options = getOptions(options, this[kDefaultOptions].entry)\n\n    if (this[kStatus] === 'opening') {\n      this.defer(() => this.get(key, options, callback))\n      return callback[kPromise]\n    }\n\n    if (maybeError(this, callback)) {\n      return callback[kPromise]\n    }\n\n    const err = this._checkKey(key)\n\n    if (err) {\n      this.nextTick(callback, err)\n      return callback[kPromise]\n    }\n\n    const keyEncoding = this.keyEncoding(options.keyEncoding)\n    const valueEncoding = this.valueEncoding(options.valueEncoding)\n    const keyFormat = keyEncoding.format\n    const valueFormat = valueEncoding.format\n\n    // Forward encoding options to the underlying store\n    if (options.keyEncoding !== keyFormat || options.valueEncoding !== valueFormat) {\n      // Avoid spread operator because of https://bugs.chromium.org/p/chromium/issues/detail?id=1204540\n      options = Object.assign({}, options, { keyEncoding: keyFormat, valueEncoding: valueFormat })\n    }\n\n    this._get(this.prefixKey(keyEncoding.encode(key), keyFormat), options, (err, value) => {\n      if (err) {\n        // Normalize not found error for backwards compatibility with abstract-leveldown and level(up)\n        if (err.code === 'LEVEL_NOT_FOUND' || err.notFound || /NotFound/i.test(err)) {\n          if (!err.code) err.code = 'LEVEL_NOT_FOUND' // Preferred way going forward\n          if (!err.notFound) err.notFound = true // Same as level-errors\n          if (!err.status) err.status = 404 // Same as level-errors\n        }\n\n        return callback(err)\n      }\n\n      try {\n        value = valueEncoding.decode(value)\n      } catch (err) {\n        return callback(new ModuleError('Could not decode value', {\n          code: 'LEVEL_DECODE_ERROR',\n          cause: err\n        }))\n      }\n\n      callback(null, value)\n    })\n\n    return callback[kPromise]\n  }\n\n  _get (key, options, callback) {\n    this.nextTick(callback, new Error('NotFound'))\n  }\n\n  getMany (keys, options, callback) {\n    callback = getCallback(options, callback)\n    callback = fromCallback(callback, kPromise)\n    options = getOptions(options, this[kDefaultOptions].entry)\n\n    if (this[kStatus] === 'opening') {\n      this.defer(() => this.getMany(keys, options, callback))\n      return callback[kPromise]\n    }\n\n    if (maybeError(this, callback)) {\n      return callback[kPromise]\n    }\n\n    if (!Array.isArray(keys)) {\n      this.nextTick(callback, new TypeError(\"The first argument 'keys' must be an array\"))\n      return callback[kPromise]\n    }\n\n    if (keys.length === 0) {\n      this.nextTick(callback, null, [])\n      return callback[kPromise]\n    }\n\n    const keyEncoding = this.keyEncoding(options.keyEncoding)\n    const valueEncoding = this.valueEncoding(options.valueEncoding)\n    const keyFormat = keyEncoding.format\n    const valueFormat = valueEncoding.format\n\n    // Forward encoding options\n    if (options.keyEncoding !== keyFormat || options.valueEncoding !== valueFormat) {\n      options = Object.assign({}, options, { keyEncoding: keyFormat, valueEncoding: valueFormat })\n    }\n\n    const mappedKeys = new Array(keys.length)\n\n    for (let i = 0; i < keys.length; i++) {\n      const key = keys[i]\n      const err = this._checkKey(key)\n\n      if (err) {\n        this.nextTick(callback, err)\n        return callback[kPromise]\n      }\n\n      mappedKeys[i] = this.prefixKey(keyEncoding.encode(key), keyFormat)\n    }\n\n    this._getMany(mappedKeys, options, (err, values) => {\n      if (err) return callback(err)\n\n      try {\n        for (let i = 0; i < values.length; i++) {\n          if (values[i] !== undefined) {\n            values[i] = valueEncoding.decode(values[i])\n          }\n        }\n      } catch (err) {\n        return callback(new ModuleError(`Could not decode one or more of ${values.length} value(s)`, {\n          code: 'LEVEL_DECODE_ERROR',\n          cause: err\n        }))\n      }\n\n      callback(null, values)\n    })\n\n    return callback[kPromise]\n  }\n\n  _getMany (keys, options, callback) {\n    this.nextTick(callback, null, new Array(keys.length).fill(undefined))\n  }\n\n  put (key, value, options, callback) {\n    callback = getCallback(options, callback)\n    callback = fromCallback(callback, kPromise)\n    options = getOptions(options, this[kDefaultOptions].entry)\n\n    if (this[kStatus] === 'opening') {\n      this.defer(() => this.put(key, value, options, callback))\n      return callback[kPromise]\n    }\n\n    if (maybeError(this, callback)) {\n      return callback[kPromise]\n    }\n\n    const err = this._checkKey(key) || this._checkValue(value)\n\n    if (err) {\n      this.nextTick(callback, err)\n      return callback[kPromise]\n    }\n\n    const keyEncoding = this.keyEncoding(options.keyEncoding)\n    const valueEncoding = this.valueEncoding(options.valueEncoding)\n    const keyFormat = keyEncoding.format\n    const valueFormat = valueEncoding.format\n\n    // Forward encoding options\n    if (options.keyEncoding !== keyFormat || options.valueEncoding !== valueFormat) {\n      options = Object.assign({}, options, { keyEncoding: keyFormat, valueEncoding: valueFormat })\n    }\n\n    const mappedKey = this.prefixKey(keyEncoding.encode(key), keyFormat)\n    const mappedValue = valueEncoding.encode(value)\n\n    this._put(mappedKey, mappedValue, options, (err) => {\n      if (err) return callback(err)\n      this.emit('put', key, value)\n      callback()\n    })\n\n    return callback[kPromise]\n  }\n\n  _put (key, value, options, callback) {\n    this.nextTick(callback)\n  }\n\n  del (key, options, callback) {\n    callback = getCallback(options, callback)\n    callback = fromCallback(callback, kPromise)\n    options = getOptions(options, this[kDefaultOptions].key)\n\n    if (this[kStatus] === 'opening') {\n      this.defer(() => this.del(key, options, callback))\n      return callback[kPromise]\n    }\n\n    if (maybeError(this, callback)) {\n      return callback[kPromise]\n    }\n\n    const err = this._checkKey(key)\n\n    if (err) {\n      this.nextTick(callback, err)\n      return callback[kPromise]\n    }\n\n    const keyEncoding = this.keyEncoding(options.keyEncoding)\n    const keyFormat = keyEncoding.format\n\n    // Forward encoding options\n    if (options.keyEncoding !== keyFormat) {\n      options = Object.assign({}, options, { keyEncoding: keyFormat })\n    }\n\n    this._del(this.prefixKey(keyEncoding.encode(key), keyFormat), options, (err) => {\n      if (err) return callback(err)\n      this.emit('del', key)\n      callback()\n    })\n\n    return callback[kPromise]\n  }\n\n  _del (key, options, callback) {\n    this.nextTick(callback)\n  }\n\n  batch (operations, options, callback) {\n    if (!arguments.length) {\n      if (this[kStatus] === 'opening') return new DefaultChainedBatch(this)\n      if (this[kStatus] !== 'open') {\n        throw new ModuleError('Database is not open', {\n          code: 'LEVEL_DATABASE_NOT_OPEN'\n        })\n      }\n      return this._chainedBatch()\n    }\n\n    if (typeof operations === 'function') callback = operations\n    else callback = getCallback(options, callback)\n\n    callback = fromCallback(callback, kPromise)\n    options = getOptions(options, this[kDefaultOptions].empty)\n\n    if (this[kStatus] === 'opening') {\n      this.defer(() => this.batch(operations, options, callback))\n      return callback[kPromise]\n    }\n\n    if (maybeError(this, callback)) {\n      return callback[kPromise]\n    }\n\n    if (!Array.isArray(operations)) {\n      this.nextTick(callback, new TypeError(\"The first argument 'operations' must be an array\"))\n      return callback[kPromise]\n    }\n\n    if (operations.length === 0) {\n      this.nextTick(callback)\n      return callback[kPromise]\n    }\n\n    const mapped = new Array(operations.length)\n    const { keyEncoding: ke, valueEncoding: ve, ...forward } = options\n\n    for (let i = 0; i < operations.length; i++) {\n      if (typeof operations[i] !== 'object' || operations[i] === null) {\n        this.nextTick(callback, new TypeError('A batch operation must be an object'))\n        return callback[kPromise]\n      }\n\n      const op = Object.assign({}, operations[i])\n\n      if (op.type !== 'put' && op.type !== 'del') {\n        this.nextTick(callback, new TypeError(\"A batch operation must have a type property that is 'put' or 'del'\"))\n        return callback[kPromise]\n      }\n\n      const err = this._checkKey(op.key)\n\n      if (err) {\n        this.nextTick(callback, err)\n        return callback[kPromise]\n      }\n\n      const db = op.sublevel != null ? op.sublevel : this\n      const keyEncoding = db.keyEncoding(op.keyEncoding || ke)\n      const keyFormat = keyEncoding.format\n\n      op.key = db.prefixKey(keyEncoding.encode(op.key), keyFormat)\n      op.keyEncoding = keyFormat\n\n      if (op.type === 'put') {\n        const valueErr = this._checkValue(op.value)\n\n        if (valueErr) {\n          this.nextTick(callback, valueErr)\n          return callback[kPromise]\n        }\n\n        const valueEncoding = db.valueEncoding(op.valueEncoding || ve)\n\n        op.value = valueEncoding.encode(op.value)\n        op.valueEncoding = valueEncoding.format\n      }\n\n      // Prevent double prefixing\n      if (db !== this) {\n        op.sublevel = null\n      }\n\n      mapped[i] = op\n    }\n\n    this._batch(mapped, forward, (err) => {\n      if (err) return callback(err)\n      this.emit('batch', operations)\n      callback()\n    })\n\n    return callback[kPromise]\n  }\n\n  _batch (operations, options, callback) {\n    this.nextTick(callback)\n  }\n\n  sublevel (name, options) {\n    return this._sublevel(name, AbstractSublevel.defaults(options))\n  }\n\n  _sublevel (name, options) {\n    return new AbstractSublevel(this, name, options)\n  }\n\n  prefixKey (key, keyFormat) {\n    return key\n  }\n\n  clear (options, callback) {\n    callback = getCallback(options, callback)\n    callback = fromCallback(callback, kPromise)\n    options = getOptions(options, this[kDefaultOptions].empty)\n\n    if (this[kStatus] === 'opening') {\n      this.defer(() => this.clear(options, callback))\n      return callback[kPromise]\n    }\n\n    if (maybeError(this, callback)) {\n      return callback[kPromise]\n    }\n\n    const original = options\n    const keyEncoding = this.keyEncoding(options.keyEncoding)\n\n    options = rangeOptions(options, keyEncoding)\n    options.keyEncoding = keyEncoding.format\n\n    if (options.limit === 0) {\n      this.nextTick(callback)\n    } else {\n      this._clear(options, (err) => {\n        if (err) return callback(err)\n        this.emit('clear', original)\n        callback()\n      })\n    }\n\n    return callback[kPromise]\n  }\n\n  _clear (options, callback) {\n    this.nextTick(callback)\n  }\n\n  iterator (options) {\n    const keyEncoding = this.keyEncoding(options && options.keyEncoding)\n    const valueEncoding = this.valueEncoding(options && options.valueEncoding)\n\n    options = rangeOptions(options, keyEncoding)\n    options.keys = options.keys !== false\n    options.values = options.values !== false\n\n    // We need the original encoding options in AbstractIterator in order to decode data\n    options[AbstractIterator.keyEncoding] = keyEncoding\n    options[AbstractIterator.valueEncoding] = valueEncoding\n\n    // Forward encoding options to private API\n    options.keyEncoding = keyEncoding.format\n    options.valueEncoding = valueEncoding.format\n\n    if (this[kStatus] === 'opening') {\n      return new DeferredIterator(this, options)\n    } else if (this[kStatus] !== 'open') {\n      throw new ModuleError('Database is not open', {\n        code: 'LEVEL_DATABASE_NOT_OPEN'\n      })\n    }\n\n    return this._iterator(options)\n  }\n\n  _iterator (options) {\n    return new AbstractIterator(this, options)\n  }\n\n  keys (options) {\n    // Also include valueEncoding (though unused) because we may fallback to _iterator()\n    const keyEncoding = this.keyEncoding(options && options.keyEncoding)\n    const valueEncoding = this.valueEncoding(options && options.valueEncoding)\n\n    options = rangeOptions(options, keyEncoding)\n\n    // We need the original encoding options in AbstractKeyIterator in order to decode data\n    options[AbstractIterator.keyEncoding] = keyEncoding\n    options[AbstractIterator.valueEncoding] = valueEncoding\n\n    // Forward encoding options to private API\n    options.keyEncoding = keyEncoding.format\n    options.valueEncoding = valueEncoding.format\n\n    if (this[kStatus] === 'opening') {\n      return new DeferredKeyIterator(this, options)\n    } else if (this[kStatus] !== 'open') {\n      throw new ModuleError('Database is not open', {\n        code: 'LEVEL_DATABASE_NOT_OPEN'\n      })\n    }\n\n    return this._keys(options)\n  }\n\n  _keys (options) {\n    return new DefaultKeyIterator(this, options)\n  }\n\n  values (options) {\n    const keyEncoding = this.keyEncoding(options && options.keyEncoding)\n    const valueEncoding = this.valueEncoding(options && options.valueEncoding)\n\n    options = rangeOptions(options, keyEncoding)\n\n    // We need the original encoding options in AbstractValueIterator in order to decode data\n    options[AbstractIterator.keyEncoding] = keyEncoding\n    options[AbstractIterator.valueEncoding] = valueEncoding\n\n    // Forward encoding options to private API\n    options.keyEncoding = keyEncoding.format\n    options.valueEncoding = valueEncoding.format\n\n    if (this[kStatus] === 'opening') {\n      return new DeferredValueIterator(this, options)\n    } else if (this[kStatus] !== 'open') {\n      throw new ModuleError('Database is not open', {\n        code: 'LEVEL_DATABASE_NOT_OPEN'\n      })\n    }\n\n    return this._values(options)\n  }\n\n  _values (options) {\n    return new DefaultValueIterator(this, options)\n  }\n\n  defer (fn) {\n    if (typeof fn !== 'function') {\n      throw new TypeError('The first argument must be a function')\n    }\n\n    this[kOperations].push(fn)\n  }\n\n  [kUndefer] () {\n    if (this[kOperations].length === 0) {\n      return\n    }\n\n    const operations = this[kOperations]\n    this[kOperations] = []\n\n    for (const op of operations) {\n      op()\n    }\n  }\n\n  // TODO: docs and types\n  attachResource (resource) {\n    if (typeof resource !== 'object' || resource === null ||\n      typeof resource.close !== 'function') {\n      throw new TypeError('The first argument must be a resource object')\n    }\n\n    this[kResources].add(resource)\n  }\n\n  // TODO: docs and types\n  detachResource (resource) {\n    this[kResources].delete(resource)\n  }\n\n  _chainedBatch () {\n    return new DefaultChainedBatch(this)\n  }\n\n  _checkKey (key) {\n    if (key === null || key === undefined) {\n      return new ModuleError('Key cannot be null or undefined', {\n        code: 'LEVEL_INVALID_KEY'\n      })\n    }\n  }\n\n  _checkValue (value) {\n    if (value === null || value === undefined) {\n      return new ModuleError('Value cannot be null or undefined', {\n        code: 'LEVEL_INVALID_VALUE'\n      })\n    }\n  }\n}\n\n// Expose browser-compatible nextTick for dependents\n// TODO: after we drop node 10, also use queueMicrotask in node\nAbstractLevel.prototype.nextTick = require('./lib/next-tick')\n\nconst { AbstractSublevel } = require('./lib/abstract-sublevel')({ AbstractLevel })\n\nexports.AbstractLevel = AbstractLevel\nexports.AbstractSublevel = AbstractSublevel\n\nconst maybeError = function (db, callback) {\n  if (db[kStatus] !== 'open') {\n    db.nextTick(callback, new ModuleError('Database is not open', {\n      code: 'LEVEL_DATABASE_NOT_OPEN'\n    }))\n    return true\n  }\n\n  return false\n}\n\nconst formats = function (db) {\n  return Object.keys(db.supports.encodings)\n    .filter(k => !!db.supports.encodings[k])\n}\n","'use strict'\n\nexports.AbstractLevel = require('./abstract-level').AbstractLevel\nexports.AbstractSublevel = require('./abstract-level').AbstractSublevel\nexports.AbstractIterator = require('./abstract-iterator').AbstractIterator\nexports.AbstractKeyIterator = require('./abstract-iterator').AbstractKeyIterator\nexports.AbstractValueIterator = require('./abstract-iterator').AbstractValueIterator\nexports.AbstractChainedBatch = require('./abstract-chained-batch').AbstractChainedBatch\n","'use strict'\n\nconst { AbstractIterator, AbstractKeyIterator, AbstractValueIterator } = require('../abstract-iterator')\n\nconst kUnfix = Symbol('unfix')\nconst kIterator = Symbol('iterator')\nconst kHandleOne = Symbol('handleOne')\nconst kHandleMany = Symbol('handleMany')\nconst kCallback = Symbol('callback')\n\n// TODO: unfix natively if db supports it\nclass AbstractSublevelIterator extends AbstractIterator {\n  constructor (db, options, iterator, unfix) {\n    super(db, options)\n\n    this[kIterator] = iterator\n    this[kUnfix] = unfix\n    this[kHandleOne] = this[kHandleOne].bind(this)\n    this[kHandleMany] = this[kHandleMany].bind(this)\n    this[kCallback] = null\n  }\n\n  [kHandleOne] (err, key, value) {\n    const callback = this[kCallback]\n    if (err) return callback(err)\n    if (key !== undefined) key = this[kUnfix](key)\n    callback(err, key, value)\n  }\n\n  [kHandleMany] (err, entries) {\n    const callback = this[kCallback]\n    if (err) return callback(err)\n\n    for (const entry of entries) {\n      const key = entry[0]\n      if (key !== undefined) entry[0] = this[kUnfix](key)\n    }\n\n    callback(err, entries)\n  }\n}\n\nclass AbstractSublevelKeyIterator extends AbstractKeyIterator {\n  constructor (db, options, iterator, unfix) {\n    super(db, options)\n\n    this[kIterator] = iterator\n    this[kUnfix] = unfix\n    this[kHandleOne] = this[kHandleOne].bind(this)\n    this[kHandleMany] = this[kHandleMany].bind(this)\n    this[kCallback] = null\n  }\n\n  [kHandleOne] (err, key) {\n    const callback = this[kCallback]\n    if (err) return callback(err)\n    if (key !== undefined) key = this[kUnfix](key)\n    callback(err, key)\n  }\n\n  [kHandleMany] (err, keys) {\n    const callback = this[kCallback]\n    if (err) return callback(err)\n\n    for (let i = 0; i < keys.length; i++) {\n      const key = keys[i]\n      if (key !== undefined) keys[i] = this[kUnfix](key)\n    }\n\n    callback(err, keys)\n  }\n}\n\nclass AbstractSublevelValueIterator extends AbstractValueIterator {\n  constructor (db, options, iterator) {\n    super(db, options)\n    this[kIterator] = iterator\n  }\n}\n\nfor (const Iterator of [AbstractSublevelIterator, AbstractSublevelKeyIterator]) {\n  Iterator.prototype._next = function (callback) {\n    this[kCallback] = callback\n    this[kIterator].next(this[kHandleOne])\n  }\n\n  Iterator.prototype._nextv = function (size, options, callback) {\n    this[kCallback] = callback\n    this[kIterator].nextv(size, options, this[kHandleMany])\n  }\n\n  Iterator.prototype._all = function (options, callback) {\n    this[kCallback] = callback\n    this[kIterator].all(options, this[kHandleMany])\n  }\n}\n\nfor (const Iterator of [AbstractSublevelValueIterator]) {\n  Iterator.prototype._next = function (callback) {\n    this[kIterator].next(callback)\n  }\n\n  Iterator.prototype._nextv = function (size, options, callback) {\n    this[kIterator].nextv(size, options, callback)\n  }\n\n  Iterator.prototype._all = function (options, callback) {\n    this[kIterator].all(options, callback)\n  }\n}\n\nfor (const Iterator of [AbstractSublevelIterator, AbstractSublevelKeyIterator, AbstractSublevelValueIterator]) {\n  Iterator.prototype._seek = function (target, options) {\n    this[kIterator].seek(target, options)\n  }\n\n  Iterator.prototype._close = function (callback) {\n    this[kIterator].close(callback)\n  }\n}\n\nexports.AbstractSublevelIterator = AbstractSublevelIterator\nexports.AbstractSublevelKeyIterator = AbstractSublevelKeyIterator\nexports.AbstractSublevelValueIterator = AbstractSublevelValueIterator\n","'use strict'\n\nconst ModuleError = require('module-error')\nconst { Buffer } = require('buffer') || {}\nconst {\n  AbstractSublevelIterator,\n  AbstractSublevelKeyIterator,\n  AbstractSublevelValueIterator\n} = require('./abstract-sublevel-iterator')\n\nconst kPrefix = Symbol('prefix')\nconst kUpperBound = Symbol('upperBound')\nconst kPrefixRange = Symbol('prefixRange')\nconst kParent = Symbol('parent')\nconst kUnfix = Symbol('unfix')\n\nconst textEncoder = new TextEncoder()\nconst defaults = { separator: '!' }\n\n// Wrapped to avoid circular dependency\nmodule.exports = function ({ AbstractLevel }) {\n  class AbstractSublevel extends AbstractLevel {\n    static defaults (options) {\n      // To help migrating from subleveldown to abstract-level\n      if (typeof options === 'string') {\n        throw new ModuleError('The subleveldown string shorthand for { separator } has been removed', {\n          code: 'LEVEL_LEGACY'\n        })\n      } else if (options && options.open) {\n        throw new ModuleError('The subleveldown open option has been removed', {\n          code: 'LEVEL_LEGACY'\n        })\n      }\n\n      if (options == null) {\n        return defaults\n      } else if (!options.separator) {\n        return { ...options, separator: '!' }\n      } else {\n        return options\n      }\n    }\n\n    // TODO: add autoClose option, which if true, does parent.attachResource(this)\n    constructor (db, name, options) {\n      // Don't forward AbstractSublevel options to AbstractLevel\n      const { separator, manifest, ...forward } = AbstractSublevel.defaults(options)\n      name = trim(name, separator)\n\n      // Reserve one character between separator and name to give us an upper bound\n      const reserved = separator.charCodeAt(0) + 1\n      const parent = db[kParent] || db\n\n      // Keys should sort like ['!a!', '!a!!a!', '!a\"', '!aa!', '!b!'].\n      // Use ASCII for consistent length between string, Buffer and Uint8Array\n      if (!textEncoder.encode(name).every(x => x > reserved && x < 127)) {\n        throw new ModuleError(`Prefix must use bytes > ${reserved} < ${127}`, {\n          code: 'LEVEL_INVALID_PREFIX'\n        })\n      }\n\n      super(mergeManifests(parent, manifest), forward)\n\n      const prefix = (db.prefix || '') + separator + name + separator\n      const upperBound = prefix.slice(0, -1) + String.fromCharCode(reserved)\n\n      this[kParent] = parent\n      this[kPrefix] = new MultiFormat(prefix)\n      this[kUpperBound] = new MultiFormat(upperBound)\n      this[kUnfix] = new Unfixer()\n\n      this.nextTick = parent.nextTick\n    }\n\n    prefixKey (key, keyFormat) {\n      if (keyFormat === 'utf8') {\n        return this[kPrefix].utf8 + key\n      } else if (key.byteLength === 0) {\n        // Fast path for empty key (no copy)\n        return this[kPrefix][keyFormat]\n      } else if (keyFormat === 'view') {\n        const view = this[kPrefix].view\n        const result = new Uint8Array(view.byteLength + key.byteLength)\n\n        result.set(view, 0)\n        result.set(key, view.byteLength)\n\n        return result\n      } else {\n        const buffer = this[kPrefix].buffer\n        return Buffer.concat([buffer, key], buffer.byteLength + key.byteLength)\n      }\n    }\n\n    // Not exposed for now.\n    [kPrefixRange] (range, keyFormat) {\n      if (range.gte !== undefined) {\n        range.gte = this.prefixKey(range.gte, keyFormat)\n      } else if (range.gt !== undefined) {\n        range.gt = this.prefixKey(range.gt, keyFormat)\n      } else {\n        range.gte = this[kPrefix][keyFormat]\n      }\n\n      if (range.lte !== undefined) {\n        range.lte = this.prefixKey(range.lte, keyFormat)\n      } else if (range.lt !== undefined) {\n        range.lt = this.prefixKey(range.lt, keyFormat)\n      } else {\n        range.lte = this[kUpperBound][keyFormat]\n      }\n    }\n\n    get prefix () {\n      return this[kPrefix].utf8\n    }\n\n    get db () {\n      return this[kParent]\n    }\n\n    _open (options, callback) {\n      // The parent db must open itself or be (re)opened by the user because\n      // a sublevel should not initiate state changes on the rest of the db.\n      this[kParent].open({ passive: true }, callback)\n    }\n\n    _put (key, value, options, callback) {\n      this[kParent].put(key, value, options, callback)\n    }\n\n    _get (key, options, callback) {\n      this[kParent].get(key, options, callback)\n    }\n\n    _getMany (keys, options, callback) {\n      this[kParent].getMany(keys, options, callback)\n    }\n\n    _del (key, options, callback) {\n      this[kParent].del(key, options, callback)\n    }\n\n    _batch (operations, options, callback) {\n      this[kParent].batch(operations, options, callback)\n    }\n\n    _clear (options, callback) {\n      // TODO (refactor): move to AbstractLevel\n      this[kPrefixRange](options, options.keyEncoding)\n      this[kParent].clear(options, callback)\n    }\n\n    _iterator (options) {\n      // TODO (refactor): move to AbstractLevel\n      this[kPrefixRange](options, options.keyEncoding)\n      const iterator = this[kParent].iterator(options)\n      const unfix = this[kUnfix].get(this[kPrefix].utf8.length, options.keyEncoding)\n      return new AbstractSublevelIterator(this, options, iterator, unfix)\n    }\n\n    _keys (options) {\n      this[kPrefixRange](options, options.keyEncoding)\n      const iterator = this[kParent].keys(options)\n      const unfix = this[kUnfix].get(this[kPrefix].utf8.length, options.keyEncoding)\n      return new AbstractSublevelKeyIterator(this, options, iterator, unfix)\n    }\n\n    _values (options) {\n      this[kPrefixRange](options, options.keyEncoding)\n      const iterator = this[kParent].values(options)\n      return new AbstractSublevelValueIterator(this, options, iterator)\n    }\n  }\n\n  return { AbstractSublevel }\n}\n\nconst mergeManifests = function (parent, manifest) {\n  return {\n    // Inherit manifest of parent db\n    ...parent.supports,\n\n    // Disable unsupported features\n    createIfMissing: false,\n    errorIfExists: false,\n\n    // Unset additional events because we're not forwarding them\n    events: {},\n\n    // Unset additional methods (like approximateSize) which we can't support here unless\n    // the AbstractSublevel class is overridden by an implementation of `abstract-level`.\n    additionalMethods: {},\n\n    // Inherit manifest of custom AbstractSublevel subclass. Such a class is not\n    // allowed to override encodings.\n    ...manifest,\n\n    encodings: {\n      utf8: supportsEncoding(parent, 'utf8'),\n      buffer: supportsEncoding(parent, 'buffer'),\n      view: supportsEncoding(parent, 'view')\n    }\n  }\n}\n\nconst supportsEncoding = function (parent, encoding) {\n  // Prefer a non-transcoded encoding for optimal performance\n  return parent.supports.encodings[encoding]\n    ? parent.keyEncoding(encoding).name === encoding\n    : false\n}\n\nclass MultiFormat {\n  constructor (key) {\n    this.utf8 = key\n    this.view = textEncoder.encode(key)\n    this.buffer = Buffer ? Buffer.from(this.view.buffer, 0, this.view.byteLength) : {}\n  }\n}\n\nclass Unfixer {\n  constructor () {\n    this.cache = new Map()\n  }\n\n  get (prefixLength, keyFormat) {\n    let unfix = this.cache.get(keyFormat)\n\n    if (unfix === undefined) {\n      if (keyFormat === 'view') {\n        unfix = function (prefixLength, key) {\n          // Avoid Uint8Array#slice() because it copies\n          return key.subarray(prefixLength)\n        }.bind(null, prefixLength)\n      } else {\n        unfix = function (prefixLength, key) {\n          // Avoid Buffer#subarray() because it's slow\n          return key.slice(prefixLength)\n        }.bind(null, prefixLength)\n      }\n\n      this.cache.set(keyFormat, unfix)\n    }\n\n    return unfix\n  }\n}\n\nconst trim = function (str, char) {\n  let start = 0\n  let end = str.length\n\n  while (start < end && str[start] === char) start++\n  while (end > start && str[end - 1] === char) end--\n\n  return str.slice(start, end)\n}\n","'use strict'\n\nexports.getCallback = function (options, callback) {\n  return typeof options === 'function' ? options : callback\n}\n\nexports.getOptions = function (options, def) {\n  if (typeof options === 'object' && options !== null) {\n    return options\n  }\n\n  if (def !== undefined) {\n    return def\n  }\n\n  return {}\n}\n","'use strict'\n\nconst { AbstractChainedBatch } = require('../abstract-chained-batch')\nconst ModuleError = require('module-error')\nconst kEncoded = Symbol('encoded')\n\n// Functional default for chained batch, with support of deferred open\nclass DefaultChainedBatch extends AbstractChainedBatch {\n  constructor (db) {\n    super(db)\n    this[kEncoded] = []\n  }\n\n  _put (key, value, options) {\n    this[kEncoded].push({ ...options, type: 'put', key, value })\n  }\n\n  _del (key, options) {\n    this[kEncoded].push({ ...options, type: 'del', key })\n  }\n\n  _clear () {\n    this[kEncoded] = []\n  }\n\n  // Assumes this[kEncoded] cannot change after write()\n  _write (options, callback) {\n    if (this.db.status === 'opening') {\n      this.db.defer(() => this._write(options, callback))\n    } else if (this.db.status === 'open') {\n      if (this[kEncoded].length === 0) this.nextTick(callback)\n      else this.db._batch(this[kEncoded], options, callback)\n    } else {\n      this.nextTick(callback, new ModuleError('Batch is not open: cannot call write() after write() or close()', {\n        code: 'LEVEL_BATCH_NOT_OPEN'\n      }))\n    }\n  }\n}\n\nexports.DefaultChainedBatch = DefaultChainedBatch\n","'use strict'\n\nconst { AbstractKeyIterator, AbstractValueIterator } = require('../abstract-iterator')\n\nconst kIterator = Symbol('iterator')\nconst kCallback = Symbol('callback')\nconst kHandleOne = Symbol('handleOne')\nconst kHandleMany = Symbol('handleMany')\n\nclass DefaultKeyIterator extends AbstractKeyIterator {\n  constructor (db, options) {\n    super(db, options)\n\n    this[kIterator] = db.iterator({ ...options, keys: true, values: false })\n    this[kHandleOne] = this[kHandleOne].bind(this)\n    this[kHandleMany] = this[kHandleMany].bind(this)\n  }\n}\n\nclass DefaultValueIterator extends AbstractValueIterator {\n  constructor (db, options) {\n    super(db, options)\n\n    this[kIterator] = db.iterator({ ...options, keys: false, values: true })\n    this[kHandleOne] = this[kHandleOne].bind(this)\n    this[kHandleMany] = this[kHandleMany].bind(this)\n  }\n}\n\nfor (const Iterator of [DefaultKeyIterator, DefaultValueIterator]) {\n  const keys = Iterator === DefaultKeyIterator\n  const mapEntry = keys ? (entry) => entry[0] : (entry) => entry[1]\n\n  Iterator.prototype._next = function (callback) {\n    this[kCallback] = callback\n    this[kIterator].next(this[kHandleOne])\n  }\n\n  Iterator.prototype[kHandleOne] = function (err, key, value) {\n    const callback = this[kCallback]\n    if (err) callback(err)\n    else callback(null, keys ? key : value)\n  }\n\n  Iterator.prototype._nextv = function (size, options, callback) {\n    this[kCallback] = callback\n    this[kIterator].nextv(size, options, this[kHandleMany])\n  }\n\n  Iterator.prototype._all = function (options, callback) {\n    this[kCallback] = callback\n    this[kIterator].all(options, this[kHandleMany])\n  }\n\n  Iterator.prototype[kHandleMany] = function (err, entries) {\n    const callback = this[kCallback]\n    if (err) callback(err)\n    else callback(null, entries.map(mapEntry))\n  }\n\n  Iterator.prototype._seek = function (target, options) {\n    this[kIterator].seek(target, options)\n  }\n\n  Iterator.prototype._close = function (callback) {\n    this[kIterator].close(callback)\n  }\n}\n\n// Internal utilities, should be typed as AbstractKeyIterator and AbstractValueIterator\nexports.DefaultKeyIterator = DefaultKeyIterator\nexports.DefaultValueIterator = DefaultValueIterator\n","'use strict'\n\nconst { AbstractIterator, AbstractKeyIterator, AbstractValueIterator } = require('../abstract-iterator')\nconst ModuleError = require('module-error')\n\nconst kNut = Symbol('nut')\nconst kUndefer = Symbol('undefer')\nconst kFactory = Symbol('factory')\n\nclass DeferredIterator extends AbstractIterator {\n  constructor (db, options) {\n    super(db, options)\n\n    this[kNut] = null\n    this[kFactory] = () => db.iterator(options)\n\n    this.db.defer(() => this[kUndefer]())\n  }\n}\n\nclass DeferredKeyIterator extends AbstractKeyIterator {\n  constructor (db, options) {\n    super(db, options)\n\n    this[kNut] = null\n    this[kFactory] = () => db.keys(options)\n\n    this.db.defer(() => this[kUndefer]())\n  }\n}\n\nclass DeferredValueIterator extends AbstractValueIterator {\n  constructor (db, options) {\n    super(db, options)\n\n    this[kNut] = null\n    this[kFactory] = () => db.values(options)\n\n    this.db.defer(() => this[kUndefer]())\n  }\n}\n\nfor (const Iterator of [DeferredIterator, DeferredKeyIterator, DeferredValueIterator]) {\n  Iterator.prototype[kUndefer] = function () {\n    if (this.db.status === 'open') {\n      this[kNut] = this[kFactory]()\n    }\n  }\n\n  Iterator.prototype._next = function (callback) {\n    if (this[kNut] !== null) {\n      this[kNut].next(callback)\n    } else if (this.db.status === 'opening') {\n      this.db.defer(() => this._next(callback))\n    } else {\n      this.nextTick(callback, new ModuleError('Iterator is not open: cannot call next() after close()', {\n        code: 'LEVEL_ITERATOR_NOT_OPEN'\n      }))\n    }\n  }\n\n  Iterator.prototype._nextv = function (size, options, callback) {\n    if (this[kNut] !== null) {\n      this[kNut].nextv(size, options, callback)\n    } else if (this.db.status === 'opening') {\n      this.db.defer(() => this._nextv(size, options, callback))\n    } else {\n      this.nextTick(callback, new ModuleError('Iterator is not open: cannot call nextv() after close()', {\n        code: 'LEVEL_ITERATOR_NOT_OPEN'\n      }))\n    }\n  }\n\n  Iterator.prototype._all = function (options, callback) {\n    if (this[kNut] !== null) {\n      this[kNut].all(callback)\n    } else if (this.db.status === 'opening') {\n      this.db.defer(() => this._all(options, callback))\n    } else {\n      this.nextTick(callback, new ModuleError('Iterator is not open: cannot call all() after close()', {\n        code: 'LEVEL_ITERATOR_NOT_OPEN'\n      }))\n    }\n  }\n\n  Iterator.prototype._seek = function (target, options) {\n    if (this[kNut] !== null) {\n      // TODO: explain why we need _seek() rather than seek() here\n      this[kNut]._seek(target, options)\n    } else if (this.db.status === 'opening') {\n      this.db.defer(() => this._seek(target, options))\n    }\n  }\n\n  Iterator.prototype._close = function (callback) {\n    if (this[kNut] !== null) {\n      this[kNut].close(callback)\n    } else if (this.db.status === 'opening') {\n      this.db.defer(() => this._close(callback))\n    } else {\n      this.nextTick(callback)\n    }\n  }\n}\n\nexports.DeferredIterator = DeferredIterator\nexports.DeferredKeyIterator = DeferredKeyIterator\nexports.DeferredValueIterator = DeferredValueIterator\n","'use strict'\n\nconst queueMicrotask = require('queue-microtask')\n\nmodule.exports = function (fn, ...args) {\n  if (args.length === 0) {\n    queueMicrotask(fn)\n  } else {\n    queueMicrotask(() => fn(...args))\n  }\n}\n","'use strict'\n\nconst ModuleError = require('module-error')\nconst hasOwnProperty = Object.prototype.hasOwnProperty\nconst rangeOptions = new Set(['lt', 'lte', 'gt', 'gte'])\n\nmodule.exports = function (options, keyEncoding) {\n  const result = {}\n\n  for (const k in options) {\n    if (!hasOwnProperty.call(options, k)) continue\n    if (k === 'keyEncoding' || k === 'valueEncoding') continue\n\n    if (k === 'start' || k === 'end') {\n      throw new ModuleError(`The legacy range option '${k}' has been removed`, {\n        code: 'LEVEL_LEGACY'\n      })\n    } else if (k === 'encoding') {\n      // To help migrating to abstract-level\n      throw new ModuleError(\"The levelup-style 'encoding' alias has been removed, use 'valueEncoding' instead\", {\n        code: 'LEVEL_LEGACY'\n      })\n    }\n\n    if (rangeOptions.has(k)) {\n      // Note that we don't reject nullish and empty options here. While\n      // those types are invalid as keys, they are valid as range options.\n      result[k] = keyEncoding.encode(options[k])\n    } else {\n      result[k] = options[k]\n    }\n  }\n\n  result.reverse = !!result.reverse\n  result.limit = Number.isInteger(result.limit) && result.limit >= 0 ? result.limit : -1\n\n  return result\n}\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nconst base64 = require('base64-js')\nconst ieee754 = require('ieee754')\nconst customInspectSymbol =\n  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation\n    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation\n    : null\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\nconst K_MAX_LENGTH = 0x7fffffff\nexports.kMaxLength = K_MAX_LENGTH\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport()\n\nif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n    typeof console.error === 'function') {\n  console.error(\n    'This browser lacks typed array (Uint8Array) support which is required by ' +\n    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n  )\n}\n\nfunction typedArraySupport () {\n  // Can typed array instances can be augmented?\n  try {\n    const arr = new Uint8Array(1)\n    const proto = { foo: function () { return 42 } }\n    Object.setPrototypeOf(proto, Uint8Array.prototype)\n    Object.setPrototypeOf(arr, proto)\n    return arr.foo() === 42\n  } catch (e) {\n    return false\n  }\n}\n\nObject.defineProperty(Buffer.prototype, 'parent', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.buffer\n  }\n})\n\nObject.defineProperty(Buffer.prototype, 'offset', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.byteOffset\n  }\n})\n\nfunction createBuffer (length) {\n  if (length > K_MAX_LENGTH) {\n    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n  }\n  // Return an augmented `Uint8Array` instance\n  const buf = new Uint8Array(length)\n  Object.setPrototypeOf(buf, Buffer.prototype)\n  return buf\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new TypeError(\n        'The \"string\" argument must be of type string. Received type number'\n      )\n    }\n    return allocUnsafe(arg)\n  }\n  return from(arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\nfunction from (value, encodingOrOffset, length) {\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  if (ArrayBuffer.isView(value)) {\n    return fromArrayView(value)\n  }\n\n  if (value == null) {\n    throw new TypeError(\n      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n      'or Array-like Object. Received type ' + (typeof value)\n    )\n  }\n\n  if (isInstance(value, ArrayBuffer) ||\n      (value && isInstance(value.buffer, ArrayBuffer))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof SharedArrayBuffer !== 'undefined' &&\n      (isInstance(value, SharedArrayBuffer) ||\n      (value && isInstance(value.buffer, SharedArrayBuffer)))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'number') {\n    throw new TypeError(\n      'The \"value\" argument must not be of type number. Received type number'\n    )\n  }\n\n  const valueOf = value.valueOf && value.valueOf()\n  if (valueOf != null && valueOf !== value) {\n    return Buffer.from(valueOf, encodingOrOffset, length)\n  }\n\n  const b = fromObject(value)\n  if (b) return b\n\n  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n      typeof value[Symbol.toPrimitive] === 'function') {\n    return Buffer.from(value[Symbol.toPrimitive]('string'), encodingOrOffset, length)\n  }\n\n  throw new TypeError(\n    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n    'or Array-like Object. Received type ' + (typeof value)\n  )\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(value, encodingOrOffset, length)\n}\n\n// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\nObject.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)\nObject.setPrototypeOf(Buffer, Uint8Array)\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be of type number')\n  } else if (size < 0) {\n    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n  }\n}\n\nfunction alloc (size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpreted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(size).fill(fill, encoding)\n      : createBuffer(size).fill(fill)\n  }\n  return createBuffer(size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(size, fill, encoding)\n}\n\nfunction allocUnsafe (size) {\n  assertSize(size)\n  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(size)\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('Unknown encoding: ' + encoding)\n  }\n\n  const length = byteLength(string, encoding) | 0\n  let buf = createBuffer(length)\n\n  const actual = buf.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual)\n  }\n\n  return buf\n}\n\nfunction fromArrayLike (array) {\n  const length = array.length < 0 ? 0 : checked(array.length) | 0\n  const buf = createBuffer(length)\n  for (let i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255\n  }\n  return buf\n}\n\nfunction fromArrayView (arrayView) {\n  if (isInstance(arrayView, Uint8Array)) {\n    const copy = new Uint8Array(arrayView)\n    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)\n  }\n  return fromArrayLike(arrayView)\n}\n\nfunction fromArrayBuffer (array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\"offset\" is outside of buffer bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\"length\" is outside of buffer bounds')\n  }\n\n  let buf\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array)\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset)\n  } else {\n    buf = new Uint8Array(array, byteOffset, length)\n  }\n\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(buf, Buffer.prototype)\n\n  return buf\n}\n\nfunction fromObject (obj) {\n  if (Buffer.isBuffer(obj)) {\n    const len = checked(obj.length) | 0\n    const buf = createBuffer(len)\n\n    if (buf.length === 0) {\n      return buf\n    }\n\n    obj.copy(buf, 0, 0, len)\n    return buf\n  }\n\n  if (obj.length !== undefined) {\n    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n      return createBuffer(0)\n    }\n    return fromArrayLike(obj)\n  }\n\n  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n    return fromArrayLike(obj.data)\n  }\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return b != null && b._isBuffer === true &&\n    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n}\n\nBuffer.compare = function compare (a, b) {\n  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)\n  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError(\n      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n    )\n  }\n\n  if (a === b) return 0\n\n  let x = a.length\n  let y = b.length\n\n  for (let i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  let i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  const buffer = Buffer.allocUnsafe(length)\n  let pos = 0\n  for (i = 0; i < list.length; ++i) {\n    let buf = list[i]\n    if (isInstance(buf, Uint8Array)) {\n      if (pos + buf.length > buffer.length) {\n        if (!Buffer.isBuffer(buf)) buf = Buffer.from(buf)\n        buf.copy(buffer, pos)\n      } else {\n        Uint8Array.prototype.set.call(\n          buffer,\n          buf,\n          pos\n        )\n      }\n    } else if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    } else {\n      buf.copy(buffer, pos)\n    }\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    throw new TypeError(\n      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n      'Received type ' + typeof string\n    )\n  }\n\n  const len = string.length\n  const mustMatch = (arguments.length > 2 && arguments[2] === true)\n  if (!mustMatch && len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) {\n          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n        }\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  let loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  const i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  const len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (let i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  const len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (let i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  const len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (let i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  const length = this.length\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.toLocaleString = Buffer.prototype.toString\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  let str = ''\n  const max = exports.INSPECT_MAX_BYTES\n  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()\n  if (this.length > max) str += ' ... '\n  return '<Buffer ' + str + '>'\n}\nif (customInspectSymbol) {\n  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (isInstance(target, Uint8Array)) {\n    target = Buffer.from(target, target.offset, target.byteLength)\n  }\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError(\n      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n      'Received type ' + (typeof target)\n    )\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  let x = thisEnd - thisStart\n  let y = end - start\n  const len = Math.min(x, y)\n\n  const thisCopy = this.slice(thisStart, thisEnd)\n  const targetCopy = target.slice(start, end)\n\n  for (let i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset // Coerce to Number.\n  if (numberIsNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  let indexSize = 1\n  let arrLength = arr.length\n  let valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  let i\n  if (dir) {\n    let foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      let found = true\n      for (let j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  const remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  const strLen = string.length\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  let i\n  for (i = 0; i < length; ++i) {\n    const parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (numberIsNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset >>> 0\n    if (isFinite(length)) {\n      length = length >>> 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  const remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  let loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return asciiWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  const res = []\n\n  let i = start\n  while (i < end) {\n    const firstByte = buf[i]\n    let codePoint = null\n    let bytesPerSequence = (firstByte > 0xEF)\n      ? 4\n      : (firstByte > 0xDF)\n          ? 3\n          : (firstByte > 0xBF)\n              ? 2\n              : 1\n\n    if (i + bytesPerSequence <= end) {\n      let secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nconst MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  const len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  let res = ''\n  let i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  let ret = ''\n  end = Math.min(buf.length, end)\n\n  for (let i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  const len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  let out = ''\n  for (let i = start; i < end; ++i) {\n    out += hexSliceLookupTable[buf[i]]\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  const bytes = buf.slice(start, end)\n  let res = ''\n  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)\n  for (let i = 0; i < bytes.length - 1; i += 2) {\n    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  const len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  const newBuf = this.subarray(start, end)\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(newBuf, Buffer.prototype)\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUintLE =\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUintBE =\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  let val = this[offset + --byteLength]\n  let mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUint8 =\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUint16LE =\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUint16BE =\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUint32LE =\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUint32BE =\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readBigUInt64LE = defineBigIntMethod(function readBigUInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const lo = first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24\n\n  const hi = this[++offset] +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    last * 2 ** 24\n\n  return BigInt(lo) + (BigInt(hi) << BigInt(32))\n})\n\nBuffer.prototype.readBigUInt64BE = defineBigIntMethod(function readBigUInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const hi = first * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  const lo = this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last\n\n  return (BigInt(hi) << BigInt(32)) + BigInt(lo)\n})\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let val = this[offset]\n  let mul = 1\n  let i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  let i = byteLength\n  let mul = 1\n  let val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  const val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readBigInt64LE = defineBigIntMethod(function readBigInt64LE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = this[offset + 4] +\n    this[offset + 5] * 2 ** 8 +\n    this[offset + 6] * 2 ** 16 +\n    (last << 24) // Overflow\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(first +\n    this[++offset] * 2 ** 8 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 24)\n})\n\nBuffer.prototype.readBigInt64BE = defineBigIntMethod(function readBigInt64BE (offset) {\n  offset = offset >>> 0\n  validateNumber(offset, 'offset')\n  const first = this[offset]\n  const last = this[offset + 7]\n  if (first === undefined || last === undefined) {\n    boundsError(offset, this.length - 8)\n  }\n\n  const val = (first << 24) + // Overflow\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    this[++offset]\n\n  return (BigInt(val) << BigInt(32)) +\n    BigInt(this[++offset] * 2 ** 24 +\n    this[++offset] * 2 ** 16 +\n    this[++offset] * 2 ** 8 +\n    last)\n})\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUintLE =\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let mul = 1\n  let i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUintBE =\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    const maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUint8 =\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeUint16LE =\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint16BE =\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint32LE =\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset + 3] = (value >>> 24)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 1] = (value >>> 8)\n  this[offset] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeUint32BE =\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nfunction wrtBigUInt64LE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  lo = lo >> 8\n  buf[offset++] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  hi = hi >> 8\n  buf[offset++] = hi\n  return offset\n}\n\nfunction wrtBigUInt64BE (buf, value, offset, min, max) {\n  checkIntBI(value, min, max, buf, offset, 7)\n\n  let lo = Number(value & BigInt(0xffffffff))\n  buf[offset + 7] = lo\n  lo = lo >> 8\n  buf[offset + 6] = lo\n  lo = lo >> 8\n  buf[offset + 5] = lo\n  lo = lo >> 8\n  buf[offset + 4] = lo\n  let hi = Number(value >> BigInt(32) & BigInt(0xffffffff))\n  buf[offset + 3] = hi\n  hi = hi >> 8\n  buf[offset + 2] = hi\n  hi = hi >> 8\n  buf[offset + 1] = hi\n  hi = hi >> 8\n  buf[offset] = hi\n  return offset + 8\n}\n\nBuffer.prototype.writeBigUInt64LE = defineBigIntMethod(function writeBigUInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeBigUInt64BE = defineBigIntMethod(function writeBigUInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, BigInt(0), BigInt('0xffffffffffffffff'))\n})\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = 0\n  let mul = 1\n  let sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    const limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  let i = byteLength - 1\n  let mul = 1\n  let sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 3] = (value >>> 24)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeBigInt64LE = defineBigIntMethod(function writeBigInt64LE (value, offset = 0) {\n  return wrtBigUInt64LE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nBuffer.prototype.writeBigInt64BE = defineBigIntMethod(function writeBigInt64BE (value, offset = 0) {\n  return wrtBigUInt64BE(this, value, offset, -BigInt('0x8000000000000000'), BigInt('0x7fffffffffffffff'))\n})\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  const len = end - start\n\n  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {\n    // Use built-in when available, missing from IE11\n    this.copyWithin(targetStart, start, end)\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, end),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n    if (val.length === 1) {\n      const code = val.charCodeAt(0)\n      if ((encoding === 'utf8' && code < 128) ||\n          encoding === 'latin1') {\n        // Fast path: If `val` fits into a single byte, use that numeric value.\n        val = code\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  } else if (typeof val === 'boolean') {\n    val = Number(val)\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  let i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    const bytes = Buffer.isBuffer(val)\n      ? val\n      : Buffer.from(val, encoding)\n    const len = bytes.length\n    if (len === 0) {\n      throw new TypeError('The value \"' + val +\n        '\" is invalid for argument \"value\"')\n    }\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// CUSTOM ERRORS\n// =============\n\n// Simplified versions from Node, changed for Buffer-only usage\nconst errors = {}\nfunction E (sym, getMessage, Base) {\n  errors[sym] = class NodeError extends Base {\n    constructor () {\n      super()\n\n      Object.defineProperty(this, 'message', {\n        value: getMessage.apply(this, arguments),\n        writable: true,\n        configurable: true\n      })\n\n      // Add the error code to the name to include it in the stack trace.\n      this.name = `${this.name} [${sym}]`\n      // Access the stack to generate the error message including the error code\n      // from the name.\n      this.stack // eslint-disable-line no-unused-expressions\n      // Reset the name to the actual name.\n      delete this.name\n    }\n\n    get code () {\n      return sym\n    }\n\n    set code (value) {\n      Object.defineProperty(this, 'code', {\n        configurable: true,\n        enumerable: true,\n        value,\n        writable: true\n      })\n    }\n\n    toString () {\n      return `${this.name} [${sym}]: ${this.message}`\n    }\n  }\n}\n\nE('ERR_BUFFER_OUT_OF_BOUNDS',\n  function (name) {\n    if (name) {\n      return `${name} is outside of buffer bounds`\n    }\n\n    return 'Attempt to access memory outside buffer bounds'\n  }, RangeError)\nE('ERR_INVALID_ARG_TYPE',\n  function (name, actual) {\n    return `The \"${name}\" argument must be of type number. Received type ${typeof actual}`\n  }, TypeError)\nE('ERR_OUT_OF_RANGE',\n  function (str, range, input) {\n    let msg = `The value of \"${str}\" is out of range.`\n    let received = input\n    if (Number.isInteger(input) && Math.abs(input) > 2 ** 32) {\n      received = addNumericalSeparator(String(input))\n    } else if (typeof input === 'bigint') {\n      received = String(input)\n      if (input > BigInt(2) ** BigInt(32) || input < -(BigInt(2) ** BigInt(32))) {\n        received = addNumericalSeparator(received)\n      }\n      received += 'n'\n    }\n    msg += ` It must be ${range}. Received ${received}`\n    return msg\n  }, RangeError)\n\nfunction addNumericalSeparator (val) {\n  let res = ''\n  let i = val.length\n  const start = val[0] === '-' ? 1 : 0\n  for (; i >= start + 4; i -= 3) {\n    res = `_${val.slice(i - 3, i)}${res}`\n  }\n  return `${val.slice(0, i)}${res}`\n}\n\n// CHECK FUNCTIONS\n// ===============\n\nfunction checkBounds (buf, offset, byteLength) {\n  validateNumber(offset, 'offset')\n  if (buf[offset] === undefined || buf[offset + byteLength] === undefined) {\n    boundsError(offset, buf.length - (byteLength + 1))\n  }\n}\n\nfunction checkIntBI (value, min, max, buf, offset, byteLength) {\n  if (value > max || value < min) {\n    const n = typeof min === 'bigint' ? 'n' : ''\n    let range\n    if (byteLength > 3) {\n      if (min === 0 || min === BigInt(0)) {\n        range = `>= 0${n} and < 2${n} ** ${(byteLength + 1) * 8}${n}`\n      } else {\n        range = `>= -(2${n} ** ${(byteLength + 1) * 8 - 1}${n}) and < 2 ** ` +\n                `${(byteLength + 1) * 8 - 1}${n}`\n      }\n    } else {\n      range = `>= ${min}${n} and <= ${max}${n}`\n    }\n    throw new errors.ERR_OUT_OF_RANGE('value', range, value)\n  }\n  checkBounds(buf, offset, byteLength)\n}\n\nfunction validateNumber (value, name) {\n  if (typeof value !== 'number') {\n    throw new errors.ERR_INVALID_ARG_TYPE(name, 'number', value)\n  }\n}\n\nfunction boundsError (value, length, type) {\n  if (Math.floor(value) !== value) {\n    validateNumber(value, type)\n    throw new errors.ERR_OUT_OF_RANGE(type || 'offset', 'an integer', value)\n  }\n\n  if (length < 0) {\n    throw new errors.ERR_BUFFER_OUT_OF_BOUNDS()\n  }\n\n  throw new errors.ERR_OUT_OF_RANGE(type || 'offset',\n                                    `>= ${type ? 1 : 0} and <= ${length}`,\n                                    value)\n}\n\n// HELPER FUNCTIONS\n// ================\n\nconst INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node takes equal signs as end of the Base64 encoding\n  str = str.split('=')[0]\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = str.trim().replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  let codePoint\n  const length = string.length\n  let leadSurrogate = null\n  const bytes = []\n\n  for (let i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  let c, hi, lo\n  const byteArray = []\n  for (let i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  let i\n  for (i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n// the `instanceof` check but they should be treated as of that type.\n// See: https://github.com/feross/buffer/issues/166\nfunction isInstance (obj, type) {\n  return obj instanceof type ||\n    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n      obj.constructor.name === type.name)\n}\nfunction numberIsNaN (obj) {\n  // For IE11 support\n  return obj !== obj // eslint-disable-line no-self-compare\n}\n\n// Create lookup table for `toString('hex')`\n// See: https://github.com/feross/buffer/issues/219\nconst hexSliceLookupTable = (function () {\n  const alphabet = '0123456789abcdef'\n  const table = new Array(256)\n  for (let i = 0; i < 16; ++i) {\n    const i16 = i * 16\n    for (let j = 0; j < 16; ++j) {\n      table[i16 + j] = alphabet[i] + alphabet[j]\n    }\n  }\n  return table\n})()\n\n// Return not function with Error if BigInt not supported\nfunction defineBigIntMethod (fn) {\n  return typeof BigInt === 'undefined' ? BufferBigIntNotDefined : fn\n}\n\nfunction BufferBigIntNotDefined () {\n  throw new Error('BigInt not supported')\n}\n","/**\n * Takes an array of AbortSignals and returns a single signal.\n * If any signals are aborted, the returned signal will be aborted.\n * @param {Array<AbortSignal>} signals\n * @returns {AbortSignal}\n */\nfunction anySignal (signals) {\n  const controller = new globalThis.AbortController()\n\n  function onAbort () {\n    controller.abort()\n\n    for (const signal of signals) {\n      if (!signal || !signal.removeEventListener) continue\n      signal.removeEventListener('abort', onAbort)\n    }\n  }\n\n  for (const signal of signals) {\n    if (!signal || !signal.addEventListener) continue\n    if (signal.aborted) {\n      onAbort()\n      break\n    }\n    signal.addEventListener('abort', onAbort)\n  }\n\n  return controller.signal\n}\n\nmodule.exports = anySignal\nmodule.exports.anySignal = anySignal\n","'use strict'\nvar ALPHABET = 'qpzry9x8gf2tvdw0s3jn54khce6mua7l'\n\n// pre-compute lookup table\nvar ALPHABET_MAP = {}\nfor (var z = 0; z < ALPHABET.length; z++) {\n  var x = ALPHABET.charAt(z)\n\n  if (ALPHABET_MAP[x] !== undefined) throw new TypeError(x + ' is ambiguous')\n  ALPHABET_MAP[x] = z\n}\n\nfunction polymodStep (pre) {\n  var b = pre >> 25\n  return ((pre & 0x1FFFFFF) << 5) ^\n    (-((b >> 0) & 1) & 0x3b6a57b2) ^\n    (-((b >> 1) & 1) & 0x26508e6d) ^\n    (-((b >> 2) & 1) & 0x1ea119fa) ^\n    (-((b >> 3) & 1) & 0x3d4233dd) ^\n    (-((b >> 4) & 1) & 0x2a1462b3)\n}\n\nfunction prefixChk (prefix) {\n  var chk = 1\n  for (var i = 0; i < prefix.length; ++i) {\n    var c = prefix.charCodeAt(i)\n    if (c < 33 || c > 126) return 'Invalid prefix (' + prefix + ')'\n\n    chk = polymodStep(chk) ^ (c >> 5)\n  }\n  chk = polymodStep(chk)\n\n  for (i = 0; i < prefix.length; ++i) {\n    var v = prefix.charCodeAt(i)\n    chk = polymodStep(chk) ^ (v & 0x1f)\n  }\n  return chk\n}\n\nfunction encode (prefix, words, LIMIT) {\n  LIMIT = LIMIT || 90\n  if ((prefix.length + 7 + words.length) > LIMIT) throw new TypeError('Exceeds length limit')\n\n  prefix = prefix.toLowerCase()\n\n  // determine chk mod\n  var chk = prefixChk(prefix)\n  if (typeof chk === 'string') throw new Error(chk)\n\n  var result = prefix + '1'\n  for (var i = 0; i < words.length; ++i) {\n    var x = words[i]\n    if ((x >> 5) !== 0) throw new Error('Non 5-bit word')\n\n    chk = polymodStep(chk) ^ x\n    result += ALPHABET.charAt(x)\n  }\n\n  for (i = 0; i < 6; ++i) {\n    chk = polymodStep(chk)\n  }\n  chk ^= 1\n\n  for (i = 0; i < 6; ++i) {\n    var v = (chk >> ((5 - i) * 5)) & 0x1f\n    result += ALPHABET.charAt(v)\n  }\n\n  return result\n}\n\nfunction __decode (str, LIMIT) {\n  LIMIT = LIMIT || 90\n  if (str.length < 8) return str + ' too short'\n  if (str.length > LIMIT) return 'Exceeds length limit'\n\n  // don't allow mixed case\n  var lowered = str.toLowerCase()\n  var uppered = str.toUpperCase()\n  if (str !== lowered && str !== uppered) return 'Mixed-case string ' + str\n  str = lowered\n\n  var split = str.lastIndexOf('1')\n  if (split === -1) return 'No separator character for ' + str\n  if (split === 0) return 'Missing prefix for ' + str\n\n  var prefix = str.slice(0, split)\n  var wordChars = str.slice(split + 1)\n  if (wordChars.length < 6) return 'Data too short'\n\n  var chk = prefixChk(prefix)\n  if (typeof chk === 'string') return chk\n\n  var words = []\n  for (var i = 0; i < wordChars.length; ++i) {\n    var c = wordChars.charAt(i)\n    var v = ALPHABET_MAP[c]\n    if (v === undefined) return 'Unknown character ' + c\n    chk = polymodStep(chk) ^ v\n\n    // not in the checksum?\n    if (i + 6 >= wordChars.length) continue\n    words.push(v)\n  }\n\n  if (chk !== 1) return 'Invalid checksum for ' + str\n  return { prefix: prefix, words: words }\n}\n\nfunction decodeUnsafe () {\n  var res = __decode.apply(null, arguments)\n  if (typeof res === 'object') return res\n}\n\nfunction decode (str) {\n  var res = __decode.apply(null, arguments)\n  if (typeof res === 'object') return res\n\n  throw new Error(res)\n}\n\nfunction convert (data, inBits, outBits, pad) {\n  var value = 0\n  var bits = 0\n  var maxV = (1 << outBits) - 1\n\n  var result = []\n  for (var i = 0; i < data.length; ++i) {\n    value = (value << inBits) | data[i]\n    bits += inBits\n\n    while (bits >= outBits) {\n      bits -= outBits\n      result.push((value >> bits) & maxV)\n    }\n  }\n\n  if (pad) {\n    if (bits > 0) {\n      result.push((value << (outBits - bits)) & maxV)\n    }\n  } else {\n    if (bits >= inBits) return 'Excess padding'\n    if ((value << (outBits - bits)) & maxV) return 'Non-zero padding'\n  }\n\n  return result\n}\n\nfunction toWordsUnsafe (bytes) {\n  var res = convert(bytes, 8, 5, true)\n  if (Array.isArray(res)) return res\n}\n\nfunction toWords (bytes) {\n  var res = convert(bytes, 8, 5, true)\n  if (Array.isArray(res)) return res\n\n  throw new Error(res)\n}\n\nfunction fromWordsUnsafe (words) {\n  var res = convert(words, 5, 8, false)\n  if (Array.isArray(res)) return res\n}\n\nfunction fromWords (words) {\n  var res = convert(words, 5, 8, false)\n  if (Array.isArray(res)) return res\n\n  throw new Error(res)\n}\n\nmodule.exports = {\n  decodeUnsafe: decodeUnsafe,\n  decode: decode,\n  encode: encode,\n  toWordsUnsafe: toWordsUnsafe,\n  toWords: toWords,\n  fromWordsUnsafe: fromWordsUnsafe,\n  fromWords: fromWords\n}\n","/*\r\n *      bignumber.js v9.1.1\r\n *      A JavaScript library for arbitrary-precision arithmetic.\r\n *      https://github.com/MikeMcl/bignumber.js\r\n *      Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>\r\n *      MIT Licensed.\r\n *\r\n *      BigNumber.prototype methods     |  BigNumber methods\r\n *                                      |\r\n *      absoluteValue            abs    |  clone\r\n *      comparedTo                      |  config               set\r\n *      decimalPlaces            dp     |      DECIMAL_PLACES\r\n *      dividedBy                div    |      ROUNDING_MODE\r\n *      dividedToIntegerBy       idiv   |      EXPONENTIAL_AT\r\n *      exponentiatedBy          pow    |      RANGE\r\n *      integerValue                    |      CRYPTO\r\n *      isEqualTo                eq     |      MODULO_MODE\r\n *      isFinite                        |      POW_PRECISION\r\n *      isGreaterThan            gt     |      FORMAT\r\n *      isGreaterThanOrEqualTo   gte    |      ALPHABET\r\n *      isInteger                       |  isBigNumber\r\n *      isLessThan               lt     |  maximum              max\r\n *      isLessThanOrEqualTo      lte    |  minimum              min\r\n *      isNaN                           |  random\r\n *      isNegative                      |  sum\r\n *      isPositive                      |\r\n *      isZero                          |\r\n *      minus                           |\r\n *      modulo                   mod    |\r\n *      multipliedBy             times  |\r\n *      negated                         |\r\n *      plus                            |\r\n *      precision                sd     |\r\n *      shiftedBy                       |\r\n *      squareRoot               sqrt   |\r\n *      toExponential                   |\r\n *      toFixed                         |\r\n *      toFormat                        |\r\n *      toFraction                      |\r\n *      toJSON                          |\r\n *      toNumber                        |\r\n *      toPrecision                     |\r\n *      toString                        |\r\n *      valueOf                         |\r\n *\r\n */\r\n\r\n\r\nvar\r\n  isNumeric = /^-?(?:\\d+(?:\\.\\d*)?|\\.\\d+)(?:e[+-]?\\d+)?$/i,\r\n  mathceil = Math.ceil,\r\n  mathfloor = Math.floor,\r\n\r\n  bignumberError = '[BigNumber Error] ',\r\n  tooManyDigits = bignumberError + 'Number primitive has more than 15 significant digits: ',\r\n\r\n  BASE = 1e14,\r\n  LOG_BASE = 14,\r\n  MAX_SAFE_INTEGER = 0x1fffffffffffff,         // 2^53 - 1\r\n  // MAX_INT32 = 0x7fffffff,                   // 2^31 - 1\r\n  POWS_TEN = [1, 10, 100, 1e3, 1e4, 1e5, 1e6, 1e7, 1e8, 1e9, 1e10, 1e11, 1e12, 1e13],\r\n  SQRT_BASE = 1e7,\r\n\r\n  // EDITABLE\r\n  // The limit on the value of DECIMAL_PLACES, TO_EXP_NEG, TO_EXP_POS, MIN_EXP, MAX_EXP, and\r\n  // the arguments to toExponential, toFixed, toFormat, and toPrecision.\r\n  MAX = 1E9;                                   // 0 to MAX_INT32\r\n\r\n\r\n/*\r\n * Create and return a BigNumber constructor.\r\n */\r\nfunction clone(configObject) {\r\n  var div, convertBase, parseNumeric,\r\n    P = BigNumber.prototype = { constructor: BigNumber, toString: null, valueOf: null },\r\n    ONE = new BigNumber(1),\r\n\r\n\r\n    //----------------------------- EDITABLE CONFIG DEFAULTS -------------------------------\r\n\r\n\r\n    // The default values below must be integers within the inclusive ranges stated.\r\n    // The values can also be changed at run-time using BigNumber.set.\r\n\r\n    // The maximum number of decimal places for operations involving division.\r\n    DECIMAL_PLACES = 20,                     // 0 to MAX\r\n\r\n    // The rounding mode used when rounding to the above decimal places, and when using\r\n    // toExponential, toFixed, toFormat and toPrecision, and round (default value).\r\n    // UP         0 Away from zero.\r\n    // DOWN       1 Towards zero.\r\n    // CEIL       2 Towards +Infinity.\r\n    // FLOOR      3 Towards -Infinity.\r\n    // HALF_UP    4 Towards nearest neighbour. If equidistant, up.\r\n    // HALF_DOWN  5 Towards nearest neighbour. If equidistant, down.\r\n    // HALF_EVEN  6 Towards nearest neighbour. If equidistant, towards even neighbour.\r\n    // HALF_CEIL  7 Towards nearest neighbour. If equidistant, towards +Infinity.\r\n    // HALF_FLOOR 8 Towards nearest neighbour. If equidistant, towards -Infinity.\r\n    ROUNDING_MODE = 4,                       // 0 to 8\r\n\r\n    // EXPONENTIAL_AT : [TO_EXP_NEG , TO_EXP_POS]\r\n\r\n    // The exponent value at and beneath which toString returns exponential notation.\r\n    // Number type: -7\r\n    TO_EXP_NEG = -7,                         // 0 to -MAX\r\n\r\n    // The exponent value at and above which toString returns exponential notation.\r\n    // Number type: 21\r\n    TO_EXP_POS = 21,                         // 0 to MAX\r\n\r\n    // RANGE : [MIN_EXP, MAX_EXP]\r\n\r\n    // The minimum exponent value, beneath which underflow to zero occurs.\r\n    // Number type: -324  (5e-324)\r\n    MIN_EXP = -1e7,                          // -1 to -MAX\r\n\r\n    // The maximum exponent value, above which overflow to Infinity occurs.\r\n    // Number type:  308  (1.7976931348623157e+308)\r\n    // For MAX_EXP > 1e7, e.g. new BigNumber('1e100000000').plus(1) may be slow.\r\n    MAX_EXP = 1e7,                           // 1 to MAX\r\n\r\n    // Whether to use cryptographically-secure random number generation, if available.\r\n    CRYPTO = false,                          // true or false\r\n\r\n    // The modulo mode used when calculating the modulus: a mod n.\r\n    // The quotient (q = a / n) is calculated according to the corresponding rounding mode.\r\n    // The remainder (r) is calculated as: r = a - n * q.\r\n    //\r\n    // UP        0 The remainder is positive if the dividend is negative, else is negative.\r\n    // DOWN      1 The remainder has the same sign as the dividend.\r\n    //             This modulo mode is commonly known as 'truncated division' and is\r\n    //             equivalent to (a % n) in JavaScript.\r\n    // FLOOR     3 The remainder has the same sign as the divisor (Python %).\r\n    // HALF_EVEN 6 This modulo mode implements the IEEE 754 remainder function.\r\n    // EUCLID    9 Euclidian division. q = sign(n) * floor(a / abs(n)).\r\n    //             The remainder is always positive.\r\n    //\r\n    // The truncated division, floored division, Euclidian division and IEEE 754 remainder\r\n    // modes are commonly used for the modulus operation.\r\n    // Although the other rounding modes can also be used, they may not give useful results.\r\n    MODULO_MODE = 1,                         // 0 to 9\r\n\r\n    // The maximum number of significant digits of the result of the exponentiatedBy operation.\r\n    // If POW_PRECISION is 0, there will be unlimited significant digits.\r\n    POW_PRECISION = 0,                       // 0 to MAX\r\n\r\n    // The format specification used by the BigNumber.prototype.toFormat method.\r\n    FORMAT = {\r\n      prefix: '',\r\n      groupSize: 3,\r\n      secondaryGroupSize: 0,\r\n      groupSeparator: ',',\r\n      decimalSeparator: '.',\r\n      fractionGroupSize: 0,\r\n      fractionGroupSeparator: '\\xA0',        // non-breaking space\r\n      suffix: ''\r\n    },\r\n\r\n    // The alphabet used for base conversion. It must be at least 2 characters long, with no '+',\r\n    // '-', '.', whitespace, or repeated character.\r\n    // '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_'\r\n    ALPHABET = '0123456789abcdefghijklmnopqrstuvwxyz',\r\n    alphabetHasNormalDecimalDigits = true;\r\n\r\n\r\n  //------------------------------------------------------------------------------------------\r\n\r\n\r\n  // CONSTRUCTOR\r\n\r\n\r\n  /*\r\n   * The BigNumber constructor and exported function.\r\n   * Create and return a new instance of a BigNumber object.\r\n   *\r\n   * v {number|string|BigNumber} A numeric value.\r\n   * [b] {number} The base of v. Integer, 2 to ALPHABET.length inclusive.\r\n   */\r\n  function BigNumber(v, b) {\r\n    var alphabet, c, caseChanged, e, i, isNum, len, str,\r\n      x = this;\r\n\r\n    // Enable constructor call without `new`.\r\n    if (!(x instanceof BigNumber)) return new BigNumber(v, b);\r\n\r\n    if (b == null) {\r\n\r\n      if (v && v._isBigNumber === true) {\r\n        x.s = v.s;\r\n\r\n        if (!v.c || v.e > MAX_EXP) {\r\n          x.c = x.e = null;\r\n        } else if (v.e < MIN_EXP) {\r\n          x.c = [x.e = 0];\r\n        } else {\r\n          x.e = v.e;\r\n          x.c = v.c.slice();\r\n        }\r\n\r\n        return;\r\n      }\r\n\r\n      if ((isNum = typeof v == 'number') && v * 0 == 0) {\r\n\r\n        // Use `1 / n` to handle minus zero also.\r\n        x.s = 1 / v < 0 ? (v = -v, -1) : 1;\r\n\r\n        // Fast path for integers, where n < 2147483648 (2**31).\r\n        if (v === ~~v) {\r\n          for (e = 0, i = v; i >= 10; i /= 10, e++);\r\n\r\n          if (e > MAX_EXP) {\r\n            x.c = x.e = null;\r\n          } else {\r\n            x.e = e;\r\n            x.c = [v];\r\n          }\r\n\r\n          return;\r\n        }\r\n\r\n        str = String(v);\r\n      } else {\r\n\r\n        if (!isNumeric.test(str = String(v))) return parseNumeric(x, str, isNum);\r\n\r\n        x.s = str.charCodeAt(0) == 45 ? (str = str.slice(1), -1) : 1;\r\n      }\r\n\r\n      // Decimal point?\r\n      if ((e = str.indexOf('.')) > -1) str = str.replace('.', '');\r\n\r\n      // Exponential form?\r\n      if ((i = str.search(/e/i)) > 0) {\r\n\r\n        // Determine exponent.\r\n        if (e < 0) e = i;\r\n        e += +str.slice(i + 1);\r\n        str = str.substring(0, i);\r\n      } else if (e < 0) {\r\n\r\n        // Integer.\r\n        e = str.length;\r\n      }\r\n\r\n    } else {\r\n\r\n      // '[BigNumber Error] Base {not a primitive number|not an integer|out of range}: {b}'\r\n      intCheck(b, 2, ALPHABET.length, 'Base');\r\n\r\n      // Allow exponential notation to be used with base 10 argument, while\r\n      // also rounding to DECIMAL_PLACES as with other bases.\r\n      if (b == 10 && alphabetHasNormalDecimalDigits) {\r\n        x = new BigNumber(v);\r\n        return round(x, DECIMAL_PLACES + x.e + 1, ROUNDING_MODE);\r\n      }\r\n\r\n      str = String(v);\r\n\r\n      if (isNum = typeof v == 'number') {\r\n\r\n        // Avoid potential interpretation of Infinity and NaN as base 44+ values.\r\n        if (v * 0 != 0) return parseNumeric(x, str, isNum, b);\r\n\r\n        x.s = 1 / v < 0 ? (str = str.slice(1), -1) : 1;\r\n\r\n        // '[BigNumber Error] Number primitive has more than 15 significant digits: {n}'\r\n        if (BigNumber.DEBUG && str.replace(/^0\\.0*|\\./, '').length > 15) {\r\n          throw Error\r\n           (tooManyDigits + v);\r\n        }\r\n      } else {\r\n        x.s = str.charCodeAt(0) === 45 ? (str = str.slice(1), -1) : 1;\r\n      }\r\n\r\n      alphabet = ALPHABET.slice(0, b);\r\n      e = i = 0;\r\n\r\n      // Check that str is a valid base b number.\r\n      // Don't use RegExp, so alphabet can contain special characters.\r\n      for (len = str.length; i < len; i++) {\r\n        if (alphabet.indexOf(c = str.charAt(i)) < 0) {\r\n          if (c == '.') {\r\n\r\n            // If '.' is not the first character and it has not be found before.\r\n            if (i > e) {\r\n              e = len;\r\n              continue;\r\n            }\r\n          } else if (!caseChanged) {\r\n\r\n            // Allow e.g. hexadecimal 'FF' as well as 'ff'.\r\n            if (str == str.toUpperCase() && (str = str.toLowerCase()) ||\r\n                str == str.toLowerCase() && (str = str.toUpperCase())) {\r\n              caseChanged = true;\r\n              i = -1;\r\n              e = 0;\r\n              continue;\r\n            }\r\n          }\r\n\r\n          return parseNumeric(x, String(v), isNum, b);\r\n        }\r\n      }\r\n\r\n      // Prevent later check for length on converted number.\r\n      isNum = false;\r\n      str = convertBase(str, b, 10, x.s);\r\n\r\n      // Decimal point?\r\n      if ((e = str.indexOf('.')) > -1) str = str.replace('.', '');\r\n      else e = str.length;\r\n    }\r\n\r\n    // Determine leading zeros.\r\n    for (i = 0; str.charCodeAt(i) === 48; i++);\r\n\r\n    // Determine trailing zeros.\r\n    for (len = str.length; str.charCodeAt(--len) === 48;);\r\n\r\n    if (str = str.slice(i, ++len)) {\r\n      len -= i;\r\n\r\n      // '[BigNumber Error] Number primitive has more than 15 significant digits: {n}'\r\n      if (isNum && BigNumber.DEBUG &&\r\n        len > 15 && (v > MAX_SAFE_INTEGER || v !== mathfloor(v))) {\r\n          throw Error\r\n           (tooManyDigits + (x.s * v));\r\n      }\r\n\r\n       // Overflow?\r\n      if ((e = e - i - 1) > MAX_EXP) {\r\n\r\n        // Infinity.\r\n        x.c = x.e = null;\r\n\r\n      // Underflow?\r\n      } else if (e < MIN_EXP) {\r\n\r\n        // Zero.\r\n        x.c = [x.e = 0];\r\n      } else {\r\n        x.e = e;\r\n        x.c = [];\r\n\r\n        // Transform base\r\n\r\n        // e is the base 10 exponent.\r\n        // i is where to slice str to get the first element of the coefficient array.\r\n        i = (e + 1) % LOG_BASE;\r\n        if (e < 0) i += LOG_BASE;  // i < 1\r\n\r\n        if (i < len) {\r\n          if (i) x.c.push(+str.slice(0, i));\r\n\r\n          for (len -= LOG_BASE; i < len;) {\r\n            x.c.push(+str.slice(i, i += LOG_BASE));\r\n          }\r\n\r\n          i = LOG_BASE - (str = str.slice(i)).length;\r\n        } else {\r\n          i -= len;\r\n        }\r\n\r\n        for (; i--; str += '0');\r\n        x.c.push(+str);\r\n      }\r\n    } else {\r\n\r\n      // Zero.\r\n      x.c = [x.e = 0];\r\n    }\r\n  }\r\n\r\n\r\n  // CONSTRUCTOR PROPERTIES\r\n\r\n\r\n  BigNumber.clone = clone;\r\n\r\n  BigNumber.ROUND_UP = 0;\r\n  BigNumber.ROUND_DOWN = 1;\r\n  BigNumber.ROUND_CEIL = 2;\r\n  BigNumber.ROUND_FLOOR = 3;\r\n  BigNumber.ROUND_HALF_UP = 4;\r\n  BigNumber.ROUND_HALF_DOWN = 5;\r\n  BigNumber.ROUND_HALF_EVEN = 6;\r\n  BigNumber.ROUND_HALF_CEIL = 7;\r\n  BigNumber.ROUND_HALF_FLOOR = 8;\r\n  BigNumber.EUCLID = 9;\r\n\r\n\r\n  /*\r\n   * Configure infrequently-changing library-wide settings.\r\n   *\r\n   * Accept an object with the following optional properties (if the value of a property is\r\n   * a number, it must be an integer within the inclusive range stated):\r\n   *\r\n   *   DECIMAL_PLACES   {number}           0 to MAX\r\n   *   ROUNDING_MODE    {number}           0 to 8\r\n   *   EXPONENTIAL_AT   {number|number[]}  -MAX to MAX  or  [-MAX to 0, 0 to MAX]\r\n   *   RANGE            {number|number[]}  -MAX to MAX (not zero)  or  [-MAX to -1, 1 to MAX]\r\n   *   CRYPTO           {boolean}          true or false\r\n   *   MODULO_MODE      {number}           0 to 9\r\n   *   POW_PRECISION       {number}           0 to MAX\r\n   *   ALPHABET         {string}           A string of two or more unique characters which does\r\n   *                                       not contain '.'.\r\n   *   FORMAT           {object}           An object with some of the following properties:\r\n   *     prefix                 {string}\r\n   *     groupSize              {number}\r\n   *     secondaryGroupSize     {number}\r\n   *     groupSeparator         {string}\r\n   *     decimalSeparator       {string}\r\n   *     fractionGroupSize      {number}\r\n   *     fractionGroupSeparator {string}\r\n   *     suffix                 {string}\r\n   *\r\n   * (The values assigned to the above FORMAT object properties are not checked for validity.)\r\n   *\r\n   * E.g.\r\n   * BigNumber.config({ DECIMAL_PLACES : 20, ROUNDING_MODE : 4 })\r\n   *\r\n   * Ignore properties/parameters set to null or undefined, except for ALPHABET.\r\n   *\r\n   * Return an object with the properties current values.\r\n   */\r\n  BigNumber.config = BigNumber.set = function (obj) {\r\n    var p, v;\r\n\r\n    if (obj != null) {\r\n\r\n      if (typeof obj == 'object') {\r\n\r\n        // DECIMAL_PLACES {number} Integer, 0 to MAX inclusive.\r\n        // '[BigNumber Error] DECIMAL_PLACES {not a primitive number|not an integer|out of range}: {v}'\r\n        if (obj.hasOwnProperty(p = 'DECIMAL_PLACES')) {\r\n          v = obj[p];\r\n          intCheck(v, 0, MAX, p);\r\n          DECIMAL_PLACES = v;\r\n        }\r\n\r\n        // ROUNDING_MODE {number} Integer, 0 to 8 inclusive.\r\n        // '[BigNumber Error] ROUNDING_MODE {not a primitive number|not an integer|out of range}: {v}'\r\n        if (obj.hasOwnProperty(p = 'ROUNDING_MODE')) {\r\n          v = obj[p];\r\n          intCheck(v, 0, 8, p);\r\n          ROUNDING_MODE = v;\r\n        }\r\n\r\n        // EXPONENTIAL_AT {number|number[]}\r\n        // Integer, -MAX to MAX inclusive or\r\n        // [integer -MAX to 0 inclusive, 0 to MAX inclusive].\r\n        // '[BigNumber Error] EXPONENTIAL_AT {not a primitive number|not an integer|out of range}: {v}'\r\n        if (obj.hasOwnProperty(p = 'EXPONENTIAL_AT')) {\r\n          v = obj[p];\r\n          if (v && v.pop) {\r\n            intCheck(v[0], -MAX, 0, p);\r\n            intCheck(v[1], 0, MAX, p);\r\n            TO_EXP_NEG = v[0];\r\n            TO_EXP_POS = v[1];\r\n          } else {\r\n            intCheck(v, -MAX, MAX, p);\r\n            TO_EXP_NEG = -(TO_EXP_POS = v < 0 ? -v : v);\r\n          }\r\n        }\r\n\r\n        // RANGE {number|number[]} Non-zero integer, -MAX to MAX inclusive or\r\n        // [integer -MAX to -1 inclusive, integer 1 to MAX inclusive].\r\n        // '[BigNumber Error] RANGE {not a primitive number|not an integer|out of range|cannot be zero}: {v}'\r\n        if (obj.hasOwnProperty(p = 'RANGE')) {\r\n          v = obj[p];\r\n          if (v && v.pop) {\r\n            intCheck(v[0], -MAX, -1, p);\r\n            intCheck(v[1], 1, MAX, p);\r\n            MIN_EXP = v[0];\r\n            MAX_EXP = v[1];\r\n          } else {\r\n            intCheck(v, -MAX, MAX, p);\r\n            if (v) {\r\n              MIN_EXP = -(MAX_EXP = v < 0 ? -v : v);\r\n            } else {\r\n              throw Error\r\n               (bignumberError + p + ' cannot be zero: ' + v);\r\n            }\r\n          }\r\n        }\r\n\r\n        // CRYPTO {boolean} true or false.\r\n        // '[BigNumber Error] CRYPTO not true or false: {v}'\r\n        // '[BigNumber Error] crypto unavailable'\r\n        if (obj.hasOwnProperty(p = 'CRYPTO')) {\r\n          v = obj[p];\r\n          if (v === !!v) {\r\n            if (v) {\r\n              if (typeof crypto != 'undefined' && crypto &&\r\n               (crypto.getRandomValues || crypto.randomBytes)) {\r\n                CRYPTO = v;\r\n              } else {\r\n                CRYPTO = !v;\r\n                throw Error\r\n                 (bignumberError + 'crypto unavailable');\r\n              }\r\n            } else {\r\n              CRYPTO = v;\r\n            }\r\n          } else {\r\n            throw Error\r\n             (bignumberError + p + ' not true or false: ' + v);\r\n          }\r\n        }\r\n\r\n        // MODULO_MODE {number} Integer, 0 to 9 inclusive.\r\n        // '[BigNumber Error] MODULO_MODE {not a primitive number|not an integer|out of range}: {v}'\r\n        if (obj.hasOwnProperty(p = 'MODULO_MODE')) {\r\n          v = obj[p];\r\n          intCheck(v, 0, 9, p);\r\n          MODULO_MODE = v;\r\n        }\r\n\r\n        // POW_PRECISION {number} Integer, 0 to MAX inclusive.\r\n        // '[BigNumber Error] POW_PRECISION {not a primitive number|not an integer|out of range}: {v}'\r\n        if (obj.hasOwnProperty(p = 'POW_PRECISION')) {\r\n          v = obj[p];\r\n          intCheck(v, 0, MAX, p);\r\n          POW_PRECISION = v;\r\n        }\r\n\r\n        // FORMAT {object}\r\n        // '[BigNumber Error] FORMAT not an object: {v}'\r\n        if (obj.hasOwnProperty(p = 'FORMAT')) {\r\n          v = obj[p];\r\n          if (typeof v == 'object') FORMAT = v;\r\n          else throw Error\r\n           (bignumberError + p + ' not an object: ' + v);\r\n        }\r\n\r\n        // ALPHABET {string}\r\n        // '[BigNumber Error] ALPHABET invalid: {v}'\r\n        if (obj.hasOwnProperty(p = 'ALPHABET')) {\r\n          v = obj[p];\r\n\r\n          // Disallow if less than two characters,\r\n          // or if it contains '+', '-', '.', whitespace, or a repeated character.\r\n          if (typeof v == 'string' && !/^.?$|[+\\-.\\s]|(.).*\\1/.test(v)) {\r\n            alphabetHasNormalDecimalDigits = v.slice(0, 10) == '0123456789';\r\n            ALPHABET = v;\r\n          } else {\r\n            throw Error\r\n             (bignumberError + p + ' invalid: ' + v);\r\n          }\r\n        }\r\n\r\n      } else {\r\n\r\n        // '[BigNumber Error] Object expected: {v}'\r\n        throw Error\r\n         (bignumberError + 'Object expected: ' + obj);\r\n      }\r\n    }\r\n\r\n    return {\r\n      DECIMAL_PLACES: DECIMAL_PLACES,\r\n      ROUNDING_MODE: ROUNDING_MODE,\r\n      EXPONENTIAL_AT: [TO_EXP_NEG, TO_EXP_POS],\r\n      RANGE: [MIN_EXP, MAX_EXP],\r\n      CRYPTO: CRYPTO,\r\n      MODULO_MODE: MODULO_MODE,\r\n      POW_PRECISION: POW_PRECISION,\r\n      FORMAT: FORMAT,\r\n      ALPHABET: ALPHABET\r\n    };\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if v is a BigNumber instance, otherwise return false.\r\n   *\r\n   * If BigNumber.DEBUG is true, throw if a BigNumber instance is not well-formed.\r\n   *\r\n   * v {any}\r\n   *\r\n   * '[BigNumber Error] Invalid BigNumber: {v}'\r\n   */\r\n  BigNumber.isBigNumber = function (v) {\r\n    if (!v || v._isBigNumber !== true) return false;\r\n    if (!BigNumber.DEBUG) return true;\r\n\r\n    var i, n,\r\n      c = v.c,\r\n      e = v.e,\r\n      s = v.s;\r\n\r\n    out: if ({}.toString.call(c) == '[object Array]') {\r\n\r\n      if ((s === 1 || s === -1) && e >= -MAX && e <= MAX && e === mathfloor(e)) {\r\n\r\n        // If the first element is zero, the BigNumber value must be zero.\r\n        if (c[0] === 0) {\r\n          if (e === 0 && c.length === 1) return true;\r\n          break out;\r\n        }\r\n\r\n        // Calculate number of digits that c[0] should have, based on the exponent.\r\n        i = (e + 1) % LOG_BASE;\r\n        if (i < 1) i += LOG_BASE;\r\n\r\n        // Calculate number of digits of c[0].\r\n        //if (Math.ceil(Math.log(c[0] + 1) / Math.LN10) == i) {\r\n        if (String(c[0]).length == i) {\r\n\r\n          for (i = 0; i < c.length; i++) {\r\n            n = c[i];\r\n            if (n < 0 || n >= BASE || n !== mathfloor(n)) break out;\r\n          }\r\n\r\n          // Last element cannot be zero, unless it is the only element.\r\n          if (n !== 0) return true;\r\n        }\r\n      }\r\n\r\n    // Infinity/NaN\r\n    } else if (c === null && e === null && (s === null || s === 1 || s === -1)) {\r\n      return true;\r\n    }\r\n\r\n    throw Error\r\n      (bignumberError + 'Invalid BigNumber: ' + v);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber whose value is the maximum of the arguments.\r\n   *\r\n   * arguments {number|string|BigNumber}\r\n   */\r\n  BigNumber.maximum = BigNumber.max = function () {\r\n    return maxOrMin(arguments, P.lt);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber whose value is the minimum of the arguments.\r\n   *\r\n   * arguments {number|string|BigNumber}\r\n   */\r\n  BigNumber.minimum = BigNumber.min = function () {\r\n    return maxOrMin(arguments, P.gt);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber with a random value equal to or greater than 0 and less than 1,\r\n   * and with dp, or DECIMAL_PLACES if dp is omitted, decimal places (or less if trailing\r\n   * zeros are produced).\r\n   *\r\n   * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp}'\r\n   * '[BigNumber Error] crypto unavailable'\r\n   */\r\n  BigNumber.random = (function () {\r\n    var pow2_53 = 0x20000000000000;\r\n\r\n    // Return a 53 bit integer n, where 0 <= n < 9007199254740992.\r\n    // Check if Math.random() produces more than 32 bits of randomness.\r\n    // If it does, assume at least 53 bits are produced, otherwise assume at least 30 bits.\r\n    // 0x40000000 is 2^30, 0x800000 is 2^23, 0x1fffff is 2^21 - 1.\r\n    var random53bitInt = (Math.random() * pow2_53) & 0x1fffff\r\n     ? function () { return mathfloor(Math.random() * pow2_53); }\r\n     : function () { return ((Math.random() * 0x40000000 | 0) * 0x800000) +\r\n       (Math.random() * 0x800000 | 0); };\r\n\r\n    return function (dp) {\r\n      var a, b, e, k, v,\r\n        i = 0,\r\n        c = [],\r\n        rand = new BigNumber(ONE);\r\n\r\n      if (dp == null) dp = DECIMAL_PLACES;\r\n      else intCheck(dp, 0, MAX);\r\n\r\n      k = mathceil(dp / LOG_BASE);\r\n\r\n      if (CRYPTO) {\r\n\r\n        // Browsers supporting crypto.getRandomValues.\r\n        if (crypto.getRandomValues) {\r\n\r\n          a = crypto.getRandomValues(new Uint32Array(k *= 2));\r\n\r\n          for (; i < k;) {\r\n\r\n            // 53 bits:\r\n            // ((Math.pow(2, 32) - 1) * Math.pow(2, 21)).toString(2)\r\n            // 11111 11111111 11111111 11111111 11100000 00000000 00000000\r\n            // ((Math.pow(2, 32) - 1) >>> 11).toString(2)\r\n            //                                     11111 11111111 11111111\r\n            // 0x20000 is 2^21.\r\n            v = a[i] * 0x20000 + (a[i + 1] >>> 11);\r\n\r\n            // Rejection sampling:\r\n            // 0 <= v < 9007199254740992\r\n            // Probability that v >= 9e15, is\r\n            // 7199254740992 / 9007199254740992 ~= 0.0008, i.e. 1 in 1251\r\n            if (v >= 9e15) {\r\n              b = crypto.getRandomValues(new Uint32Array(2));\r\n              a[i] = b[0];\r\n              a[i + 1] = b[1];\r\n            } else {\r\n\r\n              // 0 <= v <= 8999999999999999\r\n              // 0 <= (v % 1e14) <= 99999999999999\r\n              c.push(v % 1e14);\r\n              i += 2;\r\n            }\r\n          }\r\n          i = k / 2;\r\n\r\n        // Node.js supporting crypto.randomBytes.\r\n        } else if (crypto.randomBytes) {\r\n\r\n          // buffer\r\n          a = crypto.randomBytes(k *= 7);\r\n\r\n          for (; i < k;) {\r\n\r\n            // 0x1000000000000 is 2^48, 0x10000000000 is 2^40\r\n            // 0x100000000 is 2^32, 0x1000000 is 2^24\r\n            // 11111 11111111 11111111 11111111 11111111 11111111 11111111\r\n            // 0 <= v < 9007199254740992\r\n            v = ((a[i] & 31) * 0x1000000000000) + (a[i + 1] * 0x10000000000) +\r\n               (a[i + 2] * 0x100000000) + (a[i + 3] * 0x1000000) +\r\n               (a[i + 4] << 16) + (a[i + 5] << 8) + a[i + 6];\r\n\r\n            if (v >= 9e15) {\r\n              crypto.randomBytes(7).copy(a, i);\r\n            } else {\r\n\r\n              // 0 <= (v % 1e14) <= 99999999999999\r\n              c.push(v % 1e14);\r\n              i += 7;\r\n            }\r\n          }\r\n          i = k / 7;\r\n        } else {\r\n          CRYPTO = false;\r\n          throw Error\r\n           (bignumberError + 'crypto unavailable');\r\n        }\r\n      }\r\n\r\n      // Use Math.random.\r\n      if (!CRYPTO) {\r\n\r\n        for (; i < k;) {\r\n          v = random53bitInt();\r\n          if (v < 9e15) c[i++] = v % 1e14;\r\n        }\r\n      }\r\n\r\n      k = c[--i];\r\n      dp %= LOG_BASE;\r\n\r\n      // Convert trailing digits to zeros according to dp.\r\n      if (k && dp) {\r\n        v = POWS_TEN[LOG_BASE - dp];\r\n        c[i] = mathfloor(k / v) * v;\r\n      }\r\n\r\n      // Remove trailing elements which are zero.\r\n      for (; c[i] === 0; c.pop(), i--);\r\n\r\n      // Zero?\r\n      if (i < 0) {\r\n        c = [e = 0];\r\n      } else {\r\n\r\n        // Remove leading elements which are zero and adjust exponent accordingly.\r\n        for (e = -1 ; c[0] === 0; c.splice(0, 1), e -= LOG_BASE);\r\n\r\n        // Count the digits of the first element of c to determine leading zeros, and...\r\n        for (i = 1, v = c[0]; v >= 10; v /= 10, i++);\r\n\r\n        // adjust the exponent accordingly.\r\n        if (i < LOG_BASE) e -= LOG_BASE - i;\r\n      }\r\n\r\n      rand.e = e;\r\n      rand.c = c;\r\n      return rand;\r\n    };\r\n  })();\r\n\r\n\r\n   /*\r\n   * Return a BigNumber whose value is the sum of the arguments.\r\n   *\r\n   * arguments {number|string|BigNumber}\r\n   */\r\n  BigNumber.sum = function () {\r\n    var i = 1,\r\n      args = arguments,\r\n      sum = new BigNumber(args[0]);\r\n    for (; i < args.length;) sum = sum.plus(args[i++]);\r\n    return sum;\r\n  };\r\n\r\n\r\n  // PRIVATE FUNCTIONS\r\n\r\n\r\n  // Called by BigNumber and BigNumber.prototype.toString.\r\n  convertBase = (function () {\r\n    var decimal = '0123456789';\r\n\r\n    /*\r\n     * Convert string of baseIn to an array of numbers of baseOut.\r\n     * Eg. toBaseOut('255', 10, 16) returns [15, 15].\r\n     * Eg. toBaseOut('ff', 16, 10) returns [2, 5, 5].\r\n     */\r\n    function toBaseOut(str, baseIn, baseOut, alphabet) {\r\n      var j,\r\n        arr = [0],\r\n        arrL,\r\n        i = 0,\r\n        len = str.length;\r\n\r\n      for (; i < len;) {\r\n        for (arrL = arr.length; arrL--; arr[arrL] *= baseIn);\r\n\r\n        arr[0] += alphabet.indexOf(str.charAt(i++));\r\n\r\n        for (j = 0; j < arr.length; j++) {\r\n\r\n          if (arr[j] > baseOut - 1) {\r\n            if (arr[j + 1] == null) arr[j + 1] = 0;\r\n            arr[j + 1] += arr[j] / baseOut | 0;\r\n            arr[j] %= baseOut;\r\n          }\r\n        }\r\n      }\r\n\r\n      return arr.reverse();\r\n    }\r\n\r\n    // Convert a numeric string of baseIn to a numeric string of baseOut.\r\n    // If the caller is toString, we are converting from base 10 to baseOut.\r\n    // If the caller is BigNumber, we are converting from baseIn to base 10.\r\n    return function (str, baseIn, baseOut, sign, callerIsToString) {\r\n      var alphabet, d, e, k, r, x, xc, y,\r\n        i = str.indexOf('.'),\r\n        dp = DECIMAL_PLACES,\r\n        rm = ROUNDING_MODE;\r\n\r\n      // Non-integer.\r\n      if (i >= 0) {\r\n        k = POW_PRECISION;\r\n\r\n        // Unlimited precision.\r\n        POW_PRECISION = 0;\r\n        str = str.replace('.', '');\r\n        y = new BigNumber(baseIn);\r\n        x = y.pow(str.length - i);\r\n        POW_PRECISION = k;\r\n\r\n        // Convert str as if an integer, then restore the fraction part by dividing the\r\n        // result by its base raised to a power.\r\n\r\n        y.c = toBaseOut(toFixedPoint(coeffToString(x.c), x.e, '0'),\r\n         10, baseOut, decimal);\r\n        y.e = y.c.length;\r\n      }\r\n\r\n      // Convert the number as integer.\r\n\r\n      xc = toBaseOut(str, baseIn, baseOut, callerIsToString\r\n       ? (alphabet = ALPHABET, decimal)\r\n       : (alphabet = decimal, ALPHABET));\r\n\r\n      // xc now represents str as an integer and converted to baseOut. e is the exponent.\r\n      e = k = xc.length;\r\n\r\n      // Remove trailing zeros.\r\n      for (; xc[--k] == 0; xc.pop());\r\n\r\n      // Zero?\r\n      if (!xc[0]) return alphabet.charAt(0);\r\n\r\n      // Does str represent an integer? If so, no need for the division.\r\n      if (i < 0) {\r\n        --e;\r\n      } else {\r\n        x.c = xc;\r\n        x.e = e;\r\n\r\n        // The sign is needed for correct rounding.\r\n        x.s = sign;\r\n        x = div(x, y, dp, rm, baseOut);\r\n        xc = x.c;\r\n        r = x.r;\r\n        e = x.e;\r\n      }\r\n\r\n      // xc now represents str converted to baseOut.\r\n\r\n      // THe index of the rounding digit.\r\n      d = e + dp + 1;\r\n\r\n      // The rounding digit: the digit to the right of the digit that may be rounded up.\r\n      i = xc[d];\r\n\r\n      // Look at the rounding digits and mode to determine whether to round up.\r\n\r\n      k = baseOut / 2;\r\n      r = r || d < 0 || xc[d + 1] != null;\r\n\r\n      r = rm < 4 ? (i != null || r) && (rm == 0 || rm == (x.s < 0 ? 3 : 2))\r\n            : i > k || i == k &&(rm == 4 || r || rm == 6 && xc[d - 1] & 1 ||\r\n             rm == (x.s < 0 ? 8 : 7));\r\n\r\n      // If the index of the rounding digit is not greater than zero, or xc represents\r\n      // zero, then the result of the base conversion is zero or, if rounding up, a value\r\n      // such as 0.00001.\r\n      if (d < 1 || !xc[0]) {\r\n\r\n        // 1^-dp or 0\r\n        str = r ? toFixedPoint(alphabet.charAt(1), -dp, alphabet.charAt(0)) : alphabet.charAt(0);\r\n      } else {\r\n\r\n        // Truncate xc to the required number of decimal places.\r\n        xc.length = d;\r\n\r\n        // Round up?\r\n        if (r) {\r\n\r\n          // Rounding up may mean the previous digit has to be rounded up and so on.\r\n          for (--baseOut; ++xc[--d] > baseOut;) {\r\n            xc[d] = 0;\r\n\r\n            if (!d) {\r\n              ++e;\r\n              xc = [1].concat(xc);\r\n            }\r\n          }\r\n        }\r\n\r\n        // Determine trailing zeros.\r\n        for (k = xc.length; !xc[--k];);\r\n\r\n        // E.g. [4, 11, 15] becomes 4bf.\r\n        for (i = 0, str = ''; i <= k; str += alphabet.charAt(xc[i++]));\r\n\r\n        // Add leading zeros, decimal point and trailing zeros as required.\r\n        str = toFixedPoint(str, e, alphabet.charAt(0));\r\n      }\r\n\r\n      // The caller will add the sign.\r\n      return str;\r\n    };\r\n  })();\r\n\r\n\r\n  // Perform division in the specified base. Called by div and convertBase.\r\n  div = (function () {\r\n\r\n    // Assume non-zero x and k.\r\n    function multiply(x, k, base) {\r\n      var m, temp, xlo, xhi,\r\n        carry = 0,\r\n        i = x.length,\r\n        klo = k % SQRT_BASE,\r\n        khi = k / SQRT_BASE | 0;\r\n\r\n      for (x = x.slice(); i--;) {\r\n        xlo = x[i] % SQRT_BASE;\r\n        xhi = x[i] / SQRT_BASE | 0;\r\n        m = khi * xlo + xhi * klo;\r\n        temp = klo * xlo + ((m % SQRT_BASE) * SQRT_BASE) + carry;\r\n        carry = (temp / base | 0) + (m / SQRT_BASE | 0) + khi * xhi;\r\n        x[i] = temp % base;\r\n      }\r\n\r\n      if (carry) x = [carry].concat(x);\r\n\r\n      return x;\r\n    }\r\n\r\n    function compare(a, b, aL, bL) {\r\n      var i, cmp;\r\n\r\n      if (aL != bL) {\r\n        cmp = aL > bL ? 1 : -1;\r\n      } else {\r\n\r\n        for (i = cmp = 0; i < aL; i++) {\r\n\r\n          if (a[i] != b[i]) {\r\n            cmp = a[i] > b[i] ? 1 : -1;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n\r\n      return cmp;\r\n    }\r\n\r\n    function subtract(a, b, aL, base) {\r\n      var i = 0;\r\n\r\n      // Subtract b from a.\r\n      for (; aL--;) {\r\n        a[aL] -= i;\r\n        i = a[aL] < b[aL] ? 1 : 0;\r\n        a[aL] = i * base + a[aL] - b[aL];\r\n      }\r\n\r\n      // Remove leading zeros.\r\n      for (; !a[0] && a.length > 1; a.splice(0, 1));\r\n    }\r\n\r\n    // x: dividend, y: divisor.\r\n    return function (x, y, dp, rm, base) {\r\n      var cmp, e, i, more, n, prod, prodL, q, qc, rem, remL, rem0, xi, xL, yc0,\r\n        yL, yz,\r\n        s = x.s == y.s ? 1 : -1,\r\n        xc = x.c,\r\n        yc = y.c;\r\n\r\n      // Either NaN, Infinity or 0?\r\n      if (!xc || !xc[0] || !yc || !yc[0]) {\r\n\r\n        return new BigNumber(\r\n\r\n         // Return NaN if either NaN, or both Infinity or 0.\r\n         !x.s || !y.s || (xc ? yc && xc[0] == yc[0] : !yc) ? NaN :\r\n\r\n          // Return ±0 if x is ±0 or y is ±Infinity, or return ±Infinity as y is ±0.\r\n          xc && xc[0] == 0 || !yc ? s * 0 : s / 0\r\n       );\r\n      }\r\n\r\n      q = new BigNumber(s);\r\n      qc = q.c = [];\r\n      e = x.e - y.e;\r\n      s = dp + e + 1;\r\n\r\n      if (!base) {\r\n        base = BASE;\r\n        e = bitFloor(x.e / LOG_BASE) - bitFloor(y.e / LOG_BASE);\r\n        s = s / LOG_BASE | 0;\r\n      }\r\n\r\n      // Result exponent may be one less then the current value of e.\r\n      // The coefficients of the BigNumbers from convertBase may have trailing zeros.\r\n      for (i = 0; yc[i] == (xc[i] || 0); i++);\r\n\r\n      if (yc[i] > (xc[i] || 0)) e--;\r\n\r\n      if (s < 0) {\r\n        qc.push(1);\r\n        more = true;\r\n      } else {\r\n        xL = xc.length;\r\n        yL = yc.length;\r\n        i = 0;\r\n        s += 2;\r\n\r\n        // Normalise xc and yc so highest order digit of yc is >= base / 2.\r\n\r\n        n = mathfloor(base / (yc[0] + 1));\r\n\r\n        // Not necessary, but to handle odd bases where yc[0] == (base / 2) - 1.\r\n        // if (n > 1 || n++ == 1 && yc[0] < base / 2) {\r\n        if (n > 1) {\r\n          yc = multiply(yc, n, base);\r\n          xc = multiply(xc, n, base);\r\n          yL = yc.length;\r\n          xL = xc.length;\r\n        }\r\n\r\n        xi = yL;\r\n        rem = xc.slice(0, yL);\r\n        remL = rem.length;\r\n\r\n        // Add zeros to make remainder as long as divisor.\r\n        for (; remL < yL; rem[remL++] = 0);\r\n        yz = yc.slice();\r\n        yz = [0].concat(yz);\r\n        yc0 = yc[0];\r\n        if (yc[1] >= base / 2) yc0++;\r\n        // Not necessary, but to prevent trial digit n > base, when using base 3.\r\n        // else if (base == 3 && yc0 == 1) yc0 = 1 + 1e-15;\r\n\r\n        do {\r\n          n = 0;\r\n\r\n          // Compare divisor and remainder.\r\n          cmp = compare(yc, rem, yL, remL);\r\n\r\n          // If divisor < remainder.\r\n          if (cmp < 0) {\r\n\r\n            // Calculate trial digit, n.\r\n\r\n            rem0 = rem[0];\r\n            if (yL != remL) rem0 = rem0 * base + (rem[1] || 0);\r\n\r\n            // n is how many times the divisor goes into the current remainder.\r\n            n = mathfloor(rem0 / yc0);\r\n\r\n            //  Algorithm:\r\n            //  product = divisor multiplied by trial digit (n).\r\n            //  Compare product and remainder.\r\n            //  If product is greater than remainder:\r\n            //    Subtract divisor from product, decrement trial digit.\r\n            //  Subtract product from remainder.\r\n            //  If product was less than remainder at the last compare:\r\n            //    Compare new remainder and divisor.\r\n            //    If remainder is greater than divisor:\r\n            //      Subtract divisor from remainder, increment trial digit.\r\n\r\n            if (n > 1) {\r\n\r\n              // n may be > base only when base is 3.\r\n              if (n >= base) n = base - 1;\r\n\r\n              // product = divisor * trial digit.\r\n              prod = multiply(yc, n, base);\r\n              prodL = prod.length;\r\n              remL = rem.length;\r\n\r\n              // Compare product and remainder.\r\n              // If product > remainder then trial digit n too high.\r\n              // n is 1 too high about 5% of the time, and is not known to have\r\n              // ever been more than 1 too high.\r\n              while (compare(prod, rem, prodL, remL) == 1) {\r\n                n--;\r\n\r\n                // Subtract divisor from product.\r\n                subtract(prod, yL < prodL ? yz : yc, prodL, base);\r\n                prodL = prod.length;\r\n                cmp = 1;\r\n              }\r\n            } else {\r\n\r\n              // n is 0 or 1, cmp is -1.\r\n              // If n is 0, there is no need to compare yc and rem again below,\r\n              // so change cmp to 1 to avoid it.\r\n              // If n is 1, leave cmp as -1, so yc and rem are compared again.\r\n              if (n == 0) {\r\n\r\n                // divisor < remainder, so n must be at least 1.\r\n                cmp = n = 1;\r\n              }\r\n\r\n              // product = divisor\r\n              prod = yc.slice();\r\n              prodL = prod.length;\r\n            }\r\n\r\n            if (prodL < remL) prod = [0].concat(prod);\r\n\r\n            // Subtract product from remainder.\r\n            subtract(rem, prod, remL, base);\r\n            remL = rem.length;\r\n\r\n             // If product was < remainder.\r\n            if (cmp == -1) {\r\n\r\n              // Compare divisor and new remainder.\r\n              // If divisor < new remainder, subtract divisor from remainder.\r\n              // Trial digit n too low.\r\n              // n is 1 too low about 5% of the time, and very rarely 2 too low.\r\n              while (compare(yc, rem, yL, remL) < 1) {\r\n                n++;\r\n\r\n                // Subtract divisor from remainder.\r\n                subtract(rem, yL < remL ? yz : yc, remL, base);\r\n                remL = rem.length;\r\n              }\r\n            }\r\n          } else if (cmp === 0) {\r\n            n++;\r\n            rem = [0];\r\n          } // else cmp === 1 and n will be 0\r\n\r\n          // Add the next digit, n, to the result array.\r\n          qc[i++] = n;\r\n\r\n          // Update the remainder.\r\n          if (rem[0]) {\r\n            rem[remL++] = xc[xi] || 0;\r\n          } else {\r\n            rem = [xc[xi]];\r\n            remL = 1;\r\n          }\r\n        } while ((xi++ < xL || rem[0] != null) && s--);\r\n\r\n        more = rem[0] != null;\r\n\r\n        // Leading zero?\r\n        if (!qc[0]) qc.splice(0, 1);\r\n      }\r\n\r\n      if (base == BASE) {\r\n\r\n        // To calculate q.e, first get the number of digits of qc[0].\r\n        for (i = 1, s = qc[0]; s >= 10; s /= 10, i++);\r\n\r\n        round(q, dp + (q.e = i + e * LOG_BASE - 1) + 1, rm, more);\r\n\r\n      // Caller is convertBase.\r\n      } else {\r\n        q.e = e;\r\n        q.r = +more;\r\n      }\r\n\r\n      return q;\r\n    };\r\n  })();\r\n\r\n\r\n  /*\r\n   * Return a string representing the value of BigNumber n in fixed-point or exponential\r\n   * notation rounded to the specified decimal places or significant digits.\r\n   *\r\n   * n: a BigNumber.\r\n   * i: the index of the last digit required (i.e. the digit that may be rounded up).\r\n   * rm: the rounding mode.\r\n   * id: 1 (toExponential) or 2 (toPrecision).\r\n   */\r\n  function format(n, i, rm, id) {\r\n    var c0, e, ne, len, str;\r\n\r\n    if (rm == null) rm = ROUNDING_MODE;\r\n    else intCheck(rm, 0, 8);\r\n\r\n    if (!n.c) return n.toString();\r\n\r\n    c0 = n.c[0];\r\n    ne = n.e;\r\n\r\n    if (i == null) {\r\n      str = coeffToString(n.c);\r\n      str = id == 1 || id == 2 && (ne <= TO_EXP_NEG || ne >= TO_EXP_POS)\r\n       ? toExponential(str, ne)\r\n       : toFixedPoint(str, ne, '0');\r\n    } else {\r\n      n = round(new BigNumber(n), i, rm);\r\n\r\n      // n.e may have changed if the value was rounded up.\r\n      e = n.e;\r\n\r\n      str = coeffToString(n.c);\r\n      len = str.length;\r\n\r\n      // toPrecision returns exponential notation if the number of significant digits\r\n      // specified is less than the number of digits necessary to represent the integer\r\n      // part of the value in fixed-point notation.\r\n\r\n      // Exponential notation.\r\n      if (id == 1 || id == 2 && (i <= e || e <= TO_EXP_NEG)) {\r\n\r\n        // Append zeros?\r\n        for (; len < i; str += '0', len++);\r\n        str = toExponential(str, e);\r\n\r\n      // Fixed-point notation.\r\n      } else {\r\n        i -= ne;\r\n        str = toFixedPoint(str, e, '0');\r\n\r\n        // Append zeros?\r\n        if (e + 1 > len) {\r\n          if (--i > 0) for (str += '.'; i--; str += '0');\r\n        } else {\r\n          i += e - len;\r\n          if (i > 0) {\r\n            if (e + 1 == len) str += '.';\r\n            for (; i--; str += '0');\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return n.s < 0 && c0 ? '-' + str : str;\r\n  }\r\n\r\n\r\n  // Handle BigNumber.max and BigNumber.min.\r\n  function maxOrMin(args, method) {\r\n    var n,\r\n      i = 1,\r\n      m = new BigNumber(args[0]);\r\n\r\n    for (; i < args.length; i++) {\r\n      n = new BigNumber(args[i]);\r\n\r\n      // If any number is NaN, return NaN.\r\n      if (!n.s) {\r\n        m = n;\r\n        break;\r\n      } else if (method.call(m, n)) {\r\n        m = n;\r\n      }\r\n    }\r\n\r\n    return m;\r\n  }\r\n\r\n\r\n  /*\r\n   * Strip trailing zeros, calculate base 10 exponent and check against MIN_EXP and MAX_EXP.\r\n   * Called by minus, plus and times.\r\n   */\r\n  function normalise(n, c, e) {\r\n    var i = 1,\r\n      j = c.length;\r\n\r\n     // Remove trailing zeros.\r\n    for (; !c[--j]; c.pop());\r\n\r\n    // Calculate the base 10 exponent. First get the number of digits of c[0].\r\n    for (j = c[0]; j >= 10; j /= 10, i++);\r\n\r\n    // Overflow?\r\n    if ((e = i + e * LOG_BASE - 1) > MAX_EXP) {\r\n\r\n      // Infinity.\r\n      n.c = n.e = null;\r\n\r\n    // Underflow?\r\n    } else if (e < MIN_EXP) {\r\n\r\n      // Zero.\r\n      n.c = [n.e = 0];\r\n    } else {\r\n      n.e = e;\r\n      n.c = c;\r\n    }\r\n\r\n    return n;\r\n  }\r\n\r\n\r\n  // Handle values that fail the validity test in BigNumber.\r\n  parseNumeric = (function () {\r\n    var basePrefix = /^(-?)0([xbo])(?=\\w[\\w.]*$)/i,\r\n      dotAfter = /^([^.]+)\\.$/,\r\n      dotBefore = /^\\.([^.]+)$/,\r\n      isInfinityOrNaN = /^-?(Infinity|NaN)$/,\r\n      whitespaceOrPlus = /^\\s*\\+(?=[\\w.])|^\\s+|\\s+$/g;\r\n\r\n    return function (x, str, isNum, b) {\r\n      var base,\r\n        s = isNum ? str : str.replace(whitespaceOrPlus, '');\r\n\r\n      // No exception on ±Infinity or NaN.\r\n      if (isInfinityOrNaN.test(s)) {\r\n        x.s = isNaN(s) ? null : s < 0 ? -1 : 1;\r\n      } else {\r\n        if (!isNum) {\r\n\r\n          // basePrefix = /^(-?)0([xbo])(?=\\w[\\w.]*$)/i\r\n          s = s.replace(basePrefix, function (m, p1, p2) {\r\n            base = (p2 = p2.toLowerCase()) == 'x' ? 16 : p2 == 'b' ? 2 : 8;\r\n            return !b || b == base ? p1 : m;\r\n          });\r\n\r\n          if (b) {\r\n            base = b;\r\n\r\n            // E.g. '1.' to '1', '.1' to '0.1'\r\n            s = s.replace(dotAfter, '$1').replace(dotBefore, '0.$1');\r\n          }\r\n\r\n          if (str != s) return new BigNumber(s, base);\r\n        }\r\n\r\n        // '[BigNumber Error] Not a number: {n}'\r\n        // '[BigNumber Error] Not a base {b} number: {n}'\r\n        if (BigNumber.DEBUG) {\r\n          throw Error\r\n            (bignumberError + 'Not a' + (b ? ' base ' + b : '') + ' number: ' + str);\r\n        }\r\n\r\n        // NaN\r\n        x.s = null;\r\n      }\r\n\r\n      x.c = x.e = null;\r\n    }\r\n  })();\r\n\r\n\r\n  /*\r\n   * Round x to sd significant digits using rounding mode rm. Check for over/under-flow.\r\n   * If r is truthy, it is known that there are more digits after the rounding digit.\r\n   */\r\n  function round(x, sd, rm, r) {\r\n    var d, i, j, k, n, ni, rd,\r\n      xc = x.c,\r\n      pows10 = POWS_TEN;\r\n\r\n    // if x is not Infinity or NaN...\r\n    if (xc) {\r\n\r\n      // rd is the rounding digit, i.e. the digit after the digit that may be rounded up.\r\n      // n is a base 1e14 number, the value of the element of array x.c containing rd.\r\n      // ni is the index of n within x.c.\r\n      // d is the number of digits of n.\r\n      // i is the index of rd within n including leading zeros.\r\n      // j is the actual index of rd within n (if < 0, rd is a leading zero).\r\n      out: {\r\n\r\n        // Get the number of digits of the first element of xc.\r\n        for (d = 1, k = xc[0]; k >= 10; k /= 10, d++);\r\n        i = sd - d;\r\n\r\n        // If the rounding digit is in the first element of xc...\r\n        if (i < 0) {\r\n          i += LOG_BASE;\r\n          j = sd;\r\n          n = xc[ni = 0];\r\n\r\n          // Get the rounding digit at index j of n.\r\n          rd = n / pows10[d - j - 1] % 10 | 0;\r\n        } else {\r\n          ni = mathceil((i + 1) / LOG_BASE);\r\n\r\n          if (ni >= xc.length) {\r\n\r\n            if (r) {\r\n\r\n              // Needed by sqrt.\r\n              for (; xc.length <= ni; xc.push(0));\r\n              n = rd = 0;\r\n              d = 1;\r\n              i %= LOG_BASE;\r\n              j = i - LOG_BASE + 1;\r\n            } else {\r\n              break out;\r\n            }\r\n          } else {\r\n            n = k = xc[ni];\r\n\r\n            // Get the number of digits of n.\r\n            for (d = 1; k >= 10; k /= 10, d++);\r\n\r\n            // Get the index of rd within n.\r\n            i %= LOG_BASE;\r\n\r\n            // Get the index of rd within n, adjusted for leading zeros.\r\n            // The number of leading zeros of n is given by LOG_BASE - d.\r\n            j = i - LOG_BASE + d;\r\n\r\n            // Get the rounding digit at index j of n.\r\n            rd = j < 0 ? 0 : n / pows10[d - j - 1] % 10 | 0;\r\n          }\r\n        }\r\n\r\n        r = r || sd < 0 ||\r\n\r\n        // Are there any non-zero digits after the rounding digit?\r\n        // The expression  n % pows10[d - j - 1]  returns all digits of n to the right\r\n        // of the digit at j, e.g. if n is 908714 and j is 2, the expression gives 714.\r\n         xc[ni + 1] != null || (j < 0 ? n : n % pows10[d - j - 1]);\r\n\r\n        r = rm < 4\r\n         ? (rd || r) && (rm == 0 || rm == (x.s < 0 ? 3 : 2))\r\n         : rd > 5 || rd == 5 && (rm == 4 || r || rm == 6 &&\r\n\r\n          // Check whether the digit to the left of the rounding digit is odd.\r\n          ((i > 0 ? j > 0 ? n / pows10[d - j] : 0 : xc[ni - 1]) % 10) & 1 ||\r\n           rm == (x.s < 0 ? 8 : 7));\r\n\r\n        if (sd < 1 || !xc[0]) {\r\n          xc.length = 0;\r\n\r\n          if (r) {\r\n\r\n            // Convert sd to decimal places.\r\n            sd -= x.e + 1;\r\n\r\n            // 1, 0.1, 0.01, 0.001, 0.0001 etc.\r\n            xc[0] = pows10[(LOG_BASE - sd % LOG_BASE) % LOG_BASE];\r\n            x.e = -sd || 0;\r\n          } else {\r\n\r\n            // Zero.\r\n            xc[0] = x.e = 0;\r\n          }\r\n\r\n          return x;\r\n        }\r\n\r\n        // Remove excess digits.\r\n        if (i == 0) {\r\n          xc.length = ni;\r\n          k = 1;\r\n          ni--;\r\n        } else {\r\n          xc.length = ni + 1;\r\n          k = pows10[LOG_BASE - i];\r\n\r\n          // E.g. 56700 becomes 56000 if 7 is the rounding digit.\r\n          // j > 0 means i > number of leading zeros of n.\r\n          xc[ni] = j > 0 ? mathfloor(n / pows10[d - j] % pows10[j]) * k : 0;\r\n        }\r\n\r\n        // Round up?\r\n        if (r) {\r\n\r\n          for (; ;) {\r\n\r\n            // If the digit to be rounded up is in the first element of xc...\r\n            if (ni == 0) {\r\n\r\n              // i will be the length of xc[0] before k is added.\r\n              for (i = 1, j = xc[0]; j >= 10; j /= 10, i++);\r\n              j = xc[0] += k;\r\n              for (k = 1; j >= 10; j /= 10, k++);\r\n\r\n              // if i != k the length has increased.\r\n              if (i != k) {\r\n                x.e++;\r\n                if (xc[0] == BASE) xc[0] = 1;\r\n              }\r\n\r\n              break;\r\n            } else {\r\n              xc[ni] += k;\r\n              if (xc[ni] != BASE) break;\r\n              xc[ni--] = 0;\r\n              k = 1;\r\n            }\r\n          }\r\n        }\r\n\r\n        // Remove trailing zeros.\r\n        for (i = xc.length; xc[--i] === 0; xc.pop());\r\n      }\r\n\r\n      // Overflow? Infinity.\r\n      if (x.e > MAX_EXP) {\r\n        x.c = x.e = null;\r\n\r\n      // Underflow? Zero.\r\n      } else if (x.e < MIN_EXP) {\r\n        x.c = [x.e = 0];\r\n      }\r\n    }\r\n\r\n    return x;\r\n  }\r\n\r\n\r\n  function valueOf(n) {\r\n    var str,\r\n      e = n.e;\r\n\r\n    if (e === null) return n.toString();\r\n\r\n    str = coeffToString(n.c);\r\n\r\n    str = e <= TO_EXP_NEG || e >= TO_EXP_POS\r\n      ? toExponential(str, e)\r\n      : toFixedPoint(str, e, '0');\r\n\r\n    return n.s < 0 ? '-' + str : str;\r\n  }\r\n\r\n\r\n  // PROTOTYPE/INSTANCE METHODS\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber whose value is the absolute value of this BigNumber.\r\n   */\r\n  P.absoluteValue = P.abs = function () {\r\n    var x = new BigNumber(this);\r\n    if (x.s < 0) x.s = 1;\r\n    return x;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return\r\n   *   1 if the value of this BigNumber is greater than the value of BigNumber(y, b),\r\n   *   -1 if the value of this BigNumber is less than the value of BigNumber(y, b),\r\n   *   0 if they have the same value,\r\n   *   or null if the value of either is NaN.\r\n   */\r\n  P.comparedTo = function (y, b) {\r\n    return compare(this, new BigNumber(y, b));\r\n  };\r\n\r\n\r\n  /*\r\n   * If dp is undefined or null or true or false, return the number of decimal places of the\r\n   * value of this BigNumber, or null if the value of this BigNumber is ±Infinity or NaN.\r\n   *\r\n   * Otherwise, if dp is a number, return a new BigNumber whose value is the value of this\r\n   * BigNumber rounded to a maximum of dp decimal places using rounding mode rm, or\r\n   * ROUNDING_MODE if rm is omitted.\r\n   *\r\n   * [dp] {number} Decimal places: integer, 0 to MAX inclusive.\r\n   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp|rm}'\r\n   */\r\n  P.decimalPlaces = P.dp = function (dp, rm) {\r\n    var c, n, v,\r\n      x = this;\r\n\r\n    if (dp != null) {\r\n      intCheck(dp, 0, MAX);\r\n      if (rm == null) rm = ROUNDING_MODE;\r\n      else intCheck(rm, 0, 8);\r\n\r\n      return round(new BigNumber(x), dp + x.e + 1, rm);\r\n    }\r\n\r\n    if (!(c = x.c)) return null;\r\n    n = ((v = c.length - 1) - bitFloor(this.e / LOG_BASE)) * LOG_BASE;\r\n\r\n    // Subtract the number of trailing zeros of the last number.\r\n    if (v = c[v]) for (; v % 10 == 0; v /= 10, n--);\r\n    if (n < 0) n = 0;\r\n\r\n    return n;\r\n  };\r\n\r\n\r\n  /*\r\n   *  n / 0 = I\r\n   *  n / N = N\r\n   *  n / I = 0\r\n   *  0 / n = 0\r\n   *  0 / 0 = N\r\n   *  0 / N = N\r\n   *  0 / I = 0\r\n   *  N / n = N\r\n   *  N / 0 = N\r\n   *  N / N = N\r\n   *  N / I = N\r\n   *  I / n = I\r\n   *  I / 0 = I\r\n   *  I / N = N\r\n   *  I / I = N\r\n   *\r\n   * Return a new BigNumber whose value is the value of this BigNumber divided by the value of\r\n   * BigNumber(y, b), rounded according to DECIMAL_PLACES and ROUNDING_MODE.\r\n   */\r\n  P.dividedBy = P.div = function (y, b) {\r\n    return div(this, new BigNumber(y, b), DECIMAL_PLACES, ROUNDING_MODE);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber whose value is the integer part of dividing the value of this\r\n   * BigNumber by the value of BigNumber(y, b).\r\n   */\r\n  P.dividedToIntegerBy = P.idiv = function (y, b) {\r\n    return div(this, new BigNumber(y, b), 0, 1);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a BigNumber whose value is the value of this BigNumber exponentiated by n.\r\n   *\r\n   * If m is present, return the result modulo m.\r\n   * If n is negative round according to DECIMAL_PLACES and ROUNDING_MODE.\r\n   * If POW_PRECISION is non-zero and m is not present, round to POW_PRECISION using ROUNDING_MODE.\r\n   *\r\n   * The modular power operation works efficiently when x, n, and m are integers, otherwise it\r\n   * is equivalent to calculating x.exponentiatedBy(n).modulo(m) with a POW_PRECISION of 0.\r\n   *\r\n   * n {number|string|BigNumber} The exponent. An integer.\r\n   * [m] {number|string|BigNumber} The modulus.\r\n   *\r\n   * '[BigNumber Error] Exponent not an integer: {n}'\r\n   */\r\n  P.exponentiatedBy = P.pow = function (n, m) {\r\n    var half, isModExp, i, k, more, nIsBig, nIsNeg, nIsOdd, y,\r\n      x = this;\r\n\r\n    n = new BigNumber(n);\r\n\r\n    // Allow NaN and ±Infinity, but not other non-integers.\r\n    if (n.c && !n.isInteger()) {\r\n      throw Error\r\n        (bignumberError + 'Exponent not an integer: ' + valueOf(n));\r\n    }\r\n\r\n    if (m != null) m = new BigNumber(m);\r\n\r\n    // Exponent of MAX_SAFE_INTEGER is 15.\r\n    nIsBig = n.e > 14;\r\n\r\n    // If x is NaN, ±Infinity, ±0 or ±1, or n is ±Infinity, NaN or ±0.\r\n    if (!x.c || !x.c[0] || x.c[0] == 1 && !x.e && x.c.length == 1 || !n.c || !n.c[0]) {\r\n\r\n      // The sign of the result of pow when x is negative depends on the evenness of n.\r\n      // If +n overflows to ±Infinity, the evenness of n would be not be known.\r\n      y = new BigNumber(Math.pow(+valueOf(x), nIsBig ? n.s * (2 - isOdd(n)) : +valueOf(n)));\r\n      return m ? y.mod(m) : y;\r\n    }\r\n\r\n    nIsNeg = n.s < 0;\r\n\r\n    if (m) {\r\n\r\n      // x % m returns NaN if abs(m) is zero, or m is NaN.\r\n      if (m.c ? !m.c[0] : !m.s) return new BigNumber(NaN);\r\n\r\n      isModExp = !nIsNeg && x.isInteger() && m.isInteger();\r\n\r\n      if (isModExp) x = x.mod(m);\r\n\r\n    // Overflow to ±Infinity: >=2**1e10 or >=1.0000024**1e15.\r\n    // Underflow to ±0: <=0.79**1e10 or <=0.9999975**1e15.\r\n    } else if (n.e > 9 && (x.e > 0 || x.e < -1 || (x.e == 0\r\n      // [1, 240000000]\r\n      ? x.c[0] > 1 || nIsBig && x.c[1] >= 24e7\r\n      // [80000000000000]  [99999750000000]\r\n      : x.c[0] < 8e13 || nIsBig && x.c[0] <= 9999975e7))) {\r\n\r\n      // If x is negative and n is odd, k = -0, else k = 0.\r\n      k = x.s < 0 && isOdd(n) ? -0 : 0;\r\n\r\n      // If x >= 1, k = ±Infinity.\r\n      if (x.e > -1) k = 1 / k;\r\n\r\n      // If n is negative return ±0, else return ±Infinity.\r\n      return new BigNumber(nIsNeg ? 1 / k : k);\r\n\r\n    } else if (POW_PRECISION) {\r\n\r\n      // Truncating each coefficient array to a length of k after each multiplication\r\n      // equates to truncating significant digits to POW_PRECISION + [28, 41],\r\n      // i.e. there will be a minimum of 28 guard digits retained.\r\n      k = mathceil(POW_PRECISION / LOG_BASE + 2);\r\n    }\r\n\r\n    if (nIsBig) {\r\n      half = new BigNumber(0.5);\r\n      if (nIsNeg) n.s = 1;\r\n      nIsOdd = isOdd(n);\r\n    } else {\r\n      i = Math.abs(+valueOf(n));\r\n      nIsOdd = i % 2;\r\n    }\r\n\r\n    y = new BigNumber(ONE);\r\n\r\n    // Performs 54 loop iterations for n of 9007199254740991.\r\n    for (; ;) {\r\n\r\n      if (nIsOdd) {\r\n        y = y.times(x);\r\n        if (!y.c) break;\r\n\r\n        if (k) {\r\n          if (y.c.length > k) y.c.length = k;\r\n        } else if (isModExp) {\r\n          y = y.mod(m);    //y = y.minus(div(y, m, 0, MODULO_MODE).times(m));\r\n        }\r\n      }\r\n\r\n      if (i) {\r\n        i = mathfloor(i / 2);\r\n        if (i === 0) break;\r\n        nIsOdd = i % 2;\r\n      } else {\r\n        n = n.times(half);\r\n        round(n, n.e + 1, 1);\r\n\r\n        if (n.e > 14) {\r\n          nIsOdd = isOdd(n);\r\n        } else {\r\n          i = +valueOf(n);\r\n          if (i === 0) break;\r\n          nIsOdd = i % 2;\r\n        }\r\n      }\r\n\r\n      x = x.times(x);\r\n\r\n      if (k) {\r\n        if (x.c && x.c.length > k) x.c.length = k;\r\n      } else if (isModExp) {\r\n        x = x.mod(m);    //x = x.minus(div(x, m, 0, MODULO_MODE).times(m));\r\n      }\r\n    }\r\n\r\n    if (isModExp) return y;\r\n    if (nIsNeg) y = ONE.div(y);\r\n\r\n    return m ? y.mod(m) : k ? round(y, POW_PRECISION, ROUNDING_MODE, more) : y;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber whose value is the value of this BigNumber rounded to an integer\r\n   * using rounding mode rm, or ROUNDING_MODE if rm is omitted.\r\n   *\r\n   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {rm}'\r\n   */\r\n  P.integerValue = function (rm) {\r\n    var n = new BigNumber(this);\r\n    if (rm == null) rm = ROUNDING_MODE;\r\n    else intCheck(rm, 0, 8);\r\n    return round(n, n.e + 1, rm);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is equal to the value of BigNumber(y, b),\r\n   * otherwise return false.\r\n   */\r\n  P.isEqualTo = P.eq = function (y, b) {\r\n    return compare(this, new BigNumber(y, b)) === 0;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is a finite number, otherwise return false.\r\n   */\r\n  P.isFinite = function () {\r\n    return !!this.c;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is greater than the value of BigNumber(y, b),\r\n   * otherwise return false.\r\n   */\r\n  P.isGreaterThan = P.gt = function (y, b) {\r\n    return compare(this, new BigNumber(y, b)) > 0;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is greater than or equal to the value of\r\n   * BigNumber(y, b), otherwise return false.\r\n   */\r\n  P.isGreaterThanOrEqualTo = P.gte = function (y, b) {\r\n    return (b = compare(this, new BigNumber(y, b))) === 1 || b === 0;\r\n\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is an integer, otherwise return false.\r\n   */\r\n  P.isInteger = function () {\r\n    return !!this.c && bitFloor(this.e / LOG_BASE) > this.c.length - 2;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is less than the value of BigNumber(y, b),\r\n   * otherwise return false.\r\n   */\r\n  P.isLessThan = P.lt = function (y, b) {\r\n    return compare(this, new BigNumber(y, b)) < 0;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is less than or equal to the value of\r\n   * BigNumber(y, b), otherwise return false.\r\n   */\r\n  P.isLessThanOrEqualTo = P.lte = function (y, b) {\r\n    return (b = compare(this, new BigNumber(y, b))) === -1 || b === 0;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is NaN, otherwise return false.\r\n   */\r\n  P.isNaN = function () {\r\n    return !this.s;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is negative, otherwise return false.\r\n   */\r\n  P.isNegative = function () {\r\n    return this.s < 0;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is positive, otherwise return false.\r\n   */\r\n  P.isPositive = function () {\r\n    return this.s > 0;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is 0 or -0, otherwise return false.\r\n   */\r\n  P.isZero = function () {\r\n    return !!this.c && this.c[0] == 0;\r\n  };\r\n\r\n\r\n  /*\r\n   *  n - 0 = n\r\n   *  n - N = N\r\n   *  n - I = -I\r\n   *  0 - n = -n\r\n   *  0 - 0 = 0\r\n   *  0 - N = N\r\n   *  0 - I = -I\r\n   *  N - n = N\r\n   *  N - 0 = N\r\n   *  N - N = N\r\n   *  N - I = N\r\n   *  I - n = I\r\n   *  I - 0 = I\r\n   *  I - N = N\r\n   *  I - I = N\r\n   *\r\n   * Return a new BigNumber whose value is the value of this BigNumber minus the value of\r\n   * BigNumber(y, b).\r\n   */\r\n  P.minus = function (y, b) {\r\n    var i, j, t, xLTy,\r\n      x = this,\r\n      a = x.s;\r\n\r\n    y = new BigNumber(y, b);\r\n    b = y.s;\r\n\r\n    // Either NaN?\r\n    if (!a || !b) return new BigNumber(NaN);\r\n\r\n    // Signs differ?\r\n    if (a != b) {\r\n      y.s = -b;\r\n      return x.plus(y);\r\n    }\r\n\r\n    var xe = x.e / LOG_BASE,\r\n      ye = y.e / LOG_BASE,\r\n      xc = x.c,\r\n      yc = y.c;\r\n\r\n    if (!xe || !ye) {\r\n\r\n      // Either Infinity?\r\n      if (!xc || !yc) return xc ? (y.s = -b, y) : new BigNumber(yc ? x : NaN);\r\n\r\n      // Either zero?\r\n      if (!xc[0] || !yc[0]) {\r\n\r\n        // Return y if y is non-zero, x if x is non-zero, or zero if both are zero.\r\n        return yc[0] ? (y.s = -b, y) : new BigNumber(xc[0] ? x :\r\n\r\n         // IEEE 754 (2008) 6.3: n - n = -0 when rounding to -Infinity\r\n         ROUNDING_MODE == 3 ? -0 : 0);\r\n      }\r\n    }\r\n\r\n    xe = bitFloor(xe);\r\n    ye = bitFloor(ye);\r\n    xc = xc.slice();\r\n\r\n    // Determine which is the bigger number.\r\n    if (a = xe - ye) {\r\n\r\n      if (xLTy = a < 0) {\r\n        a = -a;\r\n        t = xc;\r\n      } else {\r\n        ye = xe;\r\n        t = yc;\r\n      }\r\n\r\n      t.reverse();\r\n\r\n      // Prepend zeros to equalise exponents.\r\n      for (b = a; b--; t.push(0));\r\n      t.reverse();\r\n    } else {\r\n\r\n      // Exponents equal. Check digit by digit.\r\n      j = (xLTy = (a = xc.length) < (b = yc.length)) ? a : b;\r\n\r\n      for (a = b = 0; b < j; b++) {\r\n\r\n        if (xc[b] != yc[b]) {\r\n          xLTy = xc[b] < yc[b];\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    // x < y? Point xc to the array of the bigger number.\r\n    if (xLTy) t = xc, xc = yc, yc = t, y.s = -y.s;\r\n\r\n    b = (j = yc.length) - (i = xc.length);\r\n\r\n    // Append zeros to xc if shorter.\r\n    // No need to add zeros to yc if shorter as subtract only needs to start at yc.length.\r\n    if (b > 0) for (; b--; xc[i++] = 0);\r\n    b = BASE - 1;\r\n\r\n    // Subtract yc from xc.\r\n    for (; j > a;) {\r\n\r\n      if (xc[--j] < yc[j]) {\r\n        for (i = j; i && !xc[--i]; xc[i] = b);\r\n        --xc[i];\r\n        xc[j] += BASE;\r\n      }\r\n\r\n      xc[j] -= yc[j];\r\n    }\r\n\r\n    // Remove leading zeros and adjust exponent accordingly.\r\n    for (; xc[0] == 0; xc.splice(0, 1), --ye);\r\n\r\n    // Zero?\r\n    if (!xc[0]) {\r\n\r\n      // Following IEEE 754 (2008) 6.3,\r\n      // n - n = +0  but  n - n = -0  when rounding towards -Infinity.\r\n      y.s = ROUNDING_MODE == 3 ? -1 : 1;\r\n      y.c = [y.e = 0];\r\n      return y;\r\n    }\r\n\r\n    // No need to check for Infinity as +x - +y != Infinity && -x - -y != Infinity\r\n    // for finite x and y.\r\n    return normalise(y, xc, ye);\r\n  };\r\n\r\n\r\n  /*\r\n   *   n % 0 =  N\r\n   *   n % N =  N\r\n   *   n % I =  n\r\n   *   0 % n =  0\r\n   *  -0 % n = -0\r\n   *   0 % 0 =  N\r\n   *   0 % N =  N\r\n   *   0 % I =  0\r\n   *   N % n =  N\r\n   *   N % 0 =  N\r\n   *   N % N =  N\r\n   *   N % I =  N\r\n   *   I % n =  N\r\n   *   I % 0 =  N\r\n   *   I % N =  N\r\n   *   I % I =  N\r\n   *\r\n   * Return a new BigNumber whose value is the value of this BigNumber modulo the value of\r\n   * BigNumber(y, b). The result depends on the value of MODULO_MODE.\r\n   */\r\n  P.modulo = P.mod = function (y, b) {\r\n    var q, s,\r\n      x = this;\r\n\r\n    y = new BigNumber(y, b);\r\n\r\n    // Return NaN if x is Infinity or NaN, or y is NaN or zero.\r\n    if (!x.c || !y.s || y.c && !y.c[0]) {\r\n      return new BigNumber(NaN);\r\n\r\n    // Return x if y is Infinity or x is zero.\r\n    } else if (!y.c || x.c && !x.c[0]) {\r\n      return new BigNumber(x);\r\n    }\r\n\r\n    if (MODULO_MODE == 9) {\r\n\r\n      // Euclidian division: q = sign(y) * floor(x / abs(y))\r\n      // r = x - qy    where  0 <= r < abs(y)\r\n      s = y.s;\r\n      y.s = 1;\r\n      q = div(x, y, 0, 3);\r\n      y.s = s;\r\n      q.s *= s;\r\n    } else {\r\n      q = div(x, y, 0, MODULO_MODE);\r\n    }\r\n\r\n    y = x.minus(q.times(y));\r\n\r\n    // To match JavaScript %, ensure sign of zero is sign of dividend.\r\n    if (!y.c[0] && MODULO_MODE == 1) y.s = x.s;\r\n\r\n    return y;\r\n  };\r\n\r\n\r\n  /*\r\n   *  n * 0 = 0\r\n   *  n * N = N\r\n   *  n * I = I\r\n   *  0 * n = 0\r\n   *  0 * 0 = 0\r\n   *  0 * N = N\r\n   *  0 * I = N\r\n   *  N * n = N\r\n   *  N * 0 = N\r\n   *  N * N = N\r\n   *  N * I = N\r\n   *  I * n = I\r\n   *  I * 0 = N\r\n   *  I * N = N\r\n   *  I * I = I\r\n   *\r\n   * Return a new BigNumber whose value is the value of this BigNumber multiplied by the value\r\n   * of BigNumber(y, b).\r\n   */\r\n  P.multipliedBy = P.times = function (y, b) {\r\n    var c, e, i, j, k, m, xcL, xlo, xhi, ycL, ylo, yhi, zc,\r\n      base, sqrtBase,\r\n      x = this,\r\n      xc = x.c,\r\n      yc = (y = new BigNumber(y, b)).c;\r\n\r\n    // Either NaN, ±Infinity or ±0?\r\n    if (!xc || !yc || !xc[0] || !yc[0]) {\r\n\r\n      // Return NaN if either is NaN, or one is 0 and the other is Infinity.\r\n      if (!x.s || !y.s || xc && !xc[0] && !yc || yc && !yc[0] && !xc) {\r\n        y.c = y.e = y.s = null;\r\n      } else {\r\n        y.s *= x.s;\r\n\r\n        // Return ±Infinity if either is ±Infinity.\r\n        if (!xc || !yc) {\r\n          y.c = y.e = null;\r\n\r\n        // Return ±0 if either is ±0.\r\n        } else {\r\n          y.c = [0];\r\n          y.e = 0;\r\n        }\r\n      }\r\n\r\n      return y;\r\n    }\r\n\r\n    e = bitFloor(x.e / LOG_BASE) + bitFloor(y.e / LOG_BASE);\r\n    y.s *= x.s;\r\n    xcL = xc.length;\r\n    ycL = yc.length;\r\n\r\n    // Ensure xc points to longer array and xcL to its length.\r\n    if (xcL < ycL) zc = xc, xc = yc, yc = zc, i = xcL, xcL = ycL, ycL = i;\r\n\r\n    // Initialise the result array with zeros.\r\n    for (i = xcL + ycL, zc = []; i--; zc.push(0));\r\n\r\n    base = BASE;\r\n    sqrtBase = SQRT_BASE;\r\n\r\n    for (i = ycL; --i >= 0;) {\r\n      c = 0;\r\n      ylo = yc[i] % sqrtBase;\r\n      yhi = yc[i] / sqrtBase | 0;\r\n\r\n      for (k = xcL, j = i + k; j > i;) {\r\n        xlo = xc[--k] % sqrtBase;\r\n        xhi = xc[k] / sqrtBase | 0;\r\n        m = yhi * xlo + xhi * ylo;\r\n        xlo = ylo * xlo + ((m % sqrtBase) * sqrtBase) + zc[j] + c;\r\n        c = (xlo / base | 0) + (m / sqrtBase | 0) + yhi * xhi;\r\n        zc[j--] = xlo % base;\r\n      }\r\n\r\n      zc[j] = c;\r\n    }\r\n\r\n    if (c) {\r\n      ++e;\r\n    } else {\r\n      zc.splice(0, 1);\r\n    }\r\n\r\n    return normalise(y, zc, e);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber whose value is the value of this BigNumber negated,\r\n   * i.e. multiplied by -1.\r\n   */\r\n  P.negated = function () {\r\n    var x = new BigNumber(this);\r\n    x.s = -x.s || null;\r\n    return x;\r\n  };\r\n\r\n\r\n  /*\r\n   *  n + 0 = n\r\n   *  n + N = N\r\n   *  n + I = I\r\n   *  0 + n = n\r\n   *  0 + 0 = 0\r\n   *  0 + N = N\r\n   *  0 + I = I\r\n   *  N + n = N\r\n   *  N + 0 = N\r\n   *  N + N = N\r\n   *  N + I = N\r\n   *  I + n = I\r\n   *  I + 0 = I\r\n   *  I + N = N\r\n   *  I + I = I\r\n   *\r\n   * Return a new BigNumber whose value is the value of this BigNumber plus the value of\r\n   * BigNumber(y, b).\r\n   */\r\n  P.plus = function (y, b) {\r\n    var t,\r\n      x = this,\r\n      a = x.s;\r\n\r\n    y = new BigNumber(y, b);\r\n    b = y.s;\r\n\r\n    // Either NaN?\r\n    if (!a || !b) return new BigNumber(NaN);\r\n\r\n    // Signs differ?\r\n     if (a != b) {\r\n      y.s = -b;\r\n      return x.minus(y);\r\n    }\r\n\r\n    var xe = x.e / LOG_BASE,\r\n      ye = y.e / LOG_BASE,\r\n      xc = x.c,\r\n      yc = y.c;\r\n\r\n    if (!xe || !ye) {\r\n\r\n      // Return ±Infinity if either ±Infinity.\r\n      if (!xc || !yc) return new BigNumber(a / 0);\r\n\r\n      // Either zero?\r\n      // Return y if y is non-zero, x if x is non-zero, or zero if both are zero.\r\n      if (!xc[0] || !yc[0]) return yc[0] ? y : new BigNumber(xc[0] ? x : a * 0);\r\n    }\r\n\r\n    xe = bitFloor(xe);\r\n    ye = bitFloor(ye);\r\n    xc = xc.slice();\r\n\r\n    // Prepend zeros to equalise exponents. Faster to use reverse then do unshifts.\r\n    if (a = xe - ye) {\r\n      if (a > 0) {\r\n        ye = xe;\r\n        t = yc;\r\n      } else {\r\n        a = -a;\r\n        t = xc;\r\n      }\r\n\r\n      t.reverse();\r\n      for (; a--; t.push(0));\r\n      t.reverse();\r\n    }\r\n\r\n    a = xc.length;\r\n    b = yc.length;\r\n\r\n    // Point xc to the longer array, and b to the shorter length.\r\n    if (a - b < 0) t = yc, yc = xc, xc = t, b = a;\r\n\r\n    // Only start adding at yc.length - 1 as the further digits of xc can be ignored.\r\n    for (a = 0; b;) {\r\n      a = (xc[--b] = xc[b] + yc[b] + a) / BASE | 0;\r\n      xc[b] = BASE === xc[b] ? 0 : xc[b] % BASE;\r\n    }\r\n\r\n    if (a) {\r\n      xc = [a].concat(xc);\r\n      ++ye;\r\n    }\r\n\r\n    // No need to check for zero, as +x + +y != 0 && -x + -y != 0\r\n    // ye = MAX_EXP + 1 possible\r\n    return normalise(y, xc, ye);\r\n  };\r\n\r\n\r\n  /*\r\n   * If sd is undefined or null or true or false, return the number of significant digits of\r\n   * the value of this BigNumber, or null if the value of this BigNumber is ±Infinity or NaN.\r\n   * If sd is true include integer-part trailing zeros in the count.\r\n   *\r\n   * Otherwise, if sd is a number, return a new BigNumber whose value is the value of this\r\n   * BigNumber rounded to a maximum of sd significant digits using rounding mode rm, or\r\n   * ROUNDING_MODE if rm is omitted.\r\n   *\r\n   * sd {number|boolean} number: significant digits: integer, 1 to MAX inclusive.\r\n   *                     boolean: whether to count integer-part trailing zeros: true or false.\r\n   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {sd|rm}'\r\n   */\r\n  P.precision = P.sd = function (sd, rm) {\r\n    var c, n, v,\r\n      x = this;\r\n\r\n    if (sd != null && sd !== !!sd) {\r\n      intCheck(sd, 1, MAX);\r\n      if (rm == null) rm = ROUNDING_MODE;\r\n      else intCheck(rm, 0, 8);\r\n\r\n      return round(new BigNumber(x), sd, rm);\r\n    }\r\n\r\n    if (!(c = x.c)) return null;\r\n    v = c.length - 1;\r\n    n = v * LOG_BASE + 1;\r\n\r\n    if (v = c[v]) {\r\n\r\n      // Subtract the number of trailing zeros of the last element.\r\n      for (; v % 10 == 0; v /= 10, n--);\r\n\r\n      // Add the number of digits of the first element.\r\n      for (v = c[0]; v >= 10; v /= 10, n++);\r\n    }\r\n\r\n    if (sd && x.e + 1 > n) n = x.e + 1;\r\n\r\n    return n;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber whose value is the value of this BigNumber shifted by k places\r\n   * (powers of 10). Shift to the right if n > 0, and to the left if n < 0.\r\n   *\r\n   * k {number} Integer, -MAX_SAFE_INTEGER to MAX_SAFE_INTEGER inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {k}'\r\n   */\r\n  P.shiftedBy = function (k) {\r\n    intCheck(k, -MAX_SAFE_INTEGER, MAX_SAFE_INTEGER);\r\n    return this.times('1e' + k);\r\n  };\r\n\r\n\r\n  /*\r\n   *  sqrt(-n) =  N\r\n   *  sqrt(N) =  N\r\n   *  sqrt(-I) =  N\r\n   *  sqrt(I) =  I\r\n   *  sqrt(0) =  0\r\n   *  sqrt(-0) = -0\r\n   *\r\n   * Return a new BigNumber whose value is the square root of the value of this BigNumber,\r\n   * rounded according to DECIMAL_PLACES and ROUNDING_MODE.\r\n   */\r\n  P.squareRoot = P.sqrt = function () {\r\n    var m, n, r, rep, t,\r\n      x = this,\r\n      c = x.c,\r\n      s = x.s,\r\n      e = x.e,\r\n      dp = DECIMAL_PLACES + 4,\r\n      half = new BigNumber('0.5');\r\n\r\n    // Negative/NaN/Infinity/zero?\r\n    if (s !== 1 || !c || !c[0]) {\r\n      return new BigNumber(!s || s < 0 && (!c || c[0]) ? NaN : c ? x : 1 / 0);\r\n    }\r\n\r\n    // Initial estimate.\r\n    s = Math.sqrt(+valueOf(x));\r\n\r\n    // Math.sqrt underflow/overflow?\r\n    // Pass x to Math.sqrt as integer, then adjust the exponent of the result.\r\n    if (s == 0 || s == 1 / 0) {\r\n      n = coeffToString(c);\r\n      if ((n.length + e) % 2 == 0) n += '0';\r\n      s = Math.sqrt(+n);\r\n      e = bitFloor((e + 1) / 2) - (e < 0 || e % 2);\r\n\r\n      if (s == 1 / 0) {\r\n        n = '5e' + e;\r\n      } else {\r\n        n = s.toExponential();\r\n        n = n.slice(0, n.indexOf('e') + 1) + e;\r\n      }\r\n\r\n      r = new BigNumber(n);\r\n    } else {\r\n      r = new BigNumber(s + '');\r\n    }\r\n\r\n    // Check for zero.\r\n    // r could be zero if MIN_EXP is changed after the this value was created.\r\n    // This would cause a division by zero (x/t) and hence Infinity below, which would cause\r\n    // coeffToString to throw.\r\n    if (r.c[0]) {\r\n      e = r.e;\r\n      s = e + dp;\r\n      if (s < 3) s = 0;\r\n\r\n      // Newton-Raphson iteration.\r\n      for (; ;) {\r\n        t = r;\r\n        r = half.times(t.plus(div(x, t, dp, 1)));\r\n\r\n        if (coeffToString(t.c).slice(0, s) === (n = coeffToString(r.c)).slice(0, s)) {\r\n\r\n          // The exponent of r may here be one less than the final result exponent,\r\n          // e.g 0.0009999 (e-4) --> 0.001 (e-3), so adjust s so the rounding digits\r\n          // are indexed correctly.\r\n          if (r.e < e) --s;\r\n          n = n.slice(s - 3, s + 1);\r\n\r\n          // The 4th rounding digit may be in error by -1 so if the 4 rounding digits\r\n          // are 9999 or 4999 (i.e. approaching a rounding boundary) continue the\r\n          // iteration.\r\n          if (n == '9999' || !rep && n == '4999') {\r\n\r\n            // On the first iteration only, check to see if rounding up gives the\r\n            // exact result as the nines may infinitely repeat.\r\n            if (!rep) {\r\n              round(t, t.e + DECIMAL_PLACES + 2, 0);\r\n\r\n              if (t.times(t).eq(x)) {\r\n                r = t;\r\n                break;\r\n              }\r\n            }\r\n\r\n            dp += 4;\r\n            s += 4;\r\n            rep = 1;\r\n          } else {\r\n\r\n            // If rounding digits are null, 0{0,4} or 50{0,3}, check for exact\r\n            // result. If not, then there are further digits and m will be truthy.\r\n            if (!+n || !+n.slice(1) && n.charAt(0) == '5') {\r\n\r\n              // Truncate to the first rounding digit.\r\n              round(r, r.e + DECIMAL_PLACES + 2, 1);\r\n              m = !r.times(r).eq(x);\r\n            }\r\n\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return round(r, r.e + DECIMAL_PLACES + 1, ROUNDING_MODE, m);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a string representing the value of this BigNumber in exponential notation and\r\n   * rounded using ROUNDING_MODE to dp fixed decimal places.\r\n   *\r\n   * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\r\n   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp|rm}'\r\n   */\r\n  P.toExponential = function (dp, rm) {\r\n    if (dp != null) {\r\n      intCheck(dp, 0, MAX);\r\n      dp++;\r\n    }\r\n    return format(this, dp, rm, 1);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a string representing the value of this BigNumber in fixed-point notation rounding\r\n   * to dp fixed decimal places using rounding mode rm, or ROUNDING_MODE if rm is omitted.\r\n   *\r\n   * Note: as with JavaScript's number type, (-0).toFixed(0) is '0',\r\n   * but e.g. (-0.00001).toFixed(0) is '-0'.\r\n   *\r\n   * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\r\n   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp|rm}'\r\n   */\r\n  P.toFixed = function (dp, rm) {\r\n    if (dp != null) {\r\n      intCheck(dp, 0, MAX);\r\n      dp = dp + this.e + 1;\r\n    }\r\n    return format(this, dp, rm);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a string representing the value of this BigNumber in fixed-point notation rounded\r\n   * using rm or ROUNDING_MODE to dp decimal places, and formatted according to the properties\r\n   * of the format or FORMAT object (see BigNumber.set).\r\n   *\r\n   * The formatting object may contain some or all of the properties shown below.\r\n   *\r\n   * FORMAT = {\r\n   *   prefix: '',\r\n   *   groupSize: 3,\r\n   *   secondaryGroupSize: 0,\r\n   *   groupSeparator: ',',\r\n   *   decimalSeparator: '.',\r\n   *   fractionGroupSize: 0,\r\n   *   fractionGroupSeparator: '\\xA0',      // non-breaking space\r\n   *   suffix: ''\r\n   * };\r\n   *\r\n   * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\r\n   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n   * [format] {object} Formatting options. See FORMAT pbject above.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp|rm}'\r\n   * '[BigNumber Error] Argument not an object: {format}'\r\n   */\r\n  P.toFormat = function (dp, rm, format) {\r\n    var str,\r\n      x = this;\r\n\r\n    if (format == null) {\r\n      if (dp != null && rm && typeof rm == 'object') {\r\n        format = rm;\r\n        rm = null;\r\n      } else if (dp && typeof dp == 'object') {\r\n        format = dp;\r\n        dp = rm = null;\r\n      } else {\r\n        format = FORMAT;\r\n      }\r\n    } else if (typeof format != 'object') {\r\n      throw Error\r\n        (bignumberError + 'Argument not an object: ' + format);\r\n    }\r\n\r\n    str = x.toFixed(dp, rm);\r\n\r\n    if (x.c) {\r\n      var i,\r\n        arr = str.split('.'),\r\n        g1 = +format.groupSize,\r\n        g2 = +format.secondaryGroupSize,\r\n        groupSeparator = format.groupSeparator || '',\r\n        intPart = arr[0],\r\n        fractionPart = arr[1],\r\n        isNeg = x.s < 0,\r\n        intDigits = isNeg ? intPart.slice(1) : intPart,\r\n        len = intDigits.length;\r\n\r\n      if (g2) i = g1, g1 = g2, g2 = i, len -= i;\r\n\r\n      if (g1 > 0 && len > 0) {\r\n        i = len % g1 || g1;\r\n        intPart = intDigits.substr(0, i);\r\n        for (; i < len; i += g1) intPart += groupSeparator + intDigits.substr(i, g1);\r\n        if (g2 > 0) intPart += groupSeparator + intDigits.slice(i);\r\n        if (isNeg) intPart = '-' + intPart;\r\n      }\r\n\r\n      str = fractionPart\r\n       ? intPart + (format.decimalSeparator || '') + ((g2 = +format.fractionGroupSize)\r\n        ? fractionPart.replace(new RegExp('\\\\d{' + g2 + '}\\\\B', 'g'),\r\n         '$&' + (format.fractionGroupSeparator || ''))\r\n        : fractionPart)\r\n       : intPart;\r\n    }\r\n\r\n    return (format.prefix || '') + str + (format.suffix || '');\r\n  };\r\n\r\n\r\n  /*\r\n   * Return an array of two BigNumbers representing the value of this BigNumber as a simple\r\n   * fraction with an integer numerator and an integer denominator.\r\n   * The denominator will be a positive non-zero value less than or equal to the specified\r\n   * maximum denominator. If a maximum denominator is not specified, the denominator will be\r\n   * the lowest value necessary to represent the number exactly.\r\n   *\r\n   * [md] {number|string|BigNumber} Integer >= 1, or Infinity. The maximum denominator.\r\n   *\r\n   * '[BigNumber Error] Argument {not an integer|out of range} : {md}'\r\n   */\r\n  P.toFraction = function (md) {\r\n    var d, d0, d1, d2, e, exp, n, n0, n1, q, r, s,\r\n      x = this,\r\n      xc = x.c;\r\n\r\n    if (md != null) {\r\n      n = new BigNumber(md);\r\n\r\n      // Throw if md is less than one or is not an integer, unless it is Infinity.\r\n      if (!n.isInteger() && (n.c || n.s !== 1) || n.lt(ONE)) {\r\n        throw Error\r\n          (bignumberError + 'Argument ' +\r\n            (n.isInteger() ? 'out of range: ' : 'not an integer: ') + valueOf(n));\r\n      }\r\n    }\r\n\r\n    if (!xc) return new BigNumber(x);\r\n\r\n    d = new BigNumber(ONE);\r\n    n1 = d0 = new BigNumber(ONE);\r\n    d1 = n0 = new BigNumber(ONE);\r\n    s = coeffToString(xc);\r\n\r\n    // Determine initial denominator.\r\n    // d is a power of 10 and the minimum max denominator that specifies the value exactly.\r\n    e = d.e = s.length - x.e - 1;\r\n    d.c[0] = POWS_TEN[(exp = e % LOG_BASE) < 0 ? LOG_BASE + exp : exp];\r\n    md = !md || n.comparedTo(d) > 0 ? (e > 0 ? d : n1) : n;\r\n\r\n    exp = MAX_EXP;\r\n    MAX_EXP = 1 / 0;\r\n    n = new BigNumber(s);\r\n\r\n    // n0 = d1 = 0\r\n    n0.c[0] = 0;\r\n\r\n    for (; ;)  {\r\n      q = div(n, d, 0, 1);\r\n      d2 = d0.plus(q.times(d1));\r\n      if (d2.comparedTo(md) == 1) break;\r\n      d0 = d1;\r\n      d1 = d2;\r\n      n1 = n0.plus(q.times(d2 = n1));\r\n      n0 = d2;\r\n      d = n.minus(q.times(d2 = d));\r\n      n = d2;\r\n    }\r\n\r\n    d2 = div(md.minus(d0), d1, 0, 1);\r\n    n0 = n0.plus(d2.times(n1));\r\n    d0 = d0.plus(d2.times(d1));\r\n    n0.s = n1.s = x.s;\r\n    e = e * 2;\r\n\r\n    // Determine which fraction is closer to x, n0/d0 or n1/d1\r\n    r = div(n1, d1, e, ROUNDING_MODE).minus(x).abs().comparedTo(\r\n        div(n0, d0, e, ROUNDING_MODE).minus(x).abs()) < 1 ? [n1, d1] : [n0, d0];\r\n\r\n    MAX_EXP = exp;\r\n\r\n    return r;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return the value of this BigNumber converted to a number primitive.\r\n   */\r\n  P.toNumber = function () {\r\n    return +valueOf(this);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a string representing the value of this BigNumber rounded to sd significant digits\r\n   * using rounding mode rm or ROUNDING_MODE. If sd is less than the number of digits\r\n   * necessary to represent the integer part of the value in fixed-point notation, then use\r\n   * exponential notation.\r\n   *\r\n   * [sd] {number} Significant digits. Integer, 1 to MAX inclusive.\r\n   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {sd|rm}'\r\n   */\r\n  P.toPrecision = function (sd, rm) {\r\n    if (sd != null) intCheck(sd, 1, MAX);\r\n    return format(this, sd, rm, 2);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a string representing the value of this BigNumber in base b, or base 10 if b is\r\n   * omitted. If a base is specified, including base 10, round according to DECIMAL_PLACES and\r\n   * ROUNDING_MODE. If a base is not specified, and this BigNumber has a positive exponent\r\n   * that is equal to or greater than TO_EXP_POS, or a negative exponent equal to or less than\r\n   * TO_EXP_NEG, return exponential notation.\r\n   *\r\n   * [b] {number} Integer, 2 to ALPHABET.length inclusive.\r\n   *\r\n   * '[BigNumber Error] Base {not a primitive number|not an integer|out of range}: {b}'\r\n   */\r\n  P.toString = function (b) {\r\n    var str,\r\n      n = this,\r\n      s = n.s,\r\n      e = n.e;\r\n\r\n    // Infinity or NaN?\r\n    if (e === null) {\r\n      if (s) {\r\n        str = 'Infinity';\r\n        if (s < 0) str = '-' + str;\r\n      } else {\r\n        str = 'NaN';\r\n      }\r\n    } else {\r\n      if (b == null) {\r\n        str = e <= TO_EXP_NEG || e >= TO_EXP_POS\r\n         ? toExponential(coeffToString(n.c), e)\r\n         : toFixedPoint(coeffToString(n.c), e, '0');\r\n      } else if (b === 10 && alphabetHasNormalDecimalDigits) {\r\n        n = round(new BigNumber(n), DECIMAL_PLACES + e + 1, ROUNDING_MODE);\r\n        str = toFixedPoint(coeffToString(n.c), n.e, '0');\r\n      } else {\r\n        intCheck(b, 2, ALPHABET.length, 'Base');\r\n        str = convertBase(toFixedPoint(coeffToString(n.c), e, '0'), 10, b, s, true);\r\n      }\r\n\r\n      if (s < 0 && n.c[0]) str = '-' + str;\r\n    }\r\n\r\n    return str;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return as toString, but do not accept a base argument, and include the minus sign for\r\n   * negative zero.\r\n   */\r\n  P.valueOf = P.toJSON = function () {\r\n    return valueOf(this);\r\n  };\r\n\r\n\r\n  P._isBigNumber = true;\r\n\r\n  P[Symbol.toStringTag] = 'BigNumber';\r\n\r\n  // Node.js v10.12.0+\r\n  P[Symbol.for('nodejs.util.inspect.custom')] = P.valueOf;\r\n\r\n  if (configObject != null) BigNumber.set(configObject);\r\n\r\n  return BigNumber;\r\n}\r\n\r\n\r\n// PRIVATE HELPER FUNCTIONS\r\n\r\n// These functions don't need access to variables,\r\n// e.g. DECIMAL_PLACES, in the scope of the `clone` function above.\r\n\r\n\r\nfunction bitFloor(n) {\r\n  var i = n | 0;\r\n  return n > 0 || n === i ? i : i - 1;\r\n}\r\n\r\n\r\n// Return a coefficient array as a string of base 10 digits.\r\nfunction coeffToString(a) {\r\n  var s, z,\r\n    i = 1,\r\n    j = a.length,\r\n    r = a[0] + '';\r\n\r\n  for (; i < j;) {\r\n    s = a[i++] + '';\r\n    z = LOG_BASE - s.length;\r\n    for (; z--; s = '0' + s);\r\n    r += s;\r\n  }\r\n\r\n  // Determine trailing zeros.\r\n  for (j = r.length; r.charCodeAt(--j) === 48;);\r\n\r\n  return r.slice(0, j + 1 || 1);\r\n}\r\n\r\n\r\n// Compare the value of BigNumbers x and y.\r\nfunction compare(x, y) {\r\n  var a, b,\r\n    xc = x.c,\r\n    yc = y.c,\r\n    i = x.s,\r\n    j = y.s,\r\n    k = x.e,\r\n    l = y.e;\r\n\r\n  // Either NaN?\r\n  if (!i || !j) return null;\r\n\r\n  a = xc && !xc[0];\r\n  b = yc && !yc[0];\r\n\r\n  // Either zero?\r\n  if (a || b) return a ? b ? 0 : -j : i;\r\n\r\n  // Signs differ?\r\n  if (i != j) return i;\r\n\r\n  a = i < 0;\r\n  b = k == l;\r\n\r\n  // Either Infinity?\r\n  if (!xc || !yc) return b ? 0 : !xc ^ a ? 1 : -1;\r\n\r\n  // Compare exponents.\r\n  if (!b) return k > l ^ a ? 1 : -1;\r\n\r\n  j = (k = xc.length) < (l = yc.length) ? k : l;\r\n\r\n  // Compare digit by digit.\r\n  for (i = 0; i < j; i++) if (xc[i] != yc[i]) return xc[i] > yc[i] ^ a ? 1 : -1;\r\n\r\n  // Compare lengths.\r\n  return k == l ? 0 : k > l ^ a ? 1 : -1;\r\n}\r\n\r\n\r\n/*\r\n * Check that n is a primitive number, an integer, and in range, otherwise throw.\r\n */\r\nfunction intCheck(n, min, max, name) {\r\n  if (n < min || n > max || n !== mathfloor(n)) {\r\n    throw Error\r\n     (bignumberError + (name || 'Argument') + (typeof n == 'number'\r\n       ? n < min || n > max ? ' out of range: ' : ' not an integer: '\r\n       : ' not a primitive number: ') + String(n));\r\n  }\r\n}\r\n\r\n\r\n// Assumes finite n.\r\nfunction isOdd(n) {\r\n  var k = n.c.length - 1;\r\n  return bitFloor(n.e / LOG_BASE) == k && n.c[k] % 2 != 0;\r\n}\r\n\r\n\r\nfunction toExponential(str, e) {\r\n  return (str.length > 1 ? str.charAt(0) + '.' + str.slice(1) : str) +\r\n   (e < 0 ? 'e' : 'e+') + e;\r\n}\r\n\r\n\r\nfunction toFixedPoint(str, e, z) {\r\n  var len, zs;\r\n\r\n  // Negative exponent?\r\n  if (e < 0) {\r\n\r\n    // Prepend zeros.\r\n    for (zs = z + '.'; ++e; zs += z);\r\n    str = zs + str;\r\n\r\n  // Positive exponent\r\n  } else {\r\n    len = str.length;\r\n\r\n    // Append zeros.\r\n    if (++e > len) {\r\n      for (zs = z, e -= len; --e; zs += z);\r\n      str += zs;\r\n    } else if (e < len) {\r\n      str = str.slice(0, e) + '.' + str.slice(e);\r\n    }\r\n  }\r\n\r\n  return str;\r\n}\r\n\r\n\r\n// EXPORT\r\n\r\n\r\nexport var BigNumber = clone();\r\n\r\nexport default BigNumber;\r\n","/* global indexedDB */\n\n'use strict'\n\nconst { AbstractLevel } = require('abstract-level')\nconst ModuleError = require('module-error')\nconst parallel = require('run-parallel-limit')\nconst { fromCallback } = require('catering')\nconst { Iterator } = require('./iterator')\nconst deserialize = require('./util/deserialize')\nconst clear = require('./util/clear')\nconst createKeyRange = require('./util/key-range')\n\n// Keep as-is for compatibility with existing level-js databases\nconst DEFAULT_PREFIX = 'level-js-'\n\nconst kIDB = Symbol('idb')\nconst kNamePrefix = Symbol('namePrefix')\nconst kLocation = Symbol('location')\nconst kVersion = Symbol('version')\nconst kStore = Symbol('store')\nconst kOnComplete = Symbol('onComplete')\nconst kPromise = Symbol('promise')\n\nclass BrowserLevel extends AbstractLevel {\n  constructor (location, options, _) {\n    // To help migrating to abstract-level\n    if (typeof options === 'function' || typeof _ === 'function') {\n      throw new ModuleError('The levelup-style callback argument has been removed', {\n        code: 'LEVEL_LEGACY'\n      })\n    }\n\n    const { prefix, version, ...forward } = options || {}\n\n    super({\n      encodings: { view: true },\n      snapshots: false,\n      createIfMissing: false,\n      errorIfExists: false,\n      seek: true\n    }, forward)\n\n    if (typeof location !== 'string') {\n      throw new Error('constructor requires a location string argument')\n    }\n\n    // TODO (next major): remove default prefix\n    this[kLocation] = location\n    this[kNamePrefix] = prefix == null ? DEFAULT_PREFIX : prefix\n    this[kVersion] = parseInt(version || 1, 10)\n    this[kIDB] = null\n  }\n\n  get location () {\n    return this[kLocation]\n  }\n\n  get namePrefix () {\n    return this[kNamePrefix]\n  }\n\n  get version () {\n    return this[kVersion]\n  }\n\n  // Exposed for backwards compat and unit tests\n  get db () {\n    return this[kIDB]\n  }\n\n  get type () {\n    return 'browser-level'\n  }\n\n  _open (options, callback) {\n    const req = indexedDB.open(this[kNamePrefix] + this[kLocation], this[kVersion])\n\n    req.onerror = function () {\n      callback(req.error || new Error('unknown error'))\n    }\n\n    req.onsuccess = () => {\n      this[kIDB] = req.result\n      callback()\n    }\n\n    req.onupgradeneeded = (ev) => {\n      const db = ev.target.result\n\n      if (!db.objectStoreNames.contains(this[kLocation])) {\n        db.createObjectStore(this[kLocation])\n      }\n    }\n  }\n\n  [kStore] (mode) {\n    const transaction = this[kIDB].transaction([this[kLocation]], mode)\n    return transaction.objectStore(this[kLocation])\n  }\n\n  [kOnComplete] (request, callback) {\n    const transaction = request.transaction\n\n    // Take advantage of the fact that a non-canceled request error aborts\n    // the transaction. I.e. no need to listen for \"request.onerror\".\n    transaction.onabort = function () {\n      callback(transaction.error || new Error('aborted by user'))\n    }\n\n    transaction.oncomplete = function () {\n      callback(null, request.result)\n    }\n  }\n\n  _get (key, options, callback) {\n    const store = this[kStore]('readonly')\n    let req\n\n    try {\n      req = store.get(key)\n    } catch (err) {\n      return this.nextTick(callback, err)\n    }\n\n    this[kOnComplete](req, function (err, value) {\n      if (err) return callback(err)\n\n      if (value === undefined) {\n        return callback(new ModuleError('Entry not found', {\n          code: 'LEVEL_NOT_FOUND'\n        }))\n      }\n\n      callback(null, deserialize(value))\n    })\n  }\n\n  _getMany (keys, options, callback) {\n    const store = this[kStore]('readonly')\n    const tasks = keys.map((key) => (next) => {\n      let request\n\n      try {\n        request = store.get(key)\n      } catch (err) {\n        return next(err)\n      }\n\n      request.onsuccess = () => {\n        const value = request.result\n        next(null, value === undefined ? value : deserialize(value))\n      }\n\n      request.onerror = (ev) => {\n        ev.stopPropagation()\n        next(request.error)\n      }\n    })\n\n    parallel(tasks, 16, callback)\n  }\n\n  _del (key, options, callback) {\n    const store = this[kStore]('readwrite')\n    let req\n\n    try {\n      req = store.delete(key)\n    } catch (err) {\n      return this.nextTick(callback, err)\n    }\n\n    this[kOnComplete](req, callback)\n  }\n\n  _put (key, value, options, callback) {\n    const store = this[kStore]('readwrite')\n    let req\n\n    try {\n      // Will throw a DataError or DataCloneError if the environment\n      // does not support serializing the key or value respectively.\n      req = store.put(value, key)\n    } catch (err) {\n      return this.nextTick(callback, err)\n    }\n\n    this[kOnComplete](req, callback)\n  }\n\n  // TODO: implement key and value iterators\n  _iterator (options) {\n    return new Iterator(this, this[kLocation], options)\n  }\n\n  _batch (operations, options, callback) {\n    const store = this[kStore]('readwrite')\n    const transaction = store.transaction\n    let index = 0\n    let error\n\n    transaction.onabort = function () {\n      callback(error || transaction.error || new Error('aborted by user'))\n    }\n\n    transaction.oncomplete = function () {\n      callback()\n    }\n\n    // Wait for a request to complete before making the next, saving CPU.\n    function loop () {\n      const op = operations[index++]\n      const key = op.key\n\n      let req\n\n      try {\n        req = op.type === 'del' ? store.delete(key) : store.put(op.value, key)\n      } catch (err) {\n        error = err\n        transaction.abort()\n        return\n      }\n\n      if (index < operations.length) {\n        req.onsuccess = loop\n      } else if (typeof transaction.commit === 'function') {\n        // Commit now instead of waiting for auto-commit\n        transaction.commit()\n      }\n    }\n\n    loop()\n  }\n\n  _clear (options, callback) {\n    let keyRange\n    let req\n\n    try {\n      keyRange = createKeyRange(options)\n    } catch (e) {\n      // The lower key is greater than the upper key.\n      // IndexedDB throws an error, but we'll just do nothing.\n      return this.nextTick(callback)\n    }\n\n    if (options.limit >= 0) {\n      // IDBObjectStore#delete(range) doesn't have such an option.\n      // Fall back to cursor-based implementation.\n      return clear(this, this[kLocation], keyRange, options, callback)\n    }\n\n    try {\n      const store = this[kStore]('readwrite')\n      req = keyRange ? store.delete(keyRange) : store.clear()\n    } catch (err) {\n      return this.nextTick(callback, err)\n    }\n\n    this[kOnComplete](req, callback)\n  }\n\n  _close (callback) {\n    this[kIDB].close()\n    this.nextTick(callback)\n  }\n}\n\nBrowserLevel.destroy = function (location, prefix, callback) {\n  if (typeof prefix === 'function') {\n    callback = prefix\n    prefix = DEFAULT_PREFIX\n  }\n\n  callback = fromCallback(callback, kPromise)\n  const request = indexedDB.deleteDatabase(prefix + location)\n\n  request.onsuccess = function () {\n    callback()\n  }\n\n  request.onerror = function (err) {\n    callback(err)\n  }\n\n  return callback[kPromise]\n}\n\nexports.BrowserLevel = BrowserLevel\n","'use strict'\n\nconst { AbstractIterator } = require('abstract-level')\nconst createKeyRange = require('./util/key-range')\nconst deserialize = require('./util/deserialize')\n\nconst kCache = Symbol('cache')\nconst kFinished = Symbol('finished')\nconst kOptions = Symbol('options')\nconst kCurrentOptions = Symbol('currentOptions')\nconst kPosition = Symbol('position')\nconst kLocation = Symbol('location')\nconst kFirst = Symbol('first')\nconst emptyOptions = {}\n\nclass Iterator extends AbstractIterator {\n  constructor (db, location, options) {\n    super(db, options)\n\n    this[kCache] = []\n    this[kFinished] = this.limit === 0\n    this[kOptions] = options\n    this[kCurrentOptions] = { ...options }\n    this[kPosition] = undefined\n    this[kLocation] = location\n    this[kFirst] = true\n  }\n\n  // Note: if called by _all() then size can be Infinity. This is an internal\n  // detail; by design AbstractIterator.nextv() does not support Infinity.\n  _nextv (size, options, callback) {\n    this[kFirst] = false\n\n    if (this[kFinished]) {\n      return this.nextTick(callback, null, [])\n    } else if (this[kCache].length > 0) {\n      // TODO: mixing next and nextv is not covered by test suite\n      size = Math.min(size, this[kCache].length)\n      return this.nextTick(callback, null, this[kCache].splice(0, size))\n    }\n\n    // Adjust range by what we already visited\n    if (this[kPosition] !== undefined) {\n      if (this[kOptions].reverse) {\n        this[kCurrentOptions].lt = this[kPosition]\n        this[kCurrentOptions].lte = undefined\n      } else {\n        this[kCurrentOptions].gt = this[kPosition]\n        this[kCurrentOptions].gte = undefined\n      }\n    }\n\n    let keyRange\n\n    try {\n      keyRange = createKeyRange(this[kCurrentOptions])\n    } catch (_) {\n      // The lower key is greater than the upper key.\n      // IndexedDB throws an error, but we'll just return 0 results.\n      this[kFinished] = true\n      return this.nextTick(callback, null, [])\n    }\n\n    const transaction = this.db.db.transaction([this[kLocation]], 'readonly')\n    const store = transaction.objectStore(this[kLocation])\n    const entries = []\n\n    if (!this[kOptions].reverse) {\n      let keys\n      let values\n\n      const complete = () => {\n        // Wait for both requests to complete\n        if (keys === undefined || values === undefined) return\n\n        const length = Math.max(keys.length, values.length)\n\n        if (length === 0 || size === Infinity) {\n          this[kFinished] = true\n        } else {\n          this[kPosition] = keys[length - 1]\n        }\n\n        // Resize\n        entries.length = length\n\n        // Merge keys and values\n        for (let i = 0; i < length; i++) {\n          const key = keys[i]\n          const value = values[i]\n\n          entries[i] = [\n            this[kOptions].keys && key !== undefined ? deserialize(key) : undefined,\n            this[kOptions].values && value !== undefined ? deserialize(value) : undefined\n          ]\n        }\n\n        maybeCommit(transaction)\n      }\n\n      // If keys were not requested and size is Infinity, we don't have to keep\n      // track of position and can thus skip getting keys.\n      if (this[kOptions].keys || size < Infinity) {\n        store.getAllKeys(keyRange, size < Infinity ? size : undefined).onsuccess = (ev) => {\n          keys = ev.target.result\n          complete()\n        }\n      } else {\n        keys = []\n        this.nextTick(complete)\n      }\n\n      if (this[kOptions].values) {\n        store.getAll(keyRange, size < Infinity ? size : undefined).onsuccess = (ev) => {\n          values = ev.target.result\n          complete()\n        }\n      } else {\n        values = []\n        this.nextTick(complete)\n      }\n    } else {\n      // Can't use getAll() in reverse, so use a slower cursor that yields one item at a time\n      // TODO: test if all target browsers support openKeyCursor\n      const method = !this[kOptions].values && store.openKeyCursor ? 'openKeyCursor' : 'openCursor'\n\n      store[method](keyRange, 'prev').onsuccess = (ev) => {\n        const cursor = ev.target.result\n\n        if (cursor) {\n          const { key, value } = cursor\n          this[kPosition] = key\n\n          entries.push([\n            this[kOptions].keys && key !== undefined ? deserialize(key) : undefined,\n            this[kOptions].values && value !== undefined ? deserialize(value) : undefined\n          ])\n\n          if (entries.length < size) {\n            cursor.continue()\n          } else {\n            maybeCommit(transaction)\n          }\n        } else {\n          this[kFinished] = true\n        }\n      }\n    }\n\n    // If an error occurs (on the request), the transaction will abort.\n    transaction.onabort = () => {\n      callback(transaction.error || new Error('aborted by user'))\n      callback = null\n    }\n\n    transaction.oncomplete = () => {\n      callback(null, entries)\n      callback = null\n    }\n  }\n\n  _next (callback) {\n    if (this[kCache].length > 0) {\n      const [key, value] = this[kCache].shift()\n      this.nextTick(callback, null, key, value)\n    } else if (this[kFinished]) {\n      this.nextTick(callback)\n    } else {\n      let size = Math.min(100, this.limit - this.count)\n\n      if (this[kFirst]) {\n        // It's common to only want one entry initially or after a seek()\n        this[kFirst] = false\n        size = 1\n      }\n\n      this._nextv(size, emptyOptions, (err, entries) => {\n        if (err) return callback(err)\n        this[kCache] = entries\n        this._next(callback)\n      })\n    }\n  }\n\n  _all (options, callback) {\n    this[kFirst] = false\n\n    // TODO: mixing next and all is not covered by test suite\n    const cache = this[kCache].splice(0, this[kCache].length)\n    const size = this.limit - this.count - cache.length\n\n    if (size <= 0) {\n      return this.nextTick(callback, null, cache)\n    }\n\n    this._nextv(size, emptyOptions, (err, entries) => {\n      if (err) return callback(err)\n      if (cache.length > 0) entries = cache.concat(entries)\n      callback(null, entries)\n    })\n  }\n\n  _seek (target, options) {\n    this[kFirst] = true\n    this[kCache] = []\n    this[kFinished] = false\n    this[kPosition] = undefined\n\n    // TODO: not covered by test suite\n    this[kCurrentOptions] = { ...this[kOptions] }\n\n    let keyRange\n\n    try {\n      keyRange = createKeyRange(this[kOptions])\n    } catch (_) {\n      this[kFinished] = true\n      return\n    }\n\n    if (keyRange !== null && !keyRange.includes(target)) {\n      this[kFinished] = true\n    } else if (this[kOptions].reverse) {\n      this[kCurrentOptions].lte = target\n    } else {\n      this[kCurrentOptions].gte = target\n    }\n  }\n}\n\nexports.Iterator = Iterator\n\nfunction maybeCommit (transaction) {\n  // Commit (meaning close) now instead of waiting for auto-commit\n  if (typeof transaction.commit === 'function') {\n    transaction.commit()\n  }\n}\n","'use strict'\n\nmodule.exports = function clear (db, location, keyRange, options, callback) {\n  if (options.limit === 0) return db.nextTick(callback)\n\n  const transaction = db.db.transaction([location], 'readwrite')\n  const store = transaction.objectStore(location)\n  let count = 0\n\n  transaction.oncomplete = function () {\n    callback()\n  }\n\n  transaction.onabort = function () {\n    callback(transaction.error || new Error('aborted by user'))\n  }\n\n  // A key cursor is faster (skips reading values) but not supported by IE\n  // TODO: we no longer support IE. Test others\n  const method = store.openKeyCursor ? 'openKeyCursor' : 'openCursor'\n  const direction = options.reverse ? 'prev' : 'next'\n\n  store[method](keyRange, direction).onsuccess = function (ev) {\n    const cursor = ev.target.result\n\n    if (cursor) {\n      // Wait for a request to complete before continuing, saving CPU.\n      store.delete(cursor.key).onsuccess = function () {\n        if (options.limit <= 0 || ++count < options.limit) {\n          cursor.continue()\n        }\n      }\n    }\n  }\n}\n","'use strict'\n\nconst textEncoder = new TextEncoder()\n\nmodule.exports = function (data) {\n  if (data instanceof Uint8Array) {\n    return data\n  } else if (data instanceof ArrayBuffer) {\n    return new Uint8Array(data)\n  } else {\n    // Non-binary data stored with an old version (level-js < 5.0.0)\n    return textEncoder.encode(data)\n  }\n}\n","/* global IDBKeyRange */\n\n'use strict'\n\nmodule.exports = function createKeyRange (options) {\n  const lower = options.gte !== undefined ? options.gte : options.gt !== undefined ? options.gt : undefined\n  const upper = options.lte !== undefined ? options.lte : options.lt !== undefined ? options.lt : undefined\n  const lowerExclusive = options.gte === undefined\n  const upperExclusive = options.lte === undefined\n\n  if (lower !== undefined && upper !== undefined) {\n    return IDBKeyRange.bound(lower, upper, lowerExclusive, upperExclusive)\n  } else if (lower !== undefined) {\n    return IDBKeyRange.lowerBound(lower, lowerExclusive)\n  } else if (upper !== undefined) {\n    return IDBKeyRange.upperBound(upper, upperExclusive)\n  } else {\n    return null\n  }\n}\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar customInspectSymbol =\n  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation\n    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation\n    : null\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\nvar K_MAX_LENGTH = 0x7fffffff\nexports.kMaxLength = K_MAX_LENGTH\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport()\n\nif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n    typeof console.error === 'function') {\n  console.error(\n    'This browser lacks typed array (Uint8Array) support which is required by ' +\n    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n  )\n}\n\nfunction typedArraySupport () {\n  // Can typed array instances can be augmented?\n  try {\n    var arr = new Uint8Array(1)\n    var proto = { foo: function () { return 42 } }\n    Object.setPrototypeOf(proto, Uint8Array.prototype)\n    Object.setPrototypeOf(arr, proto)\n    return arr.foo() === 42\n  } catch (e) {\n    return false\n  }\n}\n\nObject.defineProperty(Buffer.prototype, 'parent', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.buffer\n  }\n})\n\nObject.defineProperty(Buffer.prototype, 'offset', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.byteOffset\n  }\n})\n\nfunction createBuffer (length) {\n  if (length > K_MAX_LENGTH) {\n    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n  }\n  // Return an augmented `Uint8Array` instance\n  var buf = new Uint8Array(length)\n  Object.setPrototypeOf(buf, Buffer.prototype)\n  return buf\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new TypeError(\n        'The \"string\" argument must be of type string. Received type number'\n      )\n    }\n    return allocUnsafe(arg)\n  }\n  return from(arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\nfunction from (value, encodingOrOffset, length) {\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  if (ArrayBuffer.isView(value)) {\n    return fromArrayView(value)\n  }\n\n  if (value == null) {\n    throw new TypeError(\n      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n      'or Array-like Object. Received type ' + (typeof value)\n    )\n  }\n\n  if (isInstance(value, ArrayBuffer) ||\n      (value && isInstance(value.buffer, ArrayBuffer))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof SharedArrayBuffer !== 'undefined' &&\n      (isInstance(value, SharedArrayBuffer) ||\n      (value && isInstance(value.buffer, SharedArrayBuffer)))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'number') {\n    throw new TypeError(\n      'The \"value\" argument must not be of type number. Received type number'\n    )\n  }\n\n  var valueOf = value.valueOf && value.valueOf()\n  if (valueOf != null && valueOf !== value) {\n    return Buffer.from(valueOf, encodingOrOffset, length)\n  }\n\n  var b = fromObject(value)\n  if (b) return b\n\n  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n      typeof value[Symbol.toPrimitive] === 'function') {\n    return Buffer.from(\n      value[Symbol.toPrimitive]('string'), encodingOrOffset, length\n    )\n  }\n\n  throw new TypeError(\n    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n    'or Array-like Object. Received type ' + (typeof value)\n  )\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(value, encodingOrOffset, length)\n}\n\n// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\nObject.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)\nObject.setPrototypeOf(Buffer, Uint8Array)\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be of type number')\n  } else if (size < 0) {\n    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n  }\n}\n\nfunction alloc (size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpreted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(size).fill(fill, encoding)\n      : createBuffer(size).fill(fill)\n  }\n  return createBuffer(size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(size, fill, encoding)\n}\n\nfunction allocUnsafe (size) {\n  assertSize(size)\n  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(size)\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('Unknown encoding: ' + encoding)\n  }\n\n  var length = byteLength(string, encoding) | 0\n  var buf = createBuffer(length)\n\n  var actual = buf.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual)\n  }\n\n  return buf\n}\n\nfunction fromArrayLike (array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  var buf = createBuffer(length)\n  for (var i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255\n  }\n  return buf\n}\n\nfunction fromArrayView (arrayView) {\n  if (isInstance(arrayView, Uint8Array)) {\n    var copy = new Uint8Array(arrayView)\n    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)\n  }\n  return fromArrayLike(arrayView)\n}\n\nfunction fromArrayBuffer (array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\"offset\" is outside of buffer bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\"length\" is outside of buffer bounds')\n  }\n\n  var buf\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array)\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset)\n  } else {\n    buf = new Uint8Array(array, byteOffset, length)\n  }\n\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(buf, Buffer.prototype)\n\n  return buf\n}\n\nfunction fromObject (obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    var buf = createBuffer(len)\n\n    if (buf.length === 0) {\n      return buf\n    }\n\n    obj.copy(buf, 0, 0, len)\n    return buf\n  }\n\n  if (obj.length !== undefined) {\n    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n      return createBuffer(0)\n    }\n    return fromArrayLike(obj)\n  }\n\n  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n    return fromArrayLike(obj.data)\n  }\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return b != null && b._isBuffer === true &&\n    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n}\n\nBuffer.compare = function compare (a, b) {\n  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)\n  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError(\n      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n    )\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (isInstance(buf, Uint8Array)) {\n      if (pos + buf.length > buffer.length) {\n        Buffer.from(buf).copy(buffer, pos)\n      } else {\n        Uint8Array.prototype.set.call(\n          buffer,\n          buf,\n          pos\n        )\n      }\n    } else if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    } else {\n      buf.copy(buffer, pos)\n    }\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    throw new TypeError(\n      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n      'Received type ' + typeof string\n    )\n  }\n\n  var len = string.length\n  var mustMatch = (arguments.length > 2 && arguments[2] === true)\n  if (!mustMatch && len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) {\n          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n        }\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.toLocaleString = Buffer.prototype.toString\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()\n  if (this.length > max) str += ' ... '\n  return '<Buffer ' + str + '>'\n}\nif (customInspectSymbol) {\n  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (isInstance(target, Uint8Array)) {\n    target = Buffer.from(target, target.offset, target.byteLength)\n  }\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError(\n      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n      'Received type ' + (typeof target)\n    )\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset // Coerce to Number.\n  if (numberIsNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  var strLen = string.length\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (numberIsNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset >>> 0\n    if (isFinite(length)) {\n      length = length >>> 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return asciiWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF)\n      ? 4\n      : (firstByte > 0xDF)\n          ? 3\n          : (firstByte > 0xBF)\n              ? 2\n              : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += hexSliceLookupTable[buf[i]]\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)\n  for (var i = 0; i < bytes.length - 1; i += 2) {\n    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf = this.subarray(start, end)\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(newBuf, Buffer.prototype)\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUintLE =\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUintBE =\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUint8 =\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUint16LE =\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUint16BE =\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUint32LE =\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUint32BE =\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUintLE =\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUintBE =\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUint8 =\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeUint16LE =\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint16BE =\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint32LE =\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset + 3] = (value >>> 24)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 1] = (value >>> 8)\n  this[offset] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeUint32BE =\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    var limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    var limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 3] = (value >>> 24)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n\n  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {\n    // Use built-in when available, missing from IE11\n    this.copyWithin(targetStart, start, end)\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, end),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if ((encoding === 'utf8' && code < 128) ||\n          encoding === 'latin1') {\n        // Fast path: If `val` fits into a single byte, use that numeric value.\n        val = code\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  } else if (typeof val === 'boolean') {\n    val = Number(val)\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : Buffer.from(val, encoding)\n    var len = bytes.length\n    if (len === 0) {\n      throw new TypeError('The value \"' + val +\n        '\" is invalid for argument \"value\"')\n    }\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node takes equal signs as end of the Base64 encoding\n  str = str.split('=')[0]\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = str.trim().replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n// the `instanceof` check but they should be treated as of that type.\n// See: https://github.com/feross/buffer/issues/166\nfunction isInstance (obj, type) {\n  return obj instanceof type ||\n    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n      obj.constructor.name === type.name)\n}\nfunction numberIsNaN (obj) {\n  // For IE11 support\n  return obj !== obj // eslint-disable-line no-self-compare\n}\n\n// Create lookup table for `toString('hex')`\n// See: https://github.com/feross/buffer/issues/219\nvar hexSliceLookupTable = (function () {\n  var alphabet = '0123456789abcdef'\n  var table = new Array(256)\n  for (var i = 0; i < 16; ++i) {\n    var i16 = i * 16\n    for (var j = 0; j < 16; ++j) {\n      table[i16 + j] = alphabet[i] + alphabet[j]\n    }\n  }\n  return table\n})()\n","/*!\n * bytes\n * Copyright(c) 2012-2014 TJ Holowaychuk\n * Copyright(c) 2015 Jed Watson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = bytes;\nmodule.exports.format = format;\nmodule.exports.parse = parse;\n\n/**\n * Module variables.\n * @private\n */\n\nvar formatThousandsRegExp = /\\B(?=(\\d{3})+(?!\\d))/g;\n\nvar formatDecimalsRegExp = /(?:\\.0*|(\\.[^0]+)0+)$/;\n\nvar map = {\n  b:  1,\n  kb: 1 << 10,\n  mb: 1 << 20,\n  gb: 1 << 30,\n  tb: Math.pow(1024, 4),\n  pb: Math.pow(1024, 5),\n};\n\nvar parseRegExp = /^((-|\\+)?(\\d+(?:\\.\\d+)?)) *(kb|mb|gb|tb|pb)$/i;\n\n/**\n * Convert the given value in bytes into a string or parse to string to an integer in bytes.\n *\n * @param {string|number} value\n * @param {{\n *  case: [string],\n *  decimalPlaces: [number]\n *  fixedDecimals: [boolean]\n *  thousandsSeparator: [string]\n *  unitSeparator: [string]\n *  }} [options] bytes options.\n *\n * @returns {string|number|null}\n */\n\nfunction bytes(value, options) {\n  if (typeof value === 'string') {\n    return parse(value);\n  }\n\n  if (typeof value === 'number') {\n    return format(value, options);\n  }\n\n  return null;\n}\n\n/**\n * Format the given value in bytes into a string.\n *\n * If the value is negative, it is kept as such. If it is a float,\n * it is rounded.\n *\n * @param {number} value\n * @param {object} [options]\n * @param {number} [options.decimalPlaces=2]\n * @param {number} [options.fixedDecimals=false]\n * @param {string} [options.thousandsSeparator=]\n * @param {string} [options.unit=]\n * @param {string} [options.unitSeparator=]\n *\n * @returns {string|null}\n * @public\n */\n\nfunction format(value, options) {\n  if (!Number.isFinite(value)) {\n    return null;\n  }\n\n  var mag = Math.abs(value);\n  var thousandsSeparator = (options && options.thousandsSeparator) || '';\n  var unitSeparator = (options && options.unitSeparator) || '';\n  var decimalPlaces = (options && options.decimalPlaces !== undefined) ? options.decimalPlaces : 2;\n  var fixedDecimals = Boolean(options && options.fixedDecimals);\n  var unit = (options && options.unit) || '';\n\n  if (!unit || !map[unit.toLowerCase()]) {\n    if (mag >= map.pb) {\n      unit = 'PB';\n    } else if (mag >= map.tb) {\n      unit = 'TB';\n    } else if (mag >= map.gb) {\n      unit = 'GB';\n    } else if (mag >= map.mb) {\n      unit = 'MB';\n    } else if (mag >= map.kb) {\n      unit = 'KB';\n    } else {\n      unit = 'B';\n    }\n  }\n\n  var val = value / map[unit.toLowerCase()];\n  var str = val.toFixed(decimalPlaces);\n\n  if (!fixedDecimals) {\n    str = str.replace(formatDecimalsRegExp, '$1');\n  }\n\n  if (thousandsSeparator) {\n    str = str.split('.').map(function (s, i) {\n      return i === 0\n        ? s.replace(formatThousandsRegExp, thousandsSeparator)\n        : s\n    }).join('.');\n  }\n\n  return str + unitSeparator + unit;\n}\n\n/**\n * Parse the string value into an integer in bytes.\n *\n * If no unit is given, it is assumed the value is in bytes.\n *\n * @param {number|string} val\n *\n * @returns {number|null}\n * @public\n */\n\nfunction parse(val) {\n  if (typeof val === 'number' && !isNaN(val)) {\n    return val;\n  }\n\n  if (typeof val !== 'string') {\n    return null;\n  }\n\n  // Test if the string passed is valid\n  var results = parseRegExp.exec(val);\n  var floatValue;\n  var unit = 'b';\n\n  if (!results) {\n    // Nothing could be extracted from the given string\n    floatValue = parseInt(val, 10);\n    unit = 'b'\n  } else {\n    // Retrieve the value and the unit\n    floatValue = parseFloat(results[1]);\n    unit = results[4].toLowerCase();\n  }\n\n  if (isNaN(floatValue)) {\n    return null;\n  }\n\n  return Math.floor(map[unit] * floatValue);\n}\n","'use strict'\n\nvar nextTick = require('./next-tick')\n\nexports.fromCallback = function (callback, symbol) {\n  if (callback === undefined) {\n    var promise = new Promise(function (resolve, reject) {\n      callback = function (err, res) {\n        if (err) reject(err)\n        else resolve(res)\n      }\n    })\n\n    callback[symbol !== undefined ? symbol : 'promise'] = promise\n  } else if (typeof callback !== 'function') {\n    throw new TypeError('Callback must be a function')\n  }\n\n  return callback\n}\n\nexports.fromPromise = function (promise, callback) {\n  if (callback === undefined) return promise\n\n  promise\n    .then(function (res) { nextTick(() => callback(null, res)) })\n    .catch(function (err) { nextTick(() => callback(err)) })\n}\n","module.exports = typeof queueMicrotask === 'function' ? queueMicrotask : (fn) => Promise.resolve().then(fn)\n","/**\n * @license\n * Copyright 2019 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\nconst proxyMarker = Symbol(\"Comlink.proxy\");\nconst createEndpoint = Symbol(\"Comlink.endpoint\");\nconst releaseProxy = Symbol(\"Comlink.releaseProxy\");\nconst finalizer = Symbol(\"Comlink.finalizer\");\nconst throwMarker = Symbol(\"Comlink.thrown\");\nconst isObject = (val) => (typeof val === \"object\" && val !== null) || typeof val === \"function\";\n/**\n * Internal transfer handle to handle objects marked to proxy.\n */\nconst proxyTransferHandler = {\n    canHandle: (val) => isObject(val) && val[proxyMarker],\n    serialize(obj) {\n        const { port1, port2 } = new MessageChannel();\n        expose(obj, port1);\n        return [port2, [port2]];\n    },\n    deserialize(port) {\n        port.start();\n        return wrap(port);\n    },\n};\n/**\n * Internal transfer handler to handle thrown exceptions.\n */\nconst throwTransferHandler = {\n    canHandle: (value) => isObject(value) && throwMarker in value,\n    serialize({ value }) {\n        let serialized;\n        if (value instanceof Error) {\n            serialized = {\n                isError: true,\n                value: {\n                    message: value.message,\n                    name: value.name,\n                    stack: value.stack,\n                },\n            };\n        }\n        else {\n            serialized = { isError: false, value };\n        }\n        return [serialized, []];\n    },\n    deserialize(serialized) {\n        if (serialized.isError) {\n            throw Object.assign(new Error(serialized.value.message), serialized.value);\n        }\n        throw serialized.value;\n    },\n};\n/**\n * Allows customizing the serialization of certain values.\n */\nconst transferHandlers = new Map([\n    [\"proxy\", proxyTransferHandler],\n    [\"throw\", throwTransferHandler],\n]);\nfunction isAllowedOrigin(allowedOrigins, origin) {\n    for (const allowedOrigin of allowedOrigins) {\n        if (origin === allowedOrigin || allowedOrigin === \"*\") {\n            return true;\n        }\n        if (allowedOrigin instanceof RegExp && allowedOrigin.test(origin)) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction expose(obj, ep = globalThis, allowedOrigins = [\"*\"]) {\n    ep.addEventListener(\"message\", function callback(ev) {\n        if (!ev || !ev.data) {\n            return;\n        }\n        if (!isAllowedOrigin(allowedOrigins, ev.origin)) {\n            console.warn(`Invalid origin '${ev.origin}' for comlink proxy`);\n            return;\n        }\n        const { id, type, path } = Object.assign({ path: [] }, ev.data);\n        const argumentList = (ev.data.argumentList || []).map(fromWireValue);\n        let returnValue;\n        try {\n            const parent = path.slice(0, -1).reduce((obj, prop) => obj[prop], obj);\n            const rawValue = path.reduce((obj, prop) => obj[prop], obj);\n            switch (type) {\n                case \"GET\" /* MessageType.GET */:\n                    {\n                        returnValue = rawValue;\n                    }\n                    break;\n                case \"SET\" /* MessageType.SET */:\n                    {\n                        parent[path.slice(-1)[0]] = fromWireValue(ev.data.value);\n                        returnValue = true;\n                    }\n                    break;\n                case \"APPLY\" /* MessageType.APPLY */:\n                    {\n                        returnValue = rawValue.apply(parent, argumentList);\n                    }\n                    break;\n                case \"CONSTRUCT\" /* MessageType.CONSTRUCT */:\n                    {\n                        const value = new rawValue(...argumentList);\n                        returnValue = proxy(value);\n                    }\n                    break;\n                case \"ENDPOINT\" /* MessageType.ENDPOINT */:\n                    {\n                        const { port1, port2 } = new MessageChannel();\n                        expose(obj, port2);\n                        returnValue = transfer(port1, [port1]);\n                    }\n                    break;\n                case \"RELEASE\" /* MessageType.RELEASE */:\n                    {\n                        returnValue = undefined;\n                    }\n                    break;\n                default:\n                    return;\n            }\n        }\n        catch (value) {\n            returnValue = { value, [throwMarker]: 0 };\n        }\n        Promise.resolve(returnValue)\n            .catch((value) => {\n            return { value, [throwMarker]: 0 };\n        })\n            .then((returnValue) => {\n            const [wireValue, transferables] = toWireValue(returnValue);\n            ep.postMessage(Object.assign(Object.assign({}, wireValue), { id }), transferables);\n            if (type === \"RELEASE\" /* MessageType.RELEASE */) {\n                // detach and deactive after sending release response above.\n                ep.removeEventListener(\"message\", callback);\n                closeEndPoint(ep);\n                if (finalizer in obj && typeof obj[finalizer] === \"function\") {\n                    obj[finalizer]();\n                }\n            }\n        })\n            .catch((error) => {\n            // Send Serialization Error To Caller\n            const [wireValue, transferables] = toWireValue({\n                value: new TypeError(\"Unserializable return value\"),\n                [throwMarker]: 0,\n            });\n            ep.postMessage(Object.assign(Object.assign({}, wireValue), { id }), transferables);\n        });\n    });\n    if (ep.start) {\n        ep.start();\n    }\n}\nfunction isMessagePort(endpoint) {\n    return endpoint.constructor.name === \"MessagePort\";\n}\nfunction closeEndPoint(endpoint) {\n    if (isMessagePort(endpoint))\n        endpoint.close();\n}\nfunction wrap(ep, target) {\n    return createProxy(ep, [], target);\n}\nfunction throwIfProxyReleased(isReleased) {\n    if (isReleased) {\n        throw new Error(\"Proxy has been released and is not useable\");\n    }\n}\nfunction releaseEndpoint(ep) {\n    return requestResponseMessage(ep, {\n        type: \"RELEASE\" /* MessageType.RELEASE */,\n    }).then(() => {\n        closeEndPoint(ep);\n    });\n}\nconst proxyCounter = new WeakMap();\nconst proxyFinalizers = \"FinalizationRegistry\" in globalThis &&\n    new FinalizationRegistry((ep) => {\n        const newCount = (proxyCounter.get(ep) || 0) - 1;\n        proxyCounter.set(ep, newCount);\n        if (newCount === 0) {\n            releaseEndpoint(ep);\n        }\n    });\nfunction registerProxy(proxy, ep) {\n    const newCount = (proxyCounter.get(ep) || 0) + 1;\n    proxyCounter.set(ep, newCount);\n    if (proxyFinalizers) {\n        proxyFinalizers.register(proxy, ep, proxy);\n    }\n}\nfunction unregisterProxy(proxy) {\n    if (proxyFinalizers) {\n        proxyFinalizers.unregister(proxy);\n    }\n}\nfunction createProxy(ep, path = [], target = function () { }) {\n    let isProxyReleased = false;\n    const proxy = new Proxy(target, {\n        get(_target, prop) {\n            throwIfProxyReleased(isProxyReleased);\n            if (prop === releaseProxy) {\n                return () => {\n                    unregisterProxy(proxy);\n                    releaseEndpoint(ep);\n                    isProxyReleased = true;\n                };\n            }\n            if (prop === \"then\") {\n                if (path.length === 0) {\n                    return { then: () => proxy };\n                }\n                const r = requestResponseMessage(ep, {\n                    type: \"GET\" /* MessageType.GET */,\n                    path: path.map((p) => p.toString()),\n                }).then(fromWireValue);\n                return r.then.bind(r);\n            }\n            return createProxy(ep, [...path, prop]);\n        },\n        set(_target, prop, rawValue) {\n            throwIfProxyReleased(isProxyReleased);\n            // FIXME: ES6 Proxy Handler `set` methods are supposed to return a\n            // boolean. To show good will, we return true asynchronously ¯\\_(ツ)_/¯\n            const [value, transferables] = toWireValue(rawValue);\n            return requestResponseMessage(ep, {\n                type: \"SET\" /* MessageType.SET */,\n                path: [...path, prop].map((p) => p.toString()),\n                value,\n            }, transferables).then(fromWireValue);\n        },\n        apply(_target, _thisArg, rawArgumentList) {\n            throwIfProxyReleased(isProxyReleased);\n            const last = path[path.length - 1];\n            if (last === createEndpoint) {\n                return requestResponseMessage(ep, {\n                    type: \"ENDPOINT\" /* MessageType.ENDPOINT */,\n                }).then(fromWireValue);\n            }\n            // We just pretend that `bind()` didn’t happen.\n            if (last === \"bind\") {\n                return createProxy(ep, path.slice(0, -1));\n            }\n            const [argumentList, transferables] = processArguments(rawArgumentList);\n            return requestResponseMessage(ep, {\n                type: \"APPLY\" /* MessageType.APPLY */,\n                path: path.map((p) => p.toString()),\n                argumentList,\n            }, transferables).then(fromWireValue);\n        },\n        construct(_target, rawArgumentList) {\n            throwIfProxyReleased(isProxyReleased);\n            const [argumentList, transferables] = processArguments(rawArgumentList);\n            return requestResponseMessage(ep, {\n                type: \"CONSTRUCT\" /* MessageType.CONSTRUCT */,\n                path: path.map((p) => p.toString()),\n                argumentList,\n            }, transferables).then(fromWireValue);\n        },\n    });\n    registerProxy(proxy, ep);\n    return proxy;\n}\nfunction myFlat(arr) {\n    return Array.prototype.concat.apply([], arr);\n}\nfunction processArguments(argumentList) {\n    const processed = argumentList.map(toWireValue);\n    return [processed.map((v) => v[0]), myFlat(processed.map((v) => v[1]))];\n}\nconst transferCache = new WeakMap();\nfunction transfer(obj, transfers) {\n    transferCache.set(obj, transfers);\n    return obj;\n}\nfunction proxy(obj) {\n    return Object.assign(obj, { [proxyMarker]: true });\n}\nfunction windowEndpoint(w, context = globalThis, targetOrigin = \"*\") {\n    return {\n        postMessage: (msg, transferables) => w.postMessage(msg, targetOrigin, transferables),\n        addEventListener: context.addEventListener.bind(context),\n        removeEventListener: context.removeEventListener.bind(context),\n    };\n}\nfunction toWireValue(value) {\n    for (const [name, handler] of transferHandlers) {\n        if (handler.canHandle(value)) {\n            const [serializedValue, transferables] = handler.serialize(value);\n            return [\n                {\n                    type: \"HANDLER\" /* WireValueType.HANDLER */,\n                    name,\n                    value: serializedValue,\n                },\n                transferables,\n            ];\n        }\n    }\n    return [\n        {\n            type: \"RAW\" /* WireValueType.RAW */,\n            value,\n        },\n        transferCache.get(value) || [],\n    ];\n}\nfunction fromWireValue(value) {\n    switch (value.type) {\n        case \"HANDLER\" /* WireValueType.HANDLER */:\n            return transferHandlers.get(value.name).deserialize(value.value);\n        case \"RAW\" /* WireValueType.RAW */:\n            return value.value;\n    }\n}\nfunction requestResponseMessage(ep, msg, transfers) {\n    return new Promise((resolve) => {\n        const id = generateUUID();\n        ep.addEventListener(\"message\", function l(ev) {\n            if (!ev.data || !ev.data.id || ev.data.id !== id) {\n                return;\n            }\n            ep.removeEventListener(\"message\", l);\n            resolve(ev.data);\n        });\n        if (ep.start) {\n            ep.start();\n        }\n        ep.postMessage(Object.assign({ id }, msg), transfers);\n    });\n}\nfunction generateUUID() {\n    return new Array(4)\n        .fill(0)\n        .map(() => Math.floor(Math.random() * Number.MAX_SAFE_INTEGER).toString(16))\n        .join(\"-\");\n}\n\nexport { createEndpoint, expose, finalizer, proxy, proxyMarker, releaseProxy, transfer, transferHandlers, windowEndpoint, wrap };\n//# sourceMappingURL=comlink.mjs.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TallyParams = exports.VotingParams = exports.DepositParams = exports.Vote = exports.TallyResult = exports.Proposal = exports.Deposit = exports.TextProposal = exports.WeightedVoteOption = exports.proposalStatusToJSON = exports.proposalStatusFromJSON = exports.ProposalStatus = exports.voteOptionToJSON = exports.voteOptionFromJSON = exports.VoteOption = exports.protobufPackage = void 0;\n/* eslint-disable */\nconst coin_1 = require(\"../../base/v1beta1/coin\");\nconst any_1 = require(\"../../../google/protobuf/any\");\nconst timestamp_1 = require(\"../../../google/protobuf/timestamp\");\nconst duration_1 = require(\"../../../google/protobuf/duration\");\nconst binary_1 = require(\"../../../binary\");\nconst helpers_1 = require(\"../../../helpers\");\nexports.protobufPackage = \"cosmos.gov.v1beta1\";\n/** VoteOption enumerates the valid vote options for a given governance proposal. */\nvar VoteOption;\n(function (VoteOption) {\n    /** VOTE_OPTION_UNSPECIFIED - VOTE_OPTION_UNSPECIFIED defines a no-op vote option. */\n    VoteOption[VoteOption[\"VOTE_OPTION_UNSPECIFIED\"] = 0] = \"VOTE_OPTION_UNSPECIFIED\";\n    /** VOTE_OPTION_YES - VOTE_OPTION_YES defines a yes vote option. */\n    VoteOption[VoteOption[\"VOTE_OPTION_YES\"] = 1] = \"VOTE_OPTION_YES\";\n    /** VOTE_OPTION_ABSTAIN - VOTE_OPTION_ABSTAIN defines an abstain vote option. */\n    VoteOption[VoteOption[\"VOTE_OPTION_ABSTAIN\"] = 2] = \"VOTE_OPTION_ABSTAIN\";\n    /** VOTE_OPTION_NO - VOTE_OPTION_NO defines a no vote option. */\n    VoteOption[VoteOption[\"VOTE_OPTION_NO\"] = 3] = \"VOTE_OPTION_NO\";\n    /** VOTE_OPTION_NO_WITH_VETO - VOTE_OPTION_NO_WITH_VETO defines a no with veto vote option. */\n    VoteOption[VoteOption[\"VOTE_OPTION_NO_WITH_VETO\"] = 4] = \"VOTE_OPTION_NO_WITH_VETO\";\n    VoteOption[VoteOption[\"UNRECOGNIZED\"] = -1] = \"UNRECOGNIZED\";\n})(VoteOption || (exports.VoteOption = VoteOption = {}));\nfunction voteOptionFromJSON(object) {\n    switch (object) {\n        case 0:\n        case \"VOTE_OPTION_UNSPECIFIED\":\n            return VoteOption.VOTE_OPTION_UNSPECIFIED;\n        case 1:\n        case \"VOTE_OPTION_YES\":\n            return VoteOption.VOTE_OPTION_YES;\n        case 2:\n        case \"VOTE_OPTION_ABSTAIN\":\n            return VoteOption.VOTE_OPTION_ABSTAIN;\n        case 3:\n        case \"VOTE_OPTION_NO\":\n            return VoteOption.VOTE_OPTION_NO;\n        case 4:\n        case \"VOTE_OPTION_NO_WITH_VETO\":\n            return VoteOption.VOTE_OPTION_NO_WITH_VETO;\n        case -1:\n        case \"UNRECOGNIZED\":\n        default:\n            return VoteOption.UNRECOGNIZED;\n    }\n}\nexports.voteOptionFromJSON = voteOptionFromJSON;\nfunction voteOptionToJSON(object) {\n    switch (object) {\n        case VoteOption.VOTE_OPTION_UNSPECIFIED:\n            return \"VOTE_OPTION_UNSPECIFIED\";\n        case VoteOption.VOTE_OPTION_YES:\n            return \"VOTE_OPTION_YES\";\n        case VoteOption.VOTE_OPTION_ABSTAIN:\n            return \"VOTE_OPTION_ABSTAIN\";\n        case VoteOption.VOTE_OPTION_NO:\n            return \"VOTE_OPTION_NO\";\n        case VoteOption.VOTE_OPTION_NO_WITH_VETO:\n            return \"VOTE_OPTION_NO_WITH_VETO\";\n        case VoteOption.UNRECOGNIZED:\n        default:\n            return \"UNRECOGNIZED\";\n    }\n}\nexports.voteOptionToJSON = voteOptionToJSON;\n/** ProposalStatus enumerates the valid statuses of a proposal. */\nvar ProposalStatus;\n(function (ProposalStatus) {\n    /** PROPOSAL_STATUS_UNSPECIFIED - PROPOSAL_STATUS_UNSPECIFIED defines the default proposal status. */\n    ProposalStatus[ProposalStatus[\"PROPOSAL_STATUS_UNSPECIFIED\"] = 0] = \"PROPOSAL_STATUS_UNSPECIFIED\";\n    /**\n     * PROPOSAL_STATUS_DEPOSIT_PERIOD - PROPOSAL_STATUS_DEPOSIT_PERIOD defines a proposal status during the deposit\n     * period.\n     */\n    ProposalStatus[ProposalStatus[\"PROPOSAL_STATUS_DEPOSIT_PERIOD\"] = 1] = \"PROPOSAL_STATUS_DEPOSIT_PERIOD\";\n    /**\n     * PROPOSAL_STATUS_VOTING_PERIOD - PROPOSAL_STATUS_VOTING_PERIOD defines a proposal status during the voting\n     * period.\n     */\n    ProposalStatus[ProposalStatus[\"PROPOSAL_STATUS_VOTING_PERIOD\"] = 2] = \"PROPOSAL_STATUS_VOTING_PERIOD\";\n    /**\n     * PROPOSAL_STATUS_PASSED - PROPOSAL_STATUS_PASSED defines a proposal status of a proposal that has\n     * passed.\n     */\n    ProposalStatus[ProposalStatus[\"PROPOSAL_STATUS_PASSED\"] = 3] = \"PROPOSAL_STATUS_PASSED\";\n    /**\n     * PROPOSAL_STATUS_REJECTED - PROPOSAL_STATUS_REJECTED defines a proposal status of a proposal that has\n     * been rejected.\n     */\n    ProposalStatus[ProposalStatus[\"PROPOSAL_STATUS_REJECTED\"] = 4] = \"PROPOSAL_STATUS_REJECTED\";\n    /**\n     * PROPOSAL_STATUS_FAILED - PROPOSAL_STATUS_FAILED defines a proposal status of a proposal that has\n     * failed.\n     */\n    ProposalStatus[ProposalStatus[\"PROPOSAL_STATUS_FAILED\"] = 5] = \"PROPOSAL_STATUS_FAILED\";\n    ProposalStatus[ProposalStatus[\"UNRECOGNIZED\"] = -1] = \"UNRECOGNIZED\";\n})(ProposalStatus || (exports.ProposalStatus = ProposalStatus = {}));\nfunction proposalStatusFromJSON(object) {\n    switch (object) {\n        case 0:\n        case \"PROPOSAL_STATUS_UNSPECIFIED\":\n            return ProposalStatus.PROPOSAL_STATUS_UNSPECIFIED;\n        case 1:\n        case \"PROPOSAL_STATUS_DEPOSIT_PERIOD\":\n            return ProposalStatus.PROPOSAL_STATUS_DEPOSIT_PERIOD;\n        case 2:\n        case \"PROPOSAL_STATUS_VOTING_PERIOD\":\n            return ProposalStatus.PROPOSAL_STATUS_VOTING_PERIOD;\n        case 3:\n        case \"PROPOSAL_STATUS_PASSED\":\n            return ProposalStatus.PROPOSAL_STATUS_PASSED;\n        case 4:\n        case \"PROPOSAL_STATUS_REJECTED\":\n            return ProposalStatus.PROPOSAL_STATUS_REJECTED;\n        case 5:\n        case \"PROPOSAL_STATUS_FAILED\":\n            return ProposalStatus.PROPOSAL_STATUS_FAILED;\n        case -1:\n        case \"UNRECOGNIZED\":\n        default:\n            return ProposalStatus.UNRECOGNIZED;\n    }\n}\nexports.proposalStatusFromJSON = proposalStatusFromJSON;\nfunction proposalStatusToJSON(object) {\n    switch (object) {\n        case ProposalStatus.PROPOSAL_STATUS_UNSPECIFIED:\n            return \"PROPOSAL_STATUS_UNSPECIFIED\";\n        case ProposalStatus.PROPOSAL_STATUS_DEPOSIT_PERIOD:\n            return \"PROPOSAL_STATUS_DEPOSIT_PERIOD\";\n        case ProposalStatus.PROPOSAL_STATUS_VOTING_PERIOD:\n            return \"PROPOSAL_STATUS_VOTING_PERIOD\";\n        case ProposalStatus.PROPOSAL_STATUS_PASSED:\n            return \"PROPOSAL_STATUS_PASSED\";\n        case ProposalStatus.PROPOSAL_STATUS_REJECTED:\n            return \"PROPOSAL_STATUS_REJECTED\";\n        case ProposalStatus.PROPOSAL_STATUS_FAILED:\n            return \"PROPOSAL_STATUS_FAILED\";\n        case ProposalStatus.UNRECOGNIZED:\n        default:\n            return \"UNRECOGNIZED\";\n    }\n}\nexports.proposalStatusToJSON = proposalStatusToJSON;\nfunction createBaseWeightedVoteOption() {\n    return {\n        option: 0,\n        weight: \"\",\n    };\n}\nexports.WeightedVoteOption = {\n    typeUrl: \"/cosmos.gov.v1beta1.WeightedVoteOption\",\n    encode(message, writer = binary_1.BinaryWriter.create()) {\n        if (message.option !== 0) {\n            writer.uint32(8).int32(message.option);\n        }\n        if (message.weight !== \"\") {\n            writer.uint32(18).string(message.weight);\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBaseWeightedVoteOption();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.option = reader.int32();\n                    break;\n                case 2:\n                    message.weight = reader.string();\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const obj = createBaseWeightedVoteOption();\n        if ((0, helpers_1.isSet)(object.option))\n            obj.option = voteOptionFromJSON(object.option);\n        if ((0, helpers_1.isSet)(object.weight))\n            obj.weight = String(object.weight);\n        return obj;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.option !== undefined && (obj.option = voteOptionToJSON(message.option));\n        message.weight !== undefined && (obj.weight = message.weight);\n        return obj;\n    },\n    fromPartial(object) {\n        const message = createBaseWeightedVoteOption();\n        message.option = object.option ?? 0;\n        message.weight = object.weight ?? \"\";\n        return message;\n    },\n};\nfunction createBaseTextProposal() {\n    return {\n        title: \"\",\n        description: \"\",\n    };\n}\nexports.TextProposal = {\n    typeUrl: \"/cosmos.gov.v1beta1.TextProposal\",\n    encode(message, writer = binary_1.BinaryWriter.create()) {\n        if (message.title !== \"\") {\n            writer.uint32(10).string(message.title);\n        }\n        if (message.description !== \"\") {\n            writer.uint32(18).string(message.description);\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBaseTextProposal();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.title = reader.string();\n                    break;\n                case 2:\n                    message.description = reader.string();\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const obj = createBaseTextProposal();\n        if ((0, helpers_1.isSet)(object.title))\n            obj.title = String(object.title);\n        if ((0, helpers_1.isSet)(object.description))\n            obj.description = String(object.description);\n        return obj;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.title !== undefined && (obj.title = message.title);\n        message.description !== undefined && (obj.description = message.description);\n        return obj;\n    },\n    fromPartial(object) {\n        const message = createBaseTextProposal();\n        message.title = object.title ?? \"\";\n        message.description = object.description ?? \"\";\n        return message;\n    },\n};\nfunction createBaseDeposit() {\n    return {\n        proposalId: BigInt(0),\n        depositor: \"\",\n        amount: [],\n    };\n}\nexports.Deposit = {\n    typeUrl: \"/cosmos.gov.v1beta1.Deposit\",\n    encode(message, writer = binary_1.BinaryWriter.create()) {\n        if (message.proposalId !== BigInt(0)) {\n            writer.uint32(8).uint64(message.proposalId);\n        }\n        if (message.depositor !== \"\") {\n            writer.uint32(18).string(message.depositor);\n        }\n        for (const v of message.amount) {\n            coin_1.Coin.encode(v, writer.uint32(26).fork()).ldelim();\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBaseDeposit();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.proposalId = reader.uint64();\n                    break;\n                case 2:\n                    message.depositor = reader.string();\n                    break;\n                case 3:\n                    message.amount.push(coin_1.Coin.decode(reader, reader.uint32()));\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const obj = createBaseDeposit();\n        if ((0, helpers_1.isSet)(object.proposalId))\n            obj.proposalId = BigInt(object.proposalId.toString());\n        if ((0, helpers_1.isSet)(object.depositor))\n            obj.depositor = String(object.depositor);\n        if (Array.isArray(object?.amount))\n            obj.amount = object.amount.map((e) => coin_1.Coin.fromJSON(e));\n        return obj;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.proposalId !== undefined && (obj.proposalId = (message.proposalId || BigInt(0)).toString());\n        message.depositor !== undefined && (obj.depositor = message.depositor);\n        if (message.amount) {\n            obj.amount = message.amount.map((e) => (e ? coin_1.Coin.toJSON(e) : undefined));\n        }\n        else {\n            obj.amount = [];\n        }\n        return obj;\n    },\n    fromPartial(object) {\n        const message = createBaseDeposit();\n        if (object.proposalId !== undefined && object.proposalId !== null) {\n            message.proposalId = BigInt(object.proposalId.toString());\n        }\n        message.depositor = object.depositor ?? \"\";\n        message.amount = object.amount?.map((e) => coin_1.Coin.fromPartial(e)) || [];\n        return message;\n    },\n};\nfunction createBaseProposal() {\n    return {\n        proposalId: BigInt(0),\n        content: undefined,\n        status: 0,\n        finalTallyResult: exports.TallyResult.fromPartial({}),\n        submitTime: timestamp_1.Timestamp.fromPartial({}),\n        depositEndTime: timestamp_1.Timestamp.fromPartial({}),\n        totalDeposit: [],\n        votingStartTime: timestamp_1.Timestamp.fromPartial({}),\n        votingEndTime: timestamp_1.Timestamp.fromPartial({}),\n    };\n}\nexports.Proposal = {\n    typeUrl: \"/cosmos.gov.v1beta1.Proposal\",\n    encode(message, writer = binary_1.BinaryWriter.create()) {\n        if (message.proposalId !== BigInt(0)) {\n            writer.uint32(8).uint64(message.proposalId);\n        }\n        if (message.content !== undefined) {\n            any_1.Any.encode(message.content, writer.uint32(18).fork()).ldelim();\n        }\n        if (message.status !== 0) {\n            writer.uint32(24).int32(message.status);\n        }\n        if (message.finalTallyResult !== undefined) {\n            exports.TallyResult.encode(message.finalTallyResult, writer.uint32(34).fork()).ldelim();\n        }\n        if (message.submitTime !== undefined) {\n            timestamp_1.Timestamp.encode(message.submitTime, writer.uint32(42).fork()).ldelim();\n        }\n        if (message.depositEndTime !== undefined) {\n            timestamp_1.Timestamp.encode(message.depositEndTime, writer.uint32(50).fork()).ldelim();\n        }\n        for (const v of message.totalDeposit) {\n            coin_1.Coin.encode(v, writer.uint32(58).fork()).ldelim();\n        }\n        if (message.votingStartTime !== undefined) {\n            timestamp_1.Timestamp.encode(message.votingStartTime, writer.uint32(66).fork()).ldelim();\n        }\n        if (message.votingEndTime !== undefined) {\n            timestamp_1.Timestamp.encode(message.votingEndTime, writer.uint32(74).fork()).ldelim();\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBaseProposal();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.proposalId = reader.uint64();\n                    break;\n                case 2:\n                    message.content = any_1.Any.decode(reader, reader.uint32());\n                    break;\n                case 3:\n                    message.status = reader.int32();\n                    break;\n                case 4:\n                    message.finalTallyResult = exports.TallyResult.decode(reader, reader.uint32());\n                    break;\n                case 5:\n                    message.submitTime = timestamp_1.Timestamp.decode(reader, reader.uint32());\n                    break;\n                case 6:\n                    message.depositEndTime = timestamp_1.Timestamp.decode(reader, reader.uint32());\n                    break;\n                case 7:\n                    message.totalDeposit.push(coin_1.Coin.decode(reader, reader.uint32()));\n                    break;\n                case 8:\n                    message.votingStartTime = timestamp_1.Timestamp.decode(reader, reader.uint32());\n                    break;\n                case 9:\n                    message.votingEndTime = timestamp_1.Timestamp.decode(reader, reader.uint32());\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const obj = createBaseProposal();\n        if ((0, helpers_1.isSet)(object.proposalId))\n            obj.proposalId = BigInt(object.proposalId.toString());\n        if ((0, helpers_1.isSet)(object.content))\n            obj.content = any_1.Any.fromJSON(object.content);\n        if ((0, helpers_1.isSet)(object.status))\n            obj.status = proposalStatusFromJSON(object.status);\n        if ((0, helpers_1.isSet)(object.finalTallyResult))\n            obj.finalTallyResult = exports.TallyResult.fromJSON(object.finalTallyResult);\n        if ((0, helpers_1.isSet)(object.submitTime))\n            obj.submitTime = (0, helpers_1.fromJsonTimestamp)(object.submitTime);\n        if ((0, helpers_1.isSet)(object.depositEndTime))\n            obj.depositEndTime = (0, helpers_1.fromJsonTimestamp)(object.depositEndTime);\n        if (Array.isArray(object?.totalDeposit))\n            obj.totalDeposit = object.totalDeposit.map((e) => coin_1.Coin.fromJSON(e));\n        if ((0, helpers_1.isSet)(object.votingStartTime))\n            obj.votingStartTime = (0, helpers_1.fromJsonTimestamp)(object.votingStartTime);\n        if ((0, helpers_1.isSet)(object.votingEndTime))\n            obj.votingEndTime = (0, helpers_1.fromJsonTimestamp)(object.votingEndTime);\n        return obj;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.proposalId !== undefined && (obj.proposalId = (message.proposalId || BigInt(0)).toString());\n        message.content !== undefined &&\n            (obj.content = message.content ? any_1.Any.toJSON(message.content) : undefined);\n        message.status !== undefined && (obj.status = proposalStatusToJSON(message.status));\n        message.finalTallyResult !== undefined &&\n            (obj.finalTallyResult = message.finalTallyResult\n                ? exports.TallyResult.toJSON(message.finalTallyResult)\n                : undefined);\n        message.submitTime !== undefined && (obj.submitTime = (0, helpers_1.fromTimestamp)(message.submitTime).toISOString());\n        message.depositEndTime !== undefined &&\n            (obj.depositEndTime = (0, helpers_1.fromTimestamp)(message.depositEndTime).toISOString());\n        if (message.totalDeposit) {\n            obj.totalDeposit = message.totalDeposit.map((e) => (e ? coin_1.Coin.toJSON(e) : undefined));\n        }\n        else {\n            obj.totalDeposit = [];\n        }\n        message.votingStartTime !== undefined &&\n            (obj.votingStartTime = (0, helpers_1.fromTimestamp)(message.votingStartTime).toISOString());\n        message.votingEndTime !== undefined &&\n            (obj.votingEndTime = (0, helpers_1.fromTimestamp)(message.votingEndTime).toISOString());\n        return obj;\n    },\n    fromPartial(object) {\n        const message = createBaseProposal();\n        if (object.proposalId !== undefined && object.proposalId !== null) {\n            message.proposalId = BigInt(object.proposalId.toString());\n        }\n        if (object.content !== undefined && object.content !== null) {\n            message.content = any_1.Any.fromPartial(object.content);\n        }\n        message.status = object.status ?? 0;\n        if (object.finalTallyResult !== undefined && object.finalTallyResult !== null) {\n            message.finalTallyResult = exports.TallyResult.fromPartial(object.finalTallyResult);\n        }\n        if (object.submitTime !== undefined && object.submitTime !== null) {\n            message.submitTime = timestamp_1.Timestamp.fromPartial(object.submitTime);\n        }\n        if (object.depositEndTime !== undefined && object.depositEndTime !== null) {\n            message.depositEndTime = timestamp_1.Timestamp.fromPartial(object.depositEndTime);\n        }\n        message.totalDeposit = object.totalDeposit?.map((e) => coin_1.Coin.fromPartial(e)) || [];\n        if (object.votingStartTime !== undefined && object.votingStartTime !== null) {\n            message.votingStartTime = timestamp_1.Timestamp.fromPartial(object.votingStartTime);\n        }\n        if (object.votingEndTime !== undefined && object.votingEndTime !== null) {\n            message.votingEndTime = timestamp_1.Timestamp.fromPartial(object.votingEndTime);\n        }\n        return message;\n    },\n};\nfunction createBaseTallyResult() {\n    return {\n        yes: \"\",\n        abstain: \"\",\n        no: \"\",\n        noWithVeto: \"\",\n    };\n}\nexports.TallyResult = {\n    typeUrl: \"/cosmos.gov.v1beta1.TallyResult\",\n    encode(message, writer = binary_1.BinaryWriter.create()) {\n        if (message.yes !== \"\") {\n            writer.uint32(10).string(message.yes);\n        }\n        if (message.abstain !== \"\") {\n            writer.uint32(18).string(message.abstain);\n        }\n        if (message.no !== \"\") {\n            writer.uint32(26).string(message.no);\n        }\n        if (message.noWithVeto !== \"\") {\n            writer.uint32(34).string(message.noWithVeto);\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBaseTallyResult();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.yes = reader.string();\n                    break;\n                case 2:\n                    message.abstain = reader.string();\n                    break;\n                case 3:\n                    message.no = reader.string();\n                    break;\n                case 4:\n                    message.noWithVeto = reader.string();\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const obj = createBaseTallyResult();\n        if ((0, helpers_1.isSet)(object.yes))\n            obj.yes = String(object.yes);\n        if ((0, helpers_1.isSet)(object.abstain))\n            obj.abstain = String(object.abstain);\n        if ((0, helpers_1.isSet)(object.no))\n            obj.no = String(object.no);\n        if ((0, helpers_1.isSet)(object.noWithVeto))\n            obj.noWithVeto = String(object.noWithVeto);\n        return obj;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.yes !== undefined && (obj.yes = message.yes);\n        message.abstain !== undefined && (obj.abstain = message.abstain);\n        message.no !== undefined && (obj.no = message.no);\n        message.noWithVeto !== undefined && (obj.noWithVeto = message.noWithVeto);\n        return obj;\n    },\n    fromPartial(object) {\n        const message = createBaseTallyResult();\n        message.yes = object.yes ?? \"\";\n        message.abstain = object.abstain ?? \"\";\n        message.no = object.no ?? \"\";\n        message.noWithVeto = object.noWithVeto ?? \"\";\n        return message;\n    },\n};\nfunction createBaseVote() {\n    return {\n        proposalId: BigInt(0),\n        voter: \"\",\n        option: 0,\n        options: [],\n    };\n}\nexports.Vote = {\n    typeUrl: \"/cosmos.gov.v1beta1.Vote\",\n    encode(message, writer = binary_1.BinaryWriter.create()) {\n        if (message.proposalId !== BigInt(0)) {\n            writer.uint32(8).uint64(message.proposalId);\n        }\n        if (message.voter !== \"\") {\n            writer.uint32(18).string(message.voter);\n        }\n        if (message.option !== 0) {\n            writer.uint32(24).int32(message.option);\n        }\n        for (const v of message.options) {\n            exports.WeightedVoteOption.encode(v, writer.uint32(34).fork()).ldelim();\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBaseVote();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.proposalId = reader.uint64();\n                    break;\n                case 2:\n                    message.voter = reader.string();\n                    break;\n                case 3:\n                    message.option = reader.int32();\n                    break;\n                case 4:\n                    message.options.push(exports.WeightedVoteOption.decode(reader, reader.uint32()));\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const obj = createBaseVote();\n        if ((0, helpers_1.isSet)(object.proposalId))\n            obj.proposalId = BigInt(object.proposalId.toString());\n        if ((0, helpers_1.isSet)(object.voter))\n            obj.voter = String(object.voter);\n        if ((0, helpers_1.isSet)(object.option))\n            obj.option = voteOptionFromJSON(object.option);\n        if (Array.isArray(object?.options))\n            obj.options = object.options.map((e) => exports.WeightedVoteOption.fromJSON(e));\n        return obj;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.proposalId !== undefined && (obj.proposalId = (message.proposalId || BigInt(0)).toString());\n        message.voter !== undefined && (obj.voter = message.voter);\n        message.option !== undefined && (obj.option = voteOptionToJSON(message.option));\n        if (message.options) {\n            obj.options = message.options.map((e) => (e ? exports.WeightedVoteOption.toJSON(e) : undefined));\n        }\n        else {\n            obj.options = [];\n        }\n        return obj;\n    },\n    fromPartial(object) {\n        const message = createBaseVote();\n        if (object.proposalId !== undefined && object.proposalId !== null) {\n            message.proposalId = BigInt(object.proposalId.toString());\n        }\n        message.voter = object.voter ?? \"\";\n        message.option = object.option ?? 0;\n        message.options = object.options?.map((e) => exports.WeightedVoteOption.fromPartial(e)) || [];\n        return message;\n    },\n};\nfunction createBaseDepositParams() {\n    return {\n        minDeposit: [],\n        maxDepositPeriod: duration_1.Duration.fromPartial({}),\n    };\n}\nexports.DepositParams = {\n    typeUrl: \"/cosmos.gov.v1beta1.DepositParams\",\n    encode(message, writer = binary_1.BinaryWriter.create()) {\n        for (const v of message.minDeposit) {\n            coin_1.Coin.encode(v, writer.uint32(10).fork()).ldelim();\n        }\n        if (message.maxDepositPeriod !== undefined) {\n            duration_1.Duration.encode(message.maxDepositPeriod, writer.uint32(18).fork()).ldelim();\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBaseDepositParams();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.minDeposit.push(coin_1.Coin.decode(reader, reader.uint32()));\n                    break;\n                case 2:\n                    message.maxDepositPeriod = duration_1.Duration.decode(reader, reader.uint32());\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const obj = createBaseDepositParams();\n        if (Array.isArray(object?.minDeposit))\n            obj.minDeposit = object.minDeposit.map((e) => coin_1.Coin.fromJSON(e));\n        if ((0, helpers_1.isSet)(object.maxDepositPeriod))\n            obj.maxDepositPeriod = duration_1.Duration.fromJSON(object.maxDepositPeriod);\n        return obj;\n    },\n    toJSON(message) {\n        const obj = {};\n        if (message.minDeposit) {\n            obj.minDeposit = message.minDeposit.map((e) => (e ? coin_1.Coin.toJSON(e) : undefined));\n        }\n        else {\n            obj.minDeposit = [];\n        }\n        message.maxDepositPeriod !== undefined &&\n            (obj.maxDepositPeriod = message.maxDepositPeriod\n                ? duration_1.Duration.toJSON(message.maxDepositPeriod)\n                : undefined);\n        return obj;\n    },\n    fromPartial(object) {\n        const message = createBaseDepositParams();\n        message.minDeposit = object.minDeposit?.map((e) => coin_1.Coin.fromPartial(e)) || [];\n        if (object.maxDepositPeriod !== undefined && object.maxDepositPeriod !== null) {\n            message.maxDepositPeriod = duration_1.Duration.fromPartial(object.maxDepositPeriod);\n        }\n        return message;\n    },\n};\nfunction createBaseVotingParams() {\n    return {\n        votingPeriod: duration_1.Duration.fromPartial({}),\n    };\n}\nexports.VotingParams = {\n    typeUrl: \"/cosmos.gov.v1beta1.VotingParams\",\n    encode(message, writer = binary_1.BinaryWriter.create()) {\n        if (message.votingPeriod !== undefined) {\n            duration_1.Duration.encode(message.votingPeriod, writer.uint32(10).fork()).ldelim();\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBaseVotingParams();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.votingPeriod = duration_1.Duration.decode(reader, reader.uint32());\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const obj = createBaseVotingParams();\n        if ((0, helpers_1.isSet)(object.votingPeriod))\n            obj.votingPeriod = duration_1.Duration.fromJSON(object.votingPeriod);\n        return obj;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.votingPeriod !== undefined &&\n            (obj.votingPeriod = message.votingPeriod ? duration_1.Duration.toJSON(message.votingPeriod) : undefined);\n        return obj;\n    },\n    fromPartial(object) {\n        const message = createBaseVotingParams();\n        if (object.votingPeriod !== undefined && object.votingPeriod !== null) {\n            message.votingPeriod = duration_1.Duration.fromPartial(object.votingPeriod);\n        }\n        return message;\n    },\n};\nfunction createBaseTallyParams() {\n    return {\n        quorum: new Uint8Array(),\n        threshold: new Uint8Array(),\n        vetoThreshold: new Uint8Array(),\n    };\n}\nexports.TallyParams = {\n    typeUrl: \"/cosmos.gov.v1beta1.TallyParams\",\n    encode(message, writer = binary_1.BinaryWriter.create()) {\n        if (message.quorum.length !== 0) {\n            writer.uint32(10).bytes(message.quorum);\n        }\n        if (message.threshold.length !== 0) {\n            writer.uint32(18).bytes(message.threshold);\n        }\n        if (message.vetoThreshold.length !== 0) {\n            writer.uint32(26).bytes(message.vetoThreshold);\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBaseTallyParams();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.quorum = reader.bytes();\n                    break;\n                case 2:\n                    message.threshold = reader.bytes();\n                    break;\n                case 3:\n                    message.vetoThreshold = reader.bytes();\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const obj = createBaseTallyParams();\n        if ((0, helpers_1.isSet)(object.quorum))\n            obj.quorum = (0, helpers_1.bytesFromBase64)(object.quorum);\n        if ((0, helpers_1.isSet)(object.threshold))\n            obj.threshold = (0, helpers_1.bytesFromBase64)(object.threshold);\n        if ((0, helpers_1.isSet)(object.vetoThreshold))\n            obj.vetoThreshold = (0, helpers_1.bytesFromBase64)(object.vetoThreshold);\n        return obj;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.quorum !== undefined &&\n            (obj.quorum = (0, helpers_1.base64FromBytes)(message.quorum !== undefined ? message.quorum : new Uint8Array()));\n        message.threshold !== undefined &&\n            (obj.threshold = (0, helpers_1.base64FromBytes)(message.threshold !== undefined ? message.threshold : new Uint8Array()));\n        message.vetoThreshold !== undefined &&\n            (obj.vetoThreshold = (0, helpers_1.base64FromBytes)(message.vetoThreshold !== undefined ? message.vetoThreshold : new Uint8Array()));\n        return obj;\n    },\n    fromPartial(object) {\n        const message = createBaseTallyParams();\n        message.quorum = object.quorum ?? new Uint8Array();\n        message.threshold = object.threshold ?? new Uint8Array();\n        message.vetoThreshold = object.vetoThreshold ?? new Uint8Array();\n        return message;\n    },\n};\n//# sourceMappingURL=gov.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ValidatorUpdates = exports.Pool = exports.RedelegationResponse = exports.RedelegationEntryResponse = exports.DelegationResponse = exports.Params = exports.Redelegation = exports.RedelegationEntry = exports.UnbondingDelegationEntry = exports.UnbondingDelegation = exports.Delegation = exports.DVVTriplets = exports.DVVTriplet = exports.DVPairs = exports.DVPair = exports.ValAddresses = exports.Validator = exports.Description = exports.Commission = exports.CommissionRates = exports.HistoricalInfo = exports.infractionToJSON = exports.infractionFromJSON = exports.Infraction = exports.bondStatusToJSON = exports.bondStatusFromJSON = exports.BondStatus = exports.protobufPackage = void 0;\n/* eslint-disable */\nconst types_1 = require(\"../../../tendermint/types/types\");\nconst timestamp_1 = require(\"../../../google/protobuf/timestamp\");\nconst any_1 = require(\"../../../google/protobuf/any\");\nconst duration_1 = require(\"../../../google/protobuf/duration\");\nconst coin_1 = require(\"../../base/v1beta1/coin\");\nconst types_2 = require(\"../../../tendermint/abci/types\");\nconst binary_1 = require(\"../../../binary\");\nconst helpers_1 = require(\"../../../helpers\");\nexports.protobufPackage = \"cosmos.staking.v1beta1\";\n/** BondStatus is the status of a validator. */\nvar BondStatus;\n(function (BondStatus) {\n    /** BOND_STATUS_UNSPECIFIED - UNSPECIFIED defines an invalid validator status. */\n    BondStatus[BondStatus[\"BOND_STATUS_UNSPECIFIED\"] = 0] = \"BOND_STATUS_UNSPECIFIED\";\n    /** BOND_STATUS_UNBONDED - UNBONDED defines a validator that is not bonded. */\n    BondStatus[BondStatus[\"BOND_STATUS_UNBONDED\"] = 1] = \"BOND_STATUS_UNBONDED\";\n    /** BOND_STATUS_UNBONDING - UNBONDING defines a validator that is unbonding. */\n    BondStatus[BondStatus[\"BOND_STATUS_UNBONDING\"] = 2] = \"BOND_STATUS_UNBONDING\";\n    /** BOND_STATUS_BONDED - BONDED defines a validator that is bonded. */\n    BondStatus[BondStatus[\"BOND_STATUS_BONDED\"] = 3] = \"BOND_STATUS_BONDED\";\n    BondStatus[BondStatus[\"UNRECOGNIZED\"] = -1] = \"UNRECOGNIZED\";\n})(BondStatus || (exports.BondStatus = BondStatus = {}));\nfunction bondStatusFromJSON(object) {\n    switch (object) {\n        case 0:\n        case \"BOND_STATUS_UNSPECIFIED\":\n            return BondStatus.BOND_STATUS_UNSPECIFIED;\n        case 1:\n        case \"BOND_STATUS_UNBONDED\":\n            return BondStatus.BOND_STATUS_UNBONDED;\n        case 2:\n        case \"BOND_STATUS_UNBONDING\":\n            return BondStatus.BOND_STATUS_UNBONDING;\n        case 3:\n        case \"BOND_STATUS_BONDED\":\n            return BondStatus.BOND_STATUS_BONDED;\n        case -1:\n        case \"UNRECOGNIZED\":\n        default:\n            return BondStatus.UNRECOGNIZED;\n    }\n}\nexports.bondStatusFromJSON = bondStatusFromJSON;\nfunction bondStatusToJSON(object) {\n    switch (object) {\n        case BondStatus.BOND_STATUS_UNSPECIFIED:\n            return \"BOND_STATUS_UNSPECIFIED\";\n        case BondStatus.BOND_STATUS_UNBONDED:\n            return \"BOND_STATUS_UNBONDED\";\n        case BondStatus.BOND_STATUS_UNBONDING:\n            return \"BOND_STATUS_UNBONDING\";\n        case BondStatus.BOND_STATUS_BONDED:\n            return \"BOND_STATUS_BONDED\";\n        case BondStatus.UNRECOGNIZED:\n        default:\n            return \"UNRECOGNIZED\";\n    }\n}\nexports.bondStatusToJSON = bondStatusToJSON;\n/** Infraction indicates the infraction a validator commited. */\nvar Infraction;\n(function (Infraction) {\n    /** INFRACTION_UNSPECIFIED - UNSPECIFIED defines an empty infraction. */\n    Infraction[Infraction[\"INFRACTION_UNSPECIFIED\"] = 0] = \"INFRACTION_UNSPECIFIED\";\n    /** INFRACTION_DOUBLE_SIGN - DOUBLE_SIGN defines a validator that double-signs a block. */\n    Infraction[Infraction[\"INFRACTION_DOUBLE_SIGN\"] = 1] = \"INFRACTION_DOUBLE_SIGN\";\n    /** INFRACTION_DOWNTIME - DOWNTIME defines a validator that missed signing too many blocks. */\n    Infraction[Infraction[\"INFRACTION_DOWNTIME\"] = 2] = \"INFRACTION_DOWNTIME\";\n    Infraction[Infraction[\"UNRECOGNIZED\"] = -1] = \"UNRECOGNIZED\";\n})(Infraction || (exports.Infraction = Infraction = {}));\nfunction infractionFromJSON(object) {\n    switch (object) {\n        case 0:\n        case \"INFRACTION_UNSPECIFIED\":\n            return Infraction.INFRACTION_UNSPECIFIED;\n        case 1:\n        case \"INFRACTION_DOUBLE_SIGN\":\n            return Infraction.INFRACTION_DOUBLE_SIGN;\n        case 2:\n        case \"INFRACTION_DOWNTIME\":\n            return Infraction.INFRACTION_DOWNTIME;\n        case -1:\n        case \"UNRECOGNIZED\":\n        default:\n            return Infraction.UNRECOGNIZED;\n    }\n}\nexports.infractionFromJSON = infractionFromJSON;\nfunction infractionToJSON(object) {\n    switch (object) {\n        case Infraction.INFRACTION_UNSPECIFIED:\n            return \"INFRACTION_UNSPECIFIED\";\n        case Infraction.INFRACTION_DOUBLE_SIGN:\n            return \"INFRACTION_DOUBLE_SIGN\";\n        case Infraction.INFRACTION_DOWNTIME:\n            return \"INFRACTION_DOWNTIME\";\n        case Infraction.UNRECOGNIZED:\n        default:\n            return \"UNRECOGNIZED\";\n    }\n}\nexports.infractionToJSON = infractionToJSON;\nfunction createBaseHistoricalInfo() {\n    return {\n        header: types_1.Header.fromPartial({}),\n        valset: [],\n    };\n}\nexports.HistoricalInfo = {\n    typeUrl: \"/cosmos.staking.v1beta1.HistoricalInfo\",\n    encode(message, writer = binary_1.BinaryWriter.create()) {\n        if (message.header !== undefined) {\n            types_1.Header.encode(message.header, writer.uint32(10).fork()).ldelim();\n        }\n        for (const v of message.valset) {\n            exports.Validator.encode(v, writer.uint32(18).fork()).ldelim();\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBaseHistoricalInfo();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.header = types_1.Header.decode(reader, reader.uint32());\n                    break;\n                case 2:\n                    message.valset.push(exports.Validator.decode(reader, reader.uint32()));\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const obj = createBaseHistoricalInfo();\n        if ((0, helpers_1.isSet)(object.header))\n            obj.header = types_1.Header.fromJSON(object.header);\n        if (Array.isArray(object?.valset))\n            obj.valset = object.valset.map((e) => exports.Validator.fromJSON(e));\n        return obj;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.header !== undefined && (obj.header = message.header ? types_1.Header.toJSON(message.header) : undefined);\n        if (message.valset) {\n            obj.valset = message.valset.map((e) => (e ? exports.Validator.toJSON(e) : undefined));\n        }\n        else {\n            obj.valset = [];\n        }\n        return obj;\n    },\n    fromPartial(object) {\n        const message = createBaseHistoricalInfo();\n        if (object.header !== undefined && object.header !== null) {\n            message.header = types_1.Header.fromPartial(object.header);\n        }\n        message.valset = object.valset?.map((e) => exports.Validator.fromPartial(e)) || [];\n        return message;\n    },\n};\nfunction createBaseCommissionRates() {\n    return {\n        rate: \"\",\n        maxRate: \"\",\n        maxChangeRate: \"\",\n    };\n}\nexports.CommissionRates = {\n    typeUrl: \"/cosmos.staking.v1beta1.CommissionRates\",\n    encode(message, writer = binary_1.BinaryWriter.create()) {\n        if (message.rate !== \"\") {\n            writer.uint32(10).string(message.rate);\n        }\n        if (message.maxRate !== \"\") {\n            writer.uint32(18).string(message.maxRate);\n        }\n        if (message.maxChangeRate !== \"\") {\n            writer.uint32(26).string(message.maxChangeRate);\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBaseCommissionRates();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.rate = reader.string();\n                    break;\n                case 2:\n                    message.maxRate = reader.string();\n                    break;\n                case 3:\n                    message.maxChangeRate = reader.string();\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const obj = createBaseCommissionRates();\n        if ((0, helpers_1.isSet)(object.rate))\n            obj.rate = String(object.rate);\n        if ((0, helpers_1.isSet)(object.maxRate))\n            obj.maxRate = String(object.maxRate);\n        if ((0, helpers_1.isSet)(object.maxChangeRate))\n            obj.maxChangeRate = String(object.maxChangeRate);\n        return obj;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.rate !== undefined && (obj.rate = message.rate);\n        message.maxRate !== undefined && (obj.maxRate = message.maxRate);\n        message.maxChangeRate !== undefined && (obj.maxChangeRate = message.maxChangeRate);\n        return obj;\n    },\n    fromPartial(object) {\n        const message = createBaseCommissionRates();\n        message.rate = object.rate ?? \"\";\n        message.maxRate = object.maxRate ?? \"\";\n        message.maxChangeRate = object.maxChangeRate ?? \"\";\n        return message;\n    },\n};\nfunction createBaseCommission() {\n    return {\n        commissionRates: exports.CommissionRates.fromPartial({}),\n        updateTime: timestamp_1.Timestamp.fromPartial({}),\n    };\n}\nexports.Commission = {\n    typeUrl: \"/cosmos.staking.v1beta1.Commission\",\n    encode(message, writer = binary_1.BinaryWriter.create()) {\n        if (message.commissionRates !== undefined) {\n            exports.CommissionRates.encode(message.commissionRates, writer.uint32(10).fork()).ldelim();\n        }\n        if (message.updateTime !== undefined) {\n            timestamp_1.Timestamp.encode(message.updateTime, writer.uint32(18).fork()).ldelim();\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBaseCommission();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.commissionRates = exports.CommissionRates.decode(reader, reader.uint32());\n                    break;\n                case 2:\n                    message.updateTime = timestamp_1.Timestamp.decode(reader, reader.uint32());\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const obj = createBaseCommission();\n        if ((0, helpers_1.isSet)(object.commissionRates))\n            obj.commissionRates = exports.CommissionRates.fromJSON(object.commissionRates);\n        if ((0, helpers_1.isSet)(object.updateTime))\n            obj.updateTime = (0, helpers_1.fromJsonTimestamp)(object.updateTime);\n        return obj;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.commissionRates !== undefined &&\n            (obj.commissionRates = message.commissionRates\n                ? exports.CommissionRates.toJSON(message.commissionRates)\n                : undefined);\n        message.updateTime !== undefined && (obj.updateTime = (0, helpers_1.fromTimestamp)(message.updateTime).toISOString());\n        return obj;\n    },\n    fromPartial(object) {\n        const message = createBaseCommission();\n        if (object.commissionRates !== undefined && object.commissionRates !== null) {\n            message.commissionRates = exports.CommissionRates.fromPartial(object.commissionRates);\n        }\n        if (object.updateTime !== undefined && object.updateTime !== null) {\n            message.updateTime = timestamp_1.Timestamp.fromPartial(object.updateTime);\n        }\n        return message;\n    },\n};\nfunction createBaseDescription() {\n    return {\n        moniker: \"\",\n        identity: \"\",\n        website: \"\",\n        securityContact: \"\",\n        details: \"\",\n    };\n}\nexports.Description = {\n    typeUrl: \"/cosmos.staking.v1beta1.Description\",\n    encode(message, writer = binary_1.BinaryWriter.create()) {\n        if (message.moniker !== \"\") {\n            writer.uint32(10).string(message.moniker);\n        }\n        if (message.identity !== \"\") {\n            writer.uint32(18).string(message.identity);\n        }\n        if (message.website !== \"\") {\n            writer.uint32(26).string(message.website);\n        }\n        if (message.securityContact !== \"\") {\n            writer.uint32(34).string(message.securityContact);\n        }\n        if (message.details !== \"\") {\n            writer.uint32(42).string(message.details);\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBaseDescription();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.moniker = reader.string();\n                    break;\n                case 2:\n                    message.identity = reader.string();\n                    break;\n                case 3:\n                    message.website = reader.string();\n                    break;\n                case 4:\n                    message.securityContact = reader.string();\n                    break;\n                case 5:\n                    message.details = reader.string();\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const obj = createBaseDescription();\n        if ((0, helpers_1.isSet)(object.moniker))\n            obj.moniker = String(object.moniker);\n        if ((0, helpers_1.isSet)(object.identity))\n            obj.identity = String(object.identity);\n        if ((0, helpers_1.isSet)(object.website))\n            obj.website = String(object.website);\n        if ((0, helpers_1.isSet)(object.securityContact))\n            obj.securityContact = String(object.securityContact);\n        if ((0, helpers_1.isSet)(object.details))\n            obj.details = String(object.details);\n        return obj;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.moniker !== undefined && (obj.moniker = message.moniker);\n        message.identity !== undefined && (obj.identity = message.identity);\n        message.website !== undefined && (obj.website = message.website);\n        message.securityContact !== undefined && (obj.securityContact = message.securityContact);\n        message.details !== undefined && (obj.details = message.details);\n        return obj;\n    },\n    fromPartial(object) {\n        const message = createBaseDescription();\n        message.moniker = object.moniker ?? \"\";\n        message.identity = object.identity ?? \"\";\n        message.website = object.website ?? \"\";\n        message.securityContact = object.securityContact ?? \"\";\n        message.details = object.details ?? \"\";\n        return message;\n    },\n};\nfunction createBaseValidator() {\n    return {\n        operatorAddress: \"\",\n        consensusPubkey: undefined,\n        jailed: false,\n        status: 0,\n        tokens: \"\",\n        delegatorShares: \"\",\n        description: exports.Description.fromPartial({}),\n        unbondingHeight: BigInt(0),\n        unbondingTime: timestamp_1.Timestamp.fromPartial({}),\n        commission: exports.Commission.fromPartial({}),\n        minSelfDelegation: \"\",\n        unbondingOnHoldRefCount: BigInt(0),\n        unbondingIds: [],\n    };\n}\nexports.Validator = {\n    typeUrl: \"/cosmos.staking.v1beta1.Validator\",\n    encode(message, writer = binary_1.BinaryWriter.create()) {\n        if (message.operatorAddress !== \"\") {\n            writer.uint32(10).string(message.operatorAddress);\n        }\n        if (message.consensusPubkey !== undefined) {\n            any_1.Any.encode(message.consensusPubkey, writer.uint32(18).fork()).ldelim();\n        }\n        if (message.jailed === true) {\n            writer.uint32(24).bool(message.jailed);\n        }\n        if (message.status !== 0) {\n            writer.uint32(32).int32(message.status);\n        }\n        if (message.tokens !== \"\") {\n            writer.uint32(42).string(message.tokens);\n        }\n        if (message.delegatorShares !== \"\") {\n            writer.uint32(50).string(message.delegatorShares);\n        }\n        if (message.description !== undefined) {\n            exports.Description.encode(message.description, writer.uint32(58).fork()).ldelim();\n        }\n        if (message.unbondingHeight !== BigInt(0)) {\n            writer.uint32(64).int64(message.unbondingHeight);\n        }\n        if (message.unbondingTime !== undefined) {\n            timestamp_1.Timestamp.encode(message.unbondingTime, writer.uint32(74).fork()).ldelim();\n        }\n        if (message.commission !== undefined) {\n            exports.Commission.encode(message.commission, writer.uint32(82).fork()).ldelim();\n        }\n        if (message.minSelfDelegation !== \"\") {\n            writer.uint32(90).string(message.minSelfDelegation);\n        }\n        if (message.unbondingOnHoldRefCount !== BigInt(0)) {\n            writer.uint32(96).int64(message.unbondingOnHoldRefCount);\n        }\n        writer.uint32(106).fork();\n        for (const v of message.unbondingIds) {\n            writer.uint64(v);\n        }\n        writer.ldelim();\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBaseValidator();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.operatorAddress = reader.string();\n                    break;\n                case 2:\n                    message.consensusPubkey = any_1.Any.decode(reader, reader.uint32());\n                    break;\n                case 3:\n                    message.jailed = reader.bool();\n                    break;\n                case 4:\n                    message.status = reader.int32();\n                    break;\n                case 5:\n                    message.tokens = reader.string();\n                    break;\n                case 6:\n                    message.delegatorShares = reader.string();\n                    break;\n                case 7:\n                    message.description = exports.Description.decode(reader, reader.uint32());\n                    break;\n                case 8:\n                    message.unbondingHeight = reader.int64();\n                    break;\n                case 9:\n                    message.unbondingTime = timestamp_1.Timestamp.decode(reader, reader.uint32());\n                    break;\n                case 10:\n                    message.commission = exports.Commission.decode(reader, reader.uint32());\n                    break;\n                case 11:\n                    message.minSelfDelegation = reader.string();\n                    break;\n                case 12:\n                    message.unbondingOnHoldRefCount = reader.int64();\n                    break;\n                case 13:\n                    if ((tag & 7) === 2) {\n                        const end2 = reader.uint32() + reader.pos;\n                        while (reader.pos < end2) {\n                            message.unbondingIds.push(reader.uint64());\n                        }\n                    }\n                    else {\n                        message.unbondingIds.push(reader.uint64());\n                    }\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const obj = createBaseValidator();\n        if ((0, helpers_1.isSet)(object.operatorAddress))\n            obj.operatorAddress = String(object.operatorAddress);\n        if ((0, helpers_1.isSet)(object.consensusPubkey))\n            obj.consensusPubkey = any_1.Any.fromJSON(object.consensusPubkey);\n        if ((0, helpers_1.isSet)(object.jailed))\n            obj.jailed = Boolean(object.jailed);\n        if ((0, helpers_1.isSet)(object.status))\n            obj.status = bondStatusFromJSON(object.status);\n        if ((0, helpers_1.isSet)(object.tokens))\n            obj.tokens = String(object.tokens);\n        if ((0, helpers_1.isSet)(object.delegatorShares))\n            obj.delegatorShares = String(object.delegatorShares);\n        if ((0, helpers_1.isSet)(object.description))\n            obj.description = exports.Description.fromJSON(object.description);\n        if ((0, helpers_1.isSet)(object.unbondingHeight))\n            obj.unbondingHeight = BigInt(object.unbondingHeight.toString());\n        if ((0, helpers_1.isSet)(object.unbondingTime))\n            obj.unbondingTime = (0, helpers_1.fromJsonTimestamp)(object.unbondingTime);\n        if ((0, helpers_1.isSet)(object.commission))\n            obj.commission = exports.Commission.fromJSON(object.commission);\n        if ((0, helpers_1.isSet)(object.minSelfDelegation))\n            obj.minSelfDelegation = String(object.minSelfDelegation);\n        if ((0, helpers_1.isSet)(object.unbondingOnHoldRefCount))\n            obj.unbondingOnHoldRefCount = BigInt(object.unbondingOnHoldRefCount.toString());\n        if (Array.isArray(object?.unbondingIds))\n            obj.unbondingIds = object.unbondingIds.map((e) => BigInt(e.toString()));\n        return obj;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.operatorAddress !== undefined && (obj.operatorAddress = message.operatorAddress);\n        message.consensusPubkey !== undefined &&\n            (obj.consensusPubkey = message.consensusPubkey ? any_1.Any.toJSON(message.consensusPubkey) : undefined);\n        message.jailed !== undefined && (obj.jailed = message.jailed);\n        message.status !== undefined && (obj.status = bondStatusToJSON(message.status));\n        message.tokens !== undefined && (obj.tokens = message.tokens);\n        message.delegatorShares !== undefined && (obj.delegatorShares = message.delegatorShares);\n        message.description !== undefined &&\n            (obj.description = message.description ? exports.Description.toJSON(message.description) : undefined);\n        message.unbondingHeight !== undefined &&\n            (obj.unbondingHeight = (message.unbondingHeight || BigInt(0)).toString());\n        message.unbondingTime !== undefined &&\n            (obj.unbondingTime = (0, helpers_1.fromTimestamp)(message.unbondingTime).toISOString());\n        message.commission !== undefined &&\n            (obj.commission = message.commission ? exports.Commission.toJSON(message.commission) : undefined);\n        message.minSelfDelegation !== undefined && (obj.minSelfDelegation = message.minSelfDelegation);\n        message.unbondingOnHoldRefCount !== undefined &&\n            (obj.unbondingOnHoldRefCount = (message.unbondingOnHoldRefCount || BigInt(0)).toString());\n        if (message.unbondingIds) {\n            obj.unbondingIds = message.unbondingIds.map((e) => (e || BigInt(0)).toString());\n        }\n        else {\n            obj.unbondingIds = [];\n        }\n        return obj;\n    },\n    fromPartial(object) {\n        const message = createBaseValidator();\n        message.operatorAddress = object.operatorAddress ?? \"\";\n        if (object.consensusPubkey !== undefined && object.consensusPubkey !== null) {\n            message.consensusPubkey = any_1.Any.fromPartial(object.consensusPubkey);\n        }\n        message.jailed = object.jailed ?? false;\n        message.status = object.status ?? 0;\n        message.tokens = object.tokens ?? \"\";\n        message.delegatorShares = object.delegatorShares ?? \"\";\n        if (object.description !== undefined && object.description !== null) {\n            message.description = exports.Description.fromPartial(object.description);\n        }\n        if (object.unbondingHeight !== undefined && object.unbondingHeight !== null) {\n            message.unbondingHeight = BigInt(object.unbondingHeight.toString());\n        }\n        if (object.unbondingTime !== undefined && object.unbondingTime !== null) {\n            message.unbondingTime = timestamp_1.Timestamp.fromPartial(object.unbondingTime);\n        }\n        if (object.commission !== undefined && object.commission !== null) {\n            message.commission = exports.Commission.fromPartial(object.commission);\n        }\n        message.minSelfDelegation = object.minSelfDelegation ?? \"\";\n        if (object.unbondingOnHoldRefCount !== undefined && object.unbondingOnHoldRefCount !== null) {\n            message.unbondingOnHoldRefCount = BigInt(object.unbondingOnHoldRefCount.toString());\n        }\n        message.unbondingIds = object.unbondingIds?.map((e) => BigInt(e.toString())) || [];\n        return message;\n    },\n};\nfunction createBaseValAddresses() {\n    return {\n        addresses: [],\n    };\n}\nexports.ValAddresses = {\n    typeUrl: \"/cosmos.staking.v1beta1.ValAddresses\",\n    encode(message, writer = binary_1.BinaryWriter.create()) {\n        for (const v of message.addresses) {\n            writer.uint32(10).string(v);\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBaseValAddresses();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.addresses.push(reader.string());\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const obj = createBaseValAddresses();\n        if (Array.isArray(object?.addresses))\n            obj.addresses = object.addresses.map((e) => String(e));\n        return obj;\n    },\n    toJSON(message) {\n        const obj = {};\n        if (message.addresses) {\n            obj.addresses = message.addresses.map((e) => e);\n        }\n        else {\n            obj.addresses = [];\n        }\n        return obj;\n    },\n    fromPartial(object) {\n        const message = createBaseValAddresses();\n        message.addresses = object.addresses?.map((e) => e) || [];\n        return message;\n    },\n};\nfunction createBaseDVPair() {\n    return {\n        delegatorAddress: \"\",\n        validatorAddress: \"\",\n    };\n}\nexports.DVPair = {\n    typeUrl: \"/cosmos.staking.v1beta1.DVPair\",\n    encode(message, writer = binary_1.BinaryWriter.create()) {\n        if (message.delegatorAddress !== \"\") {\n            writer.uint32(10).string(message.delegatorAddress);\n        }\n        if (message.validatorAddress !== \"\") {\n            writer.uint32(18).string(message.validatorAddress);\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBaseDVPair();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.delegatorAddress = reader.string();\n                    break;\n                case 2:\n                    message.validatorAddress = reader.string();\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const obj = createBaseDVPair();\n        if ((0, helpers_1.isSet)(object.delegatorAddress))\n            obj.delegatorAddress = String(object.delegatorAddress);\n        if ((0, helpers_1.isSet)(object.validatorAddress))\n            obj.validatorAddress = String(object.validatorAddress);\n        return obj;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.delegatorAddress !== undefined && (obj.delegatorAddress = message.delegatorAddress);\n        message.validatorAddress !== undefined && (obj.validatorAddress = message.validatorAddress);\n        return obj;\n    },\n    fromPartial(object) {\n        const message = createBaseDVPair();\n        message.delegatorAddress = object.delegatorAddress ?? \"\";\n        message.validatorAddress = object.validatorAddress ?? \"\";\n        return message;\n    },\n};\nfunction createBaseDVPairs() {\n    return {\n        pairs: [],\n    };\n}\nexports.DVPairs = {\n    typeUrl: \"/cosmos.staking.v1beta1.DVPairs\",\n    encode(message, writer = binary_1.BinaryWriter.create()) {\n        for (const v of message.pairs) {\n            exports.DVPair.encode(v, writer.uint32(10).fork()).ldelim();\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBaseDVPairs();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.pairs.push(exports.DVPair.decode(reader, reader.uint32()));\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const obj = createBaseDVPairs();\n        if (Array.isArray(object?.pairs))\n            obj.pairs = object.pairs.map((e) => exports.DVPair.fromJSON(e));\n        return obj;\n    },\n    toJSON(message) {\n        const obj = {};\n        if (message.pairs) {\n            obj.pairs = message.pairs.map((e) => (e ? exports.DVPair.toJSON(e) : undefined));\n        }\n        else {\n            obj.pairs = [];\n        }\n        return obj;\n    },\n    fromPartial(object) {\n        const message = createBaseDVPairs();\n        message.pairs = object.pairs?.map((e) => exports.DVPair.fromPartial(e)) || [];\n        return message;\n    },\n};\nfunction createBaseDVVTriplet() {\n    return {\n        delegatorAddress: \"\",\n        validatorSrcAddress: \"\",\n        validatorDstAddress: \"\",\n    };\n}\nexports.DVVTriplet = {\n    typeUrl: \"/cosmos.staking.v1beta1.DVVTriplet\",\n    encode(message, writer = binary_1.BinaryWriter.create()) {\n        if (message.delegatorAddress !== \"\") {\n            writer.uint32(10).string(message.delegatorAddress);\n        }\n        if (message.validatorSrcAddress !== \"\") {\n            writer.uint32(18).string(message.validatorSrcAddress);\n        }\n        if (message.validatorDstAddress !== \"\") {\n            writer.uint32(26).string(message.validatorDstAddress);\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBaseDVVTriplet();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.delegatorAddress = reader.string();\n                    break;\n                case 2:\n                    message.validatorSrcAddress = reader.string();\n                    break;\n                case 3:\n                    message.validatorDstAddress = reader.string();\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const obj = createBaseDVVTriplet();\n        if ((0, helpers_1.isSet)(object.delegatorAddress))\n            obj.delegatorAddress = String(object.delegatorAddress);\n        if ((0, helpers_1.isSet)(object.validatorSrcAddress))\n            obj.validatorSrcAddress = String(object.validatorSrcAddress);\n        if ((0, helpers_1.isSet)(object.validatorDstAddress))\n            obj.validatorDstAddress = String(object.validatorDstAddress);\n        return obj;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.delegatorAddress !== undefined && (obj.delegatorAddress = message.delegatorAddress);\n        message.validatorSrcAddress !== undefined && (obj.validatorSrcAddress = message.validatorSrcAddress);\n        message.validatorDstAddress !== undefined && (obj.validatorDstAddress = message.validatorDstAddress);\n        return obj;\n    },\n    fromPartial(object) {\n        const message = createBaseDVVTriplet();\n        message.delegatorAddress = object.delegatorAddress ?? \"\";\n        message.validatorSrcAddress = object.validatorSrcAddress ?? \"\";\n        message.validatorDstAddress = object.validatorDstAddress ?? \"\";\n        return message;\n    },\n};\nfunction createBaseDVVTriplets() {\n    return {\n        triplets: [],\n    };\n}\nexports.DVVTriplets = {\n    typeUrl: \"/cosmos.staking.v1beta1.DVVTriplets\",\n    encode(message, writer = binary_1.BinaryWriter.create()) {\n        for (const v of message.triplets) {\n            exports.DVVTriplet.encode(v, writer.uint32(10).fork()).ldelim();\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBaseDVVTriplets();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.triplets.push(exports.DVVTriplet.decode(reader, reader.uint32()));\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const obj = createBaseDVVTriplets();\n        if (Array.isArray(object?.triplets))\n            obj.triplets = object.triplets.map((e) => exports.DVVTriplet.fromJSON(e));\n        return obj;\n    },\n    toJSON(message) {\n        const obj = {};\n        if (message.triplets) {\n            obj.triplets = message.triplets.map((e) => (e ? exports.DVVTriplet.toJSON(e) : undefined));\n        }\n        else {\n            obj.triplets = [];\n        }\n        return obj;\n    },\n    fromPartial(object) {\n        const message = createBaseDVVTriplets();\n        message.triplets = object.triplets?.map((e) => exports.DVVTriplet.fromPartial(e)) || [];\n        return message;\n    },\n};\nfunction createBaseDelegation() {\n    return {\n        delegatorAddress: \"\",\n        validatorAddress: \"\",\n        shares: \"\",\n    };\n}\nexports.Delegation = {\n    typeUrl: \"/cosmos.staking.v1beta1.Delegation\",\n    encode(message, writer = binary_1.BinaryWriter.create()) {\n        if (message.delegatorAddress !== \"\") {\n            writer.uint32(10).string(message.delegatorAddress);\n        }\n        if (message.validatorAddress !== \"\") {\n            writer.uint32(18).string(message.validatorAddress);\n        }\n        if (message.shares !== \"\") {\n            writer.uint32(26).string(message.shares);\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBaseDelegation();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.delegatorAddress = reader.string();\n                    break;\n                case 2:\n                    message.validatorAddress = reader.string();\n                    break;\n                case 3:\n                    message.shares = reader.string();\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const obj = createBaseDelegation();\n        if ((0, helpers_1.isSet)(object.delegatorAddress))\n            obj.delegatorAddress = String(object.delegatorAddress);\n        if ((0, helpers_1.isSet)(object.validatorAddress))\n            obj.validatorAddress = String(object.validatorAddress);\n        if ((0, helpers_1.isSet)(object.shares))\n            obj.shares = String(object.shares);\n        return obj;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.delegatorAddress !== undefined && (obj.delegatorAddress = message.delegatorAddress);\n        message.validatorAddress !== undefined && (obj.validatorAddress = message.validatorAddress);\n        message.shares !== undefined && (obj.shares = message.shares);\n        return obj;\n    },\n    fromPartial(object) {\n        const message = createBaseDelegation();\n        message.delegatorAddress = object.delegatorAddress ?? \"\";\n        message.validatorAddress = object.validatorAddress ?? \"\";\n        message.shares = object.shares ?? \"\";\n        return message;\n    },\n};\nfunction createBaseUnbondingDelegation() {\n    return {\n        delegatorAddress: \"\",\n        validatorAddress: \"\",\n        entries: [],\n    };\n}\nexports.UnbondingDelegation = {\n    typeUrl: \"/cosmos.staking.v1beta1.UnbondingDelegation\",\n    encode(message, writer = binary_1.BinaryWriter.create()) {\n        if (message.delegatorAddress !== \"\") {\n            writer.uint32(10).string(message.delegatorAddress);\n        }\n        if (message.validatorAddress !== \"\") {\n            writer.uint32(18).string(message.validatorAddress);\n        }\n        for (const v of message.entries) {\n            exports.UnbondingDelegationEntry.encode(v, writer.uint32(26).fork()).ldelim();\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBaseUnbondingDelegation();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.delegatorAddress = reader.string();\n                    break;\n                case 2:\n                    message.validatorAddress = reader.string();\n                    break;\n                case 3:\n                    message.entries.push(exports.UnbondingDelegationEntry.decode(reader, reader.uint32()));\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const obj = createBaseUnbondingDelegation();\n        if ((0, helpers_1.isSet)(object.delegatorAddress))\n            obj.delegatorAddress = String(object.delegatorAddress);\n        if ((0, helpers_1.isSet)(object.validatorAddress))\n            obj.validatorAddress = String(object.validatorAddress);\n        if (Array.isArray(object?.entries))\n            obj.entries = object.entries.map((e) => exports.UnbondingDelegationEntry.fromJSON(e));\n        return obj;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.delegatorAddress !== undefined && (obj.delegatorAddress = message.delegatorAddress);\n        message.validatorAddress !== undefined && (obj.validatorAddress = message.validatorAddress);\n        if (message.entries) {\n            obj.entries = message.entries.map((e) => (e ? exports.UnbondingDelegationEntry.toJSON(e) : undefined));\n        }\n        else {\n            obj.entries = [];\n        }\n        return obj;\n    },\n    fromPartial(object) {\n        const message = createBaseUnbondingDelegation();\n        message.delegatorAddress = object.delegatorAddress ?? \"\";\n        message.validatorAddress = object.validatorAddress ?? \"\";\n        message.entries = object.entries?.map((e) => exports.UnbondingDelegationEntry.fromPartial(e)) || [];\n        return message;\n    },\n};\nfunction createBaseUnbondingDelegationEntry() {\n    return {\n        creationHeight: BigInt(0),\n        completionTime: timestamp_1.Timestamp.fromPartial({}),\n        initialBalance: \"\",\n        balance: \"\",\n        unbondingId: BigInt(0),\n        unbondingOnHoldRefCount: BigInt(0),\n    };\n}\nexports.UnbondingDelegationEntry = {\n    typeUrl: \"/cosmos.staking.v1beta1.UnbondingDelegationEntry\",\n    encode(message, writer = binary_1.BinaryWriter.create()) {\n        if (message.creationHeight !== BigInt(0)) {\n            writer.uint32(8).int64(message.creationHeight);\n        }\n        if (message.completionTime !== undefined) {\n            timestamp_1.Timestamp.encode(message.completionTime, writer.uint32(18).fork()).ldelim();\n        }\n        if (message.initialBalance !== \"\") {\n            writer.uint32(26).string(message.initialBalance);\n        }\n        if (message.balance !== \"\") {\n            writer.uint32(34).string(message.balance);\n        }\n        if (message.unbondingId !== BigInt(0)) {\n            writer.uint32(40).uint64(message.unbondingId);\n        }\n        if (message.unbondingOnHoldRefCount !== BigInt(0)) {\n            writer.uint32(48).int64(message.unbondingOnHoldRefCount);\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBaseUnbondingDelegationEntry();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.creationHeight = reader.int64();\n                    break;\n                case 2:\n                    message.completionTime = timestamp_1.Timestamp.decode(reader, reader.uint32());\n                    break;\n                case 3:\n                    message.initialBalance = reader.string();\n                    break;\n                case 4:\n                    message.balance = reader.string();\n                    break;\n                case 5:\n                    message.unbondingId = reader.uint64();\n                    break;\n                case 6:\n                    message.unbondingOnHoldRefCount = reader.int64();\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const obj = createBaseUnbondingDelegationEntry();\n        if ((0, helpers_1.isSet)(object.creationHeight))\n            obj.creationHeight = BigInt(object.creationHeight.toString());\n        if ((0, helpers_1.isSet)(object.completionTime))\n            obj.completionTime = (0, helpers_1.fromJsonTimestamp)(object.completionTime);\n        if ((0, helpers_1.isSet)(object.initialBalance))\n            obj.initialBalance = String(object.initialBalance);\n        if ((0, helpers_1.isSet)(object.balance))\n            obj.balance = String(object.balance);\n        if ((0, helpers_1.isSet)(object.unbondingId))\n            obj.unbondingId = BigInt(object.unbondingId.toString());\n        if ((0, helpers_1.isSet)(object.unbondingOnHoldRefCount))\n            obj.unbondingOnHoldRefCount = BigInt(object.unbondingOnHoldRefCount.toString());\n        return obj;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.creationHeight !== undefined &&\n            (obj.creationHeight = (message.creationHeight || BigInt(0)).toString());\n        message.completionTime !== undefined &&\n            (obj.completionTime = (0, helpers_1.fromTimestamp)(message.completionTime).toISOString());\n        message.initialBalance !== undefined && (obj.initialBalance = message.initialBalance);\n        message.balance !== undefined && (obj.balance = message.balance);\n        message.unbondingId !== undefined && (obj.unbondingId = (message.unbondingId || BigInt(0)).toString());\n        message.unbondingOnHoldRefCount !== undefined &&\n            (obj.unbondingOnHoldRefCount = (message.unbondingOnHoldRefCount || BigInt(0)).toString());\n        return obj;\n    },\n    fromPartial(object) {\n        const message = createBaseUnbondingDelegationEntry();\n        if (object.creationHeight !== undefined && object.creationHeight !== null) {\n            message.creationHeight = BigInt(object.creationHeight.toString());\n        }\n        if (object.completionTime !== undefined && object.completionTime !== null) {\n            message.completionTime = timestamp_1.Timestamp.fromPartial(object.completionTime);\n        }\n        message.initialBalance = object.initialBalance ?? \"\";\n        message.balance = object.balance ?? \"\";\n        if (object.unbondingId !== undefined && object.unbondingId !== null) {\n            message.unbondingId = BigInt(object.unbondingId.toString());\n        }\n        if (object.unbondingOnHoldRefCount !== undefined && object.unbondingOnHoldRefCount !== null) {\n            message.unbondingOnHoldRefCount = BigInt(object.unbondingOnHoldRefCount.toString());\n        }\n        return message;\n    },\n};\nfunction createBaseRedelegationEntry() {\n    return {\n        creationHeight: BigInt(0),\n        completionTime: timestamp_1.Timestamp.fromPartial({}),\n        initialBalance: \"\",\n        sharesDst: \"\",\n        unbondingId: BigInt(0),\n        unbondingOnHoldRefCount: BigInt(0),\n    };\n}\nexports.RedelegationEntry = {\n    typeUrl: \"/cosmos.staking.v1beta1.RedelegationEntry\",\n    encode(message, writer = binary_1.BinaryWriter.create()) {\n        if (message.creationHeight !== BigInt(0)) {\n            writer.uint32(8).int64(message.creationHeight);\n        }\n        if (message.completionTime !== undefined) {\n            timestamp_1.Timestamp.encode(message.completionTime, writer.uint32(18).fork()).ldelim();\n        }\n        if (message.initialBalance !== \"\") {\n            writer.uint32(26).string(message.initialBalance);\n        }\n        if (message.sharesDst !== \"\") {\n            writer.uint32(34).string(message.sharesDst);\n        }\n        if (message.unbondingId !== BigInt(0)) {\n            writer.uint32(40).uint64(message.unbondingId);\n        }\n        if (message.unbondingOnHoldRefCount !== BigInt(0)) {\n            writer.uint32(48).int64(message.unbondingOnHoldRefCount);\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBaseRedelegationEntry();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.creationHeight = reader.int64();\n                    break;\n                case 2:\n                    message.completionTime = timestamp_1.Timestamp.decode(reader, reader.uint32());\n                    break;\n                case 3:\n                    message.initialBalance = reader.string();\n                    break;\n                case 4:\n                    message.sharesDst = reader.string();\n                    break;\n                case 5:\n                    message.unbondingId = reader.uint64();\n                    break;\n                case 6:\n                    message.unbondingOnHoldRefCount = reader.int64();\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const obj = createBaseRedelegationEntry();\n        if ((0, helpers_1.isSet)(object.creationHeight))\n            obj.creationHeight = BigInt(object.creationHeight.toString());\n        if ((0, helpers_1.isSet)(object.completionTime))\n            obj.completionTime = (0, helpers_1.fromJsonTimestamp)(object.completionTime);\n        if ((0, helpers_1.isSet)(object.initialBalance))\n            obj.initialBalance = String(object.initialBalance);\n        if ((0, helpers_1.isSet)(object.sharesDst))\n            obj.sharesDst = String(object.sharesDst);\n        if ((0, helpers_1.isSet)(object.unbondingId))\n            obj.unbondingId = BigInt(object.unbondingId.toString());\n        if ((0, helpers_1.isSet)(object.unbondingOnHoldRefCount))\n            obj.unbondingOnHoldRefCount = BigInt(object.unbondingOnHoldRefCount.toString());\n        return obj;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.creationHeight !== undefined &&\n            (obj.creationHeight = (message.creationHeight || BigInt(0)).toString());\n        message.completionTime !== undefined &&\n            (obj.completionTime = (0, helpers_1.fromTimestamp)(message.completionTime).toISOString());\n        message.initialBalance !== undefined && (obj.initialBalance = message.initialBalance);\n        message.sharesDst !== undefined && (obj.sharesDst = message.sharesDst);\n        message.unbondingId !== undefined && (obj.unbondingId = (message.unbondingId || BigInt(0)).toString());\n        message.unbondingOnHoldRefCount !== undefined &&\n            (obj.unbondingOnHoldRefCount = (message.unbondingOnHoldRefCount || BigInt(0)).toString());\n        return obj;\n    },\n    fromPartial(object) {\n        const message = createBaseRedelegationEntry();\n        if (object.creationHeight !== undefined && object.creationHeight !== null) {\n            message.creationHeight = BigInt(object.creationHeight.toString());\n        }\n        if (object.completionTime !== undefined && object.completionTime !== null) {\n            message.completionTime = timestamp_1.Timestamp.fromPartial(object.completionTime);\n        }\n        message.initialBalance = object.initialBalance ?? \"\";\n        message.sharesDst = object.sharesDst ?? \"\";\n        if (object.unbondingId !== undefined && object.unbondingId !== null) {\n            message.unbondingId = BigInt(object.unbondingId.toString());\n        }\n        if (object.unbondingOnHoldRefCount !== undefined && object.unbondingOnHoldRefCount !== null) {\n            message.unbondingOnHoldRefCount = BigInt(object.unbondingOnHoldRefCount.toString());\n        }\n        return message;\n    },\n};\nfunction createBaseRedelegation() {\n    return {\n        delegatorAddress: \"\",\n        validatorSrcAddress: \"\",\n        validatorDstAddress: \"\",\n        entries: [],\n    };\n}\nexports.Redelegation = {\n    typeUrl: \"/cosmos.staking.v1beta1.Redelegation\",\n    encode(message, writer = binary_1.BinaryWriter.create()) {\n        if (message.delegatorAddress !== \"\") {\n            writer.uint32(10).string(message.delegatorAddress);\n        }\n        if (message.validatorSrcAddress !== \"\") {\n            writer.uint32(18).string(message.validatorSrcAddress);\n        }\n        if (message.validatorDstAddress !== \"\") {\n            writer.uint32(26).string(message.validatorDstAddress);\n        }\n        for (const v of message.entries) {\n            exports.RedelegationEntry.encode(v, writer.uint32(34).fork()).ldelim();\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBaseRedelegation();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.delegatorAddress = reader.string();\n                    break;\n                case 2:\n                    message.validatorSrcAddress = reader.string();\n                    break;\n                case 3:\n                    message.validatorDstAddress = reader.string();\n                    break;\n                case 4:\n                    message.entries.push(exports.RedelegationEntry.decode(reader, reader.uint32()));\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const obj = createBaseRedelegation();\n        if ((0, helpers_1.isSet)(object.delegatorAddress))\n            obj.delegatorAddress = String(object.delegatorAddress);\n        if ((0, helpers_1.isSet)(object.validatorSrcAddress))\n            obj.validatorSrcAddress = String(object.validatorSrcAddress);\n        if ((0, helpers_1.isSet)(object.validatorDstAddress))\n            obj.validatorDstAddress = String(object.validatorDstAddress);\n        if (Array.isArray(object?.entries))\n            obj.entries = object.entries.map((e) => exports.RedelegationEntry.fromJSON(e));\n        return obj;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.delegatorAddress !== undefined && (obj.delegatorAddress = message.delegatorAddress);\n        message.validatorSrcAddress !== undefined && (obj.validatorSrcAddress = message.validatorSrcAddress);\n        message.validatorDstAddress !== undefined && (obj.validatorDstAddress = message.validatorDstAddress);\n        if (message.entries) {\n            obj.entries = message.entries.map((e) => (e ? exports.RedelegationEntry.toJSON(e) : undefined));\n        }\n        else {\n            obj.entries = [];\n        }\n        return obj;\n    },\n    fromPartial(object) {\n        const message = createBaseRedelegation();\n        message.delegatorAddress = object.delegatorAddress ?? \"\";\n        message.validatorSrcAddress = object.validatorSrcAddress ?? \"\";\n        message.validatorDstAddress = object.validatorDstAddress ?? \"\";\n        message.entries = object.entries?.map((e) => exports.RedelegationEntry.fromPartial(e)) || [];\n        return message;\n    },\n};\nfunction createBaseParams() {\n    return {\n        unbondingTime: duration_1.Duration.fromPartial({}),\n        maxValidators: 0,\n        maxEntries: 0,\n        historicalEntries: 0,\n        bondDenom: \"\",\n        minCommissionRate: \"\",\n    };\n}\nexports.Params = {\n    typeUrl: \"/cosmos.staking.v1beta1.Params\",\n    encode(message, writer = binary_1.BinaryWriter.create()) {\n        if (message.unbondingTime !== undefined) {\n            duration_1.Duration.encode(message.unbondingTime, writer.uint32(10).fork()).ldelim();\n        }\n        if (message.maxValidators !== 0) {\n            writer.uint32(16).uint32(message.maxValidators);\n        }\n        if (message.maxEntries !== 0) {\n            writer.uint32(24).uint32(message.maxEntries);\n        }\n        if (message.historicalEntries !== 0) {\n            writer.uint32(32).uint32(message.historicalEntries);\n        }\n        if (message.bondDenom !== \"\") {\n            writer.uint32(42).string(message.bondDenom);\n        }\n        if (message.minCommissionRate !== \"\") {\n            writer.uint32(50).string(message.minCommissionRate);\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBaseParams();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.unbondingTime = duration_1.Duration.decode(reader, reader.uint32());\n                    break;\n                case 2:\n                    message.maxValidators = reader.uint32();\n                    break;\n                case 3:\n                    message.maxEntries = reader.uint32();\n                    break;\n                case 4:\n                    message.historicalEntries = reader.uint32();\n                    break;\n                case 5:\n                    message.bondDenom = reader.string();\n                    break;\n                case 6:\n                    message.minCommissionRate = reader.string();\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const obj = createBaseParams();\n        if ((0, helpers_1.isSet)(object.unbondingTime))\n            obj.unbondingTime = duration_1.Duration.fromJSON(object.unbondingTime);\n        if ((0, helpers_1.isSet)(object.maxValidators))\n            obj.maxValidators = Number(object.maxValidators);\n        if ((0, helpers_1.isSet)(object.maxEntries))\n            obj.maxEntries = Number(object.maxEntries);\n        if ((0, helpers_1.isSet)(object.historicalEntries))\n            obj.historicalEntries = Number(object.historicalEntries);\n        if ((0, helpers_1.isSet)(object.bondDenom))\n            obj.bondDenom = String(object.bondDenom);\n        if ((0, helpers_1.isSet)(object.minCommissionRate))\n            obj.minCommissionRate = String(object.minCommissionRate);\n        return obj;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.unbondingTime !== undefined &&\n            (obj.unbondingTime = message.unbondingTime ? duration_1.Duration.toJSON(message.unbondingTime) : undefined);\n        message.maxValidators !== undefined && (obj.maxValidators = Math.round(message.maxValidators));\n        message.maxEntries !== undefined && (obj.maxEntries = Math.round(message.maxEntries));\n        message.historicalEntries !== undefined &&\n            (obj.historicalEntries = Math.round(message.historicalEntries));\n        message.bondDenom !== undefined && (obj.bondDenom = message.bondDenom);\n        message.minCommissionRate !== undefined && (obj.minCommissionRate = message.minCommissionRate);\n        return obj;\n    },\n    fromPartial(object) {\n        const message = createBaseParams();\n        if (object.unbondingTime !== undefined && object.unbondingTime !== null) {\n            message.unbondingTime = duration_1.Duration.fromPartial(object.unbondingTime);\n        }\n        message.maxValidators = object.maxValidators ?? 0;\n        message.maxEntries = object.maxEntries ?? 0;\n        message.historicalEntries = object.historicalEntries ?? 0;\n        message.bondDenom = object.bondDenom ?? \"\";\n        message.minCommissionRate = object.minCommissionRate ?? \"\";\n        return message;\n    },\n};\nfunction createBaseDelegationResponse() {\n    return {\n        delegation: exports.Delegation.fromPartial({}),\n        balance: coin_1.Coin.fromPartial({}),\n    };\n}\nexports.DelegationResponse = {\n    typeUrl: \"/cosmos.staking.v1beta1.DelegationResponse\",\n    encode(message, writer = binary_1.BinaryWriter.create()) {\n        if (message.delegation !== undefined) {\n            exports.Delegation.encode(message.delegation, writer.uint32(10).fork()).ldelim();\n        }\n        if (message.balance !== undefined) {\n            coin_1.Coin.encode(message.balance, writer.uint32(18).fork()).ldelim();\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBaseDelegationResponse();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.delegation = exports.Delegation.decode(reader, reader.uint32());\n                    break;\n                case 2:\n                    message.balance = coin_1.Coin.decode(reader, reader.uint32());\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const obj = createBaseDelegationResponse();\n        if ((0, helpers_1.isSet)(object.delegation))\n            obj.delegation = exports.Delegation.fromJSON(object.delegation);\n        if ((0, helpers_1.isSet)(object.balance))\n            obj.balance = coin_1.Coin.fromJSON(object.balance);\n        return obj;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.delegation !== undefined &&\n            (obj.delegation = message.delegation ? exports.Delegation.toJSON(message.delegation) : undefined);\n        message.balance !== undefined &&\n            (obj.balance = message.balance ? coin_1.Coin.toJSON(message.balance) : undefined);\n        return obj;\n    },\n    fromPartial(object) {\n        const message = createBaseDelegationResponse();\n        if (object.delegation !== undefined && object.delegation !== null) {\n            message.delegation = exports.Delegation.fromPartial(object.delegation);\n        }\n        if (object.balance !== undefined && object.balance !== null) {\n            message.balance = coin_1.Coin.fromPartial(object.balance);\n        }\n        return message;\n    },\n};\nfunction createBaseRedelegationEntryResponse() {\n    return {\n        redelegationEntry: exports.RedelegationEntry.fromPartial({}),\n        balance: \"\",\n    };\n}\nexports.RedelegationEntryResponse = {\n    typeUrl: \"/cosmos.staking.v1beta1.RedelegationEntryResponse\",\n    encode(message, writer = binary_1.BinaryWriter.create()) {\n        if (message.redelegationEntry !== undefined) {\n            exports.RedelegationEntry.encode(message.redelegationEntry, writer.uint32(10).fork()).ldelim();\n        }\n        if (message.balance !== \"\") {\n            writer.uint32(34).string(message.balance);\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBaseRedelegationEntryResponse();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.redelegationEntry = exports.RedelegationEntry.decode(reader, reader.uint32());\n                    break;\n                case 4:\n                    message.balance = reader.string();\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const obj = createBaseRedelegationEntryResponse();\n        if ((0, helpers_1.isSet)(object.redelegationEntry))\n            obj.redelegationEntry = exports.RedelegationEntry.fromJSON(object.redelegationEntry);\n        if ((0, helpers_1.isSet)(object.balance))\n            obj.balance = String(object.balance);\n        return obj;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.redelegationEntry !== undefined &&\n            (obj.redelegationEntry = message.redelegationEntry\n                ? exports.RedelegationEntry.toJSON(message.redelegationEntry)\n                : undefined);\n        message.balance !== undefined && (obj.balance = message.balance);\n        return obj;\n    },\n    fromPartial(object) {\n        const message = createBaseRedelegationEntryResponse();\n        if (object.redelegationEntry !== undefined && object.redelegationEntry !== null) {\n            message.redelegationEntry = exports.RedelegationEntry.fromPartial(object.redelegationEntry);\n        }\n        message.balance = object.balance ?? \"\";\n        return message;\n    },\n};\nfunction createBaseRedelegationResponse() {\n    return {\n        redelegation: exports.Redelegation.fromPartial({}),\n        entries: [],\n    };\n}\nexports.RedelegationResponse = {\n    typeUrl: \"/cosmos.staking.v1beta1.RedelegationResponse\",\n    encode(message, writer = binary_1.BinaryWriter.create()) {\n        if (message.redelegation !== undefined) {\n            exports.Redelegation.encode(message.redelegation, writer.uint32(10).fork()).ldelim();\n        }\n        for (const v of message.entries) {\n            exports.RedelegationEntryResponse.encode(v, writer.uint32(18).fork()).ldelim();\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBaseRedelegationResponse();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.redelegation = exports.Redelegation.decode(reader, reader.uint32());\n                    break;\n                case 2:\n                    message.entries.push(exports.RedelegationEntryResponse.decode(reader, reader.uint32()));\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const obj = createBaseRedelegationResponse();\n        if ((0, helpers_1.isSet)(object.redelegation))\n            obj.redelegation = exports.Redelegation.fromJSON(object.redelegation);\n        if (Array.isArray(object?.entries))\n            obj.entries = object.entries.map((e) => exports.RedelegationEntryResponse.fromJSON(e));\n        return obj;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.redelegation !== undefined &&\n            (obj.redelegation = message.redelegation ? exports.Redelegation.toJSON(message.redelegation) : undefined);\n        if (message.entries) {\n            obj.entries = message.entries.map((e) => (e ? exports.RedelegationEntryResponse.toJSON(e) : undefined));\n        }\n        else {\n            obj.entries = [];\n        }\n        return obj;\n    },\n    fromPartial(object) {\n        const message = createBaseRedelegationResponse();\n        if (object.redelegation !== undefined && object.redelegation !== null) {\n            message.redelegation = exports.Redelegation.fromPartial(object.redelegation);\n        }\n        message.entries = object.entries?.map((e) => exports.RedelegationEntryResponse.fromPartial(e)) || [];\n        return message;\n    },\n};\nfunction createBasePool() {\n    return {\n        notBondedTokens: \"\",\n        bondedTokens: \"\",\n    };\n}\nexports.Pool = {\n    typeUrl: \"/cosmos.staking.v1beta1.Pool\",\n    encode(message, writer = binary_1.BinaryWriter.create()) {\n        if (message.notBondedTokens !== \"\") {\n            writer.uint32(10).string(message.notBondedTokens);\n        }\n        if (message.bondedTokens !== \"\") {\n            writer.uint32(18).string(message.bondedTokens);\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBasePool();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.notBondedTokens = reader.string();\n                    break;\n                case 2:\n                    message.bondedTokens = reader.string();\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const obj = createBasePool();\n        if ((0, helpers_1.isSet)(object.notBondedTokens))\n            obj.notBondedTokens = String(object.notBondedTokens);\n        if ((0, helpers_1.isSet)(object.bondedTokens))\n            obj.bondedTokens = String(object.bondedTokens);\n        return obj;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.notBondedTokens !== undefined && (obj.notBondedTokens = message.notBondedTokens);\n        message.bondedTokens !== undefined && (obj.bondedTokens = message.bondedTokens);\n        return obj;\n    },\n    fromPartial(object) {\n        const message = createBasePool();\n        message.notBondedTokens = object.notBondedTokens ?? \"\";\n        message.bondedTokens = object.bondedTokens ?? \"\";\n        return message;\n    },\n};\nfunction createBaseValidatorUpdates() {\n    return {\n        updates: [],\n    };\n}\nexports.ValidatorUpdates = {\n    typeUrl: \"/cosmos.staking.v1beta1.ValidatorUpdates\",\n    encode(message, writer = binary_1.BinaryWriter.create()) {\n        for (const v of message.updates) {\n            types_2.ValidatorUpdate.encode(v, writer.uint32(10).fork()).ldelim();\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBaseValidatorUpdates();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.updates.push(types_2.ValidatorUpdate.decode(reader, reader.uint32()));\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const obj = createBaseValidatorUpdates();\n        if (Array.isArray(object?.updates))\n            obj.updates = object.updates.map((e) => types_2.ValidatorUpdate.fromJSON(e));\n        return obj;\n    },\n    toJSON(message) {\n        const obj = {};\n        if (message.updates) {\n            obj.updates = message.updates.map((e) => (e ? types_2.ValidatorUpdate.toJSON(e) : undefined));\n        }\n        else {\n            obj.updates = [];\n        }\n        return obj;\n    },\n    fromPartial(object) {\n        const message = createBaseValidatorUpdates();\n        message.updates = object.updates?.map((e) => types_2.ValidatorUpdate.fromPartial(e)) || [];\n        return message;\n    },\n};\n//# sourceMappingURL=staking.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ServiceClientImpl = exports.TxDecodeAminoResponse = exports.TxDecodeAminoRequest = exports.TxEncodeAminoResponse = exports.TxEncodeAminoRequest = exports.TxEncodeResponse = exports.TxEncodeRequest = exports.TxDecodeResponse = exports.TxDecodeRequest = exports.GetBlockWithTxsResponse = exports.GetBlockWithTxsRequest = exports.GetTxResponse = exports.GetTxRequest = exports.SimulateResponse = exports.SimulateRequest = exports.BroadcastTxResponse = exports.BroadcastTxRequest = exports.GetTxsEventResponse = exports.GetTxsEventRequest = exports.broadcastModeToJSON = exports.broadcastModeFromJSON = exports.BroadcastMode = exports.orderByToJSON = exports.orderByFromJSON = exports.OrderBy = exports.protobufPackage = void 0;\n/* eslint-disable */\nconst tx_1 = require(\"./tx\");\nconst pagination_1 = require(\"../../base/query/v1beta1/pagination\");\nconst abci_1 = require(\"../../base/abci/v1beta1/abci\");\nconst types_1 = require(\"../../../tendermint/types/types\");\nconst block_1 = require(\"../../../tendermint/types/block\");\nconst binary_1 = require(\"../../../binary\");\nconst helpers_1 = require(\"../../../helpers\");\nexports.protobufPackage = \"cosmos.tx.v1beta1\";\n/** OrderBy defines the sorting order */\nvar OrderBy;\n(function (OrderBy) {\n    /** ORDER_BY_UNSPECIFIED - ORDER_BY_UNSPECIFIED specifies an unknown sorting order. OrderBy defaults to ASC in this case. */\n    OrderBy[OrderBy[\"ORDER_BY_UNSPECIFIED\"] = 0] = \"ORDER_BY_UNSPECIFIED\";\n    /** ORDER_BY_ASC - ORDER_BY_ASC defines ascending order */\n    OrderBy[OrderBy[\"ORDER_BY_ASC\"] = 1] = \"ORDER_BY_ASC\";\n    /** ORDER_BY_DESC - ORDER_BY_DESC defines descending order */\n    OrderBy[OrderBy[\"ORDER_BY_DESC\"] = 2] = \"ORDER_BY_DESC\";\n    OrderBy[OrderBy[\"UNRECOGNIZED\"] = -1] = \"UNRECOGNIZED\";\n})(OrderBy || (exports.OrderBy = OrderBy = {}));\nfunction orderByFromJSON(object) {\n    switch (object) {\n        case 0:\n        case \"ORDER_BY_UNSPECIFIED\":\n            return OrderBy.ORDER_BY_UNSPECIFIED;\n        case 1:\n        case \"ORDER_BY_ASC\":\n            return OrderBy.ORDER_BY_ASC;\n        case 2:\n        case \"ORDER_BY_DESC\":\n            return OrderBy.ORDER_BY_DESC;\n        case -1:\n        case \"UNRECOGNIZED\":\n        default:\n            return OrderBy.UNRECOGNIZED;\n    }\n}\nexports.orderByFromJSON = orderByFromJSON;\nfunction orderByToJSON(object) {\n    switch (object) {\n        case OrderBy.ORDER_BY_UNSPECIFIED:\n            return \"ORDER_BY_UNSPECIFIED\";\n        case OrderBy.ORDER_BY_ASC:\n            return \"ORDER_BY_ASC\";\n        case OrderBy.ORDER_BY_DESC:\n            return \"ORDER_BY_DESC\";\n        case OrderBy.UNRECOGNIZED:\n        default:\n            return \"UNRECOGNIZED\";\n    }\n}\nexports.orderByToJSON = orderByToJSON;\n/** BroadcastMode specifies the broadcast mode for the TxService.Broadcast RPC method. */\nvar BroadcastMode;\n(function (BroadcastMode) {\n    /** BROADCAST_MODE_UNSPECIFIED - zero-value for mode ordering */\n    BroadcastMode[BroadcastMode[\"BROADCAST_MODE_UNSPECIFIED\"] = 0] = \"BROADCAST_MODE_UNSPECIFIED\";\n    /**\n     * BROADCAST_MODE_BLOCK - DEPRECATED: use BROADCAST_MODE_SYNC instead,\n     * BROADCAST_MODE_BLOCK is not supported by the SDK from v0.47.x onwards.\n     */\n    BroadcastMode[BroadcastMode[\"BROADCAST_MODE_BLOCK\"] = 1] = \"BROADCAST_MODE_BLOCK\";\n    /**\n     * BROADCAST_MODE_SYNC - BROADCAST_MODE_SYNC defines a tx broadcasting mode where the client waits for\n     * a CheckTx execution response only.\n     */\n    BroadcastMode[BroadcastMode[\"BROADCAST_MODE_SYNC\"] = 2] = \"BROADCAST_MODE_SYNC\";\n    /**\n     * BROADCAST_MODE_ASYNC - BROADCAST_MODE_ASYNC defines a tx broadcasting mode where the client returns\n     * immediately.\n     */\n    BroadcastMode[BroadcastMode[\"BROADCAST_MODE_ASYNC\"] = 3] = \"BROADCAST_MODE_ASYNC\";\n    BroadcastMode[BroadcastMode[\"UNRECOGNIZED\"] = -1] = \"UNRECOGNIZED\";\n})(BroadcastMode || (exports.BroadcastMode = BroadcastMode = {}));\nfunction broadcastModeFromJSON(object) {\n    switch (object) {\n        case 0:\n        case \"BROADCAST_MODE_UNSPECIFIED\":\n            return BroadcastMode.BROADCAST_MODE_UNSPECIFIED;\n        case 1:\n        case \"BROADCAST_MODE_BLOCK\":\n            return BroadcastMode.BROADCAST_MODE_BLOCK;\n        case 2:\n        case \"BROADCAST_MODE_SYNC\":\n            return BroadcastMode.BROADCAST_MODE_SYNC;\n        case 3:\n        case \"BROADCAST_MODE_ASYNC\":\n            return BroadcastMode.BROADCAST_MODE_ASYNC;\n        case -1:\n        case \"UNRECOGNIZED\":\n        default:\n            return BroadcastMode.UNRECOGNIZED;\n    }\n}\nexports.broadcastModeFromJSON = broadcastModeFromJSON;\nfunction broadcastModeToJSON(object) {\n    switch (object) {\n        case BroadcastMode.BROADCAST_MODE_UNSPECIFIED:\n            return \"BROADCAST_MODE_UNSPECIFIED\";\n        case BroadcastMode.BROADCAST_MODE_BLOCK:\n            return \"BROADCAST_MODE_BLOCK\";\n        case BroadcastMode.BROADCAST_MODE_SYNC:\n            return \"BROADCAST_MODE_SYNC\";\n        case BroadcastMode.BROADCAST_MODE_ASYNC:\n            return \"BROADCAST_MODE_ASYNC\";\n        case BroadcastMode.UNRECOGNIZED:\n        default:\n            return \"UNRECOGNIZED\";\n    }\n}\nexports.broadcastModeToJSON = broadcastModeToJSON;\nfunction createBaseGetTxsEventRequest() {\n    return {\n        events: [],\n        pagination: undefined,\n        orderBy: 0,\n        page: BigInt(0),\n        limit: BigInt(0),\n    };\n}\nexports.GetTxsEventRequest = {\n    typeUrl: \"/cosmos.tx.v1beta1.GetTxsEventRequest\",\n    encode(message, writer = binary_1.BinaryWriter.create()) {\n        for (const v of message.events) {\n            writer.uint32(10).string(v);\n        }\n        if (message.pagination !== undefined) {\n            pagination_1.PageRequest.encode(message.pagination, writer.uint32(18).fork()).ldelim();\n        }\n        if (message.orderBy !== 0) {\n            writer.uint32(24).int32(message.orderBy);\n        }\n        if (message.page !== BigInt(0)) {\n            writer.uint32(32).uint64(message.page);\n        }\n        if (message.limit !== BigInt(0)) {\n            writer.uint32(40).uint64(message.limit);\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBaseGetTxsEventRequest();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.events.push(reader.string());\n                    break;\n                case 2:\n                    message.pagination = pagination_1.PageRequest.decode(reader, reader.uint32());\n                    break;\n                case 3:\n                    message.orderBy = reader.int32();\n                    break;\n                case 4:\n                    message.page = reader.uint64();\n                    break;\n                case 5:\n                    message.limit = reader.uint64();\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const obj = createBaseGetTxsEventRequest();\n        if (Array.isArray(object?.events))\n            obj.events = object.events.map((e) => String(e));\n        if ((0, helpers_1.isSet)(object.pagination))\n            obj.pagination = pagination_1.PageRequest.fromJSON(object.pagination);\n        if ((0, helpers_1.isSet)(object.orderBy))\n            obj.orderBy = orderByFromJSON(object.orderBy);\n        if ((0, helpers_1.isSet)(object.page))\n            obj.page = BigInt(object.page.toString());\n        if ((0, helpers_1.isSet)(object.limit))\n            obj.limit = BigInt(object.limit.toString());\n        return obj;\n    },\n    toJSON(message) {\n        const obj = {};\n        if (message.events) {\n            obj.events = message.events.map((e) => e);\n        }\n        else {\n            obj.events = [];\n        }\n        message.pagination !== undefined &&\n            (obj.pagination = message.pagination ? pagination_1.PageRequest.toJSON(message.pagination) : undefined);\n        message.orderBy !== undefined && (obj.orderBy = orderByToJSON(message.orderBy));\n        message.page !== undefined && (obj.page = (message.page || BigInt(0)).toString());\n        message.limit !== undefined && (obj.limit = (message.limit || BigInt(0)).toString());\n        return obj;\n    },\n    fromPartial(object) {\n        const message = createBaseGetTxsEventRequest();\n        message.events = object.events?.map((e) => e) || [];\n        if (object.pagination !== undefined && object.pagination !== null) {\n            message.pagination = pagination_1.PageRequest.fromPartial(object.pagination);\n        }\n        message.orderBy = object.orderBy ?? 0;\n        if (object.page !== undefined && object.page !== null) {\n            message.page = BigInt(object.page.toString());\n        }\n        if (object.limit !== undefined && object.limit !== null) {\n            message.limit = BigInt(object.limit.toString());\n        }\n        return message;\n    },\n};\nfunction createBaseGetTxsEventResponse() {\n    return {\n        txs: [],\n        txResponses: [],\n        pagination: undefined,\n        total: BigInt(0),\n    };\n}\nexports.GetTxsEventResponse = {\n    typeUrl: \"/cosmos.tx.v1beta1.GetTxsEventResponse\",\n    encode(message, writer = binary_1.BinaryWriter.create()) {\n        for (const v of message.txs) {\n            tx_1.Tx.encode(v, writer.uint32(10).fork()).ldelim();\n        }\n        for (const v of message.txResponses) {\n            abci_1.TxResponse.encode(v, writer.uint32(18).fork()).ldelim();\n        }\n        if (message.pagination !== undefined) {\n            pagination_1.PageResponse.encode(message.pagination, writer.uint32(26).fork()).ldelim();\n        }\n        if (message.total !== BigInt(0)) {\n            writer.uint32(32).uint64(message.total);\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBaseGetTxsEventResponse();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.txs.push(tx_1.Tx.decode(reader, reader.uint32()));\n                    break;\n                case 2:\n                    message.txResponses.push(abci_1.TxResponse.decode(reader, reader.uint32()));\n                    break;\n                case 3:\n                    message.pagination = pagination_1.PageResponse.decode(reader, reader.uint32());\n                    break;\n                case 4:\n                    message.total = reader.uint64();\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const obj = createBaseGetTxsEventResponse();\n        if (Array.isArray(object?.txs))\n            obj.txs = object.txs.map((e) => tx_1.Tx.fromJSON(e));\n        if (Array.isArray(object?.txResponses))\n            obj.txResponses = object.txResponses.map((e) => abci_1.TxResponse.fromJSON(e));\n        if ((0, helpers_1.isSet)(object.pagination))\n            obj.pagination = pagination_1.PageResponse.fromJSON(object.pagination);\n        if ((0, helpers_1.isSet)(object.total))\n            obj.total = BigInt(object.total.toString());\n        return obj;\n    },\n    toJSON(message) {\n        const obj = {};\n        if (message.txs) {\n            obj.txs = message.txs.map((e) => (e ? tx_1.Tx.toJSON(e) : undefined));\n        }\n        else {\n            obj.txs = [];\n        }\n        if (message.txResponses) {\n            obj.txResponses = message.txResponses.map((e) => (e ? abci_1.TxResponse.toJSON(e) : undefined));\n        }\n        else {\n            obj.txResponses = [];\n        }\n        message.pagination !== undefined &&\n            (obj.pagination = message.pagination ? pagination_1.PageResponse.toJSON(message.pagination) : undefined);\n        message.total !== undefined && (obj.total = (message.total || BigInt(0)).toString());\n        return obj;\n    },\n    fromPartial(object) {\n        const message = createBaseGetTxsEventResponse();\n        message.txs = object.txs?.map((e) => tx_1.Tx.fromPartial(e)) || [];\n        message.txResponses = object.txResponses?.map((e) => abci_1.TxResponse.fromPartial(e)) || [];\n        if (object.pagination !== undefined && object.pagination !== null) {\n            message.pagination = pagination_1.PageResponse.fromPartial(object.pagination);\n        }\n        if (object.total !== undefined && object.total !== null) {\n            message.total = BigInt(object.total.toString());\n        }\n        return message;\n    },\n};\nfunction createBaseBroadcastTxRequest() {\n    return {\n        txBytes: new Uint8Array(),\n        mode: 0,\n    };\n}\nexports.BroadcastTxRequest = {\n    typeUrl: \"/cosmos.tx.v1beta1.BroadcastTxRequest\",\n    encode(message, writer = binary_1.BinaryWriter.create()) {\n        if (message.txBytes.length !== 0) {\n            writer.uint32(10).bytes(message.txBytes);\n        }\n        if (message.mode !== 0) {\n            writer.uint32(16).int32(message.mode);\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBaseBroadcastTxRequest();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.txBytes = reader.bytes();\n                    break;\n                case 2:\n                    message.mode = reader.int32();\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const obj = createBaseBroadcastTxRequest();\n        if ((0, helpers_1.isSet)(object.txBytes))\n            obj.txBytes = (0, helpers_1.bytesFromBase64)(object.txBytes);\n        if ((0, helpers_1.isSet)(object.mode))\n            obj.mode = broadcastModeFromJSON(object.mode);\n        return obj;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.txBytes !== undefined &&\n            (obj.txBytes = (0, helpers_1.base64FromBytes)(message.txBytes !== undefined ? message.txBytes : new Uint8Array()));\n        message.mode !== undefined && (obj.mode = broadcastModeToJSON(message.mode));\n        return obj;\n    },\n    fromPartial(object) {\n        const message = createBaseBroadcastTxRequest();\n        message.txBytes = object.txBytes ?? new Uint8Array();\n        message.mode = object.mode ?? 0;\n        return message;\n    },\n};\nfunction createBaseBroadcastTxResponse() {\n    return {\n        txResponse: undefined,\n    };\n}\nexports.BroadcastTxResponse = {\n    typeUrl: \"/cosmos.tx.v1beta1.BroadcastTxResponse\",\n    encode(message, writer = binary_1.BinaryWriter.create()) {\n        if (message.txResponse !== undefined) {\n            abci_1.TxResponse.encode(message.txResponse, writer.uint32(10).fork()).ldelim();\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBaseBroadcastTxResponse();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.txResponse = abci_1.TxResponse.decode(reader, reader.uint32());\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const obj = createBaseBroadcastTxResponse();\n        if ((0, helpers_1.isSet)(object.txResponse))\n            obj.txResponse = abci_1.TxResponse.fromJSON(object.txResponse);\n        return obj;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.txResponse !== undefined &&\n            (obj.txResponse = message.txResponse ? abci_1.TxResponse.toJSON(message.txResponse) : undefined);\n        return obj;\n    },\n    fromPartial(object) {\n        const message = createBaseBroadcastTxResponse();\n        if (object.txResponse !== undefined && object.txResponse !== null) {\n            message.txResponse = abci_1.TxResponse.fromPartial(object.txResponse);\n        }\n        return message;\n    },\n};\nfunction createBaseSimulateRequest() {\n    return {\n        tx: undefined,\n        txBytes: new Uint8Array(),\n    };\n}\nexports.SimulateRequest = {\n    typeUrl: \"/cosmos.tx.v1beta1.SimulateRequest\",\n    encode(message, writer = binary_1.BinaryWriter.create()) {\n        if (message.tx !== undefined) {\n            tx_1.Tx.encode(message.tx, writer.uint32(10).fork()).ldelim();\n        }\n        if (message.txBytes.length !== 0) {\n            writer.uint32(18).bytes(message.txBytes);\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBaseSimulateRequest();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.tx = tx_1.Tx.decode(reader, reader.uint32());\n                    break;\n                case 2:\n                    message.txBytes = reader.bytes();\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const obj = createBaseSimulateRequest();\n        if ((0, helpers_1.isSet)(object.tx))\n            obj.tx = tx_1.Tx.fromJSON(object.tx);\n        if ((0, helpers_1.isSet)(object.txBytes))\n            obj.txBytes = (0, helpers_1.bytesFromBase64)(object.txBytes);\n        return obj;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.tx !== undefined && (obj.tx = message.tx ? tx_1.Tx.toJSON(message.tx) : undefined);\n        message.txBytes !== undefined &&\n            (obj.txBytes = (0, helpers_1.base64FromBytes)(message.txBytes !== undefined ? message.txBytes : new Uint8Array()));\n        return obj;\n    },\n    fromPartial(object) {\n        const message = createBaseSimulateRequest();\n        if (object.tx !== undefined && object.tx !== null) {\n            message.tx = tx_1.Tx.fromPartial(object.tx);\n        }\n        message.txBytes = object.txBytes ?? new Uint8Array();\n        return message;\n    },\n};\nfunction createBaseSimulateResponse() {\n    return {\n        gasInfo: undefined,\n        result: undefined,\n    };\n}\nexports.SimulateResponse = {\n    typeUrl: \"/cosmos.tx.v1beta1.SimulateResponse\",\n    encode(message, writer = binary_1.BinaryWriter.create()) {\n        if (message.gasInfo !== undefined) {\n            abci_1.GasInfo.encode(message.gasInfo, writer.uint32(10).fork()).ldelim();\n        }\n        if (message.result !== undefined) {\n            abci_1.Result.encode(message.result, writer.uint32(18).fork()).ldelim();\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBaseSimulateResponse();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.gasInfo = abci_1.GasInfo.decode(reader, reader.uint32());\n                    break;\n                case 2:\n                    message.result = abci_1.Result.decode(reader, reader.uint32());\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const obj = createBaseSimulateResponse();\n        if ((0, helpers_1.isSet)(object.gasInfo))\n            obj.gasInfo = abci_1.GasInfo.fromJSON(object.gasInfo);\n        if ((0, helpers_1.isSet)(object.result))\n            obj.result = abci_1.Result.fromJSON(object.result);\n        return obj;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.gasInfo !== undefined &&\n            (obj.gasInfo = message.gasInfo ? abci_1.GasInfo.toJSON(message.gasInfo) : undefined);\n        message.result !== undefined && (obj.result = message.result ? abci_1.Result.toJSON(message.result) : undefined);\n        return obj;\n    },\n    fromPartial(object) {\n        const message = createBaseSimulateResponse();\n        if (object.gasInfo !== undefined && object.gasInfo !== null) {\n            message.gasInfo = abci_1.GasInfo.fromPartial(object.gasInfo);\n        }\n        if (object.result !== undefined && object.result !== null) {\n            message.result = abci_1.Result.fromPartial(object.result);\n        }\n        return message;\n    },\n};\nfunction createBaseGetTxRequest() {\n    return {\n        hash: \"\",\n    };\n}\nexports.GetTxRequest = {\n    typeUrl: \"/cosmos.tx.v1beta1.GetTxRequest\",\n    encode(message, writer = binary_1.BinaryWriter.create()) {\n        if (message.hash !== \"\") {\n            writer.uint32(10).string(message.hash);\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBaseGetTxRequest();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.hash = reader.string();\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const obj = createBaseGetTxRequest();\n        if ((0, helpers_1.isSet)(object.hash))\n            obj.hash = String(object.hash);\n        return obj;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.hash !== undefined && (obj.hash = message.hash);\n        return obj;\n    },\n    fromPartial(object) {\n        const message = createBaseGetTxRequest();\n        message.hash = object.hash ?? \"\";\n        return message;\n    },\n};\nfunction createBaseGetTxResponse() {\n    return {\n        tx: undefined,\n        txResponse: undefined,\n    };\n}\nexports.GetTxResponse = {\n    typeUrl: \"/cosmos.tx.v1beta1.GetTxResponse\",\n    encode(message, writer = binary_1.BinaryWriter.create()) {\n        if (message.tx !== undefined) {\n            tx_1.Tx.encode(message.tx, writer.uint32(10).fork()).ldelim();\n        }\n        if (message.txResponse !== undefined) {\n            abci_1.TxResponse.encode(message.txResponse, writer.uint32(18).fork()).ldelim();\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBaseGetTxResponse();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.tx = tx_1.Tx.decode(reader, reader.uint32());\n                    break;\n                case 2:\n                    message.txResponse = abci_1.TxResponse.decode(reader, reader.uint32());\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const obj = createBaseGetTxResponse();\n        if ((0, helpers_1.isSet)(object.tx))\n            obj.tx = tx_1.Tx.fromJSON(object.tx);\n        if ((0, helpers_1.isSet)(object.txResponse))\n            obj.txResponse = abci_1.TxResponse.fromJSON(object.txResponse);\n        return obj;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.tx !== undefined && (obj.tx = message.tx ? tx_1.Tx.toJSON(message.tx) : undefined);\n        message.txResponse !== undefined &&\n            (obj.txResponse = message.txResponse ? abci_1.TxResponse.toJSON(message.txResponse) : undefined);\n        return obj;\n    },\n    fromPartial(object) {\n        const message = createBaseGetTxResponse();\n        if (object.tx !== undefined && object.tx !== null) {\n            message.tx = tx_1.Tx.fromPartial(object.tx);\n        }\n        if (object.txResponse !== undefined && object.txResponse !== null) {\n            message.txResponse = abci_1.TxResponse.fromPartial(object.txResponse);\n        }\n        return message;\n    },\n};\nfunction createBaseGetBlockWithTxsRequest() {\n    return {\n        height: BigInt(0),\n        pagination: undefined,\n    };\n}\nexports.GetBlockWithTxsRequest = {\n    typeUrl: \"/cosmos.tx.v1beta1.GetBlockWithTxsRequest\",\n    encode(message, writer = binary_1.BinaryWriter.create()) {\n        if (message.height !== BigInt(0)) {\n            writer.uint32(8).int64(message.height);\n        }\n        if (message.pagination !== undefined) {\n            pagination_1.PageRequest.encode(message.pagination, writer.uint32(18).fork()).ldelim();\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBaseGetBlockWithTxsRequest();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.height = reader.int64();\n                    break;\n                case 2:\n                    message.pagination = pagination_1.PageRequest.decode(reader, reader.uint32());\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const obj = createBaseGetBlockWithTxsRequest();\n        if ((0, helpers_1.isSet)(object.height))\n            obj.height = BigInt(object.height.toString());\n        if ((0, helpers_1.isSet)(object.pagination))\n            obj.pagination = pagination_1.PageRequest.fromJSON(object.pagination);\n        return obj;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.height !== undefined && (obj.height = (message.height || BigInt(0)).toString());\n        message.pagination !== undefined &&\n            (obj.pagination = message.pagination ? pagination_1.PageRequest.toJSON(message.pagination) : undefined);\n        return obj;\n    },\n    fromPartial(object) {\n        const message = createBaseGetBlockWithTxsRequest();\n        if (object.height !== undefined && object.height !== null) {\n            message.height = BigInt(object.height.toString());\n        }\n        if (object.pagination !== undefined && object.pagination !== null) {\n            message.pagination = pagination_1.PageRequest.fromPartial(object.pagination);\n        }\n        return message;\n    },\n};\nfunction createBaseGetBlockWithTxsResponse() {\n    return {\n        txs: [],\n        blockId: undefined,\n        block: undefined,\n        pagination: undefined,\n    };\n}\nexports.GetBlockWithTxsResponse = {\n    typeUrl: \"/cosmos.tx.v1beta1.GetBlockWithTxsResponse\",\n    encode(message, writer = binary_1.BinaryWriter.create()) {\n        for (const v of message.txs) {\n            tx_1.Tx.encode(v, writer.uint32(10).fork()).ldelim();\n        }\n        if (message.blockId !== undefined) {\n            types_1.BlockID.encode(message.blockId, writer.uint32(18).fork()).ldelim();\n        }\n        if (message.block !== undefined) {\n            block_1.Block.encode(message.block, writer.uint32(26).fork()).ldelim();\n        }\n        if (message.pagination !== undefined) {\n            pagination_1.PageResponse.encode(message.pagination, writer.uint32(34).fork()).ldelim();\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBaseGetBlockWithTxsResponse();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.txs.push(tx_1.Tx.decode(reader, reader.uint32()));\n                    break;\n                case 2:\n                    message.blockId = types_1.BlockID.decode(reader, reader.uint32());\n                    break;\n                case 3:\n                    message.block = block_1.Block.decode(reader, reader.uint32());\n                    break;\n                case 4:\n                    message.pagination = pagination_1.PageResponse.decode(reader, reader.uint32());\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const obj = createBaseGetBlockWithTxsResponse();\n        if (Array.isArray(object?.txs))\n            obj.txs = object.txs.map((e) => tx_1.Tx.fromJSON(e));\n        if ((0, helpers_1.isSet)(object.blockId))\n            obj.blockId = types_1.BlockID.fromJSON(object.blockId);\n        if ((0, helpers_1.isSet)(object.block))\n            obj.block = block_1.Block.fromJSON(object.block);\n        if ((0, helpers_1.isSet)(object.pagination))\n            obj.pagination = pagination_1.PageResponse.fromJSON(object.pagination);\n        return obj;\n    },\n    toJSON(message) {\n        const obj = {};\n        if (message.txs) {\n            obj.txs = message.txs.map((e) => (e ? tx_1.Tx.toJSON(e) : undefined));\n        }\n        else {\n            obj.txs = [];\n        }\n        message.blockId !== undefined &&\n            (obj.blockId = message.blockId ? types_1.BlockID.toJSON(message.blockId) : undefined);\n        message.block !== undefined && (obj.block = message.block ? block_1.Block.toJSON(message.block) : undefined);\n        message.pagination !== undefined &&\n            (obj.pagination = message.pagination ? pagination_1.PageResponse.toJSON(message.pagination) : undefined);\n        return obj;\n    },\n    fromPartial(object) {\n        const message = createBaseGetBlockWithTxsResponse();\n        message.txs = object.txs?.map((e) => tx_1.Tx.fromPartial(e)) || [];\n        if (object.blockId !== undefined && object.blockId !== null) {\n            message.blockId = types_1.BlockID.fromPartial(object.blockId);\n        }\n        if (object.block !== undefined && object.block !== null) {\n            message.block = block_1.Block.fromPartial(object.block);\n        }\n        if (object.pagination !== undefined && object.pagination !== null) {\n            message.pagination = pagination_1.PageResponse.fromPartial(object.pagination);\n        }\n        return message;\n    },\n};\nfunction createBaseTxDecodeRequest() {\n    return {\n        txBytes: new Uint8Array(),\n    };\n}\nexports.TxDecodeRequest = {\n    typeUrl: \"/cosmos.tx.v1beta1.TxDecodeRequest\",\n    encode(message, writer = binary_1.BinaryWriter.create()) {\n        if (message.txBytes.length !== 0) {\n            writer.uint32(10).bytes(message.txBytes);\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBaseTxDecodeRequest();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.txBytes = reader.bytes();\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const obj = createBaseTxDecodeRequest();\n        if ((0, helpers_1.isSet)(object.txBytes))\n            obj.txBytes = (0, helpers_1.bytesFromBase64)(object.txBytes);\n        return obj;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.txBytes !== undefined &&\n            (obj.txBytes = (0, helpers_1.base64FromBytes)(message.txBytes !== undefined ? message.txBytes : new Uint8Array()));\n        return obj;\n    },\n    fromPartial(object) {\n        const message = createBaseTxDecodeRequest();\n        message.txBytes = object.txBytes ?? new Uint8Array();\n        return message;\n    },\n};\nfunction createBaseTxDecodeResponse() {\n    return {\n        tx: undefined,\n    };\n}\nexports.TxDecodeResponse = {\n    typeUrl: \"/cosmos.tx.v1beta1.TxDecodeResponse\",\n    encode(message, writer = binary_1.BinaryWriter.create()) {\n        if (message.tx !== undefined) {\n            tx_1.Tx.encode(message.tx, writer.uint32(10).fork()).ldelim();\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBaseTxDecodeResponse();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.tx = tx_1.Tx.decode(reader, reader.uint32());\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const obj = createBaseTxDecodeResponse();\n        if ((0, helpers_1.isSet)(object.tx))\n            obj.tx = tx_1.Tx.fromJSON(object.tx);\n        return obj;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.tx !== undefined && (obj.tx = message.tx ? tx_1.Tx.toJSON(message.tx) : undefined);\n        return obj;\n    },\n    fromPartial(object) {\n        const message = createBaseTxDecodeResponse();\n        if (object.tx !== undefined && object.tx !== null) {\n            message.tx = tx_1.Tx.fromPartial(object.tx);\n        }\n        return message;\n    },\n};\nfunction createBaseTxEncodeRequest() {\n    return {\n        tx: undefined,\n    };\n}\nexports.TxEncodeRequest = {\n    typeUrl: \"/cosmos.tx.v1beta1.TxEncodeRequest\",\n    encode(message, writer = binary_1.BinaryWriter.create()) {\n        if (message.tx !== undefined) {\n            tx_1.Tx.encode(message.tx, writer.uint32(10).fork()).ldelim();\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBaseTxEncodeRequest();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.tx = tx_1.Tx.decode(reader, reader.uint32());\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const obj = createBaseTxEncodeRequest();\n        if ((0, helpers_1.isSet)(object.tx))\n            obj.tx = tx_1.Tx.fromJSON(object.tx);\n        return obj;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.tx !== undefined && (obj.tx = message.tx ? tx_1.Tx.toJSON(message.tx) : undefined);\n        return obj;\n    },\n    fromPartial(object) {\n        const message = createBaseTxEncodeRequest();\n        if (object.tx !== undefined && object.tx !== null) {\n            message.tx = tx_1.Tx.fromPartial(object.tx);\n        }\n        return message;\n    },\n};\nfunction createBaseTxEncodeResponse() {\n    return {\n        txBytes: new Uint8Array(),\n    };\n}\nexports.TxEncodeResponse = {\n    typeUrl: \"/cosmos.tx.v1beta1.TxEncodeResponse\",\n    encode(message, writer = binary_1.BinaryWriter.create()) {\n        if (message.txBytes.length !== 0) {\n            writer.uint32(10).bytes(message.txBytes);\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBaseTxEncodeResponse();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.txBytes = reader.bytes();\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const obj = createBaseTxEncodeResponse();\n        if ((0, helpers_1.isSet)(object.txBytes))\n            obj.txBytes = (0, helpers_1.bytesFromBase64)(object.txBytes);\n        return obj;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.txBytes !== undefined &&\n            (obj.txBytes = (0, helpers_1.base64FromBytes)(message.txBytes !== undefined ? message.txBytes : new Uint8Array()));\n        return obj;\n    },\n    fromPartial(object) {\n        const message = createBaseTxEncodeResponse();\n        message.txBytes = object.txBytes ?? new Uint8Array();\n        return message;\n    },\n};\nfunction createBaseTxEncodeAminoRequest() {\n    return {\n        aminoJson: \"\",\n    };\n}\nexports.TxEncodeAminoRequest = {\n    typeUrl: \"/cosmos.tx.v1beta1.TxEncodeAminoRequest\",\n    encode(message, writer = binary_1.BinaryWriter.create()) {\n        if (message.aminoJson !== \"\") {\n            writer.uint32(10).string(message.aminoJson);\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBaseTxEncodeAminoRequest();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.aminoJson = reader.string();\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const obj = createBaseTxEncodeAminoRequest();\n        if ((0, helpers_1.isSet)(object.aminoJson))\n            obj.aminoJson = String(object.aminoJson);\n        return obj;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.aminoJson !== undefined && (obj.aminoJson = message.aminoJson);\n        return obj;\n    },\n    fromPartial(object) {\n        const message = createBaseTxEncodeAminoRequest();\n        message.aminoJson = object.aminoJson ?? \"\";\n        return message;\n    },\n};\nfunction createBaseTxEncodeAminoResponse() {\n    return {\n        aminoBinary: new Uint8Array(),\n    };\n}\nexports.TxEncodeAminoResponse = {\n    typeUrl: \"/cosmos.tx.v1beta1.TxEncodeAminoResponse\",\n    encode(message, writer = binary_1.BinaryWriter.create()) {\n        if (message.aminoBinary.length !== 0) {\n            writer.uint32(10).bytes(message.aminoBinary);\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBaseTxEncodeAminoResponse();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.aminoBinary = reader.bytes();\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const obj = createBaseTxEncodeAminoResponse();\n        if ((0, helpers_1.isSet)(object.aminoBinary))\n            obj.aminoBinary = (0, helpers_1.bytesFromBase64)(object.aminoBinary);\n        return obj;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.aminoBinary !== undefined &&\n            (obj.aminoBinary = (0, helpers_1.base64FromBytes)(message.aminoBinary !== undefined ? message.aminoBinary : new Uint8Array()));\n        return obj;\n    },\n    fromPartial(object) {\n        const message = createBaseTxEncodeAminoResponse();\n        message.aminoBinary = object.aminoBinary ?? new Uint8Array();\n        return message;\n    },\n};\nfunction createBaseTxDecodeAminoRequest() {\n    return {\n        aminoBinary: new Uint8Array(),\n    };\n}\nexports.TxDecodeAminoRequest = {\n    typeUrl: \"/cosmos.tx.v1beta1.TxDecodeAminoRequest\",\n    encode(message, writer = binary_1.BinaryWriter.create()) {\n        if (message.aminoBinary.length !== 0) {\n            writer.uint32(10).bytes(message.aminoBinary);\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBaseTxDecodeAminoRequest();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.aminoBinary = reader.bytes();\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const obj = createBaseTxDecodeAminoRequest();\n        if ((0, helpers_1.isSet)(object.aminoBinary))\n            obj.aminoBinary = (0, helpers_1.bytesFromBase64)(object.aminoBinary);\n        return obj;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.aminoBinary !== undefined &&\n            (obj.aminoBinary = (0, helpers_1.base64FromBytes)(message.aminoBinary !== undefined ? message.aminoBinary : new Uint8Array()));\n        return obj;\n    },\n    fromPartial(object) {\n        const message = createBaseTxDecodeAminoRequest();\n        message.aminoBinary = object.aminoBinary ?? new Uint8Array();\n        return message;\n    },\n};\nfunction createBaseTxDecodeAminoResponse() {\n    return {\n        aminoJson: \"\",\n    };\n}\nexports.TxDecodeAminoResponse = {\n    typeUrl: \"/cosmos.tx.v1beta1.TxDecodeAminoResponse\",\n    encode(message, writer = binary_1.BinaryWriter.create()) {\n        if (message.aminoJson !== \"\") {\n            writer.uint32(10).string(message.aminoJson);\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBaseTxDecodeAminoResponse();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.aminoJson = reader.string();\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const obj = createBaseTxDecodeAminoResponse();\n        if ((0, helpers_1.isSet)(object.aminoJson))\n            obj.aminoJson = String(object.aminoJson);\n        return obj;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.aminoJson !== undefined && (obj.aminoJson = message.aminoJson);\n        return obj;\n    },\n    fromPartial(object) {\n        const message = createBaseTxDecodeAminoResponse();\n        message.aminoJson = object.aminoJson ?? \"\";\n        return message;\n    },\n};\nclass ServiceClientImpl {\n    constructor(rpc) {\n        this.rpc = rpc;\n        this.Simulate = this.Simulate.bind(this);\n        this.GetTx = this.GetTx.bind(this);\n        this.BroadcastTx = this.BroadcastTx.bind(this);\n        this.GetTxsEvent = this.GetTxsEvent.bind(this);\n        this.GetBlockWithTxs = this.GetBlockWithTxs.bind(this);\n        this.TxDecode = this.TxDecode.bind(this);\n        this.TxEncode = this.TxEncode.bind(this);\n        this.TxEncodeAmino = this.TxEncodeAmino.bind(this);\n        this.TxDecodeAmino = this.TxDecodeAmino.bind(this);\n    }\n    Simulate(request) {\n        const data = exports.SimulateRequest.encode(request).finish();\n        const promise = this.rpc.request(\"cosmos.tx.v1beta1.Service\", \"Simulate\", data);\n        return promise.then((data) => exports.SimulateResponse.decode(new binary_1.BinaryReader(data)));\n    }\n    GetTx(request) {\n        const data = exports.GetTxRequest.encode(request).finish();\n        const promise = this.rpc.request(\"cosmos.tx.v1beta1.Service\", \"GetTx\", data);\n        return promise.then((data) => exports.GetTxResponse.decode(new binary_1.BinaryReader(data)));\n    }\n    BroadcastTx(request) {\n        const data = exports.BroadcastTxRequest.encode(request).finish();\n        const promise = this.rpc.request(\"cosmos.tx.v1beta1.Service\", \"BroadcastTx\", data);\n        return promise.then((data) => exports.BroadcastTxResponse.decode(new binary_1.BinaryReader(data)));\n    }\n    GetTxsEvent(request) {\n        const data = exports.GetTxsEventRequest.encode(request).finish();\n        const promise = this.rpc.request(\"cosmos.tx.v1beta1.Service\", \"GetTxsEvent\", data);\n        return promise.then((data) => exports.GetTxsEventResponse.decode(new binary_1.BinaryReader(data)));\n    }\n    GetBlockWithTxs(request) {\n        const data = exports.GetBlockWithTxsRequest.encode(request).finish();\n        const promise = this.rpc.request(\"cosmos.tx.v1beta1.Service\", \"GetBlockWithTxs\", data);\n        return promise.then((data) => exports.GetBlockWithTxsResponse.decode(new binary_1.BinaryReader(data)));\n    }\n    TxDecode(request) {\n        const data = exports.TxDecodeRequest.encode(request).finish();\n        const promise = this.rpc.request(\"cosmos.tx.v1beta1.Service\", \"TxDecode\", data);\n        return promise.then((data) => exports.TxDecodeResponse.decode(new binary_1.BinaryReader(data)));\n    }\n    TxEncode(request) {\n        const data = exports.TxEncodeRequest.encode(request).finish();\n        const promise = this.rpc.request(\"cosmos.tx.v1beta1.Service\", \"TxEncode\", data);\n        return promise.then((data) => exports.TxEncodeResponse.decode(new binary_1.BinaryReader(data)));\n    }\n    TxEncodeAmino(request) {\n        const data = exports.TxEncodeAminoRequest.encode(request).finish();\n        const promise = this.rpc.request(\"cosmos.tx.v1beta1.Service\", \"TxEncodeAmino\", data);\n        return promise.then((data) => exports.TxEncodeAminoResponse.decode(new binary_1.BinaryReader(data)));\n    }\n    TxDecodeAmino(request) {\n        const data = exports.TxDecodeAminoRequest.encode(request).finish();\n        const promise = this.rpc.request(\"cosmos.tx.v1beta1.Service\", \"TxDecodeAmino\", data);\n        return promise.then((data) => exports.TxDecodeAminoResponse.decode(new binary_1.BinaryReader(data)));\n    }\n}\nexports.ServiceClientImpl = ServiceClientImpl;\n//# sourceMappingURL=service.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Acknowledgement = exports.PacketId = exports.PacketState = exports.Packet = exports.Counterparty = exports.IdentifiedChannel = exports.Channel = exports.orderToJSON = exports.orderFromJSON = exports.Order = exports.stateToJSON = exports.stateFromJSON = exports.State = exports.protobufPackage = void 0;\n/* eslint-disable */\nconst client_1 = require(\"../../client/v1/client\");\nconst binary_1 = require(\"../../../../binary\");\nconst helpers_1 = require(\"../../../../helpers\");\nexports.protobufPackage = \"ibc.core.channel.v1\";\n/**\n * State defines if a channel is in one of the following states:\n * CLOSED, INIT, TRYOPEN, OPEN or UNINITIALIZED.\n */\nvar State;\n(function (State) {\n    /** STATE_UNINITIALIZED_UNSPECIFIED - Default State */\n    State[State[\"STATE_UNINITIALIZED_UNSPECIFIED\"] = 0] = \"STATE_UNINITIALIZED_UNSPECIFIED\";\n    /** STATE_INIT - A channel has just started the opening handshake. */\n    State[State[\"STATE_INIT\"] = 1] = \"STATE_INIT\";\n    /** STATE_TRYOPEN - A channel has acknowledged the handshake step on the counterparty chain. */\n    State[State[\"STATE_TRYOPEN\"] = 2] = \"STATE_TRYOPEN\";\n    /**\n     * STATE_OPEN - A channel has completed the handshake. Open channels are\n     * ready to send and receive packets.\n     */\n    State[State[\"STATE_OPEN\"] = 3] = \"STATE_OPEN\";\n    /**\n     * STATE_CLOSED - A channel has been closed and can no longer be used to send or receive\n     * packets.\n     */\n    State[State[\"STATE_CLOSED\"] = 4] = \"STATE_CLOSED\";\n    State[State[\"UNRECOGNIZED\"] = -1] = \"UNRECOGNIZED\";\n})(State || (exports.State = State = {}));\nfunction stateFromJSON(object) {\n    switch (object) {\n        case 0:\n        case \"STATE_UNINITIALIZED_UNSPECIFIED\":\n            return State.STATE_UNINITIALIZED_UNSPECIFIED;\n        case 1:\n        case \"STATE_INIT\":\n            return State.STATE_INIT;\n        case 2:\n        case \"STATE_TRYOPEN\":\n            return State.STATE_TRYOPEN;\n        case 3:\n        case \"STATE_OPEN\":\n            return State.STATE_OPEN;\n        case 4:\n        case \"STATE_CLOSED\":\n            return State.STATE_CLOSED;\n        case -1:\n        case \"UNRECOGNIZED\":\n        default:\n            return State.UNRECOGNIZED;\n    }\n}\nexports.stateFromJSON = stateFromJSON;\nfunction stateToJSON(object) {\n    switch (object) {\n        case State.STATE_UNINITIALIZED_UNSPECIFIED:\n            return \"STATE_UNINITIALIZED_UNSPECIFIED\";\n        case State.STATE_INIT:\n            return \"STATE_INIT\";\n        case State.STATE_TRYOPEN:\n            return \"STATE_TRYOPEN\";\n        case State.STATE_OPEN:\n            return \"STATE_OPEN\";\n        case State.STATE_CLOSED:\n            return \"STATE_CLOSED\";\n        case State.UNRECOGNIZED:\n        default:\n            return \"UNRECOGNIZED\";\n    }\n}\nexports.stateToJSON = stateToJSON;\n/** Order defines if a channel is ORDERED or UNORDERED */\nvar Order;\n(function (Order) {\n    /** ORDER_NONE_UNSPECIFIED - zero-value for channel ordering */\n    Order[Order[\"ORDER_NONE_UNSPECIFIED\"] = 0] = \"ORDER_NONE_UNSPECIFIED\";\n    /**\n     * ORDER_UNORDERED - packets can be delivered in any order, which may differ from the order in\n     * which they were sent.\n     */\n    Order[Order[\"ORDER_UNORDERED\"] = 1] = \"ORDER_UNORDERED\";\n    /** ORDER_ORDERED - packets are delivered exactly in the order which they were sent */\n    Order[Order[\"ORDER_ORDERED\"] = 2] = \"ORDER_ORDERED\";\n    Order[Order[\"UNRECOGNIZED\"] = -1] = \"UNRECOGNIZED\";\n})(Order || (exports.Order = Order = {}));\nfunction orderFromJSON(object) {\n    switch (object) {\n        case 0:\n        case \"ORDER_NONE_UNSPECIFIED\":\n            return Order.ORDER_NONE_UNSPECIFIED;\n        case 1:\n        case \"ORDER_UNORDERED\":\n            return Order.ORDER_UNORDERED;\n        case 2:\n        case \"ORDER_ORDERED\":\n            return Order.ORDER_ORDERED;\n        case -1:\n        case \"UNRECOGNIZED\":\n        default:\n            return Order.UNRECOGNIZED;\n    }\n}\nexports.orderFromJSON = orderFromJSON;\nfunction orderToJSON(object) {\n    switch (object) {\n        case Order.ORDER_NONE_UNSPECIFIED:\n            return \"ORDER_NONE_UNSPECIFIED\";\n        case Order.ORDER_UNORDERED:\n            return \"ORDER_UNORDERED\";\n        case Order.ORDER_ORDERED:\n            return \"ORDER_ORDERED\";\n        case Order.UNRECOGNIZED:\n        default:\n            return \"UNRECOGNIZED\";\n    }\n}\nexports.orderToJSON = orderToJSON;\nfunction createBaseChannel() {\n    return {\n        state: 0,\n        ordering: 0,\n        counterparty: exports.Counterparty.fromPartial({}),\n        connectionHops: [],\n        version: \"\",\n    };\n}\nexports.Channel = {\n    typeUrl: \"/ibc.core.channel.v1.Channel\",\n    encode(message, writer = binary_1.BinaryWriter.create()) {\n        if (message.state !== 0) {\n            writer.uint32(8).int32(message.state);\n        }\n        if (message.ordering !== 0) {\n            writer.uint32(16).int32(message.ordering);\n        }\n        if (message.counterparty !== undefined) {\n            exports.Counterparty.encode(message.counterparty, writer.uint32(26).fork()).ldelim();\n        }\n        for (const v of message.connectionHops) {\n            writer.uint32(34).string(v);\n        }\n        if (message.version !== \"\") {\n            writer.uint32(42).string(message.version);\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBaseChannel();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.state = reader.int32();\n                    break;\n                case 2:\n                    message.ordering = reader.int32();\n                    break;\n                case 3:\n                    message.counterparty = exports.Counterparty.decode(reader, reader.uint32());\n                    break;\n                case 4:\n                    message.connectionHops.push(reader.string());\n                    break;\n                case 5:\n                    message.version = reader.string();\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const obj = createBaseChannel();\n        if ((0, helpers_1.isSet)(object.state))\n            obj.state = stateFromJSON(object.state);\n        if ((0, helpers_1.isSet)(object.ordering))\n            obj.ordering = orderFromJSON(object.ordering);\n        if ((0, helpers_1.isSet)(object.counterparty))\n            obj.counterparty = exports.Counterparty.fromJSON(object.counterparty);\n        if (Array.isArray(object?.connectionHops))\n            obj.connectionHops = object.connectionHops.map((e) => String(e));\n        if ((0, helpers_1.isSet)(object.version))\n            obj.version = String(object.version);\n        return obj;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.state !== undefined && (obj.state = stateToJSON(message.state));\n        message.ordering !== undefined && (obj.ordering = orderToJSON(message.ordering));\n        message.counterparty !== undefined &&\n            (obj.counterparty = message.counterparty ? exports.Counterparty.toJSON(message.counterparty) : undefined);\n        if (message.connectionHops) {\n            obj.connectionHops = message.connectionHops.map((e) => e);\n        }\n        else {\n            obj.connectionHops = [];\n        }\n        message.version !== undefined && (obj.version = message.version);\n        return obj;\n    },\n    fromPartial(object) {\n        const message = createBaseChannel();\n        message.state = object.state ?? 0;\n        message.ordering = object.ordering ?? 0;\n        if (object.counterparty !== undefined && object.counterparty !== null) {\n            message.counterparty = exports.Counterparty.fromPartial(object.counterparty);\n        }\n        message.connectionHops = object.connectionHops?.map((e) => e) || [];\n        message.version = object.version ?? \"\";\n        return message;\n    },\n};\nfunction createBaseIdentifiedChannel() {\n    return {\n        state: 0,\n        ordering: 0,\n        counterparty: exports.Counterparty.fromPartial({}),\n        connectionHops: [],\n        version: \"\",\n        portId: \"\",\n        channelId: \"\",\n    };\n}\nexports.IdentifiedChannel = {\n    typeUrl: \"/ibc.core.channel.v1.IdentifiedChannel\",\n    encode(message, writer = binary_1.BinaryWriter.create()) {\n        if (message.state !== 0) {\n            writer.uint32(8).int32(message.state);\n        }\n        if (message.ordering !== 0) {\n            writer.uint32(16).int32(message.ordering);\n        }\n        if (message.counterparty !== undefined) {\n            exports.Counterparty.encode(message.counterparty, writer.uint32(26).fork()).ldelim();\n        }\n        for (const v of message.connectionHops) {\n            writer.uint32(34).string(v);\n        }\n        if (message.version !== \"\") {\n            writer.uint32(42).string(message.version);\n        }\n        if (message.portId !== \"\") {\n            writer.uint32(50).string(message.portId);\n        }\n        if (message.channelId !== \"\") {\n            writer.uint32(58).string(message.channelId);\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBaseIdentifiedChannel();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.state = reader.int32();\n                    break;\n                case 2:\n                    message.ordering = reader.int32();\n                    break;\n                case 3:\n                    message.counterparty = exports.Counterparty.decode(reader, reader.uint32());\n                    break;\n                case 4:\n                    message.connectionHops.push(reader.string());\n                    break;\n                case 5:\n                    message.version = reader.string();\n                    break;\n                case 6:\n                    message.portId = reader.string();\n                    break;\n                case 7:\n                    message.channelId = reader.string();\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const obj = createBaseIdentifiedChannel();\n        if ((0, helpers_1.isSet)(object.state))\n            obj.state = stateFromJSON(object.state);\n        if ((0, helpers_1.isSet)(object.ordering))\n            obj.ordering = orderFromJSON(object.ordering);\n        if ((0, helpers_1.isSet)(object.counterparty))\n            obj.counterparty = exports.Counterparty.fromJSON(object.counterparty);\n        if (Array.isArray(object?.connectionHops))\n            obj.connectionHops = object.connectionHops.map((e) => String(e));\n        if ((0, helpers_1.isSet)(object.version))\n            obj.version = String(object.version);\n        if ((0, helpers_1.isSet)(object.portId))\n            obj.portId = String(object.portId);\n        if ((0, helpers_1.isSet)(object.channelId))\n            obj.channelId = String(object.channelId);\n        return obj;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.state !== undefined && (obj.state = stateToJSON(message.state));\n        message.ordering !== undefined && (obj.ordering = orderToJSON(message.ordering));\n        message.counterparty !== undefined &&\n            (obj.counterparty = message.counterparty ? exports.Counterparty.toJSON(message.counterparty) : undefined);\n        if (message.connectionHops) {\n            obj.connectionHops = message.connectionHops.map((e) => e);\n        }\n        else {\n            obj.connectionHops = [];\n        }\n        message.version !== undefined && (obj.version = message.version);\n        message.portId !== undefined && (obj.portId = message.portId);\n        message.channelId !== undefined && (obj.channelId = message.channelId);\n        return obj;\n    },\n    fromPartial(object) {\n        const message = createBaseIdentifiedChannel();\n        message.state = object.state ?? 0;\n        message.ordering = object.ordering ?? 0;\n        if (object.counterparty !== undefined && object.counterparty !== null) {\n            message.counterparty = exports.Counterparty.fromPartial(object.counterparty);\n        }\n        message.connectionHops = object.connectionHops?.map((e) => e) || [];\n        message.version = object.version ?? \"\";\n        message.portId = object.portId ?? \"\";\n        message.channelId = object.channelId ?? \"\";\n        return message;\n    },\n};\nfunction createBaseCounterparty() {\n    return {\n        portId: \"\",\n        channelId: \"\",\n    };\n}\nexports.Counterparty = {\n    typeUrl: \"/ibc.core.channel.v1.Counterparty\",\n    encode(message, writer = binary_1.BinaryWriter.create()) {\n        if (message.portId !== \"\") {\n            writer.uint32(10).string(message.portId);\n        }\n        if (message.channelId !== \"\") {\n            writer.uint32(18).string(message.channelId);\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBaseCounterparty();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.portId = reader.string();\n                    break;\n                case 2:\n                    message.channelId = reader.string();\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const obj = createBaseCounterparty();\n        if ((0, helpers_1.isSet)(object.portId))\n            obj.portId = String(object.portId);\n        if ((0, helpers_1.isSet)(object.channelId))\n            obj.channelId = String(object.channelId);\n        return obj;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.portId !== undefined && (obj.portId = message.portId);\n        message.channelId !== undefined && (obj.channelId = message.channelId);\n        return obj;\n    },\n    fromPartial(object) {\n        const message = createBaseCounterparty();\n        message.portId = object.portId ?? \"\";\n        message.channelId = object.channelId ?? \"\";\n        return message;\n    },\n};\nfunction createBasePacket() {\n    return {\n        sequence: BigInt(0),\n        sourcePort: \"\",\n        sourceChannel: \"\",\n        destinationPort: \"\",\n        destinationChannel: \"\",\n        data: new Uint8Array(),\n        timeoutHeight: client_1.Height.fromPartial({}),\n        timeoutTimestamp: BigInt(0),\n    };\n}\nexports.Packet = {\n    typeUrl: \"/ibc.core.channel.v1.Packet\",\n    encode(message, writer = binary_1.BinaryWriter.create()) {\n        if (message.sequence !== BigInt(0)) {\n            writer.uint32(8).uint64(message.sequence);\n        }\n        if (message.sourcePort !== \"\") {\n            writer.uint32(18).string(message.sourcePort);\n        }\n        if (message.sourceChannel !== \"\") {\n            writer.uint32(26).string(message.sourceChannel);\n        }\n        if (message.destinationPort !== \"\") {\n            writer.uint32(34).string(message.destinationPort);\n        }\n        if (message.destinationChannel !== \"\") {\n            writer.uint32(42).string(message.destinationChannel);\n        }\n        if (message.data.length !== 0) {\n            writer.uint32(50).bytes(message.data);\n        }\n        if (message.timeoutHeight !== undefined) {\n            client_1.Height.encode(message.timeoutHeight, writer.uint32(58).fork()).ldelim();\n        }\n        if (message.timeoutTimestamp !== BigInt(0)) {\n            writer.uint32(64).uint64(message.timeoutTimestamp);\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBasePacket();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.sequence = reader.uint64();\n                    break;\n                case 2:\n                    message.sourcePort = reader.string();\n                    break;\n                case 3:\n                    message.sourceChannel = reader.string();\n                    break;\n                case 4:\n                    message.destinationPort = reader.string();\n                    break;\n                case 5:\n                    message.destinationChannel = reader.string();\n                    break;\n                case 6:\n                    message.data = reader.bytes();\n                    break;\n                case 7:\n                    message.timeoutHeight = client_1.Height.decode(reader, reader.uint32());\n                    break;\n                case 8:\n                    message.timeoutTimestamp = reader.uint64();\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const obj = createBasePacket();\n        if ((0, helpers_1.isSet)(object.sequence))\n            obj.sequence = BigInt(object.sequence.toString());\n        if ((0, helpers_1.isSet)(object.sourcePort))\n            obj.sourcePort = String(object.sourcePort);\n        if ((0, helpers_1.isSet)(object.sourceChannel))\n            obj.sourceChannel = String(object.sourceChannel);\n        if ((0, helpers_1.isSet)(object.destinationPort))\n            obj.destinationPort = String(object.destinationPort);\n        if ((0, helpers_1.isSet)(object.destinationChannel))\n            obj.destinationChannel = String(object.destinationChannel);\n        if ((0, helpers_1.isSet)(object.data))\n            obj.data = (0, helpers_1.bytesFromBase64)(object.data);\n        if ((0, helpers_1.isSet)(object.timeoutHeight))\n            obj.timeoutHeight = client_1.Height.fromJSON(object.timeoutHeight);\n        if ((0, helpers_1.isSet)(object.timeoutTimestamp))\n            obj.timeoutTimestamp = BigInt(object.timeoutTimestamp.toString());\n        return obj;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.sequence !== undefined && (obj.sequence = (message.sequence || BigInt(0)).toString());\n        message.sourcePort !== undefined && (obj.sourcePort = message.sourcePort);\n        message.sourceChannel !== undefined && (obj.sourceChannel = message.sourceChannel);\n        message.destinationPort !== undefined && (obj.destinationPort = message.destinationPort);\n        message.destinationChannel !== undefined && (obj.destinationChannel = message.destinationChannel);\n        message.data !== undefined &&\n            (obj.data = (0, helpers_1.base64FromBytes)(message.data !== undefined ? message.data : new Uint8Array()));\n        message.timeoutHeight !== undefined &&\n            (obj.timeoutHeight = message.timeoutHeight ? client_1.Height.toJSON(message.timeoutHeight) : undefined);\n        message.timeoutTimestamp !== undefined &&\n            (obj.timeoutTimestamp = (message.timeoutTimestamp || BigInt(0)).toString());\n        return obj;\n    },\n    fromPartial(object) {\n        const message = createBasePacket();\n        if (object.sequence !== undefined && object.sequence !== null) {\n            message.sequence = BigInt(object.sequence.toString());\n        }\n        message.sourcePort = object.sourcePort ?? \"\";\n        message.sourceChannel = object.sourceChannel ?? \"\";\n        message.destinationPort = object.destinationPort ?? \"\";\n        message.destinationChannel = object.destinationChannel ?? \"\";\n        message.data = object.data ?? new Uint8Array();\n        if (object.timeoutHeight !== undefined && object.timeoutHeight !== null) {\n            message.timeoutHeight = client_1.Height.fromPartial(object.timeoutHeight);\n        }\n        if (object.timeoutTimestamp !== undefined && object.timeoutTimestamp !== null) {\n            message.timeoutTimestamp = BigInt(object.timeoutTimestamp.toString());\n        }\n        return message;\n    },\n};\nfunction createBasePacketState() {\n    return {\n        portId: \"\",\n        channelId: \"\",\n        sequence: BigInt(0),\n        data: new Uint8Array(),\n    };\n}\nexports.PacketState = {\n    typeUrl: \"/ibc.core.channel.v1.PacketState\",\n    encode(message, writer = binary_1.BinaryWriter.create()) {\n        if (message.portId !== \"\") {\n            writer.uint32(10).string(message.portId);\n        }\n        if (message.channelId !== \"\") {\n            writer.uint32(18).string(message.channelId);\n        }\n        if (message.sequence !== BigInt(0)) {\n            writer.uint32(24).uint64(message.sequence);\n        }\n        if (message.data.length !== 0) {\n            writer.uint32(34).bytes(message.data);\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBasePacketState();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.portId = reader.string();\n                    break;\n                case 2:\n                    message.channelId = reader.string();\n                    break;\n                case 3:\n                    message.sequence = reader.uint64();\n                    break;\n                case 4:\n                    message.data = reader.bytes();\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const obj = createBasePacketState();\n        if ((0, helpers_1.isSet)(object.portId))\n            obj.portId = String(object.portId);\n        if ((0, helpers_1.isSet)(object.channelId))\n            obj.channelId = String(object.channelId);\n        if ((0, helpers_1.isSet)(object.sequence))\n            obj.sequence = BigInt(object.sequence.toString());\n        if ((0, helpers_1.isSet)(object.data))\n            obj.data = (0, helpers_1.bytesFromBase64)(object.data);\n        return obj;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.portId !== undefined && (obj.portId = message.portId);\n        message.channelId !== undefined && (obj.channelId = message.channelId);\n        message.sequence !== undefined && (obj.sequence = (message.sequence || BigInt(0)).toString());\n        message.data !== undefined &&\n            (obj.data = (0, helpers_1.base64FromBytes)(message.data !== undefined ? message.data : new Uint8Array()));\n        return obj;\n    },\n    fromPartial(object) {\n        const message = createBasePacketState();\n        message.portId = object.portId ?? \"\";\n        message.channelId = object.channelId ?? \"\";\n        if (object.sequence !== undefined && object.sequence !== null) {\n            message.sequence = BigInt(object.sequence.toString());\n        }\n        message.data = object.data ?? new Uint8Array();\n        return message;\n    },\n};\nfunction createBasePacketId() {\n    return {\n        portId: \"\",\n        channelId: \"\",\n        sequence: BigInt(0),\n    };\n}\nexports.PacketId = {\n    typeUrl: \"/ibc.core.channel.v1.PacketId\",\n    encode(message, writer = binary_1.BinaryWriter.create()) {\n        if (message.portId !== \"\") {\n            writer.uint32(10).string(message.portId);\n        }\n        if (message.channelId !== \"\") {\n            writer.uint32(18).string(message.channelId);\n        }\n        if (message.sequence !== BigInt(0)) {\n            writer.uint32(24).uint64(message.sequence);\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBasePacketId();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 1:\n                    message.portId = reader.string();\n                    break;\n                case 2:\n                    message.channelId = reader.string();\n                    break;\n                case 3:\n                    message.sequence = reader.uint64();\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const obj = createBasePacketId();\n        if ((0, helpers_1.isSet)(object.portId))\n            obj.portId = String(object.portId);\n        if ((0, helpers_1.isSet)(object.channelId))\n            obj.channelId = String(object.channelId);\n        if ((0, helpers_1.isSet)(object.sequence))\n            obj.sequence = BigInt(object.sequence.toString());\n        return obj;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.portId !== undefined && (obj.portId = message.portId);\n        message.channelId !== undefined && (obj.channelId = message.channelId);\n        message.sequence !== undefined && (obj.sequence = (message.sequence || BigInt(0)).toString());\n        return obj;\n    },\n    fromPartial(object) {\n        const message = createBasePacketId();\n        message.portId = object.portId ?? \"\";\n        message.channelId = object.channelId ?? \"\";\n        if (object.sequence !== undefined && object.sequence !== null) {\n            message.sequence = BigInt(object.sequence.toString());\n        }\n        return message;\n    },\n};\nfunction createBaseAcknowledgement() {\n    return {\n        result: undefined,\n        error: undefined,\n    };\n}\nexports.Acknowledgement = {\n    typeUrl: \"/ibc.core.channel.v1.Acknowledgement\",\n    encode(message, writer = binary_1.BinaryWriter.create()) {\n        if (message.result !== undefined) {\n            writer.uint32(170).bytes(message.result);\n        }\n        if (message.error !== undefined) {\n            writer.uint32(178).string(message.error);\n        }\n        return writer;\n    },\n    decode(input, length) {\n        const reader = input instanceof binary_1.BinaryReader ? input : new binary_1.BinaryReader(input);\n        let end = length === undefined ? reader.len : reader.pos + length;\n        const message = createBaseAcknowledgement();\n        while (reader.pos < end) {\n            const tag = reader.uint32();\n            switch (tag >>> 3) {\n                case 21:\n                    message.result = reader.bytes();\n                    break;\n                case 22:\n                    message.error = reader.string();\n                    break;\n                default:\n                    reader.skipType(tag & 7);\n                    break;\n            }\n        }\n        return message;\n    },\n    fromJSON(object) {\n        const obj = createBaseAcknowledgement();\n        if ((0, helpers_1.isSet)(object.result))\n            obj.result = (0, helpers_1.bytesFromBase64)(object.result);\n        if ((0, helpers_1.isSet)(object.error))\n            obj.error = String(object.error);\n        return obj;\n    },\n    toJSON(message) {\n        const obj = {};\n        message.result !== undefined &&\n            (obj.result = message.result !== undefined ? (0, helpers_1.base64FromBytes)(message.result) : undefined);\n        message.error !== undefined && (obj.error = message.error);\n        return obj;\n    },\n    fromPartial(object) {\n        const message = createBaseAcknowledgement();\n        message.result = object.result ?? undefined;\n        message.error = object.error ?? undefined;\n        return message;\n    },\n};\n//# sourceMappingURL=channel.js.map","var global = typeof self !== 'undefined' ? self : this;\nvar __self__ = (function () {\nfunction F() {\nthis.fetch = false;\nthis.DOMException = global.DOMException\n}\nF.prototype = global;\nreturn new F();\n})();\n(function(self) {\n\nvar irrelevant = (function (exports) {\n\n  var support = {\n    searchParams: 'URLSearchParams' in self,\n    iterable: 'Symbol' in self && 'iterator' in Symbol,\n    blob:\n      'FileReader' in self &&\n      'Blob' in self &&\n      (function() {\n        try {\n          new Blob();\n          return true\n        } catch (e) {\n          return false\n        }\n      })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  };\n\n  function isDataView(obj) {\n    return obj && DataView.prototype.isPrototypeOf(obj)\n  }\n\n  if (support.arrayBuffer) {\n    var viewClasses = [\n      '[object Int8Array]',\n      '[object Uint8Array]',\n      '[object Uint8ClampedArray]',\n      '[object Int16Array]',\n      '[object Uint16Array]',\n      '[object Int32Array]',\n      '[object Uint32Array]',\n      '[object Float32Array]',\n      '[object Float64Array]'\n    ];\n\n    var isArrayBufferView =\n      ArrayBuffer.isView ||\n      function(obj) {\n        return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n      };\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name);\n    }\n    if (/[^a-z0-9\\-#$%&'*+.^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value);\n    }\n    return value\n  }\n\n  // Build a destructive iterator for the value list\n  function iteratorFor(items) {\n    var iterator = {\n      next: function() {\n        var value = items.shift();\n        return {done: value === undefined, value: value}\n      }\n    };\n\n    if (support.iterable) {\n      iterator[Symbol.iterator] = function() {\n        return iterator\n      };\n    }\n\n    return iterator\n  }\n\n  function Headers(headers) {\n    this.map = {};\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value);\n      }, this);\n    } else if (Array.isArray(headers)) {\n      headers.forEach(function(header) {\n        this.append(header[0], header[1]);\n      }, this);\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name]);\n      }, this);\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name);\n    value = normalizeValue(value);\n    var oldValue = this.map[name];\n    this.map[name] = oldValue ? oldValue + ', ' + value : value;\n  };\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)];\n  };\n\n  Headers.prototype.get = function(name) {\n    name = normalizeName(name);\n    return this.has(name) ? this.map[name] : null\n  };\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  };\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = normalizeValue(value);\n  };\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    for (var name in this.map) {\n      if (this.map.hasOwnProperty(name)) {\n        callback.call(thisArg, this.map[name], name, this);\n      }\n    }\n  };\n\n  Headers.prototype.keys = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push(name);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.values = function() {\n    var items = [];\n    this.forEach(function(value) {\n      items.push(value);\n    });\n    return iteratorFor(items)\n  };\n\n  Headers.prototype.entries = function() {\n    var items = [];\n    this.forEach(function(value, name) {\n      items.push([name, value]);\n    });\n    return iteratorFor(items)\n  };\n\n  if (support.iterable) {\n    Headers.prototype[Symbol.iterator] = Headers.prototype.entries;\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true;\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result);\n      };\n      reader.onerror = function() {\n        reject(reader.error);\n      };\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsArrayBuffer(blob);\n    return promise\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader();\n    var promise = fileReaderReady(reader);\n    reader.readAsText(blob);\n    return promise\n  }\n\n  function readArrayBufferAsText(buf) {\n    var view = new Uint8Array(buf);\n    var chars = new Array(view.length);\n\n    for (var i = 0; i < view.length; i++) {\n      chars[i] = String.fromCharCode(view[i]);\n    }\n    return chars.join('')\n  }\n\n  function bufferClone(buf) {\n    if (buf.slice) {\n      return buf.slice(0)\n    } else {\n      var view = new Uint8Array(buf.byteLength);\n      view.set(new Uint8Array(buf));\n      return view.buffer\n    }\n  }\n\n  function Body() {\n    this.bodyUsed = false;\n\n    this._initBody = function(body) {\n      this._bodyInit = body;\n      if (!body) {\n        this._bodyText = '';\n      } else if (typeof body === 'string') {\n        this._bodyText = body;\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body;\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body;\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this._bodyText = body.toString();\n      } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n        this._bodyArrayBuffer = bufferClone(body.buffer);\n        // IE 10-11 can't handle a DataView body.\n        this._bodyInit = new Blob([this._bodyArrayBuffer]);\n      } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n        this._bodyArrayBuffer = bufferClone(body);\n      } else {\n        this._bodyText = body = Object.prototype.toString.call(body);\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8');\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type);\n        } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n          this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8');\n        }\n      }\n    };\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this);\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyArrayBuffer) {\n          return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      };\n\n      this.arrayBuffer = function() {\n        if (this._bodyArrayBuffer) {\n          return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n        } else {\n          return this.blob().then(readBlobAsArrayBuffer)\n        }\n      };\n    }\n\n    this.text = function() {\n      var rejected = consumed(this);\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return readBlobAsText(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as text')\n      } else {\n        return Promise.resolve(this._bodyText)\n      }\n    };\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      };\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    };\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT'];\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase();\n    return methods.indexOf(upcased) > -1 ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {};\n    var body = options.body;\n\n    if (input instanceof Request) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url;\n      this.credentials = input.credentials;\n      if (!options.headers) {\n        this.headers = new Headers(input.headers);\n      }\n      this.method = input.method;\n      this.mode = input.mode;\n      this.signal = input.signal;\n      if (!body && input._bodyInit != null) {\n        body = input._bodyInit;\n        input.bodyUsed = true;\n      }\n    } else {\n      this.url = String(input);\n    }\n\n    this.credentials = options.credentials || this.credentials || 'same-origin';\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers);\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET');\n    this.mode = options.mode || this.mode || null;\n    this.signal = options.signal || this.signal;\n    this.referrer = null;\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body);\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this, {body: this._bodyInit})\n  };\n\n  function decode(body) {\n    var form = new FormData();\n    body\n      .trim()\n      .split('&')\n      .forEach(function(bytes) {\n        if (bytes) {\n          var split = bytes.split('=');\n          var name = split.shift().replace(/\\+/g, ' ');\n          var value = split.join('=').replace(/\\+/g, ' ');\n          form.append(decodeURIComponent(name), decodeURIComponent(value));\n        }\n      });\n    return form\n  }\n\n  function parseHeaders(rawHeaders) {\n    var headers = new Headers();\n    // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n    // https://tools.ietf.org/html/rfc7230#section-3.2\n    var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ');\n    preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n      var parts = line.split(':');\n      var key = parts.shift().trim();\n      if (key) {\n        var value = parts.join(':').trim();\n        headers.append(key, value);\n      }\n    });\n    return headers\n  }\n\n  Body.call(Request.prototype);\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {};\n    }\n\n    this.type = 'default';\n    this.status = options.status === undefined ? 200 : options.status;\n    this.ok = this.status >= 200 && this.status < 300;\n    this.statusText = 'statusText' in options ? options.statusText : 'OK';\n    this.headers = new Headers(options.headers);\n    this.url = options.url || '';\n    this._initBody(bodyInit);\n  }\n\n  Body.call(Response.prototype);\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  };\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''});\n    response.type = 'error';\n    return response\n  };\n\n  var redirectStatuses = [301, 302, 303, 307, 308];\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  };\n\n  exports.DOMException = self.DOMException;\n  try {\n    new exports.DOMException();\n  } catch (err) {\n    exports.DOMException = function(message, name) {\n      this.message = message;\n      this.name = name;\n      var error = Error(message);\n      this.stack = error.stack;\n    };\n    exports.DOMException.prototype = Object.create(Error.prototype);\n    exports.DOMException.prototype.constructor = exports.DOMException;\n  }\n\n  function fetch(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request = new Request(input, init);\n\n      if (request.signal && request.signal.aborted) {\n        return reject(new exports.DOMException('Aborted', 'AbortError'))\n      }\n\n      var xhr = new XMLHttpRequest();\n\n      function abortXhr() {\n        xhr.abort();\n      }\n\n      xhr.onload = function() {\n        var options = {\n          status: xhr.status,\n          statusText: xhr.statusText,\n          headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n        };\n        options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL');\n        var body = 'response' in xhr ? xhr.response : xhr.responseText;\n        resolve(new Response(body, options));\n      };\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.ontimeout = function() {\n        reject(new TypeError('Network request failed'));\n      };\n\n      xhr.onabort = function() {\n        reject(new exports.DOMException('Aborted', 'AbortError'));\n      };\n\n      xhr.open(request.method, request.url, true);\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true;\n      } else if (request.credentials === 'omit') {\n        xhr.withCredentials = false;\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob';\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value);\n      });\n\n      if (request.signal) {\n        request.signal.addEventListener('abort', abortXhr);\n\n        xhr.onreadystatechange = function() {\n          // DONE (success or failure)\n          if (xhr.readyState === 4) {\n            request.signal.removeEventListener('abort', abortXhr);\n          }\n        };\n      }\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit);\n    })\n  }\n\n  fetch.polyfill = true;\n\n  if (!self.fetch) {\n    self.fetch = fetch;\n    self.Headers = Headers;\n    self.Request = Request;\n    self.Response = Response;\n  }\n\n  exports.Headers = Headers;\n  exports.Request = Request;\n  exports.Response = Response;\n  exports.fetch = fetch;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n\n  return exports;\n\n})({});\n})(__self__);\n__self__.fetch.ponyfill = true;\n// Remove \"polyfill\" property added by whatwg-fetch\ndelete __self__.fetch.polyfill;\n// Choose between native implementation (global) or custom implementation (__self__)\n// var ctx = global.fetch ? global : __self__;\nvar ctx = __self__; // this line disable service worker support temporarily\nexports = ctx.fetch // To enable: import fetch from 'cross-fetch'\nexports.default = ctx.fetch // For TypeScript consumers without esModuleInterop.\nexports.fetch = ctx.fetch // To enable: import {fetch} from 'cross-fetch'\nexports.Headers = ctx.Headers\nexports.Request = ctx.Request\nexports.Response = ctx.Response\nmodule.exports = exports\n","import { jsCyberSearch, jsCyberLink, jsGetPassportByNickname, jsGetIpfsTextContent, jsAddContenToIpfs, jsEvalScriptFromIpfs, jsOpenAICompletions, jsSearchByEmbedding, jsCyberLinksFrom, jsCyberLinksTo, jsExecuteScriptCallback } from '../../src/services/scripting/wasmBindings.js';\n\nlet wasm;\n\nconst heap = new Array(128).fill(undefined);\n\nheap.push(undefined, null, true, false);\n\nfunction getObject(idx) { return heap[idx]; }\n\nlet heap_next = heap.length;\n\nfunction dropObject(idx) {\n    if (idx < 132) return;\n    heap[idx] = heap_next;\n    heap_next = idx;\n}\n\nfunction takeObject(idx) {\n    const ret = getObject(idx);\n    dropObject(idx);\n    return ret;\n}\n\nlet WASM_VECTOR_LEN = 0;\n\nlet cachedUint8Memory0 = null;\n\nfunction getUint8Memory0() {\n    if (cachedUint8Memory0 === null || cachedUint8Memory0.byteLength === 0) {\n        cachedUint8Memory0 = new Uint8Array(wasm.memory.buffer);\n    }\n    return cachedUint8Memory0;\n}\n\nconst cachedTextEncoder = (typeof TextEncoder !== 'undefined' ? new TextEncoder('utf-8') : { encode: () => { throw Error('TextEncoder not available') } } );\n\nconst encodeString = (typeof cachedTextEncoder.encodeInto === 'function'\n    ? function (arg, view) {\n    return cachedTextEncoder.encodeInto(arg, view);\n}\n    : function (arg, view) {\n    const buf = cachedTextEncoder.encode(arg);\n    view.set(buf);\n    return {\n        read: arg.length,\n        written: buf.length\n    };\n});\n\nfunction passStringToWasm0(arg, malloc, realloc) {\n\n    if (realloc === undefined) {\n        const buf = cachedTextEncoder.encode(arg);\n        const ptr = malloc(buf.length, 1) >>> 0;\n        getUint8Memory0().subarray(ptr, ptr + buf.length).set(buf);\n        WASM_VECTOR_LEN = buf.length;\n        return ptr;\n    }\n\n    let len = arg.length;\n    let ptr = malloc(len, 1) >>> 0;\n\n    const mem = getUint8Memory0();\n\n    let offset = 0;\n\n    for (; offset < len; offset++) {\n        const code = arg.charCodeAt(offset);\n        if (code > 0x7F) break;\n        mem[ptr + offset] = code;\n    }\n\n    if (offset !== len) {\n        if (offset !== 0) {\n            arg = arg.slice(offset);\n        }\n        ptr = realloc(ptr, len, len = offset + arg.length * 3, 1) >>> 0;\n        const view = getUint8Memory0().subarray(ptr + offset, ptr + len);\n        const ret = encodeString(arg, view);\n\n        offset += ret.written;\n        ptr = realloc(ptr, len, offset, 1) >>> 0;\n    }\n\n    WASM_VECTOR_LEN = offset;\n    return ptr;\n}\n\nfunction isLikeNone(x) {\n    return x === undefined || x === null;\n}\n\nlet cachedInt32Memory0 = null;\n\nfunction getInt32Memory0() {\n    if (cachedInt32Memory0 === null || cachedInt32Memory0.byteLength === 0) {\n        cachedInt32Memory0 = new Int32Array(wasm.memory.buffer);\n    }\n    return cachedInt32Memory0;\n}\n\nfunction addHeapObject(obj) {\n    if (heap_next === heap.length) heap.push(heap.length + 1);\n    const idx = heap_next;\n    heap_next = heap[idx];\n\n    heap[idx] = obj;\n    return idx;\n}\n\nconst cachedTextDecoder = (typeof TextDecoder !== 'undefined' ? new TextDecoder('utf-8', { ignoreBOM: true, fatal: true }) : { decode: () => { throw Error('TextDecoder not available') } } );\n\nif (typeof TextDecoder !== 'undefined') { cachedTextDecoder.decode(); };\n\nfunction getStringFromWasm0(ptr, len) {\n    ptr = ptr >>> 0;\n    return cachedTextDecoder.decode(getUint8Memory0().subarray(ptr, ptr + len));\n}\n\nfunction debugString(val) {\n    // primitive types\n    const type = typeof val;\n    if (type == 'number' || type == 'boolean' || val == null) {\n        return  `${val}`;\n    }\n    if (type == 'string') {\n        return `\"${val}\"`;\n    }\n    if (type == 'symbol') {\n        const description = val.description;\n        if (description == null) {\n            return 'Symbol';\n        } else {\n            return `Symbol(${description})`;\n        }\n    }\n    if (type == 'function') {\n        const name = val.name;\n        if (typeof name == 'string' && name.length > 0) {\n            return `Function(${name})`;\n        } else {\n            return 'Function';\n        }\n    }\n    // objects\n    if (Array.isArray(val)) {\n        const length = val.length;\n        let debug = '[';\n        if (length > 0) {\n            debug += debugString(val[0]);\n        }\n        for(let i = 1; i < length; i++) {\n            debug += ', ' + debugString(val[i]);\n        }\n        debug += ']';\n        return debug;\n    }\n    // Test for built-in\n    const builtInMatches = /\\[object ([^\\]]+)\\]/.exec(toString.call(val));\n    let className;\n    if (builtInMatches.length > 1) {\n        className = builtInMatches[1];\n    } else {\n        // Failed to match the standard '[object ClassName]'\n        return toString.call(val);\n    }\n    if (className == 'Object') {\n        // we're a user defined class or Object\n        // JSON.stringify avoids problems with cycles, and is generally much\n        // easier than looping through ownProperties of `val`.\n        try {\n            return 'Object(' + JSON.stringify(val) + ')';\n        } catch (_) {\n            return 'Object';\n        }\n    }\n    // errors\n    if (val instanceof Error) {\n        return `${val.name}: ${val.message}\\n${val.stack}`;\n    }\n    // TODO we could test for more things here, like `Set`s and `Map`s.\n    return className;\n}\n\nconst CLOSURE_DTORS = (typeof FinalizationRegistry === 'undefined')\n    ? { register: () => {}, unregister: () => {} }\n    : new FinalizationRegistry(state => {\n    wasm.__wbindgen_export_2.get(state.dtor)(state.a, state.b)\n});\n\nfunction makeMutClosure(arg0, arg1, dtor, f) {\n    const state = { a: arg0, b: arg1, cnt: 1, dtor };\n    const real = (...args) => {\n        // First up with a closure we increment the internal reference\n        // count. This ensures that the Rust closure environment won't\n        // be deallocated while we're invoking it.\n        state.cnt++;\n        const a = state.a;\n        state.a = 0;\n        try {\n            return f(a, state.b, ...args);\n        } finally {\n            if (--state.cnt === 0) {\n                wasm.__wbindgen_export_2.get(state.dtor)(a, state.b);\n                CLOSURE_DTORS.unregister(state);\n            } else {\n                state.a = a;\n            }\n        }\n    };\n    real.original = state;\n    CLOSURE_DTORS.register(real, state, state);\n    return real;\n}\nfunction __wbg_adapter_26(arg0, arg1, arg2) {\n    wasm._dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__hf3cea9750e4420ef(arg0, arg1, addHeapObject(arg2));\n}\n\n/**\n*/\nexport function main_js() {\n    wasm.main_js();\n}\n\n/**\n* @param {any} entry_point\n* @param {any} config\n* @returns {Promise<any>}\n*/\nexport function compile(entry_point, config) {\n    const ret = wasm.compile(addHeapObject(entry_point), addHeapObject(config));\n    return takeObject(ret);\n}\n\nfunction handleError(f, args) {\n    try {\n        return f.apply(this, args);\n    } catch (e) {\n        wasm.__wbindgen_exn_store(addHeapObject(e));\n    }\n}\nfunction __wbg_adapter_133(arg0, arg1, arg2, arg3) {\n    wasm.wasm_bindgen__convert__closures__invoke2_mut__h55069aa6b66204e3(arg0, arg1, addHeapObject(arg2), addHeapObject(arg3));\n}\n\nasync function __wbg_load(module, imports) {\n    if (typeof Response === 'function' && module instanceof Response) {\n        if (typeof WebAssembly.instantiateStreaming === 'function') {\n            try {\n                return await WebAssembly.instantiateStreaming(module, imports);\n\n            } catch (e) {\n                if (module.headers.get('Content-Type') != 'application/wasm') {\n                    console.warn(\"`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\\n\", e);\n\n                } else {\n                    throw e;\n                }\n            }\n        }\n\n        const bytes = await module.arrayBuffer();\n        return await WebAssembly.instantiate(bytes, imports);\n\n    } else {\n        const instance = await WebAssembly.instantiate(module, imports);\n\n        if (instance instanceof WebAssembly.Instance) {\n            return { instance, module };\n\n        } else {\n            return instance;\n        }\n    }\n}\n\nfunction __wbg_get_imports() {\n    const imports = {};\n    imports.wbg = {};\n    imports.wbg.__wbindgen_is_undefined = function(arg0) {\n        const ret = getObject(arg0) === undefined;\n        return ret;\n    };\n    imports.wbg.__wbg_log_af664d6e0fce87fe = function(arg0, arg1) {\n        console.log(getStringFromWasm0(arg0, arg1));\n    };\n    imports.wbg.__wbindgen_object_drop_ref = function(arg0) {\n        takeObject(arg0);\n    };\n    imports.wbg.__wbg_jsCyberSearch_31ae9a5f5af464bc = function(arg0, arg1) {\n        const ret = jsCyberSearch(getStringFromWasm0(arg0, arg1));\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_jsCyberLink_2bba38538259dfae = function(arg0, arg1, arg2, arg3) {\n        const ret = jsCyberLink(getStringFromWasm0(arg0, arg1), getStringFromWasm0(arg2, arg3));\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_jsGetPassportByNickname_66cc923b007c77b2 = function(arg0, arg1) {\n        const ret = jsGetPassportByNickname(getStringFromWasm0(arg0, arg1));\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_jsGetIpfsTextContent_0dd3748b1688b10e = function(arg0, arg1) {\n        const ret = jsGetIpfsTextContent(getStringFromWasm0(arg0, arg1));\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_jsAddContenToIpfs_3d1cb5924c163cfe = function(arg0, arg1) {\n        const ret = jsAddContenToIpfs(getStringFromWasm0(arg0, arg1));\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_jsEvalScriptFromIpfs_559b685caaa5f15f = function(arg0, arg1, arg2, arg3, arg4) {\n        const ret = jsEvalScriptFromIpfs(getStringFromWasm0(arg0, arg1), getStringFromWasm0(arg2, arg3), getObject(arg4));\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_jsOpenAICompletions_45a2730c765a747c = function(arg0, arg1, arg2, arg3, arg4) {\n        const ret = jsOpenAICompletions(getObject(arg0), getStringFromWasm0(arg1, arg2), getObject(arg3), getObject(arg4));\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_jsSearchByEmbedding_c6fa1395fdaec250 = function(arg0, arg1, arg2) {\n        const ret = jsSearchByEmbedding(getStringFromWasm0(arg0, arg1), arg2 >>> 0);\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_jsCyberLinksFrom_358af52be69ceae6 = function(arg0, arg1) {\n        const ret = jsCyberLinksFrom(getStringFromWasm0(arg0, arg1));\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_jsCyberLinksTo_0856ca22f5524370 = function(arg0, arg1) {\n        const ret = jsCyberLinksTo(getStringFromWasm0(arg0, arg1));\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_jsExecuteScriptCallback_5ea4658c68e04549 = function(arg0, arg1, arg2) {\n        const ret = jsExecuteScriptCallback(getStringFromWasm0(arg0, arg1), getObject(arg2));\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbindgen_string_get = function(arg0, arg1) {\n        const obj = getObject(arg1);\n        const ret = typeof(obj) === 'string' ? obj : undefined;\n        var ptr1 = isLikeNone(ret) ? 0 : passStringToWasm0(ret, wasm.__wbindgen_malloc, wasm.__wbindgen_realloc);\n        var len1 = WASM_VECTOR_LEN;\n        getInt32Memory0()[arg0 / 4 + 1] = len1;\n        getInt32Memory0()[arg0 / 4 + 0] = ptr1;\n    };\n    imports.wbg.__wbindgen_object_clone_ref = function(arg0) {\n        const ret = getObject(arg0);\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbindgen_string_new = function(arg0, arg1) {\n        const ret = getStringFromWasm0(arg0, arg1);\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_fetch_57429b87be3dcc33 = function(arg0) {\n        const ret = fetch(getObject(arg0));\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbindgen_is_object = function(arg0) {\n        const val = getObject(arg0);\n        const ret = typeof(val) === 'object' && val !== null;\n        return ret;\n    };\n    imports.wbg.__wbg_crypto_70a96de3b6b73dac = function(arg0) {\n        const ret = getObject(arg0).crypto;\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_process_dd1577445152112e = function(arg0) {\n        const ret = getObject(arg0).process;\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_versions_58036bec3add9e6f = function(arg0) {\n        const ret = getObject(arg0).versions;\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_node_6a9d28205ed5b0d8 = function(arg0) {\n        const ret = getObject(arg0).node;\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbindgen_is_string = function(arg0) {\n        const ret = typeof(getObject(arg0)) === 'string';\n        return ret;\n    };\n    imports.wbg.__wbg_require_f05d779769764e82 = function() { return handleError(function () {\n        const ret = module.require;\n        return addHeapObject(ret);\n    }, arguments) };\n    imports.wbg.__wbg_msCrypto_adbc770ec9eca9c7 = function(arg0) {\n        const ret = getObject(arg0).msCrypto;\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_randomFillSync_e950366c42764a07 = function() { return handleError(function (arg0, arg1) {\n        getObject(arg0).randomFillSync(takeObject(arg1));\n    }, arguments) };\n    imports.wbg.__wbg_getRandomValues_3774744e221a22ad = function() { return handleError(function (arg0, arg1) {\n        getObject(arg0).getRandomValues(getObject(arg1));\n    }, arguments) };\n    imports.wbg.__wbg_new_abda76e883ba8a5f = function() {\n        const ret = new Error();\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_stack_658279fe44541cf6 = function(arg0, arg1) {\n        const ret = getObject(arg1).stack;\n        const ptr1 = passStringToWasm0(ret, wasm.__wbindgen_malloc, wasm.__wbindgen_realloc);\n        const len1 = WASM_VECTOR_LEN;\n        getInt32Memory0()[arg0 / 4 + 1] = len1;\n        getInt32Memory0()[arg0 / 4 + 0] = ptr1;\n    };\n    imports.wbg.__wbg_error_f851667af71bcfc6 = function(arg0, arg1) {\n        let deferred0_0;\n        let deferred0_1;\n        try {\n            deferred0_0 = arg0;\n            deferred0_1 = arg1;\n            console.error(getStringFromWasm0(arg0, arg1));\n        } finally {\n            wasm.__wbindgen_free(deferred0_0, deferred0_1, 1);\n        }\n    };\n    imports.wbg.__wbindgen_cb_drop = function(arg0) {\n        const obj = takeObject(arg0).original;\n        if (obj.cnt-- == 1) {\n            obj.a = 0;\n            return true;\n        }\n        const ret = false;\n        return ret;\n    };\n    imports.wbg.__wbg_signal_bcb55e86063f8860 = function(arg0) {\n        const ret = getObject(arg0).signal;\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_new_668956ac1089f8cf = function() { return handleError(function () {\n        const ret = new AbortController();\n        return addHeapObject(ret);\n    }, arguments) };\n    imports.wbg.__wbg_abort_de75e4ab5136bcee = function(arg0) {\n        getObject(arg0).abort();\n    };\n    imports.wbg.__wbg_new_143b41b4342650bb = function() { return handleError(function () {\n        const ret = new Headers();\n        return addHeapObject(ret);\n    }, arguments) };\n    imports.wbg.__wbg_append_fac652007989b765 = function() { return handleError(function (arg0, arg1, arg2, arg3, arg4) {\n        getObject(arg0).append(getStringFromWasm0(arg1, arg2), getStringFromWasm0(arg3, arg4));\n    }, arguments) };\n    imports.wbg.__wbg_newwithstrandinit_a4cd16dfaafcf625 = function() { return handleError(function (arg0, arg1, arg2) {\n        const ret = new Request(getStringFromWasm0(arg0, arg1), getObject(arg2));\n        return addHeapObject(ret);\n    }, arguments) };\n    imports.wbg.__wbg_instanceof_Response_7ade9a5a066d1a55 = function(arg0) {\n        let result;\n        try {\n            result = getObject(arg0) instanceof Response;\n        } catch (_) {\n            result = false;\n        }\n        const ret = result;\n        return ret;\n    };\n    imports.wbg.__wbg_url_59cb32ef6a837521 = function(arg0, arg1) {\n        const ret = getObject(arg1).url;\n        const ptr1 = passStringToWasm0(ret, wasm.__wbindgen_malloc, wasm.__wbindgen_realloc);\n        const len1 = WASM_VECTOR_LEN;\n        getInt32Memory0()[arg0 / 4 + 1] = len1;\n        getInt32Memory0()[arg0 / 4 + 0] = ptr1;\n    };\n    imports.wbg.__wbg_status_d2b2d0889f7e970f = function(arg0) {\n        const ret = getObject(arg0).status;\n        return ret;\n    };\n    imports.wbg.__wbg_headers_2de03c88f895093b = function(arg0) {\n        const ret = getObject(arg0).headers;\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_arrayBuffer_2693673868da65b7 = function() { return handleError(function (arg0) {\n        const ret = getObject(arg0).arrayBuffer();\n        return addHeapObject(ret);\n    }, arguments) };\n    imports.wbg.__wbg_text_65fa1887e8f7b4ac = function() { return handleError(function (arg0) {\n        const ret = getObject(arg0).text();\n        return addHeapObject(ret);\n    }, arguments) };\n    imports.wbg.__wbg_fetch_621998933558ad27 = function(arg0, arg1) {\n        const ret = getObject(arg0).fetch(getObject(arg1));\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbindgen_is_function = function(arg0) {\n        const ret = typeof(getObject(arg0)) === 'function';\n        return ret;\n    };\n    imports.wbg.__wbg_self_742dd6eab3e9211e = function() { return handleError(function () {\n        const ret = self.self;\n        return addHeapObject(ret);\n    }, arguments) };\n    imports.wbg.__wbg_window_c409e731db53a0e2 = function() { return handleError(function () {\n        const ret = window.window;\n        return addHeapObject(ret);\n    }, arguments) };\n    imports.wbg.__wbg_globalThis_b70c095388441f2d = function() { return handleError(function () {\n        const ret = globalThis.globalThis;\n        return addHeapObject(ret);\n    }, arguments) };\n    imports.wbg.__wbg_global_1c72617491ed7194 = function() { return handleError(function () {\n        const ret = global.global;\n        return addHeapObject(ret);\n    }, arguments) };\n    imports.wbg.__wbg_newnoargs_c9e6043b8ad84109 = function(arg0, arg1) {\n        const ret = new Function(getStringFromWasm0(arg0, arg1));\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_next_f4bc0e96ea67da68 = function(arg0) {\n        const ret = getObject(arg0).next;\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_value_2f4ef2036bfad28e = function(arg0) {\n        const ret = getObject(arg0).value;\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_iterator_7c7e58f62eb84700 = function() {\n        const ret = Symbol.iterator;\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_new_2b6fea4ea03b1b95 = function() {\n        const ret = new Object();\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_call_557a2f2deacc4912 = function() { return handleError(function (arg0, arg1) {\n        const ret = getObject(arg0).call(getObject(arg1));\n        return addHeapObject(ret);\n    }, arguments) };\n    imports.wbg.__wbg_call_587b30eea3e09332 = function() { return handleError(function (arg0, arg1, arg2) {\n        const ret = getObject(arg0).call(getObject(arg1), getObject(arg2));\n        return addHeapObject(ret);\n    }, arguments) };\n    imports.wbg.__wbg_next_ec061e48a0e72a96 = function() { return handleError(function (arg0) {\n        const ret = getObject(arg0).next();\n        return addHeapObject(ret);\n    }, arguments) };\n    imports.wbg.__wbg_done_b6abb27d42b63867 = function(arg0) {\n        const ret = getObject(arg0).done;\n        return ret;\n    };\n    imports.wbg.__wbg_get_f53c921291c381bd = function() { return handleError(function (arg0, arg1) {\n        const ret = Reflect.get(getObject(arg0), getObject(arg1));\n        return addHeapObject(ret);\n    }, arguments) };\n    imports.wbg.__wbg_has_40b8c976775c8ead = function() { return handleError(function (arg0, arg1) {\n        const ret = Reflect.has(getObject(arg0), getObject(arg1));\n        return ret;\n    }, arguments) };\n    imports.wbg.__wbg_set_07da13cc24b69217 = function() { return handleError(function (arg0, arg1, arg2) {\n        const ret = Reflect.set(getObject(arg0), getObject(arg1), getObject(arg2));\n        return ret;\n    }, arguments) };\n    imports.wbg.__wbg_buffer_55ba7a6b1b92e2ac = function(arg0) {\n        const ret = getObject(arg0).buffer;\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_parse_76a8a18ca3f8730b = function() { return handleError(function (arg0, arg1) {\n        const ret = JSON.parse(getStringFromWasm0(arg0, arg1));\n        return addHeapObject(ret);\n    }, arguments) };\n    imports.wbg.__wbg_stringify_d06ad2addc54d51e = function() { return handleError(function (arg0) {\n        const ret = JSON.stringify(getObject(arg0));\n        return addHeapObject(ret);\n    }, arguments) };\n    imports.wbg.__wbg_new_2b55e405e4af4986 = function(arg0, arg1) {\n        try {\n            var state0 = {a: arg0, b: arg1};\n            var cb0 = (arg0, arg1) => {\n                const a = state0.a;\n                state0.a = 0;\n                try {\n                    return __wbg_adapter_133(a, state0.b, arg0, arg1);\n                } finally {\n                    state0.a = a;\n                }\n            };\n            const ret = new Promise(cb0);\n            return addHeapObject(ret);\n        } finally {\n            state0.a = state0.b = 0;\n        }\n    };\n    imports.wbg.__wbg_resolve_ae38ad63c43ff98b = function(arg0) {\n        const ret = Promise.resolve(getObject(arg0));\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_then_8df675b8bb5d5e3c = function(arg0, arg1) {\n        const ret = getObject(arg0).then(getObject(arg1));\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_then_835b073a479138e5 = function(arg0, arg1, arg2) {\n        const ret = getObject(arg0).then(getObject(arg1), getObject(arg2));\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_newwithbyteoffsetandlength_88d1d8be5df94b9b = function(arg0, arg1, arg2) {\n        const ret = new Uint8Array(getObject(arg0), arg1 >>> 0, arg2 >>> 0);\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_new_09938a7d020f049b = function(arg0) {\n        const ret = new Uint8Array(getObject(arg0));\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_newwithlength_89eeca401d8918c2 = function(arg0) {\n        const ret = new Uint8Array(arg0 >>> 0);\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_subarray_d82be056deb4ad27 = function(arg0, arg1, arg2) {\n        const ret = getObject(arg0).subarray(arg1 >>> 0, arg2 >>> 0);\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_length_0aab7ffd65ad19ed = function(arg0) {\n        const ret = getObject(arg0).length;\n        return ret;\n    };\n    imports.wbg.__wbg_set_3698e3ca519b3c3c = function(arg0, arg1, arg2) {\n        getObject(arg0).set(getObject(arg1), arg2 >>> 0);\n    };\n    imports.wbg.__wbindgen_debug_string = function(arg0, arg1) {\n        const ret = debugString(getObject(arg1));\n        const ptr1 = passStringToWasm0(ret, wasm.__wbindgen_malloc, wasm.__wbindgen_realloc);\n        const len1 = WASM_VECTOR_LEN;\n        getInt32Memory0()[arg0 / 4 + 1] = len1;\n        getInt32Memory0()[arg0 / 4 + 0] = ptr1;\n    };\n    imports.wbg.__wbindgen_throw = function(arg0, arg1) {\n        throw new Error(getStringFromWasm0(arg0, arg1));\n    };\n    imports.wbg.__wbindgen_memory = function() {\n        const ret = wasm.memory;\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbindgen_closure_wrapper2123 = function(arg0, arg1, arg2) {\n        const ret = makeMutClosure(arg0, arg1, 604, __wbg_adapter_26);\n        return addHeapObject(ret);\n    };\n\n    return imports;\n}\n\nfunction __wbg_init_memory(imports, maybe_memory) {\n\n}\n\nfunction __wbg_finalize_init(instance, module) {\n    wasm = instance.exports;\n    __wbg_init.__wbindgen_wasm_module = module;\n    cachedInt32Memory0 = null;\n    cachedUint8Memory0 = null;\n\n    wasm.__wbindgen_start();\n    return wasm;\n}\n\nfunction initSync(module) {\n    if (wasm !== undefined) return wasm;\n\n    const imports = __wbg_get_imports();\n\n    __wbg_init_memory(imports);\n\n    if (!(module instanceof WebAssembly.Module)) {\n        module = new WebAssembly.Module(module);\n    }\n\n    const instance = new WebAssembly.Instance(module, imports);\n\n    return __wbg_finalize_init(instance, module);\n}\n\nasync function __wbg_init(input) {\n    if (wasm !== undefined) return wasm;\n\n    if (typeof input === 'undefined') {\n        input = new URL('cyb_rune_wasm_bg.wasm', import.meta.url);\n    }\n    const imports = __wbg_get_imports();\n\n    if (typeof input === 'string' || (typeof Request === 'function' && input instanceof Request) || (typeof URL === 'function' && input instanceof URL)) {\n        input = fetch(input);\n    }\n\n    __wbg_init_memory(imports);\n\n    const { instance, module } = await __wbg_load(await input, imports);\n\n    return __wbg_finalize_init(instance, module);\n}\n\nexport { initSync }\nexport default __wbg_init;\n","/*\n * Date Format 1.2.3\n * (c) 2007-2009 Steven Levithan <stevenlevithan.com>\n * MIT license\n *\n * Includes enhancements by Scott Trenda <scott.trenda.net>\n * and Kris Kowal <cixar.com/~kris.kowal/>\n *\n * Accepts a date, a mask, or a date and a mask.\n * Returns a formatted version of the given date.\n * The date defaults to the current date/time.\n * The mask defaults to dateFormat.masks.default.\n */\n\n(function(global) {\n  'use strict';\n\n  var dateFormat = (function() {\n      var token = /d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\\1?|[LloSZWN]|\"[^\"]*\"|'[^']*'/g;\n      var timezone = /\\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\\d{4})?)\\b/g;\n      var timezoneClip = /[^-+\\dA-Z]/g;\n  \n      // Regexes and supporting functions are cached through closure\n      return function (date, mask, utc, gmt) {\n  \n        // You can't provide utc if you skip other args (use the 'UTC:' mask prefix)\n        if (arguments.length === 1 && kindOf(date) === 'string' && !/\\d/.test(date)) {\n          mask = date;\n          date = undefined;\n        }\n  \n        date = date || new Date;\n  \n        if(!(date instanceof Date)) {\n          date = new Date(date);\n        }\n  \n        if (isNaN(date)) {\n          throw TypeError('Invalid date');\n        }\n  \n        mask = String(dateFormat.masks[mask] || mask || dateFormat.masks['default']);\n  \n        // Allow setting the utc/gmt argument via the mask\n        var maskSlice = mask.slice(0, 4);\n        if (maskSlice === 'UTC:' || maskSlice === 'GMT:') {\n          mask = mask.slice(4);\n          utc = true;\n          if (maskSlice === 'GMT:') {\n            gmt = true;\n          }\n        }\n  \n        var _ = utc ? 'getUTC' : 'get';\n        var d = date[_ + 'Date']();\n        var D = date[_ + 'Day']();\n        var m = date[_ + 'Month']();\n        var y = date[_ + 'FullYear']();\n        var H = date[_ + 'Hours']();\n        var M = date[_ + 'Minutes']();\n        var s = date[_ + 'Seconds']();\n        var L = date[_ + 'Milliseconds']();\n        var o = utc ? 0 : date.getTimezoneOffset();\n        var W = getWeek(date);\n        var N = getDayOfWeek(date);\n        var flags = {\n          d:    d,\n          dd:   pad(d),\n          ddd:  dateFormat.i18n.dayNames[D],\n          dddd: dateFormat.i18n.dayNames[D + 7],\n          m:    m + 1,\n          mm:   pad(m + 1),\n          mmm:  dateFormat.i18n.monthNames[m],\n          mmmm: dateFormat.i18n.monthNames[m + 12],\n          yy:   String(y).slice(2),\n          yyyy: y,\n          h:    H % 12 || 12,\n          hh:   pad(H % 12 || 12),\n          H:    H,\n          HH:   pad(H),\n          M:    M,\n          MM:   pad(M),\n          s:    s,\n          ss:   pad(s),\n          l:    pad(L, 3),\n          L:    pad(Math.round(L / 10)),\n          t:    H < 12 ? dateFormat.i18n.timeNames[0] : dateFormat.i18n.timeNames[1],\n          tt:   H < 12 ? dateFormat.i18n.timeNames[2] : dateFormat.i18n.timeNames[3],\n          T:    H < 12 ? dateFormat.i18n.timeNames[4] : dateFormat.i18n.timeNames[5],\n          TT:   H < 12 ? dateFormat.i18n.timeNames[6] : dateFormat.i18n.timeNames[7],\n          Z:    gmt ? 'GMT' : utc ? 'UTC' : (String(date).match(timezone) || ['']).pop().replace(timezoneClip, ''),\n          o:    (o > 0 ? '-' : '+') + pad(Math.floor(Math.abs(o) / 60) * 100 + Math.abs(o) % 60, 4),\n          S:    ['th', 'st', 'nd', 'rd'][d % 10 > 3 ? 0 : (d % 100 - d % 10 != 10) * d % 10],\n          W:    W,\n          N:    N\n        };\n  \n        return mask.replace(token, function (match) {\n          if (match in flags) {\n            return flags[match];\n          }\n          return match.slice(1, match.length - 1);\n        });\n      };\n    })();\n\n  dateFormat.masks = {\n    'default':               'ddd mmm dd yyyy HH:MM:ss',\n    'shortDate':             'm/d/yy',\n    'mediumDate':            'mmm d, yyyy',\n    'longDate':              'mmmm d, yyyy',\n    'fullDate':              'dddd, mmmm d, yyyy',\n    'shortTime':             'h:MM TT',\n    'mediumTime':            'h:MM:ss TT',\n    'longTime':              'h:MM:ss TT Z',\n    'isoDate':               'yyyy-mm-dd',\n    'isoTime':               'HH:MM:ss',\n    'isoDateTime':           'yyyy-mm-dd\\'T\\'HH:MM:sso',\n    'isoUtcDateTime':        'UTC:yyyy-mm-dd\\'T\\'HH:MM:ss\\'Z\\'',\n    'expiresHeaderFormat':   'ddd, dd mmm yyyy HH:MM:ss Z'\n  };\n\n  // Internationalization strings\n  dateFormat.i18n = {\n    dayNames: [\n      'Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat',\n      'Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'\n    ],\n    monthNames: [\n      'Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec',\n      'January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'\n    ],\n    timeNames: [\n      'a', 'p', 'am', 'pm', 'A', 'P', 'AM', 'PM'\n    ]\n  };\n\nfunction pad(val, len) {\n  val = String(val);\n  len = len || 2;\n  while (val.length < len) {\n    val = '0' + val;\n  }\n  return val;\n}\n\n/**\n * Get the ISO 8601 week number\n * Based on comments from\n * http://techblog.procurios.nl/k/n618/news/view/33796/14863/Calculate-ISO-8601-week-and-year-in-javascript.html\n *\n * @param  {Object} `date`\n * @return {Number}\n */\nfunction getWeek(date) {\n  // Remove time components of date\n  var targetThursday = new Date(date.getFullYear(), date.getMonth(), date.getDate());\n\n  // Change date to Thursday same week\n  targetThursday.setDate(targetThursday.getDate() - ((targetThursday.getDay() + 6) % 7) + 3);\n\n  // Take January 4th as it is always in week 1 (see ISO 8601)\n  var firstThursday = new Date(targetThursday.getFullYear(), 0, 4);\n\n  // Change date to Thursday same week\n  firstThursday.setDate(firstThursday.getDate() - ((firstThursday.getDay() + 6) % 7) + 3);\n\n  // Check if daylight-saving-time-switch occurred and correct for it\n  var ds = targetThursday.getTimezoneOffset() - firstThursday.getTimezoneOffset();\n  targetThursday.setHours(targetThursday.getHours() - ds);\n\n  // Number of weeks between target Thursday and first Thursday\n  var weekDiff = (targetThursday - firstThursday) / (86400000*7);\n  return 1 + Math.floor(weekDiff);\n}\n\n/**\n * Get ISO-8601 numeric representation of the day of the week\n * 1 (for Monday) through 7 (for Sunday)\n * \n * @param  {Object} `date`\n * @return {Number}\n */\nfunction getDayOfWeek(date) {\n  var dow = date.getDay();\n  if(dow === 0) {\n    dow = 7;\n  }\n  return dow;\n}\n\n/**\n * kind-of shortcut\n * @param  {*} val\n * @return {String}\n */\nfunction kindOf(val) {\n  if (val === null) {\n    return 'null';\n  }\n\n  if (val === undefined) {\n    return 'undefined';\n  }\n\n  if (typeof val !== 'object') {\n    return typeof val;\n  }\n\n  if (Array.isArray(val)) {\n    return 'array';\n  }\n\n  return {}.toString.call(val)\n    .slice(8, -1).toLowerCase();\n};\n\n\n\n  if (typeof define === 'function' && define.amd) {\n    define(function () {\n      return dateFormat;\n    });\n  } else if (typeof exports === 'object') {\n    module.exports = dateFormat;\n  } else {\n    global.dateFormat = dateFormat;\n  }\n})(this);\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (() => {\n\tlet warned = false;\n\n\treturn () => {\n\t\tif (!warned) {\n\t\t\twarned = true;\n\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t\t}\n\t};\n})();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\tcreateDebug.destroy = destroy;\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\t\tlet enableOverride = null;\n\t\tlet namespacesCache;\n\t\tlet enabledCache;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn '%';\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = createDebug.selectColor(namespace);\n\t\tdebug.extend = extend;\n\t\tdebug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n\t\tObject.defineProperty(debug, 'enabled', {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t\tget: () => {\n\t\t\t\tif (enableOverride !== null) {\n\t\t\t\t\treturn enableOverride;\n\t\t\t\t}\n\t\t\t\tif (namespacesCache !== createDebug.namespaces) {\n\t\t\t\t\tnamespacesCache = createDebug.namespaces;\n\t\t\t\t\tenabledCache = createDebug.enabled(namespace);\n\t\t\t\t}\n\n\t\t\t\treturn enabledCache;\n\t\t\t},\n\t\t\tset: v => {\n\t\t\t\tenableOverride = v;\n\t\t\t}\n\t\t});\n\n\t\t// Env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\treturn debug;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\t\tcreateDebug.namespaces = namespaces;\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tlet i;\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n\t\tconst len = split.length;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!split[i]) {\n\t\t\t\t// ignore empty strings\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\n\n\t\t\tif (namespaces[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.slice(1) + '$'));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names.map(toNamespace),\n\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tif (name[name.length - 1] === '*') {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet i;\n\t\tlet len;\n\n\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\n\t\t\tif (createDebug.skips[i].test(name)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\n\t\t\tif (createDebug.names[i].test(name)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Convert regexp to namespace\n\t*\n\t* @param {RegExp} regxep\n\t* @return {String} namespace\n\t* @api private\n\t*/\n\tfunction toNamespace(regexp) {\n\t\treturn regexp.toString()\n\t\t\t.substring(2, regexp.toString().length - 2)\n\t\t\t.replace(/\\.\\*\\?$/, '*');\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\t/**\n\t* XXX DO NOT USE. This is a temporary stub function.\n\t* XXX It WILL be removed in the next major release.\n\t*/\n\tfunction destroy() {\n\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n","'use strict';\n\n// From https://github.com/sindresorhus/random-int/blob/c37741b56f76b9160b0b63dae4e9c64875128146/index.js#L13-L15\nconst randomInteger = (minimum, maximum) => Math.floor((Math.random() * (maximum - minimum + 1)) + minimum);\n\nconst createAbortError = () => {\n\tconst error = new Error('Delay aborted');\n\terror.name = 'AbortError';\n\treturn error;\n};\n\nconst createDelay = ({clearTimeout: defaultClear, setTimeout: set, willResolve}) => (ms, {value, signal} = {}) => {\n\tif (signal && signal.aborted) {\n\t\treturn Promise.reject(createAbortError());\n\t}\n\n\tlet timeoutId;\n\tlet settle;\n\tlet rejectFn;\n\tconst clear = defaultClear || clearTimeout;\n\n\tconst signalListener = () => {\n\t\tclear(timeoutId);\n\t\trejectFn(createAbortError());\n\t};\n\n\tconst cleanup = () => {\n\t\tif (signal) {\n\t\t\tsignal.removeEventListener('abort', signalListener);\n\t\t}\n\t};\n\n\tconst delayPromise = new Promise((resolve, reject) => {\n\t\tsettle = () => {\n\t\t\tcleanup();\n\t\t\tif (willResolve) {\n\t\t\t\tresolve(value);\n\t\t\t} else {\n\t\t\t\treject(value);\n\t\t\t}\n\t\t};\n\n\t\trejectFn = reject;\n\t\ttimeoutId = (set || setTimeout)(settle, ms);\n\t});\n\n\tif (signal) {\n\t\tsignal.addEventListener('abort', signalListener, {once: true});\n\t}\n\n\tdelayPromise.clear = () => {\n\t\tclear(timeoutId);\n\t\ttimeoutId = null;\n\t\tsettle();\n\t};\n\n\treturn delayPromise;\n};\n\nconst createWithTimers = clearAndSet => {\n\tconst delay = createDelay({...clearAndSet, willResolve: true});\n\tdelay.reject = createDelay({...clearAndSet, willResolve: false});\n\tdelay.range = (minimum, maximum, options) => delay(randomInteger(minimum, maximum), options);\n\treturn delay;\n};\n\nconst delay = createWithTimers();\ndelay.createWithTimers = createWithTimers;\n\nmodule.exports = delay;\n// TODO: Remove this for the next major release\nmodule.exports.default = delay;\n","'use strict';\n\n/**\n * Custom implementation of a double ended queue.\n */\nfunction Denque(array, options) {\n  var options = options || {};\n  this._capacity = options.capacity;\n\n  this._head = 0;\n  this._tail = 0;\n\n  if (Array.isArray(array)) {\n    this._fromArray(array);\n  } else {\n    this._capacityMask = 0x3;\n    this._list = new Array(4);\n  }\n}\n\n/**\n * --------------\n *  PUBLIC API\n * -------------\n */\n\n/**\n * Returns the item at the specified index from the list.\n * 0 is the first element, 1 is the second, and so on...\n * Elements at negative values are that many from the end: -1 is one before the end\n * (the last element), -2 is two before the end (one before last), etc.\n * @param index\n * @returns {*}\n */\nDenque.prototype.peekAt = function peekAt(index) {\n  var i = index;\n  // expect a number or return undefined\n  if ((i !== (i | 0))) {\n    return void 0;\n  }\n  var len = this.size();\n  if (i >= len || i < -len) return undefined;\n  if (i < 0) i += len;\n  i = (this._head + i) & this._capacityMask;\n  return this._list[i];\n};\n\n/**\n * Alias for peekAt()\n * @param i\n * @returns {*}\n */\nDenque.prototype.get = function get(i) {\n  return this.peekAt(i);\n};\n\n/**\n * Returns the first item in the list without removing it.\n * @returns {*}\n */\nDenque.prototype.peek = function peek() {\n  if (this._head === this._tail) return undefined;\n  return this._list[this._head];\n};\n\n/**\n * Alias for peek()\n * @returns {*}\n */\nDenque.prototype.peekFront = function peekFront() {\n  return this.peek();\n};\n\n/**\n * Returns the item that is at the back of the queue without removing it.\n * Uses peekAt(-1)\n */\nDenque.prototype.peekBack = function peekBack() {\n  return this.peekAt(-1);\n};\n\n/**\n * Returns the current length of the queue\n * @return {Number}\n */\nObject.defineProperty(Denque.prototype, 'length', {\n  get: function length() {\n    return this.size();\n  }\n});\n\n/**\n * Return the number of items on the list, or 0 if empty.\n * @returns {number}\n */\nDenque.prototype.size = function size() {\n  if (this._head === this._tail) return 0;\n  if (this._head < this._tail) return this._tail - this._head;\n  else return this._capacityMask + 1 - (this._head - this._tail);\n};\n\n/**\n * Add an item at the beginning of the list.\n * @param item\n */\nDenque.prototype.unshift = function unshift(item) {\n  if (arguments.length === 0) return this.size();\n  var len = this._list.length;\n  this._head = (this._head - 1 + len) & this._capacityMask;\n  this._list[this._head] = item;\n  if (this._tail === this._head) this._growArray();\n  if (this._capacity && this.size() > this._capacity) this.pop();\n  if (this._head < this._tail) return this._tail - this._head;\n  else return this._capacityMask + 1 - (this._head - this._tail);\n};\n\n/**\n * Remove and return the first item on the list,\n * Returns undefined if the list is empty.\n * @returns {*}\n */\nDenque.prototype.shift = function shift() {\n  var head = this._head;\n  if (head === this._tail) return undefined;\n  var item = this._list[head];\n  this._list[head] = undefined;\n  this._head = (head + 1) & this._capacityMask;\n  if (head < 2 && this._tail > 10000 && this._tail <= this._list.length >>> 2) this._shrinkArray();\n  return item;\n};\n\n/**\n * Add an item to the bottom of the list.\n * @param item\n */\nDenque.prototype.push = function push(item) {\n  if (arguments.length === 0) return this.size();\n  var tail = this._tail;\n  this._list[tail] = item;\n  this._tail = (tail + 1) & this._capacityMask;\n  if (this._tail === this._head) {\n    this._growArray();\n  }\n  if (this._capacity && this.size() > this._capacity) {\n    this.shift();\n  }\n  if (this._head < this._tail) return this._tail - this._head;\n  else return this._capacityMask + 1 - (this._head - this._tail);\n};\n\n/**\n * Remove and return the last item on the list.\n * Returns undefined if the list is empty.\n * @returns {*}\n */\nDenque.prototype.pop = function pop() {\n  var tail = this._tail;\n  if (tail === this._head) return undefined;\n  var len = this._list.length;\n  this._tail = (tail - 1 + len) & this._capacityMask;\n  var item = this._list[this._tail];\n  this._list[this._tail] = undefined;\n  if (this._head < 2 && tail > 10000 && tail <= len >>> 2) this._shrinkArray();\n  return item;\n};\n\n/**\n * Remove and return the item at the specified index from the list.\n * Returns undefined if the list is empty.\n * @param index\n * @returns {*}\n */\nDenque.prototype.removeOne = function removeOne(index) {\n  var i = index;\n  // expect a number or return undefined\n  if ((i !== (i | 0))) {\n    return void 0;\n  }\n  if (this._head === this._tail) return void 0;\n  var size = this.size();\n  var len = this._list.length;\n  if (i >= size || i < -size) return void 0;\n  if (i < 0) i += size;\n  i = (this._head + i) & this._capacityMask;\n  var item = this._list[i];\n  var k;\n  if (index < size / 2) {\n    for (k = index; k > 0; k--) {\n      this._list[i] = this._list[i = (i - 1 + len) & this._capacityMask];\n    }\n    this._list[i] = void 0;\n    this._head = (this._head + 1 + len) & this._capacityMask;\n  } else {\n    for (k = size - 1 - index; k > 0; k--) {\n      this._list[i] = this._list[i = (i + 1 + len) & this._capacityMask];\n    }\n    this._list[i] = void 0;\n    this._tail = (this._tail - 1 + len) & this._capacityMask;\n  }\n  return item;\n};\n\n/**\n * Remove number of items from the specified index from the list.\n * Returns array of removed items.\n * Returns undefined if the list is empty.\n * @param index\n * @param count\n * @returns {array}\n */\nDenque.prototype.remove = function remove(index, count) {\n  var i = index;\n  var removed;\n  var del_count = count;\n  // expect a number or return undefined\n  if ((i !== (i | 0))) {\n    return void 0;\n  }\n  if (this._head === this._tail) return void 0;\n  var size = this.size();\n  var len = this._list.length;\n  if (i >= size || i < -size || count < 1) return void 0;\n  if (i < 0) i += size;\n  if (count === 1 || !count) {\n    removed = new Array(1);\n    removed[0] = this.removeOne(i);\n    return removed;\n  }\n  if (i === 0 && i + count >= size) {\n    removed = this.toArray();\n    this.clear();\n    return removed;\n  }\n  if (i + count > size) count = size - i;\n  var k;\n  removed = new Array(count);\n  for (k = 0; k < count; k++) {\n    removed[k] = this._list[(this._head + i + k) & this._capacityMask];\n  }\n  i = (this._head + i) & this._capacityMask;\n  if (index + count === size) {\n    this._tail = (this._tail - count + len) & this._capacityMask;\n    for (k = count; k > 0; k--) {\n      this._list[i = (i + 1 + len) & this._capacityMask] = void 0;\n    }\n    return removed;\n  }\n  if (index === 0) {\n    this._head = (this._head + count + len) & this._capacityMask;\n    for (k = count - 1; k > 0; k--) {\n      this._list[i = (i + 1 + len) & this._capacityMask] = void 0;\n    }\n    return removed;\n  }\n  if (i < size / 2) {\n    this._head = (this._head + index + count + len) & this._capacityMask;\n    for (k = index; k > 0; k--) {\n      this.unshift(this._list[i = (i - 1 + len) & this._capacityMask]);\n    }\n    i = (this._head - 1 + len) & this._capacityMask;\n    while (del_count > 0) {\n      this._list[i = (i - 1 + len) & this._capacityMask] = void 0;\n      del_count--;\n    }\n    if (index < 0) this._tail = i;\n  } else {\n    this._tail = i;\n    i = (i + count + len) & this._capacityMask;\n    for (k = size - (count + index); k > 0; k--) {\n      this.push(this._list[i++]);\n    }\n    i = this._tail;\n    while (del_count > 0) {\n      this._list[i = (i + 1 + len) & this._capacityMask] = void 0;\n      del_count--;\n    }\n  }\n  if (this._head < 2 && this._tail > 10000 && this._tail <= len >>> 2) this._shrinkArray();\n  return removed;\n};\n\n/**\n * Native splice implementation.\n * Remove number of items from the specified index from the list and/or add new elements.\n * Returns array of removed items or empty array if count == 0.\n * Returns undefined if the list is empty.\n *\n * @param index\n * @param count\n * @param {...*} [elements]\n * @returns {array}\n */\nDenque.prototype.splice = function splice(index, count) {\n  var i = index;\n  // expect a number or return undefined\n  if ((i !== (i | 0))) {\n    return void 0;\n  }\n  var size = this.size();\n  if (i < 0) i += size;\n  if (i > size) return void 0;\n  if (arguments.length > 2) {\n    var k;\n    var temp;\n    var removed;\n    var arg_len = arguments.length;\n    var len = this._list.length;\n    var arguments_index = 2;\n    if (!size || i < size / 2) {\n      temp = new Array(i);\n      for (k = 0; k < i; k++) {\n        temp[k] = this._list[(this._head + k) & this._capacityMask];\n      }\n      if (count === 0) {\n        removed = [];\n        if (i > 0) {\n          this._head = (this._head + i + len) & this._capacityMask;\n        }\n      } else {\n        removed = this.remove(i, count);\n        this._head = (this._head + i + len) & this._capacityMask;\n      }\n      while (arg_len > arguments_index) {\n        this.unshift(arguments[--arg_len]);\n      }\n      for (k = i; k > 0; k--) {\n        this.unshift(temp[k - 1]);\n      }\n    } else {\n      temp = new Array(size - (i + count));\n      var leng = temp.length;\n      for (k = 0; k < leng; k++) {\n        temp[k] = this._list[(this._head + i + count + k) & this._capacityMask];\n      }\n      if (count === 0) {\n        removed = [];\n        if (i != size) {\n          this._tail = (this._head + i + len) & this._capacityMask;\n        }\n      } else {\n        removed = this.remove(i, count);\n        this._tail = (this._tail - leng + len) & this._capacityMask;\n      }\n      while (arguments_index < arg_len) {\n        this.push(arguments[arguments_index++]);\n      }\n      for (k = 0; k < leng; k++) {\n        this.push(temp[k]);\n      }\n    }\n    return removed;\n  } else {\n    return this.remove(i, count);\n  }\n};\n\n/**\n * Soft clear - does not reset capacity.\n */\nDenque.prototype.clear = function clear() {\n  this._list = new Array(this._list.length);\n  this._head = 0;\n  this._tail = 0;\n};\n\n/**\n * Returns true or false whether the list is empty.\n * @returns {boolean}\n */\nDenque.prototype.isEmpty = function isEmpty() {\n  return this._head === this._tail;\n};\n\n/**\n * Returns an array of all queue items.\n * @returns {Array}\n */\nDenque.prototype.toArray = function toArray() {\n  return this._copyArray(false);\n};\n\n/**\n * -------------\n *   INTERNALS\n * -------------\n */\n\n/**\n * Fills the queue with items from an array\n * For use in the constructor\n * @param array\n * @private\n */\nDenque.prototype._fromArray = function _fromArray(array) {\n  var length = array.length;\n  var capacity = this._nextPowerOf2(length);\n\n  this._list = new Array(capacity);\n  this._capacityMask = capacity - 1;\n  this._tail = length;\n\n  for (var i = 0; i < length; i++) this._list[i] = array[i];\n};\n\n/**\n *\n * @param fullCopy\n * @param size Initialize the array with a specific size. Will default to the current list size\n * @returns {Array}\n * @private\n */\nDenque.prototype._copyArray = function _copyArray(fullCopy, size) {\n  var src = this._list;\n  var capacity = src.length;\n  var length = this.length;\n  size = size | length;\n\n  // No prealloc requested and the buffer is contiguous\n  if (size == length && this._head < this._tail) {\n    // Simply do a fast slice copy\n    return this._list.slice(this._head, this._tail);\n  }\n\n  var dest = new Array(size);\n\n  var k = 0;\n  var i;\n  if (fullCopy || this._head > this._tail) {\n    for (i = this._head; i < capacity; i++) dest[k++] = src[i];\n    for (i = 0; i < this._tail; i++) dest[k++] = src[i];\n  } else {\n    for (i = this._head; i < this._tail; i++) dest[k++] = src[i];\n  }\n\n  return dest;\n}\n\n/**\n * Grows the internal list array.\n * @private\n */\nDenque.prototype._growArray = function _growArray() {\n  if (this._head != 0) {\n    // double array size and copy existing data, head to end, then beginning to tail.\n    var newList = this._copyArray(true, this._list.length << 1);\n\n    this._tail = this._list.length;\n    this._head = 0;\n\n    this._list = newList;\n  } else {\n    this._tail = this._list.length;\n    this._list.length <<= 1;\n  }\n\n  this._capacityMask = (this._capacityMask << 1) | 1;\n};\n\n/**\n * Shrinks the internal list array.\n * @private\n */\nDenque.prototype._shrinkArray = function _shrinkArray() {\n  this._list.length >>>= 1;\n  this._capacityMask >>>= 1;\n};\n\n/**\n * Find the next power of 2, at least 4\n * @private\n * @param {number} num \n * @returns {number}\n */\nDenque.prototype._nextPowerOf2 = function _nextPowerOf2(num) {\n  var log2 = Math.log(num) / Math.log(2);\n  var nextPow2 = 1 << (log2 + 1);\n\n  return Math.max(nextPow2, 4);\n}\n\nmodule.exports = Denque;\n","var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar BrowserInfo = /** @class */ (function () {\n    function BrowserInfo(name, version, os) {\n        this.name = name;\n        this.version = version;\n        this.os = os;\n        this.type = 'browser';\n    }\n    return BrowserInfo;\n}());\nexport { BrowserInfo };\nvar NodeInfo = /** @class */ (function () {\n    function NodeInfo(version) {\n        this.version = version;\n        this.type = 'node';\n        this.name = 'node';\n        this.os = process.platform;\n    }\n    return NodeInfo;\n}());\nexport { NodeInfo };\nvar SearchBotDeviceInfo = /** @class */ (function () {\n    function SearchBotDeviceInfo(name, version, os, bot) {\n        this.name = name;\n        this.version = version;\n        this.os = os;\n        this.bot = bot;\n        this.type = 'bot-device';\n    }\n    return SearchBotDeviceInfo;\n}());\nexport { SearchBotDeviceInfo };\nvar BotInfo = /** @class */ (function () {\n    function BotInfo() {\n        this.type = 'bot';\n        this.bot = true; // NOTE: deprecated test name instead\n        this.name = 'bot';\n        this.version = null;\n        this.os = null;\n    }\n    return BotInfo;\n}());\nexport { BotInfo };\nvar ReactNativeInfo = /** @class */ (function () {\n    function ReactNativeInfo() {\n        this.type = 'react-native';\n        this.name = 'react-native';\n        this.version = null;\n        this.os = null;\n    }\n    return ReactNativeInfo;\n}());\nexport { ReactNativeInfo };\n// tslint:disable-next-line:max-line-length\nvar SEARCHBOX_UA_REGEX = /alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/;\nvar SEARCHBOT_OS_REGEX = /(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\\ Jeeves\\/Teoma|ia_archiver)/;\nvar REQUIRED_VERSION_PARTS = 3;\nvar userAgentRules = [\n    ['aol', /AOLShield\\/([0-9\\._]+)/],\n    ['edge', /Edge\\/([0-9\\._]+)/],\n    ['edge-ios', /EdgiOS\\/([0-9\\._]+)/],\n    ['yandexbrowser', /YaBrowser\\/([0-9\\._]+)/],\n    ['kakaotalk', /KAKAOTALK\\s([0-9\\.]+)/],\n    ['samsung', /SamsungBrowser\\/([0-9\\.]+)/],\n    ['silk', /\\bSilk\\/([0-9._-]+)\\b/],\n    ['miui', /MiuiBrowser\\/([0-9\\.]+)$/],\n    ['beaker', /BeakerBrowser\\/([0-9\\.]+)/],\n    ['edge-chromium', /EdgA?\\/([0-9\\.]+)/],\n    [\n        'chromium-webview',\n        /(?!Chrom.*OPR)wv\\).*Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/,\n    ],\n    ['chrome', /(?!Chrom.*OPR)Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/],\n    ['phantomjs', /PhantomJS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['crios', /CriOS\\/([0-9\\.]+)(:?\\s|$)/],\n    ['firefox', /Firefox\\/([0-9\\.]+)(?:\\s|$)/],\n    ['fxios', /FxiOS\\/([0-9\\.]+)/],\n    ['opera-mini', /Opera Mini.*Version\\/([0-9\\.]+)/],\n    ['opera', /Opera\\/([0-9\\.]+)(?:\\s|$)/],\n    ['opera', /OPR\\/([0-9\\.]+)(:?\\s|$)/],\n    ['pie', /^Microsoft Pocket Internet Explorer\\/(\\d+\\.\\d+)$/],\n    ['pie', /^Mozilla\\/\\d\\.\\d+\\s\\(compatible;\\s(?:MSP?IE|MSInternet Explorer) (\\d+\\.\\d+);.*Windows CE.*\\)$/],\n    ['netfront', /^Mozilla\\/\\d\\.\\d+.*NetFront\\/(\\d.\\d)/],\n    ['ie', /Trident\\/7\\.0.*rv\\:([0-9\\.]+).*\\).*Gecko$/],\n    ['ie', /MSIE\\s([0-9\\.]+);.*Trident\\/[4-7].0/],\n    ['ie', /MSIE\\s(7\\.0)/],\n    ['bb10', /BB10;\\sTouch.*Version\\/([0-9\\.]+)/],\n    ['android', /Android\\s([0-9\\.]+)/],\n    ['ios', /Version\\/([0-9\\._]+).*Mobile.*Safari.*/],\n    ['safari', /Version\\/([0-9\\._]+).*Safari/],\n    ['facebook', /FB[AS]V\\/([0-9\\.]+)/],\n    ['instagram', /Instagram\\s([0-9\\.]+)/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Mobile/],\n    ['ios-webview', /AppleWebKit\\/([0-9\\.]+).*Gecko\\)$/],\n    ['curl', /^curl\\/([0-9\\.]+)$/],\n    ['searchbot', SEARCHBOX_UA_REGEX],\n];\nvar operatingSystemRules = [\n    ['iOS', /iP(hone|od|ad)/],\n    ['Android OS', /Android/],\n    ['BlackBerry OS', /BlackBerry|BB10/],\n    ['Windows Mobile', /IEMobile/],\n    ['Amazon OS', /Kindle/],\n    ['Windows 3.11', /Win16/],\n    ['Windows 95', /(Windows 95)|(Win95)|(Windows_95)/],\n    ['Windows 98', /(Windows 98)|(Win98)/],\n    ['Windows 2000', /(Windows NT 5.0)|(Windows 2000)/],\n    ['Windows XP', /(Windows NT 5.1)|(Windows XP)/],\n    ['Windows Server 2003', /(Windows NT 5.2)/],\n    ['Windows Vista', /(Windows NT 6.0)/],\n    ['Windows 7', /(Windows NT 6.1)/],\n    ['Windows 8', /(Windows NT 6.2)/],\n    ['Windows 8.1', /(Windows NT 6.3)/],\n    ['Windows 10', /(Windows NT 10.0)/],\n    ['Windows ME', /Windows ME/],\n    ['Windows CE', /Windows CE|WinCE|Microsoft Pocket Internet Explorer/],\n    ['Open BSD', /OpenBSD/],\n    ['Sun OS', /SunOS/],\n    ['Chrome OS', /CrOS/],\n    ['Linux', /(Linux)|(X11)/],\n    ['Mac OS', /(Mac_PowerPC)|(Macintosh)/],\n    ['QNX', /QNX/],\n    ['BeOS', /BeOS/],\n    ['OS/2', /OS\\/2/],\n];\nexport function detect(userAgent) {\n    if (!!userAgent) {\n        return parseUserAgent(userAgent);\n    }\n    if (typeof document === 'undefined' &&\n        typeof navigator !== 'undefined' &&\n        navigator.product === 'ReactNative') {\n        return new ReactNativeInfo();\n    }\n    if (typeof navigator !== 'undefined') {\n        return parseUserAgent(navigator.userAgent);\n    }\n    return getNodeVersion();\n}\nfunction matchUserAgent(ua) {\n    // opted for using reduce here rather than Array#first with a regex.test call\n    // this is primarily because using the reduce we only perform the regex\n    // execution once rather than once for the test and for the exec again below\n    // probably something that needs to be benchmarked though\n    return (ua !== '' &&\n        userAgentRules.reduce(function (matched, _a) {\n            var browser = _a[0], regex = _a[1];\n            if (matched) {\n                return matched;\n            }\n            var uaMatch = regex.exec(ua);\n            return !!uaMatch && [browser, uaMatch];\n        }, false));\n}\nexport function browserName(ua) {\n    var data = matchUserAgent(ua);\n    return data ? data[0] : null;\n}\nexport function parseUserAgent(ua) {\n    var matchedRule = matchUserAgent(ua);\n    if (!matchedRule) {\n        return null;\n    }\n    var name = matchedRule[0], match = matchedRule[1];\n    if (name === 'searchbot') {\n        return new BotInfo();\n    }\n    // Do not use RegExp for split operation as some browser do not support it (See: http://blog.stevenlevithan.com/archives/cross-browser-split)\n    var versionParts = match[1] && match[1].split('.').join('_').split('_').slice(0, 3);\n    if (versionParts) {\n        if (versionParts.length < REQUIRED_VERSION_PARTS) {\n            versionParts = __spreadArray(__spreadArray([], versionParts, true), createVersionParts(REQUIRED_VERSION_PARTS - versionParts.length), true);\n        }\n    }\n    else {\n        versionParts = [];\n    }\n    var version = versionParts.join('.');\n    var os = detectOS(ua);\n    var searchBotMatch = SEARCHBOT_OS_REGEX.exec(ua);\n    if (searchBotMatch && searchBotMatch[1]) {\n        return new SearchBotDeviceInfo(name, version, os, searchBotMatch[1]);\n    }\n    return new BrowserInfo(name, version, os);\n}\nexport function detectOS(ua) {\n    for (var ii = 0, count = operatingSystemRules.length; ii < count; ii++) {\n        var _a = operatingSystemRules[ii], os = _a[0], regex = _a[1];\n        var match = regex.exec(ua);\n        if (match) {\n            return os;\n        }\n    }\n    return null;\n}\nexport function getNodeVersion() {\n    var isNode = typeof process !== 'undefined' && process.version;\n    return isNode ? new NodeInfo(process.version.slice(1)) : null;\n}\nfunction createVersionParts(count) {\n    var output = [];\n    for (var ii = 0; ii < count; ii++) {\n        output.push('0');\n    }\n    return output;\n}\n","!function(t,n){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=function(t,n,e,i,o){for(n=n.split?n.split(\".\"):n,i=0;i<n.length;i++)t=t?t[n[i]]:o;return t===o?e:t}:\"function\"==typeof define&&define.amd?define(function(){return function(t,n,e,i,o){for(n=n.split?n.split(\".\"):n,i=0;i<n.length;i++)t=t?t[n[i]]:o;return t===o?e:t}}):t.dlv=function(t,n,e,i,o){for(n=n.split?n.split(\".\"):n,i=0;i<n.length;i++)t=t?t[n[i]]:o;return t===o?e:t}}(this);\n//# sourceMappingURL=dlv.umd.js.map\n","'use strict';\n\n/**\n * @typedef {{ [key: string]: any }} Extensions\n * @typedef {Error} Err\n * @property {string} message\n */\n\n/**\n *\n * @param {Error} obj\n * @param {Extensions} props\n * @returns {Error & Extensions}\n */\nfunction assign(obj, props) {\n    for (const key in props) {\n        Object.defineProperty(obj, key, {\n            value: props[key],\n            enumerable: true,\n            configurable: true,\n        });\n    }\n\n    return obj;\n}\n\n/**\n *\n * @param {any} err - An Error\n * @param {string|Extensions} code - A string code or props to set on the error\n * @param {Extensions} [props] - Props to set on the error\n * @returns {Error & Extensions}\n */\nfunction createError(err, code, props) {\n    if (!err || typeof err === 'string') {\n        throw new TypeError('Please pass an Error to err-code');\n    }\n\n    if (!props) {\n        props = {};\n    }\n\n    if (typeof code === 'object') {\n        props = code;\n        code = '';\n    }\n\n    if (code) {\n        props.code = code;\n    }\n\n    try {\n        return assign(err, props);\n    } catch (_) {\n        props.message = err.message;\n        props.stack = err.stack;\n\n        const ErrClass = function () {};\n\n        ErrClass.prototype = Object.create(Object.getPrototypeOf(err));\n\n        // @ts-ignore\n        const output = assign(new ErrClass(), props);\n\n        return output;\n    }\n}\n\nmodule.exports = createError;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst event_iterator_1 = require(\"./event-iterator\");\nexports.EventIterator = event_iterator_1.EventIterator;\nfunction subscribe(event, options, evOptions) {\n    return new event_iterator_1.EventIterator(({ push }) => {\n        this.addEventListener(event, push, options);\n        return () => this.removeEventListener(event, push, options);\n    }, evOptions);\n}\nexports.subscribe = subscribe;\nexports.default = event_iterator_1.EventIterator;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass EventQueue {\n    constructor() {\n        this.pullQueue = [];\n        this.pushQueue = [];\n        this.eventHandlers = {};\n        this.isPaused = false;\n        this.isStopped = false;\n    }\n    push(value) {\n        if (this.isStopped)\n            return;\n        const resolution = { value, done: false };\n        if (this.pullQueue.length) {\n            const placeholder = this.pullQueue.shift();\n            if (placeholder)\n                placeholder.resolve(resolution);\n        }\n        else {\n            this.pushQueue.push(Promise.resolve(resolution));\n            if (this.highWaterMark !== undefined &&\n                this.pushQueue.length >= this.highWaterMark &&\n                !this.isPaused) {\n                this.isPaused = true;\n                if (this.eventHandlers.highWater) {\n                    this.eventHandlers.highWater();\n                }\n                else if (console) {\n                    console.warn(`EventIterator queue reached ${this.pushQueue.length} items`);\n                }\n            }\n        }\n    }\n    stop() {\n        if (this.isStopped)\n            return;\n        this.isStopped = true;\n        this.remove();\n        for (const placeholder of this.pullQueue) {\n            placeholder.resolve({ value: undefined, done: true });\n        }\n        this.pullQueue.length = 0;\n    }\n    fail(error) {\n        if (this.isStopped)\n            return;\n        this.isStopped = true;\n        this.remove();\n        if (this.pullQueue.length) {\n            for (const placeholder of this.pullQueue) {\n                placeholder.reject(error);\n            }\n            this.pullQueue.length = 0;\n        }\n        else {\n            const rejection = Promise.reject(error);\n            /* Attach error handler to avoid leaking an unhandled promise rejection. */\n            rejection.catch(() => { });\n            this.pushQueue.push(rejection);\n        }\n    }\n    remove() {\n        Promise.resolve().then(() => {\n            if (this.removeCallback)\n                this.removeCallback();\n        });\n    }\n    [Symbol.asyncIterator]() {\n        return {\n            next: (value) => {\n                const result = this.pushQueue.shift();\n                if (result) {\n                    if (this.lowWaterMark !== undefined &&\n                        this.pushQueue.length <= this.lowWaterMark &&\n                        this.isPaused) {\n                        this.isPaused = false;\n                        if (this.eventHandlers.lowWater) {\n                            this.eventHandlers.lowWater();\n                        }\n                    }\n                    return result;\n                }\n                else if (this.isStopped) {\n                    return Promise.resolve({ value: undefined, done: true });\n                }\n                else {\n                    return new Promise((resolve, reject) => {\n                        this.pullQueue.push({ resolve, reject });\n                    });\n                }\n            },\n            return: () => {\n                this.isStopped = true;\n                this.pushQueue.length = 0;\n                this.remove();\n                return Promise.resolve({ value: undefined, done: true });\n            },\n        };\n    }\n}\nclass EventIterator {\n    constructor(listen, { highWaterMark = 100, lowWaterMark = 1 } = {}) {\n        const queue = new EventQueue();\n        queue.highWaterMark = highWaterMark;\n        queue.lowWaterMark = lowWaterMark;\n        queue.removeCallback =\n            listen({\n                push: value => queue.push(value),\n                stop: () => queue.stop(),\n                fail: error => queue.fail(error),\n                on: (event, fn) => {\n                    queue.eventHandlers[event] = fn;\n                },\n            }) || (() => { });\n        this[Symbol.asyncIterator] = () => queue[Symbol.asyncIterator]();\n        Object.freeze(this);\n    }\n}\nexports.EventIterator = EventIterator;\nexports.default = EventIterator;\n","'use strict';\n\nmodule.exports = function ReactNativeFile(_ref) {\n  var uri = _ref.uri,\n    name = _ref.name,\n    type = _ref.type;\n  this.uri = uri;\n  this.name = name;\n  this.type = type;\n};\n","'use strict';\n\nvar defaultIsExtractableFile = require('./isExtractableFile');\n\nmodule.exports = function extractFiles(value, path, isExtractableFile) {\n  if (path === void 0) {\n    path = '';\n  }\n\n  if (isExtractableFile === void 0) {\n    isExtractableFile = defaultIsExtractableFile;\n  }\n\n  var clone;\n  var files = new Map();\n\n  function addFile(paths, file) {\n    var storedPaths = files.get(file);\n    if (storedPaths) storedPaths.push.apply(storedPaths, paths);\n    else files.set(file, paths);\n  }\n\n  if (isExtractableFile(value)) {\n    clone = null;\n    addFile([path], value);\n  } else {\n    var prefix = path ? path + '.' : '';\n    if (typeof FileList !== 'undefined' && value instanceof FileList)\n      clone = Array.prototype.map.call(value, function (file, i) {\n        addFile(['' + prefix + i], file);\n        return null;\n      });\n    else if (Array.isArray(value))\n      clone = value.map(function (child, i) {\n        var result = extractFiles(child, '' + prefix + i, isExtractableFile);\n        result.files.forEach(addFile);\n        return result.clone;\n      });\n    else if (value && value.constructor === Object) {\n      clone = {};\n\n      for (var i in value) {\n        var result = extractFiles(value[i], '' + prefix + i, isExtractableFile);\n        result.files.forEach(addFile);\n        clone[i] = result.clone;\n      }\n    } else clone = value;\n  }\n\n  return {\n    clone: clone,\n    files: files,\n  };\n};\n","'use strict';\n\nvar ReactNativeFile = require('./ReactNativeFile');\n\nmodule.exports = function isExtractableFile(value) {\n  return (\n    (typeof File !== 'undefined' && value instanceof File) ||\n    (typeof Blob !== 'undefined' && value instanceof Blob) ||\n    value instanceof ReactNativeFile\n  );\n};\n","module.exports = class FixedFIFO {\n  constructor (hwm) {\n    if (!(hwm > 0) || ((hwm - 1) & hwm) !== 0) throw new Error('Max size for a FixedFIFO should be a power of two')\n    this.buffer = new Array(hwm)\n    this.mask = hwm - 1\n    this.top = 0\n    this.btm = 0\n    this.next = null\n  }\n\n  push (data) {\n    if (this.buffer[this.top] !== undefined) return false\n    this.buffer[this.top] = data\n    this.top = (this.top + 1) & this.mask\n    return true\n  }\n\n  shift () {\n    const last = this.buffer[this.btm]\n    if (last === undefined) return undefined\n    this.buffer[this.btm] = undefined\n    this.btm = (this.btm + 1) & this.mask\n    return last\n  }\n\n  peek () {\n    return this.buffer[this.btm]\n  }\n\n  isEmpty () {\n    return this.buffer[this.btm] === undefined\n  }\n}\n","const FixedFIFO = require('./fixed-size')\n\nmodule.exports = class FastFIFO {\n  constructor (hwm) {\n    this.hwm = hwm || 16\n    this.head = new FixedFIFO(this.hwm)\n    this.tail = this.head\n  }\n\n  push (val) {\n    if (!this.head.push(val)) {\n      const prev = this.head\n      this.head = prev.next = new FixedFIFO(2 * this.head.buffer.length)\n      this.head.push(val)\n    }\n  }\n\n  shift () {\n    const val = this.tail.shift()\n    if (val === undefined && this.tail.next) {\n      const next = this.tail.next\n      this.tail.next = null\n      this.tail = next\n      return this.tail.shift()\n    }\n    return val\n  }\n\n  peek () {\n    return this.tail.peek()\n  }\n\n  isEmpty () {\n    return this.head.isEmpty()\n  }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * FNV-1a hash generation init value.\n * It's exposed, because this allows user to override it.\n * More info: https://en.wikipedia.org/wiki/Fowler%E2%80%93Noll%E2%80%93Vo_hash_function#FNV_hash_parameters\n *\n * @type {number}\n */\nhash.BASE = 0x811c9dc5;\n/**\n * Generates 32 bit FNV-1a hash from the given string.\n * As explained here: http://isthe.com/chongo/tech/comp/fnv/\n *\n * @param s {string} String to generate hash from.\n * @param [h] {number} FNV-1a hash generation init value.\n * @returns {number} The result integer hash.\n */\nfunction hash(s, h = hash.BASE) {\n    const l = s.length;\n    for (let i = 0; i < l; i++) {\n        h ^= s.charCodeAt(i);\n        h += (h << 1) + (h << 4) + (h << 7) + (h << 8) + (h << 24);\n    }\n    return h >>> 0;\n}\nexports.default = hash;\nmodule.exports = hash;\n","/* eslint-env browser */\nmodule.exports = typeof self == 'object' ? self.FormData : window.FormData;\n","module.exports = function (max) {\n\n  if (!max) throw Error('hashlru must have a max value, of type number, greater than 0')\n\n  var size = 0, cache = Object.create(null), _cache = Object.create(null)\n\n  function update (key, value) {\n    cache[key] = value\n    size ++\n    if(size >= max) {\n      size = 0\n      _cache = cache\n      cache = Object.create(null)\n    }\n  }\n\n  return {\n    has: function (key) {\n      return cache[key] !== undefined || _cache[key] !== undefined\n    },\n    remove: function (key) {\n      if(cache[key] !== undefined)\n        cache[key] = undefined\n      if(_cache[key] !== undefined)\n        _cache[key] = undefined\n    },\n    get: function (key) {\n      var v = cache[key]\n      if(v !== undefined) return v\n      if((v = _cache[key]) !== undefined) {\n        update(key, v)\n        return v\n      }\n    },\n    set: function (key, value) {\n      if(cache[key] !== undefined) cache[key] = value\n      else update(key, value)\n    },\n    clear: function () {\n      cache = Object.create(null)\n      _cache = Object.create(null)\n    }\n  }\n}\n\n\n\n\n\n\n\n","// @ts-nocheck\n/*eslint-disable*/\n(function(global, factory) { /* global define, require, module */\n\n    /* AMD */ if (typeof define === 'function' && define.amd)\n        define([\"protobufjs/minimal\"], factory);\n\n    /* CommonJS */ else if (typeof require === 'function' && typeof module === 'object' && module && module.exports)\n        module.exports = factory(require(\"protobufjs/minimal\"));\n\n})(this, function($protobuf) {\n    \"use strict\";\n\n    // Common aliases\n    var $Reader = $protobuf.Reader, $Writer = $protobuf.Writer, $util = $protobuf.util;\n\n    // Exported root namespace\n    var $root = $protobuf.roots[\"default\"] || ($protobuf.roots[\"default\"] = {});\n\n    $root.RPC = (function() {\n\n        /**\n         * Properties of a RPC.\n         * @exports IRPC\n         * @interface IRPC\n         * @property {Array.<RPC.ISubOpts>|null} [subscriptions] RPC subscriptions\n         * @property {Array.<RPC.IMessage>|null} [messages] RPC messages\n         * @property {RPC.IControlMessage|null} [control] RPC control\n         */\n\n        /**\n         * Constructs a new RPC.\n         * @exports RPC\n         * @classdesc Represents a RPC.\n         * @implements IRPC\n         * @constructor\n         * @param {IRPC=} [p] Properties to set\n         */\n        function RPC(p) {\n            this.subscriptions = [];\n            this.messages = [];\n            if (p)\n                for (var ks = Object.keys(p), i = 0; i < ks.length; ++i)\n                    if (p[ks[i]] != null)\n                        this[ks[i]] = p[ks[i]];\n        }\n\n        /**\n         * RPC subscriptions.\n         * @member {Array.<RPC.ISubOpts>} subscriptions\n         * @memberof RPC\n         * @instance\n         */\n        RPC.prototype.subscriptions = $util.emptyArray;\n\n        /**\n         * RPC messages.\n         * @member {Array.<RPC.IMessage>} messages\n         * @memberof RPC\n         * @instance\n         */\n        RPC.prototype.messages = $util.emptyArray;\n\n        /**\n         * RPC control.\n         * @member {RPC.IControlMessage|null|undefined} control\n         * @memberof RPC\n         * @instance\n         */\n        RPC.prototype.control = null;\n\n        // OneOf field names bound to virtual getters and setters\n        var $oneOfFields;\n\n        /**\n         * RPC _control.\n         * @member {\"control\"|undefined} _control\n         * @memberof RPC\n         * @instance\n         */\n        Object.defineProperty(RPC.prototype, \"_control\", {\n            get: $util.oneOfGetter($oneOfFields = [\"control\"]),\n            set: $util.oneOfSetter($oneOfFields)\n        });\n\n        /**\n         * Encodes the specified RPC message. Does not implicitly {@link RPC.verify|verify} messages.\n         * @function encode\n         * @memberof RPC\n         * @static\n         * @param {IRPC} m RPC message or plain object to encode\n         * @param {$protobuf.Writer} [w] Writer to encode to\n         * @returns {$protobuf.Writer} Writer\n         */\n        RPC.encode = function encode(m, w) {\n            if (!w)\n                w = $Writer.create();\n            if (m.subscriptions != null && m.subscriptions.length) {\n                for (var i = 0; i < m.subscriptions.length; ++i)\n                    $root.RPC.SubOpts.encode(m.subscriptions[i], w.uint32(10).fork()).ldelim();\n            }\n            if (m.messages != null && m.messages.length) {\n                for (var i = 0; i < m.messages.length; ++i)\n                    $root.RPC.Message.encode(m.messages[i], w.uint32(18).fork()).ldelim();\n            }\n            if (m.control != null && Object.hasOwnProperty.call(m, \"control\"))\n                $root.RPC.ControlMessage.encode(m.control, w.uint32(26).fork()).ldelim();\n            return w;\n        };\n\n        /**\n         * Decodes a RPC message from the specified reader or buffer.\n         * @function decode\n         * @memberof RPC\n         * @static\n         * @param {$protobuf.Reader|Uint8Array} r Reader or buffer to decode from\n         * @param {number} [l] Message length if known beforehand\n         * @returns {RPC} RPC\n         * @throws {Error} If the payload is not a reader or valid buffer\n         * @throws {$protobuf.util.ProtocolError} If required fields are missing\n         */\n        RPC.decode = function decode(r, l) {\n            if (!(r instanceof $Reader))\n                r = $Reader.create(r);\n            var c = l === undefined ? r.len : r.pos + l, m = new $root.RPC();\n            while (r.pos < c) {\n                var t = r.uint32();\n                switch (t >>> 3) {\n                case 1:\n                    if (!(m.subscriptions && m.subscriptions.length))\n                        m.subscriptions = [];\n                    m.subscriptions.push($root.RPC.SubOpts.decode(r, r.uint32()));\n                    break;\n                case 2:\n                    if (!(m.messages && m.messages.length))\n                        m.messages = [];\n                    m.messages.push($root.RPC.Message.decode(r, r.uint32()));\n                    break;\n                case 3:\n                    m.control = $root.RPC.ControlMessage.decode(r, r.uint32());\n                    break;\n                default:\n                    r.skipType(t & 7);\n                    break;\n                }\n            }\n            return m;\n        };\n\n        /**\n         * Creates a RPC message from a plain object. Also converts values to their respective internal types.\n         * @function fromObject\n         * @memberof RPC\n         * @static\n         * @param {Object.<string,*>} d Plain object\n         * @returns {RPC} RPC\n         */\n        RPC.fromObject = function fromObject(d) {\n            if (d instanceof $root.RPC)\n                return d;\n            var m = new $root.RPC();\n            if (d.subscriptions) {\n                if (!Array.isArray(d.subscriptions))\n                    throw TypeError(\".RPC.subscriptions: array expected\");\n                m.subscriptions = [];\n                for (var i = 0; i < d.subscriptions.length; ++i) {\n                    if (typeof d.subscriptions[i] !== \"object\")\n                        throw TypeError(\".RPC.subscriptions: object expected\");\n                    m.subscriptions[i] = $root.RPC.SubOpts.fromObject(d.subscriptions[i]);\n                }\n            }\n            if (d.messages) {\n                if (!Array.isArray(d.messages))\n                    throw TypeError(\".RPC.messages: array expected\");\n                m.messages = [];\n                for (var i = 0; i < d.messages.length; ++i) {\n                    if (typeof d.messages[i] !== \"object\")\n                        throw TypeError(\".RPC.messages: object expected\");\n                    m.messages[i] = $root.RPC.Message.fromObject(d.messages[i]);\n                }\n            }\n            if (d.control != null) {\n                if (typeof d.control !== \"object\")\n                    throw TypeError(\".RPC.control: object expected\");\n                m.control = $root.RPC.ControlMessage.fromObject(d.control);\n            }\n            return m;\n        };\n\n        /**\n         * Creates a plain object from a RPC message. Also converts values to other types if specified.\n         * @function toObject\n         * @memberof RPC\n         * @static\n         * @param {RPC} m RPC\n         * @param {$protobuf.IConversionOptions} [o] Conversion options\n         * @returns {Object.<string,*>} Plain object\n         */\n        RPC.toObject = function toObject(m, o) {\n            if (!o)\n                o = {};\n            var d = {};\n            if (o.arrays || o.defaults) {\n                d.subscriptions = [];\n                d.messages = [];\n            }\n            if (m.subscriptions && m.subscriptions.length) {\n                d.subscriptions = [];\n                for (var j = 0; j < m.subscriptions.length; ++j) {\n                    d.subscriptions[j] = $root.RPC.SubOpts.toObject(m.subscriptions[j], o);\n                }\n            }\n            if (m.messages && m.messages.length) {\n                d.messages = [];\n                for (var j = 0; j < m.messages.length; ++j) {\n                    d.messages[j] = $root.RPC.Message.toObject(m.messages[j], o);\n                }\n            }\n            if (m.control != null && m.hasOwnProperty(\"control\")) {\n                d.control = $root.RPC.ControlMessage.toObject(m.control, o);\n                if (o.oneofs)\n                    d._control = \"control\";\n            }\n            return d;\n        };\n\n        /**\n         * Converts this RPC to JSON.\n         * @function toJSON\n         * @memberof RPC\n         * @instance\n         * @returns {Object.<string,*>} JSON object\n         */\n        RPC.prototype.toJSON = function toJSON() {\n            return this.constructor.toObject(this, $protobuf.util.toJSONOptions);\n        };\n\n        RPC.SubOpts = (function() {\n\n            /**\n             * Properties of a SubOpts.\n             * @memberof RPC\n             * @interface ISubOpts\n             * @property {boolean|null} [subscribe] SubOpts subscribe\n             * @property {string|null} [topic] SubOpts topic\n             */\n\n            /**\n             * Constructs a new SubOpts.\n             * @memberof RPC\n             * @classdesc Represents a SubOpts.\n             * @implements ISubOpts\n             * @constructor\n             * @param {RPC.ISubOpts=} [p] Properties to set\n             */\n            function SubOpts(p) {\n                if (p)\n                    for (var ks = Object.keys(p), i = 0; i < ks.length; ++i)\n                        if (p[ks[i]] != null)\n                            this[ks[i]] = p[ks[i]];\n            }\n\n            /**\n             * SubOpts subscribe.\n             * @member {boolean|null|undefined} subscribe\n             * @memberof RPC.SubOpts\n             * @instance\n             */\n            SubOpts.prototype.subscribe = null;\n\n            /**\n             * SubOpts topic.\n             * @member {string|null|undefined} topic\n             * @memberof RPC.SubOpts\n             * @instance\n             */\n            SubOpts.prototype.topic = null;\n\n            // OneOf field names bound to virtual getters and setters\n            var $oneOfFields;\n\n            /**\n             * SubOpts _subscribe.\n             * @member {\"subscribe\"|undefined} _subscribe\n             * @memberof RPC.SubOpts\n             * @instance\n             */\n            Object.defineProperty(SubOpts.prototype, \"_subscribe\", {\n                get: $util.oneOfGetter($oneOfFields = [\"subscribe\"]),\n                set: $util.oneOfSetter($oneOfFields)\n            });\n\n            /**\n             * SubOpts _topic.\n             * @member {\"topic\"|undefined} _topic\n             * @memberof RPC.SubOpts\n             * @instance\n             */\n            Object.defineProperty(SubOpts.prototype, \"_topic\", {\n                get: $util.oneOfGetter($oneOfFields = [\"topic\"]),\n                set: $util.oneOfSetter($oneOfFields)\n            });\n\n            /**\n             * Encodes the specified SubOpts message. Does not implicitly {@link RPC.SubOpts.verify|verify} messages.\n             * @function encode\n             * @memberof RPC.SubOpts\n             * @static\n             * @param {RPC.ISubOpts} m SubOpts message or plain object to encode\n             * @param {$protobuf.Writer} [w] Writer to encode to\n             * @returns {$protobuf.Writer} Writer\n             */\n            SubOpts.encode = function encode(m, w) {\n                if (!w)\n                    w = $Writer.create();\n                if (m.subscribe != null && Object.hasOwnProperty.call(m, \"subscribe\"))\n                    w.uint32(8).bool(m.subscribe);\n                if (m.topic != null && Object.hasOwnProperty.call(m, \"topic\"))\n                    w.uint32(18).string(m.topic);\n                return w;\n            };\n\n            /**\n             * Decodes a SubOpts message from the specified reader or buffer.\n             * @function decode\n             * @memberof RPC.SubOpts\n             * @static\n             * @param {$protobuf.Reader|Uint8Array} r Reader or buffer to decode from\n             * @param {number} [l] Message length if known beforehand\n             * @returns {RPC.SubOpts} SubOpts\n             * @throws {Error} If the payload is not a reader or valid buffer\n             * @throws {$protobuf.util.ProtocolError} If required fields are missing\n             */\n            SubOpts.decode = function decode(r, l) {\n                if (!(r instanceof $Reader))\n                    r = $Reader.create(r);\n                var c = l === undefined ? r.len : r.pos + l, m = new $root.RPC.SubOpts();\n                while (r.pos < c) {\n                    var t = r.uint32();\n                    switch (t >>> 3) {\n                    case 1:\n                        m.subscribe = r.bool();\n                        break;\n                    case 2:\n                        m.topic = r.string();\n                        break;\n                    default:\n                        r.skipType(t & 7);\n                        break;\n                    }\n                }\n                return m;\n            };\n\n            /**\n             * Creates a SubOpts message from a plain object. Also converts values to their respective internal types.\n             * @function fromObject\n             * @memberof RPC.SubOpts\n             * @static\n             * @param {Object.<string,*>} d Plain object\n             * @returns {RPC.SubOpts} SubOpts\n             */\n            SubOpts.fromObject = function fromObject(d) {\n                if (d instanceof $root.RPC.SubOpts)\n                    return d;\n                var m = new $root.RPC.SubOpts();\n                if (d.subscribe != null) {\n                    m.subscribe = Boolean(d.subscribe);\n                }\n                if (d.topic != null) {\n                    m.topic = String(d.topic);\n                }\n                return m;\n            };\n\n            /**\n             * Creates a plain object from a SubOpts message. Also converts values to other types if specified.\n             * @function toObject\n             * @memberof RPC.SubOpts\n             * @static\n             * @param {RPC.SubOpts} m SubOpts\n             * @param {$protobuf.IConversionOptions} [o] Conversion options\n             * @returns {Object.<string,*>} Plain object\n             */\n            SubOpts.toObject = function toObject(m, o) {\n                if (!o)\n                    o = {};\n                var d = {};\n                if (m.subscribe != null && m.hasOwnProperty(\"subscribe\")) {\n                    d.subscribe = m.subscribe;\n                    if (o.oneofs)\n                        d._subscribe = \"subscribe\";\n                }\n                if (m.topic != null && m.hasOwnProperty(\"topic\")) {\n                    d.topic = m.topic;\n                    if (o.oneofs)\n                        d._topic = \"topic\";\n                }\n                return d;\n            };\n\n            /**\n             * Converts this SubOpts to JSON.\n             * @function toJSON\n             * @memberof RPC.SubOpts\n             * @instance\n             * @returns {Object.<string,*>} JSON object\n             */\n            SubOpts.prototype.toJSON = function toJSON() {\n                return this.constructor.toObject(this, $protobuf.util.toJSONOptions);\n            };\n\n            return SubOpts;\n        })();\n\n        RPC.Message = (function() {\n\n            /**\n             * Properties of a Message.\n             * @memberof RPC\n             * @interface IMessage\n             * @property {Uint8Array|null} [from] Message from\n             * @property {Uint8Array|null} [data] Message data\n             * @property {Uint8Array|null} [seqno] Message seqno\n             * @property {string} topic Message topic\n             * @property {Uint8Array|null} [signature] Message signature\n             * @property {Uint8Array|null} [key] Message key\n             */\n\n            /**\n             * Constructs a new Message.\n             * @memberof RPC\n             * @classdesc Represents a Message.\n             * @implements IMessage\n             * @constructor\n             * @param {RPC.IMessage=} [p] Properties to set\n             */\n            function Message(p) {\n                if (p)\n                    for (var ks = Object.keys(p), i = 0; i < ks.length; ++i)\n                        if (p[ks[i]] != null)\n                            this[ks[i]] = p[ks[i]];\n            }\n\n            /**\n             * Message from.\n             * @member {Uint8Array|null|undefined} from\n             * @memberof RPC.Message\n             * @instance\n             */\n            Message.prototype.from = null;\n\n            /**\n             * Message data.\n             * @member {Uint8Array|null|undefined} data\n             * @memberof RPC.Message\n             * @instance\n             */\n            Message.prototype.data = null;\n\n            /**\n             * Message seqno.\n             * @member {Uint8Array|null|undefined} seqno\n             * @memberof RPC.Message\n             * @instance\n             */\n            Message.prototype.seqno = null;\n\n            /**\n             * Message topic.\n             * @member {string} topic\n             * @memberof RPC.Message\n             * @instance\n             */\n            Message.prototype.topic = \"\";\n\n            /**\n             * Message signature.\n             * @member {Uint8Array|null|undefined} signature\n             * @memberof RPC.Message\n             * @instance\n             */\n            Message.prototype.signature = null;\n\n            /**\n             * Message key.\n             * @member {Uint8Array|null|undefined} key\n             * @memberof RPC.Message\n             * @instance\n             */\n            Message.prototype.key = null;\n\n            // OneOf field names bound to virtual getters and setters\n            var $oneOfFields;\n\n            /**\n             * Message _from.\n             * @member {\"from\"|undefined} _from\n             * @memberof RPC.Message\n             * @instance\n             */\n            Object.defineProperty(Message.prototype, \"_from\", {\n                get: $util.oneOfGetter($oneOfFields = [\"from\"]),\n                set: $util.oneOfSetter($oneOfFields)\n            });\n\n            /**\n             * Message _data.\n             * @member {\"data\"|undefined} _data\n             * @memberof RPC.Message\n             * @instance\n             */\n            Object.defineProperty(Message.prototype, \"_data\", {\n                get: $util.oneOfGetter($oneOfFields = [\"data\"]),\n                set: $util.oneOfSetter($oneOfFields)\n            });\n\n            /**\n             * Message _seqno.\n             * @member {\"seqno\"|undefined} _seqno\n             * @memberof RPC.Message\n             * @instance\n             */\n            Object.defineProperty(Message.prototype, \"_seqno\", {\n                get: $util.oneOfGetter($oneOfFields = [\"seqno\"]),\n                set: $util.oneOfSetter($oneOfFields)\n            });\n\n            /**\n             * Message _signature.\n             * @member {\"signature\"|undefined} _signature\n             * @memberof RPC.Message\n             * @instance\n             */\n            Object.defineProperty(Message.prototype, \"_signature\", {\n                get: $util.oneOfGetter($oneOfFields = [\"signature\"]),\n                set: $util.oneOfSetter($oneOfFields)\n            });\n\n            /**\n             * Message _key.\n             * @member {\"key\"|undefined} _key\n             * @memberof RPC.Message\n             * @instance\n             */\n            Object.defineProperty(Message.prototype, \"_key\", {\n                get: $util.oneOfGetter($oneOfFields = [\"key\"]),\n                set: $util.oneOfSetter($oneOfFields)\n            });\n\n            /**\n             * Encodes the specified Message message. Does not implicitly {@link RPC.Message.verify|verify} messages.\n             * @function encode\n             * @memberof RPC.Message\n             * @static\n             * @param {RPC.IMessage} m Message message or plain object to encode\n             * @param {$protobuf.Writer} [w] Writer to encode to\n             * @returns {$protobuf.Writer} Writer\n             */\n            Message.encode = function encode(m, w) {\n                if (!w)\n                    w = $Writer.create();\n                if (m.from != null && Object.hasOwnProperty.call(m, \"from\"))\n                    w.uint32(10).bytes(m.from);\n                if (m.data != null && Object.hasOwnProperty.call(m, \"data\"))\n                    w.uint32(18).bytes(m.data);\n                if (m.seqno != null && Object.hasOwnProperty.call(m, \"seqno\"))\n                    w.uint32(26).bytes(m.seqno);\n                w.uint32(34).string(m.topic);\n                if (m.signature != null && Object.hasOwnProperty.call(m, \"signature\"))\n                    w.uint32(42).bytes(m.signature);\n                if (m.key != null && Object.hasOwnProperty.call(m, \"key\"))\n                    w.uint32(50).bytes(m.key);\n                return w;\n            };\n\n            /**\n             * Decodes a Message message from the specified reader or buffer.\n             * @function decode\n             * @memberof RPC.Message\n             * @static\n             * @param {$protobuf.Reader|Uint8Array} r Reader or buffer to decode from\n             * @param {number} [l] Message length if known beforehand\n             * @returns {RPC.Message} Message\n             * @throws {Error} If the payload is not a reader or valid buffer\n             * @throws {$protobuf.util.ProtocolError} If required fields are missing\n             */\n            Message.decode = function decode(r, l) {\n                if (!(r instanceof $Reader))\n                    r = $Reader.create(r);\n                var c = l === undefined ? r.len : r.pos + l, m = new $root.RPC.Message();\n                while (r.pos < c) {\n                    var t = r.uint32();\n                    switch (t >>> 3) {\n                    case 1:\n                        m.from = r.bytes();\n                        break;\n                    case 2:\n                        m.data = r.bytes();\n                        break;\n                    case 3:\n                        m.seqno = r.bytes();\n                        break;\n                    case 4:\n                        m.topic = r.string();\n                        break;\n                    case 5:\n                        m.signature = r.bytes();\n                        break;\n                    case 6:\n                        m.key = r.bytes();\n                        break;\n                    default:\n                        r.skipType(t & 7);\n                        break;\n                    }\n                }\n                if (!m.hasOwnProperty(\"topic\"))\n                    throw $util.ProtocolError(\"missing required 'topic'\", { instance: m });\n                return m;\n            };\n\n            /**\n             * Creates a Message message from a plain object. Also converts values to their respective internal types.\n             * @function fromObject\n             * @memberof RPC.Message\n             * @static\n             * @param {Object.<string,*>} d Plain object\n             * @returns {RPC.Message} Message\n             */\n            Message.fromObject = function fromObject(d) {\n                if (d instanceof $root.RPC.Message)\n                    return d;\n                var m = new $root.RPC.Message();\n                if (d.from != null) {\n                    if (typeof d.from === \"string\")\n                        $util.base64.decode(d.from, m.from = $util.newBuffer($util.base64.length(d.from)), 0);\n                    else if (d.from.length)\n                        m.from = d.from;\n                }\n                if (d.data != null) {\n                    if (typeof d.data === \"string\")\n                        $util.base64.decode(d.data, m.data = $util.newBuffer($util.base64.length(d.data)), 0);\n                    else if (d.data.length)\n                        m.data = d.data;\n                }\n                if (d.seqno != null) {\n                    if (typeof d.seqno === \"string\")\n                        $util.base64.decode(d.seqno, m.seqno = $util.newBuffer($util.base64.length(d.seqno)), 0);\n                    else if (d.seqno.length)\n                        m.seqno = d.seqno;\n                }\n                if (d.topic != null) {\n                    m.topic = String(d.topic);\n                }\n                if (d.signature != null) {\n                    if (typeof d.signature === \"string\")\n                        $util.base64.decode(d.signature, m.signature = $util.newBuffer($util.base64.length(d.signature)), 0);\n                    else if (d.signature.length)\n                        m.signature = d.signature;\n                }\n                if (d.key != null) {\n                    if (typeof d.key === \"string\")\n                        $util.base64.decode(d.key, m.key = $util.newBuffer($util.base64.length(d.key)), 0);\n                    else if (d.key.length)\n                        m.key = d.key;\n                }\n                return m;\n            };\n\n            /**\n             * Creates a plain object from a Message message. Also converts values to other types if specified.\n             * @function toObject\n             * @memberof RPC.Message\n             * @static\n             * @param {RPC.Message} m Message\n             * @param {$protobuf.IConversionOptions} [o] Conversion options\n             * @returns {Object.<string,*>} Plain object\n             */\n            Message.toObject = function toObject(m, o) {\n                if (!o)\n                    o = {};\n                var d = {};\n                if (o.defaults) {\n                    d.topic = \"\";\n                }\n                if (m.from != null && m.hasOwnProperty(\"from\")) {\n                    d.from = o.bytes === String ? $util.base64.encode(m.from, 0, m.from.length) : o.bytes === Array ? Array.prototype.slice.call(m.from) : m.from;\n                    if (o.oneofs)\n                        d._from = \"from\";\n                }\n                if (m.data != null && m.hasOwnProperty(\"data\")) {\n                    d.data = o.bytes === String ? $util.base64.encode(m.data, 0, m.data.length) : o.bytes === Array ? Array.prototype.slice.call(m.data) : m.data;\n                    if (o.oneofs)\n                        d._data = \"data\";\n                }\n                if (m.seqno != null && m.hasOwnProperty(\"seqno\")) {\n                    d.seqno = o.bytes === String ? $util.base64.encode(m.seqno, 0, m.seqno.length) : o.bytes === Array ? Array.prototype.slice.call(m.seqno) : m.seqno;\n                    if (o.oneofs)\n                        d._seqno = \"seqno\";\n                }\n                if (m.topic != null && m.hasOwnProperty(\"topic\")) {\n                    d.topic = m.topic;\n                }\n                if (m.signature != null && m.hasOwnProperty(\"signature\")) {\n                    d.signature = o.bytes === String ? $util.base64.encode(m.signature, 0, m.signature.length) : o.bytes === Array ? Array.prototype.slice.call(m.signature) : m.signature;\n                    if (o.oneofs)\n                        d._signature = \"signature\";\n                }\n                if (m.key != null && m.hasOwnProperty(\"key\")) {\n                    d.key = o.bytes === String ? $util.base64.encode(m.key, 0, m.key.length) : o.bytes === Array ? Array.prototype.slice.call(m.key) : m.key;\n                    if (o.oneofs)\n                        d._key = \"key\";\n                }\n                return d;\n            };\n\n            /**\n             * Converts this Message to JSON.\n             * @function toJSON\n             * @memberof RPC.Message\n             * @instance\n             * @returns {Object.<string,*>} JSON object\n             */\n            Message.prototype.toJSON = function toJSON() {\n                return this.constructor.toObject(this, $protobuf.util.toJSONOptions);\n            };\n\n            return Message;\n        })();\n\n        RPC.ControlMessage = (function() {\n\n            /**\n             * Properties of a ControlMessage.\n             * @memberof RPC\n             * @interface IControlMessage\n             * @property {Array.<RPC.IControlIHave>|null} [ihave] ControlMessage ihave\n             * @property {Array.<RPC.IControlIWant>|null} [iwant] ControlMessage iwant\n             * @property {Array.<RPC.IControlGraft>|null} [graft] ControlMessage graft\n             * @property {Array.<RPC.IControlPrune>|null} [prune] ControlMessage prune\n             */\n\n            /**\n             * Constructs a new ControlMessage.\n             * @memberof RPC\n             * @classdesc Represents a ControlMessage.\n             * @implements IControlMessage\n             * @constructor\n             * @param {RPC.IControlMessage=} [p] Properties to set\n             */\n            function ControlMessage(p) {\n                this.ihave = [];\n                this.iwant = [];\n                this.graft = [];\n                this.prune = [];\n                if (p)\n                    for (var ks = Object.keys(p), i = 0; i < ks.length; ++i)\n                        if (p[ks[i]] != null)\n                            this[ks[i]] = p[ks[i]];\n            }\n\n            /**\n             * ControlMessage ihave.\n             * @member {Array.<RPC.IControlIHave>} ihave\n             * @memberof RPC.ControlMessage\n             * @instance\n             */\n            ControlMessage.prototype.ihave = $util.emptyArray;\n\n            /**\n             * ControlMessage iwant.\n             * @member {Array.<RPC.IControlIWant>} iwant\n             * @memberof RPC.ControlMessage\n             * @instance\n             */\n            ControlMessage.prototype.iwant = $util.emptyArray;\n\n            /**\n             * ControlMessage graft.\n             * @member {Array.<RPC.IControlGraft>} graft\n             * @memberof RPC.ControlMessage\n             * @instance\n             */\n            ControlMessage.prototype.graft = $util.emptyArray;\n\n            /**\n             * ControlMessage prune.\n             * @member {Array.<RPC.IControlPrune>} prune\n             * @memberof RPC.ControlMessage\n             * @instance\n             */\n            ControlMessage.prototype.prune = $util.emptyArray;\n\n            /**\n             * Encodes the specified ControlMessage message. Does not implicitly {@link RPC.ControlMessage.verify|verify} messages.\n             * @function encode\n             * @memberof RPC.ControlMessage\n             * @static\n             * @param {RPC.IControlMessage} m ControlMessage message or plain object to encode\n             * @param {$protobuf.Writer} [w] Writer to encode to\n             * @returns {$protobuf.Writer} Writer\n             */\n            ControlMessage.encode = function encode(m, w) {\n                if (!w)\n                    w = $Writer.create();\n                if (m.ihave != null && m.ihave.length) {\n                    for (var i = 0; i < m.ihave.length; ++i)\n                        $root.RPC.ControlIHave.encode(m.ihave[i], w.uint32(10).fork()).ldelim();\n                }\n                if (m.iwant != null && m.iwant.length) {\n                    for (var i = 0; i < m.iwant.length; ++i)\n                        $root.RPC.ControlIWant.encode(m.iwant[i], w.uint32(18).fork()).ldelim();\n                }\n                if (m.graft != null && m.graft.length) {\n                    for (var i = 0; i < m.graft.length; ++i)\n                        $root.RPC.ControlGraft.encode(m.graft[i], w.uint32(26).fork()).ldelim();\n                }\n                if (m.prune != null && m.prune.length) {\n                    for (var i = 0; i < m.prune.length; ++i)\n                        $root.RPC.ControlPrune.encode(m.prune[i], w.uint32(34).fork()).ldelim();\n                }\n                return w;\n            };\n\n            /**\n             * Decodes a ControlMessage message from the specified reader or buffer.\n             * @function decode\n             * @memberof RPC.ControlMessage\n             * @static\n             * @param {$protobuf.Reader|Uint8Array} r Reader or buffer to decode from\n             * @param {number} [l] Message length if known beforehand\n             * @returns {RPC.ControlMessage} ControlMessage\n             * @throws {Error} If the payload is not a reader or valid buffer\n             * @throws {$protobuf.util.ProtocolError} If required fields are missing\n             */\n            ControlMessage.decode = function decode(r, l) {\n                if (!(r instanceof $Reader))\n                    r = $Reader.create(r);\n                var c = l === undefined ? r.len : r.pos + l, m = new $root.RPC.ControlMessage();\n                while (r.pos < c) {\n                    var t = r.uint32();\n                    switch (t >>> 3) {\n                    case 1:\n                        if (!(m.ihave && m.ihave.length))\n                            m.ihave = [];\n                        m.ihave.push($root.RPC.ControlIHave.decode(r, r.uint32()));\n                        break;\n                    case 2:\n                        if (!(m.iwant && m.iwant.length))\n                            m.iwant = [];\n                        m.iwant.push($root.RPC.ControlIWant.decode(r, r.uint32()));\n                        break;\n                    case 3:\n                        if (!(m.graft && m.graft.length))\n                            m.graft = [];\n                        m.graft.push($root.RPC.ControlGraft.decode(r, r.uint32()));\n                        break;\n                    case 4:\n                        if (!(m.prune && m.prune.length))\n                            m.prune = [];\n                        m.prune.push($root.RPC.ControlPrune.decode(r, r.uint32()));\n                        break;\n                    default:\n                        r.skipType(t & 7);\n                        break;\n                    }\n                }\n                return m;\n            };\n\n            /**\n             * Creates a ControlMessage message from a plain object. Also converts values to their respective internal types.\n             * @function fromObject\n             * @memberof RPC.ControlMessage\n             * @static\n             * @param {Object.<string,*>} d Plain object\n             * @returns {RPC.ControlMessage} ControlMessage\n             */\n            ControlMessage.fromObject = function fromObject(d) {\n                if (d instanceof $root.RPC.ControlMessage)\n                    return d;\n                var m = new $root.RPC.ControlMessage();\n                if (d.ihave) {\n                    if (!Array.isArray(d.ihave))\n                        throw TypeError(\".RPC.ControlMessage.ihave: array expected\");\n                    m.ihave = [];\n                    for (var i = 0; i < d.ihave.length; ++i) {\n                        if (typeof d.ihave[i] !== \"object\")\n                            throw TypeError(\".RPC.ControlMessage.ihave: object expected\");\n                        m.ihave[i] = $root.RPC.ControlIHave.fromObject(d.ihave[i]);\n                    }\n                }\n                if (d.iwant) {\n                    if (!Array.isArray(d.iwant))\n                        throw TypeError(\".RPC.ControlMessage.iwant: array expected\");\n                    m.iwant = [];\n                    for (var i = 0; i < d.iwant.length; ++i) {\n                        if (typeof d.iwant[i] !== \"object\")\n                            throw TypeError(\".RPC.ControlMessage.iwant: object expected\");\n                        m.iwant[i] = $root.RPC.ControlIWant.fromObject(d.iwant[i]);\n                    }\n                }\n                if (d.graft) {\n                    if (!Array.isArray(d.graft))\n                        throw TypeError(\".RPC.ControlMessage.graft: array expected\");\n                    m.graft = [];\n                    for (var i = 0; i < d.graft.length; ++i) {\n                        if (typeof d.graft[i] !== \"object\")\n                            throw TypeError(\".RPC.ControlMessage.graft: object expected\");\n                        m.graft[i] = $root.RPC.ControlGraft.fromObject(d.graft[i]);\n                    }\n                }\n                if (d.prune) {\n                    if (!Array.isArray(d.prune))\n                        throw TypeError(\".RPC.ControlMessage.prune: array expected\");\n                    m.prune = [];\n                    for (var i = 0; i < d.prune.length; ++i) {\n                        if (typeof d.prune[i] !== \"object\")\n                            throw TypeError(\".RPC.ControlMessage.prune: object expected\");\n                        m.prune[i] = $root.RPC.ControlPrune.fromObject(d.prune[i]);\n                    }\n                }\n                return m;\n            };\n\n            /**\n             * Creates a plain object from a ControlMessage message. Also converts values to other types if specified.\n             * @function toObject\n             * @memberof RPC.ControlMessage\n             * @static\n             * @param {RPC.ControlMessage} m ControlMessage\n             * @param {$protobuf.IConversionOptions} [o] Conversion options\n             * @returns {Object.<string,*>} Plain object\n             */\n            ControlMessage.toObject = function toObject(m, o) {\n                if (!o)\n                    o = {};\n                var d = {};\n                if (o.arrays || o.defaults) {\n                    d.ihave = [];\n                    d.iwant = [];\n                    d.graft = [];\n                    d.prune = [];\n                }\n                if (m.ihave && m.ihave.length) {\n                    d.ihave = [];\n                    for (var j = 0; j < m.ihave.length; ++j) {\n                        d.ihave[j] = $root.RPC.ControlIHave.toObject(m.ihave[j], o);\n                    }\n                }\n                if (m.iwant && m.iwant.length) {\n                    d.iwant = [];\n                    for (var j = 0; j < m.iwant.length; ++j) {\n                        d.iwant[j] = $root.RPC.ControlIWant.toObject(m.iwant[j], o);\n                    }\n                }\n                if (m.graft && m.graft.length) {\n                    d.graft = [];\n                    for (var j = 0; j < m.graft.length; ++j) {\n                        d.graft[j] = $root.RPC.ControlGraft.toObject(m.graft[j], o);\n                    }\n                }\n                if (m.prune && m.prune.length) {\n                    d.prune = [];\n                    for (var j = 0; j < m.prune.length; ++j) {\n                        d.prune[j] = $root.RPC.ControlPrune.toObject(m.prune[j], o);\n                    }\n                }\n                return d;\n            };\n\n            /**\n             * Converts this ControlMessage to JSON.\n             * @function toJSON\n             * @memberof RPC.ControlMessage\n             * @instance\n             * @returns {Object.<string,*>} JSON object\n             */\n            ControlMessage.prototype.toJSON = function toJSON() {\n                return this.constructor.toObject(this, $protobuf.util.toJSONOptions);\n            };\n\n            return ControlMessage;\n        })();\n\n        RPC.ControlIHave = (function() {\n\n            /**\n             * Properties of a ControlIHave.\n             * @memberof RPC\n             * @interface IControlIHave\n             * @property {string|null} [topicID] ControlIHave topicID\n             * @property {Array.<Uint8Array>|null} [messageIDs] ControlIHave messageIDs\n             */\n\n            /**\n             * Constructs a new ControlIHave.\n             * @memberof RPC\n             * @classdesc Represents a ControlIHave.\n             * @implements IControlIHave\n             * @constructor\n             * @param {RPC.IControlIHave=} [p] Properties to set\n             */\n            function ControlIHave(p) {\n                this.messageIDs = [];\n                if (p)\n                    for (var ks = Object.keys(p), i = 0; i < ks.length; ++i)\n                        if (p[ks[i]] != null)\n                            this[ks[i]] = p[ks[i]];\n            }\n\n            /**\n             * ControlIHave topicID.\n             * @member {string|null|undefined} topicID\n             * @memberof RPC.ControlIHave\n             * @instance\n             */\n            ControlIHave.prototype.topicID = null;\n\n            /**\n             * ControlIHave messageIDs.\n             * @member {Array.<Uint8Array>} messageIDs\n             * @memberof RPC.ControlIHave\n             * @instance\n             */\n            ControlIHave.prototype.messageIDs = $util.emptyArray;\n\n            // OneOf field names bound to virtual getters and setters\n            var $oneOfFields;\n\n            /**\n             * ControlIHave _topicID.\n             * @member {\"topicID\"|undefined} _topicID\n             * @memberof RPC.ControlIHave\n             * @instance\n             */\n            Object.defineProperty(ControlIHave.prototype, \"_topicID\", {\n                get: $util.oneOfGetter($oneOfFields = [\"topicID\"]),\n                set: $util.oneOfSetter($oneOfFields)\n            });\n\n            /**\n             * Encodes the specified ControlIHave message. Does not implicitly {@link RPC.ControlIHave.verify|verify} messages.\n             * @function encode\n             * @memberof RPC.ControlIHave\n             * @static\n             * @param {RPC.IControlIHave} m ControlIHave message or plain object to encode\n             * @param {$protobuf.Writer} [w] Writer to encode to\n             * @returns {$protobuf.Writer} Writer\n             */\n            ControlIHave.encode = function encode(m, w) {\n                if (!w)\n                    w = $Writer.create();\n                if (m.topicID != null && Object.hasOwnProperty.call(m, \"topicID\"))\n                    w.uint32(10).string(m.topicID);\n                if (m.messageIDs != null && m.messageIDs.length) {\n                    for (var i = 0; i < m.messageIDs.length; ++i)\n                        w.uint32(18).bytes(m.messageIDs[i]);\n                }\n                return w;\n            };\n\n            /**\n             * Decodes a ControlIHave message from the specified reader or buffer.\n             * @function decode\n             * @memberof RPC.ControlIHave\n             * @static\n             * @param {$protobuf.Reader|Uint8Array} r Reader or buffer to decode from\n             * @param {number} [l] Message length if known beforehand\n             * @returns {RPC.ControlIHave} ControlIHave\n             * @throws {Error} If the payload is not a reader or valid buffer\n             * @throws {$protobuf.util.ProtocolError} If required fields are missing\n             */\n            ControlIHave.decode = function decode(r, l) {\n                if (!(r instanceof $Reader))\n                    r = $Reader.create(r);\n                var c = l === undefined ? r.len : r.pos + l, m = new $root.RPC.ControlIHave();\n                while (r.pos < c) {\n                    var t = r.uint32();\n                    switch (t >>> 3) {\n                    case 1:\n                        m.topicID = r.string();\n                        break;\n                    case 2:\n                        if (!(m.messageIDs && m.messageIDs.length))\n                            m.messageIDs = [];\n                        m.messageIDs.push(r.bytes());\n                        break;\n                    default:\n                        r.skipType(t & 7);\n                        break;\n                    }\n                }\n                return m;\n            };\n\n            /**\n             * Creates a ControlIHave message from a plain object. Also converts values to their respective internal types.\n             * @function fromObject\n             * @memberof RPC.ControlIHave\n             * @static\n             * @param {Object.<string,*>} d Plain object\n             * @returns {RPC.ControlIHave} ControlIHave\n             */\n            ControlIHave.fromObject = function fromObject(d) {\n                if (d instanceof $root.RPC.ControlIHave)\n                    return d;\n                var m = new $root.RPC.ControlIHave();\n                if (d.topicID != null) {\n                    m.topicID = String(d.topicID);\n                }\n                if (d.messageIDs) {\n                    if (!Array.isArray(d.messageIDs))\n                        throw TypeError(\".RPC.ControlIHave.messageIDs: array expected\");\n                    m.messageIDs = [];\n                    for (var i = 0; i < d.messageIDs.length; ++i) {\n                        if (typeof d.messageIDs[i] === \"string\")\n                            $util.base64.decode(d.messageIDs[i], m.messageIDs[i] = $util.newBuffer($util.base64.length(d.messageIDs[i])), 0);\n                        else if (d.messageIDs[i].length)\n                            m.messageIDs[i] = d.messageIDs[i];\n                    }\n                }\n                return m;\n            };\n\n            /**\n             * Creates a plain object from a ControlIHave message. Also converts values to other types if specified.\n             * @function toObject\n             * @memberof RPC.ControlIHave\n             * @static\n             * @param {RPC.ControlIHave} m ControlIHave\n             * @param {$protobuf.IConversionOptions} [o] Conversion options\n             * @returns {Object.<string,*>} Plain object\n             */\n            ControlIHave.toObject = function toObject(m, o) {\n                if (!o)\n                    o = {};\n                var d = {};\n                if (o.arrays || o.defaults) {\n                    d.messageIDs = [];\n                }\n                if (m.topicID != null && m.hasOwnProperty(\"topicID\")) {\n                    d.topicID = m.topicID;\n                    if (o.oneofs)\n                        d._topicID = \"topicID\";\n                }\n                if (m.messageIDs && m.messageIDs.length) {\n                    d.messageIDs = [];\n                    for (var j = 0; j < m.messageIDs.length; ++j) {\n                        d.messageIDs[j] = o.bytes === String ? $util.base64.encode(m.messageIDs[j], 0, m.messageIDs[j].length) : o.bytes === Array ? Array.prototype.slice.call(m.messageIDs[j]) : m.messageIDs[j];\n                    }\n                }\n                return d;\n            };\n\n            /**\n             * Converts this ControlIHave to JSON.\n             * @function toJSON\n             * @memberof RPC.ControlIHave\n             * @instance\n             * @returns {Object.<string,*>} JSON object\n             */\n            ControlIHave.prototype.toJSON = function toJSON() {\n                return this.constructor.toObject(this, $protobuf.util.toJSONOptions);\n            };\n\n            return ControlIHave;\n        })();\n\n        RPC.ControlIWant = (function() {\n\n            /**\n             * Properties of a ControlIWant.\n             * @memberof RPC\n             * @interface IControlIWant\n             * @property {Array.<Uint8Array>|null} [messageIDs] ControlIWant messageIDs\n             */\n\n            /**\n             * Constructs a new ControlIWant.\n             * @memberof RPC\n             * @classdesc Represents a ControlIWant.\n             * @implements IControlIWant\n             * @constructor\n             * @param {RPC.IControlIWant=} [p] Properties to set\n             */\n            function ControlIWant(p) {\n                this.messageIDs = [];\n                if (p)\n                    for (var ks = Object.keys(p), i = 0; i < ks.length; ++i)\n                        if (p[ks[i]] != null)\n                            this[ks[i]] = p[ks[i]];\n            }\n\n            /**\n             * ControlIWant messageIDs.\n             * @member {Array.<Uint8Array>} messageIDs\n             * @memberof RPC.ControlIWant\n             * @instance\n             */\n            ControlIWant.prototype.messageIDs = $util.emptyArray;\n\n            /**\n             * Encodes the specified ControlIWant message. Does not implicitly {@link RPC.ControlIWant.verify|verify} messages.\n             * @function encode\n             * @memberof RPC.ControlIWant\n             * @static\n             * @param {RPC.IControlIWant} m ControlIWant message or plain object to encode\n             * @param {$protobuf.Writer} [w] Writer to encode to\n             * @returns {$protobuf.Writer} Writer\n             */\n            ControlIWant.encode = function encode(m, w) {\n                if (!w)\n                    w = $Writer.create();\n                if (m.messageIDs != null && m.messageIDs.length) {\n                    for (var i = 0; i < m.messageIDs.length; ++i)\n                        w.uint32(10).bytes(m.messageIDs[i]);\n                }\n                return w;\n            };\n\n            /**\n             * Decodes a ControlIWant message from the specified reader or buffer.\n             * @function decode\n             * @memberof RPC.ControlIWant\n             * @static\n             * @param {$protobuf.Reader|Uint8Array} r Reader or buffer to decode from\n             * @param {number} [l] Message length if known beforehand\n             * @returns {RPC.ControlIWant} ControlIWant\n             * @throws {Error} If the payload is not a reader or valid buffer\n             * @throws {$protobuf.util.ProtocolError} If required fields are missing\n             */\n            ControlIWant.decode = function decode(r, l) {\n                if (!(r instanceof $Reader))\n                    r = $Reader.create(r);\n                var c = l === undefined ? r.len : r.pos + l, m = new $root.RPC.ControlIWant();\n                while (r.pos < c) {\n                    var t = r.uint32();\n                    switch (t >>> 3) {\n                    case 1:\n                        if (!(m.messageIDs && m.messageIDs.length))\n                            m.messageIDs = [];\n                        m.messageIDs.push(r.bytes());\n                        break;\n                    default:\n                        r.skipType(t & 7);\n                        break;\n                    }\n                }\n                return m;\n            };\n\n            /**\n             * Creates a ControlIWant message from a plain object. Also converts values to their respective internal types.\n             * @function fromObject\n             * @memberof RPC.ControlIWant\n             * @static\n             * @param {Object.<string,*>} d Plain object\n             * @returns {RPC.ControlIWant} ControlIWant\n             */\n            ControlIWant.fromObject = function fromObject(d) {\n                if (d instanceof $root.RPC.ControlIWant)\n                    return d;\n                var m = new $root.RPC.ControlIWant();\n                if (d.messageIDs) {\n                    if (!Array.isArray(d.messageIDs))\n                        throw TypeError(\".RPC.ControlIWant.messageIDs: array expected\");\n                    m.messageIDs = [];\n                    for (var i = 0; i < d.messageIDs.length; ++i) {\n                        if (typeof d.messageIDs[i] === \"string\")\n                            $util.base64.decode(d.messageIDs[i], m.messageIDs[i] = $util.newBuffer($util.base64.length(d.messageIDs[i])), 0);\n                        else if (d.messageIDs[i].length)\n                            m.messageIDs[i] = d.messageIDs[i];\n                    }\n                }\n                return m;\n            };\n\n            /**\n             * Creates a plain object from a ControlIWant message. Also converts values to other types if specified.\n             * @function toObject\n             * @memberof RPC.ControlIWant\n             * @static\n             * @param {RPC.ControlIWant} m ControlIWant\n             * @param {$protobuf.IConversionOptions} [o] Conversion options\n             * @returns {Object.<string,*>} Plain object\n             */\n            ControlIWant.toObject = function toObject(m, o) {\n                if (!o)\n                    o = {};\n                var d = {};\n                if (o.arrays || o.defaults) {\n                    d.messageIDs = [];\n                }\n                if (m.messageIDs && m.messageIDs.length) {\n                    d.messageIDs = [];\n                    for (var j = 0; j < m.messageIDs.length; ++j) {\n                        d.messageIDs[j] = o.bytes === String ? $util.base64.encode(m.messageIDs[j], 0, m.messageIDs[j].length) : o.bytes === Array ? Array.prototype.slice.call(m.messageIDs[j]) : m.messageIDs[j];\n                    }\n                }\n                return d;\n            };\n\n            /**\n             * Converts this ControlIWant to JSON.\n             * @function toJSON\n             * @memberof RPC.ControlIWant\n             * @instance\n             * @returns {Object.<string,*>} JSON object\n             */\n            ControlIWant.prototype.toJSON = function toJSON() {\n                return this.constructor.toObject(this, $protobuf.util.toJSONOptions);\n            };\n\n            return ControlIWant;\n        })();\n\n        RPC.ControlGraft = (function() {\n\n            /**\n             * Properties of a ControlGraft.\n             * @memberof RPC\n             * @interface IControlGraft\n             * @property {string|null} [topicID] ControlGraft topicID\n             */\n\n            /**\n             * Constructs a new ControlGraft.\n             * @memberof RPC\n             * @classdesc Represents a ControlGraft.\n             * @implements IControlGraft\n             * @constructor\n             * @param {RPC.IControlGraft=} [p] Properties to set\n             */\n            function ControlGraft(p) {\n                if (p)\n                    for (var ks = Object.keys(p), i = 0; i < ks.length; ++i)\n                        if (p[ks[i]] != null)\n                            this[ks[i]] = p[ks[i]];\n            }\n\n            /**\n             * ControlGraft topicID.\n             * @member {string|null|undefined} topicID\n             * @memberof RPC.ControlGraft\n             * @instance\n             */\n            ControlGraft.prototype.topicID = null;\n\n            // OneOf field names bound to virtual getters and setters\n            var $oneOfFields;\n\n            /**\n             * ControlGraft _topicID.\n             * @member {\"topicID\"|undefined} _topicID\n             * @memberof RPC.ControlGraft\n             * @instance\n             */\n            Object.defineProperty(ControlGraft.prototype, \"_topicID\", {\n                get: $util.oneOfGetter($oneOfFields = [\"topicID\"]),\n                set: $util.oneOfSetter($oneOfFields)\n            });\n\n            /**\n             * Encodes the specified ControlGraft message. Does not implicitly {@link RPC.ControlGraft.verify|verify} messages.\n             * @function encode\n             * @memberof RPC.ControlGraft\n             * @static\n             * @param {RPC.IControlGraft} m ControlGraft message or plain object to encode\n             * @param {$protobuf.Writer} [w] Writer to encode to\n             * @returns {$protobuf.Writer} Writer\n             */\n            ControlGraft.encode = function encode(m, w) {\n                if (!w)\n                    w = $Writer.create();\n                if (m.topicID != null && Object.hasOwnProperty.call(m, \"topicID\"))\n                    w.uint32(10).string(m.topicID);\n                return w;\n            };\n\n            /**\n             * Decodes a ControlGraft message from the specified reader or buffer.\n             * @function decode\n             * @memberof RPC.ControlGraft\n             * @static\n             * @param {$protobuf.Reader|Uint8Array} r Reader or buffer to decode from\n             * @param {number} [l] Message length if known beforehand\n             * @returns {RPC.ControlGraft} ControlGraft\n             * @throws {Error} If the payload is not a reader or valid buffer\n             * @throws {$protobuf.util.ProtocolError} If required fields are missing\n             */\n            ControlGraft.decode = function decode(r, l) {\n                if (!(r instanceof $Reader))\n                    r = $Reader.create(r);\n                var c = l === undefined ? r.len : r.pos + l, m = new $root.RPC.ControlGraft();\n                while (r.pos < c) {\n                    var t = r.uint32();\n                    switch (t >>> 3) {\n                    case 1:\n                        m.topicID = r.string();\n                        break;\n                    default:\n                        r.skipType(t & 7);\n                        break;\n                    }\n                }\n                return m;\n            };\n\n            /**\n             * Creates a ControlGraft message from a plain object. Also converts values to their respective internal types.\n             * @function fromObject\n             * @memberof RPC.ControlGraft\n             * @static\n             * @param {Object.<string,*>} d Plain object\n             * @returns {RPC.ControlGraft} ControlGraft\n             */\n            ControlGraft.fromObject = function fromObject(d) {\n                if (d instanceof $root.RPC.ControlGraft)\n                    return d;\n                var m = new $root.RPC.ControlGraft();\n                if (d.topicID != null) {\n                    m.topicID = String(d.topicID);\n                }\n                return m;\n            };\n\n            /**\n             * Creates a plain object from a ControlGraft message. Also converts values to other types if specified.\n             * @function toObject\n             * @memberof RPC.ControlGraft\n             * @static\n             * @param {RPC.ControlGraft} m ControlGraft\n             * @param {$protobuf.IConversionOptions} [o] Conversion options\n             * @returns {Object.<string,*>} Plain object\n             */\n            ControlGraft.toObject = function toObject(m, o) {\n                if (!o)\n                    o = {};\n                var d = {};\n                if (m.topicID != null && m.hasOwnProperty(\"topicID\")) {\n                    d.topicID = m.topicID;\n                    if (o.oneofs)\n                        d._topicID = \"topicID\";\n                }\n                return d;\n            };\n\n            /**\n             * Converts this ControlGraft to JSON.\n             * @function toJSON\n             * @memberof RPC.ControlGraft\n             * @instance\n             * @returns {Object.<string,*>} JSON object\n             */\n            ControlGraft.prototype.toJSON = function toJSON() {\n                return this.constructor.toObject(this, $protobuf.util.toJSONOptions);\n            };\n\n            return ControlGraft;\n        })();\n\n        RPC.ControlPrune = (function() {\n\n            /**\n             * Properties of a ControlPrune.\n             * @memberof RPC\n             * @interface IControlPrune\n             * @property {string|null} [topicID] ControlPrune topicID\n             * @property {Array.<RPC.IPeerInfo>|null} [peers] ControlPrune peers\n             * @property {number|null} [backoff] ControlPrune backoff\n             */\n\n            /**\n             * Constructs a new ControlPrune.\n             * @memberof RPC\n             * @classdesc Represents a ControlPrune.\n             * @implements IControlPrune\n             * @constructor\n             * @param {RPC.IControlPrune=} [p] Properties to set\n             */\n            function ControlPrune(p) {\n                this.peers = [];\n                if (p)\n                    for (var ks = Object.keys(p), i = 0; i < ks.length; ++i)\n                        if (p[ks[i]] != null)\n                            this[ks[i]] = p[ks[i]];\n            }\n\n            /**\n             * ControlPrune topicID.\n             * @member {string|null|undefined} topicID\n             * @memberof RPC.ControlPrune\n             * @instance\n             */\n            ControlPrune.prototype.topicID = null;\n\n            /**\n             * ControlPrune peers.\n             * @member {Array.<RPC.IPeerInfo>} peers\n             * @memberof RPC.ControlPrune\n             * @instance\n             */\n            ControlPrune.prototype.peers = $util.emptyArray;\n\n            /**\n             * ControlPrune backoff.\n             * @member {number|null|undefined} backoff\n             * @memberof RPC.ControlPrune\n             * @instance\n             */\n            ControlPrune.prototype.backoff = null;\n\n            // OneOf field names bound to virtual getters and setters\n            var $oneOfFields;\n\n            /**\n             * ControlPrune _topicID.\n             * @member {\"topicID\"|undefined} _topicID\n             * @memberof RPC.ControlPrune\n             * @instance\n             */\n            Object.defineProperty(ControlPrune.prototype, \"_topicID\", {\n                get: $util.oneOfGetter($oneOfFields = [\"topicID\"]),\n                set: $util.oneOfSetter($oneOfFields)\n            });\n\n            /**\n             * ControlPrune _backoff.\n             * @member {\"backoff\"|undefined} _backoff\n             * @memberof RPC.ControlPrune\n             * @instance\n             */\n            Object.defineProperty(ControlPrune.prototype, \"_backoff\", {\n                get: $util.oneOfGetter($oneOfFields = [\"backoff\"]),\n                set: $util.oneOfSetter($oneOfFields)\n            });\n\n            /**\n             * Encodes the specified ControlPrune message. Does not implicitly {@link RPC.ControlPrune.verify|verify} messages.\n             * @function encode\n             * @memberof RPC.ControlPrune\n             * @static\n             * @param {RPC.IControlPrune} m ControlPrune message or plain object to encode\n             * @param {$protobuf.Writer} [w] Writer to encode to\n             * @returns {$protobuf.Writer} Writer\n             */\n            ControlPrune.encode = function encode(m, w) {\n                if (!w)\n                    w = $Writer.create();\n                if (m.topicID != null && Object.hasOwnProperty.call(m, \"topicID\"))\n                    w.uint32(10).string(m.topicID);\n                if (m.peers != null && m.peers.length) {\n                    for (var i = 0; i < m.peers.length; ++i)\n                        $root.RPC.PeerInfo.encode(m.peers[i], w.uint32(18).fork()).ldelim();\n                }\n                if (m.backoff != null && Object.hasOwnProperty.call(m, \"backoff\"))\n                    w.uint32(24).uint64(m.backoff);\n                return w;\n            };\n\n            /**\n             * Decodes a ControlPrune message from the specified reader or buffer.\n             * @function decode\n             * @memberof RPC.ControlPrune\n             * @static\n             * @param {$protobuf.Reader|Uint8Array} r Reader or buffer to decode from\n             * @param {number} [l] Message length if known beforehand\n             * @returns {RPC.ControlPrune} ControlPrune\n             * @throws {Error} If the payload is not a reader or valid buffer\n             * @throws {$protobuf.util.ProtocolError} If required fields are missing\n             */\n            ControlPrune.decode = function decode(r, l) {\n                if (!(r instanceof $Reader))\n                    r = $Reader.create(r);\n                var c = l === undefined ? r.len : r.pos + l, m = new $root.RPC.ControlPrune();\n                while (r.pos < c) {\n                    var t = r.uint32();\n                    switch (t >>> 3) {\n                    case 1:\n                        m.topicID = r.string();\n                        break;\n                    case 2:\n                        if (!(m.peers && m.peers.length))\n                            m.peers = [];\n                        m.peers.push($root.RPC.PeerInfo.decode(r, r.uint32()));\n                        break;\n                    case 3:\n                        m.backoff = r.uint64();\n                        break;\n                    default:\n                        r.skipType(t & 7);\n                        break;\n                    }\n                }\n                return m;\n            };\n\n            /**\n             * Creates a ControlPrune message from a plain object. Also converts values to their respective internal types.\n             * @function fromObject\n             * @memberof RPC.ControlPrune\n             * @static\n             * @param {Object.<string,*>} d Plain object\n             * @returns {RPC.ControlPrune} ControlPrune\n             */\n            ControlPrune.fromObject = function fromObject(d) {\n                if (d instanceof $root.RPC.ControlPrune)\n                    return d;\n                var m = new $root.RPC.ControlPrune();\n                if (d.topicID != null) {\n                    m.topicID = String(d.topicID);\n                }\n                if (d.peers) {\n                    if (!Array.isArray(d.peers))\n                        throw TypeError(\".RPC.ControlPrune.peers: array expected\");\n                    m.peers = [];\n                    for (var i = 0; i < d.peers.length; ++i) {\n                        if (typeof d.peers[i] !== \"object\")\n                            throw TypeError(\".RPC.ControlPrune.peers: object expected\");\n                        m.peers[i] = $root.RPC.PeerInfo.fromObject(d.peers[i]);\n                    }\n                }\n                if (d.backoff != null) {\n                    if ($util.Long)\n                        (m.backoff = $util.Long.fromValue(d.backoff)).unsigned = true;\n                    else if (typeof d.backoff === \"string\")\n                        m.backoff = parseInt(d.backoff, 10);\n                    else if (typeof d.backoff === \"number\")\n                        m.backoff = d.backoff;\n                    else if (typeof d.backoff === \"object\")\n                        m.backoff = new $util.LongBits(d.backoff.low >>> 0, d.backoff.high >>> 0).toNumber(true);\n                }\n                return m;\n            };\n\n            /**\n             * Creates a plain object from a ControlPrune message. Also converts values to other types if specified.\n             * @function toObject\n             * @memberof RPC.ControlPrune\n             * @static\n             * @param {RPC.ControlPrune} m ControlPrune\n             * @param {$protobuf.IConversionOptions} [o] Conversion options\n             * @returns {Object.<string,*>} Plain object\n             */\n            ControlPrune.toObject = function toObject(m, o) {\n                if (!o)\n                    o = {};\n                var d = {};\n                if (o.arrays || o.defaults) {\n                    d.peers = [];\n                }\n                if (m.topicID != null && m.hasOwnProperty(\"topicID\")) {\n                    d.topicID = m.topicID;\n                    if (o.oneofs)\n                        d._topicID = \"topicID\";\n                }\n                if (m.peers && m.peers.length) {\n                    d.peers = [];\n                    for (var j = 0; j < m.peers.length; ++j) {\n                        d.peers[j] = $root.RPC.PeerInfo.toObject(m.peers[j], o);\n                    }\n                }\n                if (m.backoff != null && m.hasOwnProperty(\"backoff\")) {\n                    if (typeof m.backoff === \"number\")\n                        d.backoff = o.longs === String ? String(m.backoff) : m.backoff;\n                    else\n                        d.backoff = o.longs === String ? $util.Long.prototype.toString.call(m.backoff) : o.longs === Number ? new $util.LongBits(m.backoff.low >>> 0, m.backoff.high >>> 0).toNumber(true) : m.backoff;\n                    if (o.oneofs)\n                        d._backoff = \"backoff\";\n                }\n                return d;\n            };\n\n            /**\n             * Converts this ControlPrune to JSON.\n             * @function toJSON\n             * @memberof RPC.ControlPrune\n             * @instance\n             * @returns {Object.<string,*>} JSON object\n             */\n            ControlPrune.prototype.toJSON = function toJSON() {\n                return this.constructor.toObject(this, $protobuf.util.toJSONOptions);\n            };\n\n            return ControlPrune;\n        })();\n\n        RPC.PeerInfo = (function() {\n\n            /**\n             * Properties of a PeerInfo.\n             * @memberof RPC\n             * @interface IPeerInfo\n             * @property {Uint8Array|null} [peerID] PeerInfo peerID\n             * @property {Uint8Array|null} [signedPeerRecord] PeerInfo signedPeerRecord\n             */\n\n            /**\n             * Constructs a new PeerInfo.\n             * @memberof RPC\n             * @classdesc Represents a PeerInfo.\n             * @implements IPeerInfo\n             * @constructor\n             * @param {RPC.IPeerInfo=} [p] Properties to set\n             */\n            function PeerInfo(p) {\n                if (p)\n                    for (var ks = Object.keys(p), i = 0; i < ks.length; ++i)\n                        if (p[ks[i]] != null)\n                            this[ks[i]] = p[ks[i]];\n            }\n\n            /**\n             * PeerInfo peerID.\n             * @member {Uint8Array|null|undefined} peerID\n             * @memberof RPC.PeerInfo\n             * @instance\n             */\n            PeerInfo.prototype.peerID = null;\n\n            /**\n             * PeerInfo signedPeerRecord.\n             * @member {Uint8Array|null|undefined} signedPeerRecord\n             * @memberof RPC.PeerInfo\n             * @instance\n             */\n            PeerInfo.prototype.signedPeerRecord = null;\n\n            // OneOf field names bound to virtual getters and setters\n            var $oneOfFields;\n\n            /**\n             * PeerInfo _peerID.\n             * @member {\"peerID\"|undefined} _peerID\n             * @memberof RPC.PeerInfo\n             * @instance\n             */\n            Object.defineProperty(PeerInfo.prototype, \"_peerID\", {\n                get: $util.oneOfGetter($oneOfFields = [\"peerID\"]),\n                set: $util.oneOfSetter($oneOfFields)\n            });\n\n            /**\n             * PeerInfo _signedPeerRecord.\n             * @member {\"signedPeerRecord\"|undefined} _signedPeerRecord\n             * @memberof RPC.PeerInfo\n             * @instance\n             */\n            Object.defineProperty(PeerInfo.prototype, \"_signedPeerRecord\", {\n                get: $util.oneOfGetter($oneOfFields = [\"signedPeerRecord\"]),\n                set: $util.oneOfSetter($oneOfFields)\n            });\n\n            /**\n             * Encodes the specified PeerInfo message. Does not implicitly {@link RPC.PeerInfo.verify|verify} messages.\n             * @function encode\n             * @memberof RPC.PeerInfo\n             * @static\n             * @param {RPC.IPeerInfo} m PeerInfo message or plain object to encode\n             * @param {$protobuf.Writer} [w] Writer to encode to\n             * @returns {$protobuf.Writer} Writer\n             */\n            PeerInfo.encode = function encode(m, w) {\n                if (!w)\n                    w = $Writer.create();\n                if (m.peerID != null && Object.hasOwnProperty.call(m, \"peerID\"))\n                    w.uint32(10).bytes(m.peerID);\n                if (m.signedPeerRecord != null && Object.hasOwnProperty.call(m, \"signedPeerRecord\"))\n                    w.uint32(18).bytes(m.signedPeerRecord);\n                return w;\n            };\n\n            /**\n             * Decodes a PeerInfo message from the specified reader or buffer.\n             * @function decode\n             * @memberof RPC.PeerInfo\n             * @static\n             * @param {$protobuf.Reader|Uint8Array} r Reader or buffer to decode from\n             * @param {number} [l] Message length if known beforehand\n             * @returns {RPC.PeerInfo} PeerInfo\n             * @throws {Error} If the payload is not a reader or valid buffer\n             * @throws {$protobuf.util.ProtocolError} If required fields are missing\n             */\n            PeerInfo.decode = function decode(r, l) {\n                if (!(r instanceof $Reader))\n                    r = $Reader.create(r);\n                var c = l === undefined ? r.len : r.pos + l, m = new $root.RPC.PeerInfo();\n                while (r.pos < c) {\n                    var t = r.uint32();\n                    switch (t >>> 3) {\n                    case 1:\n                        m.peerID = r.bytes();\n                        break;\n                    case 2:\n                        m.signedPeerRecord = r.bytes();\n                        break;\n                    default:\n                        r.skipType(t & 7);\n                        break;\n                    }\n                }\n                return m;\n            };\n\n            /**\n             * Creates a PeerInfo message from a plain object. Also converts values to their respective internal types.\n             * @function fromObject\n             * @memberof RPC.PeerInfo\n             * @static\n             * @param {Object.<string,*>} d Plain object\n             * @returns {RPC.PeerInfo} PeerInfo\n             */\n            PeerInfo.fromObject = function fromObject(d) {\n                if (d instanceof $root.RPC.PeerInfo)\n                    return d;\n                var m = new $root.RPC.PeerInfo();\n                if (d.peerID != null) {\n                    if (typeof d.peerID === \"string\")\n                        $util.base64.decode(d.peerID, m.peerID = $util.newBuffer($util.base64.length(d.peerID)), 0);\n                    else if (d.peerID.length)\n                        m.peerID = d.peerID;\n                }\n                if (d.signedPeerRecord != null) {\n                    if (typeof d.signedPeerRecord === \"string\")\n                        $util.base64.decode(d.signedPeerRecord, m.signedPeerRecord = $util.newBuffer($util.base64.length(d.signedPeerRecord)), 0);\n                    else if (d.signedPeerRecord.length)\n                        m.signedPeerRecord = d.signedPeerRecord;\n                }\n                return m;\n            };\n\n            /**\n             * Creates a plain object from a PeerInfo message. Also converts values to other types if specified.\n             * @function toObject\n             * @memberof RPC.PeerInfo\n             * @static\n             * @param {RPC.PeerInfo} m PeerInfo\n             * @param {$protobuf.IConversionOptions} [o] Conversion options\n             * @returns {Object.<string,*>} Plain object\n             */\n            PeerInfo.toObject = function toObject(m, o) {\n                if (!o)\n                    o = {};\n                var d = {};\n                if (m.peerID != null && m.hasOwnProperty(\"peerID\")) {\n                    d.peerID = o.bytes === String ? $util.base64.encode(m.peerID, 0, m.peerID.length) : o.bytes === Array ? Array.prototype.slice.call(m.peerID) : m.peerID;\n                    if (o.oneofs)\n                        d._peerID = \"peerID\";\n                }\n                if (m.signedPeerRecord != null && m.hasOwnProperty(\"signedPeerRecord\")) {\n                    d.signedPeerRecord = o.bytes === String ? $util.base64.encode(m.signedPeerRecord, 0, m.signedPeerRecord.length) : o.bytes === Array ? Array.prototype.slice.call(m.signedPeerRecord) : m.signedPeerRecord;\n                    if (o.oneofs)\n                        d._signedPeerRecord = \"signedPeerRecord\";\n                }\n                return d;\n            };\n\n            /**\n             * Converts this PeerInfo to JSON.\n             * @function toJSON\n             * @memberof RPC.PeerInfo\n             * @instance\n             * @returns {Object.<string,*>} JSON object\n             */\n            PeerInfo.prototype.toJSON = function toJSON() {\n                return this.constructor.toObject(this, $protobuf.util.toJSONOptions);\n            };\n\n            return PeerInfo;\n        })();\n\n        return RPC;\n    })();\n\n    return $root;\n});\n","import { maybe } from \"../globals/index.js\";\nexport var canUseWeakMap = typeof WeakMap === \"function\" &&\n    !maybe(function () { return navigator.product == \"ReactNative\" && !global.HermesInternal; });\nexport var canUseWeakSet = typeof WeakSet === \"function\";\nexport var canUseSymbol = typeof Symbol === \"function\" && typeof Symbol.for === \"function\";\nexport var canUseAsyncIteratorSymbol = canUseSymbol && Symbol.asyncIterator;\nexport var canUseDOM = typeof maybe(function () { return window.document.createElement; }) === \"function\";\nvar usingJSDOM = \n// Following advice found in this comment from @domenic (maintainer of jsdom):\n// https://github.com/jsdom/jsdom/issues/1537#issuecomment-229405327\n//\n// Since we control the version of Jest and jsdom used when running Apollo\n// Client tests, and that version is recent enought to include \" jsdom/x.y.z\"\n// at the end of the user agent string, I believe this case is all we need to\n// check. Testing for \"Node.js\" was recommended for backwards compatibility\n// with older version of jsdom, but we don't have that problem.\nmaybe(function () { return navigator.userAgent.indexOf(\"jsdom\") >= 0; }) || false;\n// Our tests should all continue to pass if we remove this !usingJSDOM\n// condition, thereby allowing useLayoutEffect when using jsdom. Unfortunately,\n// if we allow useLayoutEffect, then useSyncExternalStore generates many\n// warnings about useLayoutEffect doing nothing on the server. While these\n// warnings are harmless, this !usingJSDOM condition seems to be the best way to\n// prevent them (i.e. skipping useLayoutEffect when using jsdom).\nexport var canUseLayoutEffect = canUseDOM && !usingJSDOM;\n//# sourceMappingURL=canUse.js.map","import { parseIP, parseIPv4, parseIPv6 } from \"./parse.js\";\n/** Check if `input` is IPv4. */\nexport function isIPv4(input) {\n    return Boolean(parseIPv4(input));\n}\n/** Check if `input` is IPv6. */\nexport function isIPv6(input) {\n    return Boolean(parseIPv6(input));\n}\n/** Check if `input` is IPv4 or IPv6. */\nexport function isIP(input) {\n    return Boolean(parseIP(input));\n}\n/**\n * @returns `6` if `input` is IPv6, `4` if `input` is IPv4, or `undefined` if `input` is neither.\n */\nexport function ipVersion(input) {\n    if (isIPv4(input)) {\n        return 4;\n    }\n    else if (isIPv6(input)) {\n        return 6;\n    }\n    else {\n        return undefined;\n    }\n}\n//# sourceMappingURL=is-ip.js.map","import { Parser } from \"./parser.js\";\n// See https://stackoverflow.com/questions/166132/maximum-length-of-the-textual-representation-of-an-ipv6-address\nconst MAX_IPV6_LENGTH = 45;\nconst MAX_IPV4_LENGTH = 15;\nconst parser = new Parser();\n/** Parse `input` into IPv4 bytes. */\nexport function parseIPv4(input) {\n    if (input.length > MAX_IPV4_LENGTH) {\n        return undefined;\n    }\n    return parser.new(input).parseWith(() => parser.readIPv4Addr());\n}\n/** Parse `input` into IPv6 bytes. */\nexport function parseIPv6(input) {\n    if (input.length > MAX_IPV6_LENGTH) {\n        return undefined;\n    }\n    return parser.new(input).parseWith(() => parser.readIPv6Addr());\n}\n/** Parse `input` into IPv4 or IPv6 bytes. */\nexport function parseIP(input) {\n    if (input.length > MAX_IPV6_LENGTH) {\n        return undefined;\n    }\n    return parser.new(input).parseWith(() => parser.readIPAddr());\n}\n//# sourceMappingURL=parse.js.map","/* eslint-disable @typescript-eslint/no-unsafe-return */\nexport class Parser {\n    index = 0;\n    input = \"\";\n    new(input) {\n        this.index = 0;\n        this.input = input;\n        return this;\n    }\n    /** Run a parser, and restore the pre-parse state if it fails. */\n    readAtomically(fn) {\n        const index = this.index;\n        const result = fn();\n        if (result === undefined) {\n            this.index = index;\n        }\n        return result;\n    }\n    /** Run a parser, but fail if the entire input wasn't consumed. Doesn't run atomically. */\n    parseWith(fn) {\n        const result = fn();\n        if (this.index !== this.input.length) {\n            return undefined;\n        }\n        return result;\n    }\n    /** Peek the next character from the input */\n    peekChar() {\n        if (this.index >= this.input.length) {\n            return undefined;\n        }\n        return this.input[this.index];\n    }\n    /** Read the next character from the input */\n    readChar() {\n        if (this.index >= this.input.length) {\n            return undefined;\n        }\n        return this.input[this.index++];\n    }\n    /** Read the next character from the input if it matches the target. */\n    readGivenChar(target) {\n        return this.readAtomically(() => {\n            const char = this.readChar();\n            if (char !== target) {\n                return undefined;\n            }\n            return char;\n        });\n    }\n    /**\n     * Helper for reading separators in an indexed loop. Reads the separator\n     * character iff index > 0, then runs the parser. When used in a loop,\n     * the separator character will only be read on index > 0 (see\n     * readIPv4Addr for an example)\n     */\n    readSeparator(sep, index, inner) {\n        return this.readAtomically(() => {\n            if (index > 0) {\n                if (this.readGivenChar(sep) === undefined) {\n                    return undefined;\n                }\n            }\n            return inner();\n        });\n    }\n    /**\n     * Read a number off the front of the input in the given radix, stopping\n     * at the first non-digit character or eof. Fails if the number has more\n     * digits than max_digits or if there is no number.\n     */\n    readNumber(radix, maxDigits, allowZeroPrefix, maxBytes) {\n        return this.readAtomically(() => {\n            let result = 0;\n            let digitCount = 0;\n            const leadingChar = this.peekChar();\n            if (leadingChar === undefined) {\n                return undefined;\n            }\n            const hasLeadingZero = leadingChar === \"0\";\n            const maxValue = 2 ** (8 * maxBytes) - 1;\n            // eslint-disable-next-line no-constant-condition\n            while (true) {\n                const digit = this.readAtomically(() => {\n                    const char = this.readChar();\n                    if (char === undefined) {\n                        return undefined;\n                    }\n                    const num = Number.parseInt(char, radix);\n                    if (Number.isNaN(num)) {\n                        return undefined;\n                    }\n                    return num;\n                });\n                if (digit === undefined) {\n                    break;\n                }\n                result *= radix;\n                result += digit;\n                if (result > maxValue) {\n                    return undefined;\n                }\n                digitCount += 1;\n                if (maxDigits !== undefined) {\n                    if (digitCount > maxDigits) {\n                        return undefined;\n                    }\n                }\n            }\n            if (digitCount === 0) {\n                return undefined;\n            }\n            else if (!allowZeroPrefix && hasLeadingZero && digitCount > 1) {\n                return undefined;\n            }\n            else {\n                return result;\n            }\n        });\n    }\n    /** Read an IPv4 address. */\n    readIPv4Addr() {\n        return this.readAtomically(() => {\n            const out = new Uint8Array(4);\n            for (let i = 0; i < out.length; i++) {\n                const ix = this.readSeparator(\".\", i, () => this.readNumber(10, 3, false, 1));\n                if (ix === undefined) {\n                    return undefined;\n                }\n                out[i] = ix;\n            }\n            return out;\n        });\n    }\n    /** Read an IPv6 Address. */\n    readIPv6Addr() {\n        /**\n         * Read a chunk of an IPv6 address into `groups`. Returns the number\n         * of groups read, along with a bool indicating if an embedded\n         * trailing IPv4 address was read. Specifically, read a series of\n         * colon-separated IPv6 groups (0x0000 - 0xFFFF), with an optional\n         * trailing embedded IPv4 address.\n         */\n        const readGroups = (groups) => {\n            for (let i = 0; i < groups.length / 2; i++) {\n                const ix = i * 2;\n                // Try to read a trailing embedded IPv4 address. There must be at least 4 groups left.\n                if (i < groups.length - 3) {\n                    const ipv4 = this.readSeparator(\":\", i, () => this.readIPv4Addr());\n                    if (ipv4 !== undefined) {\n                        groups[ix] = ipv4[0];\n                        groups[ix + 1] = ipv4[1];\n                        groups[ix + 2] = ipv4[2];\n                        groups[ix + 3] = ipv4[3];\n                        return [ix + 4, true];\n                    }\n                }\n                const group = this.readSeparator(\":\", i, () => this.readNumber(16, 4, true, 2));\n                if (group === undefined) {\n                    return [ix, false];\n                }\n                groups[ix] = group >> 8;\n                groups[ix + 1] = group & 255;\n            }\n            return [groups.length, false];\n        };\n        return this.readAtomically(() => {\n            // Read the front part of the address; either the whole thing, or up to the first ::\n            const head = new Uint8Array(16);\n            const [headSize, headIp4] = readGroups(head);\n            if (headSize === 16) {\n                return head;\n            }\n            // IPv4 part is not allowed before `::`\n            if (headIp4) {\n                return undefined;\n            }\n            // Read `::` if previous code parsed less than 8 groups.\n            // `::` indicates one or more groups of 16 bits of zeros.\n            if (this.readGivenChar(\":\") === undefined) {\n                return undefined;\n            }\n            if (this.readGivenChar(\":\") === undefined) {\n                return undefined;\n            }\n            // Read the back part of the address. The :: must contain at least one\n            // set of zeroes, so our max length is 7.\n            const tail = new Uint8Array(14);\n            const limit = 16 - (headSize + 2);\n            const [tailSize] = readGroups(tail.subarray(0, limit));\n            // Concat the head and tail of the IP address\n            head.set(tail.subarray(0, tailSize), 16 - tailSize);\n            return head;\n        });\n    }\n    /** Read an IP Address, either IPv4 or IPv6. */\n    readIPAddr() {\n        return this.readIPv4Addr() ?? this.readIPv6Addr();\n    }\n}\n//# sourceMappingURL=parser.js.map","// base-x encoding / decoding\n// Copyright (c) 2018 base-x contributors\n// Copyright (c) 2014-2018 The Bitcoin Core developers (base58.cpp)\n// Distributed under the MIT software license, see the accompanying\n// file LICENSE or http://www.opensource.org/licenses/mit-license.php.\nfunction base (ALPHABET, name) {\n  if (ALPHABET.length >= 255) { throw new TypeError('Alphabet too long') }\n  var BASE_MAP = new Uint8Array(256);\n  for (var j = 0; j < BASE_MAP.length; j++) {\n    BASE_MAP[j] = 255;\n  }\n  for (var i = 0; i < ALPHABET.length; i++) {\n    var x = ALPHABET.charAt(i);\n    var xc = x.charCodeAt(0);\n    if (BASE_MAP[xc] !== 255) { throw new TypeError(x + ' is ambiguous') }\n    BASE_MAP[xc] = i;\n  }\n  var BASE = ALPHABET.length;\n  var LEADER = ALPHABET.charAt(0);\n  var FACTOR = Math.log(BASE) / Math.log(256); // log(BASE) / log(256), rounded up\n  var iFACTOR = Math.log(256) / Math.log(BASE); // log(256) / log(BASE), rounded up\n  function encode (source) {\n    if (source instanceof Uint8Array) ; else if (ArrayBuffer.isView(source)) {\n      source = new Uint8Array(source.buffer, source.byteOffset, source.byteLength);\n    } else if (Array.isArray(source)) {\n      source = Uint8Array.from(source);\n    }\n    if (!(source instanceof Uint8Array)) { throw new TypeError('Expected Uint8Array') }\n    if (source.length === 0) { return '' }\n        // Skip & count leading zeroes.\n    var zeroes = 0;\n    var length = 0;\n    var pbegin = 0;\n    var pend = source.length;\n    while (pbegin !== pend && source[pbegin] === 0) {\n      pbegin++;\n      zeroes++;\n    }\n        // Allocate enough space in big-endian base58 representation.\n    var size = ((pend - pbegin) * iFACTOR + 1) >>> 0;\n    var b58 = new Uint8Array(size);\n        // Process the bytes.\n    while (pbegin !== pend) {\n      var carry = source[pbegin];\n            // Apply \"b58 = b58 * 256 + ch\".\n      var i = 0;\n      for (var it1 = size - 1; (carry !== 0 || i < length) && (it1 !== -1); it1--, i++) {\n        carry += (256 * b58[it1]) >>> 0;\n        b58[it1] = (carry % BASE) >>> 0;\n        carry = (carry / BASE) >>> 0;\n      }\n      if (carry !== 0) { throw new Error('Non-zero carry') }\n      length = i;\n      pbegin++;\n    }\n        // Skip leading zeroes in base58 result.\n    var it2 = size - length;\n    while (it2 !== size && b58[it2] === 0) {\n      it2++;\n    }\n        // Translate the result into a string.\n    var str = LEADER.repeat(zeroes);\n    for (; it2 < size; ++it2) { str += ALPHABET.charAt(b58[it2]); }\n    return str\n  }\n  function decodeUnsafe (source) {\n    if (typeof source !== 'string') { throw new TypeError('Expected String') }\n    if (source.length === 0) { return new Uint8Array() }\n    var psz = 0;\n        // Skip leading spaces.\n    if (source[psz] === ' ') { return }\n        // Skip and count leading '1's.\n    var zeroes = 0;\n    var length = 0;\n    while (source[psz] === LEADER) {\n      zeroes++;\n      psz++;\n    }\n        // Allocate enough space in big-endian base256 representation.\n    var size = (((source.length - psz) * FACTOR) + 1) >>> 0; // log(58) / log(256), rounded up.\n    var b256 = new Uint8Array(size);\n        // Process the characters.\n    while (source[psz]) {\n            // Decode character\n      var carry = BASE_MAP[source.charCodeAt(psz)];\n            // Invalid character\n      if (carry === 255) { return }\n      var i = 0;\n      for (var it3 = size - 1; (carry !== 0 || i < length) && (it3 !== -1); it3--, i++) {\n        carry += (BASE * b256[it3]) >>> 0;\n        b256[it3] = (carry % 256) >>> 0;\n        carry = (carry / 256) >>> 0;\n      }\n      if (carry !== 0) { throw new Error('Non-zero carry') }\n      length = i;\n      psz++;\n    }\n        // Skip trailing spaces.\n    if (source[psz] === ' ') { return }\n        // Skip leading zeroes in b256.\n    var it4 = size - length;\n    while (it4 !== size && b256[it4] === 0) {\n      it4++;\n    }\n    var vch = new Uint8Array(zeroes + (size - it4));\n    var j = zeroes;\n    while (it4 !== size) {\n      vch[j++] = b256[it4++];\n    }\n    return vch\n  }\n  function decode (string) {\n    var buffer = decodeUnsafe(string);\n    if (buffer) { return buffer }\n    throw new Error(`Non-${name} character`)\n  }\n  return {\n    encode: encode,\n    decodeUnsafe: decodeUnsafe,\n    decode: decode\n  }\n}\nvar src = base;\n\nvar _brrp__multiformats_scope_baseX = src;\n\nexport default _brrp__multiformats_scope_baseX;\n","const empty = new Uint8Array(0)\n\n/**\n * @param {Uint8Array} d\n */\nconst toHex = d => d.reduce((hex, byte) => hex + byte.toString(16).padStart(2, '0'), '')\n\n/**\n * @param {string} hex\n */\nconst fromHex = hex => {\n  const hexes = hex.match(/../g)\n  return hexes ? new Uint8Array(hexes.map(b => parseInt(b, 16))) : empty\n}\n\n/**\n * @param {Uint8Array} aa\n * @param {Uint8Array} bb\n */\nconst equals = (aa, bb) => {\n  if (aa === bb) return true\n  if (aa.byteLength !== bb.byteLength) {\n    return false\n  }\n\n  for (let ii = 0; ii < aa.byteLength; ii++) {\n    if (aa[ii] !== bb[ii]) {\n      return false\n    }\n  }\n\n  return true\n}\n\n/**\n * @param {ArrayBufferView|ArrayBuffer|Uint8Array} o\n * @returns {Uint8Array}\n */\nconst coerce = o => {\n  if (o instanceof Uint8Array && o.constructor.name === 'Uint8Array') return o\n  if (o instanceof ArrayBuffer) return new Uint8Array(o)\n  if (ArrayBuffer.isView(o)) {\n    return new Uint8Array(o.buffer, o.byteOffset, o.byteLength)\n  }\n  throw new Error('Unknown type, must be binary type')\n}\n\n/**\n * @param {any} o\n * @returns {o is ArrayBuffer|ArrayBufferView}\n */\nconst isBinary = o =>\n  o instanceof ArrayBuffer || ArrayBuffer.isView(o)\n\n/**\n * @param {string} str\n * @returns {Uint8Array}\n */\nconst fromString = str => (new TextEncoder()).encode(str)\n\n/**\n * @param {Uint8Array} b\n * @returns {string}\n */\nconst toString = b => (new TextDecoder()).decode(b)\n\nexport { equals, coerce, isBinary, fromHex, toHex, fromString, toString, empty }\n","import basex from '../../vendor/base-x.js'\nimport { coerce } from '../bytes.js'\n// Linter can't see that API is used in types.\n// eslint-disable-next-line\nimport * as API from './interface.js'\n\n/**\n * Class represents both BaseEncoder and MultibaseEncoder meaning it\n * can be used to encode to multibase or base encode without multibase\n * prefix.\n *\n * @class\n * @template {string} Base\n * @template {string} Prefix\n * @implements {API.MultibaseEncoder<Prefix>}\n * @implements {API.BaseEncoder}\n */\nclass Encoder {\n  /**\n   * @param {Base} name\n   * @param {Prefix} prefix\n   * @param {(bytes:Uint8Array) => string} baseEncode\n   */\n  constructor (name, prefix, baseEncode) {\n    this.name = name\n    this.prefix = prefix\n    this.baseEncode = baseEncode\n  }\n\n  /**\n   * @param {Uint8Array} bytes\n   * @returns {API.Multibase<Prefix>}\n   */\n  encode (bytes) {\n    if (bytes instanceof Uint8Array) {\n      return `${this.prefix}${this.baseEncode(bytes)}`\n    } else {\n      throw Error('Unknown type, must be binary type')\n    }\n  }\n}\n\n/**\n * @template {string} Prefix\n */\n/**\n * Class represents both BaseDecoder and MultibaseDecoder so it could be used\n * to decode multibases (with matching prefix) or just base decode strings\n * with corresponding base encoding.\n *\n * @class\n * @template {string} Base\n * @template {string} Prefix\n * @implements {API.MultibaseDecoder<Prefix>}\n * @implements {API.UnibaseDecoder<Prefix>}\n * @implements {API.BaseDecoder}\n */\nclass Decoder {\n  /**\n   * @param {Base} name\n   * @param {Prefix} prefix\n   * @param {(text:string) => Uint8Array} baseDecode\n   */\n  constructor (name, prefix, baseDecode) {\n    this.name = name\n    this.prefix = prefix\n    /* c8 ignore next 3 */\n    if (prefix.codePointAt(0) === undefined) {\n      throw new Error('Invalid prefix character')\n    }\n    /** @private */\n    this.prefixCodePoint = /** @type {number} */ (prefix.codePointAt(0))\n    this.baseDecode = baseDecode\n  }\n\n  /**\n   * @param {string} text\n   */\n  decode (text) {\n    if (typeof text === 'string') {\n      if (text.codePointAt(0) !== this.prefixCodePoint) {\n        throw Error(`Unable to decode multibase string ${JSON.stringify(text)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`)\n      }\n      return this.baseDecode(text.slice(this.prefix.length))\n    } else {\n      throw Error('Can only multibase decode strings')\n    }\n  }\n\n  /**\n   * @template {string} OtherPrefix\n   * @param {API.UnibaseDecoder<OtherPrefix>|ComposedDecoder<OtherPrefix>} decoder\n   * @returns {ComposedDecoder<Prefix|OtherPrefix>}\n   */\n  or (decoder) {\n    return or(this, decoder)\n  }\n}\n\n/**\n * @template {string} Prefix\n * @typedef {Record<Prefix, API.UnibaseDecoder<Prefix>>} Decoders\n */\n\n/**\n * @template {string} Prefix\n * @implements {API.MultibaseDecoder<Prefix>}\n * @implements {API.CombobaseDecoder<Prefix>}\n */\nclass ComposedDecoder {\n  /**\n   * @param {Decoders<Prefix>} decoders\n   */\n  constructor (decoders) {\n    this.decoders = decoders\n  }\n\n  /**\n   * @template {string} OtherPrefix\n   * @param {API.UnibaseDecoder<OtherPrefix>|ComposedDecoder<OtherPrefix>} decoder\n   * @returns {ComposedDecoder<Prefix|OtherPrefix>}\n   */\n  or (decoder) {\n    return or(this, decoder)\n  }\n\n  /**\n   * @param {string} input\n   * @returns {Uint8Array}\n   */\n  decode (input) {\n    const prefix = /** @type {Prefix} */ (input[0])\n    const decoder = this.decoders[prefix]\n    if (decoder) {\n      return decoder.decode(input)\n    } else {\n      throw RangeError(`Unable to decode multibase string ${JSON.stringify(input)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)\n    }\n  }\n}\n\n/**\n * @template {string} L\n * @template {string} R\n * @param {API.UnibaseDecoder<L>|API.CombobaseDecoder<L>} left\n * @param {API.UnibaseDecoder<R>|API.CombobaseDecoder<R>} right\n * @returns {ComposedDecoder<L|R>}\n */\nexport const or = (left, right) => new ComposedDecoder(/** @type {Decoders<L|R>} */({\n  ...(left.decoders || { [/** @type API.UnibaseDecoder<L> */(left).prefix]: left }),\n  ...(right.decoders || { [/** @type API.UnibaseDecoder<R> */(right).prefix]: right })\n}))\n\n/**\n * @class\n * @template {string} Base\n * @template {string} Prefix\n * @implements {API.MultibaseCodec<Prefix>}\n * @implements {API.MultibaseEncoder<Prefix>}\n * @implements {API.MultibaseDecoder<Prefix>}\n * @implements {API.BaseCodec}\n * @implements {API.BaseEncoder}\n * @implements {API.BaseDecoder}\n */\nexport class Codec {\n  /**\n   * @param {Base} name\n   * @param {Prefix} prefix\n   * @param {(bytes:Uint8Array) => string} baseEncode\n   * @param {(text:string) => Uint8Array} baseDecode\n   */\n  constructor (name, prefix, baseEncode, baseDecode) {\n    this.name = name\n    this.prefix = prefix\n    this.baseEncode = baseEncode\n    this.baseDecode = baseDecode\n    this.encoder = new Encoder(name, prefix, baseEncode)\n    this.decoder = new Decoder(name, prefix, baseDecode)\n  }\n\n  /**\n   * @param {Uint8Array} input\n   */\n  encode (input) {\n    return this.encoder.encode(input)\n  }\n\n  /**\n   * @param {string} input\n   */\n  decode (input) {\n    return this.decoder.decode(input)\n  }\n}\n\n/**\n * @template {string} Base\n * @template {string} Prefix\n * @param {object} options\n * @param {Base} options.name\n * @param {Prefix} options.prefix\n * @param {(bytes:Uint8Array) => string} options.encode\n * @param {(input:string) => Uint8Array} options.decode\n * @returns {Codec<Base, Prefix>}\n */\nexport const from = ({ name, prefix, encode, decode }) =>\n  new Codec(name, prefix, encode, decode)\n\n/**\n * @template {string} Base\n * @template {string} Prefix\n * @param {object} options\n * @param {Base} options.name\n * @param {Prefix} options.prefix\n * @param {string} options.alphabet\n * @returns {Codec<Base, Prefix>}\n */\nexport const baseX = ({ prefix, name, alphabet }) => {\n  const { encode, decode } = basex(alphabet, name)\n  return from({\n    prefix,\n    name,\n    encode,\n    /**\n     * @param {string} text\n     */\n    decode: text => coerce(decode(text))\n  })\n}\n\n/**\n * @param {string} string\n * @param {string} alphabet\n * @param {number} bitsPerChar\n * @param {string} name\n * @returns {Uint8Array}\n */\nconst decode = (string, alphabet, bitsPerChar, name) => {\n  // Build the character lookup table:\n  /** @type {Record<string, number>} */\n  const codes = {}\n  for (let i = 0; i < alphabet.length; ++i) {\n    codes[alphabet[i]] = i\n  }\n\n  // Count the padding bytes:\n  let end = string.length\n  while (string[end - 1] === '=') {\n    --end\n  }\n\n  // Allocate the output:\n  const out = new Uint8Array((end * bitsPerChar / 8) | 0)\n\n  // Parse the data:\n  let bits = 0 // Number of bits currently in the buffer\n  let buffer = 0 // Bits waiting to be written out, MSB first\n  let written = 0 // Next byte to write\n  for (let i = 0; i < end; ++i) {\n    // Read one character from the string:\n    const value = codes[string[i]]\n    if (value === undefined) {\n      throw new SyntaxError(`Non-${name} character`)\n    }\n\n    // Append the bits to the buffer:\n    buffer = (buffer << bitsPerChar) | value\n    bits += bitsPerChar\n\n    // Write out some bits if the buffer has a byte's worth:\n    if (bits >= 8) {\n      bits -= 8\n      out[written++] = 0xff & (buffer >> bits)\n    }\n  }\n\n  // Verify that we have received just enough bits:\n  if (bits >= bitsPerChar || 0xff & (buffer << (8 - bits))) {\n    throw new SyntaxError('Unexpected end of data')\n  }\n\n  return out\n}\n\n/**\n * @param {Uint8Array} data\n * @param {string} alphabet\n * @param {number} bitsPerChar\n * @returns {string}\n */\nconst encode = (data, alphabet, bitsPerChar) => {\n  const pad = alphabet[alphabet.length - 1] === '='\n  const mask = (1 << bitsPerChar) - 1\n  let out = ''\n\n  let bits = 0 // Number of bits currently in the buffer\n  let buffer = 0 // Bits waiting to be written out, MSB first\n  for (let i = 0; i < data.length; ++i) {\n    // Slurp data into the buffer:\n    buffer = (buffer << 8) | data[i]\n    bits += 8\n\n    // Write out as much as we can:\n    while (bits > bitsPerChar) {\n      bits -= bitsPerChar\n      out += alphabet[mask & (buffer >> bits)]\n    }\n  }\n\n  // Partial character:\n  if (bits) {\n    out += alphabet[mask & (buffer << (bitsPerChar - bits))]\n  }\n\n  // Add padding characters until we hit a byte boundary:\n  if (pad) {\n    while ((out.length * bitsPerChar) & 7) {\n      out += '='\n    }\n  }\n\n  return out\n}\n\n/**\n * RFC4648 Factory\n *\n * @template {string} Base\n * @template {string} Prefix\n * @param {object} options\n * @param {Base} options.name\n * @param {Prefix} options.prefix\n * @param {string} options.alphabet\n * @param {number} options.bitsPerChar\n */\nexport const rfc4648 = ({ name, prefix, bitsPerChar, alphabet }) => {\n  return from({\n    prefix,\n    name,\n    encode (input) {\n      return encode(input, alphabet, bitsPerChar)\n    },\n    decode (input) {\n      return decode(input, alphabet, bitsPerChar, name)\n    }\n  })\n}\n","import { baseX } from './base.js'\n\nexport const base58btc = baseX({\n  name: 'base58btc',\n  prefix: 'z',\n  alphabet: '123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz'\n})\n\nexport const base58flickr = baseX({\n  name: 'base58flickr',\n  prefix: 'Z',\n  alphabet: '123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ'\n})\n","import { baseX } from './base.js'\n\nexport const base10 = baseX({\n  prefix: '9',\n  name: 'base10',\n  alphabet: '0123456789'\n})\n","// @ts-check\n\nimport { rfc4648 } from './base.js'\n\nexport const base16 = rfc4648({\n  prefix: 'f',\n  name: 'base16',\n  alphabet: '0123456789abcdef',\n  bitsPerChar: 4\n})\n\nexport const base16upper = rfc4648({\n  prefix: 'F',\n  name: 'base16upper',\n  alphabet: '0123456789ABCDEF',\n  bitsPerChar: 4\n})\n","// @ts-check\n\nimport { rfc4648 } from './base.js'\n\nexport const base2 = rfc4648({\n  prefix: '0',\n  name: 'base2',\n  alphabet: '01',\n  bitsPerChar: 1\n})\n","import { from } from './base.js'\n\nconst alphabet = Array.from('🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂')\nconst alphabetBytesToChars = /** @type {string[]} */ (alphabet.reduce((p, c, i) => { p[i] = c; return p }, /** @type {string[]} */([])))\nconst alphabetCharsToBytes = /** @type {number[]} */ (alphabet.reduce((p, c, i) => { p[/** @type {number} */ (c.codePointAt(0))] = i; return p }, /** @type {number[]} */([])))\n\n/**\n * @param {Uint8Array} data\n * @returns {string}\n */\nfunction encode (data) {\n  return data.reduce((p, c) => {\n    p += alphabetBytesToChars[c]\n    return p\n  }, '')\n}\n\n/**\n * @param {string} str\n * @returns {Uint8Array}\n */\nfunction decode (str) {\n  const byts = []\n  for (const char of str) {\n    const byt = alphabetCharsToBytes[/** @type {number} */ (char.codePointAt(0))]\n    if (byt === undefined) {\n      throw new Error(`Non-base256emoji character: ${char}`)\n    }\n    byts.push(byt)\n  }\n  return new Uint8Array(byts)\n}\n\nexport const base256emoji = from({\n  prefix: '🚀',\n  name: 'base256emoji',\n  encode,\n  decode\n})\n","import { rfc4648 } from './base.js'\n\nexport const base32 = rfc4648({\n  prefix: 'b',\n  name: 'base32',\n  alphabet: 'abcdefghijklmnopqrstuvwxyz234567',\n  bitsPerChar: 5\n})\n\nexport const base32upper = rfc4648({\n  prefix: 'B',\n  name: 'base32upper',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ234567',\n  bitsPerChar: 5\n})\n\nexport const base32pad = rfc4648({\n  prefix: 'c',\n  name: 'base32pad',\n  alphabet: 'abcdefghijklmnopqrstuvwxyz234567=',\n  bitsPerChar: 5\n})\n\nexport const base32padupper = rfc4648({\n  prefix: 'C',\n  name: 'base32padupper',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=',\n  bitsPerChar: 5\n})\n\nexport const base32hex = rfc4648({\n  prefix: 'v',\n  name: 'base32hex',\n  alphabet: '0123456789abcdefghijklmnopqrstuv',\n  bitsPerChar: 5\n})\n\nexport const base32hexupper = rfc4648({\n  prefix: 'V',\n  name: 'base32hexupper',\n  alphabet: '0123456789ABCDEFGHIJKLMNOPQRSTUV',\n  bitsPerChar: 5\n})\n\nexport const base32hexpad = rfc4648({\n  prefix: 't',\n  name: 'base32hexpad',\n  alphabet: '0123456789abcdefghijklmnopqrstuv=',\n  bitsPerChar: 5\n})\n\nexport const base32hexpadupper = rfc4648({\n  prefix: 'T',\n  name: 'base32hexpadupper',\n  alphabet: '0123456789ABCDEFGHIJKLMNOPQRSTUV=',\n  bitsPerChar: 5\n})\n\nexport const base32z = rfc4648({\n  prefix: 'h',\n  name: 'base32z',\n  alphabet: 'ybndrfg8ejkmcpqxot1uwisza345h769',\n  bitsPerChar: 5\n})\n","import { baseX } from './base.js'\n\nexport const base36 = baseX({\n  prefix: 'k',\n  name: 'base36',\n  alphabet: '0123456789abcdefghijklmnopqrstuvwxyz'\n})\n\nexport const base36upper = baseX({\n  prefix: 'K',\n  name: 'base36upper',\n  alphabet: '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ'\n})\n","// @ts-check\n\nimport { rfc4648 } from './base.js'\n\nexport const base64 = rfc4648({\n  prefix: 'm',\n  name: 'base64',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',\n  bitsPerChar: 6\n})\n\nexport const base64pad = rfc4648({\n  prefix: 'M',\n  name: 'base64pad',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=',\n  bitsPerChar: 6\n})\n\nexport const base64url = rfc4648({\n  prefix: 'u',\n  name: 'base64url',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_',\n  bitsPerChar: 6\n})\n\nexport const base64urlpad = rfc4648({\n  prefix: 'U',\n  name: 'base64urlpad',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=',\n  bitsPerChar: 6\n})\n","// @ts-check\n\nimport { rfc4648 } from './base.js'\n\nexport const base8 = rfc4648({\n  prefix: '7',\n  name: 'base8',\n  alphabet: '01234567',\n  bitsPerChar: 3\n})\n","// @ts-check\n\nimport { fromString, toString } from '../bytes.js'\nimport { from } from './base.js'\n\nexport const identity = from({\n  prefix: '\\x00',\n  name: 'identity',\n  encode: (buf) => toString(buf),\n  decode: (str) => fromString(str)\n})\n","// @ts-check\n\n/**\n * @template T\n * @typedef {import('./interface.js').ByteView<T>} ByteView\n */\n\nconst textEncoder = new TextEncoder()\nconst textDecoder = new TextDecoder()\n\nexport const name = 'json'\nexport const code = 0x0200\n\n/**\n * @template T\n * @param {T} node\n * @returns {ByteView<T>}\n */\nexport const encode = (node) => textEncoder.encode(JSON.stringify(node))\n\n/**\n * @template T\n * @param {ByteView<T>} data\n * @returns {T}\n */\nexport const decode = (data) => JSON.parse(textDecoder.decode(data))\n","// @ts-check\n\nimport { coerce } from '../bytes.js'\n\n/**\n * @template T\n * @typedef {import('./interface.js').ByteView<T>} ByteView\n */\n\nexport const name = 'raw'\nexport const code = 0x55\n\n/**\n * @param {Uint8Array} node\n * @returns {ByteView<Uint8Array>}\n */\nexport const encode = (node) => coerce(node)\n\n/**\n * @param {ByteView<Uint8Array>} data\n * @returns {Uint8Array}\n */\nexport const decode = (data) => coerce(data)\n","var encode_1 = encode;\n\nvar MSB = 0x80\n  , REST = 0x7F\n  , MSBALL = ~REST\n  , INT = Math.pow(2, 31);\n\nfunction encode(num, out, offset) {\n  out = out || [];\n  offset = offset || 0;\n  var oldOffset = offset;\n\n  while(num >= INT) {\n    out[offset++] = (num & 0xFF) | MSB;\n    num /= 128;\n  }\n  while(num & MSBALL) {\n    out[offset++] = (num & 0xFF) | MSB;\n    num >>>= 7;\n  }\n  out[offset] = num | 0;\n  \n  encode.bytes = offset - oldOffset + 1;\n  \n  return out\n}\n\nvar decode = read;\n\nvar MSB$1 = 0x80\n  , REST$1 = 0x7F;\n\nfunction read(buf, offset) {\n  var res    = 0\n    , offset = offset || 0\n    , shift  = 0\n    , counter = offset\n    , b\n    , l = buf.length;\n\n  do {\n    if (counter >= l) {\n      read.bytes = 0;\n      throw new RangeError('Could not decode varint')\n    }\n    b = buf[counter++];\n    res += shift < 28\n      ? (b & REST$1) << shift\n      : (b & REST$1) * Math.pow(2, shift);\n    shift += 7;\n  } while (b >= MSB$1)\n\n  read.bytes = counter - offset;\n\n  return res\n}\n\nvar N1 = Math.pow(2,  7);\nvar N2 = Math.pow(2, 14);\nvar N3 = Math.pow(2, 21);\nvar N4 = Math.pow(2, 28);\nvar N5 = Math.pow(2, 35);\nvar N6 = Math.pow(2, 42);\nvar N7 = Math.pow(2, 49);\nvar N8 = Math.pow(2, 56);\nvar N9 = Math.pow(2, 63);\n\nvar length = function (value) {\n  return (\n    value < N1 ? 1\n  : value < N2 ? 2\n  : value < N3 ? 3\n  : value < N4 ? 4\n  : value < N5 ? 5\n  : value < N6 ? 6\n  : value < N7 ? 7\n  : value < N8 ? 8\n  : value < N9 ? 9\n  :              10\n  )\n};\n\nvar varint = {\n    encode: encode_1\n  , decode: decode\n  , encodingLength: length\n};\n\nvar _brrp_varint = varint;\n\nexport default _brrp_varint;\n","import varint from '../vendor/varint.js'\n\n/**\n * @param {Uint8Array} data\n * @param {number} [offset=0]\n * @returns {[number, number]}\n */\nexport const decode = (data, offset = 0) => {\n  const code = varint.decode(data, offset)\n  return [code, varint.decode.bytes]\n}\n\n/**\n * @param {number} int\n * @param {Uint8Array} target\n * @param {number} [offset=0]\n */\nexport const encodeTo = (int, target, offset = 0) => {\n  varint.encode(int, target, offset)\n  return target\n}\n\n/**\n * @param {number} int\n * @returns {number}\n */\nexport const encodingLength = (int) => {\n  return varint.encodingLength(int)\n}\n","import { coerce, equals as equalBytes } from '../bytes.js'\nimport * as varint from '../varint.js'\n\n/**\n * Creates a multihash digest.\n *\n * @template {number} Code\n * @param {Code} code\n * @param {Uint8Array} digest\n */\nexport const create = (code, digest) => {\n  const size = digest.byteLength\n  const sizeOffset = varint.encodingLength(code)\n  const digestOffset = sizeOffset + varint.encodingLength(size)\n\n  const bytes = new Uint8Array(digestOffset + size)\n  varint.encodeTo(code, bytes, 0)\n  varint.encodeTo(size, bytes, sizeOffset)\n  bytes.set(digest, digestOffset)\n\n  return new Digest(code, size, digest, bytes)\n}\n\n/**\n * Turns bytes representation of multihash digest into an instance.\n *\n * @param {Uint8Array} multihash\n * @returns {MultihashDigest}\n */\nexport const decode = (multihash) => {\n  const bytes = coerce(multihash)\n  const [code, sizeOffset] = varint.decode(bytes)\n  const [size, digestOffset] = varint.decode(bytes.subarray(sizeOffset))\n  const digest = bytes.subarray(sizeOffset + digestOffset)\n\n  if (digest.byteLength !== size) {\n    throw new Error('Incorrect length')\n  }\n\n  return new Digest(code, size, digest, bytes)\n}\n\n/**\n * @param {MultihashDigest} a\n * @param {unknown} b\n * @returns {b is MultihashDigest}\n */\nexport const equals = (a, b) => {\n  if (a === b) {\n    return true\n  } else {\n    const data = /** @type {{code?:unknown, size?:unknown, bytes?:unknown}} */(b)\n\n    return (\n      a.code === data.code &&\n      a.size === data.size &&\n      data.bytes instanceof Uint8Array &&\n      equalBytes(a.bytes, data.bytes)\n    )\n  }\n}\n\n/**\n * @typedef {import('./interface.js').MultihashDigest} MultihashDigest\n */\n\n/**\n * Represents a multihash digest which carries information about the\n * hashing algorithm and an actual hash digest.\n *\n * @template {number} Code\n * @template {number} Size\n * @class\n * @implements {MultihashDigest}\n */\nexport class Digest {\n  /**\n   * Creates a multihash digest.\n   *\n   * @param {Code} code\n   * @param {Size} size\n   * @param {Uint8Array} digest\n   * @param {Uint8Array} bytes\n   */\n  constructor (code, size, digest, bytes) {\n    this.code = code\n    this.size = size\n    this.digest = digest\n    this.bytes = bytes\n  }\n}\n","import { coerce } from '../bytes.js'\nimport * as Digest from './digest.js'\n\nconst code = 0x0\nconst name = 'identity'\n\n/** @type {(input:Uint8Array) => Uint8Array} */\nconst encode = coerce\n\n/**\n * @param {Uint8Array} input\n * @returns {Digest.Digest<typeof code, number>}\n */\nconst digest = (input) => Digest.create(code, encode(input))\n\nexport const identity = { code, name, encode, digest }\n","import * as Digest from './digest.js'\n\n/**\n * @template {string} Name\n * @template {number} Code\n * @param {object} options\n * @param {Name} options.name\n * @param {Code} options.code\n * @param {(input: Uint8Array) => Await<Uint8Array>} options.encode\n */\nexport const from = ({ name, code, encode }) => new Hasher(name, code, encode)\n\n/**\n * Hasher represents a hashing algorithm implementation that produces as\n * `MultihashDigest`.\n *\n * @template {string} Name\n * @template {number} Code\n * @class\n * @implements {MultihashHasher<Code>}\n */\nexport class Hasher {\n  /**\n   *\n   * @param {Name} name\n   * @param {Code} code\n   * @param {(input: Uint8Array) => Await<Uint8Array>} encode\n   */\n  constructor (name, code, encode) {\n    this.name = name\n    this.code = code\n    this.encode = encode\n  }\n\n  /**\n   * @param {Uint8Array} input\n   * @returns {Await<Digest.Digest<Code, number>>}\n   */\n  digest (input) {\n    if (input instanceof Uint8Array) {\n      const result = this.encode(input)\n      return result instanceof Uint8Array\n        ? Digest.create(this.code, result)\n        /* c8 ignore next 1 */\n        : result.then(digest => Digest.create(this.code, digest))\n    } else {\n      throw Error('Unknown type, must be binary type')\n      /* c8 ignore next 1 */\n    }\n  }\n}\n\n/**\n * @template {number} Alg\n * @typedef {import('./interface.js').MultihashHasher} MultihashHasher\n */\n\n/**\n * @template T\n * @typedef {Promise<T>|T} Await\n */\n","/* global crypto */\n\nimport { from } from './hasher.js'\n\n/**\n * @param {AlgorithmIdentifier} name\n */\nconst sha = name =>\n  /**\n   * @param {Uint8Array} data\n   */\n  async data => new Uint8Array(await crypto.subtle.digest(name, data))\n\nexport const sha256 = from({\n  name: 'sha2-256',\n  code: 0x12,\n  encode: sha('SHA-256')\n})\n\nexport const sha512 = from({\n  name: 'sha2-512',\n  code: 0x13,\n  encode: sha('SHA-512')\n})\n","import { base32 } from './bases/base32.js'\nimport { base58btc } from './bases/base58.js'\nimport { coerce } from './bytes.js'\nimport * as Digest from './hashes/digest.js'\n// Linter can see that API is used in types.\n// eslint-disable-next-line\nimport * as API from \"./link/interface.js\"\nimport * as varint from './varint.js'\n\n// This way TS will also expose all the types from module\nexport * from './link/interface.js'\n\n/**\n * @template {API.Link<unknown, number, number, API.Version>} T\n * @template {string} Prefix\n * @param {T} link\n * @param {API.MultibaseEncoder<Prefix>} [base]\n * @returns {API.ToString<T, Prefix>}\n */\nexport const format = (link, base) => {\n  const { bytes, version } = link\n  switch (version) {\n    case 0:\n      return toStringV0(\n        bytes,\n        baseCache(link),\n        /** @type {API.MultibaseEncoder<\"z\">} */ (base) || base58btc.encoder\n      )\n    default:\n      return toStringV1(\n        bytes,\n        baseCache(link),\n        /** @type {API.MultibaseEncoder<Prefix>} */ (base || base32.encoder)\n      )\n  }\n}\n\n/**\n * @template {API.UnknownLink} Link\n * @param {Link} link\n * @returns {API.LinkJSON<Link>}\n */\nexport const toJSON = (link) => ({\n  '/': format(link)\n})\n\n/**\n * @template {API.UnknownLink} Link\n * @param {API.LinkJSON<Link>} json\n */\nexport const fromJSON = (json) =>\n  CID.parse(json['/'])\n\n/** @type {WeakMap<API.UnknownLink, Map<string, string>>} */\nconst cache = new WeakMap()\n\n/**\n * @param {API.UnknownLink} cid\n * @returns {Map<string, string>}\n */\nconst baseCache = cid => {\n  const baseCache = cache.get(cid)\n  if (baseCache == null) {\n    const baseCache = new Map()\n    cache.set(cid, baseCache)\n    return baseCache\n  }\n  return baseCache\n}\n\n/**\n * @template {unknown} [Data=unknown]\n * @template {number} [Format=number]\n * @template {number} [Alg=number]\n * @template {API.Version} [Version=API.Version]\n * @implements {API.Link<Data, Format, Alg, Version>}\n */\n\nexport class CID {\n  /**\n   * @param {Version} version - Version of the CID\n   * @param {Format} code - Code of the codec content is encoded in, see https://github.com/multiformats/multicodec/blob/master/table.csv\n   * @param {API.MultihashDigest<Alg>} multihash - (Multi)hash of the of the content.\n   * @param {Uint8Array} bytes\n   */\n  constructor (version, code, multihash, bytes) {\n    /** @readonly */\n    this.code = code\n    /** @readonly */\n    this.version = version\n    /** @readonly */\n    this.multihash = multihash\n    /** @readonly */\n    this.bytes = bytes\n\n    // flag to serializers that this is a CID and\n    // should be treated specially\n    /** @readonly */\n    this['/'] = bytes\n  }\n\n  /**\n   * Signalling `cid.asCID === cid` has been replaced with `cid['/'] === cid.bytes`\n   * please either use `CID.asCID(cid)` or switch to new signalling mechanism\n   *\n   * @deprecated\n   */\n  get asCID () {\n    return this\n  }\n\n  // ArrayBufferView\n  get byteOffset () {\n    return this.bytes.byteOffset\n  }\n\n  // ArrayBufferView\n  get byteLength () {\n    return this.bytes.byteLength\n  }\n\n  /**\n   * @returns {CID<Data, API.DAG_PB, API.SHA_256, 0>}\n   */\n  toV0 () {\n    switch (this.version) {\n      case 0: {\n        return /** @type {CID<Data, API.DAG_PB, API.SHA_256, 0>} */ (this)\n      }\n      case 1: {\n        const { code, multihash } = this\n\n        if (code !== DAG_PB_CODE) {\n          throw new Error('Cannot convert a non dag-pb CID to CIDv0')\n        }\n\n        // sha2-256\n        if (multihash.code !== SHA_256_CODE) {\n          throw new Error('Cannot convert non sha2-256 multihash CID to CIDv0')\n        }\n\n        return /** @type {CID<Data, API.DAG_PB, API.SHA_256, 0>} */ (\n          CID.createV0(\n            /** @type {API.MultihashDigest<API.SHA_256>} */ (multihash)\n          )\n        )\n      }\n      default: {\n        throw Error(\n          `Can not convert CID version ${this.version} to version 0. This is a bug please report`\n        )\n      }\n    }\n  }\n\n  /**\n   * @returns {CID<Data, Format, Alg, 1>}\n   */\n  toV1 () {\n    switch (this.version) {\n      case 0: {\n        const { code, digest } = this.multihash\n        const multihash = Digest.create(code, digest)\n        return /** @type {CID<Data, Format, Alg, 1>} */ (\n          CID.createV1(this.code, multihash)\n        )\n      }\n      case 1: {\n        return /** @type {CID<Data, Format, Alg, 1>} */ (this)\n      }\n      default: {\n        throw Error(\n          `Can not convert CID version ${this.version} to version 1. This is a bug please report`\n        )\n      }\n    }\n  }\n\n  /**\n   * @param {unknown} other\n   * @returns {other is CID<Data, Format, Alg, Version>}\n   */\n  equals (other) {\n    return CID.equals(this, other)\n  }\n\n  /**\n   * @template {unknown} Data\n   * @template {number} Format\n   * @template {number} Alg\n   * @template {API.Version} Version\n   * @param {API.Link<Data, Format, Alg, Version>} self\n   * @param {unknown} other\n   * @returns {other is CID}\n   */\n  static equals (self, other) {\n    const unknown =\n      /** @type {{code?:unknown, version?:unknown, multihash?:unknown}} */ (\n        other\n      )\n    return (\n      unknown &&\n      self.code === unknown.code &&\n      self.version === unknown.version &&\n      Digest.equals(self.multihash, unknown.multihash)\n    )\n  }\n\n  /**\n   * @param {API.MultibaseEncoder<string>} [base]\n   * @returns {string}\n   */\n  toString (base) {\n    return format(this, base)\n  }\n\n  /**\n   * @returns {API.LinkJSON<this>}\n   */\n  toJSON () {\n    return { '/': format(this) }\n  }\n\n  link () {\n    return this\n  }\n\n  get [Symbol.toStringTag] () {\n    return 'CID'\n  }\n\n  // Legacy\n\n  [Symbol.for('nodejs.util.inspect.custom')] () {\n    return `CID(${this.toString()})`\n  }\n\n  /**\n   * Takes any input `value` and returns a `CID` instance if it was\n   * a `CID` otherwise returns `null`. If `value` is instanceof `CID`\n   * it will return value back. If `value` is not instance of this CID\n   * class, but is compatible CID it will return new instance of this\n   * `CID` class. Otherwise returns null.\n   *\n   * This allows two different incompatible versions of CID library to\n   * co-exist and interop as long as binary interface is compatible.\n   *\n   * @template {unknown} Data\n   * @template {number} Format\n   * @template {number} Alg\n   * @template {API.Version} Version\n   * @template {unknown} U\n   * @param {API.Link<Data, Format, Alg, Version>|U} input\n   * @returns {CID<Data, Format, Alg, Version>|null}\n   */\n  static asCID (input) {\n    if (input == null) {\n      return null\n    }\n\n    const value = /** @type {any} */ (input)\n    if (value instanceof CID) {\n      // If value is instance of CID then we're all set.\n      return value\n    } else if ((value['/'] != null && value['/'] === value.bytes) || value.asCID === value) {\n      // If value isn't instance of this CID class but `this.asCID === this` or\n      // `value['/'] === value.bytes` is true it is CID instance coming from a\n      // different implementation (diff version or duplicate). In that case we\n      // rebase it to this `CID` implementation so caller is guaranteed to get\n      // instance with expected API.\n      const { version, code, multihash, bytes } = value\n      return new CID(\n        version,\n        code,\n        /** @type {API.MultihashDigest<Alg>} */ (multihash),\n        bytes || encodeCID(version, code, multihash.bytes)\n      )\n    } else if (value[cidSymbol] === true) {\n      // If value is a CID from older implementation that used to be tagged via\n      // symbol we still rebase it to the this `CID` implementation by\n      // delegating that to a constructor.\n      const { version, multihash, code } = value\n      const digest =\n        /** @type {API.MultihashDigest<Alg>} */\n        (Digest.decode(multihash))\n      return CID.create(version, code, digest)\n    } else {\n      // Otherwise value is not a CID (or an incompatible version of it) in\n      // which case we return `null`.\n      return null\n    }\n  }\n\n  /**\n   *\n   * @template {unknown} Data\n   * @template {number} Format\n   * @template {number} Alg\n   * @template {API.Version} Version\n   * @param {Version} version - Version of the CID\n   * @param {Format} code - Code of the codec content is encoded in, see https://github.com/multiformats/multicodec/blob/master/table.csv\n   * @param {API.MultihashDigest<Alg>} digest - (Multi)hash of the of the content.\n   * @returns {CID<Data, Format, Alg, Version>}\n   */\n  static create (version, code, digest) {\n    if (typeof code !== 'number') {\n      throw new Error('String codecs are no longer supported')\n    }\n\n    if (!(digest.bytes instanceof Uint8Array)) {\n      throw new Error('Invalid digest')\n    }\n\n    switch (version) {\n      case 0: {\n        if (code !== DAG_PB_CODE) {\n          throw new Error(\n            `Version 0 CID must use dag-pb (code: ${DAG_PB_CODE}) block encoding`\n          )\n        } else {\n          return new CID(version, code, digest, digest.bytes)\n        }\n      }\n      case 1: {\n        const bytes = encodeCID(version, code, digest.bytes)\n        return new CID(version, code, digest, bytes)\n      }\n      default: {\n        throw new Error('Invalid version')\n      }\n    }\n  }\n\n  /**\n   * Simplified version of `create` for CIDv0.\n   *\n   * @template {unknown} [T=unknown]\n   * @param {API.MultihashDigest<typeof SHA_256_CODE>} digest - Multihash.\n   * @returns {CID<T, typeof DAG_PB_CODE, typeof SHA_256_CODE, 0>}\n   */\n  static createV0 (digest) {\n    return CID.create(0, DAG_PB_CODE, digest)\n  }\n\n  /**\n   * Simplified version of `create` for CIDv1.\n   *\n   * @template {unknown} Data\n   * @template {number} Code\n   * @template {number} Alg\n   * @param {Code} code - Content encoding format code.\n   * @param {API.MultihashDigest<Alg>} digest - Miltihash of the content.\n   * @returns {CID<Data, Code, Alg, 1>}\n   */\n  static createV1 (code, digest) {\n    return CID.create(1, code, digest)\n  }\n\n  /**\n   * Decoded a CID from its binary representation. The byte array must contain\n   * only the CID with no additional bytes.\n   *\n   * An error will be thrown if the bytes provided do not contain a valid\n   * binary representation of a CID.\n   *\n   * @template {unknown} Data\n   * @template {number} Code\n   * @template {number} Alg\n   * @template {API.Version} Ver\n   * @param {API.ByteView<API.Link<Data, Code, Alg, Ver>>} bytes\n   * @returns {CID<Data, Code, Alg, Ver>}\n   */\n  static decode (bytes) {\n    const [cid, remainder] = CID.decodeFirst(bytes)\n    if (remainder.length) {\n      throw new Error('Incorrect length')\n    }\n    return cid\n  }\n\n  /**\n   * Decoded a CID from its binary representation at the beginning of a byte\n   * array.\n   *\n   * Returns an array with the first element containing the CID and the second\n   * element containing the remainder of the original byte array. The remainder\n   * will be a zero-length byte array if the provided bytes only contained a\n   * binary CID representation.\n   *\n   * @template {unknown} T\n   * @template {number} C\n   * @template {number} A\n   * @template {API.Version} V\n   * @param {API.ByteView<API.Link<T, C, A, V>>} bytes\n   * @returns {[CID<T, C, A, V>, Uint8Array]}\n   */\n  static decodeFirst (bytes) {\n    const specs = CID.inspectBytes(bytes)\n    const prefixSize = specs.size - specs.multihashSize\n    const multihashBytes = coerce(\n      bytes.subarray(prefixSize, prefixSize + specs.multihashSize)\n    )\n    if (multihashBytes.byteLength !== specs.multihashSize) {\n      throw new Error('Incorrect length')\n    }\n    const digestBytes = multihashBytes.subarray(\n      specs.multihashSize - specs.digestSize\n    )\n    const digest = new Digest.Digest(\n      specs.multihashCode,\n      specs.digestSize,\n      digestBytes,\n      multihashBytes\n    )\n    const cid =\n      specs.version === 0\n        ? CID.createV0(/** @type {API.MultihashDigest<API.SHA_256>} */ (digest))\n        : CID.createV1(specs.codec, digest)\n    return [/** @type {CID<T, C, A, V>} */(cid), bytes.subarray(specs.size)]\n  }\n\n  /**\n   * Inspect the initial bytes of a CID to determine its properties.\n   *\n   * Involves decoding up to 4 varints. Typically this will require only 4 to 6\n   * bytes but for larger multicodec code values and larger multihash digest\n   * lengths these varints can be quite large. It is recommended that at least\n   * 10 bytes be made available in the `initialBytes` argument for a complete\n   * inspection.\n   *\n   * @template {unknown} T\n   * @template {number} C\n   * @template {number} A\n   * @template {API.Version} V\n   * @param {API.ByteView<API.Link<T, C, A, V>>} initialBytes\n   * @returns {{ version:V, codec:C, multihashCode:A, digestSize:number, multihashSize:number, size:number }}\n   */\n  static inspectBytes (initialBytes) {\n    let offset = 0\n    const next = () => {\n      const [i, length] = varint.decode(initialBytes.subarray(offset))\n      offset += length\n      return i\n    }\n\n    let version = /** @type {V} */ (next())\n    let codec = /** @type {C} */ (DAG_PB_CODE)\n    if (/** @type {number} */(version) === 18) {\n      // CIDv0\n      version = /** @type {V} */ (0)\n      offset = 0\n    } else {\n      codec = /** @type {C} */ (next())\n    }\n\n    if (version !== 0 && version !== 1) {\n      throw new RangeError(`Invalid CID version ${version}`)\n    }\n\n    const prefixSize = offset\n    const multihashCode = /** @type {A} */ (next()) // multihash code\n    const digestSize = next() // multihash length\n    const size = offset + digestSize\n    const multihashSize = size - prefixSize\n\n    return { version, codec, multihashCode, digestSize, multihashSize, size }\n  }\n\n  /**\n   * Takes cid in a string representation and creates an instance. If `base`\n   * decoder is not provided will use a default from the configuration. It will\n   * throw an error if encoding of the CID is not compatible with supplied (or\n   * a default decoder).\n   *\n   * @template {string} Prefix\n   * @template {unknown} Data\n   * @template {number} Code\n   * @template {number} Alg\n   * @template {API.Version} Ver\n   * @param {API.ToString<API.Link<Data, Code, Alg, Ver>, Prefix>} source\n   * @param {API.MultibaseDecoder<Prefix>} [base]\n   * @returns {CID<Data, Code, Alg, Ver>}\n   */\n  static parse (source, base) {\n    const [prefix, bytes] = parseCIDtoBytes(source, base)\n\n    const cid = CID.decode(bytes)\n\n    if (cid.version === 0 && source[0] !== 'Q') {\n      throw Error('Version 0 CID string must not include multibase prefix')\n    }\n\n    // Cache string representation to avoid computing it on `this.toString()`\n    baseCache(cid).set(prefix, source)\n\n    return cid\n  }\n}\n\n/**\n * @template {string} Prefix\n * @template {unknown} Data\n * @template {number} Code\n * @template {number} Alg\n * @template {API.Version} Ver\n * @param {API.ToString<API.Link<Data, Code, Alg, Ver>, Prefix>} source\n * @param {API.MultibaseDecoder<Prefix>} [base]\n * @returns {[Prefix, API.ByteView<API.Link<Data, Code, Alg, Ver>>]}\n */\nconst parseCIDtoBytes = (source, base) => {\n  switch (source[0]) {\n    // CIDv0 is parsed differently\n    case 'Q': {\n      const decoder = base || base58btc\n      return [\n        /** @type {Prefix} */ (base58btc.prefix),\n        decoder.decode(`${base58btc.prefix}${source}`)\n      ]\n    }\n    case base58btc.prefix: {\n      const decoder = base || base58btc\n      return [/** @type {Prefix} */(base58btc.prefix), decoder.decode(source)]\n    }\n    case base32.prefix: {\n      const decoder = base || base32\n      return [/** @type {Prefix} */(base32.prefix), decoder.decode(source)]\n    }\n    default: {\n      if (base == null) {\n        throw Error(\n          'To parse non base32 or base58btc encoded CID multibase decoder must be provided'\n        )\n      }\n      return [/** @type {Prefix} */(source[0]), base.decode(source)]\n    }\n  }\n}\n\n/**\n *\n * @param {Uint8Array} bytes\n * @param {Map<string, string>} cache\n * @param {API.MultibaseEncoder<'z'>} base\n */\nconst toStringV0 = (bytes, cache, base) => {\n  const { prefix } = base\n  if (prefix !== base58btc.prefix) {\n    throw Error(`Cannot string encode V0 in ${base.name} encoding`)\n  }\n\n  const cid = cache.get(prefix)\n  if (cid == null) {\n    const cid = base.encode(bytes).slice(1)\n    cache.set(prefix, cid)\n    return cid\n  } else {\n    return cid\n  }\n}\n\n/**\n * @template {string} Prefix\n * @param {Uint8Array} bytes\n * @param {Map<string, string>} cache\n * @param {API.MultibaseEncoder<Prefix>} base\n */\nconst toStringV1 = (bytes, cache, base) => {\n  const { prefix } = base\n  const cid = cache.get(prefix)\n  if (cid == null) {\n    const cid = base.encode(bytes)\n    cache.set(prefix, cid)\n    return cid\n  } else {\n    return cid\n  }\n}\n\nconst DAG_PB_CODE = 0x70\nconst SHA_256_CODE = 0x12\n\n/**\n * @param {API.Version} version\n * @param {number} code\n * @param {Uint8Array} multihash\n * @returns {Uint8Array}\n */\nconst encodeCID = (version, code, multihash) => {\n  const codeOffset = varint.encodingLength(version)\n  const hashOffset = codeOffset + varint.encodingLength(code)\n  const bytes = new Uint8Array(hashOffset + multihash.byteLength)\n  varint.encodeTo(version, bytes, 0)\n  varint.encodeTo(code, bytes, codeOffset)\n  bytes.set(multihash, hashOffset)\n  return bytes\n}\n\nconst cidSymbol = Symbol.for('@ipld/js-cid/CID')\n","// @ts-check\n\nimport * as base10 from './bases/base10.js'\nimport * as base16 from './bases/base16.js'\nimport * as base2 from './bases/base2.js'\nimport * as base256emoji from './bases/base256emoji.js'\nimport * as base32 from './bases/base32.js'\nimport * as base36 from './bases/base36.js'\nimport * as base58 from './bases/base58.js'\nimport * as base64 from './bases/base64.js'\nimport * as base8 from './bases/base8.js'\nimport * as identityBase from './bases/identity.js'\nimport * as json from './codecs/json.js'\nimport * as raw from './codecs/raw.js'\nimport * as identity from './hashes/identity.js'\nimport * as sha2 from './hashes/sha2.js'\nimport { CID, hasher, digest, varint, bytes } from './index.js'\n\nconst bases = { ...identityBase, ...base2, ...base8, ...base10, ...base16, ...base32, ...base36, ...base58, ...base64, ...base256emoji }\nconst hashes = { ...sha2, ...identity }\nconst codecs = { raw, json }\n\nexport { CID, hasher, digest, varint, bytes, hashes, bases, codecs }\n","/**\n * Returns true if the two passed Uint8Arrays have the same content\n */\nexport function equals(a, b) {\n    if (a === b) {\n        return true;\n    }\n    if (a.byteLength !== b.byteLength) {\n        return false;\n    }\n    for (let i = 0; i < a.byteLength; i++) {\n        if (a[i] !== b[i]) {\n            return false;\n        }\n    }\n    return true;\n}\n//# sourceMappingURL=equals.js.map","import { CodeError } from '@libp2p/interface/errors';\nimport { symbol } from '@libp2p/interface/peer-id';\nimport { base58btc } from 'multiformats/bases/base58';\nimport { bases } from 'multiformats/basics';\nimport { CID } from 'multiformats/cid';\nimport * as Digest from 'multiformats/hashes/digest';\nimport { identity } from 'multiformats/hashes/identity';\nimport { sha256 } from 'multiformats/hashes/sha2';\nimport { equals as uint8ArrayEquals } from 'uint8arrays/equals';\nconst inspect = Symbol.for('nodejs.util.inspect.custom');\nconst baseDecoder = Object\n    .values(bases)\n    .map(codec => codec.decoder)\n    // @ts-expect-error https://github.com/multiformats/js-multiformats/issues/141\n    .reduce((acc, curr) => acc.or(curr), bases.identity.decoder);\n// these values are from https://github.com/multiformats/multicodec/blob/master/table.csv\nconst LIBP2P_KEY_CODE = 0x72;\nconst MARSHALLED_ED225519_PUBLIC_KEY_LENGTH = 36;\nconst MARSHALLED_SECP256K1_PUBLIC_KEY_LENGTH = 37;\nclass PeerIdImpl {\n    type;\n    multihash;\n    privateKey;\n    publicKey;\n    string;\n    constructor(init) {\n        this.type = init.type;\n        this.multihash = init.multihash;\n        this.privateKey = init.privateKey;\n        // mark string cache as non-enumerable\n        Object.defineProperty(this, 'string', {\n            enumerable: false,\n            writable: true\n        });\n    }\n    get [Symbol.toStringTag]() {\n        return `PeerId(${this.toString()})`;\n    }\n    [symbol] = true;\n    toString() {\n        if (this.string == null) {\n            this.string = base58btc.encode(this.multihash.bytes).slice(1);\n        }\n        return this.string;\n    }\n    // return self-describing String representation\n    // in default format from RFC 0001: https://github.com/libp2p/specs/pull/209\n    toCID() {\n        return CID.createV1(LIBP2P_KEY_CODE, this.multihash);\n    }\n    toBytes() {\n        return this.multihash.bytes;\n    }\n    /**\n     * Returns Multiaddr as a JSON string\n     */\n    toJSON() {\n        return this.toString();\n    }\n    /**\n     * Checks the equality of `this` peer against a given PeerId\n     */\n    equals(id) {\n        if (id instanceof Uint8Array) {\n            return uint8ArrayEquals(this.multihash.bytes, id);\n        }\n        else if (typeof id === 'string') {\n            return peerIdFromString(id).equals(this);\n        }\n        else if (id?.multihash?.bytes != null) {\n            return uint8ArrayEquals(this.multihash.bytes, id.multihash.bytes);\n        }\n        else {\n            throw new Error('not valid Id');\n        }\n    }\n    /**\n     * Returns PeerId as a human-readable string\n     * https://nodejs.org/api/util.html#utilinspectcustom\n     *\n     * @example\n     * ```js\n     * import { peerIdFromString } from '@libp2p/peer-id'\n     *\n     * console.info(peerIdFromString('QmFoo'))\n     * // 'PeerId(QmFoo)'\n     * ```\n     */\n    [inspect]() {\n        return `PeerId(${this.toString()})`;\n    }\n}\nclass RSAPeerIdImpl extends PeerIdImpl {\n    type = 'RSA';\n    publicKey;\n    constructor(init) {\n        super({ ...init, type: 'RSA' });\n        this.publicKey = init.publicKey;\n    }\n}\nclass Ed25519PeerIdImpl extends PeerIdImpl {\n    type = 'Ed25519';\n    publicKey;\n    constructor(init) {\n        super({ ...init, type: 'Ed25519' });\n        this.publicKey = init.multihash.digest;\n    }\n}\nclass Secp256k1PeerIdImpl extends PeerIdImpl {\n    type = 'secp256k1';\n    publicKey;\n    constructor(init) {\n        super({ ...init, type: 'secp256k1' });\n        this.publicKey = init.multihash.digest;\n    }\n}\nexport function createPeerId(init) {\n    if (init.type === 'RSA') {\n        return new RSAPeerIdImpl(init);\n    }\n    if (init.type === 'Ed25519') {\n        return new Ed25519PeerIdImpl(init);\n    }\n    if (init.type === 'secp256k1') {\n        return new Secp256k1PeerIdImpl(init);\n    }\n    throw new CodeError('Type must be \"RSA\", \"Ed25519\" or \"secp256k1\"', 'ERR_INVALID_PARAMETERS');\n}\nexport function peerIdFromPeerId(other) {\n    if (other.type === 'RSA') {\n        return new RSAPeerIdImpl(other);\n    }\n    if (other.type === 'Ed25519') {\n        return new Ed25519PeerIdImpl(other);\n    }\n    if (other.type === 'secp256k1') {\n        return new Secp256k1PeerIdImpl(other);\n    }\n    throw new CodeError('Not a PeerId', 'ERR_INVALID_PARAMETERS');\n}\nexport function peerIdFromString(str, decoder) {\n    decoder = decoder ?? baseDecoder;\n    if (str.charAt(0) === '1' || str.charAt(0) === 'Q') {\n        // identity hash ed25519/secp256k1 key or sha2-256 hash of\n        // rsa public key - base58btc encoded either way\n        const multihash = Digest.decode(base58btc.decode(`z${str}`));\n        if (str.startsWith('12D')) {\n            return new Ed25519PeerIdImpl({ multihash });\n        }\n        else if (str.startsWith('16U')) {\n            return new Secp256k1PeerIdImpl({ multihash });\n        }\n        else {\n            return new RSAPeerIdImpl({ multihash });\n        }\n    }\n    return peerIdFromBytes(baseDecoder.decode(str));\n}\nexport function peerIdFromBytes(buf) {\n    try {\n        const multihash = Digest.decode(buf);\n        if (multihash.code === identity.code) {\n            if (multihash.digest.length === MARSHALLED_ED225519_PUBLIC_KEY_LENGTH) {\n                return new Ed25519PeerIdImpl({ multihash });\n            }\n            else if (multihash.digest.length === MARSHALLED_SECP256K1_PUBLIC_KEY_LENGTH) {\n                return new Secp256k1PeerIdImpl({ multihash });\n            }\n        }\n        if (multihash.code === sha256.code) {\n            return new RSAPeerIdImpl({ multihash });\n        }\n    }\n    catch {\n        return peerIdFromCID(CID.decode(buf));\n    }\n    throw new Error('Supplied PeerID CID is invalid');\n}\nexport function peerIdFromCID(cid) {\n    if (cid == null || cid.multihash == null || cid.version == null || (cid.version === 1 && cid.code !== LIBP2P_KEY_CODE)) {\n        throw new Error('Supplied PeerID CID is invalid');\n    }\n    const multihash = cid.multihash;\n    if (multihash.code === sha256.code) {\n        return new RSAPeerIdImpl({ multihash: cid.multihash });\n    }\n    else if (multihash.code === identity.code) {\n        if (multihash.digest.length === MARSHALLED_ED225519_PUBLIC_KEY_LENGTH) {\n            return new Ed25519PeerIdImpl({ multihash: cid.multihash });\n        }\n        else if (multihash.digest.length === MARSHALLED_SECP256K1_PUBLIC_KEY_LENGTH) {\n            return new Secp256k1PeerIdImpl({ multihash: cid.multihash });\n        }\n    }\n    throw new Error('Supplied PeerID CID is invalid');\n}\n/**\n * @param publicKey - A marshalled public key\n * @param privateKey - A marshalled private key\n */\nexport async function peerIdFromKeys(publicKey, privateKey) {\n    if (publicKey.length === MARSHALLED_ED225519_PUBLIC_KEY_LENGTH) {\n        return new Ed25519PeerIdImpl({ multihash: Digest.create(identity.code, publicKey), privateKey });\n    }\n    if (publicKey.length === MARSHALLED_SECP256K1_PUBLIC_KEY_LENGTH) {\n        return new Secp256k1PeerIdImpl({ multihash: Digest.create(identity.code, publicKey), privateKey });\n    }\n    return new RSAPeerIdImpl({ multihash: await sha256.digest(publicKey), publicKey, privateKey });\n}\n//# sourceMappingURL=index.js.map","import debug from 'debug';\nimport { base32 } from 'multiformats/bases/base32';\nimport { base58btc } from 'multiformats/bases/base58';\nimport { base64 } from 'multiformats/bases/base64';\n// Add a formatter for converting to a base58 string\ndebug.formatters.b = (v) => {\n    return v == null ? 'undefined' : base58btc.baseEncode(v);\n};\n// Add a formatter for converting to a base32 string\ndebug.formatters.t = (v) => {\n    return v == null ? 'undefined' : base32.baseEncode(v);\n};\n// Add a formatter for converting to a base64 string\ndebug.formatters.m = (v) => {\n    return v == null ? 'undefined' : base64.baseEncode(v);\n};\n// Add a formatter for stringifying peer ids\ndebug.formatters.p = (v) => {\n    return v == null ? 'undefined' : v.toString();\n};\n// Add a formatter for stringifying CIDs\ndebug.formatters.c = (v) => {\n    return v == null ? 'undefined' : v.toString();\n};\n// Add a formatter for stringifying Datastore keys\ndebug.formatters.k = (v) => {\n    return v == null ? 'undefined' : v.toString();\n};\n// Add a formatter for stringifying Multiaddrs\ndebug.formatters.a = (v) => {\n    return v == null ? 'undefined' : v.toString();\n};\nfunction createDisabledLogger(namespace) {\n    const logger = () => { };\n    logger.enabled = false;\n    logger.color = '';\n    logger.diff = 0;\n    logger.log = () => { };\n    logger.namespace = namespace;\n    logger.destroy = () => true;\n    logger.extend = () => logger;\n    return logger;\n}\nexport function logger(name) {\n    // trace logging is a no-op by default\n    let trace = createDisabledLogger(`${name}:trace`);\n    // look at all the debug names and see if trace logging has explicitly been enabled\n    if (debug.enabled(`${name}:trace`) && debug.names.map(r => r.toString()).find(n => n.includes(':trace')) != null) {\n        trace = debug(`${name}:trace`);\n    }\n    return Object.assign(debug(name), {\n        error: debug(`${name}:error`),\n        trace\n    });\n}\nexport function disable() {\n    debug.disable();\n}\nexport function enable(namespaces) {\n    debug.enable(namespaces);\n}\nexport function enabled(namespaces) {\n    return debug.enabled(namespaces);\n}\n//# sourceMappingURL=index.js.map","export class MessageCache {\n    gossip;\n    msgs = new Map();\n    msgIdToStrFn;\n    history = [];\n    /** Track with accounting of messages in the mcache that are not yet validated */\n    notValidatedCount = 0;\n    /**\n     * Holds history of messages in timebounded history arrays\n     */\n    constructor(\n    /**\n     * The number of indices in the cache history used for gossiping. That means that a message\n     * won't get gossiped anymore when shift got called `gossip` many times after inserting the\n     * message in the cache.\n     */\n    gossip, historyCapacity, msgIdToStrFn) {\n        this.gossip = gossip;\n        this.msgIdToStrFn = msgIdToStrFn;\n        for (let i = 0; i < historyCapacity; i++) {\n            this.history[i] = [];\n        }\n    }\n    get size() {\n        return this.msgs.size;\n    }\n    /**\n     * Adds a message to the current window and the cache\n     * Returns true if the message is not known and is inserted in the cache\n     */\n    put(messageId, msg, validated = false) {\n        const { msgIdStr } = messageId;\n        // Don't add duplicate entries to the cache.\n        if (this.msgs.has(msgIdStr)) {\n            return false;\n        }\n        this.msgs.set(msgIdStr, {\n            message: msg,\n            validated,\n            originatingPeers: new Set(),\n            iwantCounts: new Map()\n        });\n        this.history[0].push({ ...messageId, topic: msg.topic });\n        if (!validated) {\n            this.notValidatedCount++;\n        }\n        return true;\n    }\n    observeDuplicate(msgId, fromPeerIdStr) {\n        const entry = this.msgs.get(msgId);\n        if (entry &&\n            // if the message is already validated, we don't need to store extra peers sending us\n            // duplicates as the message has already been forwarded\n            !entry.validated) {\n            entry.originatingPeers.add(fromPeerIdStr);\n        }\n    }\n    /**\n     * Retrieves a message from the cache by its ID, if it is still present\n     */\n    get(msgId) {\n        return this.msgs.get(this.msgIdToStrFn(msgId))?.message;\n    }\n    /**\n     * Increases the iwant count for the given message by one and returns the message together\n     * with the iwant if the message exists.\n     */\n    getWithIWantCount(msgIdStr, p) {\n        const msg = this.msgs.get(msgIdStr);\n        if (!msg) {\n            return null;\n        }\n        const count = (msg.iwantCounts.get(p) ?? 0) + 1;\n        msg.iwantCounts.set(p, count);\n        return { msg: msg.message, count };\n    }\n    /**\n     * Retrieves a list of message IDs for a set of topics\n     */\n    getGossipIDs(topics) {\n        const msgIdsByTopic = new Map();\n        for (let i = 0; i < this.gossip; i++) {\n            this.history[i].forEach((entry) => {\n                const msg = this.msgs.get(entry.msgIdStr);\n                if (msg && msg.validated && topics.has(entry.topic)) {\n                    let msgIds = msgIdsByTopic.get(entry.topic);\n                    if (!msgIds) {\n                        msgIds = [];\n                        msgIdsByTopic.set(entry.topic, msgIds);\n                    }\n                    msgIds.push(entry.msgId);\n                }\n            });\n        }\n        return msgIdsByTopic;\n    }\n    /**\n     * Gets a message with msgId and tags it as validated.\n     * This function also returns the known peers that have sent us this message. This is used to\n     * prevent us sending redundant messages to peers who have already propagated it.\n     */\n    validate(msgId) {\n        const entry = this.msgs.get(msgId);\n        if (!entry) {\n            return null;\n        }\n        if (!entry.validated) {\n            this.notValidatedCount--;\n        }\n        const { message, originatingPeers } = entry;\n        entry.validated = true;\n        // Clear the known peers list (after a message is validated, it is forwarded and we no\n        // longer need to store the originating peers).\n        entry.originatingPeers = new Set();\n        return { message, originatingPeers };\n    }\n    /**\n     * Shifts the current window, discarding messages older than this.history.length of the cache\n     */\n    shift() {\n        const lastCacheEntries = this.history[this.history.length - 1];\n        lastCacheEntries.forEach((cacheEntry) => {\n            const entry = this.msgs.get(cacheEntry.msgIdStr);\n            if (entry) {\n                this.msgs.delete(cacheEntry.msgIdStr);\n                if (!entry.validated) {\n                    this.notValidatedCount--;\n                }\n            }\n        });\n        this.history.pop();\n        this.history.unshift([]);\n    }\n    remove(msgId) {\n        const entry = this.msgs.get(msgId);\n        if (!entry) {\n            return null;\n        }\n        // Keep the message on the history vector, it will be dropped on a shift()\n        this.msgs.delete(msgId);\n        return entry;\n    }\n}\n//# sourceMappingURL=message-cache.js.map","import cjs from \"./rpc.cjs\"\n\nexport const {RPC} = cjs\n","export const second = 1000;\nexport const minute = 60 * second;\n// Protocol identifiers\nexport const FloodsubID = '/floodsub/1.0.0';\n/**\n * The protocol ID for version 1.0.0 of the Gossipsub protocol\n * It is advertised along with GossipsubIDv11 for backwards compatability\n */\nexport const GossipsubIDv10 = '/meshsub/1.0.0';\n/**\n * The protocol ID for version 1.1.0 of the Gossipsub protocol\n * See the spec for details about how v1.1.0 compares to v1.0.0:\n * https://github.com/libp2p/specs/blob/master/pubsub/gossipsub/gossipsub-v1.1.md\n */\nexport const GossipsubIDv11 = '/meshsub/1.1.0';\n// Overlay parameters\n/**\n * GossipsubD sets the optimal degree for a Gossipsub topic mesh. For example, if GossipsubD == 6,\n * each peer will want to have about six peers in their mesh for each topic they're subscribed to.\n * GossipsubD should be set somewhere between GossipsubDlo and GossipsubDhi.\n */\nexport const GossipsubD = 6;\n/**\n * GossipsubDlo sets the lower bound on the number of peers we keep in a Gossipsub topic mesh.\n * If we have fewer than GossipsubDlo peers, we will attempt to graft some more into the mesh at\n * the next heartbeat.\n */\nexport const GossipsubDlo = 4;\n/**\n * GossipsubDhi sets the upper bound on the number of peers we keep in a Gossipsub topic mesh.\n * If we have more than GossipsubDhi peers, we will select some to prune from the mesh at the next heartbeat.\n */\nexport const GossipsubDhi = 12;\n/**\n * GossipsubDscore affects how peers are selected when pruning a mesh due to over subscription.\n * At least GossipsubDscore of the retained peers will be high-scoring, while the remainder are\n * chosen randomly.\n */\nexport const GossipsubDscore = 4;\n/**\n * GossipsubDout sets the quota for the number of outbound connections to maintain in a topic mesh.\n * When the mesh is pruned due to over subscription, we make sure that we have outbound connections\n * to at least GossipsubDout of the survivor peers. This prevents sybil attackers from overwhelming\n * our mesh with incoming connections.\n *\n * GossipsubDout must be set below GossipsubDlo, and must not exceed GossipsubD / 2.\n */\nexport const GossipsubDout = 2;\n// Gossip parameters\n/**\n * GossipsubHistoryLength controls the size of the message cache used for gossip.\n * The message cache will remember messages for GossipsubHistoryLength heartbeats.\n */\nexport const GossipsubHistoryLength = 5;\n/**\n * GossipsubHistoryGossip controls how many cached message ids we will advertise in\n * IHAVE gossip messages. When asked for our seen message IDs, we will return\n * only those from the most recent GossipsubHistoryGossip heartbeats. The slack between\n * GossipsubHistoryGossip and GossipsubHistoryLength allows us to avoid advertising messages\n * that will be expired by the time they're requested.\n *\n * GossipsubHistoryGossip must be less than or equal to GossipsubHistoryLength to\n * avoid a runtime panic.\n */\nexport const GossipsubHistoryGossip = 3;\n/**\n * GossipsubDlazy affects how many peers we will emit gossip to at each heartbeat.\n * We will send gossip to at least GossipsubDlazy peers outside our mesh. The actual\n * number may be more, depending on GossipsubGossipFactor and how many peers we're\n * connected to.\n */\nexport const GossipsubDlazy = 6;\n/**\n * GossipsubGossipFactor affects how many peers we will emit gossip to at each heartbeat.\n * We will send gossip to GossipsubGossipFactor * (total number of non-mesh peers), or\n * GossipsubDlazy, whichever is greater.\n */\nexport const GossipsubGossipFactor = 0.25;\n/**\n * GossipsubGossipRetransmission controls how many times we will allow a peer to request\n * the same message id through IWANT gossip before we start ignoring them. This is designed\n * to prevent peers from spamming us with requests and wasting our resources.\n */\nexport const GossipsubGossipRetransmission = 3;\n// Heartbeat interval\n/**\n * GossipsubHeartbeatInitialDelay is the short delay before the heartbeat timer begins\n * after the router is initialized.\n */\nexport const GossipsubHeartbeatInitialDelay = 100;\n/**\n * GossipsubHeartbeatInterval controls the time between heartbeats.\n */\nexport const GossipsubHeartbeatInterval = second;\n/**\n * GossipsubFanoutTTL controls how long we keep track of the fanout state. If it's been\n * GossipsubFanoutTTL since we've published to a topic that we're not subscribed to,\n * we'll delete the fanout map for that topic.\n */\nexport const GossipsubFanoutTTL = minute;\n/**\n * GossipsubPrunePeers controls the number of peers to include in prune Peer eXchange.\n * When we prune a peer that's eligible for PX (has a good score, etc), we will try to\n * send them signed peer records for up to GossipsubPrunePeers other peers that we\n * know of.\n */\nexport const GossipsubPrunePeers = 16;\n/**\n * GossipsubPruneBackoff controls the backoff time for pruned peers. This is how long\n * a peer must wait before attempting to graft into our mesh again after being pruned.\n * When pruning a peer, we send them our value of GossipsubPruneBackoff so they know\n * the minimum time to wait. Peers running older versions may not send a backoff time,\n * so if we receive a prune message without one, we will wait at least GossipsubPruneBackoff\n * before attempting to re-graft.\n */\nexport const GossipsubPruneBackoff = minute;\n/**\n * Backoff to use when unsuscribing from a topic. Should not resubscribe to this topic before it expired.\n */\nexport const GossipsubUnsubscribeBackoff = 10 * second;\n/**\n * GossipsubPruneBackoffTicks is the number of heartbeat ticks for attempting to prune expired\n * backoff timers.\n */\nexport const GossipsubPruneBackoffTicks = 15;\n/**\n * GossipsubConnectors controls the number of active connection attempts for peers obtained through PX.\n */\nexport const GossipsubConnectors = 8;\n/**\n * GossipsubMaxPendingConnections sets the maximum number of pending connections for peers attempted through px.\n */\nexport const GossipsubMaxPendingConnections = 128;\n/**\n * GossipsubConnectionTimeout controls the timeout for connection attempts.\n */\nexport const GossipsubConnectionTimeout = 30 * second;\n/**\n * GossipsubDirectConnectTicks is the number of heartbeat ticks for attempting to reconnect direct peers\n * that are not currently connected.\n */\nexport const GossipsubDirectConnectTicks = 300;\n/**\n * GossipsubDirectConnectInitialDelay is the initial delay before opening connections to direct peers\n */\nexport const GossipsubDirectConnectInitialDelay = second;\n/**\n * GossipsubOpportunisticGraftTicks is the number of heartbeat ticks for attempting to improve the mesh\n * with opportunistic grafting. Every GossipsubOpportunisticGraftTicks we will attempt to select some\n * high-scoring mesh peers to replace lower-scoring ones, if the median score of our mesh peers falls\n * below a threshold\n */\nexport const GossipsubOpportunisticGraftTicks = 60;\n/**\n * GossipsubOpportunisticGraftPeers is the number of peers to opportunistically graft.\n */\nexport const GossipsubOpportunisticGraftPeers = 2;\n/**\n * If a GRAFT comes before GossipsubGraftFloodThreshold has elapsed since the last PRUNE,\n * then there is an extra score penalty applied to the peer through P7.\n */\nexport const GossipsubGraftFloodThreshold = 10 * second;\n/**\n * GossipsubMaxIHaveLength is the maximum number of messages to include in an IHAVE message.\n * Also controls the maximum number of IHAVE ids we will accept and request with IWANT from a\n * peer within a heartbeat, to protect from IHAVE floods. You should adjust this value from the\n * default if your system is pushing more than 5000 messages in GossipsubHistoryGossip heartbeats;\n * with the defaults this is 1666 messages/s.\n */\nexport const GossipsubMaxIHaveLength = 5000;\n/**\n * GossipsubMaxIHaveMessages is the maximum number of IHAVE messages to accept from a peer within a heartbeat.\n */\nexport const GossipsubMaxIHaveMessages = 10;\n/**\n * Time to wait for a message requested through IWANT following an IHAVE advertisement.\n * If the message is not received within this window, a broken promise is declared and\n * the router may apply bahavioural penalties.\n */\nexport const GossipsubIWantFollowupTime = 3 * second;\n/**\n * Time in milliseconds to keep message ids in the seen cache\n */\nexport const GossipsubSeenTTL = 2 * minute;\nexport const TimeCacheDuration = 120 * 1000;\nexport const ERR_TOPIC_VALIDATOR_REJECT = 'ERR_TOPIC_VALIDATOR_REJECT';\nexport const ERR_TOPIC_VALIDATOR_IGNORE = 'ERR_TOPIC_VALIDATOR_IGNORE';\n/**\n * If peer score is better than this, we accept messages from this peer\n * within ACCEPT_FROM_WHITELIST_DURATION_MS from the last time computing score.\n **/\nexport const ACCEPT_FROM_WHITELIST_THRESHOLD_SCORE = 0;\n/**\n * If peer score >= ACCEPT_FROM_WHITELIST_THRESHOLD_SCORE, accept up to this\n * number of messages from that peer.\n */\nexport const ACCEPT_FROM_WHITELIST_MAX_MESSAGES = 128;\n/**\n * If peer score >= ACCEPT_FROM_WHITELIST_THRESHOLD_SCORE, accept messages from\n * this peer up to this time duration.\n */\nexport const ACCEPT_FROM_WHITELIST_DURATION_MS = 1000;\n/**\n * The default MeshMessageDeliveriesWindow to be used in metrics.\n */\nexport const DEFAULT_METRIC_MESH_MESSAGE_DELIVERIES_WINDOWS = 1000;\n/** Wait for 1 more heartbeats before clearing a backoff */\nexport const BACKOFF_SLACK = 1;\n//# sourceMappingURL=constants.js.map","/**\n * Pseudo-randomly shuffles an array\n *\n * Mutates the input array\n */\nexport function shuffle(arr) {\n    if (arr.length <= 1) {\n        return arr;\n    }\n    const randInt = () => {\n        return Math.floor(Math.random() * Math.floor(arr.length));\n    };\n    for (let i = 0; i < arr.length; i++) {\n        const j = randInt();\n        const tmp = arr[i];\n        arr[i] = arr[j];\n        arr[j] = tmp;\n    }\n    return arr;\n}\n//# sourceMappingURL=shuffle.js.map","/**\n * To guarantee Uint8Array semantics, convert nodejs Buffers\n * into vanilla Uint8Arrays\n */\nexport function asUint8Array(buf) {\n    if (globalThis.Buffer != null) {\n        return new Uint8Array(buf.buffer, buf.byteOffset, buf.byteLength);\n    }\n    return buf;\n}\n//# sourceMappingURL=as-uint8array.js.map","import { asUint8Array } from './util/as-uint8array.js';\n/**\n * Returns a `Uint8Array` of the requested size. Referenced memory will\n * be initialized to 0.\n */\nexport function alloc(size = 0) {\n    if (globalThis.Buffer?.alloc != null) {\n        return asUint8Array(globalThis.Buffer.alloc(size));\n    }\n    return new Uint8Array(size);\n}\n/**\n * Where possible returns a Uint8Array of the requested size that references\n * uninitialized memory. Only use if you are certain you will immediately\n * overwrite every value in the returned `Uint8Array`.\n */\nexport function allocUnsafe(size = 0) {\n    if (globalThis.Buffer?.allocUnsafe != null) {\n        return asUint8Array(globalThis.Buffer.allocUnsafe(size));\n    }\n    return new Uint8Array(size);\n}\n//# sourceMappingURL=alloc.js.map","import { bases } from 'multiformats/basics';\nimport { allocUnsafe } from '../alloc.js';\nfunction createCodec(name, prefix, encode, decode) {\n    return {\n        name,\n        prefix,\n        encoder: {\n            name,\n            prefix,\n            encode\n        },\n        decoder: {\n            decode\n        }\n    };\n}\nconst string = createCodec('utf8', 'u', (buf) => {\n    const decoder = new TextDecoder('utf8');\n    return 'u' + decoder.decode(buf);\n}, (str) => {\n    const encoder = new TextEncoder();\n    return encoder.encode(str.substring(1));\n});\nconst ascii = createCodec('ascii', 'a', (buf) => {\n    let string = 'a';\n    for (let i = 0; i < buf.length; i++) {\n        string += String.fromCharCode(buf[i]);\n    }\n    return string;\n}, (str) => {\n    str = str.substring(1);\n    const buf = allocUnsafe(str.length);\n    for (let i = 0; i < str.length; i++) {\n        buf[i] = str.charCodeAt(i);\n    }\n    return buf;\n});\nconst BASES = {\n    utf8: string,\n    'utf-8': string,\n    hex: bases.base16,\n    latin1: ascii,\n    ascii,\n    binary: ascii,\n    ...bases\n};\nexport default BASES;\n//# sourceMappingURL=bases.js.map","import bases, {} from './util/bases.js';\n/**\n * Turns a `Uint8Array` into a string.\n *\n * Supports `utf8`, `utf-8` and any encoding supported by the multibase module.\n *\n * Also `ascii` which is similar to node's 'binary' encoding.\n */\nexport function toString(array, encoding = 'utf8') {\n    const base = bases[encoding];\n    if (base == null) {\n        throw new Error(`Unsupported encoding \"${encoding}\"`);\n    }\n    if ((encoding === 'utf8' || encoding === 'utf-8') && globalThis.Buffer != null && globalThis.Buffer.from != null) {\n        return globalThis.Buffer.from(array.buffer, array.byteOffset, array.byteLength).toString('utf8');\n    }\n    // strip multibase prefix\n    return base.encoder.encode(array).substring(1);\n}\n//# sourceMappingURL=to-string.js.map","import { toString } from 'uint8arrays/to-string';\n/**\n * Browser friendly function to convert Uint8Array message id to base64 string.\n */\nexport function messageIdToString(msgId) {\n    return toString(msgId, 'base64');\n}\n//# sourceMappingURL=messageIdToString.js.map","import { asUint8Array } from './util/as-uint8array.js';\nimport bases, {} from './util/bases.js';\n/**\n * Create a `Uint8Array` from the passed string\n *\n * Supports `utf8`, `utf-8`, `hex`, and any encoding supported by the multiformats module.\n *\n * Also `ascii` which is similar to node's 'binary' encoding.\n */\nexport function fromString(string, encoding = 'utf8') {\n    const base = bases[encoding];\n    if (base == null) {\n        throw new Error(`Unsupported encoding \"${encoding}\"`);\n    }\n    if ((encoding === 'utf8' || encoding === 'utf-8') && globalThis.Buffer != null && globalThis.Buffer.from != null) {\n        return asUint8Array(globalThis.Buffer.from(string, 'utf-8'));\n    }\n    // add multibase prefix\n    return base.decoder.decode(`${base.prefix}${string}`); // eslint-disable-line @typescript-eslint/restrict-template-expressions\n}\n//# sourceMappingURL=from-string.js.map","import { ed25519 as ed } from '@noble/curves/ed25519';\nconst PUBLIC_KEY_BYTE_LENGTH = 32;\nconst PRIVATE_KEY_BYTE_LENGTH = 64; // private key is actually 32 bytes but for historical reasons we concat private and public keys\nconst KEYS_BYTE_LENGTH = 32;\nexport { PUBLIC_KEY_BYTE_LENGTH as publicKeyLength };\nexport { PRIVATE_KEY_BYTE_LENGTH as privateKeyLength };\nexport async function generateKey() {\n    // the actual private key (32 bytes)\n    const privateKeyRaw = ed.utils.randomPrivateKey();\n    const publicKey = ed.getPublicKey(privateKeyRaw);\n    // concatenated the public key to the private key\n    const privateKey = concatKeys(privateKeyRaw, publicKey);\n    return {\n        privateKey,\n        publicKey\n    };\n}\n/**\n * Generate keypair from a 32 byte uint8array\n */\nexport async function generateKeyFromSeed(seed) {\n    if (seed.length !== KEYS_BYTE_LENGTH) {\n        throw new TypeError('\"seed\" must be 32 bytes in length.');\n    }\n    else if (!(seed instanceof Uint8Array)) {\n        throw new TypeError('\"seed\" must be a node.js Buffer, or Uint8Array.');\n    }\n    // based on node forges algorithm, the seed is used directly as private key\n    const privateKeyRaw = seed;\n    const publicKey = ed.getPublicKey(privateKeyRaw);\n    const privateKey = concatKeys(privateKeyRaw, publicKey);\n    return {\n        privateKey,\n        publicKey\n    };\n}\nexport async function hashAndSign(privateKey, msg) {\n    const privateKeyRaw = privateKey.subarray(0, KEYS_BYTE_LENGTH);\n    return ed.sign(msg, privateKeyRaw);\n}\nexport async function hashAndVerify(publicKey, sig, msg) {\n    return ed.verify(sig, msg, publicKey);\n}\nfunction concatKeys(privateKeyRaw, publicKey) {\n    const privateKey = new Uint8Array(PRIVATE_KEY_BYTE_LENGTH);\n    for (let i = 0; i < KEYS_BYTE_LENGTH; i++) {\n        privateKey[i] = privateKeyRaw[i];\n        privateKey[KEYS_BYTE_LENGTH + i] = publicKey[i];\n    }\n    return privateKey;\n}\n//# sourceMappingURL=ed25519-browser.js.map","import { allocUnsafe } from './alloc.js';\nimport { asUint8Array } from './util/as-uint8array.js';\n/**\n * Returns a new Uint8Array created by concatenating the passed ArrayLikes\n */\nexport function concat(arrays, length) {\n    if (length == null) {\n        length = arrays.reduce((acc, curr) => acc + curr.length, 0);\n    }\n    const output = allocUnsafe(length);\n    let offset = 0;\n    for (const arr of arrays) {\n        output.set(arr, offset);\n        offset += arr.length;\n    }\n    return asUint8Array(output);\n}\n//# sourceMappingURL=concat.js.map","/* eslint-env browser */\n// Check native crypto exists and is enabled (In insecure context `self.crypto`\n// exists but `self.crypto.subtle` does not).\nexport default {\n    get(win = globalThis) {\n        const nativeCrypto = win.crypto;\n        if (nativeCrypto == null || nativeCrypto.subtle == null) {\n            throw Object.assign(new Error('Missing Web Crypto API. ' +\n                'The most likely cause of this error is that this page is being accessed ' +\n                'from an insecure context (i.e. not HTTPS). For more information and ' +\n                'possible resolutions see ' +\n                'https://github.com/libp2p/js-libp2p-crypto/blob/master/README.md#web-crypto-api'), { code: 'ERR_MISSING_WEB_CRYPTO' });\n        }\n        return nativeCrypto;\n    }\n};\n//# sourceMappingURL=webcrypto.js.map","import { concat } from 'uint8arrays/concat';\nimport { fromString } from 'uint8arrays/from-string';\nimport webcrypto from '../webcrypto.js';\n// WebKit on Linux does not support deriving a key from an empty PBKDF2 key.\n// So, as a workaround, we provide the generated key as a constant. We test that\n// this generated key is accurate in test/workaround.spec.ts\n// Generated via:\n// await crypto.subtle.exportKey('jwk',\n//   await crypto.subtle.deriveKey(\n//     { name: 'PBKDF2', salt: new Uint8Array(16), iterations: 32767, hash: { name: 'SHA-256' } },\n//     await crypto.subtle.importKey('raw', new Uint8Array(0), { name: 'PBKDF2' }, false, ['deriveKey']),\n//     { name: 'AES-GCM', length: 128 }, true, ['encrypt', 'decrypt'])\n// )\nexport const derivedEmptyPasswordKey = { alg: 'A128GCM', ext: true, k: 'scm9jmO_4BJAgdwWGVulLg', key_ops: ['encrypt', 'decrypt'], kty: 'oct' };\n// Based off of code from https://github.com/luke-park/SecureCompatibleEncryptionExamples\nexport function create(opts) {\n    const algorithm = opts?.algorithm ?? 'AES-GCM';\n    let keyLength = opts?.keyLength ?? 16;\n    const nonceLength = opts?.nonceLength ?? 12;\n    const digest = opts?.digest ?? 'SHA-256';\n    const saltLength = opts?.saltLength ?? 16;\n    const iterations = opts?.iterations ?? 32767;\n    const crypto = webcrypto.get();\n    keyLength *= 8; // Browser crypto uses bits instead of bytes\n    /**\n     * Uses the provided password to derive a pbkdf2 key. The key\n     * will then be used to encrypt the data.\n     */\n    async function encrypt(data, password) {\n        const salt = crypto.getRandomValues(new Uint8Array(saltLength));\n        const nonce = crypto.getRandomValues(new Uint8Array(nonceLength));\n        const aesGcm = { name: algorithm, iv: nonce };\n        if (typeof password === 'string') {\n            password = fromString(password);\n        }\n        let cryptoKey;\n        if (password.length === 0) {\n            cryptoKey = await crypto.subtle.importKey('jwk', derivedEmptyPasswordKey, { name: 'AES-GCM' }, true, ['encrypt']);\n            try {\n                const deriveParams = { name: 'PBKDF2', salt, iterations, hash: { name: digest } };\n                const runtimeDerivedEmptyPassword = await crypto.subtle.importKey('raw', password, { name: 'PBKDF2' }, false, ['deriveKey']);\n                cryptoKey = await crypto.subtle.deriveKey(deriveParams, runtimeDerivedEmptyPassword, { name: algorithm, length: keyLength }, true, ['encrypt']);\n            }\n            catch {\n                cryptoKey = await crypto.subtle.importKey('jwk', derivedEmptyPasswordKey, { name: 'AES-GCM' }, true, ['encrypt']);\n            }\n        }\n        else {\n            // Derive a key using PBKDF2.\n            const deriveParams = { name: 'PBKDF2', salt, iterations, hash: { name: digest } };\n            const rawKey = await crypto.subtle.importKey('raw', password, { name: 'PBKDF2' }, false, ['deriveKey']);\n            cryptoKey = await crypto.subtle.deriveKey(deriveParams, rawKey, { name: algorithm, length: keyLength }, true, ['encrypt']);\n        }\n        // Encrypt the string.\n        const ciphertext = await crypto.subtle.encrypt(aesGcm, cryptoKey, data);\n        return concat([salt, aesGcm.iv, new Uint8Array(ciphertext)]);\n    }\n    /**\n     * Uses the provided password to derive a pbkdf2 key. The key\n     * will then be used to decrypt the data. The options used to create\n     * this decryption cipher must be the same as those used to create\n     * the encryption cipher.\n     */\n    async function decrypt(data, password) {\n        const salt = data.subarray(0, saltLength);\n        const nonce = data.subarray(saltLength, saltLength + nonceLength);\n        const ciphertext = data.subarray(saltLength + nonceLength);\n        const aesGcm = { name: algorithm, iv: nonce };\n        if (typeof password === 'string') {\n            password = fromString(password);\n        }\n        let cryptoKey;\n        if (password.length === 0) {\n            try {\n                const deriveParams = { name: 'PBKDF2', salt, iterations, hash: { name: digest } };\n                const runtimeDerivedEmptyPassword = await crypto.subtle.importKey('raw', password, { name: 'PBKDF2' }, false, ['deriveKey']);\n                cryptoKey = await crypto.subtle.deriveKey(deriveParams, runtimeDerivedEmptyPassword, { name: algorithm, length: keyLength }, true, ['decrypt']);\n            }\n            catch {\n                cryptoKey = await crypto.subtle.importKey('jwk', derivedEmptyPasswordKey, { name: 'AES-GCM' }, true, ['decrypt']);\n            }\n        }\n        else {\n            // Derive the key using PBKDF2.\n            const deriveParams = { name: 'PBKDF2', salt, iterations, hash: { name: digest } };\n            const rawKey = await crypto.subtle.importKey('raw', password, { name: 'PBKDF2' }, false, ['deriveKey']);\n            cryptoKey = await crypto.subtle.deriveKey(deriveParams, rawKey, { name: algorithm, length: keyLength }, true, ['decrypt']);\n        }\n        // Decrypt the string.\n        const plaintext = await crypto.subtle.decrypt(aesGcm, cryptoKey, ciphertext);\n        return new Uint8Array(plaintext);\n    }\n    const cipher = {\n        encrypt,\n        decrypt\n    };\n    return cipher;\n}\n//# sourceMappingURL=aes-gcm.browser.js.map","import { base64 } from 'multiformats/bases/base64';\nimport * as ciphers from '../ciphers/aes-gcm.js';\n/**\n * Exports the given PrivateKey as a base64 encoded string.\n * The PrivateKey is encrypted via a password derived PBKDF2 key\n * leveraging the aes-gcm cipher algorithm.\n */\nexport async function exporter(privateKey, password) {\n    const cipher = ciphers.create();\n    const encryptedKey = await cipher.encrypt(privateKey, password);\n    return base64.encode(encryptedKey);\n}\n//# sourceMappingURL=exporter.js.map","/* eslint-disable import/export */\n/* eslint-disable complexity */\n/* eslint-disable @typescript-eslint/no-namespace */\n/* eslint-disable @typescript-eslint/no-unnecessary-boolean-literal-compare */\n/* eslint-disable @typescript-eslint/no-empty-interface */\nimport { enumeration, encodeMessage, decodeMessage, message } from 'protons-runtime';\nexport var KeyType;\n(function (KeyType) {\n    KeyType[\"RSA\"] = \"RSA\";\n    KeyType[\"Ed25519\"] = \"Ed25519\";\n    KeyType[\"Secp256k1\"] = \"Secp256k1\";\n})(KeyType || (KeyType = {}));\nvar __KeyTypeValues;\n(function (__KeyTypeValues) {\n    __KeyTypeValues[__KeyTypeValues[\"RSA\"] = 0] = \"RSA\";\n    __KeyTypeValues[__KeyTypeValues[\"Ed25519\"] = 1] = \"Ed25519\";\n    __KeyTypeValues[__KeyTypeValues[\"Secp256k1\"] = 2] = \"Secp256k1\";\n})(__KeyTypeValues || (__KeyTypeValues = {}));\n(function (KeyType) {\n    KeyType.codec = () => {\n        return enumeration(__KeyTypeValues);\n    };\n})(KeyType || (KeyType = {}));\nexport var PublicKey;\n(function (PublicKey) {\n    let _codec;\n    PublicKey.codec = () => {\n        if (_codec == null) {\n            _codec = message((obj, w, opts = {}) => {\n                if (opts.lengthDelimited !== false) {\n                    w.fork();\n                }\n                if (obj.Type != null) {\n                    w.uint32(8);\n                    KeyType.codec().encode(obj.Type, w);\n                }\n                if (obj.Data != null) {\n                    w.uint32(18);\n                    w.bytes(obj.Data);\n                }\n                if (opts.lengthDelimited !== false) {\n                    w.ldelim();\n                }\n            }, (reader, length) => {\n                const obj = {};\n                const end = length == null ? reader.len : reader.pos + length;\n                while (reader.pos < end) {\n                    const tag = reader.uint32();\n                    switch (tag >>> 3) {\n                        case 1:\n                            obj.Type = KeyType.codec().decode(reader);\n                            break;\n                        case 2:\n                            obj.Data = reader.bytes();\n                            break;\n                        default:\n                            reader.skipType(tag & 7);\n                            break;\n                    }\n                }\n                return obj;\n            });\n        }\n        return _codec;\n    };\n    PublicKey.encode = (obj) => {\n        return encodeMessage(obj, PublicKey.codec());\n    };\n    PublicKey.decode = (buf) => {\n        return decodeMessage(buf, PublicKey.codec());\n    };\n})(PublicKey || (PublicKey = {}));\nexport var PrivateKey;\n(function (PrivateKey) {\n    let _codec;\n    PrivateKey.codec = () => {\n        if (_codec == null) {\n            _codec = message((obj, w, opts = {}) => {\n                if (opts.lengthDelimited !== false) {\n                    w.fork();\n                }\n                if (obj.Type != null) {\n                    w.uint32(8);\n                    KeyType.codec().encode(obj.Type, w);\n                }\n                if (obj.Data != null) {\n                    w.uint32(18);\n                    w.bytes(obj.Data);\n                }\n                if (opts.lengthDelimited !== false) {\n                    w.ldelim();\n                }\n            }, (reader, length) => {\n                const obj = {};\n                const end = length == null ? reader.len : reader.pos + length;\n                while (reader.pos < end) {\n                    const tag = reader.uint32();\n                    switch (tag >>> 3) {\n                        case 1:\n                            obj.Type = KeyType.codec().decode(reader);\n                            break;\n                        case 2:\n                            obj.Data = reader.bytes();\n                            break;\n                        default:\n                            reader.skipType(tag & 7);\n                            break;\n                    }\n                }\n                return obj;\n            });\n        }\n        return _codec;\n    };\n    PrivateKey.encode = (obj) => {\n        return encodeMessage(obj, PrivateKey.codec());\n    };\n    PrivateKey.decode = (buf) => {\n        return decodeMessage(buf, PrivateKey.codec());\n    };\n})(PrivateKey || (PrivateKey = {}));\n//# sourceMappingURL=keys.js.map","import { CodeError } from '@libp2p/interface/errors';\nimport { base58btc } from 'multiformats/bases/base58';\nimport { identity } from 'multiformats/hashes/identity';\nimport { sha256 } from 'multiformats/hashes/sha2';\nimport { equals as uint8ArrayEquals } from 'uint8arrays/equals';\nimport * as crypto from './ed25519.js';\nimport { exporter } from './exporter.js';\nimport * as pbm from './keys.js';\nexport class Ed25519PublicKey {\n    _key;\n    constructor(key) {\n        this._key = ensureKey(key, crypto.publicKeyLength);\n    }\n    async verify(data, sig) {\n        return crypto.hashAndVerify(this._key, sig, data);\n    }\n    marshal() {\n        return this._key;\n    }\n    get bytes() {\n        return pbm.PublicKey.encode({\n            Type: pbm.KeyType.Ed25519,\n            Data: this.marshal()\n        }).subarray();\n    }\n    equals(key) {\n        return uint8ArrayEquals(this.bytes, key.bytes);\n    }\n    async hash() {\n        const { bytes } = await sha256.digest(this.bytes);\n        return bytes;\n    }\n}\nexport class Ed25519PrivateKey {\n    _key;\n    _publicKey;\n    // key       - 64 byte Uint8Array containing private key\n    // publicKey - 32 byte Uint8Array containing public key\n    constructor(key, publicKey) {\n        this._key = ensureKey(key, crypto.privateKeyLength);\n        this._publicKey = ensureKey(publicKey, crypto.publicKeyLength);\n    }\n    async sign(message) {\n        return crypto.hashAndSign(this._key, message);\n    }\n    get public() {\n        return new Ed25519PublicKey(this._publicKey);\n    }\n    marshal() {\n        return this._key;\n    }\n    get bytes() {\n        return pbm.PrivateKey.encode({\n            Type: pbm.KeyType.Ed25519,\n            Data: this.marshal()\n        }).subarray();\n    }\n    equals(key) {\n        return uint8ArrayEquals(this.bytes, key.bytes);\n    }\n    async hash() {\n        const { bytes } = await sha256.digest(this.bytes);\n        return bytes;\n    }\n    /**\n     * Gets the ID of the key.\n     *\n     * The key id is the base58 encoding of the identity multihash containing its public key.\n     * The public key is a protobuf encoding containing a type and the DER encoding\n     * of the PKCS SubjectPublicKeyInfo.\n     *\n     * @returns {Promise<string>}\n     */\n    async id() {\n        const encoding = identity.digest(this.public.bytes);\n        return base58btc.encode(encoding.bytes).substring(1);\n    }\n    /**\n     * Exports the key into a password protected `format`\n     */\n    async export(password, format = 'libp2p-key') {\n        if (format === 'libp2p-key') {\n            return exporter(this.bytes, password);\n        }\n        else {\n            throw new CodeError(`export format '${format}' is not supported`, 'ERR_INVALID_EXPORT_FORMAT');\n        }\n    }\n}\nexport function unmarshalEd25519PrivateKey(bytes) {\n    // Try the old, redundant public key version\n    if (bytes.length > crypto.privateKeyLength) {\n        bytes = ensureKey(bytes, crypto.privateKeyLength + crypto.publicKeyLength);\n        const privateKeyBytes = bytes.subarray(0, crypto.privateKeyLength);\n        const publicKeyBytes = bytes.subarray(crypto.privateKeyLength, bytes.length);\n        return new Ed25519PrivateKey(privateKeyBytes, publicKeyBytes);\n    }\n    bytes = ensureKey(bytes, crypto.privateKeyLength);\n    const privateKeyBytes = bytes.subarray(0, crypto.privateKeyLength);\n    const publicKeyBytes = bytes.subarray(crypto.publicKeyLength);\n    return new Ed25519PrivateKey(privateKeyBytes, publicKeyBytes);\n}\nexport function unmarshalEd25519PublicKey(bytes) {\n    bytes = ensureKey(bytes, crypto.publicKeyLength);\n    return new Ed25519PublicKey(bytes);\n}\nexport async function generateKeyPair() {\n    const { privateKey, publicKey } = await crypto.generateKey();\n    return new Ed25519PrivateKey(privateKey, publicKey);\n}\nexport async function generateKeyPairFromSeed(seed) {\n    const { privateKey, publicKey } = await crypto.generateKeyFromSeed(seed);\n    return new Ed25519PrivateKey(privateKey, publicKey);\n}\nfunction ensureKey(key, length) {\n    key = Uint8Array.from(key ?? []);\n    if (key.length !== length) {\n        throw new CodeError(`Key must be a Uint8Array of length ${length}, got ${key.length}`, 'ERR_INVALID_KEY_TYPE');\n    }\n    return key;\n}\n//# sourceMappingURL=ed25519-class.js.map","import 'node-forge/lib/util.js';\nimport 'node-forge/lib/jsbn.js';\n// @ts-expect-error types are missing\nimport forge from 'node-forge/lib/forge.js';\nimport { concat as uint8ArrayConcat } from 'uint8arrays/concat';\nimport { fromString as uint8ArrayFromString } from 'uint8arrays/from-string';\nimport { toString as uint8ArrayToString } from 'uint8arrays/to-string';\nexport function bigIntegerToUintBase64url(num, len) {\n    // Call `.abs()` to convert to unsigned\n    let buf = Uint8Array.from(num.abs().toByteArray()); // toByteArray converts to big endian\n    // toByteArray() gives us back a signed array, which will include a leading 0\n    // byte if the most significant bit of the number is 1:\n    // https://docs.microsoft.com/en-us/windows/win32/seccertenroll/about-integer\n    // Our number will always be positive so we should remove the leading padding.\n    buf = buf[0] === 0 ? buf.subarray(1) : buf;\n    if (len != null) {\n        if (buf.length > len)\n            throw new Error('byte array longer than desired length');\n        buf = uint8ArrayConcat([new Uint8Array(len - buf.length), buf]);\n    }\n    return uint8ArrayToString(buf, 'base64url');\n}\n// Convert a base64url encoded string to a BigInteger\nexport function base64urlToBigInteger(str) {\n    const buf = base64urlToBuffer(str);\n    return new forge.jsbn.BigInteger(uint8ArrayToString(buf, 'base16'), 16);\n}\nexport function base64urlToBuffer(str, len) {\n    let buf = uint8ArrayFromString(str, 'base64urlpad');\n    if (len != null) {\n        if (buf.length > len)\n            throw new Error('byte array longer than desired length');\n        buf = uint8ArrayConcat([new Uint8Array(len - buf.length), buf]);\n    }\n    return buf;\n}\n//# sourceMappingURL=util.js.map","import { CodeError } from '@libp2p/interface/errors';\nimport { concat as uint8ArrayConcat } from 'uint8arrays/concat';\nimport { equals as uint8ArrayEquals } from 'uint8arrays/equals';\nimport { toString as uint8ArrayToString } from 'uint8arrays/to-string';\nimport { base64urlToBuffer } from '../util.js';\nimport webcrypto from '../webcrypto.js';\nconst bits = {\n    'P-256': 256,\n    'P-384': 384,\n    'P-521': 521\n};\nconst curveTypes = Object.keys(bits);\nconst names = curveTypes.join(' / ');\nexport async function generateEphmeralKeyPair(curve) {\n    if (curve !== 'P-256' && curve !== 'P-384' && curve !== 'P-521') {\n        throw new CodeError(`Unknown curve: ${curve}. Must be ${names}`, 'ERR_INVALID_CURVE');\n    }\n    const pair = await webcrypto.get().subtle.generateKey({\n        name: 'ECDH',\n        namedCurve: curve\n    }, true, ['deriveBits']);\n    // forcePrivate is used for testing only\n    const genSharedKey = async (theirPub, forcePrivate) => {\n        let privateKey;\n        if (forcePrivate != null) {\n            privateKey = await webcrypto.get().subtle.importKey('jwk', unmarshalPrivateKey(curve, forcePrivate), {\n                name: 'ECDH',\n                namedCurve: curve\n            }, false, ['deriveBits']);\n        }\n        else {\n            privateKey = pair.privateKey;\n        }\n        const key = await webcrypto.get().subtle.importKey('jwk', unmarshalPublicKey(curve, theirPub), {\n            name: 'ECDH',\n            namedCurve: curve\n        }, false, []);\n        const buffer = await webcrypto.get().subtle.deriveBits({\n            name: 'ECDH',\n            // @ts-expect-error namedCurve is missing from the types\n            namedCurve: curve,\n            public: key\n        }, privateKey, bits[curve]);\n        return new Uint8Array(buffer, 0, buffer.byteLength);\n    };\n    const publicKey = await webcrypto.get().subtle.exportKey('jwk', pair.publicKey);\n    const ecdhKey = {\n        key: marshalPublicKey(publicKey),\n        genSharedKey\n    };\n    return ecdhKey;\n}\nconst curveLengths = {\n    'P-256': 32,\n    'P-384': 48,\n    'P-521': 66\n};\n// Marshal converts a jwk encoded ECDH public key into the\n// form specified in section 4.3.6 of ANSI X9.62. (This is the format\n// go-ipfs uses)\nfunction marshalPublicKey(jwk) {\n    if (jwk.crv == null || jwk.x == null || jwk.y == null) {\n        throw new CodeError('JWK was missing components', 'ERR_INVALID_PARAMETERS');\n    }\n    if (jwk.crv !== 'P-256' && jwk.crv !== 'P-384' && jwk.crv !== 'P-521') {\n        throw new CodeError(`Unknown curve: ${jwk.crv}. Must be ${names}`, 'ERR_INVALID_CURVE');\n    }\n    const byteLen = curveLengths[jwk.crv];\n    return uint8ArrayConcat([\n        Uint8Array.from([4]),\n        base64urlToBuffer(jwk.x, byteLen),\n        base64urlToBuffer(jwk.y, byteLen)\n    ], 1 + byteLen * 2);\n}\n// Unmarshal converts a point, serialized by Marshal, into an jwk encoded key\nfunction unmarshalPublicKey(curve, key) {\n    if (curve !== 'P-256' && curve !== 'P-384' && curve !== 'P-521') {\n        throw new CodeError(`Unknown curve: ${curve}. Must be ${names}`, 'ERR_INVALID_CURVE');\n    }\n    const byteLen = curveLengths[curve];\n    if (!uint8ArrayEquals(key.subarray(0, 1), Uint8Array.from([4]))) {\n        throw new CodeError('Cannot unmarshal public key - invalid key format', 'ERR_INVALID_KEY_FORMAT');\n    }\n    return {\n        kty: 'EC',\n        crv: curve,\n        x: uint8ArrayToString(key.subarray(1, byteLen + 1), 'base64url'),\n        y: uint8ArrayToString(key.subarray(1 + byteLen), 'base64url'),\n        ext: true\n    };\n}\nconst unmarshalPrivateKey = (curve, key) => ({\n    ...unmarshalPublicKey(curve, key.public),\n    d: uint8ArrayToString(key.private, 'base64url')\n});\n//# sourceMappingURL=ecdh-browser.js.map","export const crypto = typeof globalThis === 'object' && 'crypto' in globalThis ? globalThis.crypto : undefined;\n//# sourceMappingURL=crypto.js.map","/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n// We use WebCrypto aka globalThis.crypto, which exists in browsers and node.js 16+.\n// node.js versions earlier than v19 don't declare it in global scope.\n// For node.js, package.json#exports field mapping rewrites import\n// from `crypto` to `cryptoNode`, which imports native module.\n// Makes the utils un-importable in browsers without a bundler.\n// Once node.js 18 is deprecated, we can just drop the import.\nimport { crypto } from '@noble/hashes/crypto';\nconst u8a = (a) => a instanceof Uint8Array;\n// Cast array to different type\nexport const u8 = (arr) => new Uint8Array(arr.buffer, arr.byteOffset, arr.byteLength);\nexport const u32 = (arr) => new Uint32Array(arr.buffer, arr.byteOffset, Math.floor(arr.byteLength / 4));\n// Cast array to view\nexport const createView = (arr) => new DataView(arr.buffer, arr.byteOffset, arr.byteLength);\n// The rotate right (circular right shift) operation for uint32\nexport const rotr = (word, shift) => (word << (32 - shift)) | (word >>> shift);\n// big-endian hardware is rare. Just in case someone still decides to run hashes:\n// early-throw an error because we don't support BE yet.\nexport const isLE = new Uint8Array(new Uint32Array([0x11223344]).buffer)[0] === 0x44;\nif (!isLE)\n    throw new Error('Non little-endian hardware is not supported');\nconst hexes = /* @__PURE__ */ Array.from({ length: 256 }, (_, i) => i.toString(16).padStart(2, '0'));\n/**\n * @example bytesToHex(Uint8Array.from([0xca, 0xfe, 0x01, 0x23])) // 'cafe0123'\n */\nexport function bytesToHex(bytes) {\n    if (!u8a(bytes))\n        throw new Error('Uint8Array expected');\n    // pre-caching improves the speed 6x\n    let hex = '';\n    for (let i = 0; i < bytes.length; i++) {\n        hex += hexes[bytes[i]];\n    }\n    return hex;\n}\n/**\n * @example hexToBytes('cafe0123') // Uint8Array.from([0xca, 0xfe, 0x01, 0x23])\n */\nexport function hexToBytes(hex) {\n    if (typeof hex !== 'string')\n        throw new Error('hex string expected, got ' + typeof hex);\n    const len = hex.length;\n    if (len % 2)\n        throw new Error('padded hex string expected, got unpadded hex of length ' + len);\n    const array = new Uint8Array(len / 2);\n    for (let i = 0; i < array.length; i++) {\n        const j = i * 2;\n        const hexByte = hex.slice(j, j + 2);\n        const byte = Number.parseInt(hexByte, 16);\n        if (Number.isNaN(byte) || byte < 0)\n            throw new Error('Invalid byte sequence');\n        array[i] = byte;\n    }\n    return array;\n}\n// There is no setImmediate in browser and setTimeout is slow.\n// call of async fn will return Promise, which will be fullfiled only on\n// next scheduler queue processing step and this is exactly what we need.\nexport const nextTick = async () => { };\n// Returns control to thread each 'tick' ms to avoid blocking\nexport async function asyncLoop(iters, tick, cb) {\n    let ts = Date.now();\n    for (let i = 0; i < iters; i++) {\n        cb(i);\n        // Date.now() is not monotonic, so in case if clock goes backwards we return return control too\n        const diff = Date.now() - ts;\n        if (diff >= 0 && diff < tick)\n            continue;\n        await nextTick();\n        ts += diff;\n    }\n}\n/**\n * @example utf8ToBytes('abc') // new Uint8Array([97, 98, 99])\n */\nexport function utf8ToBytes(str) {\n    if (typeof str !== 'string')\n        throw new Error(`utf8ToBytes expected string, got ${typeof str}`);\n    return new Uint8Array(new TextEncoder().encode(str)); // https://bugzil.la/1681809\n}\n/**\n * Normalizes (non-hex) string or Uint8Array to Uint8Array.\n * Warning: when Uint8Array is passed, it would NOT get copied.\n * Keep in mind for future mutable operations.\n */\nexport function toBytes(data) {\n    if (typeof data === 'string')\n        data = utf8ToBytes(data);\n    if (!u8a(data))\n        throw new Error(`expected Uint8Array, got ${typeof data}`);\n    return data;\n}\n/**\n * Copies several Uint8Arrays into one.\n */\nexport function concatBytes(...arrays) {\n    const r = new Uint8Array(arrays.reduce((sum, a) => sum + a.length, 0));\n    let pad = 0; // walk through each item, ensure they have proper type\n    arrays.forEach((a) => {\n        if (!u8a(a))\n            throw new Error('Uint8Array expected');\n        r.set(a, pad);\n        pad += a.length;\n    });\n    return r;\n}\n// For runtime check if class implements interface\nexport class Hash {\n    // Safe version that clones internal state\n    clone() {\n        return this._cloneInto();\n    }\n}\nconst toStr = {}.toString;\nexport function checkOpts(defaults, opts) {\n    if (opts !== undefined && toStr.call(opts) !== '[object Object]')\n        throw new Error('Options should be object or undefined');\n    const merged = Object.assign(defaults, opts);\n    return merged;\n}\nexport function wrapConstructor(hashCons) {\n    const hashC = (msg) => hashCons().update(toBytes(msg)).digest();\n    const tmp = hashCons();\n    hashC.outputLen = tmp.outputLen;\n    hashC.blockLen = tmp.blockLen;\n    hashC.create = () => hashCons();\n    return hashC;\n}\nexport function wrapConstructorWithOpts(hashCons) {\n    const hashC = (msg, opts) => hashCons(opts).update(toBytes(msg)).digest();\n    const tmp = hashCons({});\n    hashC.outputLen = tmp.outputLen;\n    hashC.blockLen = tmp.blockLen;\n    hashC.create = (opts) => hashCons(opts);\n    return hashC;\n}\nexport function wrapXOFConstructorWithOpts(hashCons) {\n    const hashC = (msg, opts) => hashCons(opts).update(toBytes(msg)).digest();\n    const tmp = hashCons({});\n    hashC.outputLen = tmp.outputLen;\n    hashC.blockLen = tmp.blockLen;\n    hashC.create = (opts) => hashCons(opts);\n    return hashC;\n}\n/**\n * Secure PRNG. Uses `crypto.getRandomValues`, which defers to OS.\n */\nexport function randomBytes(bytesLength = 32) {\n    if (crypto && typeof crypto.getRandomValues === 'function') {\n        return crypto.getRandomValues(new Uint8Array(bytesLength));\n    }\n    throw new Error('crypto.getRandomValues must be defined');\n}\n//# sourceMappingURL=utils.js.map","import { CodeError } from '@libp2p/interface/errors';\nimport { randomBytes as randB } from '@noble/hashes/utils';\nexport default function randomBytes(length) {\n    if (isNaN(length) || length <= 0) {\n        throw new CodeError('random bytes length must be a Number bigger than 0', 'ERR_INVALID_LENGTH');\n    }\n    return randB(length);\n}\n//# sourceMappingURL=random-bytes.js.map","import 'node-forge/lib/rsa.js';\n// @ts-expect-error types are missing\nimport forge from 'node-forge/lib/forge.js';\nimport { base64urlToBigInteger } from '../util.js';\nfunction convert(key, types) {\n    return types.map(t => base64urlToBigInteger(key[t]));\n}\nexport function jwk2priv(key) {\n    return forge.pki.setRsaPrivateKey(...convert(key, ['n', 'e', 'd', 'p', 'q', 'dp', 'dq', 'qi']));\n}\nexport function jwk2pub(key) {\n    return forge.pki.setRsaPublicKey(...convert(key, ['n', 'e']));\n}\n//# sourceMappingURL=jwk2pem.js.map","import { CodeError } from '@libp2p/interface/errors';\nimport { fromString as uint8ArrayFromString } from 'uint8arrays/from-string';\nimport { toString as uint8ArrayToString } from 'uint8arrays/to-string';\nimport randomBytes from '../random-bytes.js';\nimport webcrypto from '../webcrypto.js';\nimport { jwk2pub, jwk2priv } from './jwk2pem.js';\nimport * as utils from './rsa-utils.js';\nexport { utils };\nexport async function generateKey(bits) {\n    const pair = await webcrypto.get().subtle.generateKey({\n        name: 'RSASSA-PKCS1-v1_5',\n        modulusLength: bits,\n        publicExponent: new Uint8Array([0x01, 0x00, 0x01]),\n        hash: { name: 'SHA-256' }\n    }, true, ['sign', 'verify']);\n    const keys = await exportKey(pair);\n    return {\n        privateKey: keys[0],\n        publicKey: keys[1]\n    };\n}\n// Takes a jwk key\nexport async function unmarshalPrivateKey(key) {\n    const privateKey = await webcrypto.get().subtle.importKey('jwk', key, {\n        name: 'RSASSA-PKCS1-v1_5',\n        hash: { name: 'SHA-256' }\n    }, true, ['sign']);\n    const pair = [\n        privateKey,\n        await derivePublicFromPrivate(key)\n    ];\n    const keys = await exportKey({\n        privateKey: pair[0],\n        publicKey: pair[1]\n    });\n    return {\n        privateKey: keys[0],\n        publicKey: keys[1]\n    };\n}\nexport { randomBytes as getRandomValues };\nexport async function hashAndSign(key, msg) {\n    const privateKey = await webcrypto.get().subtle.importKey('jwk', key, {\n        name: 'RSASSA-PKCS1-v1_5',\n        hash: { name: 'SHA-256' }\n    }, false, ['sign']);\n    const sig = await webcrypto.get().subtle.sign({ name: 'RSASSA-PKCS1-v1_5' }, privateKey, Uint8Array.from(msg));\n    return new Uint8Array(sig, 0, sig.byteLength);\n}\nexport async function hashAndVerify(key, sig, msg) {\n    const publicKey = await webcrypto.get().subtle.importKey('jwk', key, {\n        name: 'RSASSA-PKCS1-v1_5',\n        hash: { name: 'SHA-256' }\n    }, false, ['verify']);\n    return webcrypto.get().subtle.verify({ name: 'RSASSA-PKCS1-v1_5' }, publicKey, sig, msg);\n}\nasync function exportKey(pair) {\n    if (pair.privateKey == null || pair.publicKey == null) {\n        throw new CodeError('Private and public key are required', 'ERR_INVALID_PARAMETERS');\n    }\n    return Promise.all([\n        webcrypto.get().subtle.exportKey('jwk', pair.privateKey),\n        webcrypto.get().subtle.exportKey('jwk', pair.publicKey)\n    ]);\n}\nasync function derivePublicFromPrivate(jwKey) {\n    return webcrypto.get().subtle.importKey('jwk', {\n        kty: jwKey.kty,\n        n: jwKey.n,\n        e: jwKey.e\n    }, {\n        name: 'RSASSA-PKCS1-v1_5',\n        hash: { name: 'SHA-256' }\n    }, true, ['verify']);\n}\n/*\n\nRSA encryption/decryption for the browser with webcrypto workaround\n\"bloody dark magic. webcrypto's why.\"\n\nExplanation:\n  - Convert JWK to nodeForge\n  - Convert msg Uint8Array to nodeForge buffer: ByteBuffer is a \"binary-string backed buffer\", so let's make our Uint8Array a binary string\n  - Convert resulting nodeForge buffer to Uint8Array: it returns a binary string, turn that into a Uint8Array\n\n*/\nfunction convertKey(key, pub, msg, handle) {\n    const fkey = pub ? jwk2pub(key) : jwk2priv(key);\n    const fmsg = uint8ArrayToString(Uint8Array.from(msg), 'ascii');\n    const fomsg = handle(fmsg, fkey);\n    return uint8ArrayFromString(fomsg, 'ascii');\n}\nexport function encrypt(key, msg) {\n    return convertKey(key, true, msg, (msg, key) => key.encrypt(msg));\n}\nexport function decrypt(key, msg) {\n    return convertKey(key, false, msg, (msg, key) => key.decrypt(msg));\n}\nexport function keySize(jwk) {\n    if (jwk.kty !== 'RSA') {\n        throw new CodeError('invalid key type', 'ERR_INVALID_KEY_TYPE');\n    }\n    else if (jwk.n == null) {\n        throw new CodeError('invalid key modulus', 'ERR_INVALID_KEY_MODULUS');\n    }\n    const bytes = uint8ArrayFromString(jwk.n, 'base64url');\n    return bytes.length * 8;\n}\n//# sourceMappingURL=rsa-browser.js.map","import { CodeError } from '@libp2p/interface/errors';\nimport { sha256 } from 'multiformats/hashes/sha2';\n// @ts-expect-error types are missing\nimport forge from 'node-forge/lib/forge.js';\nimport { equals as uint8ArrayEquals } from 'uint8arrays/equals';\nimport 'node-forge/lib/sha512.js';\nimport { toString as uint8ArrayToString } from 'uint8arrays/to-string';\nimport { exporter } from './exporter.js';\nimport * as pbm from './keys.js';\nimport * as crypto from './rsa.js';\nexport const MAX_KEY_SIZE = 8192;\nexport class RsaPublicKey {\n    _key;\n    constructor(key) {\n        this._key = key;\n    }\n    async verify(data, sig) {\n        return crypto.hashAndVerify(this._key, sig, data);\n    }\n    marshal() {\n        return crypto.utils.jwkToPkix(this._key);\n    }\n    get bytes() {\n        return pbm.PublicKey.encode({\n            Type: pbm.KeyType.RSA,\n            Data: this.marshal()\n        }).subarray();\n    }\n    encrypt(bytes) {\n        return crypto.encrypt(this._key, bytes);\n    }\n    equals(key) {\n        return uint8ArrayEquals(this.bytes, key.bytes);\n    }\n    async hash() {\n        const { bytes } = await sha256.digest(this.bytes);\n        return bytes;\n    }\n}\nexport class RsaPrivateKey {\n    _key;\n    _publicKey;\n    constructor(key, publicKey) {\n        this._key = key;\n        this._publicKey = publicKey;\n    }\n    genSecret() {\n        return crypto.getRandomValues(16);\n    }\n    async sign(message) {\n        return crypto.hashAndSign(this._key, message);\n    }\n    get public() {\n        if (this._publicKey == null) {\n            throw new CodeError('public key not provided', 'ERR_PUBKEY_NOT_PROVIDED');\n        }\n        return new RsaPublicKey(this._publicKey);\n    }\n    decrypt(bytes) {\n        return crypto.decrypt(this._key, bytes);\n    }\n    marshal() {\n        return crypto.utils.jwkToPkcs1(this._key);\n    }\n    get bytes() {\n        return pbm.PrivateKey.encode({\n            Type: pbm.KeyType.RSA,\n            Data: this.marshal()\n        }).subarray();\n    }\n    equals(key) {\n        return uint8ArrayEquals(this.bytes, key.bytes);\n    }\n    async hash() {\n        const { bytes } = await sha256.digest(this.bytes);\n        return bytes;\n    }\n    /**\n     * Gets the ID of the key.\n     *\n     * The key id is the base58 encoding of the SHA-256 multihash of its public key.\n     * The public key is a protobuf encoding containing a type and the DER encoding\n     * of the PKCS SubjectPublicKeyInfo.\n     */\n    async id() {\n        const hash = await this.public.hash();\n        return uint8ArrayToString(hash, 'base58btc');\n    }\n    /**\n     * Exports the key into a password protected PEM format\n     */\n    async export(password, format = 'pkcs-8') {\n        if (format === 'pkcs-8') {\n            const buffer = new forge.util.ByteBuffer(this.marshal());\n            const asn1 = forge.asn1.fromDer(buffer);\n            const privateKey = forge.pki.privateKeyFromAsn1(asn1);\n            const options = {\n                algorithm: 'aes256',\n                count: 10000,\n                saltSize: 128 / 8,\n                prfAlgorithm: 'sha512'\n            };\n            return forge.pki.encryptRsaPrivateKey(privateKey, password, options);\n        }\n        else if (format === 'libp2p-key') {\n            return exporter(this.bytes, password);\n        }\n        else {\n            throw new CodeError(`export format '${format}' is not supported`, 'ERR_INVALID_EXPORT_FORMAT');\n        }\n    }\n}\nexport async function unmarshalRsaPrivateKey(bytes) {\n    const jwk = crypto.utils.pkcs1ToJwk(bytes);\n    if (crypto.keySize(jwk) > MAX_KEY_SIZE) {\n        throw new CodeError('key size is too large', 'ERR_KEY_SIZE_TOO_LARGE');\n    }\n    const keys = await crypto.unmarshalPrivateKey(jwk);\n    return new RsaPrivateKey(keys.privateKey, keys.publicKey);\n}\nexport function unmarshalRsaPublicKey(bytes) {\n    const jwk = crypto.utils.pkixToJwk(bytes);\n    if (crypto.keySize(jwk) > MAX_KEY_SIZE) {\n        throw new CodeError('key size is too large', 'ERR_KEY_SIZE_TOO_LARGE');\n    }\n    return new RsaPublicKey(jwk);\n}\nexport async function fromJwk(jwk) {\n    if (crypto.keySize(jwk) > MAX_KEY_SIZE) {\n        throw new CodeError('key size is too large', 'ERR_KEY_SIZE_TOO_LARGE');\n    }\n    const keys = await crypto.unmarshalPrivateKey(jwk);\n    return new RsaPrivateKey(keys.privateKey, keys.publicKey);\n}\nexport async function generateKeyPair(bits) {\n    if (bits > MAX_KEY_SIZE) {\n        throw new CodeError('key size is too large', 'ERR_KEY_SIZE_TOO_LARGE');\n    }\n    const keys = await crypto.generateKey(bits);\n    return new RsaPrivateKey(keys.privateKey, keys.publicKey);\n}\n//# sourceMappingURL=rsa-class.js.map","import 'node-forge/lib/asn1.js';\nimport 'node-forge/lib/rsa.js';\nimport { CodeError } from '@libp2p/interface/errors';\n// @ts-expect-error types are missing\nimport forge from 'node-forge/lib/forge.js';\nimport { fromString as uint8ArrayFromString } from 'uint8arrays/from-string';\nimport { toString as uint8ArrayToString } from 'uint8arrays/to-string';\nimport { bigIntegerToUintBase64url, base64urlToBigInteger } from './../util.js';\n// Convert a PKCS#1 in ASN1 DER format to a JWK key\nexport function pkcs1ToJwk(bytes) {\n    const asn1 = forge.asn1.fromDer(uint8ArrayToString(bytes, 'ascii'));\n    const privateKey = forge.pki.privateKeyFromAsn1(asn1);\n    // https://tools.ietf.org/html/rfc7518#section-6.3.1\n    return {\n        kty: 'RSA',\n        n: bigIntegerToUintBase64url(privateKey.n),\n        e: bigIntegerToUintBase64url(privateKey.e),\n        d: bigIntegerToUintBase64url(privateKey.d),\n        p: bigIntegerToUintBase64url(privateKey.p),\n        q: bigIntegerToUintBase64url(privateKey.q),\n        dp: bigIntegerToUintBase64url(privateKey.dP),\n        dq: bigIntegerToUintBase64url(privateKey.dQ),\n        qi: bigIntegerToUintBase64url(privateKey.qInv),\n        alg: 'RS256'\n    };\n}\n// Convert a JWK key into PKCS#1 in ASN1 DER format\nexport function jwkToPkcs1(jwk) {\n    if (jwk.n == null || jwk.e == null || jwk.d == null || jwk.p == null || jwk.q == null || jwk.dp == null || jwk.dq == null || jwk.qi == null) {\n        throw new CodeError('JWK was missing components', 'ERR_INVALID_PARAMETERS');\n    }\n    const asn1 = forge.pki.privateKeyToAsn1({\n        n: base64urlToBigInteger(jwk.n),\n        e: base64urlToBigInteger(jwk.e),\n        d: base64urlToBigInteger(jwk.d),\n        p: base64urlToBigInteger(jwk.p),\n        q: base64urlToBigInteger(jwk.q),\n        dP: base64urlToBigInteger(jwk.dp),\n        dQ: base64urlToBigInteger(jwk.dq),\n        qInv: base64urlToBigInteger(jwk.qi)\n    });\n    return uint8ArrayFromString(forge.asn1.toDer(asn1).getBytes(), 'ascii');\n}\n// Convert a PKCIX in ASN1 DER format to a JWK key\nexport function pkixToJwk(bytes) {\n    const asn1 = forge.asn1.fromDer(uint8ArrayToString(bytes, 'ascii'));\n    const publicKey = forge.pki.publicKeyFromAsn1(asn1);\n    return {\n        kty: 'RSA',\n        n: bigIntegerToUintBase64url(publicKey.n),\n        e: bigIntegerToUintBase64url(publicKey.e)\n    };\n}\n// Convert a JWK key to PKCIX in ASN1 DER format\nexport function jwkToPkix(jwk) {\n    if (jwk.n == null || jwk.e == null) {\n        throw new CodeError('JWK was missing components', 'ERR_INVALID_PARAMETERS');\n    }\n    const asn1 = forge.pki.publicKeyToAsn1({\n        n: base64urlToBigInteger(jwk.n),\n        e: base64urlToBigInteger(jwk.e)\n    });\n    return uint8ArrayFromString(forge.asn1.toDer(asn1).getBytes(), 'ascii');\n}\n//# sourceMappingURL=rsa-utils.js.map","import { CodeError } from '@libp2p/interface/errors';\nimport { secp256k1 as secp } from '@noble/curves/secp256k1';\nimport { sha256 } from 'multiformats/hashes/sha2';\nconst PRIVATE_KEY_BYTE_LENGTH = 32;\nexport { PRIVATE_KEY_BYTE_LENGTH as privateKeyLength };\nexport function generateKey() {\n    return secp.utils.randomPrivateKey();\n}\n/**\n * Hash and sign message with private key\n */\nexport async function hashAndSign(key, msg) {\n    const { digest } = await sha256.digest(msg);\n    try {\n        const signature = secp.sign(digest, key);\n        return signature.toDERRawBytes();\n    }\n    catch (err) {\n        throw new CodeError(String(err), 'ERR_INVALID_INPUT');\n    }\n}\n/**\n * Hash message and verify signature with public key\n */\nexport async function hashAndVerify(key, sig, msg) {\n    try {\n        const { digest } = await sha256.digest(msg);\n        return secp.verify(sig, digest, key);\n    }\n    catch (err) {\n        throw new CodeError(String(err), 'ERR_INVALID_INPUT');\n    }\n}\nexport function compressPublicKey(key) {\n    const point = secp.ProjectivePoint.fromHex(key).toRawBytes(true);\n    return point;\n}\nexport function decompressPublicKey(key) {\n    const point = secp.ProjectivePoint.fromHex(key).toRawBytes(false);\n    return point;\n}\nexport function validatePrivateKey(key) {\n    try {\n        secp.getPublicKey(key, true);\n    }\n    catch (err) {\n        throw new CodeError(String(err), 'ERR_INVALID_PRIVATE_KEY');\n    }\n}\nexport function validatePublicKey(key) {\n    try {\n        secp.ProjectivePoint.fromHex(key);\n    }\n    catch (err) {\n        throw new CodeError(String(err), 'ERR_INVALID_PUBLIC_KEY');\n    }\n}\nexport function computePublicKey(privateKey) {\n    try {\n        return secp.getPublicKey(privateKey, true);\n    }\n    catch (err) {\n        throw new CodeError(String(err), 'ERR_INVALID_PRIVATE_KEY');\n    }\n}\n//# sourceMappingURL=secp256k1.js.map","import { CodeError } from '@libp2p/interface/errors';\nimport { sha256 } from 'multiformats/hashes/sha2';\nimport { equals as uint8ArrayEquals } from 'uint8arrays/equals';\nimport { toString as uint8ArrayToString } from 'uint8arrays/to-string';\nimport { exporter } from './exporter.js';\nimport * as keysProtobuf from './keys.js';\nimport * as crypto from './secp256k1.js';\nexport class Secp256k1PublicKey {\n    _key;\n    constructor(key) {\n        crypto.validatePublicKey(key);\n        this._key = key;\n    }\n    async verify(data, sig) {\n        return crypto.hashAndVerify(this._key, sig, data);\n    }\n    marshal() {\n        return crypto.compressPublicKey(this._key);\n    }\n    get bytes() {\n        return keysProtobuf.PublicKey.encode({\n            Type: keysProtobuf.KeyType.Secp256k1,\n            Data: this.marshal()\n        }).subarray();\n    }\n    equals(key) {\n        return uint8ArrayEquals(this.bytes, key.bytes);\n    }\n    async hash() {\n        const { bytes } = await sha256.digest(this.bytes);\n        return bytes;\n    }\n}\nexport class Secp256k1PrivateKey {\n    _key;\n    _publicKey;\n    constructor(key, publicKey) {\n        this._key = key;\n        this._publicKey = publicKey ?? crypto.computePublicKey(key);\n        crypto.validatePrivateKey(this._key);\n        crypto.validatePublicKey(this._publicKey);\n    }\n    async sign(message) {\n        return crypto.hashAndSign(this._key, message);\n    }\n    get public() {\n        return new Secp256k1PublicKey(this._publicKey);\n    }\n    marshal() {\n        return this._key;\n    }\n    get bytes() {\n        return keysProtobuf.PrivateKey.encode({\n            Type: keysProtobuf.KeyType.Secp256k1,\n            Data: this.marshal()\n        }).subarray();\n    }\n    equals(key) {\n        return uint8ArrayEquals(this.bytes, key.bytes);\n    }\n    async hash() {\n        const { bytes } = await sha256.digest(this.bytes);\n        return bytes;\n    }\n    /**\n     * Gets the ID of the key.\n     *\n     * The key id is the base58 encoding of the SHA-256 multihash of its public key.\n     * The public key is a protobuf encoding containing a type and the DER encoding\n     * of the PKCS SubjectPublicKeyInfo.\n     */\n    async id() {\n        const hash = await this.public.hash();\n        return uint8ArrayToString(hash, 'base58btc');\n    }\n    /**\n     * Exports the key into a password protected `format`\n     */\n    async export(password, format = 'libp2p-key') {\n        if (format === 'libp2p-key') {\n            return exporter(this.bytes, password);\n        }\n        else {\n            throw new CodeError(`export format '${format}' is not supported`, 'ERR_INVALID_EXPORT_FORMAT');\n        }\n    }\n}\nexport function unmarshalSecp256k1PrivateKey(bytes) {\n    return new Secp256k1PrivateKey(bytes);\n}\nexport function unmarshalSecp256k1PublicKey(bytes) {\n    return new Secp256k1PublicKey(bytes);\n}\nexport async function generateKeyPair() {\n    const privateKeyBytes = crypto.generateKey();\n    return new Secp256k1PrivateKey(privateKeyBytes);\n}\n//# sourceMappingURL=secp256k1-class.js.map","import 'node-forge/lib/asn1.js';\nimport 'node-forge/lib/pbe.js';\nimport { CodeError } from '@libp2p/interface/errors';\n// @ts-expect-error types are missing\nimport forge from 'node-forge/lib/forge.js';\nimport { fromString as uint8ArrayFromString } from 'uint8arrays/from-string';\nimport * as Ed25519 from './ed25519-class.js';\nimport generateEphemeralKeyPair from './ephemeral-keys.js';\nimport { importer } from './importer.js';\nimport { keyStretcher } from './key-stretcher.js';\nimport * as keysPBM from './keys.js';\nimport * as RSA from './rsa-class.js';\nimport * as Secp256k1 from './secp256k1-class.js';\nexport { keyStretcher };\nexport { generateEphemeralKeyPair };\nexport { keysPBM };\nexport const supportedKeys = {\n    rsa: RSA,\n    ed25519: Ed25519,\n    secp256k1: Secp256k1\n};\nfunction unsupportedKey(type) {\n    const supported = Object.keys(supportedKeys).join(' / ');\n    return new CodeError(`invalid or unsupported key type ${type}. Must be ${supported}`, 'ERR_UNSUPPORTED_KEY_TYPE');\n}\nfunction typeToKey(type) {\n    type = type.toLowerCase();\n    if (type === 'rsa' || type === 'ed25519' || type === 'secp256k1') {\n        return supportedKeys[type];\n    }\n    throw unsupportedKey(type);\n}\n// Generates a keypair of the given type and bitsize\nexport async function generateKeyPair(type, bits) {\n    return typeToKey(type).generateKeyPair(bits ?? 2048);\n}\n// Generates a keypair of the given type and bitsize\n// seed is a 32 byte uint8array\nexport async function generateKeyPairFromSeed(type, seed, bits) {\n    if (type.toLowerCase() !== 'ed25519') {\n        throw new CodeError('Seed key derivation is unimplemented for RSA or secp256k1', 'ERR_UNSUPPORTED_KEY_DERIVATION_TYPE');\n    }\n    return Ed25519.generateKeyPairFromSeed(seed);\n}\n// Converts a protobuf serialized public key into its\n// representative object\nexport function unmarshalPublicKey(buf) {\n    const decoded = keysPBM.PublicKey.decode(buf);\n    const data = decoded.Data ?? new Uint8Array();\n    switch (decoded.Type) {\n        case keysPBM.KeyType.RSA:\n            return supportedKeys.rsa.unmarshalRsaPublicKey(data);\n        case keysPBM.KeyType.Ed25519:\n            return supportedKeys.ed25519.unmarshalEd25519PublicKey(data);\n        case keysPBM.KeyType.Secp256k1:\n            return supportedKeys.secp256k1.unmarshalSecp256k1PublicKey(data);\n        default:\n            throw unsupportedKey(decoded.Type ?? 'unknown');\n    }\n}\n// Converts a public key object into a protobuf serialized public key\nexport function marshalPublicKey(key, type) {\n    type = (type ?? 'rsa').toLowerCase();\n    typeToKey(type); // check type\n    return key.bytes;\n}\n// Converts a protobuf serialized private key into its\n// representative object\nexport async function unmarshalPrivateKey(buf) {\n    const decoded = keysPBM.PrivateKey.decode(buf);\n    const data = decoded.Data ?? new Uint8Array();\n    switch (decoded.Type) {\n        case keysPBM.KeyType.RSA:\n            return supportedKeys.rsa.unmarshalRsaPrivateKey(data);\n        case keysPBM.KeyType.Ed25519:\n            return supportedKeys.ed25519.unmarshalEd25519PrivateKey(data);\n        case keysPBM.KeyType.Secp256k1:\n            return supportedKeys.secp256k1.unmarshalSecp256k1PrivateKey(data);\n        default:\n            throw unsupportedKey(decoded.Type ?? 'RSA');\n    }\n}\n// Converts a private key object into a protobuf serialized private key\nexport function marshalPrivateKey(key, type) {\n    type = (type ?? 'rsa').toLowerCase();\n    typeToKey(type); // check type\n    return key.bytes;\n}\n/**\n *\n * @param {string} encryptedKey\n * @param {string} password\n */\nexport async function importKey(encryptedKey, password) {\n    try {\n        const key = await importer(encryptedKey, password);\n        return await unmarshalPrivateKey(key);\n    }\n    catch (_) {\n        // Ignore and try the old pem decrypt\n    }\n    // Only rsa supports pem right now\n    const key = forge.pki.decryptRsaPrivateKey(encryptedKey, password);\n    if (key === null) {\n        throw new CodeError('Cannot read the key, most likely the password is wrong or not a RSA key', 'ERR_CANNOT_DECRYPT_PEM');\n    }\n    let der = forge.asn1.toDer(forge.pki.privateKeyToAsn1(key));\n    der = uint8ArrayFromString(der.getBytes(), 'ascii');\n    return supportedKeys.rsa.unmarshalRsaPrivateKey(der);\n}\n//# sourceMappingURL=index.js.map","import { TopicValidatorResult } from '@libp2p/interface/pubsub';\nexport var SignaturePolicy;\n(function (SignaturePolicy) {\n    /**\n     * On the producing side:\n     * - Build messages with the signature, key (from may be enough for certain inlineable public key types), from and seqno fields.\n     *\n     * On the consuming side:\n     * - Enforce the fields to be present, reject otherwise.\n     * - Propagate only if the fields are valid and signature can be verified, reject otherwise.\n     */\n    SignaturePolicy[\"StrictSign\"] = \"StrictSign\";\n    /**\n     * On the producing side:\n     * - Build messages without the signature, key, from and seqno fields.\n     * - The corresponding protobuf key-value pairs are absent from the marshalled message, not just empty.\n     *\n     * On the consuming side:\n     * - Enforce the fields to be absent, reject otherwise.\n     * - Propagate only if the fields are absent, reject otherwise.\n     * - A message_id function will not be able to use the above fields, and should instead rely on the data field. A commonplace strategy is to calculate a hash.\n     */\n    SignaturePolicy[\"StrictNoSign\"] = \"StrictNoSign\";\n})(SignaturePolicy || (SignaturePolicy = {}));\nexport var PublishConfigType;\n(function (PublishConfigType) {\n    PublishConfigType[PublishConfigType[\"Signing\"] = 0] = \"Signing\";\n    PublishConfigType[PublishConfigType[\"Anonymous\"] = 1] = \"Anonymous\";\n})(PublishConfigType || (PublishConfigType = {}));\nexport var RejectReason;\n(function (RejectReason) {\n    /**\n     * The message failed the configured validation during decoding.\n     * SelfOrigin is considered a ValidationError\n     */\n    RejectReason[\"Error\"] = \"error\";\n    /**\n     * Custom validator fn reported status IGNORE.\n     */\n    RejectReason[\"Ignore\"] = \"ignore\";\n    /**\n     * Custom validator fn reported status REJECT.\n     */\n    RejectReason[\"Reject\"] = \"reject\";\n    /**\n     * The peer that sent the message OR the source from field is blacklisted.\n     * Causes messages to be ignored, not penalized, neither do score record creation.\n     */\n    RejectReason[\"Blacklisted\"] = \"blacklisted\";\n})(RejectReason || (RejectReason = {}));\nexport var ValidateError;\n(function (ValidateError) {\n    /// The message has an invalid signature,\n    ValidateError[\"InvalidSignature\"] = \"invalid_signature\";\n    /// The sequence number was the incorrect size\n    ValidateError[\"InvalidSeqno\"] = \"invalid_seqno\";\n    /// The PeerId was invalid\n    ValidateError[\"InvalidPeerId\"] = \"invalid_peerid\";\n    /// Signature existed when validation has been sent to\n    /// [`crate::behaviour::MessageAuthenticity::Anonymous`].\n    ValidateError[\"SignaturePresent\"] = \"signature_present\";\n    /// Sequence number existed when validation has been sent to\n    /// [`crate::behaviour::MessageAuthenticity::Anonymous`].\n    ValidateError[\"SeqnoPresent\"] = \"seqno_present\";\n    /// Message source existed when validation has been sent to\n    /// [`crate::behaviour::MessageAuthenticity::Anonymous`].\n    ValidateError[\"FromPresent\"] = \"from_present\";\n    /// The data transformation failed.\n    ValidateError[\"TransformFailed\"] = \"transform_failed\";\n})(ValidateError || (ValidateError = {}));\nexport var MessageStatus;\n(function (MessageStatus) {\n    MessageStatus[\"duplicate\"] = \"duplicate\";\n    MessageStatus[\"invalid\"] = \"invalid\";\n    MessageStatus[\"valid\"] = \"valid\";\n})(MessageStatus || (MessageStatus = {}));\n/**\n * Typesafe conversion of MessageAcceptance -> RejectReason. TS ensures all values covered\n */\nexport function rejectReasonFromAcceptance(acceptance) {\n    switch (acceptance) {\n        case TopicValidatorResult.Ignore:\n            return RejectReason.Ignore;\n        case TopicValidatorResult.Reject:\n            return RejectReason.Reject;\n    }\n}\n//# sourceMappingURL=types.js.map","export const ERR_INVALID_PEER_SCORE_PARAMS = 'ERR_INVALID_PEER_SCORE_PARAMS';\nexport const ERR_INVALID_PEER_SCORE_THRESHOLDS = 'ERR_INVALID_PEER_SCORE_THRESHOLDS';\n//# sourceMappingURL=constants.js.map","import { ERR_INVALID_PEER_SCORE_PARAMS } from './constants.js';\nimport { CodeError } from '@libp2p/interface/errors';\nexport const defaultPeerScoreParams = {\n    topics: {},\n    topicScoreCap: 10.0,\n    appSpecificScore: () => 0.0,\n    appSpecificWeight: 10.0,\n    IPColocationFactorWeight: -5.0,\n    IPColocationFactorThreshold: 10.0,\n    IPColocationFactorWhitelist: new Set(),\n    behaviourPenaltyWeight: -10.0,\n    behaviourPenaltyThreshold: 0.0,\n    behaviourPenaltyDecay: 0.2,\n    decayInterval: 1000.0,\n    decayToZero: 0.1,\n    retainScore: 3600 * 1000\n};\nexport const defaultTopicScoreParams = {\n    topicWeight: 0.5,\n    timeInMeshWeight: 1,\n    timeInMeshQuantum: 1,\n    timeInMeshCap: 3600,\n    firstMessageDeliveriesWeight: 1,\n    firstMessageDeliveriesDecay: 0.5,\n    firstMessageDeliveriesCap: 2000,\n    meshMessageDeliveriesWeight: -1,\n    meshMessageDeliveriesDecay: 0.5,\n    meshMessageDeliveriesCap: 100,\n    meshMessageDeliveriesThreshold: 20,\n    meshMessageDeliveriesWindow: 10,\n    meshMessageDeliveriesActivation: 5000,\n    meshFailurePenaltyWeight: -1,\n    meshFailurePenaltyDecay: 0.5,\n    invalidMessageDeliveriesWeight: -1,\n    invalidMessageDeliveriesDecay: 0.3\n};\nexport function createPeerScoreParams(p = {}) {\n    return {\n        ...defaultPeerScoreParams,\n        ...p,\n        topics: p.topics\n            ? Object.entries(p.topics).reduce((topics, [topic, topicScoreParams]) => {\n                topics[topic] = createTopicScoreParams(topicScoreParams);\n                return topics;\n            }, {})\n            : {}\n    };\n}\nexport function createTopicScoreParams(p = {}) {\n    return {\n        ...defaultTopicScoreParams,\n        ...p\n    };\n}\n// peer score parameter validation\nexport function validatePeerScoreParams(p) {\n    for (const [topic, params] of Object.entries(p.topics)) {\n        try {\n            validateTopicScoreParams(params);\n        }\n        catch (e) {\n            throw new CodeError(`invalid score parameters for topic ${topic}: ${e.message}`, ERR_INVALID_PEER_SCORE_PARAMS);\n        }\n    }\n    // check that the topic score is 0 or something positive\n    if (p.topicScoreCap < 0) {\n        throw new CodeError('invalid topic score cap; must be positive (or 0 for no cap)', ERR_INVALID_PEER_SCORE_PARAMS);\n    }\n    // check that we have an app specific score; the weight can be anything (but expected positive)\n    if (p.appSpecificScore === null || p.appSpecificScore === undefined) {\n        throw new CodeError('missing application specific score function', ERR_INVALID_PEER_SCORE_PARAMS);\n    }\n    // check the IP colocation factor\n    if (p.IPColocationFactorWeight > 0) {\n        throw new CodeError('invalid IPColocationFactorWeight; must be negative (or 0 to disable)', ERR_INVALID_PEER_SCORE_PARAMS);\n    }\n    if (p.IPColocationFactorWeight !== 0 && p.IPColocationFactorThreshold < 1) {\n        throw new CodeError('invalid IPColocationFactorThreshold; must be at least 1', ERR_INVALID_PEER_SCORE_PARAMS);\n    }\n    // check the behaviour penalty\n    if (p.behaviourPenaltyWeight > 0) {\n        throw new CodeError('invalid BehaviourPenaltyWeight; must be negative (or 0 to disable)', ERR_INVALID_PEER_SCORE_PARAMS);\n    }\n    if (p.behaviourPenaltyWeight !== 0 && (p.behaviourPenaltyDecay <= 0 || p.behaviourPenaltyDecay >= 1)) {\n        throw new CodeError('invalid BehaviourPenaltyDecay; must be between 0 and 1', ERR_INVALID_PEER_SCORE_PARAMS);\n    }\n    // check the decay parameters\n    if (p.decayInterval < 1000) {\n        throw new CodeError('invalid DecayInterval; must be at least 1s', ERR_INVALID_PEER_SCORE_PARAMS);\n    }\n    if (p.decayToZero <= 0 || p.decayToZero >= 1) {\n        throw new CodeError('invalid DecayToZero; must be between 0 and 1', ERR_INVALID_PEER_SCORE_PARAMS);\n    }\n    // no need to check the score retention; a value of 0 means that we don't retain scores\n}\nexport function validateTopicScoreParams(p) {\n    // make sure we have a sane topic weight\n    if (p.topicWeight < 0) {\n        throw new CodeError('invalid topic weight; must be >= 0', ERR_INVALID_PEER_SCORE_PARAMS);\n    }\n    // check P1\n    if (p.timeInMeshQuantum === 0) {\n        throw new CodeError('invalid TimeInMeshQuantum; must be non zero', ERR_INVALID_PEER_SCORE_PARAMS);\n    }\n    if (p.timeInMeshWeight < 0) {\n        throw new CodeError('invalid TimeInMeshWeight; must be positive (or 0 to disable)', ERR_INVALID_PEER_SCORE_PARAMS);\n    }\n    if (p.timeInMeshWeight !== 0 && p.timeInMeshQuantum <= 0) {\n        throw new CodeError('invalid TimeInMeshQuantum; must be positive', ERR_INVALID_PEER_SCORE_PARAMS);\n    }\n    if (p.timeInMeshWeight !== 0 && p.timeInMeshCap <= 0) {\n        throw new CodeError('invalid TimeInMeshCap; must be positive', ERR_INVALID_PEER_SCORE_PARAMS);\n    }\n    // check P2\n    if (p.firstMessageDeliveriesWeight < 0) {\n        throw new CodeError('invallid FirstMessageDeliveriesWeight; must be positive (or 0 to disable)', ERR_INVALID_PEER_SCORE_PARAMS);\n    }\n    if (p.firstMessageDeliveriesWeight !== 0 &&\n        (p.firstMessageDeliveriesDecay <= 0 || p.firstMessageDeliveriesDecay >= 1)) {\n        throw new CodeError('invalid FirstMessageDeliveriesDecay; must be between 0 and 1', ERR_INVALID_PEER_SCORE_PARAMS);\n    }\n    if (p.firstMessageDeliveriesWeight !== 0 && p.firstMessageDeliveriesCap <= 0) {\n        throw new CodeError('invalid FirstMessageDeliveriesCap; must be positive', ERR_INVALID_PEER_SCORE_PARAMS);\n    }\n    // check P3\n    if (p.meshMessageDeliveriesWeight > 0) {\n        throw new CodeError('invalid MeshMessageDeliveriesWeight; must be negative (or 0 to disable)', ERR_INVALID_PEER_SCORE_PARAMS);\n    }\n    if (p.meshMessageDeliveriesWeight !== 0 && (p.meshMessageDeliveriesDecay <= 0 || p.meshMessageDeliveriesDecay >= 1)) {\n        throw new CodeError('invalid MeshMessageDeliveriesDecay; must be between 0 and 1', ERR_INVALID_PEER_SCORE_PARAMS);\n    }\n    if (p.meshMessageDeliveriesWeight !== 0 && p.meshMessageDeliveriesCap <= 0) {\n        throw new CodeError('invalid MeshMessageDeliveriesCap; must be positive', ERR_INVALID_PEER_SCORE_PARAMS);\n    }\n    if (p.meshMessageDeliveriesWeight !== 0 && p.meshMessageDeliveriesThreshold <= 0) {\n        throw new CodeError('invalid MeshMessageDeliveriesThreshold; must be positive', ERR_INVALID_PEER_SCORE_PARAMS);\n    }\n    if (p.meshMessageDeliveriesWindow < 0) {\n        throw new CodeError('invalid MeshMessageDeliveriesWindow; must be non-negative', ERR_INVALID_PEER_SCORE_PARAMS);\n    }\n    if (p.meshMessageDeliveriesWeight !== 0 && p.meshMessageDeliveriesActivation < 1000) {\n        throw new CodeError('invalid MeshMessageDeliveriesActivation; must be at least 1s', ERR_INVALID_PEER_SCORE_PARAMS);\n    }\n    // check P3b\n    if (p.meshFailurePenaltyWeight > 0) {\n        throw new CodeError('invalid MeshFailurePenaltyWeight; must be negative (or 0 to disable)', ERR_INVALID_PEER_SCORE_PARAMS);\n    }\n    if (p.meshFailurePenaltyWeight !== 0 && (p.meshFailurePenaltyDecay <= 0 || p.meshFailurePenaltyDecay >= 1)) {\n        throw new CodeError('invalid MeshFailurePenaltyDecay; must be between 0 and 1', ERR_INVALID_PEER_SCORE_PARAMS);\n    }\n    // check P4\n    if (p.invalidMessageDeliveriesWeight > 0) {\n        throw new CodeError('invalid InvalidMessageDeliveriesWeight; must be negative (or 0 to disable)', ERR_INVALID_PEER_SCORE_PARAMS);\n    }\n    if (p.invalidMessageDeliveriesDecay <= 0 || p.invalidMessageDeliveriesDecay >= 1) {\n        throw new CodeError('invalid InvalidMessageDeliveriesDecay; must be between 0 and 1', ERR_INVALID_PEER_SCORE_PARAMS);\n    }\n}\n//# sourceMappingURL=peer-score-params.js.map","import { ERR_INVALID_PEER_SCORE_THRESHOLDS } from './constants.js';\nimport { CodeError } from '@libp2p/interface/errors';\nexport const defaultPeerScoreThresholds = {\n    gossipThreshold: -10,\n    publishThreshold: -50,\n    graylistThreshold: -80,\n    acceptPXThreshold: 10,\n    opportunisticGraftThreshold: 20\n};\nexport function createPeerScoreThresholds(p = {}) {\n    return {\n        ...defaultPeerScoreThresholds,\n        ...p\n    };\n}\nexport function validatePeerScoreThresholds(p) {\n    if (p.gossipThreshold > 0) {\n        throw new CodeError('invalid gossip threshold; it must be <= 0', ERR_INVALID_PEER_SCORE_THRESHOLDS);\n    }\n    if (p.publishThreshold > 0 || p.publishThreshold > p.gossipThreshold) {\n        throw new CodeError('invalid publish threshold; it must be <= 0 and <= gossip threshold', ERR_INVALID_PEER_SCORE_THRESHOLDS);\n    }\n    if (p.graylistThreshold > 0 || p.graylistThreshold > p.publishThreshold) {\n        throw new CodeError('invalid graylist threshold; it must be <= 0 and <= publish threshold', ERR_INVALID_PEER_SCORE_THRESHOLDS);\n    }\n    if (p.acceptPXThreshold < 0) {\n        throw new CodeError('invalid accept PX threshold; it must be >= 0', ERR_INVALID_PEER_SCORE_THRESHOLDS);\n    }\n    if (p.opportunisticGraftThreshold < 0) {\n        throw new CodeError('invalid opportunistic grafting threshold; it must be >= 0', ERR_INVALID_PEER_SCORE_THRESHOLDS);\n    }\n}\n//# sourceMappingURL=peer-score-thresholds.js.map","export function computeScore(peer, pstats, params, peerIPs) {\n    let score = 0;\n    // topic stores\n    Object.entries(pstats.topics).forEach(([topic, tstats]) => {\n        // the topic parameters\n        const topicParams = params.topics[topic];\n        if (topicParams === undefined) {\n            // we are not scoring this topic\n            return;\n        }\n        let topicScore = 0;\n        // P1: time in Mesh\n        if (tstats.inMesh) {\n            let p1 = tstats.meshTime / topicParams.timeInMeshQuantum;\n            if (p1 > topicParams.timeInMeshCap) {\n                p1 = topicParams.timeInMeshCap;\n            }\n            topicScore += p1 * topicParams.timeInMeshWeight;\n        }\n        // P2: first message deliveries\n        let p2 = tstats.firstMessageDeliveries;\n        if (p2 > topicParams.firstMessageDeliveriesCap) {\n            p2 = topicParams.firstMessageDeliveriesCap;\n        }\n        topicScore += p2 * topicParams.firstMessageDeliveriesWeight;\n        // P3: mesh message deliveries\n        if (tstats.meshMessageDeliveriesActive &&\n            tstats.meshMessageDeliveries < topicParams.meshMessageDeliveriesThreshold) {\n            const deficit = topicParams.meshMessageDeliveriesThreshold - tstats.meshMessageDeliveries;\n            const p3 = deficit * deficit;\n            topicScore += p3 * topicParams.meshMessageDeliveriesWeight;\n        }\n        // P3b:\n        // NOTE: the weight of P3b is negative (validated in validateTopicScoreParams) so this detracts\n        const p3b = tstats.meshFailurePenalty;\n        topicScore += p3b * topicParams.meshFailurePenaltyWeight;\n        // P4: invalid messages\n        // NOTE: the weight of P4 is negative (validated in validateTopicScoreParams) so this detracts\n        const p4 = tstats.invalidMessageDeliveries * tstats.invalidMessageDeliveries;\n        topicScore += p4 * topicParams.invalidMessageDeliveriesWeight;\n        // update score, mixing with topic weight\n        score += topicScore * topicParams.topicWeight;\n    });\n    // apply the topic score cap, if any\n    if (params.topicScoreCap > 0 && score > params.topicScoreCap) {\n        score = params.topicScoreCap;\n    }\n    // P5: application-specific score\n    const p5 = params.appSpecificScore(peer);\n    score += p5 * params.appSpecificWeight;\n    // P6: IP colocation factor\n    pstats.knownIPs.forEach((ip) => {\n        if (params.IPColocationFactorWhitelist.has(ip)) {\n            return;\n        }\n        // P6 has a cliff (IPColocationFactorThreshold)\n        // It's only applied if at least that many peers are connected to us from that source IP addr.\n        // It is quadratic, and the weight is negative (validated in validatePeerScoreParams)\n        const peersInIP = peerIPs.get(ip);\n        const numPeersInIP = peersInIP ? peersInIP.size : 0;\n        if (numPeersInIP > params.IPColocationFactorThreshold) {\n            const surplus = numPeersInIP - params.IPColocationFactorThreshold;\n            const p6 = surplus * surplus;\n            score += p6 * params.IPColocationFactorWeight;\n        }\n    });\n    // P7: behavioural pattern penalty\n    if (pstats.behaviourPenalty > params.behaviourPenaltyThreshold) {\n        const excess = pstats.behaviourPenalty - params.behaviourPenaltyThreshold;\n        const p7 = excess * excess;\n        score += p7 * params.behaviourPenaltyWeight;\n    }\n    return score;\n}\n//# sourceMappingURL=compute-score.js.map","import { TimeCacheDuration } from '../constants.js';\nimport Denque from 'denque';\nexport var DeliveryRecordStatus;\n(function (DeliveryRecordStatus) {\n    /**\n     * we don't know (yet) if the message is valid\n     */\n    DeliveryRecordStatus[DeliveryRecordStatus[\"unknown\"] = 0] = \"unknown\";\n    /**\n     * we know the message is valid\n     */\n    DeliveryRecordStatus[DeliveryRecordStatus[\"valid\"] = 1] = \"valid\";\n    /**\n     * we know the message is invalid\n     */\n    DeliveryRecordStatus[DeliveryRecordStatus[\"invalid\"] = 2] = \"invalid\";\n    /**\n     * we were instructed by the validator to ignore the message\n     */\n    DeliveryRecordStatus[DeliveryRecordStatus[\"ignored\"] = 3] = \"ignored\";\n})(DeliveryRecordStatus || (DeliveryRecordStatus = {}));\n/**\n * Map of canonical message ID to DeliveryRecord\n *\n * Maintains an internal queue for efficient gc of old messages\n */\nexport class MessageDeliveries {\n    records;\n    queue;\n    constructor() {\n        this.records = new Map();\n        this.queue = new Denque();\n    }\n    getRecord(msgIdStr) {\n        return this.records.get(msgIdStr);\n    }\n    ensureRecord(msgIdStr) {\n        let drec = this.records.get(msgIdStr);\n        if (drec) {\n            return drec;\n        }\n        // record doesn't exist yet\n        // create record\n        drec = {\n            status: DeliveryRecordStatus.unknown,\n            firstSeenTsMs: Date.now(),\n            validated: 0,\n            peers: new Set()\n        };\n        this.records.set(msgIdStr, drec);\n        // and add msgId to the queue\n        const entry = {\n            msgId: msgIdStr,\n            expire: Date.now() + TimeCacheDuration\n        };\n        this.queue.push(entry);\n        return drec;\n    }\n    gc() {\n        const now = Date.now();\n        // queue is sorted by expiry time\n        // remove expired messages, remove from queue until first un-expired message found\n        let head = this.queue.peekFront();\n        while (head && head.expire < now) {\n            this.records.delete(head.msgId);\n            this.queue.shift();\n            head = this.queue.peekFront();\n        }\n    }\n    clear() {\n        this.records.clear();\n        this.queue.clear();\n    }\n}\n//# sourceMappingURL=message-deliveries.js.map","/**\n * Exclude up to `ineed` items from a set if item meets condition `cond`\n */\nexport function removeItemsFromSet(superSet, ineed, cond = () => true) {\n    const subset = new Set();\n    if (ineed <= 0)\n        return subset;\n    for (const id of superSet) {\n        if (subset.size >= ineed)\n            break;\n        if (cond(id)) {\n            subset.add(id);\n            superSet.delete(id);\n        }\n    }\n    return subset;\n}\n/**\n * Exclude up to `ineed` items from a set\n */\nexport function removeFirstNItemsFromSet(superSet, ineed) {\n    return removeItemsFromSet(superSet, ineed, () => true);\n}\nexport class MapDef extends Map {\n    getDefault;\n    constructor(getDefault) {\n        super();\n        this.getDefault = getDefault;\n    }\n    getOrDefault(key) {\n        let value = super.get(key);\n        if (value === undefined) {\n            value = this.getDefault();\n            this.set(key, value);\n        }\n        return value;\n    }\n}\n//# sourceMappingURL=set.js.map","import { validatePeerScoreParams } from './peer-score-params.js';\nimport { computeScore } from './compute-score.js';\nimport { MessageDeliveries, DeliveryRecordStatus } from './message-deliveries.js';\nimport { logger } from '@libp2p/logger';\nimport { RejectReason } from '../types.js';\nimport { MapDef } from '../utils/set.js';\nconst log = logger('libp2p:gossipsub:score');\nexport class PeerScore {\n    params;\n    metrics;\n    /**\n     * Per-peer stats for score calculation\n     */\n    peerStats = new Map();\n    /**\n     * IP colocation tracking; maps IP => set of peers.\n     */\n    peerIPs = new MapDef(() => new Set());\n    /**\n     * Cache score up to decayInterval if topic stats are unchanged.\n     */\n    scoreCache = new Map();\n    /**\n     * Recent message delivery timing/participants\n     */\n    deliveryRecords = new MessageDeliveries();\n    _backgroundInterval;\n    scoreCacheValidityMs;\n    computeScore;\n    constructor(params, metrics, opts) {\n        this.params = params;\n        this.metrics = metrics;\n        validatePeerScoreParams(params);\n        this.scoreCacheValidityMs = opts.scoreCacheValidityMs;\n        this.computeScore = opts.computeScore ?? computeScore;\n    }\n    get size() {\n        return this.peerStats.size;\n    }\n    /**\n     * Start PeerScore instance\n     */\n    start() {\n        if (this._backgroundInterval) {\n            log('Peer score already running');\n            return;\n        }\n        this._backgroundInterval = setInterval(() => this.background(), this.params.decayInterval);\n        log('started');\n    }\n    /**\n     * Stop PeerScore instance\n     */\n    stop() {\n        if (!this._backgroundInterval) {\n            log('Peer score already stopped');\n            return;\n        }\n        clearInterval(this._backgroundInterval);\n        delete this._backgroundInterval;\n        this.peerIPs.clear();\n        this.peerStats.clear();\n        this.deliveryRecords.clear();\n        log('stopped');\n    }\n    /**\n     * Periodic maintenance\n     */\n    background() {\n        this.refreshScores();\n        this.deliveryRecords.gc();\n    }\n    dumpPeerScoreStats() {\n        return Object.fromEntries(Array.from(this.peerStats.entries()).map(([peer, stats]) => [peer, stats]));\n    }\n    messageFirstSeenTimestampMs(msgIdStr) {\n        const drec = this.deliveryRecords.getRecord(msgIdStr);\n        return drec ? drec.firstSeenTsMs : null;\n    }\n    /**\n     * Decays scores, and purges score records for disconnected peers once their expiry has elapsed.\n     */\n    refreshScores() {\n        const now = Date.now();\n        const decayToZero = this.params.decayToZero;\n        this.peerStats.forEach((pstats, id) => {\n            if (!pstats.connected) {\n                // has the retention period expired?\n                if (now > pstats.expire) {\n                    // yes, throw it away (but clean up the IP tracking first)\n                    this.removeIPsForPeer(id, pstats.knownIPs);\n                    this.peerStats.delete(id);\n                    this.scoreCache.delete(id);\n                }\n                // we don't decay retained scores, as the peer is not active.\n                // this way the peer cannot reset a negative score by simply disconnecting and reconnecting,\n                // unless the retention period has elapsed.\n                // similarly, a well behaved peer does not lose its score by getting disconnected.\n                return;\n            }\n            Object.entries(pstats.topics).forEach(([topic, tstats]) => {\n                const tparams = this.params.topics[topic];\n                if (tparams === undefined) {\n                    // we are not scoring this topic\n                    // should be unreachable, we only add scored topics to pstats\n                    return;\n                }\n                // decay counters\n                tstats.firstMessageDeliveries *= tparams.firstMessageDeliveriesDecay;\n                if (tstats.firstMessageDeliveries < decayToZero) {\n                    tstats.firstMessageDeliveries = 0;\n                }\n                tstats.meshMessageDeliveries *= tparams.meshMessageDeliveriesDecay;\n                if (tstats.meshMessageDeliveries < decayToZero) {\n                    tstats.meshMessageDeliveries = 0;\n                }\n                tstats.meshFailurePenalty *= tparams.meshFailurePenaltyDecay;\n                if (tstats.meshFailurePenalty < decayToZero) {\n                    tstats.meshFailurePenalty = 0;\n                }\n                tstats.invalidMessageDeliveries *= tparams.invalidMessageDeliveriesDecay;\n                if (tstats.invalidMessageDeliveries < decayToZero) {\n                    tstats.invalidMessageDeliveries = 0;\n                }\n                // update mesh time and activate mesh message delivery parameter if need be\n                if (tstats.inMesh) {\n                    tstats.meshTime = now - tstats.graftTime;\n                    if (tstats.meshTime > tparams.meshMessageDeliveriesActivation) {\n                        tstats.meshMessageDeliveriesActive = true;\n                    }\n                }\n            });\n            // decay P7 counter\n            pstats.behaviourPenalty *= this.params.behaviourPenaltyDecay;\n            if (pstats.behaviourPenalty < decayToZero) {\n                pstats.behaviourPenalty = 0;\n            }\n        });\n    }\n    /**\n     * Return the score for a peer\n     */\n    score(id) {\n        this.metrics?.scoreFnCalls.inc();\n        const pstats = this.peerStats.get(id);\n        if (!pstats) {\n            return 0;\n        }\n        const now = Date.now();\n        const cacheEntry = this.scoreCache.get(id);\n        // Found cached score within validity period\n        if (cacheEntry && cacheEntry.cacheUntil > now) {\n            return cacheEntry.score;\n        }\n        this.metrics?.scoreFnRuns.inc();\n        const score = this.computeScore(id, pstats, this.params, this.peerIPs);\n        const cacheUntil = now + this.scoreCacheValidityMs;\n        if (cacheEntry) {\n            this.metrics?.scoreCachedDelta.observe(Math.abs(score - cacheEntry.score));\n            cacheEntry.score = score;\n            cacheEntry.cacheUntil = cacheUntil;\n        }\n        else {\n            this.scoreCache.set(id, { score, cacheUntil });\n        }\n        return score;\n    }\n    /**\n     * Apply a behavioural penalty to a peer\n     */\n    addPenalty(id, penalty, penaltyLabel) {\n        const pstats = this.peerStats.get(id);\n        if (pstats) {\n            pstats.behaviourPenalty += penalty;\n            this.metrics?.onScorePenalty(penaltyLabel);\n        }\n    }\n    addPeer(id) {\n        // create peer stats (not including topic stats for each topic to be scored)\n        // topic stats will be added as needed\n        const pstats = {\n            connected: true,\n            expire: 0,\n            topics: {},\n            knownIPs: new Set(),\n            behaviourPenalty: 0\n        };\n        this.peerStats.set(id, pstats);\n    }\n    /** Adds a new IP to a peer, if the peer is not known the update is ignored */\n    addIP(id, ip) {\n        const pstats = this.peerStats.get(id);\n        if (pstats) {\n            pstats.knownIPs.add(ip);\n        }\n        this.peerIPs.getOrDefault(ip).add(id);\n    }\n    /** Remove peer association with IP */\n    removeIP(id, ip) {\n        const pstats = this.peerStats.get(id);\n        if (pstats) {\n            pstats.knownIPs.delete(ip);\n        }\n        const peersWithIP = this.peerIPs.get(ip);\n        if (peersWithIP) {\n            peersWithIP.delete(id);\n            if (peersWithIP.size === 0) {\n                this.peerIPs.delete(ip);\n            }\n        }\n    }\n    removePeer(id) {\n        const pstats = this.peerStats.get(id);\n        if (!pstats) {\n            return;\n        }\n        // decide whether to retain the score; this currently only retains non-positive scores\n        // to dissuade attacks on the score function.\n        if (this.score(id) > 0) {\n            this.removeIPsForPeer(id, pstats.knownIPs);\n            this.peerStats.delete(id);\n            return;\n        }\n        // furthermore, when we decide to retain the score, the firstMessageDelivery counters are\n        // reset to 0 and mesh delivery penalties applied.\n        Object.entries(pstats.topics).forEach(([topic, tstats]) => {\n            tstats.firstMessageDeliveries = 0;\n            const threshold = this.params.topics[topic].meshMessageDeliveriesThreshold;\n            if (tstats.inMesh && tstats.meshMessageDeliveriesActive && tstats.meshMessageDeliveries < threshold) {\n                const deficit = threshold - tstats.meshMessageDeliveries;\n                tstats.meshFailurePenalty += deficit * deficit;\n            }\n            tstats.inMesh = false;\n            tstats.meshMessageDeliveriesActive = false;\n        });\n        pstats.connected = false;\n        pstats.expire = Date.now() + this.params.retainScore;\n    }\n    /** Handles scoring functionality as a peer GRAFTs to a topic. */\n    graft(id, topic) {\n        const pstats = this.peerStats.get(id);\n        if (pstats) {\n            const tstats = this.getPtopicStats(pstats, topic);\n            if (tstats) {\n                // if we are scoring the topic, update the mesh status.\n                tstats.inMesh = true;\n                tstats.graftTime = Date.now();\n                tstats.meshTime = 0;\n                tstats.meshMessageDeliveriesActive = false;\n            }\n        }\n    }\n    /** Handles scoring functionality as a peer PRUNEs from a topic. */\n    prune(id, topic) {\n        const pstats = this.peerStats.get(id);\n        if (pstats) {\n            const tstats = this.getPtopicStats(pstats, topic);\n            if (tstats) {\n                // sticky mesh delivery rate failure penalty\n                const threshold = this.params.topics[topic].meshMessageDeliveriesThreshold;\n                if (tstats.meshMessageDeliveriesActive && tstats.meshMessageDeliveries < threshold) {\n                    const deficit = threshold - tstats.meshMessageDeliveries;\n                    tstats.meshFailurePenalty += deficit * deficit;\n                }\n                tstats.meshMessageDeliveriesActive = false;\n                tstats.inMesh = false;\n                // TODO: Consider clearing score cache on important penalties\n                // this.scoreCache.delete(id)\n            }\n        }\n    }\n    validateMessage(msgIdStr) {\n        this.deliveryRecords.ensureRecord(msgIdStr);\n    }\n    deliverMessage(from, msgIdStr, topic) {\n        this.markFirstMessageDelivery(from, topic);\n        const drec = this.deliveryRecords.ensureRecord(msgIdStr);\n        const now = Date.now();\n        // defensive check that this is the first delivery trace -- delivery status should be unknown\n        if (drec.status !== DeliveryRecordStatus.unknown) {\n            log('unexpected delivery: message from %s was first seen %s ago and has delivery status %s', from, now - drec.firstSeenTsMs, DeliveryRecordStatus[drec.status]);\n            return;\n        }\n        // mark the message as valid and reward mesh peers that have already forwarded it to us\n        drec.status = DeliveryRecordStatus.valid;\n        drec.validated = now;\n        drec.peers.forEach((p) => {\n            // this check is to make sure a peer can't send us a message twice and get a double count\n            // if it is a first delivery.\n            if (p !== from.toString()) {\n                this.markDuplicateMessageDelivery(p, topic);\n            }\n        });\n    }\n    /**\n     * Similar to `rejectMessage` except does not require the message id or reason for an invalid message.\n     */\n    rejectInvalidMessage(from, topic) {\n        this.markInvalidMessageDelivery(from, topic);\n    }\n    rejectMessage(from, msgIdStr, topic, reason) {\n        switch (reason) {\n            // these messages are not tracked, but the peer is penalized as they are invalid\n            case RejectReason.Error:\n                this.markInvalidMessageDelivery(from, topic);\n                return;\n            // we ignore those messages, so do nothing.\n            case RejectReason.Blacklisted:\n                return;\n            // the rest are handled after record creation\n        }\n        const drec = this.deliveryRecords.ensureRecord(msgIdStr);\n        // defensive check that this is the first rejection -- delivery status should be unknown\n        if (drec.status !== DeliveryRecordStatus.unknown) {\n            log('unexpected rejection: message from %s was first seen %s ago and has delivery status %d', from, Date.now() - drec.firstSeenTsMs, DeliveryRecordStatus[drec.status]);\n            return;\n        }\n        if (reason === RejectReason.Ignore) {\n            // we were explicitly instructed by the validator to ignore the message but not penalize the peer\n            drec.status = DeliveryRecordStatus.ignored;\n            drec.peers.clear();\n            return;\n        }\n        // mark the message as invalid and penalize peers that have already forwarded it.\n        drec.status = DeliveryRecordStatus.invalid;\n        this.markInvalidMessageDelivery(from, topic);\n        drec.peers.forEach((p) => {\n            this.markInvalidMessageDelivery(p, topic);\n        });\n        // release the delivery time tracking map to free some memory early\n        drec.peers.clear();\n    }\n    duplicateMessage(from, msgIdStr, topic) {\n        const drec = this.deliveryRecords.ensureRecord(msgIdStr);\n        if (drec.peers.has(from)) {\n            // we have already seen this duplicate\n            return;\n        }\n        switch (drec.status) {\n            case DeliveryRecordStatus.unknown:\n                // the message is being validated; track the peer delivery and wait for\n                // the Deliver/Reject/Ignore notification.\n                drec.peers.add(from);\n                break;\n            case DeliveryRecordStatus.valid:\n                // mark the peer delivery time to only count a duplicate delivery once.\n                drec.peers.add(from);\n                this.markDuplicateMessageDelivery(from, topic, drec.validated);\n                break;\n            case DeliveryRecordStatus.invalid:\n                // we no longer track delivery time\n                this.markInvalidMessageDelivery(from, topic);\n                break;\n            case DeliveryRecordStatus.ignored:\n                // the message was ignored; do nothing (we don't know if it was valid)\n                break;\n        }\n    }\n    /**\n     * Increments the \"invalid message deliveries\" counter for all scored topics the message is published in.\n     */\n    markInvalidMessageDelivery(from, topic) {\n        const pstats = this.peerStats.get(from);\n        if (pstats) {\n            const tstats = this.getPtopicStats(pstats, topic);\n            if (tstats) {\n                tstats.invalidMessageDeliveries += 1;\n            }\n        }\n    }\n    /**\n     * Increments the \"first message deliveries\" counter for all scored topics the message is published in,\n     * as well as the \"mesh message deliveries\" counter, if the peer is in the mesh for the topic.\n     * Messages already known (with the seenCache) are counted with markDuplicateMessageDelivery()\n     */\n    markFirstMessageDelivery(from, topic) {\n        const pstats = this.peerStats.get(from);\n        if (pstats) {\n            const tstats = this.getPtopicStats(pstats, topic);\n            if (tstats) {\n                let cap = this.params.topics[topic].firstMessageDeliveriesCap;\n                tstats.firstMessageDeliveries = Math.min(cap, tstats.firstMessageDeliveries + 1);\n                if (tstats.inMesh) {\n                    cap = this.params.topics[topic].meshMessageDeliveriesCap;\n                    tstats.meshMessageDeliveries = Math.min(cap, tstats.meshMessageDeliveries + 1);\n                }\n            }\n        }\n    }\n    /**\n     * Increments the \"mesh message deliveries\" counter for messages we've seen before,\n     * as long the message was received within the P3 window.\n     */\n    markDuplicateMessageDelivery(from, topic, validatedTime) {\n        const pstats = this.peerStats.get(from);\n        if (pstats) {\n            const now = validatedTime !== undefined ? Date.now() : 0;\n            const tstats = this.getPtopicStats(pstats, topic);\n            if (tstats && tstats.inMesh) {\n                const tparams = this.params.topics[topic];\n                // check against the mesh delivery window -- if the validated time is passed as 0, then\n                // the message was received before we finished validation and thus falls within the mesh\n                // delivery window.\n                if (validatedTime !== undefined) {\n                    const deliveryDelayMs = now - validatedTime;\n                    const isLateDelivery = deliveryDelayMs > tparams.meshMessageDeliveriesWindow;\n                    this.metrics?.onDuplicateMsgDelivery(topic, deliveryDelayMs, isLateDelivery);\n                    if (isLateDelivery) {\n                        return;\n                    }\n                }\n                const cap = tparams.meshMessageDeliveriesCap;\n                tstats.meshMessageDeliveries = Math.min(cap, tstats.meshMessageDeliveries + 1);\n            }\n        }\n    }\n    /**\n     * Removes an IP list from the tracking list for a peer.\n     */\n    removeIPsForPeer(id, ipsToRemove) {\n        for (const ipToRemove of ipsToRemove) {\n            const peerSet = this.peerIPs.get(ipToRemove);\n            if (peerSet) {\n                peerSet.delete(id);\n                if (peerSet.size === 0) {\n                    this.peerIPs.delete(ipToRemove);\n                }\n            }\n        }\n    }\n    /**\n     * Returns topic stats if they exist, otherwise if the supplied parameters score the\n     * topic, inserts the default stats and returns a reference to those. If neither apply, returns None.\n     */\n    getPtopicStats(pstats, topic) {\n        let topicStats = pstats.topics[topic];\n        if (topicStats !== undefined) {\n            return topicStats;\n        }\n        if (this.params.topics[topic] !== undefined) {\n            topicStats = {\n                inMesh: false,\n                graftTime: 0,\n                meshTime: 0,\n                firstMessageDeliveries: 0,\n                meshMessageDeliveries: 0,\n                meshMessageDeliveriesActive: false,\n                meshFailurePenalty: 0,\n                invalidMessageDeliveries: 0\n            };\n            pstats.topics[topic] = topicStats;\n            return topicStats;\n        }\n        return null;\n    }\n}\n//# sourceMappingURL=peer-score.js.map","import { RejectReason } from './types.js';\n/**\n * IWantTracer is an internal tracer that tracks IWANT requests in order to penalize\n * peers who don't follow up on IWANT requests after an IHAVE advertisement.\n * The tracking of promises is probabilistic to avoid using too much memory.\n *\n * Note: Do not confuse these 'promises' with JS Promise objects.\n * These 'promises' are merely expectations of a peer's behavior.\n */\nexport class IWantTracer {\n    gossipsubIWantFollowupMs;\n    msgIdToStrFn;\n    metrics;\n    /**\n     * Promises to deliver a message\n     * Map per message id, per peer, promise expiration time\n     */\n    promises = new Map();\n    /**\n     * First request time by msgId. Used for metrics to track expire times.\n     * Necessary to know if peers are actually breaking promises or simply sending them a bit later\n     */\n    requestMsByMsg = new Map();\n    requestMsByMsgExpire;\n    constructor(gossipsubIWantFollowupMs, msgIdToStrFn, metrics) {\n        this.gossipsubIWantFollowupMs = gossipsubIWantFollowupMs;\n        this.msgIdToStrFn = msgIdToStrFn;\n        this.metrics = metrics;\n        this.requestMsByMsgExpire = 10 * gossipsubIWantFollowupMs;\n    }\n    get size() {\n        return this.promises.size;\n    }\n    get requestMsByMsgSize() {\n        return this.requestMsByMsg.size;\n    }\n    /**\n     * Track a promise to deliver a message from a list of msgIds we are requesting\n     */\n    addPromise(from, msgIds) {\n        // pick msgId randomly from the list\n        const ix = Math.floor(Math.random() * msgIds.length);\n        const msgId = msgIds[ix];\n        const msgIdStr = this.msgIdToStrFn(msgId);\n        let expireByPeer = this.promises.get(msgIdStr);\n        if (!expireByPeer) {\n            expireByPeer = new Map();\n            this.promises.set(msgIdStr, expireByPeer);\n        }\n        const now = Date.now();\n        // If a promise for this message id and peer already exists we don't update the expiry\n        if (!expireByPeer.has(from)) {\n            expireByPeer.set(from, now + this.gossipsubIWantFollowupMs);\n            if (this.metrics) {\n                this.metrics.iwantPromiseStarted.inc(1);\n                if (!this.requestMsByMsg.has(msgIdStr)) {\n                    this.requestMsByMsg.set(msgIdStr, now);\n                }\n            }\n        }\n    }\n    /**\n     * Returns the number of broken promises for each peer who didn't follow up on an IWANT request.\n     *\n     * This should be called not too often relative to the expire times, since it iterates over the whole data.\n     */\n    getBrokenPromises() {\n        const now = Date.now();\n        const result = new Map();\n        let brokenPromises = 0;\n        this.promises.forEach((expireByPeer, msgId) => {\n            expireByPeer.forEach((expire, p) => {\n                // the promise has been broken\n                if (expire < now) {\n                    // add 1 to result\n                    result.set(p, (result.get(p) ?? 0) + 1);\n                    // delete from tracked promises\n                    expireByPeer.delete(p);\n                    // for metrics\n                    brokenPromises++;\n                }\n            });\n            // clean up empty promises for a msgId\n            if (!expireByPeer.size) {\n                this.promises.delete(msgId);\n            }\n        });\n        this.metrics?.iwantPromiseBroken.inc(brokenPromises);\n        return result;\n    }\n    /**\n     * Someone delivered a message, stop tracking promises for it\n     */\n    deliverMessage(msgIdStr, isDuplicate = false) {\n        this.trackMessage(msgIdStr);\n        const expireByPeer = this.promises.get(msgIdStr);\n        // Expired promise, check requestMsByMsg\n        if (expireByPeer) {\n            this.promises.delete(msgIdStr);\n            if (this.metrics) {\n                this.metrics.iwantPromiseResolved.inc(1);\n                if (isDuplicate)\n                    this.metrics.iwantPromiseResolvedFromDuplicate.inc(1);\n                this.metrics.iwantPromiseResolvedPeers.inc(expireByPeer.size);\n            }\n        }\n    }\n    /**\n     * A message got rejected, so we can stop tracking promises and let the score penalty apply from invalid message delivery,\n     * unless its an obviously invalid message.\n     */\n    rejectMessage(msgIdStr, reason) {\n        this.trackMessage(msgIdStr);\n        // A message got rejected, so we can stop tracking promises and let the score penalty apply.\n        // With the expection of obvious invalid messages\n        switch (reason) {\n            case RejectReason.Error:\n                return;\n        }\n        this.promises.delete(msgIdStr);\n    }\n    clear() {\n        this.promises.clear();\n    }\n    prune() {\n        const maxMs = Date.now() - this.requestMsByMsgExpire;\n        let count = 0;\n        for (const [k, v] of this.requestMsByMsg.entries()) {\n            if (v < maxMs) {\n                // messages that stay too long in the requestMsByMsg map, delete\n                this.requestMsByMsg.delete(k);\n                count++;\n            }\n            else {\n                // recent messages, keep them\n                // sort by insertion order\n                break;\n            }\n        }\n        this.metrics?.iwantMessagePruned.inc(count);\n    }\n    trackMessage(msgIdStr) {\n        if (this.metrics) {\n            const requestMs = this.requestMsByMsg.get(msgIdStr);\n            if (requestMs !== undefined) {\n                this.metrics.iwantPromiseDeliveryTime.observe((Date.now() - requestMs) / 1000);\n                this.requestMsByMsg.delete(msgIdStr);\n            }\n        }\n    }\n}\n//# sourceMappingURL=tracer.js.map","/**\n * This is similar to https://github.com/daviddias/time-cache/blob/master/src/index.js\n * for our own need, we don't use lodash throttle to improve performance.\n * This gives 4x - 5x performance gain compared to npm TimeCache\n */\nexport class SimpleTimeCache {\n    entries = new Map();\n    validityMs;\n    constructor(opts) {\n        this.validityMs = opts.validityMs;\n        // allow negative validityMs so that this does not cache anything, spec test compliance.spec.js\n        // sends duplicate messages and expect peer to receive all. Application likely uses positive validityMs\n    }\n    get size() {\n        return this.entries.size;\n    }\n    /** Returns true if there was a key collision and the entry is dropped */\n    put(key, value) {\n        if (this.entries.has(key)) {\n            // Key collisions break insertion order in the entries cache, which break prune logic.\n            // prune relies on each iterated entry to have strictly ascending validUntilMs, else it\n            // won't prune expired entries and SimpleTimeCache will grow unexpectedly.\n            // As of Oct 2022 NodeJS v16, inserting the same key twice with different value does not\n            // change the key position in the iterator stream. A unit test asserts this behaviour.\n            return true;\n        }\n        this.entries.set(key, { value, validUntilMs: Date.now() + this.validityMs });\n        return false;\n    }\n    prune() {\n        const now = Date.now();\n        for (const [k, v] of this.entries.entries()) {\n            if (v.validUntilMs < now) {\n                this.entries.delete(k);\n            }\n            else {\n                // Entries are inserted with strictly ascending validUntilMs.\n                // Stop early to save iterations\n                break;\n            }\n        }\n    }\n    has(key) {\n        return this.entries.has(key);\n    }\n    get(key) {\n        const value = this.entries.get(key);\n        return value && value.validUntilMs >= Date.now() ? value.value : undefined;\n    }\n    clear() {\n        this.entries.clear();\n    }\n}\n//# sourceMappingURL=time-cache.js.map","import { TopicValidatorResult } from '@libp2p/interface/pubsub';\nimport { MessageStatus, RejectReason, ValidateError } from './types.js';\nexport var MessageSource;\n(function (MessageSource) {\n    MessageSource[\"forward\"] = \"forward\";\n    MessageSource[\"publish\"] = \"publish\";\n})(MessageSource || (MessageSource = {}));\nexport var InclusionReason;\n(function (InclusionReason) {\n    /** Peer was a fanaout peer. */\n    InclusionReason[\"Fanout\"] = \"fanout\";\n    /** Included from random selection. */\n    InclusionReason[\"Random\"] = \"random\";\n    /** Peer subscribed. */\n    InclusionReason[\"Subscribed\"] = \"subscribed\";\n    /** On heartbeat, peer was included to fill the outbound quota. */\n    InclusionReason[\"Outbound\"] = \"outbound\";\n    /** On heartbeat, not enough peers in mesh */\n    InclusionReason[\"NotEnough\"] = \"not_enough\";\n    /** On heartbeat opportunistic grafting due to low mesh score */\n    InclusionReason[\"Opportunistic\"] = \"opportunistic\";\n})(InclusionReason || (InclusionReason = {}));\n/// Reasons why a peer was removed from the mesh.\nexport var ChurnReason;\n(function (ChurnReason) {\n    /// Peer disconnected.\n    ChurnReason[\"Dc\"] = \"disconnected\";\n    /// Peer had a bad score.\n    ChurnReason[\"BadScore\"] = \"bad_score\";\n    /// Peer sent a PRUNE.\n    ChurnReason[\"Prune\"] = \"prune\";\n    /// Too many peers.\n    ChurnReason[\"Excess\"] = \"excess\";\n})(ChurnReason || (ChurnReason = {}));\n/// Kinds of reasons a peer's score has been penalized\nexport var ScorePenalty;\n(function (ScorePenalty) {\n    /// A peer grafted before waiting the back-off time.\n    ScorePenalty[\"GraftBackoff\"] = \"graft_backoff\";\n    /// A Peer did not respond to an IWANT request in time.\n    ScorePenalty[\"BrokenPromise\"] = \"broken_promise\";\n    /// A Peer did not send enough messages as expected.\n    ScorePenalty[\"MessageDeficit\"] = \"message_deficit\";\n    /// Too many peers under one IP address.\n    ScorePenalty[\"IPColocation\"] = \"IP_colocation\";\n})(ScorePenalty || (ScorePenalty = {}));\nexport var IHaveIgnoreReason;\n(function (IHaveIgnoreReason) {\n    IHaveIgnoreReason[\"LowScore\"] = \"low_score\";\n    IHaveIgnoreReason[\"MaxIhave\"] = \"max_ihave\";\n    IHaveIgnoreReason[\"MaxIasked\"] = \"max_iasked\";\n})(IHaveIgnoreReason || (IHaveIgnoreReason = {}));\nexport var ScoreThreshold;\n(function (ScoreThreshold) {\n    ScoreThreshold[\"graylist\"] = \"graylist\";\n    ScoreThreshold[\"publish\"] = \"publish\";\n    ScoreThreshold[\"gossip\"] = \"gossip\";\n    ScoreThreshold[\"mesh\"] = \"mesh\";\n})(ScoreThreshold || (ScoreThreshold = {}));\n/**\n * A collection of metrics used throughout the Gossipsub behaviour.\n * NOTE: except for special reasons, do not add more than 1 label for frequent metrics,\n * there's a performance penalty as of June 2023.\n */\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nexport function getMetrics(register, topicStrToLabel, opts) {\n    // Using function style instead of class to prevent having to re-declare all MetricsPrometheus types.\n    return {\n        /* Metrics for static config */\n        protocolsEnabled: register.gauge({\n            name: 'gossipsub_protocol',\n            help: 'Status of enabled protocols',\n            labelNames: ['protocol']\n        }),\n        /* Metrics per known topic */\n        /** Status of our subscription to this topic. This metric allows analyzing other topic metrics\n         *  filtered by our current subscription status.\n         *  = rust-libp2p `topic_subscription_status` */\n        topicSubscriptionStatus: register.gauge({\n            name: 'gossipsub_topic_subscription_status',\n            help: 'Status of our subscription to this topic',\n            labelNames: ['topicStr']\n        }),\n        /** Number of peers subscribed to each topic. This allows us to analyze a topic's behaviour\n         * regardless of our subscription status. */\n        topicPeersCount: register.gauge({\n            name: 'gossipsub_topic_peer_count',\n            help: 'Number of peers subscribed to each topic',\n            labelNames: ['topicStr']\n        }),\n        /* Metrics regarding mesh state */\n        /** Number of peers in our mesh. This metric should be updated with the count of peers for a\n         *  topic in the mesh regardless of inclusion and churn events.\n         *  = rust-libp2p `mesh_peer_counts` */\n        meshPeerCounts: register.gauge({\n            name: 'gossipsub_mesh_peer_count',\n            help: 'Number of peers in our mesh',\n            labelNames: ['topicStr']\n        }),\n        /** Number of times we include peers in a topic mesh for different reasons.\n         *  = rust-libp2p `mesh_peer_inclusion_events` */\n        meshPeerInclusionEventsFanout: register.gauge({\n            name: 'gossipsub_mesh_peer_inclusion_events_fanout_total',\n            help: 'Number of times we include peers in a topic mesh for fanout reasons',\n            labelNames: ['topic']\n        }),\n        meshPeerInclusionEventsRandom: register.gauge({\n            name: 'gossipsub_mesh_peer_inclusion_events_random_total',\n            help: 'Number of times we include peers in a topic mesh for random reasons',\n            labelNames: ['topic']\n        }),\n        meshPeerInclusionEventsSubscribed: register.gauge({\n            name: 'gossipsub_mesh_peer_inclusion_events_subscribed_total',\n            help: 'Number of times we include peers in a topic mesh for subscribed reasons',\n            labelNames: ['topic']\n        }),\n        meshPeerInclusionEventsOutbound: register.gauge({\n            name: 'gossipsub_mesh_peer_inclusion_events_outbound_total',\n            help: 'Number of times we include peers in a topic mesh for outbound reasons',\n            labelNames: ['topic']\n        }),\n        meshPeerInclusionEventsNotEnough: register.gauge({\n            name: 'gossipsub_mesh_peer_inclusion_events_not_enough_total',\n            help: 'Number of times we include peers in a topic mesh for not_enough reasons',\n            labelNames: ['topic']\n        }),\n        meshPeerInclusionEventsOpportunistic: register.gauge({\n            name: 'gossipsub_mesh_peer_inclusion_events_opportunistic_total',\n            help: 'Number of times we include peers in a topic mesh for opportunistic reasons',\n            labelNames: ['topic']\n        }),\n        meshPeerInclusionEventsUnknown: register.gauge({\n            name: 'gossipsub_mesh_peer_inclusion_events_unknown_total',\n            help: 'Number of times we include peers in a topic mesh for unknown reasons',\n            labelNames: ['topic']\n        }),\n        /** Number of times we remove peers in a topic mesh for different reasons.\n         *  = rust-libp2p `mesh_peer_churn_events` */\n        meshPeerChurnEventsDisconnected: register.gauge({\n            name: 'gossipsub_peer_churn_events_disconnected_total',\n            help: 'Number of times we remove peers in a topic mesh for disconnected reasons',\n            labelNames: ['topic']\n        }),\n        meshPeerChurnEventsBadScore: register.gauge({\n            name: 'gossipsub_peer_churn_events_bad_score_total',\n            help: 'Number of times we remove peers in a topic mesh for bad_score reasons',\n            labelNames: ['topic']\n        }),\n        meshPeerChurnEventsPrune: register.gauge({\n            name: 'gossipsub_peer_churn_events_prune_total',\n            help: 'Number of times we remove peers in a topic mesh for prune reasons',\n            labelNames: ['topic']\n        }),\n        meshPeerChurnEventsExcess: register.gauge({\n            name: 'gossipsub_peer_churn_events_excess_total',\n            help: 'Number of times we remove peers in a topic mesh for excess reasons',\n            labelNames: ['topic']\n        }),\n        meshPeerChurnEventsUnknown: register.gauge({\n            name: 'gossipsub_peer_churn_events_unknown_total',\n            help: 'Number of times we remove peers in a topic mesh for unknown reasons',\n            labelNames: ['topic']\n        }),\n        /* General Metrics */\n        /** Gossipsub supports floodsub, gossipsub v1.0 and gossipsub v1.1. Peers are classified based\n         *  on which protocol they support. This metric keeps track of the number of peers that are\n         *  connected of each type. */\n        peersPerProtocol: register.gauge({\n            name: 'gossipsub_peers_per_protocol_count',\n            help: 'Peers connected for each topic',\n            labelNames: ['protocol']\n        }),\n        /** The time it takes to complete one iteration of the heartbeat. */\n        heartbeatDuration: register.histogram({\n            name: 'gossipsub_heartbeat_duration_seconds',\n            help: 'The time it takes to complete one iteration of the heartbeat',\n            // Should take <10ms, over 1s it's a huge issue that needs debugging, since a heartbeat will be cancelled\n            buckets: [0.01, 0.1, 1]\n        }),\n        /** Heartbeat run took longer than heartbeat interval so next is skipped */\n        heartbeatSkipped: register.gauge({\n            name: 'gossipsub_heartbeat_skipped',\n            help: 'Heartbeat run took longer than heartbeat interval so next is skipped'\n        }),\n        /** Message validation results for each topic.\n         *  Invalid == Reject?\n         *  = rust-libp2p `invalid_messages`, `accepted_messages`, `ignored_messages`, `rejected_messages` */\n        acceptedMessagesTotal: register.gauge({\n            name: 'gossipsub_accepted_messages_total',\n            help: 'Total accepted messages for each topic',\n            labelNames: ['topic']\n        }),\n        ignoredMessagesTotal: register.gauge({\n            name: 'gossipsub_ignored_messages_total',\n            help: 'Total ignored messages for each topic',\n            labelNames: ['topic']\n        }),\n        rejectedMessagesTotal: register.gauge({\n            name: 'gossipsub_rejected_messages_total',\n            help: 'Total rejected messages for each topic',\n            labelNames: ['topic']\n        }),\n        unknownValidationResultsTotal: register.gauge({\n            name: 'gossipsub_unknown_validation_results_total',\n            help: 'Total unknown validation results for each topic',\n            labelNames: ['topic']\n        }),\n        /** When the user validates a message, it tries to re propagate it to its mesh peers. If the\n         *  message expires from the memcache before it can be validated, we count this a cache miss\n         *  and it is an indicator that the memcache size should be increased.\n         *  = rust-libp2p `mcache_misses` */\n        asyncValidationMcacheHit: register.gauge({\n            name: 'gossipsub_async_validation_mcache_hit_total',\n            help: 'Async validation result reported by the user layer',\n            labelNames: ['hit']\n        }),\n        asyncValidationDelayFromFirstSeenSec: register.histogram({\n            name: 'gossipsub_async_validation_delay_from_first_seen',\n            help: 'Async validation report delay from first seen in second',\n            labelNames: ['topic'],\n            buckets: [0.01, 0.03, 0.1, 0.3, 1, 3, 10]\n        }),\n        asyncValidationUnknownFirstSeen: register.gauge({\n            name: 'gossipsub_async_validation_unknown_first_seen_count_total',\n            help: 'Async validation report unknown first seen value for message'\n        }),\n        // peer stream\n        peerReadStreamError: register.gauge({\n            name: 'gossipsub_peer_read_stream_err_count_total',\n            help: 'Peer read stream error'\n        }),\n        // RPC outgoing. Track byte length + data structure sizes\n        rpcRecvBytes: register.gauge({ name: 'gossipsub_rpc_recv_bytes_total', help: 'RPC recv' }),\n        rpcRecvCount: register.gauge({ name: 'gossipsub_rpc_recv_count_total', help: 'RPC recv' }),\n        rpcRecvSubscription: register.gauge({ name: 'gossipsub_rpc_recv_subscription_total', help: 'RPC recv' }),\n        rpcRecvMessage: register.gauge({ name: 'gossipsub_rpc_recv_message_total', help: 'RPC recv' }),\n        rpcRecvControl: register.gauge({ name: 'gossipsub_rpc_recv_control_total', help: 'RPC recv' }),\n        rpcRecvIHave: register.gauge({ name: 'gossipsub_rpc_recv_ihave_total', help: 'RPC recv' }),\n        rpcRecvIWant: register.gauge({ name: 'gossipsub_rpc_recv_iwant_total', help: 'RPC recv' }),\n        rpcRecvGraft: register.gauge({ name: 'gossipsub_rpc_recv_graft_total', help: 'RPC recv' }),\n        rpcRecvPrune: register.gauge({ name: 'gossipsub_rpc_recv_prune_total', help: 'RPC recv' }),\n        rpcDataError: register.gauge({ name: 'gossipsub_rpc_data_err_count_total', help: 'RPC data error' }),\n        rpcRecvError: register.gauge({ name: 'gossipsub_rpc_recv_err_count_total', help: 'RPC recv error' }),\n        /** Total count of RPC dropped because acceptFrom() == false */\n        rpcRecvNotAccepted: register.gauge({\n            name: 'gossipsub_rpc_rcv_not_accepted_total',\n            help: 'Total count of RPC dropped because acceptFrom() == false'\n        }),\n        // RPC incoming. Track byte length + data structure sizes\n        rpcSentBytes: register.gauge({ name: 'gossipsub_rpc_sent_bytes_total', help: 'RPC sent' }),\n        rpcSentCount: register.gauge({ name: 'gossipsub_rpc_sent_count_total', help: 'RPC sent' }),\n        rpcSentSubscription: register.gauge({ name: 'gossipsub_rpc_sent_subscription_total', help: 'RPC sent' }),\n        rpcSentMessage: register.gauge({ name: 'gossipsub_rpc_sent_message_total', help: 'RPC sent' }),\n        rpcSentControl: register.gauge({ name: 'gossipsub_rpc_sent_control_total', help: 'RPC sent' }),\n        rpcSentIHave: register.gauge({ name: 'gossipsub_rpc_sent_ihave_total', help: 'RPC sent' }),\n        rpcSentIWant: register.gauge({ name: 'gossipsub_rpc_sent_iwant_total', help: 'RPC sent' }),\n        rpcSentGraft: register.gauge({ name: 'gossipsub_rpc_sent_graft_total', help: 'RPC sent' }),\n        rpcSentPrune: register.gauge({ name: 'gossipsub_rpc_sent_prune_total', help: 'RPC sent' }),\n        // publish message. Track peers sent to and bytes\n        /** Total count of msg published by topic */\n        msgPublishCount: register.gauge({\n            name: 'gossipsub_msg_publish_count_total',\n            help: 'Total count of msg published by topic',\n            labelNames: ['topic']\n        }),\n        /** Total count of peers that we publish a msg to */\n        msgPublishPeersByTopic: register.gauge({\n            name: 'gossipsub_msg_publish_peers_total',\n            help: 'Total count of peers that we publish a msg to',\n            labelNames: ['topic']\n        }),\n        /** Total count of peers (by group) that we publish a msg to */\n        directPeersPublishedTotal: register.gauge({\n            name: 'gossipsub_direct_peers_published_total',\n            help: 'Total direct peers that we publish a msg to',\n            labelNames: ['topic']\n        }),\n        floodsubPeersPublishedTotal: register.gauge({\n            name: 'gossipsub_floodsub_peers_published_total',\n            help: 'Total floodsub peers that we publish a msg to',\n            labelNames: ['topic']\n        }),\n        meshPeersPublishedTotal: register.gauge({\n            name: 'gossipsub_mesh_peers_published_total',\n            help: 'Total mesh peers that we publish a msg to',\n            labelNames: ['topic']\n        }),\n        fanoutPeersPublishedTotal: register.gauge({\n            name: 'gossipsub_fanout_peers_published_total',\n            help: 'Total fanout peers that we publish a msg to',\n            labelNames: ['topic']\n        }),\n        /** Total count of msg publish data.length bytes */\n        msgPublishBytes: register.gauge({\n            name: 'gossipsub_msg_publish_bytes_total',\n            help: 'Total count of msg publish data.length bytes',\n            labelNames: ['topic']\n        }),\n        /** Total time in seconds to publish a message */\n        msgPublishTime: register.histogram({\n            name: 'gossipsub_msg_publish_seconds',\n            help: 'Total time in seconds to publish a message',\n            buckets: [0.001, 0.002, 0.005, 0.01, 0.1, 0.5, 1],\n            labelNames: ['topic']\n        }),\n        /** Total count of msg forwarded by topic */\n        msgForwardCount: register.gauge({\n            name: 'gossipsub_msg_forward_count_total',\n            help: 'Total count of msg forwarded by topic',\n            labelNames: ['topic']\n        }),\n        /** Total count of peers that we forward a msg to */\n        msgForwardPeers: register.gauge({\n            name: 'gossipsub_msg_forward_peers_total',\n            help: 'Total count of peers that we forward a msg to',\n            labelNames: ['topic']\n        }),\n        /** Total count of recv msgs before any validation */\n        msgReceivedPreValidation: register.gauge({\n            name: 'gossipsub_msg_received_prevalidation_total',\n            help: 'Total count of recv msgs before any validation',\n            labelNames: ['topic']\n        }),\n        /** Total count of recv msgs error */\n        msgReceivedError: register.gauge({\n            name: 'gossipsub_msg_received_error_total',\n            help: 'Total count of recv msgs error',\n            labelNames: ['topic']\n        }),\n        /** Tracks distribution of recv msgs by duplicate, invalid, valid */\n        prevalidationInvalidTotal: register.gauge({\n            name: 'gossipsub_pre_validation_invalid_total',\n            help: 'Total count of invalid messages received',\n            labelNames: ['topic']\n        }),\n        prevalidationValidTotal: register.gauge({\n            name: 'gossipsub_pre_validation_valid_total',\n            help: 'Total count of valid messages received',\n            labelNames: ['topic']\n        }),\n        prevalidationDuplicateTotal: register.gauge({\n            name: 'gossipsub_pre_validation_duplicate_total',\n            help: 'Total count of duplicate messages received',\n            labelNames: ['topic']\n        }),\n        prevalidationUnknownTotal: register.gauge({\n            name: 'gossipsub_pre_validation_unknown_status_total',\n            help: 'Total count of unknown_status messages received',\n            labelNames: ['topic']\n        }),\n        /** Tracks specific reason of invalid */\n        msgReceivedInvalid: register.gauge({\n            name: 'gossipsub_msg_received_invalid_total',\n            help: 'Tracks specific reason of invalid',\n            labelNames: ['error']\n        }),\n        msgReceivedInvalidByTopic: register.gauge({\n            name: 'gossipsub_msg_received_invalid_by_topic_total',\n            help: 'Tracks specific invalid message by topic',\n            labelNames: ['topic']\n        }),\n        /** Track duplicate message delivery time */\n        duplicateMsgDeliveryDelay: register.histogram({\n            name: 'gossisub_duplicate_msg_delivery_delay_seconds',\n            help: 'Time since the 1st duplicated message validated',\n            labelNames: ['topic'],\n            buckets: [\n                0.25 * opts.maxMeshMessageDeliveriesWindowSec,\n                0.5 * opts.maxMeshMessageDeliveriesWindowSec,\n                1 * opts.maxMeshMessageDeliveriesWindowSec,\n                2 * opts.maxMeshMessageDeliveriesWindowSec,\n                4 * opts.maxMeshMessageDeliveriesWindowSec\n            ]\n        }),\n        /** Total count of late msg delivery total by topic */\n        duplicateMsgLateDelivery: register.gauge({\n            name: 'gossisub_duplicate_msg_late_delivery_total',\n            help: 'Total count of late duplicate message delivery by topic, which triggers P3 penalty',\n            labelNames: ['topic']\n        }),\n        duplicateMsgIgnored: register.gauge({\n            name: 'gossisub_ignored_published_duplicate_msgs_total',\n            help: 'Total count of published duplicate message ignored by topic',\n            labelNames: ['topic']\n        }),\n        /* Metrics related to scoring */\n        /** Total times score() is called */\n        scoreFnCalls: register.gauge({\n            name: 'gossipsub_score_fn_calls_total',\n            help: 'Total times score() is called'\n        }),\n        /** Total times score() call actually computed computeScore(), no cache */\n        scoreFnRuns: register.gauge({\n            name: 'gossipsub_score_fn_runs_total',\n            help: 'Total times score() call actually computed computeScore(), no cache'\n        }),\n        scoreCachedDelta: register.histogram({\n            name: 'gossipsub_score_cache_delta',\n            help: 'Delta of score between cached values that expired',\n            buckets: [10, 100, 1000]\n        }),\n        /** Current count of peers by score threshold */\n        peersByScoreThreshold: register.gauge({\n            name: 'gossipsub_peers_by_score_threshold_count',\n            help: 'Current count of peers by score threshold',\n            labelNames: ['threshold']\n        }),\n        score: register.avgMinMax({\n            name: 'gossipsub_score',\n            help: 'Avg min max of gossip scores'\n        }),\n        /**\n         * Separate score weights\n         * Need to use 2-label metrics in this case to debug the score weights\n         **/\n        scoreWeights: register.avgMinMax({\n            name: 'gossipsub_score_weights',\n            help: 'Separate score weights',\n            labelNames: ['topic', 'p']\n        }),\n        /** Histogram of the scores for each mesh topic. */\n        // TODO: Not implemented\n        scorePerMesh: register.avgMinMax({\n            name: 'gossipsub_score_per_mesh',\n            help: 'Histogram of the scores for each mesh topic',\n            labelNames: ['topic']\n        }),\n        /** A counter of the kind of penalties being applied to peers. */\n        // TODO: Not fully implemented\n        scoringPenalties: register.gauge({\n            name: 'gossipsub_scoring_penalties_total',\n            help: 'A counter of the kind of penalties being applied to peers',\n            labelNames: ['penalty']\n        }),\n        behaviourPenalty: register.histogram({\n            name: 'gossipsub_peer_stat_behaviour_penalty',\n            help: 'Current peer stat behaviour_penalty at each scrape',\n            buckets: [\n                0.25 * opts.behaviourPenaltyThreshold,\n                0.5 * opts.behaviourPenaltyThreshold,\n                1 * opts.behaviourPenaltyThreshold,\n                2 * opts.behaviourPenaltyThreshold,\n                4 * opts.behaviourPenaltyThreshold\n            ]\n        }),\n        // TODO:\n        // - iasked per peer (on heartbeat)\n        // - when promise is resolved, track messages from promises\n        /** Total received IHAVE messages that we ignore for some reason */\n        ihaveRcvIgnored: register.gauge({\n            name: 'gossipsub_ihave_rcv_ignored_total',\n            help: 'Total received IHAVE messages that we ignore for some reason',\n            labelNames: ['reason']\n        }),\n        /** Total received IHAVE messages by topic */\n        ihaveRcvMsgids: register.gauge({\n            name: 'gossipsub_ihave_rcv_msgids_total',\n            help: 'Total received IHAVE messages by topic',\n            labelNames: ['topic']\n        }),\n        /** Total messages per topic we don't have. Not actual requests.\n         *  The number of times we have decided that an IWANT control message is required for this\n         *  topic. A very high metric might indicate an underperforming network.\n         *  = rust-libp2p `topic_iwant_msgs` */\n        ihaveRcvNotSeenMsgids: register.gauge({\n            name: 'gossipsub_ihave_rcv_not_seen_msgids_total',\n            help: 'Total messages per topic we do not have, not actual requests',\n            labelNames: ['topic']\n        }),\n        /** Total received IWANT messages by topic */\n        iwantRcvMsgids: register.gauge({\n            name: 'gossipsub_iwant_rcv_msgids_total',\n            help: 'Total received IWANT messages by topic',\n            labelNames: ['topic']\n        }),\n        /** Total requested messageIDs that we don't have */\n        iwantRcvDonthaveMsgids: register.gauge({\n            name: 'gossipsub_iwant_rcv_dont_have_msgids_total',\n            help: 'Total requested messageIDs that we do not have'\n        }),\n        iwantPromiseStarted: register.gauge({\n            name: 'gossipsub_iwant_promise_sent_total',\n            help: 'Total count of started IWANT promises'\n        }),\n        /** Total count of resolved IWANT promises */\n        iwantPromiseResolved: register.gauge({\n            name: 'gossipsub_iwant_promise_resolved_total',\n            help: 'Total count of resolved IWANT promises'\n        }),\n        /** Total count of resolved IWANT promises from duplicate messages */\n        iwantPromiseResolvedFromDuplicate: register.gauge({\n            name: 'gossipsub_iwant_promise_resolved_from_duplicate_total',\n            help: 'Total count of resolved IWANT promises from duplicate messages'\n        }),\n        /** Total count of peers we have asked IWANT promises that are resolved */\n        iwantPromiseResolvedPeers: register.gauge({\n            name: 'gossipsub_iwant_promise_resolved_peers',\n            help: 'Total count of peers we have asked IWANT promises that are resolved'\n        }),\n        iwantPromiseBroken: register.gauge({\n            name: 'gossipsub_iwant_promise_broken',\n            help: 'Total count of broken IWANT promises'\n        }),\n        iwantMessagePruned: register.gauge({\n            name: 'gossipsub_iwant_message_pruned',\n            help: 'Total count of pruned IWANT messages'\n        }),\n        /** Histogram of delivery time of resolved IWANT promises */\n        iwantPromiseDeliveryTime: register.histogram({\n            name: 'gossipsub_iwant_promise_delivery_seconds',\n            help: 'Histogram of delivery time of resolved IWANT promises',\n            buckets: [\n                0.5 * opts.gossipPromiseExpireSec,\n                1 * opts.gossipPromiseExpireSec,\n                2 * opts.gossipPromiseExpireSec,\n                4 * opts.gossipPromiseExpireSec\n            ]\n        }),\n        iwantPromiseUntracked: register.gauge({\n            name: 'gossip_iwant_promise_untracked',\n            help: 'Total count of untracked IWANT promise'\n        }),\n        /** Backoff time */\n        connectedPeersBackoffSec: register.histogram({\n            name: 'gossipsub_connected_peers_backoff_seconds',\n            help: 'Backoff time in seconds',\n            // Using 1 seconds as minimum as that's close to the heartbeat duration, no need for more resolution.\n            // As per spec, backoff times are 10 seconds for UnsubscribeBackoff and 60 seconds for PruneBackoff.\n            // Higher values of 60 seconds should not occur, but we add 120 seconds just in case\n            // https://github.com/libp2p/specs/blob/master/pubsub/gossipsub/gossipsub-v1.1.md#overview-of-new-parameters\n            buckets: [1, 2, 4, 10, 20, 60, 120]\n        }),\n        /* Data structure sizes */\n        /** Unbounded cache sizes */\n        cacheSize: register.gauge({\n            name: 'gossipsub_cache_size',\n            help: 'Unbounded cache sizes',\n            labelNames: ['cache']\n        }),\n        /** Current mcache msg count */\n        mcacheSize: register.gauge({\n            name: 'gossipsub_mcache_size',\n            help: 'Current mcache msg count'\n        }),\n        mcacheNotValidatedCount: register.gauge({\n            name: 'gossipsub_mcache_not_validated_count',\n            help: 'Current mcache msg count not validated'\n        }),\n        fastMsgIdCacheCollision: register.gauge({\n            name: 'gossipsub_fastmsgid_cache_collision_total',\n            help: 'Total count of key collisions on fastmsgid cache put'\n        }),\n        newConnectionCount: register.gauge({\n            name: 'gossipsub_new_connection_total',\n            help: 'Total new connection by status',\n            labelNames: ['status']\n        }),\n        topicStrToLabel: topicStrToLabel,\n        toTopic(topicStr) {\n            return this.topicStrToLabel.get(topicStr) ?? topicStr;\n        },\n        /** We joined a topic */\n        onJoin(topicStr) {\n            this.topicSubscriptionStatus.set({ topicStr }, 1);\n            this.meshPeerCounts.set({ topicStr }, 0); // Reset count\n        },\n        /** We left a topic */\n        onLeave(topicStr) {\n            this.topicSubscriptionStatus.set({ topicStr }, 0);\n            this.meshPeerCounts.set({ topicStr }, 0); // Reset count\n        },\n        /** Register the inclusion of peers in our mesh due to some reason. */\n        onAddToMesh(topicStr, reason, count) {\n            const topic = this.toTopic(topicStr);\n            switch (reason) {\n                case InclusionReason.Fanout:\n                    this.meshPeerInclusionEventsFanout.inc({ topic }, count);\n                    break;\n                case InclusionReason.Random:\n                    this.meshPeerInclusionEventsRandom.inc({ topic }, count);\n                    break;\n                case InclusionReason.Subscribed:\n                    this.meshPeerInclusionEventsSubscribed.inc({ topic }, count);\n                    break;\n                case InclusionReason.Outbound:\n                    this.meshPeerInclusionEventsOutbound.inc({ topic }, count);\n                    break;\n                case InclusionReason.NotEnough:\n                    this.meshPeerInclusionEventsNotEnough.inc({ topic }, count);\n                    break;\n                case InclusionReason.Opportunistic:\n                    this.meshPeerInclusionEventsOpportunistic.inc({ topic }, count);\n                    break;\n                default:\n                    this.meshPeerInclusionEventsUnknown.inc({ topic }, count);\n                    break;\n            }\n        },\n        /** Register the removal of peers in our mesh due to some reason */\n        // - remove_peer_from_mesh()\n        // - heartbeat() Churn::BadScore\n        // - heartbeat() Churn::Excess\n        // - on_disconnect() Churn::Ds\n        onRemoveFromMesh(topicStr, reason, count) {\n            const topic = this.toTopic(topicStr);\n            switch (reason) {\n                case ChurnReason.Dc:\n                    this.meshPeerChurnEventsDisconnected.inc({ topic }, count);\n                    break;\n                case ChurnReason.BadScore:\n                    this.meshPeerChurnEventsBadScore.inc({ topic }, count);\n                    break;\n                case ChurnReason.Prune:\n                    this.meshPeerChurnEventsPrune.inc({ topic }, count);\n                    break;\n                case ChurnReason.Excess:\n                    this.meshPeerChurnEventsExcess.inc({ topic }, count);\n                    break;\n                default:\n                    this.meshPeerChurnEventsUnknown.inc({ topic }, count);\n                    break;\n            }\n        },\n        /**\n         * Update validation result to metrics\n         * @param messageRecord null means the message's mcache record was not known at the time of acceptance report\n         */\n        onReportValidation(messageRecord, acceptance, firstSeenTimestampMs) {\n            this.asyncValidationMcacheHit.inc({ hit: messageRecord != null ? 'hit' : 'miss' });\n            if (messageRecord != null) {\n                const topic = this.toTopic(messageRecord.message.topic);\n                switch (acceptance) {\n                    case TopicValidatorResult.Accept:\n                        this.acceptedMessagesTotal.inc({ topic });\n                        break;\n                    case TopicValidatorResult.Ignore:\n                        this.ignoredMessagesTotal.inc({ topic });\n                        break;\n                    case TopicValidatorResult.Reject:\n                        this.rejectedMessagesTotal.inc({ topic });\n                        break;\n                    default:\n                        this.unknownValidationResultsTotal.inc({ topic });\n                        break;\n                }\n            }\n            if (firstSeenTimestampMs != null) {\n                this.asyncValidationDelayFromFirstSeenSec.observe((Date.now() - firstSeenTimestampMs) / 1000);\n            }\n            else {\n                this.asyncValidationUnknownFirstSeen.inc();\n            }\n        },\n        /**\n         * - in handle_graft() Penalty::GraftBackoff\n         * - in apply_iwant_penalties() Penalty::BrokenPromise\n         * - in metric_score() P3 Penalty::MessageDeficit\n         * - in metric_score() P6 Penalty::IPColocation\n         */\n        onScorePenalty(penalty) {\n            // Can this be labeled by topic too?\n            this.scoringPenalties.inc({ penalty }, 1);\n        },\n        onIhaveRcv(topicStr, ihave, idonthave) {\n            const topic = this.toTopic(topicStr);\n            this.ihaveRcvMsgids.inc({ topic }, ihave);\n            this.ihaveRcvNotSeenMsgids.inc({ topic }, idonthave);\n        },\n        onIwantRcv(iwantByTopic, iwantDonthave) {\n            for (const [topicStr, iwant] of iwantByTopic) {\n                const topic = this.toTopic(topicStr);\n                this.iwantRcvMsgids.inc({ topic }, iwant);\n            }\n            this.iwantRcvDonthaveMsgids.inc(iwantDonthave);\n        },\n        onForwardMsg(topicStr, tosendCount) {\n            const topic = this.toTopic(topicStr);\n            this.msgForwardCount.inc({ topic }, 1);\n            this.msgForwardPeers.inc({ topic }, tosendCount);\n        },\n        onPublishMsg(topicStr, tosendGroupCount, tosendCount, dataLen, ms) {\n            const topic = this.toTopic(topicStr);\n            this.msgPublishCount.inc({ topic }, 1);\n            this.msgPublishBytes.inc({ topic }, tosendCount * dataLen);\n            this.msgPublishPeersByTopic.inc({ topic }, tosendCount);\n            this.directPeersPublishedTotal.inc({ topic }, tosendGroupCount.direct);\n            this.floodsubPeersPublishedTotal.inc({ topic }, tosendGroupCount.floodsub);\n            this.meshPeersPublishedTotal.inc({ topic }, tosendGroupCount.mesh);\n            this.fanoutPeersPublishedTotal.inc({ topic }, tosendGroupCount.fanout);\n            this.msgPublishTime.observe({ topic }, ms / 1000);\n        },\n        onMsgRecvPreValidation(topicStr) {\n            const topic = this.toTopic(topicStr);\n            this.msgReceivedPreValidation.inc({ topic }, 1);\n        },\n        onMsgRecvError(topicStr) {\n            const topic = this.toTopic(topicStr);\n            this.msgReceivedError.inc({ topic }, 1);\n        },\n        onPrevalidationResult(topicStr, status) {\n            const topic = this.toTopic(topicStr);\n            switch (status) {\n                case MessageStatus.duplicate:\n                    this.prevalidationDuplicateTotal.inc({ topic });\n                    break;\n                case MessageStatus.invalid:\n                    this.prevalidationInvalidTotal.inc({ topic });\n                    break;\n                case MessageStatus.valid:\n                    this.prevalidationValidTotal.inc({ topic });\n                    break;\n                default:\n                    this.prevalidationUnknownTotal.inc({ topic });\n                    break;\n            }\n        },\n        onMsgRecvInvalid(topicStr, reason) {\n            const topic = this.toTopic(topicStr);\n            const error = reason.reason === RejectReason.Error ? reason.error : reason.reason;\n            this.msgReceivedInvalid.inc({ error }, 1);\n            this.msgReceivedInvalidByTopic.inc({ topic }, 1);\n        },\n        onDuplicateMsgDelivery(topicStr, deliveryDelayMs, isLateDelivery) {\n            this.duplicateMsgDeliveryDelay.observe(deliveryDelayMs / 1000);\n            if (isLateDelivery) {\n                const topic = this.toTopic(topicStr);\n                this.duplicateMsgLateDelivery.inc({ topic }, 1);\n            }\n        },\n        onPublishDuplicateMsg(topicStr) {\n            const topic = this.toTopic(topicStr);\n            this.duplicateMsgIgnored.inc({ topic }, 1);\n        },\n        onPeerReadStreamError() {\n            this.peerReadStreamError.inc(1);\n        },\n        onRpcRecvError() {\n            this.rpcRecvError.inc(1);\n        },\n        onRpcDataError() {\n            this.rpcDataError.inc(1);\n        },\n        onRpcRecv(rpc, rpcBytes) {\n            this.rpcRecvBytes.inc(rpcBytes);\n            this.rpcRecvCount.inc(1);\n            if (rpc.subscriptions)\n                this.rpcRecvSubscription.inc(rpc.subscriptions.length);\n            if (rpc.messages)\n                this.rpcRecvMessage.inc(rpc.messages.length);\n            if (rpc.control) {\n                this.rpcRecvControl.inc(1);\n                if (rpc.control.ihave)\n                    this.rpcRecvIHave.inc(rpc.control.ihave.length);\n                if (rpc.control.iwant)\n                    this.rpcRecvIWant.inc(rpc.control.iwant.length);\n                if (rpc.control.graft)\n                    this.rpcRecvGraft.inc(rpc.control.graft.length);\n                if (rpc.control.prune)\n                    this.rpcRecvPrune.inc(rpc.control.prune.length);\n            }\n        },\n        onRpcSent(rpc, rpcBytes) {\n            this.rpcSentBytes.inc(rpcBytes);\n            this.rpcSentCount.inc(1);\n            if (rpc.subscriptions)\n                this.rpcSentSubscription.inc(rpc.subscriptions.length);\n            if (rpc.messages)\n                this.rpcSentMessage.inc(rpc.messages.length);\n            if (rpc.control) {\n                const ihave = rpc.control.ihave?.length ?? 0;\n                const iwant = rpc.control.iwant?.length ?? 0;\n                const graft = rpc.control.graft?.length ?? 0;\n                const prune = rpc.control.prune?.length ?? 0;\n                if (ihave > 0)\n                    this.rpcSentIHave.inc(ihave);\n                if (iwant > 0)\n                    this.rpcSentIWant.inc(iwant);\n                if (graft > 0)\n                    this.rpcSentGraft.inc(graft);\n                if (prune > 0)\n                    this.rpcSentPrune.inc(prune);\n                if (ihave > 0 || iwant > 0 || graft > 0 || prune > 0)\n                    this.rpcSentControl.inc(1);\n            }\n        },\n        registerScores(scores, scoreThresholds) {\n            let graylist = 0;\n            let publish = 0;\n            let gossip = 0;\n            let mesh = 0;\n            for (const score of scores) {\n                if (score >= scoreThresholds.graylistThreshold)\n                    graylist++;\n                if (score >= scoreThresholds.publishThreshold)\n                    publish++;\n                if (score >= scoreThresholds.gossipThreshold)\n                    gossip++;\n                if (score >= 0)\n                    mesh++;\n            }\n            this.peersByScoreThreshold.set({ threshold: ScoreThreshold.graylist }, graylist);\n            this.peersByScoreThreshold.set({ threshold: ScoreThreshold.publish }, publish);\n            this.peersByScoreThreshold.set({ threshold: ScoreThreshold.gossip }, gossip);\n            this.peersByScoreThreshold.set({ threshold: ScoreThreshold.mesh }, mesh);\n            // Register full score too\n            this.score.set(scores);\n        },\n        registerScoreWeights(sw) {\n            for (const [topic, wsTopic] of sw.byTopic) {\n                this.scoreWeights.set({ topic, p: 'p1' }, wsTopic.p1w);\n                this.scoreWeights.set({ topic, p: 'p2' }, wsTopic.p2w);\n                this.scoreWeights.set({ topic, p: 'p3' }, wsTopic.p3w);\n                this.scoreWeights.set({ topic, p: 'p3b' }, wsTopic.p3bw);\n                this.scoreWeights.set({ topic, p: 'p4' }, wsTopic.p4w);\n            }\n            this.scoreWeights.set({ p: 'p5' }, sw.p5w);\n            this.scoreWeights.set({ p: 'p6' }, sw.p6w);\n            this.scoreWeights.set({ p: 'p7' }, sw.p7w);\n        },\n        registerScorePerMesh(mesh, scoreByPeer) {\n            const peersPerTopicLabel = new Map();\n            mesh.forEach((peers, topicStr) => {\n                // Aggregate by known topicLabel or throw to 'unknown'. This prevent too high cardinality\n                const topicLabel = this.topicStrToLabel.get(topicStr) ?? 'unknown';\n                let peersInMesh = peersPerTopicLabel.get(topicLabel);\n                if (!peersInMesh) {\n                    peersInMesh = new Set();\n                    peersPerTopicLabel.set(topicLabel, peersInMesh);\n                }\n                peers.forEach((p) => peersInMesh?.add(p));\n            });\n            for (const [topic, peers] of peersPerTopicLabel) {\n                const meshScores = [];\n                peers.forEach((peer) => {\n                    meshScores.push(scoreByPeer.get(peer) ?? 0);\n                });\n                this.scorePerMesh.set({ topic }, meshScores);\n            }\n        }\n    };\n}\n//# sourceMappingURL=metrics.js.map","import { concat as uint8ArrayConcat } from 'uint8arrays/concat';\nimport { fromString as uint8ArrayFromString } from 'uint8arrays/from-string';\nimport { marshalPublicKey, unmarshalPublicKey } from '@libp2p/crypto/keys';\nimport { randomBytes } from '@libp2p/crypto';\nimport { peerIdFromBytes } from '@libp2p/peer-id';\nimport { equals as uint8ArrayEquals } from 'uint8arrays/equals';\nimport { RPC } from '../message/rpc.js';\nimport { PublishConfigType, ValidateError } from '../types.js';\nimport { StrictSign, StrictNoSign } from '@libp2p/interface/pubsub';\nimport { toString as uint8ArrayToString } from 'uint8arrays/to-string';\nexport const SignPrefix = uint8ArrayFromString('libp2p-pubsub:');\nexport async function buildRawMessage(publishConfig, topic, originalData, transformedData) {\n    switch (publishConfig.type) {\n        case PublishConfigType.Signing: {\n            const rpcMsg = {\n                from: publishConfig.author.toBytes(),\n                data: transformedData,\n                seqno: randomBytes(8),\n                topic,\n                signature: undefined,\n                key: undefined // Exclude key field for signing\n            };\n            // Get the message in bytes, and prepend with the pubsub prefix\n            // the signature is over the bytes \"libp2p-pubsub:<protobuf-message>\"\n            const bytes = uint8ArrayConcat([SignPrefix, RPC.Message.encode(rpcMsg).finish()]);\n            rpcMsg.signature = await publishConfig.privateKey.sign(bytes);\n            rpcMsg.key = publishConfig.key;\n            const msg = {\n                type: 'signed',\n                from: publishConfig.author,\n                data: originalData,\n                sequenceNumber: BigInt(`0x${uint8ArrayToString(rpcMsg.seqno, 'base16')}`),\n                topic,\n                signature: rpcMsg.signature,\n                key: rpcMsg.key\n            };\n            return {\n                raw: rpcMsg,\n                msg: msg\n            };\n        }\n        case PublishConfigType.Anonymous: {\n            return {\n                raw: {\n                    from: undefined,\n                    data: transformedData,\n                    seqno: undefined,\n                    topic,\n                    signature: undefined,\n                    key: undefined\n                },\n                msg: {\n                    type: 'unsigned',\n                    data: originalData,\n                    topic\n                }\n            };\n        }\n    }\n}\nexport async function validateToRawMessage(signaturePolicy, msg) {\n    // If strict-sign, verify all\n    // If anonymous (no-sign), ensure no preven\n    switch (signaturePolicy) {\n        case StrictNoSign:\n            if (msg.signature != null)\n                return { valid: false, error: ValidateError.SignaturePresent };\n            if (msg.seqno != null)\n                return { valid: false, error: ValidateError.SeqnoPresent };\n            if (msg.key != null)\n                return { valid: false, error: ValidateError.FromPresent };\n            return { valid: true, message: { type: 'unsigned', topic: msg.topic, data: msg.data ?? new Uint8Array(0) } };\n        case StrictSign: {\n            // Verify seqno\n            if (msg.seqno == null)\n                return { valid: false, error: ValidateError.InvalidSeqno };\n            if (msg.seqno.length !== 8) {\n                return { valid: false, error: ValidateError.InvalidSeqno };\n            }\n            if (msg.signature == null)\n                return { valid: false, error: ValidateError.InvalidSignature };\n            if (msg.from == null)\n                return { valid: false, error: ValidateError.InvalidPeerId };\n            let fromPeerId;\n            try {\n                // TODO: Fix PeerId types\n                fromPeerId = peerIdFromBytes(msg.from);\n            }\n            catch (e) {\n                return { valid: false, error: ValidateError.InvalidPeerId };\n            }\n            // - check from defined\n            // - transform source to PeerId\n            // - parse signature\n            // - get .key, else from source\n            // - check key == source if present\n            // - verify sig\n            let publicKey;\n            if (msg.key) {\n                publicKey = unmarshalPublicKey(msg.key);\n                // TODO: Should `fromPeerId.pubKey` be optional?\n                if (fromPeerId.publicKey !== undefined && !uint8ArrayEquals(publicKey.bytes, fromPeerId.publicKey)) {\n                    return { valid: false, error: ValidateError.InvalidPeerId };\n                }\n            }\n            else {\n                if (fromPeerId.publicKey == null) {\n                    return { valid: false, error: ValidateError.InvalidPeerId };\n                }\n                publicKey = unmarshalPublicKey(fromPeerId.publicKey);\n            }\n            const rpcMsgPreSign = {\n                from: msg.from,\n                data: msg.data,\n                seqno: msg.seqno,\n                topic: msg.topic,\n                signature: undefined,\n                key: undefined // Exclude key field for signing\n            };\n            // Get the message in bytes, and prepend with the pubsub prefix\n            // the signature is over the bytes \"libp2p-pubsub:<protobuf-message>\"\n            const bytes = uint8ArrayConcat([SignPrefix, RPC.Message.encode(rpcMsgPreSign).finish()]);\n            if (!(await publicKey.verify(bytes, msg.signature))) {\n                return { valid: false, error: ValidateError.InvalidSignature };\n            }\n            return {\n                valid: true,\n                message: {\n                    type: 'signed',\n                    from: fromPeerId,\n                    data: msg.data ?? new Uint8Array(0),\n                    sequenceNumber: BigInt(`0x${uint8ArrayToString(msg.seqno, 'base16')}`),\n                    topic: msg.topic,\n                    signature: msg.signature,\n                    key: msg.key ?? marshalPublicKey(publicKey)\n                }\n            };\n        }\n    }\n}\n//# sourceMappingURL=buildRawMessage.js.map","import { sha256 } from 'multiformats/hashes/sha2';\nimport { msgId } from '@libp2p/pubsub/utils';\n/**\n * Generate a message id, based on the `key` and `seqno`\n */\nexport function msgIdFnStrictSign(msg) {\n    if (msg.type !== 'signed') {\n        throw new Error('expected signed message type');\n    }\n    // Should never happen\n    if (msg.sequenceNumber == null)\n        throw Error('missing seqno field');\n    // TODO: Should use .from here or key?\n    return msgId(msg.from.toBytes(), msg.sequenceNumber);\n}\n/**\n * Generate a message id, based on message `data`\n */\nexport async function msgIdFnStrictNoSign(msg) {\n    return await sha256.encode(msg.data);\n}\n//# sourceMappingURL=msgIdFn.js.map","import { randomBytes } from '@libp2p/crypto';\nimport { CodeError } from '@libp2p/interface/errors';\nimport { peerIdFromBytes, peerIdFromKeys } from '@libp2p/peer-id';\nimport { sha256 } from 'multiformats/hashes/sha2';\nimport { fromString as uint8ArrayFromString } from 'uint8arrays/from-string';\nimport { toString as uint8ArrayToString } from 'uint8arrays/to-string';\nimport { codes } from './errors.js';\n/**\n * Generate a random sequence number\n */\nexport function randomSeqno() {\n    return BigInt(`0x${uint8ArrayToString(randomBytes(8), 'base16')}`);\n}\n/**\n * Generate a message id, based on the `key` and `seqno`\n */\nexport const msgId = (key, seqno) => {\n    const seqnoBytes = uint8ArrayFromString(seqno.toString(16).padStart(16, '0'), 'base16');\n    const msgId = new Uint8Array(key.length + seqnoBytes.length);\n    msgId.set(key, 0);\n    msgId.set(seqnoBytes, key.length);\n    return msgId;\n};\n/**\n * Generate a message id, based on message `data`\n */\nexport const noSignMsgId = (data) => {\n    return sha256.encode(data);\n};\n/**\n * Check if any member of the first set is also a member\n * of the second set\n */\nexport const anyMatch = (a, b) => {\n    let bHas;\n    if (Array.isArray(b)) {\n        bHas = (val) => b.includes(val);\n    }\n    else {\n        bHas = (val) => b.has(val);\n    }\n    for (const val of a) {\n        if (bHas(val)) {\n            return true;\n        }\n    }\n    return false;\n};\n/**\n * Make everything an array\n */\nexport const ensureArray = function (maybeArray) {\n    if (!Array.isArray(maybeArray)) {\n        return [maybeArray];\n    }\n    return maybeArray;\n};\nconst isSigned = async (message) => {\n    if ((message.sequenceNumber == null) || (message.from == null) || (message.signature == null)) {\n        return false;\n    }\n    // if a public key is present in the `from` field, the message should be signed\n    const fromID = peerIdFromBytes(message.from);\n    if (fromID.publicKey != null) {\n        return true;\n    }\n    if (message.key != null) {\n        const signingID = await peerIdFromKeys(message.key);\n        return signingID.equals(fromID);\n    }\n    return false;\n};\nexport const toMessage = async (message) => {\n    if (message.from == null) {\n        throw new CodeError('RPC message was missing from', codes.ERR_MISSING_FROM);\n    }\n    if (!await isSigned(message)) {\n        return {\n            type: 'unsigned',\n            topic: message.topic ?? '',\n            data: message.data ?? new Uint8Array(0)\n        };\n    }\n    const from = peerIdFromBytes(message.from);\n    const msg = {\n        type: 'signed',\n        from: peerIdFromBytes(message.from),\n        topic: message.topic ?? '',\n        sequenceNumber: bigIntFromBytes(message.sequenceNumber ?? new Uint8Array(0)),\n        data: message.data ?? new Uint8Array(0),\n        signature: message.signature ?? new Uint8Array(0),\n        key: message.key ?? from.publicKey ?? new Uint8Array(0)\n    };\n    if (msg.key.length === 0) {\n        throw new CodeError('Signed RPC message was missing key', codes.ERR_MISSING_KEY);\n    }\n    return msg;\n};\nexport const toRpcMessage = (message) => {\n    if (message.type === 'signed') {\n        return {\n            from: message.from.multihash.bytes,\n            data: message.data,\n            sequenceNumber: bigIntToBytes(message.sequenceNumber),\n            topic: message.topic,\n            signature: message.signature,\n            key: message.key\n        };\n    }\n    return {\n        data: message.data,\n        topic: message.topic\n    };\n};\nexport const bigIntToBytes = (num) => {\n    let str = num.toString(16);\n    if (str.length % 2 !== 0) {\n        str = `0${str}`;\n    }\n    return uint8ArrayFromString(str, 'base16');\n};\nexport const bigIntFromBytes = (num) => {\n    return BigInt(`0x${uint8ArrayToString(num, 'base16')}`);\n};\n//# sourceMappingURL=utils.js.map","export function computeScoreWeights(peer, pstats, params, peerIPs, topicStrToLabel) {\n    let score = 0;\n    const byTopic = new Map();\n    // topic stores\n    Object.entries(pstats.topics).forEach(([topic, tstats]) => {\n        // the topic parameters\n        // Aggregate by known topicLabel or throw to 'unknown'. This prevent too high cardinality\n        const topicLabel = topicStrToLabel.get(topic) ?? 'unknown';\n        const topicParams = params.topics[topic];\n        if (topicParams === undefined) {\n            // we are not scoring this topic\n            return;\n        }\n        let topicScores = byTopic.get(topicLabel);\n        if (!topicScores) {\n            topicScores = {\n                p1w: 0,\n                p2w: 0,\n                p3w: 0,\n                p3bw: 0,\n                p4w: 0\n            };\n            byTopic.set(topicLabel, topicScores);\n        }\n        let p1w = 0;\n        let p2w = 0;\n        let p3w = 0;\n        let p3bw = 0;\n        let p4w = 0;\n        // P1: time in Mesh\n        if (tstats.inMesh) {\n            const p1 = Math.max(tstats.meshTime / topicParams.timeInMeshQuantum, topicParams.timeInMeshCap);\n            p1w += p1 * topicParams.timeInMeshWeight;\n        }\n        // P2: first message deliveries\n        let p2 = tstats.firstMessageDeliveries;\n        if (p2 > topicParams.firstMessageDeliveriesCap) {\n            p2 = topicParams.firstMessageDeliveriesCap;\n        }\n        p2w += p2 * topicParams.firstMessageDeliveriesWeight;\n        // P3: mesh message deliveries\n        if (tstats.meshMessageDeliveriesActive &&\n            tstats.meshMessageDeliveries < topicParams.meshMessageDeliveriesThreshold) {\n            const deficit = topicParams.meshMessageDeliveriesThreshold - tstats.meshMessageDeliveries;\n            const p3 = deficit * deficit;\n            p3w += p3 * topicParams.meshMessageDeliveriesWeight;\n        }\n        // P3b:\n        // NOTE: the weight of P3b is negative (validated in validateTopicScoreParams) so this detracts\n        const p3b = tstats.meshFailurePenalty;\n        p3bw += p3b * topicParams.meshFailurePenaltyWeight;\n        // P4: invalid messages\n        // NOTE: the weight of P4 is negative (validated in validateTopicScoreParams) so this detracts\n        const p4 = tstats.invalidMessageDeliveries * tstats.invalidMessageDeliveries;\n        p4w += p4 * topicParams.invalidMessageDeliveriesWeight;\n        // update score, mixing with topic weight\n        score += (p1w + p2w + p3w + p3bw + p4w) * topicParams.topicWeight;\n        topicScores.p1w += p1w;\n        topicScores.p2w += p2w;\n        topicScores.p3w += p3w;\n        topicScores.p3bw += p3bw;\n        topicScores.p4w += p4w;\n    });\n    // apply the topic score cap, if any\n    if (params.topicScoreCap > 0 && score > params.topicScoreCap) {\n        score = params.topicScoreCap;\n        // Proportionally apply cap to all individual contributions\n        const capF = params.topicScoreCap / score;\n        for (const ws of byTopic.values()) {\n            ws.p1w *= capF;\n            ws.p2w *= capF;\n            ws.p3w *= capF;\n            ws.p3bw *= capF;\n            ws.p4w *= capF;\n        }\n    }\n    let p5w = 0;\n    let p6w = 0;\n    let p7w = 0;\n    // P5: application-specific score\n    const p5 = params.appSpecificScore(peer);\n    p5w += p5 * params.appSpecificWeight;\n    // P6: IP colocation factor\n    pstats.knownIPs.forEach((ip) => {\n        if (params.IPColocationFactorWhitelist.has(ip)) {\n            return;\n        }\n        // P6 has a cliff (IPColocationFactorThreshold)\n        // It's only applied if at least that many peers are connected to us from that source IP addr.\n        // It is quadratic, and the weight is negative (validated in validatePeerScoreParams)\n        const peersInIP = peerIPs.get(ip);\n        const numPeersInIP = peersInIP ? peersInIP.size : 0;\n        if (numPeersInIP > params.IPColocationFactorThreshold) {\n            const surplus = numPeersInIP - params.IPColocationFactorThreshold;\n            const p6 = surplus * surplus;\n            p6w += p6 * params.IPColocationFactorWeight;\n        }\n    });\n    // P7: behavioural pattern penalty\n    const p7 = pstats.behaviourPenalty * pstats.behaviourPenalty;\n    p7w += p7 * params.behaviourPenaltyWeight;\n    score += p5w + p6w + p7w;\n    return {\n        byTopic,\n        p5w,\n        p6w,\n        p7w,\n        score\n    };\n}\nexport function computeAllPeersScoreWeights(peerIdStrs, peerStats, params, peerIPs, topicStrToLabel) {\n    const sw = {\n        byTopic: new Map(),\n        p5w: [],\n        p6w: [],\n        p7w: [],\n        score: []\n    };\n    for (const peerIdStr of peerIdStrs) {\n        const pstats = peerStats.get(peerIdStr);\n        if (pstats) {\n            const swPeer = computeScoreWeights(peerIdStr, pstats, params, peerIPs, topicStrToLabel);\n            for (const [topic, swPeerTopic] of swPeer.byTopic) {\n                let swTopic = sw.byTopic.get(topic);\n                if (!swTopic) {\n                    swTopic = {\n                        p1w: [],\n                        p2w: [],\n                        p3w: [],\n                        p3bw: [],\n                        p4w: []\n                    };\n                    sw.byTopic.set(topic, swTopic);\n                }\n                swTopic.p1w.push(swPeerTopic.p1w);\n                swTopic.p2w.push(swPeerTopic.p2w);\n                swTopic.p3w.push(swPeerTopic.p3w);\n                swTopic.p3bw.push(swPeerTopic.p3bw);\n                swTopic.p4w.push(swPeerTopic.p4w);\n            }\n            sw.p5w.push(swPeer.p5w);\n            sw.p6w.push(swPeer.p6w);\n            sw.p7w.push(swPeer.p7w);\n            sw.score.push(swPeer.score);\n        }\n        else {\n            sw.p5w.push(0);\n            sw.p6w.push(0);\n            sw.p7w.push(0);\n            sw.score.push(0);\n        }\n    }\n    return sw;\n}\n//# sourceMappingURL=scoreMetrics.js.map","// ported from https://www.npmjs.com/package/fast-fifo\nclass FixedFIFO {\n    buffer;\n    mask;\n    top;\n    btm;\n    next;\n    constructor(hwm) {\n        if (!(hwm > 0) || ((hwm - 1) & hwm) !== 0) {\n            throw new Error('Max size for a FixedFIFO should be a power of two');\n        }\n        this.buffer = new Array(hwm);\n        this.mask = hwm - 1;\n        this.top = 0;\n        this.btm = 0;\n        this.next = null;\n    }\n    push(data) {\n        if (this.buffer[this.top] !== undefined) {\n            return false;\n        }\n        this.buffer[this.top] = data;\n        this.top = (this.top + 1) & this.mask;\n        return true;\n    }\n    shift() {\n        const last = this.buffer[this.btm];\n        if (last === undefined) {\n            return undefined;\n        }\n        this.buffer[this.btm] = undefined;\n        this.btm = (this.btm + 1) & this.mask;\n        return last;\n    }\n    isEmpty() {\n        return this.buffer[this.btm] === undefined;\n    }\n}\nexport class FIFO {\n    size;\n    hwm;\n    head;\n    tail;\n    constructor(options = {}) {\n        this.hwm = options.splitLimit ?? 16;\n        this.head = new FixedFIFO(this.hwm);\n        this.tail = this.head;\n        this.size = 0;\n    }\n    calculateSize(obj) {\n        if (obj?.byteLength != null) {\n            return obj.byteLength;\n        }\n        return 1;\n    }\n    push(val) {\n        if (val?.value != null) {\n            this.size += this.calculateSize(val.value);\n        }\n        if (!this.head.push(val)) {\n            const prev = this.head;\n            this.head = prev.next = new FixedFIFO(2 * this.head.buffer.length);\n            this.head.push(val);\n        }\n    }\n    shift() {\n        let val = this.tail.shift();\n        if (val === undefined && (this.tail.next != null)) {\n            const next = this.tail.next;\n            this.tail.next = null;\n            this.tail = next;\n            val = this.tail.shift();\n        }\n        if (val?.value != null) {\n            this.size -= this.calculateSize(val.value);\n        }\n        return val;\n    }\n    isEmpty() {\n        return this.head.isEmpty();\n    }\n}\n//# sourceMappingURL=fifo.js.map","/**\n * @packageDocumentation\n *\n * An iterable that you can push values into.\n *\n * @example\n *\n * ```js\n * import { pushable } from 'it-pushable'\n *\n * const source = pushable()\n *\n * setTimeout(() => source.push('hello'), 100)\n * setTimeout(() => source.push('world'), 200)\n * setTimeout(() => source.end(), 300)\n *\n * const start = Date.now()\n *\n * for await (const value of source) {\n *   console.log(`got \"${value}\" after ${Date.now() - start}ms`)\n * }\n * console.log(`done after ${Date.now() - start}ms`)\n *\n * // Output:\n * // got \"hello\" after 105ms\n * // got \"world\" after 207ms\n * // done after 309ms\n * ```\n *\n * @example\n *\n * ```js\n * import { pushableV } from 'it-pushable'\n * import all from 'it-all'\n *\n * const source = pushableV()\n *\n * source.push(1)\n * source.push(2)\n * source.push(3)\n * source.end()\n *\n * console.info(await all(source))\n *\n * // Output:\n * // [ [1, 2, 3] ]\n * ```\n */\nimport deferred from 'p-defer';\nimport { FIFO } from './fifo.js';\nexport class AbortError extends Error {\n    type;\n    code;\n    constructor(message, code) {\n        super(message ?? 'The operation was aborted');\n        this.type = 'aborted';\n        this.code = code ?? 'ABORT_ERR';\n    }\n}\nexport function pushable(options = {}) {\n    const getNext = (buffer) => {\n        const next = buffer.shift();\n        if (next == null) {\n            return { done: true };\n        }\n        if (next.error != null) {\n            throw next.error;\n        }\n        return {\n            done: next.done === true,\n            // @ts-expect-error if done is false, value will be present\n            value: next.value\n        };\n    };\n    return _pushable(getNext, options);\n}\nexport function pushableV(options = {}) {\n    const getNext = (buffer) => {\n        let next;\n        const values = [];\n        while (!buffer.isEmpty()) {\n            next = buffer.shift();\n            if (next == null) {\n                break;\n            }\n            if (next.error != null) {\n                throw next.error;\n            }\n            if (next.done === false) {\n                // @ts-expect-error if done is false value should be pushed\n                values.push(next.value);\n            }\n        }\n        if (next == null) {\n            return { done: true };\n        }\n        return {\n            done: next.done === true,\n            value: values\n        };\n    };\n    return _pushable(getNext, options);\n}\nfunction _pushable(getNext, options) {\n    options = options ?? {};\n    let onEnd = options.onEnd;\n    let buffer = new FIFO();\n    let pushable;\n    let onNext;\n    let ended;\n    let drain = deferred();\n    const waitNext = async () => {\n        try {\n            if (!buffer.isEmpty()) {\n                return getNext(buffer);\n            }\n            if (ended) {\n                return { done: true };\n            }\n            return await new Promise((resolve, reject) => {\n                onNext = (next) => {\n                    onNext = null;\n                    buffer.push(next);\n                    try {\n                        resolve(getNext(buffer));\n                    }\n                    catch (err) {\n                        reject(err);\n                    }\n                    return pushable;\n                };\n            });\n        }\n        finally {\n            if (buffer.isEmpty()) {\n                // settle promise in the microtask queue to give consumers a chance to\n                // await after calling .push\n                queueMicrotask(() => {\n                    drain.resolve();\n                    drain = deferred();\n                });\n            }\n        }\n    };\n    const bufferNext = (next) => {\n        if (onNext != null) {\n            return onNext(next);\n        }\n        buffer.push(next);\n        return pushable;\n    };\n    const bufferError = (err) => {\n        buffer = new FIFO();\n        if (onNext != null) {\n            return onNext({ error: err });\n        }\n        buffer.push({ error: err });\n        return pushable;\n    };\n    const push = (value) => {\n        if (ended) {\n            return pushable;\n        }\n        // @ts-expect-error `byteLength` is not declared on PushType\n        if (options?.objectMode !== true && value?.byteLength == null) {\n            throw new Error('objectMode was not true but tried to push non-Uint8Array value');\n        }\n        return bufferNext({ done: false, value });\n    };\n    const end = (err) => {\n        if (ended)\n            return pushable;\n        ended = true;\n        return (err != null) ? bufferError(err) : bufferNext({ done: true });\n    };\n    const _return = () => {\n        buffer = new FIFO();\n        end();\n        return { done: true };\n    };\n    const _throw = (err) => {\n        end(err);\n        return { done: true };\n    };\n    pushable = {\n        [Symbol.asyncIterator]() { return this; },\n        next: waitNext,\n        return: _return,\n        throw: _throw,\n        push,\n        end,\n        get readableLength() {\n            return buffer.size;\n        },\n        onEmpty: async (options) => {\n            const signal = options?.signal;\n            signal?.throwIfAborted();\n            if (buffer.isEmpty()) {\n                return;\n            }\n            let cancel;\n            let listener;\n            if (signal != null) {\n                cancel = new Promise((resolve, reject) => {\n                    listener = () => {\n                        reject(new AbortError());\n                    };\n                    signal.addEventListener('abort', listener);\n                });\n            }\n            try {\n                await Promise.race([\n                    drain.promise,\n                    cancel\n                ]);\n            }\n            finally {\n                if (listener != null && signal != null) {\n                    signal?.removeEventListener('abort', listener);\n                }\n            }\n        }\n    };\n    if (onEnd == null) {\n        return pushable;\n    }\n    const _pushable = pushable;\n    pushable = {\n        [Symbol.asyncIterator]() { return this; },\n        next() {\n            return _pushable.next();\n        },\n        throw(err) {\n            _pushable.throw(err);\n            if (onEnd != null) {\n                onEnd(err);\n                onEnd = undefined;\n            }\n            return { done: true };\n        },\n        return() {\n            _pushable.return();\n            if (onEnd != null) {\n                onEnd();\n                onEnd = undefined;\n            }\n            return { done: true };\n        },\n        push,\n        end(err) {\n            _pushable.end(err);\n            if (onEnd != null) {\n                onEnd(err);\n                onEnd = undefined;\n            }\n            return pushable;\n        },\n        get readableLength() {\n            return _pushable.readableLength;\n        }\n    };\n    return pushable;\n}\n//# sourceMappingURL=index.js.map","export class AbortError extends Error {\n    constructor(message, code) {\n        super(message ?? 'The operation was aborted');\n        this.type = 'aborted';\n        this.code = code ?? 'ABORT_ERR';\n    }\n}\n//# sourceMappingURL=abort-error.js.map","/**\n * @packageDocumentation\n *\n * @example\n *\n * ```js\n * import { abortableSource } from 'abortable-iterator'\n *\n * async function main () {\n *   // An example function that creates an async iterator that yields an increasing\n *   // number every x milliseconds and NEVER ENDS!\n *   const asyncCounter = async function * (start, delay) {\n *     let i = start\n *     while (true) {\n *       yield new Promise(resolve => setTimeout(() => resolve(i++), delay))\n *     }\n *   }\n *\n *   // Create a counter that'll yield numbers from 0 upwards every second\n *   const everySecond = asyncCounter(0, 1000)\n *\n *   // Make everySecond abortable!\n *   const controller = new AbortController()\n *   const abortableEverySecond = abortableSource(everySecond, controller.signal)\n *\n *   // Abort after 5 seconds\n *   setTimeout(() => controller.abort(), 5000)\n *\n *   try {\n *     // Start the iteration, which will throw after 5 seconds when it is aborted\n *     for await (const n of abortableEverySecond) {\n *       console.log(n)\n *     }\n *   } catch (err) {\n *     if (err.code === 'ERR_ABORTED') {\n *       // Expected - all ok :D\n *     } else {\n *       throw err\n *     }\n *   }\n * }\n *\n * main()\n * ```\n */\nimport { AbortError } from './abort-error.js';\nimport { getIterator } from 'get-iterator';\n/**\n * Wrap an iterator to make it abortable, allow cleanup when aborted via onAbort\n */\nexport function abortableSource(source, signal, options) {\n    const opts = options ?? {};\n    const iterator = getIterator(source);\n    async function* abortable() {\n        let nextAbortHandler;\n        const abortHandler = () => {\n            if (nextAbortHandler != null)\n                nextAbortHandler();\n        };\n        signal.addEventListener('abort', abortHandler);\n        while (true) {\n            let result;\n            try {\n                if (signal.aborted) {\n                    const { abortMessage, abortCode } = opts;\n                    throw new AbortError(abortMessage, abortCode);\n                }\n                const abort = new Promise((resolve, reject) => {\n                    nextAbortHandler = () => {\n                        const { abortMessage, abortCode } = opts;\n                        reject(new AbortError(abortMessage, abortCode));\n                    };\n                });\n                // Race the iterator and the abort signals\n                result = await Promise.race([abort, iterator.next()]);\n                nextAbortHandler = null;\n            }\n            catch (err) {\n                signal.removeEventListener('abort', abortHandler);\n                // Might not have been aborted by a known signal\n                const isKnownAborter = err.type === 'aborted' && signal.aborted;\n                if (isKnownAborter && (opts.onAbort != null)) {\n                    // Do any custom abort handling for the iterator\n                    opts.onAbort(source);\n                }\n                // End the iterator if it is a generator\n                if (typeof iterator.return === 'function') {\n                    try {\n                        const p = iterator.return();\n                        if (p instanceof Promise) { // eslint-disable-line max-depth\n                            p.catch(err => {\n                                if (opts.onReturnError != null) {\n                                    opts.onReturnError(err);\n                                }\n                            });\n                        }\n                    }\n                    catch (err) {\n                        if (opts.onReturnError != null) { // eslint-disable-line max-depth\n                            opts.onReturnError(err);\n                        }\n                    }\n                }\n                if (isKnownAborter && opts.returnOnAbort === true) {\n                    return;\n                }\n                throw err;\n            }\n            if (result.done === true) {\n                break;\n            }\n            yield result.value;\n        }\n        signal.removeEventListener('abort', abortHandler);\n    }\n    return abortable();\n}\nexport function abortableSink(sink, signal, options) {\n    return (source) => sink(abortableSource(source, signal, options));\n}\nexport function abortableDuplex(duplex, signal, options) {\n    return {\n        sink: abortableSink(duplex.sink, signal, {\n            ...options,\n            onAbort: undefined\n        }),\n        source: abortableSource(duplex.source, signal, options)\n    };\n}\nexport { AbortError };\nexport { abortableSink as abortableTransform };\n//# sourceMappingURL=index.js.map","export function getIterator(obj) {\n    if (obj != null) {\n        if (typeof obj[Symbol.iterator] === 'function') {\n            return obj[Symbol.iterator]();\n        }\n        if (typeof obj[Symbol.asyncIterator] === 'function') {\n            return obj[Symbol.asyncIterator]();\n        }\n        if (typeof obj.next === 'function') {\n            return obj; // probably an iterator\n        }\n    }\n    throw new Error('argument is not an iterator or iterable');\n}\n//# sourceMappingURL=index.js.map","import { abortableSource } from 'abortable-iterator';\nimport { pipe } from 'it-pipe';\nimport { pushable } from 'it-pushable';\nimport { encode, decode } from 'it-length-prefixed';\nexport class OutboundStream {\n    rawStream;\n    pushable;\n    closeController;\n    maxBufferSize;\n    constructor(rawStream, errCallback, opts) {\n        this.rawStream = rawStream;\n        this.pushable = pushable({ objectMode: false });\n        this.closeController = new AbortController();\n        this.maxBufferSize = opts.maxBufferSize ?? Infinity;\n        pipe(abortableSource(this.pushable, this.closeController.signal, { returnOnAbort: true }), (source) => encode(source), this.rawStream).catch(errCallback);\n    }\n    get protocol() {\n        // TODO remove this non-nullish assertion after https://github.com/libp2p/js-libp2p-interfaces/pull/265 is incorporated\n        return this.rawStream.protocol;\n    }\n    push(data) {\n        if (this.pushable.readableLength > this.maxBufferSize) {\n            throw Error(`OutboundStream buffer full, size > ${this.maxBufferSize}`);\n        }\n        this.pushable.push(data);\n    }\n    close() {\n        this.closeController.abort();\n        // similar to pushable.end() but clear the internal buffer\n        this.pushable.return();\n        this.rawStream.close();\n    }\n}\nexport class InboundStream {\n    source;\n    rawStream;\n    closeController;\n    constructor(rawStream, opts = {}) {\n        this.rawStream = rawStream;\n        this.closeController = new AbortController();\n        this.source = abortableSource(pipe(this.rawStream, (source) => decode(source, opts)), this.closeController.signal, {\n            returnOnAbort: true\n        });\n    }\n    close() {\n        this.closeController.abort();\n        this.rawStream.close();\n    }\n}\n//# sourceMappingURL=stream.js.map","import protobuf from 'protobufjs/minimal.js';\nexport const defaultDecodeRpcLimits = {\n    maxSubscriptions: Infinity,\n    maxMessages: Infinity,\n    maxIhaveMessageIDs: Infinity,\n    maxIwantMessageIDs: Infinity,\n    maxControlMessages: Infinity,\n    maxPeerInfos: Infinity\n};\n/**\n * Copied code from src/message/rpc.cjs but with decode limits to prevent OOM attacks\n */\nexport function decodeRpc(bytes, opts) {\n    // Mutate to use the option as stateful counter. Must limit the total count of messageIDs across all IWANT, IHAVE\n    // else one count put 100 messageIDs into each 100 IWANT and \"get around\" the limit\n    opts = { ...opts };\n    const r = protobuf.Reader.create(bytes);\n    const l = bytes.length;\n    const c = l === undefined ? r.len : r.pos + l;\n    const m = {};\n    while (r.pos < c) {\n        const t = r.uint32();\n        switch (t >>> 3) {\n            case 1:\n                if (!(m.subscriptions && m.subscriptions.length))\n                    m.subscriptions = [];\n                if (m.subscriptions.length < opts.maxSubscriptions)\n                    m.subscriptions.push(decodeSubOpts(r, r.uint32()));\n                else\n                    r.skipType(t & 7);\n                break;\n            case 2:\n                if (!(m.messages && m.messages.length))\n                    m.messages = [];\n                if (m.messages.length < opts.maxMessages)\n                    m.messages.push(decodeMessage(r, r.uint32()));\n                else\n                    r.skipType(t & 7);\n                break;\n            case 3:\n                m.control = decodeControlMessage(r, r.uint32(), opts);\n                break;\n            default:\n                r.skipType(t & 7);\n                break;\n        }\n    }\n    return m;\n}\nfunction decodeSubOpts(r, l) {\n    const c = l === undefined ? r.len : r.pos + l;\n    const m = {};\n    while (r.pos < c) {\n        const t = r.uint32();\n        switch (t >>> 3) {\n            case 1:\n                m.subscribe = r.bool();\n                break;\n            case 2:\n                m.topic = r.string();\n                break;\n            default:\n                r.skipType(t & 7);\n                break;\n        }\n    }\n    return m;\n}\nfunction decodeMessage(r, l) {\n    const c = l === undefined ? r.len : r.pos + l;\n    const m = {};\n    while (r.pos < c) {\n        const t = r.uint32();\n        switch (t >>> 3) {\n            case 1:\n                m.from = r.bytes();\n                break;\n            case 2:\n                m.data = r.bytes();\n                break;\n            case 3:\n                m.seqno = r.bytes();\n                break;\n            case 4:\n                m.topic = r.string();\n                break;\n            case 5:\n                m.signature = r.bytes();\n                break;\n            case 6:\n                m.key = r.bytes();\n                break;\n            default:\n                r.skipType(t & 7);\n                break;\n        }\n    }\n    if (!m.topic)\n        throw Error(\"missing required 'topic'\");\n    return m;\n}\nfunction decodeControlMessage(r, l, opts) {\n    const c = l === undefined ? r.len : r.pos + l;\n    const m = {};\n    while (r.pos < c) {\n        const t = r.uint32();\n        switch (t >>> 3) {\n            case 1:\n                if (!(m.ihave && m.ihave.length))\n                    m.ihave = [];\n                if (m.ihave.length < opts.maxControlMessages)\n                    m.ihave.push(decodeControlIHave(r, r.uint32(), opts));\n                else\n                    r.skipType(t & 7);\n                break;\n            case 2:\n                if (!(m.iwant && m.iwant.length))\n                    m.iwant = [];\n                if (m.iwant.length < opts.maxControlMessages)\n                    m.iwant.push(decodeControlIWant(r, r.uint32(), opts));\n                else\n                    r.skipType(t & 7);\n                break;\n            case 3:\n                if (!(m.graft && m.graft.length))\n                    m.graft = [];\n                if (m.graft.length < opts.maxControlMessages)\n                    m.graft.push(decodeControlGraft(r, r.uint32()));\n                else\n                    r.skipType(t & 7);\n                break;\n            case 4:\n                if (!(m.prune && m.prune.length))\n                    m.prune = [];\n                if (m.prune.length < opts.maxControlMessages)\n                    m.prune.push(decodeControlPrune(r, r.uint32(), opts));\n                else\n                    r.skipType(t & 7);\n                break;\n            default:\n                r.skipType(t & 7);\n                break;\n        }\n    }\n    return m;\n}\nfunction decodeControlIHave(r, l, opts) {\n    const c = l === undefined ? r.len : r.pos + l;\n    const m = {};\n    while (r.pos < c) {\n        const t = r.uint32();\n        switch (t >>> 3) {\n            case 1:\n                m.topicID = r.string();\n                break;\n            case 2:\n                if (!(m.messageIDs && m.messageIDs.length))\n                    m.messageIDs = [];\n                if (opts.maxIhaveMessageIDs-- > 0)\n                    m.messageIDs.push(r.bytes());\n                else\n                    r.skipType(t & 7);\n                break;\n            default:\n                r.skipType(t & 7);\n                break;\n        }\n    }\n    return m;\n}\nfunction decodeControlIWant(r, l, opts) {\n    const c = l === undefined ? r.len : r.pos + l;\n    const m = {};\n    while (r.pos < c) {\n        const t = r.uint32();\n        switch (t >>> 3) {\n            case 1:\n                if (!(m.messageIDs && m.messageIDs.length))\n                    m.messageIDs = [];\n                if (opts.maxIwantMessageIDs-- > 0)\n                    m.messageIDs.push(r.bytes());\n                else\n                    r.skipType(t & 7);\n                break;\n            default:\n                r.skipType(t & 7);\n                break;\n        }\n    }\n    return m;\n}\nfunction decodeControlGraft(r, l) {\n    const c = l === undefined ? r.len : r.pos + l;\n    const m = {};\n    while (r.pos < c) {\n        const t = r.uint32();\n        switch (t >>> 3) {\n            case 1:\n                m.topicID = r.string();\n                break;\n            default:\n                r.skipType(t & 7);\n                break;\n        }\n    }\n    return m;\n}\nfunction decodeControlPrune(r, l, opts) {\n    const c = l === undefined ? r.len : r.pos + l;\n    const m = {};\n    while (r.pos < c) {\n        const t = r.uint32();\n        switch (t >>> 3) {\n            case 1:\n                m.topicID = r.string();\n                break;\n            case 2:\n                if (!(m.peers && m.peers.length))\n                    m.peers = [];\n                if (opts.maxPeerInfos-- > 0)\n                    m.peers.push(decodePeerInfo(r, r.uint32()));\n                else\n                    r.skipType(t & 7);\n                break;\n            case 3:\n                m.backoff = r.uint64();\n                break;\n            default:\n                r.skipType(t & 7);\n                break;\n        }\n    }\n    return m;\n}\nfunction decodePeerInfo(r, l) {\n    const c = l === undefined ? r.len : r.pos + l;\n    const m = {};\n    while (r.pos < c) {\n        const t = r.uint32();\n        switch (t >>> 3) {\n            case 1:\n                m.peerID = r.bytes();\n                break;\n            case 2:\n                m.signedPeerRecord = r.bytes();\n                break;\n            default:\n                r.skipType(t & 7);\n                break;\n        }\n    }\n    return m;\n}\n//# sourceMappingURL=decodeRpc.js.map","// base-x encoding / decoding\n// Copyright (c) 2018 base-x contributors\n// Copyright (c) 2014-2018 The Bitcoin Core developers (base58.cpp)\n// Distributed under the MIT software license, see the accompanying\n// file LICENSE or http://www.opensource.org/licenses/mit-license.php.\nfunction base (ALPHABET, name) {\n  if (ALPHABET.length >= 255) { throw new TypeError('Alphabet too long') }\n  var BASE_MAP = new Uint8Array(256);\n  for (var j = 0; j < BASE_MAP.length; j++) {\n    BASE_MAP[j] = 255;\n  }\n  for (var i = 0; i < ALPHABET.length; i++) {\n    var x = ALPHABET.charAt(i);\n    var xc = x.charCodeAt(0);\n    if (BASE_MAP[xc] !== 255) { throw new TypeError(x + ' is ambiguous') }\n    BASE_MAP[xc] = i;\n  }\n  var BASE = ALPHABET.length;\n  var LEADER = ALPHABET.charAt(0);\n  var FACTOR = Math.log(BASE) / Math.log(256); // log(BASE) / log(256), rounded up\n  var iFACTOR = Math.log(256) / Math.log(BASE); // log(256) / log(BASE), rounded up\n  function encode (source) {\n    if (source instanceof Uint8Array) ; else if (ArrayBuffer.isView(source)) {\n      source = new Uint8Array(source.buffer, source.byteOffset, source.byteLength);\n    } else if (Array.isArray(source)) {\n      source = Uint8Array.from(source);\n    }\n    if (!(source instanceof Uint8Array)) { throw new TypeError('Expected Uint8Array') }\n    if (source.length === 0) { return '' }\n        // Skip & count leading zeroes.\n    var zeroes = 0;\n    var length = 0;\n    var pbegin = 0;\n    var pend = source.length;\n    while (pbegin !== pend && source[pbegin] === 0) {\n      pbegin++;\n      zeroes++;\n    }\n        // Allocate enough space in big-endian base58 representation.\n    var size = ((pend - pbegin) * iFACTOR + 1) >>> 0;\n    var b58 = new Uint8Array(size);\n        // Process the bytes.\n    while (pbegin !== pend) {\n      var carry = source[pbegin];\n            // Apply \"b58 = b58 * 256 + ch\".\n      var i = 0;\n      for (var it1 = size - 1; (carry !== 0 || i < length) && (it1 !== -1); it1--, i++) {\n        carry += (256 * b58[it1]) >>> 0;\n        b58[it1] = (carry % BASE) >>> 0;\n        carry = (carry / BASE) >>> 0;\n      }\n      if (carry !== 0) { throw new Error('Non-zero carry') }\n      length = i;\n      pbegin++;\n    }\n        // Skip leading zeroes in base58 result.\n    var it2 = size - length;\n    while (it2 !== size && b58[it2] === 0) {\n      it2++;\n    }\n        // Translate the result into a string.\n    var str = LEADER.repeat(zeroes);\n    for (; it2 < size; ++it2) { str += ALPHABET.charAt(b58[it2]); }\n    return str\n  }\n  function decodeUnsafe (source) {\n    if (typeof source !== 'string') { throw new TypeError('Expected String') }\n    if (source.length === 0) { return new Uint8Array() }\n    var psz = 0;\n        // Skip leading spaces.\n    if (source[psz] === ' ') { return }\n        // Skip and count leading '1's.\n    var zeroes = 0;\n    var length = 0;\n    while (source[psz] === LEADER) {\n      zeroes++;\n      psz++;\n    }\n        // Allocate enough space in big-endian base256 representation.\n    var size = (((source.length - psz) * FACTOR) + 1) >>> 0; // log(58) / log(256), rounded up.\n    var b256 = new Uint8Array(size);\n        // Process the characters.\n    while (source[psz]) {\n            // Decode character\n      var carry = BASE_MAP[source.charCodeAt(psz)];\n            // Invalid character\n      if (carry === 255) { return }\n      var i = 0;\n      for (var it3 = size - 1; (carry !== 0 || i < length) && (it3 !== -1); it3--, i++) {\n        carry += (BASE * b256[it3]) >>> 0;\n        b256[it3] = (carry % 256) >>> 0;\n        carry = (carry / 256) >>> 0;\n      }\n      if (carry !== 0) { throw new Error('Non-zero carry') }\n      length = i;\n      psz++;\n    }\n        // Skip trailing spaces.\n    if (source[psz] === ' ') { return }\n        // Skip leading zeroes in b256.\n    var it4 = size - length;\n    while (it4 !== size && b256[it4] === 0) {\n      it4++;\n    }\n    var vch = new Uint8Array(zeroes + (size - it4));\n    var j = zeroes;\n    while (it4 !== size) {\n      vch[j++] = b256[it4++];\n    }\n    return vch\n  }\n  function decode (string) {\n    var buffer = decodeUnsafe(string);\n    if (buffer) { return buffer }\n    throw new Error(`Non-${name} character`)\n  }\n  return {\n    encode: encode,\n    decodeUnsafe: decodeUnsafe,\n    decode: decode\n  }\n}\nvar src = base;\n\nvar _brrp__multiformats_scope_baseX = src;\n\nexport default _brrp__multiformats_scope_baseX;\n","const empty = new Uint8Array(0)\n\n/**\n * @param {Uint8Array} d\n */\nconst toHex = d => d.reduce((hex, byte) => hex + byte.toString(16).padStart(2, '0'), '')\n\n/**\n * @param {string} hex\n */\nconst fromHex = hex => {\n  const hexes = hex.match(/../g)\n  return hexes ? new Uint8Array(hexes.map(b => parseInt(b, 16))) : empty\n}\n\n/**\n * @param {Uint8Array} aa\n * @param {Uint8Array} bb\n */\nconst equals = (aa, bb) => {\n  if (aa === bb) return true\n  if (aa.byteLength !== bb.byteLength) {\n    return false\n  }\n\n  for (let ii = 0; ii < aa.byteLength; ii++) {\n    if (aa[ii] !== bb[ii]) {\n      return false\n    }\n  }\n\n  return true\n}\n\n/**\n * @param {ArrayBufferView|ArrayBuffer|Uint8Array} o\n * @returns {Uint8Array}\n */\nconst coerce = o => {\n  if (o instanceof Uint8Array && o.constructor.name === 'Uint8Array') return o\n  if (o instanceof ArrayBuffer) return new Uint8Array(o)\n  if (ArrayBuffer.isView(o)) {\n    return new Uint8Array(o.buffer, o.byteOffset, o.byteLength)\n  }\n  throw new Error('Unknown type, must be binary type')\n}\n\n/**\n * @param {any} o\n * @returns {o is ArrayBuffer|ArrayBufferView}\n */\nconst isBinary = o =>\n  o instanceof ArrayBuffer || ArrayBuffer.isView(o)\n\n/**\n * @param {string} str\n * @returns {Uint8Array}\n */\nconst fromString = str => (new TextEncoder()).encode(str)\n\n/**\n * @param {Uint8Array} b\n * @returns {string}\n */\nconst toString = b => (new TextDecoder()).decode(b)\n\nexport { equals, coerce, isBinary, fromHex, toHex, fromString, toString, empty }\n","import basex from '../../vendor/base-x.js'\nimport { coerce } from '../bytes.js'\n// Linter can't see that API is used in types.\n// eslint-disable-next-line\nimport * as API from './interface.js'\n\n/**\n * Class represents both BaseEncoder and MultibaseEncoder meaning it\n * can be used to encode to multibase or base encode without multibase\n * prefix.\n *\n * @class\n * @template {string} Base\n * @template {string} Prefix\n * @implements {API.MultibaseEncoder<Prefix>}\n * @implements {API.BaseEncoder}\n */\nclass Encoder {\n  /**\n   * @param {Base} name\n   * @param {Prefix} prefix\n   * @param {(bytes:Uint8Array) => string} baseEncode\n   */\n  constructor (name, prefix, baseEncode) {\n    this.name = name\n    this.prefix = prefix\n    this.baseEncode = baseEncode\n  }\n\n  /**\n   * @param {Uint8Array} bytes\n   * @returns {API.Multibase<Prefix>}\n   */\n  encode (bytes) {\n    if (bytes instanceof Uint8Array) {\n      return `${this.prefix}${this.baseEncode(bytes)}`\n    } else {\n      throw Error('Unknown type, must be binary type')\n    }\n  }\n}\n\n/**\n * @template {string} Prefix\n */\n/**\n * Class represents both BaseDecoder and MultibaseDecoder so it could be used\n * to decode multibases (with matching prefix) or just base decode strings\n * with corresponding base encoding.\n *\n * @class\n * @template {string} Base\n * @template {string} Prefix\n * @implements {API.MultibaseDecoder<Prefix>}\n * @implements {API.UnibaseDecoder<Prefix>}\n * @implements {API.BaseDecoder}\n */\nclass Decoder {\n  /**\n   * @param {Base} name\n   * @param {Prefix} prefix\n   * @param {(text:string) => Uint8Array} baseDecode\n   */\n  constructor (name, prefix, baseDecode) {\n    this.name = name\n    this.prefix = prefix\n    /* c8 ignore next 3 */\n    if (prefix.codePointAt(0) === undefined) {\n      throw new Error('Invalid prefix character')\n    }\n    /** @private */\n    this.prefixCodePoint = /** @type {number} */ (prefix.codePointAt(0))\n    this.baseDecode = baseDecode\n  }\n\n  /**\n   * @param {string} text\n   */\n  decode (text) {\n    if (typeof text === 'string') {\n      if (text.codePointAt(0) !== this.prefixCodePoint) {\n        throw Error(`Unable to decode multibase string ${JSON.stringify(text)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`)\n      }\n      return this.baseDecode(text.slice(this.prefix.length))\n    } else {\n      throw Error('Can only multibase decode strings')\n    }\n  }\n\n  /**\n   * @template {string} OtherPrefix\n   * @param {API.UnibaseDecoder<OtherPrefix>|ComposedDecoder<OtherPrefix>} decoder\n   * @returns {ComposedDecoder<Prefix|OtherPrefix>}\n   */\n  or (decoder) {\n    return or(this, decoder)\n  }\n}\n\n/**\n * @template {string} Prefix\n * @typedef {Record<Prefix, API.UnibaseDecoder<Prefix>>} Decoders\n */\n\n/**\n * @template {string} Prefix\n * @implements {API.MultibaseDecoder<Prefix>}\n * @implements {API.CombobaseDecoder<Prefix>}\n */\nclass ComposedDecoder {\n  /**\n   * @param {Decoders<Prefix>} decoders\n   */\n  constructor (decoders) {\n    this.decoders = decoders\n  }\n\n  /**\n   * @template {string} OtherPrefix\n   * @param {API.UnibaseDecoder<OtherPrefix>|ComposedDecoder<OtherPrefix>} decoder\n   * @returns {ComposedDecoder<Prefix|OtherPrefix>}\n   */\n  or (decoder) {\n    return or(this, decoder)\n  }\n\n  /**\n   * @param {string} input\n   * @returns {Uint8Array}\n   */\n  decode (input) {\n    const prefix = /** @type {Prefix} */ (input[0])\n    const decoder = this.decoders[prefix]\n    if (decoder) {\n      return decoder.decode(input)\n    } else {\n      throw RangeError(`Unable to decode multibase string ${JSON.stringify(input)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)\n    }\n  }\n}\n\n/**\n * @template {string} L\n * @template {string} R\n * @param {API.UnibaseDecoder<L>|API.CombobaseDecoder<L>} left\n * @param {API.UnibaseDecoder<R>|API.CombobaseDecoder<R>} right\n * @returns {ComposedDecoder<L|R>}\n */\nexport const or = (left, right) => new ComposedDecoder(/** @type {Decoders<L|R>} */({\n  ...(left.decoders || { [/** @type API.UnibaseDecoder<L> */(left).prefix]: left }),\n  ...(right.decoders || { [/** @type API.UnibaseDecoder<R> */(right).prefix]: right })\n}))\n\n/**\n * @class\n * @template {string} Base\n * @template {string} Prefix\n * @implements {API.MultibaseCodec<Prefix>}\n * @implements {API.MultibaseEncoder<Prefix>}\n * @implements {API.MultibaseDecoder<Prefix>}\n * @implements {API.BaseCodec}\n * @implements {API.BaseEncoder}\n * @implements {API.BaseDecoder}\n */\nexport class Codec {\n  /**\n   * @param {Base} name\n   * @param {Prefix} prefix\n   * @param {(bytes:Uint8Array) => string} baseEncode\n   * @param {(text:string) => Uint8Array} baseDecode\n   */\n  constructor (name, prefix, baseEncode, baseDecode) {\n    this.name = name\n    this.prefix = prefix\n    this.baseEncode = baseEncode\n    this.baseDecode = baseDecode\n    this.encoder = new Encoder(name, prefix, baseEncode)\n    this.decoder = new Decoder(name, prefix, baseDecode)\n  }\n\n  /**\n   * @param {Uint8Array} input\n   */\n  encode (input) {\n    return this.encoder.encode(input)\n  }\n\n  /**\n   * @param {string} input\n   */\n  decode (input) {\n    return this.decoder.decode(input)\n  }\n}\n\n/**\n * @template {string} Base\n * @template {string} Prefix\n * @param {object} options\n * @param {Base} options.name\n * @param {Prefix} options.prefix\n * @param {(bytes:Uint8Array) => string} options.encode\n * @param {(input:string) => Uint8Array} options.decode\n * @returns {Codec<Base, Prefix>}\n */\nexport const from = ({ name, prefix, encode, decode }) =>\n  new Codec(name, prefix, encode, decode)\n\n/**\n * @template {string} Base\n * @template {string} Prefix\n * @param {object} options\n * @param {Base} options.name\n * @param {Prefix} options.prefix\n * @param {string} options.alphabet\n * @returns {Codec<Base, Prefix>}\n */\nexport const baseX = ({ prefix, name, alphabet }) => {\n  const { encode, decode } = basex(alphabet, name)\n  return from({\n    prefix,\n    name,\n    encode,\n    /**\n     * @param {string} text\n     */\n    decode: text => coerce(decode(text))\n  })\n}\n\n/**\n * @param {string} string\n * @param {string} alphabet\n * @param {number} bitsPerChar\n * @param {string} name\n * @returns {Uint8Array}\n */\nconst decode = (string, alphabet, bitsPerChar, name) => {\n  // Build the character lookup table:\n  /** @type {Record<string, number>} */\n  const codes = {}\n  for (let i = 0; i < alphabet.length; ++i) {\n    codes[alphabet[i]] = i\n  }\n\n  // Count the padding bytes:\n  let end = string.length\n  while (string[end - 1] === '=') {\n    --end\n  }\n\n  // Allocate the output:\n  const out = new Uint8Array((end * bitsPerChar / 8) | 0)\n\n  // Parse the data:\n  let bits = 0 // Number of bits currently in the buffer\n  let buffer = 0 // Bits waiting to be written out, MSB first\n  let written = 0 // Next byte to write\n  for (let i = 0; i < end; ++i) {\n    // Read one character from the string:\n    const value = codes[string[i]]\n    if (value === undefined) {\n      throw new SyntaxError(`Non-${name} character`)\n    }\n\n    // Append the bits to the buffer:\n    buffer = (buffer << bitsPerChar) | value\n    bits += bitsPerChar\n\n    // Write out some bits if the buffer has a byte's worth:\n    if (bits >= 8) {\n      bits -= 8\n      out[written++] = 0xff & (buffer >> bits)\n    }\n  }\n\n  // Verify that we have received just enough bits:\n  if (bits >= bitsPerChar || 0xff & (buffer << (8 - bits))) {\n    throw new SyntaxError('Unexpected end of data')\n  }\n\n  return out\n}\n\n/**\n * @param {Uint8Array} data\n * @param {string} alphabet\n * @param {number} bitsPerChar\n * @returns {string}\n */\nconst encode = (data, alphabet, bitsPerChar) => {\n  const pad = alphabet[alphabet.length - 1] === '='\n  const mask = (1 << bitsPerChar) - 1\n  let out = ''\n\n  let bits = 0 // Number of bits currently in the buffer\n  let buffer = 0 // Bits waiting to be written out, MSB first\n  for (let i = 0; i < data.length; ++i) {\n    // Slurp data into the buffer:\n    buffer = (buffer << 8) | data[i]\n    bits += 8\n\n    // Write out as much as we can:\n    while (bits > bitsPerChar) {\n      bits -= bitsPerChar\n      out += alphabet[mask & (buffer >> bits)]\n    }\n  }\n\n  // Partial character:\n  if (bits) {\n    out += alphabet[mask & (buffer << (bitsPerChar - bits))]\n  }\n\n  // Add padding characters until we hit a byte boundary:\n  if (pad) {\n    while ((out.length * bitsPerChar) & 7) {\n      out += '='\n    }\n  }\n\n  return out\n}\n\n/**\n * RFC4648 Factory\n *\n * @template {string} Base\n * @template {string} Prefix\n * @param {object} options\n * @param {Base} options.name\n * @param {Prefix} options.prefix\n * @param {string} options.alphabet\n * @param {number} options.bitsPerChar\n */\nexport const rfc4648 = ({ name, prefix, bitsPerChar, alphabet }) => {\n  return from({\n    prefix,\n    name,\n    encode (input) {\n      return encode(input, alphabet, bitsPerChar)\n    },\n    decode (input) {\n      return decode(input, alphabet, bitsPerChar, name)\n    }\n  })\n}\n","// @ts-check\n\nimport { from } from './base.js'\nimport { fromString, toString } from '../bytes.js'\n\nexport const identity = from({\n  prefix: '\\x00',\n  name: 'identity',\n  encode: (buf) => toString(buf),\n  decode: (str) => fromString(str)\n})\n","// @ts-check\n\nimport { rfc4648 } from './base.js'\n\nexport const base2 = rfc4648({\n  prefix: '0',\n  name: 'base2',\n  alphabet: '01',\n  bitsPerChar: 1\n})\n","// @ts-check\n\nimport { rfc4648 } from './base.js'\n\nexport const base8 = rfc4648({\n  prefix: '7',\n  name: 'base8',\n  alphabet: '01234567',\n  bitsPerChar: 3\n})\n","import { baseX } from './base.js'\n\nexport const base10 = baseX({\n  prefix: '9',\n  name: 'base10',\n  alphabet: '0123456789'\n})\n","// @ts-check\n\nimport { rfc4648 } from './base.js'\n\nexport const base16 = rfc4648({\n  prefix: 'f',\n  name: 'base16',\n  alphabet: '0123456789abcdef',\n  bitsPerChar: 4\n})\n\nexport const base16upper = rfc4648({\n  prefix: 'F',\n  name: 'base16upper',\n  alphabet: '0123456789ABCDEF',\n  bitsPerChar: 4\n})\n","import { rfc4648 } from './base.js'\n\nexport const base32 = rfc4648({\n  prefix: 'b',\n  name: 'base32',\n  alphabet: 'abcdefghijklmnopqrstuvwxyz234567',\n  bitsPerChar: 5\n})\n\nexport const base32upper = rfc4648({\n  prefix: 'B',\n  name: 'base32upper',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ234567',\n  bitsPerChar: 5\n})\n\nexport const base32pad = rfc4648({\n  prefix: 'c',\n  name: 'base32pad',\n  alphabet: 'abcdefghijklmnopqrstuvwxyz234567=',\n  bitsPerChar: 5\n})\n\nexport const base32padupper = rfc4648({\n  prefix: 'C',\n  name: 'base32padupper',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=',\n  bitsPerChar: 5\n})\n\nexport const base32hex = rfc4648({\n  prefix: 'v',\n  name: 'base32hex',\n  alphabet: '0123456789abcdefghijklmnopqrstuv',\n  bitsPerChar: 5\n})\n\nexport const base32hexupper = rfc4648({\n  prefix: 'V',\n  name: 'base32hexupper',\n  alphabet: '0123456789ABCDEFGHIJKLMNOPQRSTUV',\n  bitsPerChar: 5\n})\n\nexport const base32hexpad = rfc4648({\n  prefix: 't',\n  name: 'base32hexpad',\n  alphabet: '0123456789abcdefghijklmnopqrstuv=',\n  bitsPerChar: 5\n})\n\nexport const base32hexpadupper = rfc4648({\n  prefix: 'T',\n  name: 'base32hexpadupper',\n  alphabet: '0123456789ABCDEFGHIJKLMNOPQRSTUV=',\n  bitsPerChar: 5\n})\n\nexport const base32z = rfc4648({\n  prefix: 'h',\n  name: 'base32z',\n  alphabet: 'ybndrfg8ejkmcpqxot1uwisza345h769',\n  bitsPerChar: 5\n})\n","import { baseX } from './base.js'\n\nexport const base36 = baseX({\n  prefix: 'k',\n  name: 'base36',\n  alphabet: '0123456789abcdefghijklmnopqrstuvwxyz'\n})\n\nexport const base36upper = baseX({\n  prefix: 'K',\n  name: 'base36upper',\n  alphabet: '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ'\n})\n","import { baseX } from './base.js'\n\nexport const base58btc = baseX({\n  name: 'base58btc',\n  prefix: 'z',\n  alphabet: '123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz'\n})\n\nexport const base58flickr = baseX({\n  name: 'base58flickr',\n  prefix: 'Z',\n  alphabet: '123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ'\n})\n","// @ts-check\n\nimport { rfc4648 } from './base.js'\n\nexport const base64 = rfc4648({\n  prefix: 'm',\n  name: 'base64',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',\n  bitsPerChar: 6\n})\n\nexport const base64pad = rfc4648({\n  prefix: 'M',\n  name: 'base64pad',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=',\n  bitsPerChar: 6\n})\n\nexport const base64url = rfc4648({\n  prefix: 'u',\n  name: 'base64url',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_',\n  bitsPerChar: 6\n})\n\nexport const base64urlpad = rfc4648({\n  prefix: 'U',\n  name: 'base64urlpad',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=',\n  bitsPerChar: 6\n})\n","import { from } from './base.js'\n\nconst alphabet = Array.from('🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂')\nconst alphabetBytesToChars = /** @type {string[]} */ (alphabet.reduce((p, c, i) => { p[i] = c; return p }, /** @type {string[]} */([])))\nconst alphabetCharsToBytes = /** @type {number[]} */ (alphabet.reduce((p, c, i) => { p[/** @type {number} */ (c.codePointAt(0))] = i; return p }, /** @type {number[]} */([])))\n\n/**\n * @param {Uint8Array} data\n * @returns {string}\n */\nfunction encode (data) {\n  return data.reduce((p, c) => {\n    p += alphabetBytesToChars[c]\n    return p\n  }, '')\n}\n\n/**\n * @param {string} str\n * @returns {Uint8Array}\n */\nfunction decode (str) {\n  const byts = []\n  for (const char of str) {\n    const byt = alphabetCharsToBytes[/** @type {number} */ (char.codePointAt(0))]\n    if (byt === undefined) {\n      throw new Error(`Non-base256emoji character: ${char}`)\n    }\n    byts.push(byt)\n  }\n  return new Uint8Array(byts)\n}\n\nexport const base256emoji = from({\n  prefix: '🚀',\n  name: 'base256emoji',\n  encode,\n  decode\n})\n","var encode_1 = encode;\n\nvar MSB = 0x80\n  , REST = 0x7F\n  , MSBALL = ~REST\n  , INT = Math.pow(2, 31);\n\nfunction encode(num, out, offset) {\n  out = out || [];\n  offset = offset || 0;\n  var oldOffset = offset;\n\n  while(num >= INT) {\n    out[offset++] = (num & 0xFF) | MSB;\n    num /= 128;\n  }\n  while(num & MSBALL) {\n    out[offset++] = (num & 0xFF) | MSB;\n    num >>>= 7;\n  }\n  out[offset] = num | 0;\n  \n  encode.bytes = offset - oldOffset + 1;\n  \n  return out\n}\n\nvar decode = read;\n\nvar MSB$1 = 0x80\n  , REST$1 = 0x7F;\n\nfunction read(buf, offset) {\n  var res    = 0\n    , offset = offset || 0\n    , shift  = 0\n    , counter = offset\n    , b\n    , l = buf.length;\n\n  do {\n    if (counter >= l) {\n      read.bytes = 0;\n      throw new RangeError('Could not decode varint')\n    }\n    b = buf[counter++];\n    res += shift < 28\n      ? (b & REST$1) << shift\n      : (b & REST$1) * Math.pow(2, shift);\n    shift += 7;\n  } while (b >= MSB$1)\n\n  read.bytes = counter - offset;\n\n  return res\n}\n\nvar N1 = Math.pow(2,  7);\nvar N2 = Math.pow(2, 14);\nvar N3 = Math.pow(2, 21);\nvar N4 = Math.pow(2, 28);\nvar N5 = Math.pow(2, 35);\nvar N6 = Math.pow(2, 42);\nvar N7 = Math.pow(2, 49);\nvar N8 = Math.pow(2, 56);\nvar N9 = Math.pow(2, 63);\n\nvar length = function (value) {\n  return (\n    value < N1 ? 1\n  : value < N2 ? 2\n  : value < N3 ? 3\n  : value < N4 ? 4\n  : value < N5 ? 5\n  : value < N6 ? 6\n  : value < N7 ? 7\n  : value < N8 ? 8\n  : value < N9 ? 9\n  :              10\n  )\n};\n\nvar varint = {\n    encode: encode_1\n  , decode: decode\n  , encodingLength: length\n};\n\nvar _brrp_varint = varint;\n\nexport default _brrp_varint;\n","import varint from '../vendor/varint.js'\n\n/**\n * @param {Uint8Array} data\n * @param {number} [offset=0]\n * @returns {[number, number]}\n */\nexport const decode = (data, offset = 0) => {\n  const code = varint.decode(data, offset)\n  return [code, varint.decode.bytes]\n}\n\n/**\n * @param {number} int\n * @param {Uint8Array} target\n * @param {number} [offset=0]\n */\nexport const encodeTo = (int, target, offset = 0) => {\n  varint.encode(int, target, offset)\n  return target\n}\n\n/**\n * @param {number} int\n * @returns {number}\n */\nexport const encodingLength = (int) => {\n  return varint.encodingLength(int)\n}\n","import { coerce, equals as equalBytes } from '../bytes.js'\nimport * as varint from '../varint.js'\n\n/**\n * Creates a multihash digest.\n *\n * @template {number} Code\n * @param {Code} code\n * @param {Uint8Array} digest\n */\nexport const create = (code, digest) => {\n  const size = digest.byteLength\n  const sizeOffset = varint.encodingLength(code)\n  const digestOffset = sizeOffset + varint.encodingLength(size)\n\n  const bytes = new Uint8Array(digestOffset + size)\n  varint.encodeTo(code, bytes, 0)\n  varint.encodeTo(size, bytes, sizeOffset)\n  bytes.set(digest, digestOffset)\n\n  return new Digest(code, size, digest, bytes)\n}\n\n/**\n * Turns bytes representation of multihash digest into an instance.\n *\n * @param {Uint8Array} multihash\n * @returns {MultihashDigest}\n */\nexport const decode = (multihash) => {\n  const bytes = coerce(multihash)\n  const [code, sizeOffset] = varint.decode(bytes)\n  const [size, digestOffset] = varint.decode(bytes.subarray(sizeOffset))\n  const digest = bytes.subarray(sizeOffset + digestOffset)\n\n  if (digest.byteLength !== size) {\n    throw new Error('Incorrect length')\n  }\n\n  return new Digest(code, size, digest, bytes)\n}\n\n/**\n * @param {MultihashDigest} a\n * @param {unknown} b\n * @returns {b is MultihashDigest}\n */\nexport const equals = (a, b) => {\n  if (a === b) {\n    return true\n  } else {\n    const data = /** @type {{code?:unknown, size?:unknown, bytes?:unknown}} */(b)\n\n    return (\n      a.code === data.code &&\n      a.size === data.size &&\n      data.bytes instanceof Uint8Array &&\n      equalBytes(a.bytes, data.bytes)\n    )\n  }\n}\n\n/**\n * @typedef {import('./interface.js').MultihashDigest} MultihashDigest\n */\n\n/**\n * Represents a multihash digest which carries information about the\n * hashing algorithm and an actual hash digest.\n *\n * @template {number} Code\n * @template {number} Size\n * @class\n * @implements {MultihashDigest}\n */\nexport class Digest {\n  /**\n   * Creates a multihash digest.\n   *\n   * @param {Code} code\n   * @param {Size} size\n   * @param {Uint8Array} digest\n   * @param {Uint8Array} bytes\n   */\n  constructor (code, size, digest, bytes) {\n    this.code = code\n    this.size = size\n    this.digest = digest\n    this.bytes = bytes\n  }\n}\n","import * as Digest from './digest.js'\n\n/**\n * @template {string} Name\n * @template {number} Code\n * @param {object} options\n * @param {Name} options.name\n * @param {Code} options.code\n * @param {(input: Uint8Array) => Await<Uint8Array>} options.encode\n */\nexport const from = ({ name, code, encode }) => new Hasher(name, code, encode)\n\n/**\n * Hasher represents a hashing algorithm implementation that produces as\n * `MultihashDigest`.\n *\n * @template {string} Name\n * @template {number} Code\n * @class\n * @implements {MultihashHasher<Code>}\n */\nexport class Hasher {\n  /**\n   *\n   * @param {Name} name\n   * @param {Code} code\n   * @param {(input: Uint8Array) => Await<Uint8Array>} encode\n   */\n  constructor (name, code, encode) {\n    this.name = name\n    this.code = code\n    this.encode = encode\n  }\n\n  /**\n   * @param {Uint8Array} input\n   * @returns {Await<Digest.Digest<Code, number>>}\n   */\n  digest (input) {\n    if (input instanceof Uint8Array) {\n      const result = this.encode(input)\n      return result instanceof Uint8Array\n        ? Digest.create(this.code, result)\n        /* c8 ignore next 1 */\n        : result.then(digest => Digest.create(this.code, digest))\n    } else {\n      throw Error('Unknown type, must be binary type')\n      /* c8 ignore next 1 */\n    }\n  }\n}\n\n/**\n * @template {number} Alg\n * @typedef {import('./interface.js').MultihashHasher} MultihashHasher\n */\n\n/**\n * @template T\n * @typedef {Promise<T>|T} Await\n */\n","/* global crypto */\n\nimport { from } from './hasher.js'\n\n/**\n * @param {AlgorithmIdentifier} name\n */\nconst sha = name =>\n  /**\n   * @param {Uint8Array} data\n   */\n  async data => new Uint8Array(await crypto.subtle.digest(name, data))\n\nexport const sha256 = from({\n  name: 'sha2-256',\n  code: 0x12,\n  encode: sha('SHA-256')\n})\n\nexport const sha512 = from({\n  name: 'sha2-512',\n  code: 0x13,\n  encode: sha('SHA-512')\n})\n","import { coerce } from '../bytes.js'\nimport * as Digest from './digest.js'\n\nconst code = 0x0\nconst name = 'identity'\n\n/** @type {(input:Uint8Array) => Uint8Array} */\nconst encode = coerce\n\n/**\n * @param {Uint8Array} input\n * @returns {Digest.Digest<typeof code, number>}\n */\nconst digest = (input) => Digest.create(code, encode(input))\n\nexport const identity = { code, name, encode, digest }\n","// @ts-check\n\nimport { coerce } from '../bytes.js'\n\n/**\n * @template T\n * @typedef {import('./interface.js').ByteView<T>} ByteView\n */\n\nexport const name = 'raw'\nexport const code = 0x55\n\n/**\n * @param {Uint8Array} node\n * @returns {ByteView<Uint8Array>}\n */\nexport const encode = (node) => coerce(node)\n\n/**\n * @param {ByteView<Uint8Array>} data\n * @returns {Uint8Array}\n */\nexport const decode = (data) => coerce(data)\n","// @ts-check\n\n/**\n * @template T\n * @typedef {import('./interface.js').ByteView<T>} ByteView\n */\n\nconst textEncoder = new TextEncoder()\nconst textDecoder = new TextDecoder()\n\nexport const name = 'json'\nexport const code = 0x0200\n\n/**\n * @template T\n * @param {T} node\n * @returns {ByteView<T>}\n */\nexport const encode = (node) => textEncoder.encode(JSON.stringify(node))\n\n/**\n * @template T\n * @param {ByteView<T>} data\n * @returns {T}\n */\nexport const decode = (data) => JSON.parse(textDecoder.decode(data))\n","import * as varint from './varint.js'\nimport * as Digest from './hashes/digest.js'\nimport { base58btc } from './bases/base58.js'\nimport { base32 } from './bases/base32.js'\nimport { coerce } from './bytes.js'\n// Linter can see that API is used in types.\n// eslint-disable-next-line\nimport * as API from \"./link/interface.js\"\n\n// This way TS will also expose all the types from module\nexport * from './link/interface.js'\n\n/**\n * @template {API.Link<unknown, number, number, API.Version>} T\n * @template {string} Prefix\n * @param {T} link\n * @param {API.MultibaseEncoder<Prefix>} [base]\n * @returns {API.ToString<T, Prefix>}\n */\nexport const format = (link, base) => {\n  const { bytes, version } = link\n  switch (version) {\n    case 0:\n      return toStringV0(\n        bytes,\n        baseCache(link),\n        /** @type {API.MultibaseEncoder<\"z\">} */ (base) || base58btc.encoder\n      )\n    default:\n      return toStringV1(\n        bytes,\n        baseCache(link),\n        /** @type {API.MultibaseEncoder<Prefix>} */ (base || base32.encoder)\n      )\n  }\n}\n\n/**\n * @template {API.UnknownLink} Link\n * @param {Link} link\n * @returns {API.LinkJSON<Link>}\n */\nexport const toJSON = (link) => ({\n  '/': format(link)\n})\n\n/**\n * @template {API.UnknownLink} Link\n * @param {API.LinkJSON<Link>} json\n */\nexport const fromJSON = (json) =>\n  CID.parse(json['/'])\n\n/** @type {WeakMap<API.UnknownLink, Map<string, string>>} */\nconst cache = new WeakMap()\n\n/**\n * @param {API.UnknownLink} cid\n * @returns {Map<string, string>}\n */\nconst baseCache = cid => {\n  const baseCache = cache.get(cid)\n  if (baseCache == null) {\n    const baseCache = new Map()\n    cache.set(cid, baseCache)\n    return baseCache\n  }\n  return baseCache\n}\n\n/**\n * @template {unknown} [Data=unknown]\n * @template {number} [Format=number]\n * @template {number} [Alg=number]\n * @template {API.Version} [Version=API.Version]\n * @implements {API.Link<Data, Format, Alg, Version>}\n */\n\nexport class CID {\n  /**\n   * @param {Version} version - Version of the CID\n   * @param {Format} code - Code of the codec content is encoded in, see https://github.com/multiformats/multicodec/blob/master/table.csv\n   * @param {API.MultihashDigest<Alg>} multihash - (Multi)hash of the of the content.\n   * @param {Uint8Array} bytes\n   *\n   */\n  constructor (version, code, multihash, bytes) {\n    /** @readonly */\n    this.code = code\n    /** @readonly */\n    this.version = version\n    /** @readonly */\n    this.multihash = multihash\n    /** @readonly */\n    this.bytes = bytes\n\n    // flag to serializers that this is a CID and\n    // should be treated specially\n    /** @readonly */\n    this['/'] = bytes\n  }\n\n  /**\n   * Signalling `cid.asCID === cid` has been replaced with `cid['/'] === cid.bytes`\n   * please either use `CID.asCID(cid)` or switch to new signalling mechanism\n   *\n   * @deprecated\n   */\n  get asCID () {\n    return this\n  }\n\n  // ArrayBufferView\n  get byteOffset () {\n    return this.bytes.byteOffset\n  }\n\n  // ArrayBufferView\n  get byteLength () {\n    return this.bytes.byteLength\n  }\n\n  /**\n   * @returns {CID<Data, API.DAG_PB, API.SHA_256, 0>}\n   */\n  toV0 () {\n    switch (this.version) {\n      case 0: {\n        return /** @type {CID<Data, API.DAG_PB, API.SHA_256, 0>} */ (this)\n      }\n      case 1: {\n        const { code, multihash } = this\n\n        if (code !== DAG_PB_CODE) {\n          throw new Error('Cannot convert a non dag-pb CID to CIDv0')\n        }\n\n        // sha2-256\n        if (multihash.code !== SHA_256_CODE) {\n          throw new Error('Cannot convert non sha2-256 multihash CID to CIDv0')\n        }\n\n        return /** @type {CID<Data, API.DAG_PB, API.SHA_256, 0>} */ (\n          CID.createV0(\n            /** @type {API.MultihashDigest<API.SHA_256>} */ (multihash)\n          )\n        )\n      }\n      default: {\n        throw Error(\n          `Can not convert CID version ${this.version} to version 0. This is a bug please report`\n        )\n      }\n    }\n  }\n\n  /**\n   * @returns {CID<Data, Format, Alg, 1>}\n   */\n  toV1 () {\n    switch (this.version) {\n      case 0: {\n        const { code, digest } = this.multihash\n        const multihash = Digest.create(code, digest)\n        return /** @type {CID<Data, Format, Alg, 1>} */ (\n          CID.createV1(this.code, multihash)\n        )\n      }\n      case 1: {\n        return /** @type {CID<Data, Format, Alg, 1>} */ (this)\n      }\n      default: {\n        throw Error(\n          `Can not convert CID version ${this.version} to version 1. This is a bug please report`\n        )\n      }\n    }\n  }\n\n  /**\n   * @param {unknown} other\n   * @returns {other is CID<Data, Format, Alg, Version>}\n   */\n  equals (other) {\n    return CID.equals(this, other)\n  }\n\n  /**\n   * @template {unknown} Data\n   * @template {number} Format\n   * @template {number} Alg\n   * @template {API.Version} Version\n   * @param {API.Link<Data, Format, Alg, Version>} self\n   * @param {unknown} other\n   * @returns {other is CID}\n   */\n  static equals (self, other) {\n    const unknown =\n      /** @type {{code?:unknown, version?:unknown, multihash?:unknown}} */ (\n        other\n      )\n    return (\n      unknown &&\n      self.code === unknown.code &&\n      self.version === unknown.version &&\n      Digest.equals(self.multihash, unknown.multihash)\n    )\n  }\n\n  /**\n   * @param {API.MultibaseEncoder<string>} [base]\n   * @returns {string}\n   */\n  toString (base) {\n    return format(this, base)\n  }\n\n  toJSON () {\n    return { '/': format(this) }\n  }\n\n  link () {\n    return this\n  }\n\n  get [Symbol.toStringTag] () {\n    return 'CID'\n  }\n\n  // Legacy\n\n  [Symbol.for('nodejs.util.inspect.custom')] () {\n    return `CID(${this.toString()})`\n  }\n\n  /**\n   * Takes any input `value` and returns a `CID` instance if it was\n   * a `CID` otherwise returns `null`. If `value` is instanceof `CID`\n   * it will return value back. If `value` is not instance of this CID\n   * class, but is compatible CID it will return new instance of this\n   * `CID` class. Otherwise returns null.\n   *\n   * This allows two different incompatible versions of CID library to\n   * co-exist and interop as long as binary interface is compatible.\n   *\n   * @template {unknown} Data\n   * @template {number} Format\n   * @template {number} Alg\n   * @template {API.Version} Version\n   * @template {unknown} U\n   * @param {API.Link<Data, Format, Alg, Version>|U} input\n   * @returns {CID<Data, Format, Alg, Version>|null}\n   */\n  static asCID (input) {\n    if (input == null) {\n      return null\n    }\n\n    const value = /** @type {any} */ (input)\n    if (value instanceof CID) {\n      // If value is instance of CID then we're all set.\n      return value\n    } else if ((value['/'] != null && value['/'] === value.bytes) || value.asCID === value) {\n      // If value isn't instance of this CID class but `this.asCID === this` or\n      // `value['/'] === value.bytes` is true it is CID instance coming from a\n      // different implementation (diff version or duplicate). In that case we\n      // rebase it to this `CID` implementation so caller is guaranteed to get\n      // instance with expected API.\n      const { version, code, multihash, bytes } = value\n      return new CID(\n        version,\n        code,\n        /** @type {API.MultihashDigest<Alg>} */ (multihash),\n        bytes || encodeCID(version, code, multihash.bytes)\n      )\n    } else if (value[cidSymbol] === true) {\n      // If value is a CID from older implementation that used to be tagged via\n      // symbol we still rebase it to the this `CID` implementation by\n      // delegating that to a constructor.\n      const { version, multihash, code } = value\n      const digest =\n        /** @type {API.MultihashDigest<Alg>} */\n        (Digest.decode(multihash))\n      return CID.create(version, code, digest)\n    } else {\n      // Otherwise value is not a CID (or an incompatible version of it) in\n      // which case we return `null`.\n      return null\n    }\n  }\n\n  /**\n   *\n   * @template {unknown} Data\n   * @template {number} Format\n   * @template {number} Alg\n   * @template {API.Version} Version\n   * @param {Version} version - Version of the CID\n   * @param {Format} code - Code of the codec content is encoded in, see https://github.com/multiformats/multicodec/blob/master/table.csv\n   * @param {API.MultihashDigest<Alg>} digest - (Multi)hash of the of the content.\n   * @returns {CID<Data, Format, Alg, Version>}\n   */\n  static create (version, code, digest) {\n    if (typeof code !== 'number') {\n      throw new Error('String codecs are no longer supported')\n    }\n\n    if (!(digest.bytes instanceof Uint8Array)) {\n      throw new Error('Invalid digest')\n    }\n\n    switch (version) {\n      case 0: {\n        if (code !== DAG_PB_CODE) {\n          throw new Error(\n            `Version 0 CID must use dag-pb (code: ${DAG_PB_CODE}) block encoding`\n          )\n        } else {\n          return new CID(version, code, digest, digest.bytes)\n        }\n      }\n      case 1: {\n        const bytes = encodeCID(version, code, digest.bytes)\n        return new CID(version, code, digest, bytes)\n      }\n      default: {\n        throw new Error('Invalid version')\n      }\n    }\n  }\n\n  /**\n   * Simplified version of `create` for CIDv0.\n   *\n   * @template {unknown} [T=unknown]\n   * @param {API.MultihashDigest<typeof SHA_256_CODE>} digest - Multihash.\n   * @returns {CID<T, typeof DAG_PB_CODE, typeof SHA_256_CODE, 0>}\n   */\n  static createV0 (digest) {\n    return CID.create(0, DAG_PB_CODE, digest)\n  }\n\n  /**\n   * Simplified version of `create` for CIDv1.\n   *\n   * @template {unknown} Data\n   * @template {number} Code\n   * @template {number} Alg\n   * @param {Code} code - Content encoding format code.\n   * @param {API.MultihashDigest<Alg>} digest - Miltihash of the content.\n   * @returns {CID<Data, Code, Alg, 1>}\n   */\n  static createV1 (code, digest) {\n    return CID.create(1, code, digest)\n  }\n\n  /**\n   * Decoded a CID from its binary representation. The byte array must contain\n   * only the CID with no additional bytes.\n   *\n   * An error will be thrown if the bytes provided do not contain a valid\n   * binary representation of a CID.\n   *\n   * @template {unknown} Data\n   * @template {number} Code\n   * @template {number} Alg\n   * @template {API.Version} Ver\n   * @param {API.ByteView<API.Link<Data, Code, Alg, Ver>>} bytes\n   * @returns {CID<Data, Code, Alg, Ver>}\n   */\n  static decode (bytes) {\n    const [cid, remainder] = CID.decodeFirst(bytes)\n    if (remainder.length) {\n      throw new Error('Incorrect length')\n    }\n    return cid\n  }\n\n  /**\n   * Decoded a CID from its binary representation at the beginning of a byte\n   * array.\n   *\n   * Returns an array with the first element containing the CID and the second\n   * element containing the remainder of the original byte array. The remainder\n   * will be a zero-length byte array if the provided bytes only contained a\n   * binary CID representation.\n   *\n   * @template {unknown} T\n   * @template {number} C\n   * @template {number} A\n   * @template {API.Version} V\n   * @param {API.ByteView<API.Link<T, C, A, V>>} bytes\n   * @returns {[CID<T, C, A, V>, Uint8Array]}\n   */\n  static decodeFirst (bytes) {\n    const specs = CID.inspectBytes(bytes)\n    const prefixSize = specs.size - specs.multihashSize\n    const multihashBytes = coerce(\n      bytes.subarray(prefixSize, prefixSize + specs.multihashSize)\n    )\n    if (multihashBytes.byteLength !== specs.multihashSize) {\n      throw new Error('Incorrect length')\n    }\n    const digestBytes = multihashBytes.subarray(\n      specs.multihashSize - specs.digestSize\n    )\n    const digest = new Digest.Digest(\n      specs.multihashCode,\n      specs.digestSize,\n      digestBytes,\n      multihashBytes\n    )\n    const cid =\n      specs.version === 0\n        ? CID.createV0(/** @type {API.MultihashDigest<API.SHA_256>} */ (digest))\n        : CID.createV1(specs.codec, digest)\n    return [/** @type {CID<T, C, A, V>} */(cid), bytes.subarray(specs.size)]\n  }\n\n  /**\n   * Inspect the initial bytes of a CID to determine its properties.\n   *\n   * Involves decoding up to 4 varints. Typically this will require only 4 to 6\n   * bytes but for larger multicodec code values and larger multihash digest\n   * lengths these varints can be quite large. It is recommended that at least\n   * 10 bytes be made available in the `initialBytes` argument for a complete\n   * inspection.\n   *\n   * @template {unknown} T\n   * @template {number} C\n   * @template {number} A\n   * @template {API.Version} V\n   * @param {API.ByteView<API.Link<T, C, A, V>>} initialBytes\n   * @returns {{ version:V, codec:C, multihashCode:A, digestSize:number, multihashSize:number, size:number }}\n   */\n  static inspectBytes (initialBytes) {\n    let offset = 0\n    const next = () => {\n      const [i, length] = varint.decode(initialBytes.subarray(offset))\n      offset += length\n      return i\n    }\n\n    let version = /** @type {V} */ (next())\n    let codec = /** @type {C} */ (DAG_PB_CODE)\n    if (/** @type {number} */(version) === 18) {\n      // CIDv0\n      version = /** @type {V} */ (0)\n      offset = 0\n    } else {\n      codec = /** @type {C} */ (next())\n    }\n\n    if (version !== 0 && version !== 1) {\n      throw new RangeError(`Invalid CID version ${version}`)\n    }\n\n    const prefixSize = offset\n    const multihashCode = /** @type {A} */ (next()) // multihash code\n    const digestSize = next() // multihash length\n    const size = offset + digestSize\n    const multihashSize = size - prefixSize\n\n    return { version, codec, multihashCode, digestSize, multihashSize, size }\n  }\n\n  /**\n   * Takes cid in a string representation and creates an instance. If `base`\n   * decoder is not provided will use a default from the configuration. It will\n   * throw an error if encoding of the CID is not compatible with supplied (or\n   * a default decoder).\n   *\n   * @template {string} Prefix\n   * @template {unknown} Data\n   * @template {number} Code\n   * @template {number} Alg\n   * @template {API.Version} Ver\n   * @param {API.ToString<API.Link<Data, Code, Alg, Ver>, Prefix>} source\n   * @param {API.MultibaseDecoder<Prefix>} [base]\n   * @returns {CID<Data, Code, Alg, Ver>}\n   */\n  static parse (source, base) {\n    const [prefix, bytes] = parseCIDtoBytes(source, base)\n\n    const cid = CID.decode(bytes)\n\n    if (cid.version === 0 && source[0] !== 'Q') {\n      throw Error('Version 0 CID string must not include multibase prefix')\n    }\n\n    // Cache string representation to avoid computing it on `this.toString()`\n    baseCache(cid).set(prefix, source)\n\n    return cid\n  }\n}\n\n/**\n * @template {string} Prefix\n * @template {unknown} Data\n * @template {number} Code\n * @template {number} Alg\n * @template {API.Version} Ver\n * @param {API.ToString<API.Link<Data, Code, Alg, Ver>, Prefix>} source\n * @param {API.MultibaseDecoder<Prefix>} [base]\n * @returns {[Prefix, API.ByteView<API.Link<Data, Code, Alg, Ver>>]}\n */\nconst parseCIDtoBytes = (source, base) => {\n  switch (source[0]) {\n    // CIDv0 is parsed differently\n    case 'Q': {\n      const decoder = base || base58btc\n      return [\n        /** @type {Prefix} */ (base58btc.prefix),\n        decoder.decode(`${base58btc.prefix}${source}`)\n      ]\n    }\n    case base58btc.prefix: {\n      const decoder = base || base58btc\n      return [/** @type {Prefix} */(base58btc.prefix), decoder.decode(source)]\n    }\n    case base32.prefix: {\n      const decoder = base || base32\n      return [/** @type {Prefix} */(base32.prefix), decoder.decode(source)]\n    }\n    default: {\n      if (base == null) {\n        throw Error(\n          'To parse non base32 or base58btc encoded CID multibase decoder must be provided'\n        )\n      }\n      return [/** @type {Prefix} */(source[0]), base.decode(source)]\n    }\n  }\n}\n\n/**\n *\n * @param {Uint8Array} bytes\n * @param {Map<string, string>} cache\n * @param {API.MultibaseEncoder<'z'>} base\n */\nconst toStringV0 = (bytes, cache, base) => {\n  const { prefix } = base\n  if (prefix !== base58btc.prefix) {\n    throw Error(`Cannot string encode V0 in ${base.name} encoding`)\n  }\n\n  const cid = cache.get(prefix)\n  if (cid == null) {\n    const cid = base.encode(bytes).slice(1)\n    cache.set(prefix, cid)\n    return cid\n  } else {\n    return cid\n  }\n}\n\n/**\n * @template {string} Prefix\n * @param {Uint8Array} bytes\n * @param {Map<string, string>} cache\n * @param {API.MultibaseEncoder<Prefix>} base\n */\nconst toStringV1 = (bytes, cache, base) => {\n  const { prefix } = base\n  const cid = cache.get(prefix)\n  if (cid == null) {\n    const cid = base.encode(bytes)\n    cache.set(prefix, cid)\n    return cid\n  } else {\n    return cid\n  }\n}\n\nconst DAG_PB_CODE = 0x70\nconst SHA_256_CODE = 0x12\n\n/**\n * @param {API.Version} version\n * @param {number} code\n * @param {Uint8Array} multihash\n * @returns {Uint8Array}\n */\nconst encodeCID = (version, code, multihash) => {\n  const codeOffset = varint.encodingLength(version)\n  const hashOffset = codeOffset + varint.encodingLength(code)\n  const bytes = new Uint8Array(hashOffset + multihash.byteLength)\n  varint.encodeTo(version, bytes, 0)\n  varint.encodeTo(code, bytes, codeOffset)\n  bytes.set(multihash, hashOffset)\n  return bytes\n}\n\nconst cidSymbol = Symbol.for('@ipld/js-cid/CID')\n","// @ts-check\n\nimport * as identityBase from './bases/identity.js'\nimport * as base2 from './bases/base2.js'\nimport * as base8 from './bases/base8.js'\nimport * as base10 from './bases/base10.js'\nimport * as base16 from './bases/base16.js'\nimport * as base32 from './bases/base32.js'\nimport * as base36 from './bases/base36.js'\nimport * as base58 from './bases/base58.js'\nimport * as base64 from './bases/base64.js'\nimport * as base256emoji from './bases/base256emoji.js'\nimport * as sha2 from './hashes/sha2.js'\nimport * as identity from './hashes/identity.js'\n\nimport * as raw from './codecs/raw.js'\nimport * as json from './codecs/json.js'\n\nimport { CID, hasher, digest, varint, bytes } from './index.js'\n\nconst bases = { ...identityBase, ...base2, ...base8, ...base10, ...base16, ...base32, ...base36, ...base58, ...base64, ...base256emoji }\nconst hashes = { ...sha2, ...identity }\nconst codecs = { raw, json }\n\nexport { CID, hasher, digest, varint, bytes, hashes, bases, codecs }\n","import { asUint8Array } from './util/as-uint8array.js';\n/**\n * Returns a `Uint8Array` of the requested size. Referenced memory will\n * be initialized to 0.\n */\nexport function alloc(size = 0) {\n    if (globalThis.Buffer?.alloc != null) {\n        return asUint8Array(globalThis.Buffer.alloc(size));\n    }\n    return new Uint8Array(size);\n}\n/**\n * Where possible returns a Uint8Array of the requested size that references\n * uninitialized memory. Only use if you are certain you will immediately\n * overwrite every value in the returned `Uint8Array`.\n */\nexport function allocUnsafe(size = 0) {\n    if (globalThis.Buffer?.allocUnsafe != null) {\n        return asUint8Array(globalThis.Buffer.allocUnsafe(size));\n    }\n    return new Uint8Array(size);\n}\n//# sourceMappingURL=alloc.js.map","/**\n * To guarantee Uint8Array semantics, convert nodejs Buffers\n * into vanilla Uint8Arrays\n */\nexport function asUint8Array(buf) {\n    if (globalThis.Buffer != null) {\n        return new Uint8Array(buf.buffer, buf.byteOffset, buf.byteLength);\n    }\n    return buf;\n}\n//# sourceMappingURL=as-uint8array.js.map","import { bases } from 'multiformats/basics';\nimport { allocUnsafe } from '../alloc.js';\nfunction createCodec(name, prefix, encode, decode) {\n    return {\n        name,\n        prefix,\n        encoder: {\n            name,\n            prefix,\n            encode\n        },\n        decoder: {\n            decode\n        }\n    };\n}\nconst string = createCodec('utf8', 'u', (buf) => {\n    const decoder = new TextDecoder('utf8');\n    return 'u' + decoder.decode(buf);\n}, (str) => {\n    const encoder = new TextEncoder();\n    return encoder.encode(str.substring(1));\n});\nconst ascii = createCodec('ascii', 'a', (buf) => {\n    let string = 'a';\n    for (let i = 0; i < buf.length; i++) {\n        string += String.fromCharCode(buf[i]);\n    }\n    return string;\n}, (str) => {\n    str = str.substring(1);\n    const buf = allocUnsafe(str.length);\n    for (let i = 0; i < str.length; i++) {\n        buf[i] = str.charCodeAt(i);\n    }\n    return buf;\n});\nconst BASES = {\n    utf8: string,\n    'utf-8': string,\n    hex: bases.base16,\n    latin1: ascii,\n    ascii: ascii,\n    binary: ascii,\n    ...bases\n};\nexport default BASES;\n//# sourceMappingURL=bases.js.map","import bases from './util/bases.js';\n/**\n * Turns a `Uint8Array` into a string.\n *\n * Supports `utf8`, `utf-8` and any encoding supported by the multibase module.\n *\n * Also `ascii` which is similar to node's 'binary' encoding.\n */\nexport function toString(array, encoding = 'utf8') {\n    const base = bases[encoding];\n    if (base == null) {\n        throw new Error(`Unsupported encoding \"${encoding}\"`);\n    }\n    if ((encoding === 'utf8' || encoding === 'utf-8') && globalThis.Buffer != null && globalThis.Buffer.from != null) {\n        return globalThis.Buffer.from(array.buffer, array.byteOffset, array.byteLength).toString('utf8');\n    }\n    // strip multibase prefix\n    return base.encoder.encode(array).substring(1);\n}\n//# sourceMappingURL=to-string.js.map","import { isIPv4, isIPv6 } from '@chainsafe/is-ip';\nimport { toString as uint8ArrayToString } from 'uint8arrays/to-string';\nexport { isIP } from '@chainsafe/is-ip';\nexport const isV4 = isIPv4;\nexport const isV6 = isIPv6;\n// Copied from https://github.com/indutny/node-ip/blob/master/lib/ip.js#L7\n// but with buf/offset args removed because we don't use them\nexport const toBytes = function (ip) {\n    let offset = 0;\n    ip = ip.toString().trim();\n    if (isV4(ip)) {\n        const bytes = new Uint8Array(offset + 4);\n        ip.split(/\\./g).forEach((byte) => {\n            bytes[offset++] = parseInt(byte, 10) & 0xff;\n        });\n        return bytes;\n    }\n    if (isV6(ip)) {\n        const sections = ip.split(':', 8);\n        let i;\n        for (i = 0; i < sections.length; i++) {\n            const isv4 = isV4(sections[i]);\n            let v4Buffer;\n            if (isv4) {\n                v4Buffer = toBytes(sections[i]);\n                sections[i] = uint8ArrayToString(v4Buffer.slice(0, 2), 'base16');\n            }\n            if (v4Buffer != null && ++i < 8) {\n                sections.splice(i, 0, uint8ArrayToString(v4Buffer.slice(2, 4), 'base16'));\n            }\n        }\n        if (sections[0] === '') {\n            while (sections.length < 8)\n                sections.unshift('0');\n        }\n        else if (sections[sections.length - 1] === '') {\n            while (sections.length < 8)\n                sections.push('0');\n        }\n        else if (sections.length < 8) {\n            for (i = 0; i < sections.length && sections[i] !== ''; i++)\n                ;\n            const argv = [i, 1];\n            for (i = 9 - sections.length; i > 0; i--) {\n                argv.push('0');\n            }\n            sections.splice.apply(sections, argv);\n        }\n        const bytes = new Uint8Array(offset + 16);\n        for (i = 0; i < sections.length; i++) {\n            const word = parseInt(sections[i], 16);\n            bytes[offset++] = (word >> 8) & 0xff;\n            bytes[offset++] = word & 0xff;\n        }\n        return bytes;\n    }\n    throw new Error('invalid ip address');\n};\n// Copied from https://github.com/indutny/node-ip/blob/master/lib/ip.js#L63\nexport const toString = function (buf, offset = 0, length) {\n    offset = ~~offset;\n    length = length ?? (buf.length - offset);\n    const view = new DataView(buf.buffer);\n    if (length === 4) {\n        const result = [];\n        // IPv4\n        for (let i = 0; i < length; i++) {\n            result.push(buf[offset + i]);\n        }\n        return result.join('.');\n    }\n    if (length === 16) {\n        const result = [];\n        // IPv6\n        for (let i = 0; i < length; i += 2) {\n            result.push(view.getUint16(offset + i).toString(16));\n        }\n        return result.join(':')\n            .replace(/(^|:)0(:0)*:0(:|$)/, '$1::$3')\n            .replace(/:{3,4}/, '::');\n    }\n    return '';\n};\n//# sourceMappingURL=ip.js.map","const V = -1;\nexport const names = {};\nexport const codes = {};\nexport const table = [\n    [4, 32, 'ip4'],\n    [6, 16, 'tcp'],\n    [33, 16, 'dccp'],\n    [41, 128, 'ip6'],\n    [42, V, 'ip6zone'],\n    [43, 8, 'ipcidr'],\n    [53, V, 'dns', true],\n    [54, V, 'dns4', true],\n    [55, V, 'dns6', true],\n    [56, V, 'dnsaddr', true],\n    [132, 16, 'sctp'],\n    [273, 16, 'udp'],\n    [275, 0, 'p2p-webrtc-star'],\n    [276, 0, 'p2p-webrtc-direct'],\n    [277, 0, 'p2p-stardust'],\n    [280, 0, 'webrtc-direct'],\n    [281, 0, 'webrtc'],\n    [290, 0, 'p2p-circuit'],\n    [301, 0, 'udt'],\n    [302, 0, 'utp'],\n    [400, V, 'unix', false, true],\n    // `ipfs` is added before `p2p` for legacy support.\n    // All text representations will default to `p2p`, but `ipfs` will\n    // still be supported\n    [421, V, 'ipfs'],\n    // `p2p` is the preferred name for 421, and is now the default\n    [421, V, 'p2p'],\n    [443, 0, 'https'],\n    [444, 96, 'onion'],\n    [445, 296, 'onion3'],\n    [446, V, 'garlic64'],\n    [448, 0, 'tls'],\n    [449, V, 'sni'],\n    [460, 0, 'quic'],\n    [461, 0, 'quic-v1'],\n    [465, 0, 'webtransport'],\n    [466, V, 'certhash'],\n    [477, 0, 'ws'],\n    [478, 0, 'wss'],\n    [479, 0, 'p2p-websocket-star'],\n    [480, 0, 'http'],\n    [777, V, 'memory']\n];\n// populate tables\ntable.forEach(row => {\n    const proto = createProtocol(...row);\n    codes[proto.code] = proto;\n    names[proto.name] = proto;\n});\nexport function createProtocol(code, size, name, resolvable, path) {\n    return {\n        code,\n        size,\n        name,\n        resolvable: Boolean(resolvable),\n        path: Boolean(path)\n    };\n}\n/**\n * For the passed proto string or number, return a {@link Protocol}\n *\n * @example\n *\n * ```js\n * import { protocol } from '@multiformats/multiaddr'\n *\n * console.info(protocol(4))\n * // { code: 4, size: 32, name: 'ip4', resolvable: false, path: false }\n * ```\n */\nexport function getProtocol(proto) {\n    if (typeof proto === 'number') {\n        if (codes[proto] != null) {\n            return codes[proto];\n        }\n        throw new Error(`no protocol with code: ${proto}`);\n    }\n    else if (typeof proto === 'string') {\n        if (names[proto] != null) {\n            return names[proto];\n        }\n        throw new Error(`no protocol with name: ${proto}`);\n    }\n    throw new Error(`invalid protocol id type: ${typeof proto}`);\n}\n//# sourceMappingURL=protocols-table.js.map","/**\n * @packageDocumentation\n *\n * Provides methods for converting\n */\nimport { IpNet } from '@chainsafe/netmask';\nimport { base32 } from 'multiformats/bases/base32';\nimport { base58btc } from 'multiformats/bases/base58';\nimport { bases } from 'multiformats/basics';\nimport { CID } from 'multiformats/cid';\nimport * as Digest from 'multiformats/hashes/digest';\nimport * as varint from 'uint8-varint';\nimport { concat as uint8ArrayConcat } from 'uint8arrays/concat';\nimport { fromString as uint8ArrayFromString } from 'uint8arrays/from-string';\nimport { toString as uint8ArrayToString } from 'uint8arrays/to-string';\nimport * as ip from './ip.js';\nimport { getProtocol } from './protocols-table.js';\nconst ip4Protocol = getProtocol('ip4');\nconst ip6Protocol = getProtocol('ip6');\nconst ipcidrProtocol = getProtocol('ipcidr');\nexport function convert(proto, a) {\n    if (a instanceof Uint8Array) {\n        return convertToString(proto, a);\n    }\n    else {\n        return convertToBytes(proto, a);\n    }\n}\n/**\n * Convert [code,Uint8Array] to string\n */\nexport function convertToString(proto, buf) {\n    const protocol = getProtocol(proto);\n    switch (protocol.code) {\n        case 4: // ipv4\n        case 41: // ipv6\n            return bytes2ip(buf);\n        case 42: // ipv6zone\n            return bytes2str(buf);\n        case 6: // tcp\n        case 273: // udp\n        case 33: // dccp\n        case 132: // sctp\n            return bytes2port(buf).toString();\n        case 53: // dns\n        case 54: // dns4\n        case 55: // dns6\n        case 56: // dnsaddr\n        case 400: // unix\n        case 449: // sni\n        case 777: // memory\n            return bytes2str(buf);\n        case 421: // ipfs\n            return bytes2mh(buf);\n        case 444: // onion\n            return bytes2onion(buf);\n        case 445: // onion3\n            return bytes2onion(buf);\n        case 466: // certhash\n            return bytes2mb(buf);\n        default:\n            return uint8ArrayToString(buf, 'base16'); // no clue. convert to hex\n    }\n}\nexport function convertToBytes(proto, str) {\n    const protocol = getProtocol(proto);\n    switch (protocol.code) {\n        case 4: // ipv4\n            return ip2bytes(str);\n        case 41: // ipv6\n            return ip2bytes(str);\n        case 42: // ipv6zone\n            return str2bytes(str);\n        case 6: // tcp\n        case 273: // udp\n        case 33: // dccp\n        case 132: // sctp\n            return port2bytes(parseInt(str, 10));\n        case 53: // dns\n        case 54: // dns4\n        case 55: // dns6\n        case 56: // dnsaddr\n        case 400: // unix\n        case 449: // sni\n        case 777: // memory\n            return str2bytes(str);\n        case 421: // ipfs\n            return mh2bytes(str);\n        case 444: // onion\n            return onion2bytes(str);\n        case 445: // onion3\n            return onion32bytes(str);\n        case 466: // certhash\n            return mb2bytes(str);\n        default:\n            return uint8ArrayFromString(str, 'base16'); // no clue. convert from hex\n    }\n}\nexport function convertToIpNet(multiaddr) {\n    let mask;\n    let addr;\n    multiaddr.stringTuples().forEach(([code, value]) => {\n        if (code === ip4Protocol.code || code === ip6Protocol.code) {\n            addr = value;\n        }\n        if (code === ipcidrProtocol.code) {\n            mask = value;\n        }\n    });\n    if (mask == null || addr == null) {\n        throw new Error('Invalid multiaddr');\n    }\n    return new IpNet(addr, mask);\n}\nconst decoders = Object.values(bases).map((c) => c.decoder);\nconst anybaseDecoder = (function () {\n    let acc = decoders[0].or(decoders[1]);\n    decoders.slice(2).forEach((d) => (acc = acc.or(d)));\n    return acc;\n})();\nfunction ip2bytes(ipString) {\n    if (!ip.isIP(ipString)) {\n        throw new Error('invalid ip address');\n    }\n    return ip.toBytes(ipString);\n}\nfunction bytes2ip(ipBuff) {\n    const ipString = ip.toString(ipBuff, 0, ipBuff.length);\n    if (ipString == null) {\n        throw new Error('ipBuff is required');\n    }\n    if (!ip.isIP(ipString)) {\n        throw new Error('invalid ip address');\n    }\n    return ipString;\n}\nfunction port2bytes(port) {\n    const buf = new ArrayBuffer(2);\n    const view = new DataView(buf);\n    view.setUint16(0, port);\n    return new Uint8Array(buf);\n}\nfunction bytes2port(buf) {\n    const view = new DataView(buf.buffer);\n    return view.getUint16(buf.byteOffset);\n}\nfunction str2bytes(str) {\n    const buf = uint8ArrayFromString(str);\n    const size = Uint8Array.from(varint.encode(buf.length));\n    return uint8ArrayConcat([size, buf], size.length + buf.length);\n}\nfunction bytes2str(buf) {\n    const size = varint.decode(buf);\n    buf = buf.slice(varint.encodingLength(size));\n    if (buf.length !== size) {\n        throw new Error('inconsistent lengths');\n    }\n    return uint8ArrayToString(buf);\n}\nfunction mh2bytes(hash) {\n    let mh;\n    if (hash[0] === 'Q' || hash[0] === '1') {\n        mh = Digest.decode(base58btc.decode(`z${hash}`)).bytes;\n    }\n    else {\n        mh = CID.parse(hash).multihash.bytes;\n    }\n    // the address is a varint prefixed multihash string representation\n    const size = Uint8Array.from(varint.encode(mh.length));\n    return uint8ArrayConcat([size, mh], size.length + mh.length);\n}\nfunction mb2bytes(mbstr) {\n    const mb = anybaseDecoder.decode(mbstr);\n    const size = Uint8Array.from(varint.encode(mb.length));\n    return uint8ArrayConcat([size, mb], size.length + mb.length);\n}\nfunction bytes2mb(buf) {\n    const size = varint.decode(buf);\n    const hash = buf.slice(varint.encodingLength(size));\n    if (hash.length !== size) {\n        throw new Error('inconsistent lengths');\n    }\n    return 'u' + uint8ArrayToString(hash, 'base64url');\n}\n/**\n * Converts bytes to bas58btc string\n */\nfunction bytes2mh(buf) {\n    const size = varint.decode(buf);\n    const address = buf.slice(varint.encodingLength(size));\n    if (address.length !== size) {\n        throw new Error('inconsistent lengths');\n    }\n    return uint8ArrayToString(address, 'base58btc');\n}\nfunction onion2bytes(str) {\n    const addr = str.split(':');\n    if (addr.length !== 2) {\n        throw new Error(`failed to parse onion addr: [\"'${addr.join('\", \"')}'\"]' does not contain a port number`);\n    }\n    if (addr[0].length !== 16) {\n        throw new Error(`failed to parse onion addr: ${addr[0]} not a Tor onion address.`);\n    }\n    // onion addresses do not include the multibase prefix, add it before decoding\n    const buf = base32.decode('b' + addr[0]);\n    // onion port number\n    const port = parseInt(addr[1], 10);\n    if (port < 1 || port > 65536) {\n        throw new Error('Port number is not in range(1, 65536)');\n    }\n    const portBuf = port2bytes(port);\n    return uint8ArrayConcat([buf, portBuf], buf.length + portBuf.length);\n}\nfunction onion32bytes(str) {\n    const addr = str.split(':');\n    if (addr.length !== 2) {\n        throw new Error(`failed to parse onion addr: [\"'${addr.join('\", \"')}'\"]' does not contain a port number`);\n    }\n    if (addr[0].length !== 56) {\n        throw new Error(`failed to parse onion addr: ${addr[0]} not a Tor onion3 address.`);\n    }\n    // onion addresses do not include the multibase prefix, add it before decoding\n    const buf = base32.decode(`b${addr[0]}`);\n    // onion port number\n    const port = parseInt(addr[1], 10);\n    if (port < 1 || port > 65536) {\n        throw new Error('Port number is not in range(1, 65536)');\n    }\n    const portBuf = port2bytes(port);\n    return uint8ArrayConcat([buf, portBuf], buf.length + portBuf.length);\n}\nfunction bytes2onion(buf) {\n    const addrBytes = buf.slice(0, buf.length - 2);\n    const portBytes = buf.slice(buf.length - 2);\n    const addr = uint8ArrayToString(addrBytes, 'base32');\n    const port = bytes2port(portBytes);\n    return `${addr}:${port}`;\n}\n//# sourceMappingURL=convert.js.map","import { convertToString } from '@multiformats/multiaddr/convert';\n// Protocols https://github.com/multiformats/multiaddr/blob/master/protocols.csv\n// code  size  name\n// 4     32    ip4\n// 41    128   ip6\nvar Protocol;\n(function (Protocol) {\n    Protocol[Protocol[\"ip4\"] = 4] = \"ip4\";\n    Protocol[Protocol[\"ip6\"] = 41] = \"ip6\";\n})(Protocol || (Protocol = {}));\nexport function multiaddrToIPStr(multiaddr) {\n    for (const tuple of multiaddr.tuples()) {\n        switch (tuple[0]) {\n            case Protocol.ip4:\n            case Protocol.ip6:\n                return convertToString(tuple[0], tuple[1]);\n        }\n    }\n    return null;\n}\n//# sourceMappingURL=multiaddr.js.map","import { pipe } from 'it-pipe';\nimport { peerIdFromBytes, peerIdFromString } from '@libp2p/peer-id';\nimport { logger } from '@libp2p/logger';\nimport { CustomEvent, EventEmitter } from '@libp2p/interface/events';\nimport { MessageCache } from './message-cache.js';\nimport { RPC } from './message/rpc.js';\nimport * as constants from './constants.js';\nimport { shuffle, messageIdToString } from './utils/index.js';\nimport { PeerScore, createPeerScoreParams, createPeerScoreThresholds } from './score/index.js';\nimport { IWantTracer } from './tracer.js';\nimport { SimpleTimeCache } from './utils/time-cache.js';\nimport { ACCEPT_FROM_WHITELIST_DURATION_MS, ACCEPT_FROM_WHITELIST_MAX_MESSAGES, ACCEPT_FROM_WHITELIST_THRESHOLD_SCORE, BACKOFF_SLACK } from './constants.js';\nimport { ChurnReason, getMetrics, IHaveIgnoreReason, InclusionReason, ScorePenalty } from './metrics.js';\nimport { ValidateError, MessageStatus, RejectReason, rejectReasonFromAcceptance } from './types.js';\nimport { buildRawMessage, validateToRawMessage } from './utils/buildRawMessage.js';\nimport { msgIdFnStrictNoSign, msgIdFnStrictSign } from './utils/msgIdFn.js';\nimport { computeAllPeersScoreWeights } from './score/scoreMetrics.js';\nimport { getPublishConfigFromPeerId } from './utils/publishConfig.js';\nimport { StrictSign, StrictNoSign, TopicValidatorResult } from '@libp2p/interface/pubsub';\nimport { removeFirstNItemsFromSet, removeItemsFromSet } from './utils/set.js';\nimport { pushable } from 'it-pushable';\nimport { InboundStream, OutboundStream } from './stream.js';\nimport { decodeRpc, defaultDecodeRpcLimits } from './message/decodeRpc.js';\nimport { multiaddrToIPStr } from './utils/multiaddr.js';\nexport const multicodec = constants.GossipsubIDv11;\nvar GossipStatusCode;\n(function (GossipStatusCode) {\n    GossipStatusCode[GossipStatusCode[\"started\"] = 0] = \"started\";\n    GossipStatusCode[GossipStatusCode[\"stopped\"] = 1] = \"stopped\";\n})(GossipStatusCode || (GossipStatusCode = {}));\nexport class GossipSub extends EventEmitter {\n    /**\n     * The signature policy to follow by default\n     */\n    globalSignaturePolicy;\n    multicodecs = [constants.GossipsubIDv11, constants.GossipsubIDv10];\n    publishConfig;\n    dataTransform;\n    // State\n    peers = new Set();\n    streamsInbound = new Map();\n    streamsOutbound = new Map();\n    /** Ensures outbound streams are created sequentially */\n    outboundInflightQueue = pushable({ objectMode: true });\n    /** Direct peers */\n    direct = new Set();\n    /** Floodsub peers */\n    floodsubPeers = new Set();\n    /** Cache of seen messages */\n    seenCache;\n    /**\n     * Map of peer id and AcceptRequestWhileListEntry\n     */\n    acceptFromWhitelist = new Map();\n    /**\n     * Map of topics to which peers are subscribed to\n     */\n    topics = new Map();\n    /**\n     * List of our subscriptions\n     */\n    subscriptions = new Set();\n    /**\n     * Map of topic meshes\n     * topic => peer id set\n     */\n    mesh = new Map();\n    /**\n     * Map of topics to set of peers. These mesh peers are the ones to which we are publishing without a topic membership\n     * topic => peer id set\n     */\n    fanout = new Map();\n    /**\n     * Map of last publish time for fanout topics\n     * topic => last publish time\n     */\n    fanoutLastpub = new Map();\n    /**\n     * Map of pending messages to gossip\n     * peer id => control messages\n     */\n    gossip = new Map();\n    /**\n     * Map of control messages\n     * peer id => control message\n     */\n    control = new Map();\n    /**\n     * Number of IHAVEs received from peer in the last heartbeat\n     */\n    peerhave = new Map();\n    /** Number of messages we have asked from peer in the last heartbeat */\n    iasked = new Map();\n    /** Prune backoff map */\n    backoff = new Map();\n    /**\n     * Connection direction cache, marks peers with outbound connections\n     * peer id => direction\n     */\n    outbound = new Map();\n    msgIdFn;\n    /**\n     * A fast message id function used for internal message de-duplication\n     */\n    fastMsgIdFn;\n    msgIdToStrFn;\n    /** Maps fast message-id to canonical message-id */\n    fastMsgIdCache;\n    /**\n     * Short term cache for published message ids. This is used for penalizing peers sending\n     * our own messages back if the messages are anonymous or use a random author.\n     */\n    publishedMessageIds;\n    /**\n     * A message cache that contains the messages for last few heartbeat ticks\n     */\n    mcache;\n    /** Peer score tracking */\n    score;\n    /**\n     * Custom validator function per topic.\n     * Must return or resolve quickly (< 100ms) to prevent causing penalties for late messages.\n     * If you need to apply validation that may require longer times use `asyncValidation` option and callback the\n     * validation result through `Gossipsub.reportValidationResult`\n     */\n    topicValidators = new Map();\n    /**\n     * Make this protected so child class may want to redirect to its own log.\n     */\n    log;\n    /**\n     * Number of heartbeats since the beginning of time\n     * This allows us to amortize some resource cleanup -- eg: backoff cleanup\n     */\n    heartbeatTicks = 0;\n    /**\n     * Tracks IHAVE/IWANT promises broken by peers\n     */\n    gossipTracer;\n    components;\n    directPeerInitial = null;\n    static multicodec = constants.GossipsubIDv11;\n    // Options\n    opts;\n    decodeRpcLimits;\n    metrics;\n    status = { code: GossipStatusCode.stopped };\n    maxInboundStreams;\n    maxOutboundStreams;\n    allowedTopics;\n    heartbeatTimer = null;\n    constructor(components, options = {}) {\n        super();\n        const opts = {\n            fallbackToFloodsub: true,\n            floodPublish: true,\n            doPX: false,\n            directPeers: [],\n            D: constants.GossipsubD,\n            Dlo: constants.GossipsubDlo,\n            Dhi: constants.GossipsubDhi,\n            Dscore: constants.GossipsubDscore,\n            Dout: constants.GossipsubDout,\n            Dlazy: constants.GossipsubDlazy,\n            heartbeatInterval: constants.GossipsubHeartbeatInterval,\n            fanoutTTL: constants.GossipsubFanoutTTL,\n            mcacheLength: constants.GossipsubHistoryLength,\n            mcacheGossip: constants.GossipsubHistoryGossip,\n            seenTTL: constants.GossipsubSeenTTL,\n            gossipsubIWantFollowupMs: constants.GossipsubIWantFollowupTime,\n            prunePeers: constants.GossipsubPrunePeers,\n            pruneBackoff: constants.GossipsubPruneBackoff,\n            unsubcribeBackoff: constants.GossipsubUnsubscribeBackoff,\n            graftFloodThreshold: constants.GossipsubGraftFloodThreshold,\n            opportunisticGraftPeers: constants.GossipsubOpportunisticGraftPeers,\n            opportunisticGraftTicks: constants.GossipsubOpportunisticGraftTicks,\n            directConnectTicks: constants.GossipsubDirectConnectTicks,\n            ...options,\n            scoreParams: createPeerScoreParams(options.scoreParams),\n            scoreThresholds: createPeerScoreThresholds(options.scoreThresholds)\n        };\n        this.components = components;\n        this.decodeRpcLimits = opts.decodeRpcLimits ?? defaultDecodeRpcLimits;\n        this.globalSignaturePolicy = opts.globalSignaturePolicy ?? StrictSign;\n        // Also wants to get notified of peers connected using floodsub\n        if (opts.fallbackToFloodsub) {\n            this.multicodecs.push(constants.FloodsubID);\n        }\n        // From pubsub\n        this.log = logger(opts.debugName ?? 'libp2p:gossipsub');\n        // Gossipsub\n        this.opts = opts;\n        this.direct = new Set(opts.directPeers.map((p) => p.id.toString()));\n        this.seenCache = new SimpleTimeCache({ validityMs: opts.seenTTL });\n        this.publishedMessageIds = new SimpleTimeCache({ validityMs: opts.seenTTL });\n        if (options.msgIdFn) {\n            // Use custom function\n            this.msgIdFn = options.msgIdFn;\n        }\n        else {\n            switch (this.globalSignaturePolicy) {\n                case StrictSign:\n                    this.msgIdFn = msgIdFnStrictSign;\n                    break;\n                case StrictNoSign:\n                    this.msgIdFn = msgIdFnStrictNoSign;\n                    break;\n            }\n        }\n        if (options.fastMsgIdFn) {\n            this.fastMsgIdFn = options.fastMsgIdFn;\n            this.fastMsgIdCache = new SimpleTimeCache({ validityMs: opts.seenTTL });\n        }\n        // By default, gossipsub only provide a browser friendly function to convert Uint8Array message id to string.\n        this.msgIdToStrFn = options.msgIdToStrFn ?? messageIdToString;\n        this.mcache = options.messageCache || new MessageCache(opts.mcacheGossip, opts.mcacheLength, this.msgIdToStrFn);\n        if (options.dataTransform) {\n            this.dataTransform = options.dataTransform;\n        }\n        if (options.metricsRegister) {\n            if (!options.metricsTopicStrToLabel) {\n                throw Error('Must set metricsTopicStrToLabel with metrics');\n            }\n            // in theory, each topic has its own meshMessageDeliveriesWindow param\n            // however in lodestar, we configure it mostly the same so just pick the max of positive ones\n            // (some topics have meshMessageDeliveriesWindow as 0)\n            const maxMeshMessageDeliveriesWindowMs = Math.max(...Object.values(opts.scoreParams.topics).map((topicParam) => topicParam.meshMessageDeliveriesWindow), constants.DEFAULT_METRIC_MESH_MESSAGE_DELIVERIES_WINDOWS);\n            const metrics = getMetrics(options.metricsRegister, options.metricsTopicStrToLabel, {\n                gossipPromiseExpireSec: this.opts.gossipsubIWantFollowupMs / 1000,\n                behaviourPenaltyThreshold: opts.scoreParams.behaviourPenaltyThreshold,\n                maxMeshMessageDeliveriesWindowSec: maxMeshMessageDeliveriesWindowMs / 1000\n            });\n            metrics.mcacheSize.addCollect(() => this.onScrapeMetrics(metrics));\n            for (const protocol of this.multicodecs) {\n                metrics.protocolsEnabled.set({ protocol }, 1);\n            }\n            this.metrics = metrics;\n        }\n        else {\n            this.metrics = null;\n        }\n        this.gossipTracer = new IWantTracer(this.opts.gossipsubIWantFollowupMs, this.msgIdToStrFn, this.metrics);\n        /**\n         * libp2p\n         */\n        this.score = new PeerScore(this.opts.scoreParams, this.metrics, {\n            scoreCacheValidityMs: opts.heartbeatInterval\n        });\n        this.maxInboundStreams = options.maxInboundStreams;\n        this.maxOutboundStreams = options.maxOutboundStreams;\n        this.allowedTopics = opts.allowedTopics ? new Set(opts.allowedTopics) : null;\n    }\n    getPeers() {\n        return [...this.peers.keys()].map((str) => peerIdFromString(str));\n    }\n    isStarted() {\n        return this.status.code === GossipStatusCode.started;\n    }\n    // LIFECYCLE METHODS\n    /**\n     * Mounts the gossipsub protocol onto the libp2p node and sends our\n     * our subscriptions to every peer connected\n     */\n    async start() {\n        // From pubsub\n        if (this.isStarted()) {\n            return;\n        }\n        this.log('starting');\n        this.publishConfig = await getPublishConfigFromPeerId(this.globalSignaturePolicy, this.components.peerId);\n        // Create the outbound inflight queue\n        // This ensures that outbound stream creation happens sequentially\n        this.outboundInflightQueue = pushable({ objectMode: true });\n        pipe(this.outboundInflightQueue, async (source) => {\n            for await (const { peerId, connection } of source) {\n                await this.createOutboundStream(peerId, connection);\n            }\n        }).catch((e) => this.log.error('outbound inflight queue error', e));\n        // set direct peer addresses in the address book\n        await Promise.all(this.opts.directPeers.map(async (p) => {\n            await this.components.peerStore.merge(p.id, {\n                multiaddrs: p.addrs\n            });\n        }));\n        const registrar = this.components.registrar;\n        // Incoming streams\n        // Called after a peer dials us\n        await Promise.all(this.multicodecs.map((multicodec) => registrar.handle(multicodec, this.onIncomingStream.bind(this), {\n            maxInboundStreams: this.maxInboundStreams,\n            maxOutboundStreams: this.maxOutboundStreams\n        })));\n        // # How does Gossipsub interact with libp2p? Rough guide from Mar 2022\n        //\n        // ## Setup:\n        // Gossipsub requests libp2p to callback, TBD\n        //\n        // `this.libp2p.handle()` registers a handler for `/meshsub/1.1.0` and other Gossipsub protocols\n        // The handler callback is registered in libp2p Upgrader.protocols map.\n        //\n        // Upgrader receives an inbound connection from some transport and (`Upgrader.upgradeInbound`):\n        // - Adds encryption (NOISE in our case)\n        // - Multiplex stream\n        // - Create a muxer and register that for each new stream call Upgrader.protocols handler\n        //\n        // ## Topology\n        // - new instance of Topology (unlinked to libp2p) with handlers\n        // - registar.register(topology)\n        // register protocol with topology\n        // Topology callbacks called on connection manager changes\n        const topology = {\n            onConnect: this.onPeerConnected.bind(this),\n            onDisconnect: this.onPeerDisconnected.bind(this)\n        };\n        const registrarTopologyIds = await Promise.all(this.multicodecs.map((multicodec) => registrar.register(multicodec, topology)));\n        // Schedule to start heartbeat after `GossipsubHeartbeatInitialDelay`\n        const heartbeatTimeout = setTimeout(this.runHeartbeat, constants.GossipsubHeartbeatInitialDelay);\n        // Then, run heartbeat every `heartbeatInterval` offset by `GossipsubHeartbeatInitialDelay`\n        this.status = {\n            code: GossipStatusCode.started,\n            registrarTopologyIds,\n            heartbeatTimeout: heartbeatTimeout,\n            hearbeatStartMs: Date.now() + constants.GossipsubHeartbeatInitialDelay\n        };\n        this.score.start();\n        // connect to direct peers\n        this.directPeerInitial = setTimeout(() => {\n            Promise.resolve()\n                .then(async () => {\n                await Promise.all(Array.from(this.direct).map(async (id) => await this.connect(id)));\n            })\n                .catch((err) => {\n                this.log(err);\n            });\n        }, constants.GossipsubDirectConnectInitialDelay);\n        this.log('started');\n    }\n    /**\n     * Unmounts the gossipsub protocol and shuts down every connection\n     */\n    async stop() {\n        this.log('stopping');\n        // From pubsub\n        if (this.status.code !== GossipStatusCode.started) {\n            return;\n        }\n        const { registrarTopologyIds } = this.status;\n        this.status = { code: GossipStatusCode.stopped };\n        // unregister protocol and handlers\n        const registrar = this.components.registrar;\n        await Promise.all(this.multicodecs.map((multicodec) => registrar.unhandle(multicodec)));\n        registrarTopologyIds.forEach((id) => registrar.unregister(id));\n        this.outboundInflightQueue.end();\n        for (const outboundStream of this.streamsOutbound.values()) {\n            outboundStream.close();\n        }\n        this.streamsOutbound.clear();\n        for (const inboundStream of this.streamsInbound.values()) {\n            inboundStream.close();\n        }\n        this.streamsInbound.clear();\n        this.peers.clear();\n        this.subscriptions.clear();\n        // Gossipsub\n        if (this.heartbeatTimer) {\n            this.heartbeatTimer.cancel();\n            this.heartbeatTimer = null;\n        }\n        this.score.stop();\n        this.mesh.clear();\n        this.fanout.clear();\n        this.fanoutLastpub.clear();\n        this.gossip.clear();\n        this.control.clear();\n        this.peerhave.clear();\n        this.iasked.clear();\n        this.backoff.clear();\n        this.outbound.clear();\n        this.gossipTracer.clear();\n        this.seenCache.clear();\n        if (this.fastMsgIdCache)\n            this.fastMsgIdCache.clear();\n        if (this.directPeerInitial)\n            clearTimeout(this.directPeerInitial);\n        this.log('stopped');\n    }\n    /** FOR DEBUG ONLY - Dump peer stats for all peers. Data is cloned, safe to mutate */\n    dumpPeerScoreStats() {\n        return this.score.dumpPeerScoreStats();\n    }\n    /**\n     * On an inbound stream opened\n     */\n    onIncomingStream({ stream, connection }) {\n        if (!this.isStarted()) {\n            return;\n        }\n        const peerId = connection.remotePeer;\n        // add peer to router\n        this.addPeer(peerId, connection.direction, connection.remoteAddr);\n        // create inbound stream\n        this.createInboundStream(peerId, stream);\n        // attempt to create outbound stream\n        this.outboundInflightQueue.push({ peerId, connection });\n    }\n    /**\n     * Registrar notifies an established connection with pubsub protocol\n     */\n    onPeerConnected(peerId, connection) {\n        this.metrics?.newConnectionCount.inc({ status: connection.status });\n        // libp2p may emit a closed connection and never issue peer:disconnect event\n        // see https://github.com/ChainSafe/js-libp2p-gossipsub/issues/398\n        if (!this.isStarted() || connection.status !== 'open') {\n            return;\n        }\n        this.addPeer(peerId, connection.direction, connection.remoteAddr);\n        this.outboundInflightQueue.push({ peerId, connection });\n    }\n    /**\n     * Registrar notifies a closing connection with pubsub protocol\n     */\n    onPeerDisconnected(peerId) {\n        this.log('connection ended %p', peerId);\n        this.removePeer(peerId);\n    }\n    async createOutboundStream(peerId, connection) {\n        if (!this.isStarted()) {\n            return;\n        }\n        const id = peerId.toString();\n        if (!this.peers.has(id)) {\n            return;\n        }\n        // TODO make this behavior more robust\n        // This behavior is different than for inbound streams\n        // If an outbound stream already exists, don't create a new stream\n        if (this.streamsOutbound.has(id)) {\n            return;\n        }\n        try {\n            const stream = new OutboundStream(await connection.newStream(this.multicodecs), (e) => this.log.error('outbound pipe error', e), { maxBufferSize: this.opts.maxOutboundBufferSize });\n            this.log('create outbound stream %p', peerId);\n            this.streamsOutbound.set(id, stream);\n            const protocol = stream.protocol;\n            if (protocol === constants.FloodsubID) {\n                this.floodsubPeers.add(id);\n            }\n            this.metrics?.peersPerProtocol.inc({ protocol }, 1);\n            // Immediately send own subscriptions via the newly attached stream\n            if (this.subscriptions.size > 0) {\n                this.log('send subscriptions to', id);\n                this.sendSubscriptions(id, Array.from(this.subscriptions), true);\n            }\n        }\n        catch (e) {\n            this.log.error('createOutboundStream error', e);\n        }\n    }\n    async createInboundStream(peerId, stream) {\n        if (!this.isStarted()) {\n            return;\n        }\n        const id = peerId.toString();\n        if (!this.peers.has(id)) {\n            return;\n        }\n        // TODO make this behavior more robust\n        // This behavior is different than for outbound streams\n        // If a peer initiates a new inbound connection\n        // we assume that one is the new canonical inbound stream\n        const priorInboundStream = this.streamsInbound.get(id);\n        if (priorInboundStream !== undefined) {\n            this.log('replacing existing inbound steam %s', id);\n            priorInboundStream.close();\n        }\n        this.log('create inbound stream %s', id);\n        const inboundStream = new InboundStream(stream, { maxDataLength: this.opts.maxInboundDataLength });\n        this.streamsInbound.set(id, inboundStream);\n        this.pipePeerReadStream(peerId, inboundStream.source).catch((err) => this.log(err));\n    }\n    /**\n     * Add a peer to the router\n     */\n    addPeer(peerId, direction, addr) {\n        const id = peerId.toString();\n        if (!this.peers.has(id)) {\n            this.log('new peer %p', peerId);\n            this.peers.add(id);\n            // Add to peer scoring\n            this.score.addPeer(id);\n            const currentIP = multiaddrToIPStr(addr);\n            if (currentIP !== null) {\n                this.score.addIP(id, currentIP);\n            }\n            else {\n                this.log('Added peer has no IP in current address %s %s', id, addr.toString());\n            }\n            // track the connection direction. Don't allow to unset outbound\n            if (!this.outbound.has(id)) {\n                this.outbound.set(id, direction === 'outbound');\n            }\n        }\n    }\n    /**\n     * Removes a peer from the router\n     */\n    removePeer(peerId) {\n        const id = peerId.toString();\n        if (!this.peers.has(id)) {\n            return;\n        }\n        // delete peer\n        this.log('delete peer %p', peerId);\n        this.peers.delete(id);\n        const outboundStream = this.streamsOutbound.get(id);\n        const inboundStream = this.streamsInbound.get(id);\n        if (outboundStream) {\n            this.metrics?.peersPerProtocol.inc({ protocol: outboundStream.protocol }, -1);\n        }\n        // close streams\n        outboundStream?.close();\n        inboundStream?.close();\n        // remove streams\n        this.streamsOutbound.delete(id);\n        this.streamsInbound.delete(id);\n        // remove peer from topics map\n        for (const peers of this.topics.values()) {\n            peers.delete(id);\n        }\n        // Remove this peer from the mesh\n        for (const [topicStr, peers] of this.mesh) {\n            if (peers.delete(id) === true) {\n                this.metrics?.onRemoveFromMesh(topicStr, ChurnReason.Dc, 1);\n            }\n        }\n        // Remove this peer from the fanout\n        for (const peers of this.fanout.values()) {\n            peers.delete(id);\n        }\n        // Remove from floodsubPeers\n        this.floodsubPeers.delete(id);\n        // Remove from gossip mapping\n        this.gossip.delete(id);\n        // Remove from control mapping\n        this.control.delete(id);\n        // Remove from backoff mapping\n        this.outbound.delete(id);\n        // Remove from peer scoring\n        this.score.removePeer(id);\n        this.acceptFromWhitelist.delete(id);\n    }\n    // API METHODS\n    get started() {\n        return this.status.code === GossipStatusCode.started;\n    }\n    /**\n     * Get a the peer-ids in a topic mesh\n     */\n    getMeshPeers(topic) {\n        const peersInTopic = this.mesh.get(topic);\n        return peersInTopic ? Array.from(peersInTopic) : [];\n    }\n    /**\n     * Get a list of the peer-ids that are subscribed to one topic.\n     */\n    getSubscribers(topic) {\n        const peersInTopic = this.topics.get(topic);\n        return (peersInTopic ? Array.from(peersInTopic) : []).map((str) => peerIdFromString(str));\n    }\n    /**\n     * Get the list of topics which the peer is subscribed to.\n     */\n    getTopics() {\n        return Array.from(this.subscriptions);\n    }\n    // TODO: Reviewing Pubsub API\n    // MESSAGE METHODS\n    /**\n     * Responsible for processing each RPC message received by other peers.\n     */\n    async pipePeerReadStream(peerId, stream) {\n        try {\n            await pipe(stream, async (source) => {\n                for await (const data of source) {\n                    try {\n                        // TODO: Check max gossip message size, before decodeRpc()\n                        const rpcBytes = data.subarray();\n                        // Note: This function may throw, it must be wrapped in a try {} catch {} to prevent closing the stream.\n                        // TODO: What should we do if the entire RPC is invalid?\n                        const rpc = decodeRpc(rpcBytes, this.decodeRpcLimits);\n                        this.metrics?.onRpcRecv(rpc, rpcBytes.length);\n                        // Since processRpc may be overridden entirely in unsafe ways,\n                        // the simplest/safest option here is to wrap in a function and capture all errors\n                        // to prevent a top-level unhandled exception\n                        // This processing of rpc messages should happen without awaiting full validation/execution of prior messages\n                        if (this.opts.awaitRpcHandler) {\n                            try {\n                                await this.handleReceivedRpc(peerId, rpc);\n                            }\n                            catch (err) {\n                                this.metrics?.onRpcRecvError();\n                                this.log(err);\n                            }\n                        }\n                        else {\n                            this.handleReceivedRpc(peerId, rpc).catch((err) => {\n                                this.metrics?.onRpcRecvError();\n                                this.log(err);\n                            });\n                        }\n                    }\n                    catch (e) {\n                        this.metrics?.onRpcDataError();\n                        this.log(e);\n                    }\n                }\n            });\n        }\n        catch (err) {\n            this.metrics?.onPeerReadStreamError();\n            this.handlePeerReadStreamError(err, peerId);\n        }\n    }\n    /**\n     * Handle error when read stream pipe throws, less of the functional use but more\n     * to for testing purposes to spy on the error handling\n     * */\n    handlePeerReadStreamError(err, peerId) {\n        this.log.error(err);\n        this.onPeerDisconnected(peerId);\n    }\n    /**\n     * Handles an rpc request from a peer\n     */\n    async handleReceivedRpc(from, rpc) {\n        // Check if peer is graylisted in which case we ignore the event\n        if (!this.acceptFrom(from.toString())) {\n            this.log('received message from unacceptable peer %p', from);\n            this.metrics?.rpcRecvNotAccepted.inc();\n            return;\n        }\n        const subscriptions = rpc.subscriptions ? rpc.subscriptions.length : 0;\n        const messages = rpc.messages ? rpc.messages.length : 0;\n        let ihave = 0;\n        let iwant = 0;\n        let graft = 0;\n        let prune = 0;\n        if (rpc.control) {\n            if (rpc.control.ihave)\n                ihave = rpc.control.ihave.length;\n            if (rpc.control.iwant)\n                iwant = rpc.control.iwant.length;\n            if (rpc.control.graft)\n                graft = rpc.control.graft.length;\n            if (rpc.control.prune)\n                prune = rpc.control.prune.length;\n        }\n        this.log(`rpc.from ${from.toString()} subscriptions ${subscriptions} messages ${messages} ihave ${ihave} iwant ${iwant} graft ${graft} prune ${prune}`);\n        // Handle received subscriptions\n        if (rpc.subscriptions && rpc.subscriptions.length > 0) {\n            // update peer subscriptions\n            const subscriptions = [];\n            rpc.subscriptions.forEach((subOpt) => {\n                const topic = subOpt.topic;\n                const subscribe = subOpt.subscribe === true;\n                if (topic != null) {\n                    if (this.allowedTopics && !this.allowedTopics.has(topic)) {\n                        // Not allowed: subscription data-structures are not bounded by topic count\n                        // TODO: Should apply behaviour penalties?\n                        return;\n                    }\n                    this.handleReceivedSubscription(from, topic, subscribe);\n                    subscriptions.push({ topic, subscribe });\n                }\n            });\n            this.dispatchEvent(new CustomEvent('subscription-change', {\n                detail: { peerId: from, subscriptions }\n            }));\n        }\n        // Handle messages\n        // TODO: (up to limit)\n        if (rpc.messages) {\n            for (const message of rpc.messages) {\n                if (this.allowedTopics && !this.allowedTopics.has(message.topic)) {\n                    // Not allowed: message cache data-structures are not bounded by topic count\n                    // TODO: Should apply behaviour penalties?\n                    continue;\n                }\n                const handleReceivedMessagePromise = this.handleReceivedMessage(from, message)\n                    // Should never throw, but handle just in case\n                    .catch((err) => {\n                    this.metrics?.onMsgRecvError(message.topic);\n                    this.log(err);\n                });\n                if (this.opts.awaitRpcMessageHandler) {\n                    await handleReceivedMessagePromise;\n                }\n            }\n        }\n        // Handle control messages\n        if (rpc.control) {\n            await this.handleControlMessage(from.toString(), rpc.control);\n        }\n    }\n    /**\n     * Handles a subscription change from a peer\n     */\n    handleReceivedSubscription(from, topic, subscribe) {\n        this.log('subscription update from %p topic %s', from, topic);\n        let topicSet = this.topics.get(topic);\n        if (topicSet == null) {\n            topicSet = new Set();\n            this.topics.set(topic, topicSet);\n        }\n        if (subscribe) {\n            // subscribe peer to new topic\n            topicSet.add(from.toString());\n        }\n        else {\n            // unsubscribe from existing topic\n            topicSet.delete(from.toString());\n        }\n        // TODO: rust-libp2p has A LOT more logic here\n    }\n    /**\n     * Handles a newly received message from an RPC.\n     * May forward to all peers in the mesh.\n     */\n    async handleReceivedMessage(from, rpcMsg) {\n        this.metrics?.onMsgRecvPreValidation(rpcMsg.topic);\n        const validationResult = await this.validateReceivedMessage(from, rpcMsg);\n        this.metrics?.onPrevalidationResult(rpcMsg.topic, validationResult.code);\n        switch (validationResult.code) {\n            case MessageStatus.duplicate:\n                // Report the duplicate\n                this.score.duplicateMessage(from.toString(), validationResult.msgIdStr, rpcMsg.topic);\n                // due to the collision of fastMsgIdFn, 2 different messages may end up the same fastMsgId\n                // so we need to also mark the duplicate message as delivered or the promise is not resolved\n                // and peer gets penalized. See https://github.com/ChainSafe/js-libp2p-gossipsub/pull/385\n                this.gossipTracer.deliverMessage(validationResult.msgIdStr, true);\n                this.mcache.observeDuplicate(validationResult.msgIdStr, from.toString());\n                return;\n            case MessageStatus.invalid:\n                // invalid messages received\n                // metrics.register_invalid_message(&raw_message.topic)\n                // Tell peer_score about reject\n                // Reject the original source, and any duplicates we've seen from other peers.\n                if (validationResult.msgIdStr) {\n                    const msgIdStr = validationResult.msgIdStr;\n                    this.score.rejectMessage(from.toString(), msgIdStr, rpcMsg.topic, validationResult.reason);\n                    this.gossipTracer.rejectMessage(msgIdStr, validationResult.reason);\n                }\n                else {\n                    this.score.rejectInvalidMessage(from.toString(), rpcMsg.topic);\n                }\n                this.metrics?.onMsgRecvInvalid(rpcMsg.topic, validationResult);\n                return;\n            case MessageStatus.valid:\n                // Tells score that message arrived (but is maybe not fully validated yet).\n                // Consider the message as delivered for gossip promises.\n                this.score.validateMessage(validationResult.messageId.msgIdStr);\n                this.gossipTracer.deliverMessage(validationResult.messageId.msgIdStr);\n                // Add the message to our memcache\n                // if no validation is required, mark the message as validated\n                this.mcache.put(validationResult.messageId, rpcMsg, !this.opts.asyncValidation);\n                // Dispatch the message to the user if we are subscribed to the topic\n                if (this.subscriptions.has(rpcMsg.topic)) {\n                    const isFromSelf = this.components.peerId.equals(from);\n                    if (!isFromSelf || this.opts.emitSelf) {\n                        super.dispatchEvent(new CustomEvent('gossipsub:message', {\n                            detail: {\n                                propagationSource: from,\n                                msgId: validationResult.messageId.msgIdStr,\n                                msg: validationResult.msg\n                            }\n                        }));\n                        // TODO: Add option to switch between emit per topic or all messages in one\n                        super.dispatchEvent(new CustomEvent('message', { detail: validationResult.msg }));\n                    }\n                }\n                // Forward the message to mesh peers, if no validation is required\n                // If asyncValidation is ON, expect the app layer to call reportMessageValidationResult(), then forward\n                if (!this.opts.asyncValidation) {\n                    // TODO: in rust-libp2p\n                    // .forward_msg(&msg_id, raw_message, Some(propagation_source))\n                    this.forwardMessage(validationResult.messageId.msgIdStr, rpcMsg, from.toString());\n                }\n        }\n    }\n    /**\n     * Handles a newly received message from an RPC.\n     * May forward to all peers in the mesh.\n     */\n    async validateReceivedMessage(propagationSource, rpcMsg) {\n        // Fast message ID stuff\n        const fastMsgIdStr = this.fastMsgIdFn?.(rpcMsg);\n        const msgIdCached = fastMsgIdStr !== undefined ? this.fastMsgIdCache?.get(fastMsgIdStr) : undefined;\n        if (msgIdCached) {\n            // This message has been seen previously. Ignore it\n            return { code: MessageStatus.duplicate, msgIdStr: msgIdCached };\n        }\n        // Perform basic validation on message and convert to RawGossipsubMessage for fastMsgIdFn()\n        const validationResult = await validateToRawMessage(this.globalSignaturePolicy, rpcMsg);\n        if (!validationResult.valid) {\n            return { code: MessageStatus.invalid, reason: RejectReason.Error, error: validationResult.error };\n        }\n        const msg = validationResult.message;\n        // Try and perform the data transform to the message. If it fails, consider it invalid.\n        try {\n            if (this.dataTransform) {\n                msg.data = this.dataTransform.inboundTransform(rpcMsg.topic, msg.data);\n            }\n        }\n        catch (e) {\n            this.log('Invalid message, transform failed', e);\n            return { code: MessageStatus.invalid, reason: RejectReason.Error, error: ValidateError.TransformFailed };\n        }\n        // TODO: Check if message is from a blacklisted source or propagation origin\n        // - Reject any message from a blacklisted peer\n        // - Also reject any message that originated from a blacklisted peer\n        // - reject messages claiming to be from ourselves but not locally published\n        // Calculate the message id on the transformed data.\n        const msgId = await this.msgIdFn(msg);\n        const msgIdStr = this.msgIdToStrFn(msgId);\n        const messageId = { msgId, msgIdStr };\n        // Add the message to the duplicate caches\n        if (fastMsgIdStr !== undefined && this.fastMsgIdCache) {\n            const collision = this.fastMsgIdCache.put(fastMsgIdStr, msgIdStr);\n            if (collision) {\n                this.metrics?.fastMsgIdCacheCollision.inc();\n            }\n        }\n        if (this.seenCache.has(msgIdStr)) {\n            return { code: MessageStatus.duplicate, msgIdStr };\n        }\n        else {\n            this.seenCache.put(msgIdStr);\n        }\n        // (Optional) Provide custom validation here with dynamic validators per topic\n        // NOTE: This custom topicValidator() must resolve fast (< 100ms) to allow scores\n        // to not penalize peers for long validation times.\n        const topicValidator = this.topicValidators.get(rpcMsg.topic);\n        if (topicValidator != null) {\n            let acceptance;\n            // Use try {} catch {} in case topicValidator() is synchronous\n            try {\n                acceptance = await topicValidator(propagationSource, msg);\n            }\n            catch (e) {\n                const errCode = e.code;\n                if (errCode === constants.ERR_TOPIC_VALIDATOR_IGNORE)\n                    acceptance = TopicValidatorResult.Ignore;\n                if (errCode === constants.ERR_TOPIC_VALIDATOR_REJECT)\n                    acceptance = TopicValidatorResult.Reject;\n                else\n                    acceptance = TopicValidatorResult.Ignore;\n            }\n            if (acceptance !== TopicValidatorResult.Accept) {\n                return { code: MessageStatus.invalid, reason: rejectReasonFromAcceptance(acceptance), msgIdStr };\n            }\n        }\n        return { code: MessageStatus.valid, messageId, msg };\n    }\n    /**\n     * Return score of a peer.\n     */\n    getScore(peerId) {\n        return this.score.score(peerId);\n    }\n    /**\n     * Send an rpc object to a peer with subscriptions\n     */\n    sendSubscriptions(toPeer, topics, subscribe) {\n        this.sendRpc(toPeer, {\n            subscriptions: topics.map((topic) => ({ topic, subscribe }))\n        });\n    }\n    /**\n     * Handles an rpc control message from a peer\n     */\n    async handleControlMessage(id, controlMsg) {\n        if (controlMsg === undefined) {\n            return;\n        }\n        const iwant = controlMsg.ihave ? this.handleIHave(id, controlMsg.ihave) : [];\n        const ihave = controlMsg.iwant ? this.handleIWant(id, controlMsg.iwant) : [];\n        const prune = controlMsg.graft ? await this.handleGraft(id, controlMsg.graft) : [];\n        controlMsg.prune && (await this.handlePrune(id, controlMsg.prune));\n        if (!iwant.length && !ihave.length && !prune.length) {\n            return;\n        }\n        const sent = this.sendRpc(id, { messages: ihave, control: { iwant, prune } });\n        const iwantMessageIds = iwant[0]?.messageIDs;\n        if (iwantMessageIds) {\n            if (sent) {\n                this.gossipTracer.addPromise(id, iwantMessageIds);\n            }\n            else {\n                this.metrics?.iwantPromiseUntracked.inc(1);\n            }\n        }\n    }\n    /**\n     * Whether to accept a message from a peer\n     */\n    acceptFrom(id) {\n        if (this.direct.has(id)) {\n            return true;\n        }\n        const now = Date.now();\n        const entry = this.acceptFromWhitelist.get(id);\n        if (entry && entry.messagesAccepted < ACCEPT_FROM_WHITELIST_MAX_MESSAGES && entry.acceptUntil >= now) {\n            entry.messagesAccepted += 1;\n            return true;\n        }\n        const score = this.score.score(id);\n        if (score >= ACCEPT_FROM_WHITELIST_THRESHOLD_SCORE) {\n            // peer is unlikely to be able to drop its score to `graylistThreshold`\n            // after 128 messages or 1s\n            this.acceptFromWhitelist.set(id, {\n                messagesAccepted: 0,\n                acceptUntil: now + ACCEPT_FROM_WHITELIST_DURATION_MS\n            });\n        }\n        else {\n            this.acceptFromWhitelist.delete(id);\n        }\n        return score >= this.opts.scoreThresholds.graylistThreshold;\n    }\n    /**\n     * Handles IHAVE messages\n     */\n    handleIHave(id, ihave) {\n        if (!ihave.length) {\n            return [];\n        }\n        // we ignore IHAVE gossip from any peer whose score is below the gossips threshold\n        const score = this.score.score(id);\n        if (score < this.opts.scoreThresholds.gossipThreshold) {\n            this.log('IHAVE: ignoring peer %s with score below threshold [ score = %d ]', id, score);\n            this.metrics?.ihaveRcvIgnored.inc({ reason: IHaveIgnoreReason.LowScore });\n            return [];\n        }\n        // IHAVE flood protection\n        const peerhave = (this.peerhave.get(id) ?? 0) + 1;\n        this.peerhave.set(id, peerhave);\n        if (peerhave > constants.GossipsubMaxIHaveMessages) {\n            this.log('IHAVE: peer %s has advertised too many times (%d) within this heartbeat interval; ignoring', id, peerhave);\n            this.metrics?.ihaveRcvIgnored.inc({ reason: IHaveIgnoreReason.MaxIhave });\n            return [];\n        }\n        const iasked = this.iasked.get(id) ?? 0;\n        if (iasked >= constants.GossipsubMaxIHaveLength) {\n            this.log('IHAVE: peer %s has already advertised too many messages (%d); ignoring', id, iasked);\n            this.metrics?.ihaveRcvIgnored.inc({ reason: IHaveIgnoreReason.MaxIasked });\n            return [];\n        }\n        // string msgId => msgId\n        const iwant = new Map();\n        ihave.forEach(({ topicID, messageIDs }) => {\n            if (!topicID || !messageIDs || !this.mesh.has(topicID)) {\n                return;\n            }\n            let idonthave = 0;\n            messageIDs.forEach((msgId) => {\n                const msgIdStr = this.msgIdToStrFn(msgId);\n                if (!this.seenCache.has(msgIdStr)) {\n                    iwant.set(msgIdStr, msgId);\n                    idonthave++;\n                }\n            });\n            this.metrics?.onIhaveRcv(topicID, messageIDs.length, idonthave);\n        });\n        if (!iwant.size) {\n            return [];\n        }\n        let iask = iwant.size;\n        if (iask + iasked > constants.GossipsubMaxIHaveLength) {\n            iask = constants.GossipsubMaxIHaveLength - iasked;\n        }\n        this.log('IHAVE: Asking for %d out of %d messages from %s', iask, iwant.size, id);\n        let iwantList = Array.from(iwant.values());\n        // ask in random order\n        shuffle(iwantList);\n        // truncate to the messages we are actually asking for and update the iasked counter\n        iwantList = iwantList.slice(0, iask);\n        this.iasked.set(id, iasked + iask);\n        // do not add gossipTracer promise here until a successful sendRpc()\n        return [\n            {\n                messageIDs: iwantList\n            }\n        ];\n    }\n    /**\n     * Handles IWANT messages\n     * Returns messages to send back to peer\n     */\n    handleIWant(id, iwant) {\n        if (!iwant.length) {\n            return [];\n        }\n        // we don't respond to IWANT requests from any per whose score is below the gossip threshold\n        const score = this.score.score(id);\n        if (score < this.opts.scoreThresholds.gossipThreshold) {\n            this.log('IWANT: ignoring peer %s with score below threshold [score = %d]', id, score);\n            return [];\n        }\n        const ihave = new Map();\n        const iwantByTopic = new Map();\n        let iwantDonthave = 0;\n        iwant.forEach(({ messageIDs }) => {\n            messageIDs &&\n                messageIDs.forEach((msgId) => {\n                    const msgIdStr = this.msgIdToStrFn(msgId);\n                    const entry = this.mcache.getWithIWantCount(msgIdStr, id);\n                    if (entry == null) {\n                        iwantDonthave++;\n                        return;\n                    }\n                    iwantByTopic.set(entry.msg.topic, 1 + (iwantByTopic.get(entry.msg.topic) ?? 0));\n                    if (entry.count > constants.GossipsubGossipRetransmission) {\n                        this.log('IWANT: Peer %s has asked for message %s too many times: ignoring request', id, msgId);\n                        return;\n                    }\n                    ihave.set(msgIdStr, entry.msg);\n                });\n        });\n        this.metrics?.onIwantRcv(iwantByTopic, iwantDonthave);\n        if (!ihave.size) {\n            this.log('IWANT: Could not provide any wanted messages to %s', id);\n            return [];\n        }\n        this.log('IWANT: Sending %d messages to %s', ihave.size, id);\n        return Array.from(ihave.values());\n    }\n    /**\n     * Handles Graft messages\n     */\n    async handleGraft(id, graft) {\n        const prune = [];\n        const score = this.score.score(id);\n        const now = Date.now();\n        let doPX = this.opts.doPX;\n        graft.forEach(({ topicID }) => {\n            if (!topicID) {\n                return;\n            }\n            const peersInMesh = this.mesh.get(topicID);\n            if (!peersInMesh) {\n                // don't do PX when there is an unknown topic to avoid leaking our peers\n                doPX = false;\n                // spam hardening: ignore GRAFTs for unknown topics\n                return;\n            }\n            // check if peer is already in the mesh; if so do nothing\n            if (peersInMesh.has(id)) {\n                return;\n            }\n            // we don't GRAFT to/from direct peers; complain loudly if this happens\n            if (this.direct.has(id)) {\n                this.log('GRAFT: ignoring request from direct peer %s', id);\n                // this is possibly a bug from a non-reciprical configuration; send a PRUNE\n                prune.push(topicID);\n                // but don't px\n                doPX = false;\n                return;\n            }\n            // make sure we are not backing off that peer\n            const expire = this.backoff.get(topicID)?.get(id);\n            if (typeof expire === 'number' && now < expire) {\n                this.log('GRAFT: ignoring backed off peer %s', id);\n                // add behavioral penalty\n                this.score.addPenalty(id, 1, ScorePenalty.GraftBackoff);\n                // no PX\n                doPX = false;\n                // check the flood cutoff -- is the GRAFT coming too fast?\n                const floodCutoff = expire + this.opts.graftFloodThreshold - this.opts.pruneBackoff;\n                if (now < floodCutoff) {\n                    // extra penalty\n                    this.score.addPenalty(id, 1, ScorePenalty.GraftBackoff);\n                }\n                // refresh the backoff\n                this.addBackoff(id, topicID);\n                prune.push(topicID);\n                return;\n            }\n            // check the score\n            if (score < 0) {\n                // we don't GRAFT peers with negative score\n                this.log('GRAFT: ignoring peer %s with negative score: score=%d, topic=%s', id, score, topicID);\n                // we do send them PRUNE however, because it's a matter of protocol correctness\n                prune.push(topicID);\n                // but we won't PX to them\n                doPX = false;\n                // add/refresh backoff so that we don't reGRAFT too early even if the score decays\n                this.addBackoff(id, topicID);\n                return;\n            }\n            // check the number of mesh peers; if it is at (or over) Dhi, we only accept grafts\n            // from peers with outbound connections; this is a defensive check to restrict potential\n            // mesh takeover attacks combined with love bombing\n            if (peersInMesh.size >= this.opts.Dhi && !this.outbound.get(id)) {\n                prune.push(topicID);\n                this.addBackoff(id, topicID);\n                return;\n            }\n            this.log('GRAFT: Add mesh link from %s in %s', id, topicID);\n            this.score.graft(id, topicID);\n            peersInMesh.add(id);\n            this.metrics?.onAddToMesh(topicID, InclusionReason.Subscribed, 1);\n        });\n        if (!prune.length) {\n            return [];\n        }\n        const onUnsubscribe = false;\n        return await Promise.all(prune.map((topic) => this.makePrune(id, topic, doPX, onUnsubscribe)));\n    }\n    /**\n     * Handles Prune messages\n     */\n    async handlePrune(id, prune) {\n        const score = this.score.score(id);\n        for (const { topicID, backoff, peers } of prune) {\n            if (topicID == null) {\n                continue;\n            }\n            const peersInMesh = this.mesh.get(topicID);\n            if (!peersInMesh) {\n                return;\n            }\n            this.log('PRUNE: Remove mesh link to %s in %s', id, topicID);\n            this.score.prune(id, topicID);\n            if (peersInMesh.has(id)) {\n                peersInMesh.delete(id);\n                this.metrics?.onRemoveFromMesh(topicID, ChurnReason.Prune, 1);\n            }\n            // is there a backoff specified by the peer? if so obey it\n            if (typeof backoff === 'number' && backoff > 0) {\n                this.doAddBackoff(id, topicID, backoff * 1000);\n            }\n            else {\n                this.addBackoff(id, topicID);\n            }\n            // PX\n            if (peers && peers.length) {\n                // we ignore PX from peers with insufficient scores\n                if (score < this.opts.scoreThresholds.acceptPXThreshold) {\n                    this.log('PRUNE: ignoring PX from peer %s with insufficient score [score = %d, topic = %s]', id, score, topicID);\n                    continue;\n                }\n                await this.pxConnect(peers);\n            }\n        }\n    }\n    /**\n     * Add standard backoff log for a peer in a topic\n     */\n    addBackoff(id, topic) {\n        this.doAddBackoff(id, topic, this.opts.pruneBackoff);\n    }\n    /**\n     * Add backoff expiry interval for a peer in a topic\n     *\n     * @param id\n     * @param topic\n     * @param intervalMs - backoff duration in milliseconds\n     */\n    doAddBackoff(id, topic, intervalMs) {\n        let backoff = this.backoff.get(topic);\n        if (!backoff) {\n            backoff = new Map();\n            this.backoff.set(topic, backoff);\n        }\n        const expire = Date.now() + intervalMs;\n        const existingExpire = backoff.get(id) ?? 0;\n        if (existingExpire < expire) {\n            backoff.set(id, expire);\n        }\n    }\n    /**\n     * Apply penalties from broken IHAVE/IWANT promises\n     */\n    applyIwantPenalties() {\n        this.gossipTracer.getBrokenPromises().forEach((count, p) => {\n            this.log(\"peer %s didn't follow up in %d IWANT requests; adding penalty\", p, count);\n            this.score.addPenalty(p, count, ScorePenalty.BrokenPromise);\n        });\n    }\n    /**\n     * Clear expired backoff expiries\n     */\n    clearBackoff() {\n        // we only clear once every GossipsubPruneBackoffTicks ticks to avoid iterating over the maps too much\n        if (this.heartbeatTicks % constants.GossipsubPruneBackoffTicks !== 0) {\n            return;\n        }\n        const now = Date.now();\n        this.backoff.forEach((backoff, topic) => {\n            backoff.forEach((expire, id) => {\n                // add some slack time to the expiration, see https://github.com/libp2p/specs/pull/289\n                if (expire + BACKOFF_SLACK * this.opts.heartbeatInterval < now) {\n                    backoff.delete(id);\n                }\n            });\n            if (backoff.size === 0) {\n                this.backoff.delete(topic);\n            }\n        });\n    }\n    /**\n     * Maybe reconnect to direct peers\n     */\n    async directConnect() {\n        const toconnect = [];\n        this.direct.forEach((id) => {\n            if (!this.streamsOutbound.has(id)) {\n                toconnect.push(id);\n            }\n        });\n        await Promise.all(toconnect.map(async (id) => await this.connect(id)));\n    }\n    /**\n     * Maybe attempt connection given signed peer records\n     */\n    async pxConnect(peers) {\n        if (peers.length > this.opts.prunePeers) {\n            shuffle(peers);\n            peers = peers.slice(0, this.opts.prunePeers);\n        }\n        const toconnect = [];\n        await Promise.all(peers.map(async (pi) => {\n            if (!pi.peerID) {\n                return;\n            }\n            const peer = peerIdFromBytes(pi.peerID);\n            const p = peer.toString();\n            if (this.peers.has(p)) {\n                return;\n            }\n            if (!pi.signedPeerRecord) {\n                toconnect.push(p);\n                return;\n            }\n            // The peer sent us a signed record\n            // This is not a record from the peer who sent the record, but another peer who is connected with it\n            // Ensure that it is valid\n            try {\n                if (!(await this.components.peerStore.consumePeerRecord(pi.signedPeerRecord, peer))) {\n                    this.log('bogus peer record obtained through px: could not add peer record to address book');\n                    return;\n                }\n                toconnect.push(p);\n            }\n            catch (e) {\n                this.log('bogus peer record obtained through px: invalid signature or not a peer record');\n            }\n        }));\n        if (!toconnect.length) {\n            return;\n        }\n        await Promise.all(toconnect.map(async (id) => await this.connect(id)));\n    }\n    /**\n     * Connect to a peer using the gossipsub protocol\n     */\n    async connect(id) {\n        this.log('Initiating connection with %s', id);\n        const peerId = peerIdFromString(id);\n        const connection = await this.components.connectionManager.openConnection(peerId);\n        for (const multicodec of this.multicodecs) {\n            for (const topology of this.components.registrar.getTopologies(multicodec)) {\n                topology.onConnect?.(peerId, connection);\n            }\n        }\n    }\n    /**\n     * Subscribes to a topic\n     */\n    subscribe(topic) {\n        if (this.status.code !== GossipStatusCode.started) {\n            throw new Error('Pubsub has not started');\n        }\n        if (!this.subscriptions.has(topic)) {\n            this.subscriptions.add(topic);\n            for (const peerId of this.peers.keys()) {\n                this.sendSubscriptions(peerId, [topic], true);\n            }\n        }\n        this.join(topic);\n    }\n    /**\n     * Unsubscribe to a topic\n     */\n    unsubscribe(topic) {\n        if (this.status.code !== GossipStatusCode.started) {\n            throw new Error('Pubsub is not started');\n        }\n        const wasSubscribed = this.subscriptions.delete(topic);\n        this.log('unsubscribe from %s - am subscribed %s', topic, wasSubscribed);\n        if (wasSubscribed) {\n            for (const peerId of this.peers.keys()) {\n                this.sendSubscriptions(peerId, [topic], false);\n            }\n        }\n        this.leave(topic);\n    }\n    /**\n     * Join topic\n     */\n    join(topic) {\n        if (this.status.code !== GossipStatusCode.started) {\n            throw new Error('Gossipsub has not started');\n        }\n        // if we are already in the mesh, return\n        if (this.mesh.has(topic)) {\n            return;\n        }\n        this.log('JOIN %s', topic);\n        this.metrics?.onJoin(topic);\n        const toAdd = new Set();\n        const backoff = this.backoff.get(topic);\n        // check if we have mesh_n peers in fanout[topic] and add them to the mesh if we do,\n        // removing the fanout entry.\n        const fanoutPeers = this.fanout.get(topic);\n        if (fanoutPeers) {\n            // Remove fanout entry and the last published time\n            this.fanout.delete(topic);\n            this.fanoutLastpub.delete(topic);\n            // remove explicit peers, peers with negative scores, and backoffed peers\n            fanoutPeers.forEach((id) => {\n                if (!this.direct.has(id) && this.score.score(id) >= 0 && (!backoff || !backoff.has(id))) {\n                    toAdd.add(id);\n                }\n            });\n            this.metrics?.onAddToMesh(topic, InclusionReason.Fanout, toAdd.size);\n        }\n        // check if we need to get more peers, which we randomly select\n        if (toAdd.size < this.opts.D) {\n            const fanoutCount = toAdd.size;\n            const newPeers = this.getRandomGossipPeers(topic, this.opts.D, (id) => \n            // filter direct peers and peers with negative score\n            !toAdd.has(id) && !this.direct.has(id) && this.score.score(id) >= 0 && (!backoff || !backoff.has(id)));\n            newPeers.forEach((peer) => {\n                toAdd.add(peer);\n            });\n            this.metrics?.onAddToMesh(topic, InclusionReason.Random, toAdd.size - fanoutCount);\n        }\n        this.mesh.set(topic, toAdd);\n        toAdd.forEach((id) => {\n            this.log('JOIN: Add mesh link to %s in %s', id, topic);\n            this.sendGraft(id, topic);\n            // rust-libp2p\n            // - peer_score.graft()\n            // - Self::control_pool_add()\n            // - peer_added_to_mesh()\n        });\n    }\n    /**\n     * Leave topic\n     */\n    leave(topic) {\n        if (this.status.code !== GossipStatusCode.started) {\n            throw new Error('Gossipsub has not started');\n        }\n        this.log('LEAVE %s', topic);\n        this.metrics?.onLeave(topic);\n        // Send PRUNE to mesh peers\n        const meshPeers = this.mesh.get(topic);\n        if (meshPeers) {\n            Promise.all(Array.from(meshPeers).map(async (id) => {\n                this.log('LEAVE: Remove mesh link to %s in %s', id, topic);\n                return await this.sendPrune(id, topic);\n            })).catch((err) => {\n                this.log('Error sending prunes to mesh peers', err);\n            });\n            this.mesh.delete(topic);\n        }\n    }\n    selectPeersToForward(topic, propagationSource, excludePeers) {\n        const tosend = new Set();\n        // Add explicit peers\n        const peersInTopic = this.topics.get(topic);\n        if (peersInTopic) {\n            this.direct.forEach((peer) => {\n                if (peersInTopic.has(peer) && propagationSource !== peer && !excludePeers?.has(peer)) {\n                    tosend.add(peer);\n                }\n            });\n            // As of Mar 2022, spec + golang-libp2p include this while rust-libp2p does not\n            // rust-libp2p: https://github.com/libp2p/rust-libp2p/blob/6cc3b4ec52c922bfcf562a29b5805c3150e37c75/protocols/gossipsub/src/behaviour.rs#L2693\n            // spec: https://github.com/libp2p/specs/blob/10712c55ab309086a52eec7d25f294df4fa96528/pubsub/gossipsub/gossipsub-v1.0.md?plain=1#L361\n            this.floodsubPeers.forEach((peer) => {\n                if (peersInTopic.has(peer) &&\n                    propagationSource !== peer &&\n                    !excludePeers?.has(peer) &&\n                    this.score.score(peer) >= this.opts.scoreThresholds.publishThreshold) {\n                    tosend.add(peer);\n                }\n            });\n        }\n        // add mesh peers\n        const meshPeers = this.mesh.get(topic);\n        if (meshPeers && meshPeers.size > 0) {\n            meshPeers.forEach((peer) => {\n                if (propagationSource !== peer && !excludePeers?.has(peer)) {\n                    tosend.add(peer);\n                }\n            });\n        }\n        return tosend;\n    }\n    selectPeersToPublish(topic) {\n        const tosend = new Set();\n        const tosendCount = {\n            direct: 0,\n            floodsub: 0,\n            mesh: 0,\n            fanout: 0\n        };\n        const peersInTopic = this.topics.get(topic);\n        if (peersInTopic) {\n            // flood-publish behavior\n            // send to direct peers and _all_ peers meeting the publishThreshold\n            if (this.opts.floodPublish) {\n                peersInTopic.forEach((id) => {\n                    if (this.direct.has(id)) {\n                        tosend.add(id);\n                        tosendCount.direct++;\n                    }\n                    else if (this.score.score(id) >= this.opts.scoreThresholds.publishThreshold) {\n                        tosend.add(id);\n                        tosendCount.floodsub++;\n                    }\n                });\n            }\n            else {\n                // non-flood-publish behavior\n                // send to direct peers, subscribed floodsub peers\n                // and some mesh peers above publishThreshold\n                // direct peers (if subscribed)\n                this.direct.forEach((id) => {\n                    if (peersInTopic.has(id)) {\n                        tosend.add(id);\n                        tosendCount.direct++;\n                    }\n                });\n                // floodsub peers\n                // Note: if there are no floodsub peers, we save a loop through peersInTopic Map\n                this.floodsubPeers.forEach((id) => {\n                    if (peersInTopic.has(id) && this.score.score(id) >= this.opts.scoreThresholds.publishThreshold) {\n                        tosend.add(id);\n                        tosendCount.floodsub++;\n                    }\n                });\n                // Gossipsub peers handling\n                const meshPeers = this.mesh.get(topic);\n                if (meshPeers && meshPeers.size > 0) {\n                    meshPeers.forEach((peer) => {\n                        tosend.add(peer);\n                        tosendCount.mesh++;\n                    });\n                }\n                // We are not in the mesh for topic, use fanout peers\n                else {\n                    const fanoutPeers = this.fanout.get(topic);\n                    if (fanoutPeers && fanoutPeers.size > 0) {\n                        fanoutPeers.forEach((peer) => {\n                            tosend.add(peer);\n                            tosendCount.fanout++;\n                        });\n                    }\n                    // We have no fanout peers, select mesh_n of them and add them to the fanout\n                    else {\n                        // If we are not in the fanout, then pick peers in topic above the publishThreshold\n                        const newFanoutPeers = this.getRandomGossipPeers(topic, this.opts.D, (id) => {\n                            return this.score.score(id) >= this.opts.scoreThresholds.publishThreshold;\n                        });\n                        if (newFanoutPeers.size > 0) {\n                            // eslint-disable-line max-depth\n                            this.fanout.set(topic, newFanoutPeers);\n                            newFanoutPeers.forEach((peer) => {\n                                // eslint-disable-line max-depth\n                                tosend.add(peer);\n                                tosendCount.fanout++;\n                            });\n                        }\n                    }\n                    // We are publishing to fanout peers - update the time we published\n                    this.fanoutLastpub.set(topic, Date.now());\n                }\n            }\n        }\n        return { tosend, tosendCount };\n    }\n    /**\n     * Forwards a message from our peers.\n     *\n     * For messages published by us (the app layer), this class uses `publish`\n     */\n    forwardMessage(msgIdStr, rawMsg, propagationSource, excludePeers) {\n        // message is fully validated inform peer_score\n        if (propagationSource) {\n            this.score.deliverMessage(propagationSource, msgIdStr, rawMsg.topic);\n        }\n        const tosend = this.selectPeersToForward(rawMsg.topic, propagationSource, excludePeers);\n        // Note: Don't throw if tosend is empty, we can have a mesh with a single peer\n        // forward the message to peers\n        tosend.forEach((id) => {\n            // sendRpc may mutate RPC message on piggyback, create a new message for each peer\n            this.sendRpc(id, { messages: [rawMsg] });\n        });\n        this.metrics?.onForwardMsg(rawMsg.topic, tosend.size);\n    }\n    /**\n     * App layer publishes a message to peers, return number of peers this message is published to\n     * Note: `async` due to crypto only if `StrictSign`, otherwise it's a sync fn.\n     *\n     * For messages not from us, this class uses `forwardMessage`.\n     */\n    async publish(topic, data, opts) {\n        const startMs = Date.now();\n        const transformedData = this.dataTransform ? this.dataTransform.outboundTransform(topic, data) : data;\n        if (this.publishConfig == null) {\n            throw Error('PublishError.Uninitialized');\n        }\n        // Prepare raw message with user's publishConfig\n        const { raw: rawMsg, msg } = await buildRawMessage(this.publishConfig, topic, data, transformedData);\n        // calculate the message id from the un-transformed data\n        const msgId = await this.msgIdFn(msg);\n        const msgIdStr = this.msgIdToStrFn(msgId);\n        // Current publish opt takes precedence global opts, while preserving false value\n        const ignoreDuplicatePublishError = opts?.ignoreDuplicatePublishError ?? this.opts.ignoreDuplicatePublishError;\n        if (this.seenCache.has(msgIdStr)) {\n            // This message has already been seen. We don't re-publish messages that have already\n            // been published on the network.\n            if (ignoreDuplicatePublishError) {\n                this.metrics?.onPublishDuplicateMsg(topic);\n                return { recipients: [] };\n            }\n            throw Error('PublishError.Duplicate');\n        }\n        const { tosend, tosendCount } = this.selectPeersToPublish(topic);\n        const willSendToSelf = this.opts.emitSelf === true && this.subscriptions.has(topic);\n        // Current publish opt takes precedence global opts, while preserving false value\n        const allowPublishToZeroPeers = opts?.allowPublishToZeroPeers ?? this.opts.allowPublishToZeroPeers;\n        if (tosend.size === 0 && !allowPublishToZeroPeers && !willSendToSelf) {\n            throw Error('PublishError.InsufficientPeers');\n        }\n        // If the message isn't a duplicate and we have sent it to some peers add it to the\n        // duplicate cache and memcache.\n        this.seenCache.put(msgIdStr);\n        // all published messages are valid\n        this.mcache.put({ msgId, msgIdStr }, rawMsg, true);\n        // If the message is anonymous or has a random author add it to the published message ids cache.\n        this.publishedMessageIds.put(msgIdStr);\n        // Send to set of peers aggregated from direct, mesh, fanout\n        for (const id of tosend) {\n            // sendRpc may mutate RPC message on piggyback, create a new message for each peer\n            const sent = this.sendRpc(id, { messages: [rawMsg] });\n            // did not actually send the message\n            if (!sent) {\n                tosend.delete(id);\n            }\n        }\n        const durationMs = Date.now() - startMs;\n        this.metrics?.onPublishMsg(topic, tosendCount, tosend.size, rawMsg.data != null ? rawMsg.data.length : 0, durationMs);\n        // Dispatch the message to the user if we are subscribed to the topic\n        if (willSendToSelf) {\n            tosend.add(this.components.peerId.toString());\n            super.dispatchEvent(new CustomEvent('gossipsub:message', {\n                detail: {\n                    propagationSource: this.components.peerId,\n                    msgId: msgIdStr,\n                    msg\n                }\n            }));\n            // TODO: Add option to switch between emit per topic or all messages in one\n            super.dispatchEvent(new CustomEvent('message', { detail: msg }));\n        }\n        return {\n            recipients: Array.from(tosend.values()).map((str) => peerIdFromString(str))\n        };\n    }\n    /**\n     * This function should be called when `asyncValidation` is `true` after\n     * the message got validated by the caller. Messages are stored in the `mcache` and\n     * validation is expected to be fast enough that the messages should still exist in the cache.\n     * There are three possible validation outcomes and the outcome is given in acceptance.\n     *\n     * If acceptance = `MessageAcceptance.Accept` the message will get propagated to the\n     * network. The `propagation_source` parameter indicates who the message was received by and\n     * will not be forwarded back to that peer.\n     *\n     * If acceptance = `MessageAcceptance.Reject` the message will be deleted from the memcache\n     * and the P₄ penalty will be applied to the `propagationSource`.\n     *\n     * If acceptance = `MessageAcceptance.Ignore` the message will be deleted from the memcache\n     * but no P₄ penalty will be applied.\n     *\n     * This function will return true if the message was found in the cache and false if was not\n     * in the cache anymore.\n     *\n     * This should only be called once per message.\n     */\n    reportMessageValidationResult(msgId, propagationSource, acceptance) {\n        let cacheEntry;\n        if (acceptance === TopicValidatorResult.Accept) {\n            cacheEntry = this.mcache.validate(msgId);\n            if (cacheEntry != null) {\n                const { message: rawMsg, originatingPeers } = cacheEntry;\n                // message is fully validated inform peer_score\n                this.score.deliverMessage(propagationSource, msgId, rawMsg.topic);\n                this.forwardMessage(msgId, cacheEntry.message, propagationSource, originatingPeers);\n            }\n            // else, Message not in cache. Ignoring forwarding\n        }\n        // Not valid\n        else {\n            cacheEntry = this.mcache.remove(msgId);\n            if (cacheEntry) {\n                const rejectReason = rejectReasonFromAcceptance(acceptance);\n                const { message: rawMsg, originatingPeers } = cacheEntry;\n                // Tell peer_score about reject\n                // Reject the original source, and any duplicates we've seen from other peers.\n                this.score.rejectMessage(propagationSource, msgId, rawMsg.topic, rejectReason);\n                for (const peer of originatingPeers) {\n                    this.score.rejectMessage(peer, msgId, rawMsg.topic, rejectReason);\n                }\n            }\n            // else, Message not in cache. Ignoring forwarding\n        }\n        const firstSeenTimestampMs = this.score.messageFirstSeenTimestampMs(msgId);\n        this.metrics?.onReportValidation(cacheEntry, acceptance, firstSeenTimestampMs);\n    }\n    /**\n     * Sends a GRAFT message to a peer\n     */\n    sendGraft(id, topic) {\n        const graft = [\n            {\n                topicID: topic\n            }\n        ];\n        this.sendRpc(id, { control: { graft } });\n    }\n    /**\n     * Sends a PRUNE message to a peer\n     */\n    async sendPrune(id, topic) {\n        // this is only called from leave() function\n        const onUnsubscribe = true;\n        const prune = [await this.makePrune(id, topic, this.opts.doPX, onUnsubscribe)];\n        this.sendRpc(id, { control: { prune } });\n    }\n    /**\n     * Send an rpc object to a peer\n     */\n    sendRpc(id, rpc) {\n        const outboundStream = this.streamsOutbound.get(id);\n        if (!outboundStream) {\n            this.log(`Cannot send RPC to ${id} as there is no open stream to it available`);\n            return false;\n        }\n        // piggyback control message retries\n        const ctrl = this.control.get(id);\n        if (ctrl) {\n            this.piggybackControl(id, rpc, ctrl);\n            this.control.delete(id);\n        }\n        // piggyback gossip\n        const ihave = this.gossip.get(id);\n        if (ihave) {\n            this.piggybackGossip(id, rpc, ihave);\n            this.gossip.delete(id);\n        }\n        const rpcBytes = RPC.encode(rpc).finish();\n        try {\n            outboundStream.push(rpcBytes);\n        }\n        catch (e) {\n            this.log.error(`Cannot send rpc to ${id}`, e);\n            // if the peer had control messages or gossip, re-attach\n            if (ctrl) {\n                this.control.set(id, ctrl);\n            }\n            if (ihave) {\n                this.gossip.set(id, ihave);\n            }\n            return false;\n        }\n        this.metrics?.onRpcSent(rpc, rpcBytes.length);\n        return true;\n    }\n    /** Mutates `outRpc` adding graft and prune control messages */\n    piggybackControl(id, outRpc, ctrl) {\n        if (ctrl.graft) {\n            if (!outRpc.control)\n                outRpc.control = {};\n            if (!outRpc.control.graft)\n                outRpc.control.graft = [];\n            for (const graft of ctrl.graft) {\n                if (graft.topicID && this.mesh.get(graft.topicID)?.has(id)) {\n                    outRpc.control.graft.push(graft);\n                }\n            }\n        }\n        if (ctrl.prune) {\n            if (!outRpc.control)\n                outRpc.control = {};\n            if (!outRpc.control.prune)\n                outRpc.control.prune = [];\n            for (const prune of ctrl.prune) {\n                if (prune.topicID && !this.mesh.get(prune.topicID)?.has(id)) {\n                    outRpc.control.prune.push(prune);\n                }\n            }\n        }\n    }\n    /** Mutates `outRpc` adding ihave control messages */\n    piggybackGossip(id, outRpc, ihave) {\n        if (!outRpc.control)\n            outRpc.control = {};\n        outRpc.control.ihave = ihave;\n    }\n    /**\n     * Send graft and prune messages\n     *\n     * @param tograft - peer id => topic[]\n     * @param toprune - peer id => topic[]\n     */\n    async sendGraftPrune(tograft, toprune, noPX) {\n        const doPX = this.opts.doPX;\n        const onUnsubscribe = false;\n        for (const [id, topics] of tograft) {\n            const graft = topics.map((topicID) => ({ topicID }));\n            let prune = [];\n            // If a peer also has prunes, process them now\n            const pruning = toprune.get(id);\n            if (pruning) {\n                prune = await Promise.all(pruning.map(async (topicID) => await this.makePrune(id, topicID, doPX && !(noPX.get(id) ?? false), onUnsubscribe)));\n                toprune.delete(id);\n            }\n            this.sendRpc(id, { control: { graft, prune } });\n        }\n        for (const [id, topics] of toprune) {\n            const prune = await Promise.all(topics.map(async (topicID) => await this.makePrune(id, topicID, doPX && !(noPX.get(id) ?? false), onUnsubscribe)));\n            this.sendRpc(id, { control: { prune } });\n        }\n    }\n    /**\n     * Emits gossip - Send IHAVE messages to a random set of gossip peers\n     */\n    emitGossip(peersToGossipByTopic) {\n        const gossipIDsByTopic = this.mcache.getGossipIDs(new Set(peersToGossipByTopic.keys()));\n        for (const [topic, peersToGossip] of peersToGossipByTopic) {\n            this.doEmitGossip(topic, peersToGossip, gossipIDsByTopic.get(topic) ?? []);\n        }\n    }\n    /**\n     * Send gossip messages to GossipFactor peers above threshold with a minimum of D_lazy\n     * Peers are randomly selected from the heartbeat which exclude mesh + fanout peers\n     * We also exclude direct peers, as there is no reason to emit gossip to them\n     * @param topic\n     * @param candidateToGossip - peers to gossip\n     * @param messageIDs - message ids to gossip\n     */\n    doEmitGossip(topic, candidateToGossip, messageIDs) {\n        if (!messageIDs.length) {\n            return;\n        }\n        // shuffle to emit in random order\n        shuffle(messageIDs);\n        // if we are emitting more than GossipsubMaxIHaveLength ids, truncate the list\n        if (messageIDs.length > constants.GossipsubMaxIHaveLength) {\n            // we do the truncation (with shuffling) per peer below\n            this.log('too many messages for gossip; will truncate IHAVE list (%d messages)', messageIDs.length);\n        }\n        if (!candidateToGossip.size)\n            return;\n        let target = this.opts.Dlazy;\n        const factor = constants.GossipsubGossipFactor * candidateToGossip.size;\n        let peersToGossip = candidateToGossip;\n        if (factor > target) {\n            target = factor;\n        }\n        if (target > peersToGossip.size) {\n            target = peersToGossip.size;\n        }\n        else {\n            // only shuffle if needed\n            peersToGossip = shuffle(Array.from(peersToGossip)).slice(0, target);\n        }\n        // Emit the IHAVE gossip to the selected peers up to the target\n        peersToGossip.forEach((id) => {\n            let peerMessageIDs = messageIDs;\n            if (messageIDs.length > constants.GossipsubMaxIHaveLength) {\n                // shuffle and slice message IDs per peer so that we emit a different set for each peer\n                // we have enough reduncancy in the system that this will significantly increase the message\n                // coverage when we do truncate\n                peerMessageIDs = shuffle(peerMessageIDs.slice()).slice(0, constants.GossipsubMaxIHaveLength);\n            }\n            this.pushGossip(id, {\n                topicID: topic,\n                messageIDs: peerMessageIDs\n            });\n        });\n    }\n    /**\n     * Flush gossip and control messages\n     */\n    flush() {\n        // send gossip first, which will also piggyback control\n        for (const [peer, ihave] of this.gossip.entries()) {\n            this.gossip.delete(peer);\n            this.sendRpc(peer, { control: { ihave } });\n        }\n        // send the remaining control messages\n        for (const [peer, control] of this.control.entries()) {\n            this.control.delete(peer);\n            this.sendRpc(peer, { control: { graft: control.graft, prune: control.prune } });\n        }\n    }\n    /**\n     * Adds new IHAVE messages to pending gossip\n     */\n    pushGossip(id, controlIHaveMsgs) {\n        this.log('Add gossip to %s', id);\n        const gossip = this.gossip.get(id) || [];\n        this.gossip.set(id, gossip.concat(controlIHaveMsgs));\n    }\n    /**\n     * Make a PRUNE control message for a peer in a topic\n     */\n    async makePrune(id, topic, doPX, onUnsubscribe) {\n        this.score.prune(id, topic);\n        if (this.streamsOutbound.get(id).protocol === constants.GossipsubIDv10) {\n            // Gossipsub v1.0 -- no backoff, the peer won't be able to parse it anyway\n            return {\n                topicID: topic,\n                peers: []\n            };\n        }\n        // backoff is measured in seconds\n        // GossipsubPruneBackoff and GossipsubUnsubscribeBackoff are measured in milliseconds\n        // The protobuf has it as a uint64\n        const backoffMs = onUnsubscribe ? this.opts.unsubcribeBackoff : this.opts.pruneBackoff;\n        const backoff = backoffMs / 1000;\n        this.doAddBackoff(id, topic, backoffMs);\n        if (!doPX) {\n            return {\n                topicID: topic,\n                peers: [],\n                backoff: backoff\n            };\n        }\n        // select peers for Peer eXchange\n        const peers = this.getRandomGossipPeers(topic, this.opts.prunePeers, (xid) => {\n            return xid !== id && this.score.score(xid) >= 0;\n        });\n        const px = await Promise.all(Array.from(peers).map(async (peerId) => {\n            // see if we have a signed record to send back; if we don't, just send\n            // the peer ID and let the pruned peer find them in the DHT -- we can't trust\n            // unsigned address records through PX anyways\n            // Finding signed records in the DHT is not supported at the time of writing in js-libp2p\n            const id = peerIdFromString(peerId);\n            let peerInfo;\n            try {\n                peerInfo = await this.components.peerStore.get(id);\n            }\n            catch (err) {\n                if (err.code !== 'ERR_NOT_FOUND') {\n                    throw err;\n                }\n            }\n            return {\n                peerID: id.toBytes(),\n                signedPeerRecord: peerInfo?.peerRecordEnvelope\n            };\n        }));\n        return {\n            topicID: topic,\n            peers: px,\n            backoff: backoff\n        };\n    }\n    runHeartbeat = () => {\n        const timer = this.metrics?.heartbeatDuration.startTimer();\n        this.heartbeat()\n            .catch((err) => {\n            this.log('Error running heartbeat', err);\n        })\n            .finally(() => {\n            if (timer != null) {\n                timer();\n            }\n            // Schedule the next run if still in started status\n            if (this.status.code === GossipStatusCode.started) {\n                // Clear previous timeout before overwriting `status.heartbeatTimeout`, it should be completed tho.\n                clearTimeout(this.status.heartbeatTimeout);\n                // NodeJS setInterval function is innexact, calls drift by a few miliseconds on each call.\n                // To run the heartbeat precisely setTimeout() must be used recomputing the delay on every loop.\n                let msToNextHeartbeat = this.opts.heartbeatInterval - ((Date.now() - this.status.hearbeatStartMs) % this.opts.heartbeatInterval);\n                // If too close to next heartbeat, skip one\n                if (msToNextHeartbeat < this.opts.heartbeatInterval * 0.25) {\n                    msToNextHeartbeat += this.opts.heartbeatInterval;\n                    this.metrics?.heartbeatSkipped.inc();\n                }\n                this.status.heartbeatTimeout = setTimeout(this.runHeartbeat, msToNextHeartbeat);\n            }\n        });\n    };\n    /**\n     * Maintains the mesh and fanout maps in gossipsub.\n     */\n    async heartbeat() {\n        const { D, Dlo, Dhi, Dscore, Dout, fanoutTTL } = this.opts;\n        this.heartbeatTicks++;\n        // cache scores throught the heartbeat\n        const scores = new Map();\n        const getScore = (id) => {\n            let s = scores.get(id);\n            if (s === undefined) {\n                s = this.score.score(id);\n                scores.set(id, s);\n            }\n            return s;\n        };\n        // peer id => topic[]\n        const tograft = new Map();\n        // peer id => topic[]\n        const toprune = new Map();\n        // peer id => don't px\n        const noPX = new Map();\n        // clean up expired backoffs\n        this.clearBackoff();\n        // clean up peerhave/iasked counters\n        this.peerhave.clear();\n        this.metrics?.cacheSize.set({ cache: 'iasked' }, this.iasked.size);\n        this.iasked.clear();\n        // apply IWANT request penalties\n        this.applyIwantPenalties();\n        // ensure direct peers are connected\n        if (this.heartbeatTicks % this.opts.directConnectTicks === 0) {\n            // we only do this every few ticks to allow pending connections to complete and account for restarts/downtime\n            await this.directConnect();\n        }\n        // EXTRA: Prune caches\n        this.fastMsgIdCache?.prune();\n        this.seenCache.prune();\n        this.gossipTracer.prune();\n        this.publishedMessageIds.prune();\n        /**\n         * Instead of calling getRandomGossipPeers multiple times to:\n         *   + get more mesh peers\n         *   + more outbound peers\n         *   + oppportunistic grafting\n         *   + emitGossip\n         *\n         * We want to loop through the topic peers only a single time and prepare gossip peers for all topics to improve the performance\n         */\n        const peersToGossipByTopic = new Map();\n        // maintain the mesh for topics we have joined\n        this.mesh.forEach((peers, topic) => {\n            const peersInTopic = this.topics.get(topic);\n            const candidateMeshPeers = new Set();\n            const peersToGossip = new Set();\n            peersToGossipByTopic.set(topic, peersToGossip);\n            if (peersInTopic) {\n                const shuffledPeers = shuffle(Array.from(peersInTopic));\n                const backoff = this.backoff.get(topic);\n                for (const id of shuffledPeers) {\n                    const peerStreams = this.streamsOutbound.get(id);\n                    if (peerStreams &&\n                        this.multicodecs.includes(peerStreams.protocol) &&\n                        !peers.has(id) &&\n                        !this.direct.has(id)) {\n                        const score = getScore(id);\n                        if ((!backoff || !backoff.has(id)) && score >= 0)\n                            candidateMeshPeers.add(id);\n                        // instead of having to find gossip peers after heartbeat which require another loop\n                        // we prepare peers to gossip in a topic within heartbeat to improve performance\n                        if (score >= this.opts.scoreThresholds.gossipThreshold)\n                            peersToGossip.add(id);\n                    }\n                }\n            }\n            // prune/graft helper functions (defined per topic)\n            const prunePeer = (id, reason) => {\n                this.log('HEARTBEAT: Remove mesh link to %s in %s', id, topic);\n                // no need to update peer score here as we do it in makePrune\n                // add prune backoff record\n                this.addBackoff(id, topic);\n                // remove peer from mesh\n                peers.delete(id);\n                // after pruning a peer from mesh, we want to gossip topic to it if its score meet the gossip threshold\n                if (getScore(id) >= this.opts.scoreThresholds.gossipThreshold)\n                    peersToGossip.add(id);\n                this.metrics?.onRemoveFromMesh(topic, reason, 1);\n                // add to toprune\n                const topics = toprune.get(id);\n                if (!topics) {\n                    toprune.set(id, [topic]);\n                }\n                else {\n                    topics.push(topic);\n                }\n            };\n            const graftPeer = (id, reason) => {\n                this.log('HEARTBEAT: Add mesh link to %s in %s', id, topic);\n                // update peer score\n                this.score.graft(id, topic);\n                // add peer to mesh\n                peers.add(id);\n                // when we add a new mesh peer, we don't want to gossip messages to it\n                peersToGossip.delete(id);\n                this.metrics?.onAddToMesh(topic, reason, 1);\n                // add to tograft\n                const topics = tograft.get(id);\n                if (!topics) {\n                    tograft.set(id, [topic]);\n                }\n                else {\n                    topics.push(topic);\n                }\n            };\n            // drop all peers with negative score, without PX\n            peers.forEach((id) => {\n                const score = getScore(id);\n                // Record the score\n                if (score < 0) {\n                    this.log('HEARTBEAT: Prune peer %s with negative score: score=%d, topic=%s', id, score, topic);\n                    prunePeer(id, ChurnReason.BadScore);\n                    noPX.set(id, true);\n                }\n            });\n            // do we have enough peers?\n            if (peers.size < Dlo) {\n                const ineed = D - peers.size;\n                // slice up to first `ineed` items and remove them from candidateMeshPeers\n                // same to `const newMeshPeers = candidateMeshPeers.slice(0, ineed)`\n                const newMeshPeers = removeFirstNItemsFromSet(candidateMeshPeers, ineed);\n                newMeshPeers.forEach((p) => {\n                    graftPeer(p, InclusionReason.NotEnough);\n                });\n            }\n            // do we have to many peers?\n            if (peers.size > Dhi) {\n                let peersArray = Array.from(peers);\n                // sort by score\n                peersArray.sort((a, b) => getScore(b) - getScore(a));\n                // We keep the first D_score peers by score and the remaining up to D randomly\n                // under the constraint that we keep D_out peers in the mesh (if we have that many)\n                peersArray = peersArray.slice(0, Dscore).concat(shuffle(peersArray.slice(Dscore)));\n                // count the outbound peers we are keeping\n                let outbound = 0;\n                peersArray.slice(0, D).forEach((p) => {\n                    if (this.outbound.get(p)) {\n                        outbound++;\n                    }\n                });\n                // if it's less than D_out, bubble up some outbound peers from the random selection\n                if (outbound < Dout) {\n                    const rotate = (i) => {\n                        // rotate the peersArray to the right and put the ith peer in the front\n                        const p = peersArray[i];\n                        for (let j = i; j > 0; j--) {\n                            peersArray[j] = peersArray[j - 1];\n                        }\n                        peersArray[0] = p;\n                    };\n                    // first bubble up all outbound peers already in the selection to the front\n                    if (outbound > 0) {\n                        let ihave = outbound;\n                        for (let i = 1; i < D && ihave > 0; i++) {\n                            if (this.outbound.get(peersArray[i])) {\n                                rotate(i);\n                                ihave--;\n                            }\n                        }\n                    }\n                    // now bubble up enough outbound peers outside the selection to the front\n                    let ineed = D - outbound;\n                    for (let i = D; i < peersArray.length && ineed > 0; i++) {\n                        if (this.outbound.get(peersArray[i])) {\n                            rotate(i);\n                            ineed--;\n                        }\n                    }\n                }\n                // prune the excess peers\n                peersArray.slice(D).forEach((p) => {\n                    prunePeer(p, ChurnReason.Excess);\n                });\n            }\n            // do we have enough outbound peers?\n            if (peers.size >= Dlo) {\n                // count the outbound peers we have\n                let outbound = 0;\n                peers.forEach((p) => {\n                    if (this.outbound.get(p)) {\n                        outbound++;\n                    }\n                });\n                // if it's less than D_out, select some peers with outbound connections and graft them\n                if (outbound < Dout) {\n                    const ineed = Dout - outbound;\n                    const newMeshPeers = removeItemsFromSet(candidateMeshPeers, ineed, (id) => this.outbound.get(id) === true);\n                    newMeshPeers.forEach((p) => {\n                        graftPeer(p, InclusionReason.Outbound);\n                    });\n                }\n            }\n            // should we try to improve the mesh with opportunistic grafting?\n            if (this.heartbeatTicks % this.opts.opportunisticGraftTicks === 0 && peers.size > 1) {\n                // Opportunistic grafting works as follows: we check the median score of peers in the\n                // mesh; if this score is below the opportunisticGraftThreshold, we select a few peers at\n                // random with score over the median.\n                // The intention is to (slowly) improve an underperforming mesh by introducing good\n                // scoring peers that may have been gossiping at us. This allows us to get out of sticky\n                // situations where we are stuck with poor peers and also recover from churn of good peers.\n                // now compute the median peer score in the mesh\n                const peersList = Array.from(peers).sort((a, b) => getScore(a) - getScore(b));\n                const medianIndex = Math.floor(peers.size / 2);\n                const medianScore = getScore(peersList[medianIndex]);\n                // if the median score is below the threshold, select a better peer (if any) and GRAFT\n                if (medianScore < this.opts.scoreThresholds.opportunisticGraftThreshold) {\n                    const ineed = this.opts.opportunisticGraftPeers;\n                    const newMeshPeers = removeItemsFromSet(candidateMeshPeers, ineed, (id) => getScore(id) > medianScore);\n                    for (const id of newMeshPeers) {\n                        this.log('HEARTBEAT: Opportunistically graft peer %s on topic %s', id, topic);\n                        graftPeer(id, InclusionReason.Opportunistic);\n                    }\n                }\n            }\n        });\n        // expire fanout for topics we haven't published to in a while\n        const now = Date.now();\n        this.fanoutLastpub.forEach((lastpb, topic) => {\n            if (lastpb + fanoutTTL < now) {\n                this.fanout.delete(topic);\n                this.fanoutLastpub.delete(topic);\n            }\n        });\n        // maintain our fanout for topics we are publishing but we have not joined\n        this.fanout.forEach((fanoutPeers, topic) => {\n            // checks whether our peers are still in the topic and have a score above the publish threshold\n            const topicPeers = this.topics.get(topic);\n            fanoutPeers.forEach((id) => {\n                if (!topicPeers.has(id) || getScore(id) < this.opts.scoreThresholds.publishThreshold) {\n                    fanoutPeers.delete(id);\n                }\n            });\n            const peersInTopic = this.topics.get(topic);\n            const candidateFanoutPeers = [];\n            // the fanout map contains topics to which we are not subscribed.\n            const peersToGossip = new Set();\n            peersToGossipByTopic.set(topic, peersToGossip);\n            if (peersInTopic) {\n                const shuffledPeers = shuffle(Array.from(peersInTopic));\n                for (const id of shuffledPeers) {\n                    const peerStreams = this.streamsOutbound.get(id);\n                    if (peerStreams &&\n                        this.multicodecs.includes(peerStreams.protocol) &&\n                        !fanoutPeers.has(id) &&\n                        !this.direct.has(id)) {\n                        const score = getScore(id);\n                        if (score >= this.opts.scoreThresholds.publishThreshold)\n                            candidateFanoutPeers.push(id);\n                        // instead of having to find gossip peers after heartbeat which require another loop\n                        // we prepare peers to gossip in a topic within heartbeat to improve performance\n                        if (score >= this.opts.scoreThresholds.gossipThreshold)\n                            peersToGossip.add(id);\n                    }\n                }\n            }\n            // do we need more peers?\n            if (fanoutPeers.size < D) {\n                const ineed = D - fanoutPeers.size;\n                candidateFanoutPeers.slice(0, ineed).forEach((id) => {\n                    fanoutPeers.add(id);\n                    peersToGossip?.delete(id);\n                });\n            }\n        });\n        this.emitGossip(peersToGossipByTopic);\n        // send coalesced GRAFT/PRUNE messages (will piggyback gossip)\n        await this.sendGraftPrune(tograft, toprune, noPX);\n        // flush pending gossip that wasn't piggybacked above\n        this.flush();\n        // advance the message history window\n        this.mcache.shift();\n        this.dispatchEvent(new CustomEvent('gossipsub:heartbeat'));\n    }\n    /**\n     * Given a topic, returns up to count peers subscribed to that topic\n     * that pass an optional filter function\n     *\n     * @param topic\n     * @param count\n     * @param filter - a function to filter acceptable peers\n     */\n    getRandomGossipPeers(topic, count, filter = () => true) {\n        const peersInTopic = this.topics.get(topic);\n        if (!peersInTopic) {\n            return new Set();\n        }\n        // Adds all peers using our protocol\n        // that also pass the filter function\n        let peers = [];\n        peersInTopic.forEach((id) => {\n            const peerStreams = this.streamsOutbound.get(id);\n            if (!peerStreams) {\n                return;\n            }\n            if (this.multicodecs.includes(peerStreams.protocol) && filter(id)) {\n                peers.push(id);\n            }\n        });\n        // Pseudo-randomly shuffles peers\n        peers = shuffle(peers);\n        if (count > 0 && peers.length > count) {\n            peers = peers.slice(0, count);\n        }\n        return new Set(peers);\n    }\n    onScrapeMetrics(metrics) {\n        /* Data structure sizes */\n        metrics.mcacheSize.set(this.mcache.size);\n        metrics.mcacheNotValidatedCount.set(this.mcache.notValidatedCount);\n        // Arbitrary size\n        metrics.cacheSize.set({ cache: 'direct' }, this.direct.size);\n        metrics.cacheSize.set({ cache: 'seenCache' }, this.seenCache.size);\n        metrics.cacheSize.set({ cache: 'fastMsgIdCache' }, this.fastMsgIdCache?.size ?? 0);\n        metrics.cacheSize.set({ cache: 'publishedMessageIds' }, this.publishedMessageIds.size);\n        metrics.cacheSize.set({ cache: 'mcache' }, this.mcache.size);\n        metrics.cacheSize.set({ cache: 'score' }, this.score.size);\n        metrics.cacheSize.set({ cache: 'gossipTracer.promises' }, this.gossipTracer.size);\n        metrics.cacheSize.set({ cache: 'gossipTracer.requests' }, this.gossipTracer.requestMsByMsgSize);\n        // Bounded by topic\n        metrics.cacheSize.set({ cache: 'topics' }, this.topics.size);\n        metrics.cacheSize.set({ cache: 'subscriptions' }, this.subscriptions.size);\n        metrics.cacheSize.set({ cache: 'mesh' }, this.mesh.size);\n        metrics.cacheSize.set({ cache: 'fanout' }, this.fanout.size);\n        // Bounded by peer\n        metrics.cacheSize.set({ cache: 'peers' }, this.peers.size);\n        metrics.cacheSize.set({ cache: 'streamsOutbound' }, this.streamsOutbound.size);\n        metrics.cacheSize.set({ cache: 'streamsInbound' }, this.streamsInbound.size);\n        metrics.cacheSize.set({ cache: 'acceptFromWhitelist' }, this.acceptFromWhitelist.size);\n        metrics.cacheSize.set({ cache: 'gossip' }, this.gossip.size);\n        metrics.cacheSize.set({ cache: 'control' }, this.control.size);\n        metrics.cacheSize.set({ cache: 'peerhave' }, this.peerhave.size);\n        metrics.cacheSize.set({ cache: 'outbound' }, this.outbound.size);\n        // 2D nested data structure\n        let backoffSize = 0;\n        const now = Date.now();\n        metrics.connectedPeersBackoffSec.reset();\n        for (const backoff of this.backoff.values()) {\n            backoffSize += backoff.size;\n            for (const [peer, expiredMs] of backoff.entries()) {\n                if (this.peers.has(peer)) {\n                    metrics.connectedPeersBackoffSec.observe(Math.max(0, expiredMs - now) / 1000);\n                }\n            }\n        }\n        metrics.cacheSize.set({ cache: 'backoff' }, backoffSize);\n        // Peer counts\n        for (const [topicStr, peers] of this.topics) {\n            metrics.topicPeersCount.set({ topicStr }, peers.size);\n        }\n        for (const [topicStr, peers] of this.mesh) {\n            metrics.meshPeerCounts.set({ topicStr }, peers.size);\n        }\n        // Peer scores\n        const scores = [];\n        const scoreByPeer = new Map();\n        metrics.behaviourPenalty.reset();\n        for (const peerIdStr of this.peers.keys()) {\n            const score = this.score.score(peerIdStr);\n            scores.push(score);\n            scoreByPeer.set(peerIdStr, score);\n            metrics.behaviourPenalty.observe(this.score.peerStats.get(peerIdStr)?.behaviourPenalty ?? 0);\n        }\n        metrics.registerScores(scores, this.opts.scoreThresholds);\n        // Breakdown score per mesh topicLabel\n        metrics.registerScorePerMesh(this.mesh, scoreByPeer);\n        // Breakdown on each score weight\n        const sw = computeAllPeersScoreWeights(this.peers.keys(), this.score.peerStats, this.score.params, this.score.peerIPs, metrics.topicStrToLabel);\n        metrics.registerScoreWeights(sw);\n    }\n}\nexport function gossipsub(init = {}) {\n    return (components) => new GossipSub(components, init);\n}\n//# sourceMappingURL=index.js.map","import { unmarshalPrivateKey } from '@libp2p/crypto/keys';\nimport { StrictSign, StrictNoSign } from '@libp2p/interface/pubsub';\nimport { PublishConfigType } from '../types.js';\n/**\n * Prepare a PublishConfig object from a PeerId.\n */\nexport async function getPublishConfigFromPeerId(signaturePolicy, peerId) {\n    switch (signaturePolicy) {\n        case StrictSign: {\n            if (!peerId) {\n                throw Error('Must provide PeerId');\n            }\n            if (peerId.privateKey == null) {\n                throw Error('Cannot sign message, no private key present');\n            }\n            if (peerId.publicKey == null) {\n                throw Error('Cannot sign message, no public key present');\n            }\n            // Transform privateKey once at initialization time instead of once per message\n            const privateKey = await unmarshalPrivateKey(peerId.privateKey);\n            return {\n                type: PublishConfigType.Signing,\n                author: peerId,\n                key: peerId.publicKey,\n                privateKey\n            };\n        }\n        case StrictNoSign:\n            return {\n                type: PublishConfigType.Anonymous\n            };\n        default:\n            throw new Error(`Unknown signature policy \"${signaturePolicy}\"`);\n    }\n}\n//# sourceMappingURL=publishConfig.js.map","import defer from 'p-defer';\n/**\n * A pair of streams where one drains from the other\n */\nexport function pair() {\n    const deferred = defer();\n    let piped = false;\n    return {\n        sink: async (source) => {\n            if (piped) {\n                throw new Error('already piped');\n            }\n            piped = true;\n            deferred.resolve(source);\n        },\n        source: (async function* () {\n            const source = await deferred.promise;\n            yield* source;\n        }())\n    };\n}\n//# sourceMappingURL=index.js.map","export const NOISE_MSG_MAX_LENGTH_BYTES = 65535;\nexport const NOISE_MSG_MAX_LENGTH_BYTES_WITHOUT_TAG = NOISE_MSG_MAX_LENGTH_BYTES - 16;\nexport const DUMP_SESSION_KEYS = Boolean(globalThis.process?.env?.DUMP_SESSION_KEYS);\n//# sourceMappingURL=constants.js.map","function number(n) {\n    if (!Number.isSafeInteger(n) || n < 0)\n        throw new Error(`Wrong positive integer: ${n}`);\n}\nfunction bool(b) {\n    if (typeof b !== 'boolean')\n        throw new Error(`Expected boolean, not ${b}`);\n}\nfunction bytes(b, ...lengths) {\n    if (!(b instanceof Uint8Array))\n        throw new Error('Expected Uint8Array');\n    if (lengths.length > 0 && !lengths.includes(b.length))\n        throw new Error(`Expected Uint8Array of length ${lengths}, not of length=${b.length}`);\n}\nfunction hash(hash) {\n    if (typeof hash !== 'function' || typeof hash.create !== 'function')\n        throw new Error('Hash should be wrapped by utils.wrapConstructor');\n    number(hash.outputLen);\n    number(hash.blockLen);\n}\nfunction exists(instance, checkFinished = true) {\n    if (instance.destroyed)\n        throw new Error('Hash instance has been destroyed');\n    if (checkFinished && instance.finished)\n        throw new Error('Hash#digest() has already been called');\n}\nfunction output(out, instance) {\n    bytes(out);\n    const min = instance.outputLen;\n    if (out.length < min) {\n        throw new Error(`digestInto() expects output buffer of length at least ${min}`);\n    }\n}\nexport { number, bool, bytes, hash, exists, output };\nconst assert = { number, bool, bytes, hash, exists, output };\nexport default assert;\n//# sourceMappingURL=_assert.js.map","export const crypto = typeof globalThis === 'object' && 'crypto' in globalThis ? globalThis.crypto : undefined;\n//# sourceMappingURL=crypto.js.map","/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */\n// We use WebCrypto aka globalThis.crypto, which exists in browsers and node.js 16+.\n// node.js versions earlier than v19 don't declare it in global scope.\n// For node.js, package.json#exports field mapping rewrites import\n// from `crypto` to `cryptoNode`, which imports native module.\n// Makes the utils un-importable in browsers without a bundler.\n// Once node.js 18 is deprecated, we can just drop the import.\nimport { crypto } from '@noble/hashes/crypto';\nconst u8a = (a) => a instanceof Uint8Array;\n// Cast array to different type\nexport const u8 = (arr) => new Uint8Array(arr.buffer, arr.byteOffset, arr.byteLength);\nexport const u32 = (arr) => new Uint32Array(arr.buffer, arr.byteOffset, Math.floor(arr.byteLength / 4));\n// Cast array to view\nexport const createView = (arr) => new DataView(arr.buffer, arr.byteOffset, arr.byteLength);\n// The rotate right (circular right shift) operation for uint32\nexport const rotr = (word, shift) => (word << (32 - shift)) | (word >>> shift);\n// big-endian hardware is rare. Just in case someone still decides to run hashes:\n// early-throw an error because we don't support BE yet.\nexport const isLE = new Uint8Array(new Uint32Array([0x11223344]).buffer)[0] === 0x44;\nif (!isLE)\n    throw new Error('Non little-endian hardware is not supported');\nconst hexes = /* @__PURE__ */ Array.from({ length: 256 }, (_, i) => i.toString(16).padStart(2, '0'));\n/**\n * @example bytesToHex(Uint8Array.from([0xca, 0xfe, 0x01, 0x23])) // 'cafe0123'\n */\nexport function bytesToHex(bytes) {\n    if (!u8a(bytes))\n        throw new Error('Uint8Array expected');\n    // pre-caching improves the speed 6x\n    let hex = '';\n    for (let i = 0; i < bytes.length; i++) {\n        hex += hexes[bytes[i]];\n    }\n    return hex;\n}\n/**\n * @example hexToBytes('cafe0123') // Uint8Array.from([0xca, 0xfe, 0x01, 0x23])\n */\nexport function hexToBytes(hex) {\n    if (typeof hex !== 'string')\n        throw new Error('hex string expected, got ' + typeof hex);\n    const len = hex.length;\n    if (len % 2)\n        throw new Error('padded hex string expected, got unpadded hex of length ' + len);\n    const array = new Uint8Array(len / 2);\n    for (let i = 0; i < array.length; i++) {\n        const j = i * 2;\n        const hexByte = hex.slice(j, j + 2);\n        const byte = Number.parseInt(hexByte, 16);\n        if (Number.isNaN(byte) || byte < 0)\n            throw new Error('Invalid byte sequence');\n        array[i] = byte;\n    }\n    return array;\n}\n// There is no setImmediate in browser and setTimeout is slow.\n// call of async fn will return Promise, which will be fullfiled only on\n// next scheduler queue processing step and this is exactly what we need.\nexport const nextTick = async () => { };\n// Returns control to thread each 'tick' ms to avoid blocking\nexport async function asyncLoop(iters, tick, cb) {\n    let ts = Date.now();\n    for (let i = 0; i < iters; i++) {\n        cb(i);\n        // Date.now() is not monotonic, so in case if clock goes backwards we return return control too\n        const diff = Date.now() - ts;\n        if (diff >= 0 && diff < tick)\n            continue;\n        await nextTick();\n        ts += diff;\n    }\n}\n/**\n * @example utf8ToBytes('abc') // new Uint8Array([97, 98, 99])\n */\nexport function utf8ToBytes(str) {\n    if (typeof str !== 'string')\n        throw new Error(`utf8ToBytes expected string, got ${typeof str}`);\n    return new Uint8Array(new TextEncoder().encode(str)); // https://bugzil.la/1681809\n}\n/**\n * Normalizes (non-hex) string or Uint8Array to Uint8Array.\n * Warning: when Uint8Array is passed, it would NOT get copied.\n * Keep in mind for future mutable operations.\n */\nexport function toBytes(data) {\n    if (typeof data === 'string')\n        data = utf8ToBytes(data);\n    if (!u8a(data))\n        throw new Error(`expected Uint8Array, got ${typeof data}`);\n    return data;\n}\n/**\n * Copies several Uint8Arrays into one.\n */\nexport function concatBytes(...arrays) {\n    const r = new Uint8Array(arrays.reduce((sum, a) => sum + a.length, 0));\n    let pad = 0; // walk through each item, ensure they have proper type\n    arrays.forEach((a) => {\n        if (!u8a(a))\n            throw new Error('Uint8Array expected');\n        r.set(a, pad);\n        pad += a.length;\n    });\n    return r;\n}\n// For runtime check if class implements interface\nexport class Hash {\n    // Safe version that clones internal state\n    clone() {\n        return this._cloneInto();\n    }\n}\nconst toStr = {}.toString;\nexport function checkOpts(defaults, opts) {\n    if (opts !== undefined && toStr.call(opts) !== '[object Object]')\n        throw new Error('Options should be object or undefined');\n    const merged = Object.assign(defaults, opts);\n    return merged;\n}\nexport function wrapConstructor(hashCons) {\n    const hashC = (msg) => hashCons().update(toBytes(msg)).digest();\n    const tmp = hashCons();\n    hashC.outputLen = tmp.outputLen;\n    hashC.blockLen = tmp.blockLen;\n    hashC.create = () => hashCons();\n    return hashC;\n}\nexport function wrapConstructorWithOpts(hashCons) {\n    const hashC = (msg, opts) => hashCons(opts).update(toBytes(msg)).digest();\n    const tmp = hashCons({});\n    hashC.outputLen = tmp.outputLen;\n    hashC.blockLen = tmp.blockLen;\n    hashC.create = (opts) => hashCons(opts);\n    return hashC;\n}\nexport function wrapXOFConstructorWithOpts(hashCons) {\n    const hashC = (msg, opts) => hashCons(opts).update(toBytes(msg)).digest();\n    const tmp = hashCons({});\n    hashC.outputLen = tmp.outputLen;\n    hashC.blockLen = tmp.blockLen;\n    hashC.create = (opts) => hashCons(opts);\n    return hashC;\n}\n/**\n * Secure PRNG. Uses `crypto.getRandomValues`, which defers to OS.\n */\nexport function randomBytes(bytesLength = 32) {\n    if (crypto && typeof crypto.getRandomValues === 'function') {\n        return crypto.getRandomValues(new Uint8Array(bytesLength));\n    }\n    throw new Error('crypto.getRandomValues must be defined');\n}\n//# sourceMappingURL=utils.js.map","import { hash as assertHash, bytes as assertBytes, exists as assertExists } from './_assert.js';\nimport { Hash, toBytes } from './utils.js';\n// HMAC (RFC 2104)\nexport class HMAC extends Hash {\n    constructor(hash, _key) {\n        super();\n        this.finished = false;\n        this.destroyed = false;\n        assertHash(hash);\n        const key = toBytes(_key);\n        this.iHash = hash.create();\n        if (typeof this.iHash.update !== 'function')\n            throw new Error('Expected instance of class which extends utils.Hash');\n        this.blockLen = this.iHash.blockLen;\n        this.outputLen = this.iHash.outputLen;\n        const blockLen = this.blockLen;\n        const pad = new Uint8Array(blockLen);\n        // blockLen can be bigger than outputLen\n        pad.set(key.length > blockLen ? hash.create().update(key).digest() : key);\n        for (let i = 0; i < pad.length; i++)\n            pad[i] ^= 0x36;\n        this.iHash.update(pad);\n        // By doing update (processing of first block) of outer hash here we can re-use it between multiple calls via clone\n        this.oHash = hash.create();\n        // Undo internal XOR && apply outer XOR\n        for (let i = 0; i < pad.length; i++)\n            pad[i] ^= 0x36 ^ 0x5c;\n        this.oHash.update(pad);\n        pad.fill(0);\n    }\n    update(buf) {\n        assertExists(this);\n        this.iHash.update(buf);\n        return this;\n    }\n    digestInto(out) {\n        assertExists(this);\n        assertBytes(out, this.outputLen);\n        this.finished = true;\n        this.iHash.digestInto(out);\n        this.oHash.update(out);\n        this.oHash.digestInto(out);\n        this.destroy();\n    }\n    digest() {\n        const out = new Uint8Array(this.oHash.outputLen);\n        this.digestInto(out);\n        return out;\n    }\n    _cloneInto(to) {\n        // Create new instance without calling constructor since key already in state and we don't know it.\n        to || (to = Object.create(Object.getPrototypeOf(this), {}));\n        const { oHash, iHash, finished, destroyed, blockLen, outputLen } = this;\n        to = to;\n        to.finished = finished;\n        to.destroyed = destroyed;\n        to.blockLen = blockLen;\n        to.outputLen = outputLen;\n        to.oHash = oHash._cloneInto(to.oHash);\n        to.iHash = iHash._cloneInto(to.iHash);\n        return to;\n    }\n    destroy() {\n        this.destroyed = true;\n        this.oHash.destroy();\n        this.iHash.destroy();\n    }\n}\n/**\n * HMAC: RFC2104 message authentication code.\n * @param hash - function that would be used e.g. sha256\n * @param key - message key\n * @param message - message data\n */\nexport const hmac = (hash, key, message) => new HMAC(hash, key).update(message).digest();\nhmac.create = (hash, key) => new HMAC(hash, key);\n//# sourceMappingURL=hmac.js.map","import { hash as assertHash, number as assertNumber } from './_assert.js';\nimport { toBytes } from './utils.js';\nimport { hmac } from './hmac.js';\n// HKDF (RFC 5869)\n// https://soatok.blog/2021/11/17/understanding-hkdf/\n/**\n * HKDF-Extract(IKM, salt) -> PRK\n * Arguments position differs from spec (IKM is first one, since it is not optional)\n * @param hash\n * @param ikm\n * @param salt\n * @returns\n */\nexport function extract(hash, ikm, salt) {\n    assertHash(hash);\n    // NOTE: some libraries treat zero-length array as 'not provided';\n    // we don't, since we have undefined as 'not provided'\n    // https://github.com/RustCrypto/KDFs/issues/15\n    if (salt === undefined)\n        salt = new Uint8Array(hash.outputLen); // if not provided, it is set to a string of HashLen zeros\n    return hmac(hash, toBytes(salt), toBytes(ikm));\n}\n// HKDF-Expand(PRK, info, L) -> OKM\nconst HKDF_COUNTER = /* @__PURE__ */ new Uint8Array([0]);\nconst EMPTY_BUFFER = /* @__PURE__ */ new Uint8Array();\n/**\n * HKDF-expand from the spec.\n * @param prk - a pseudorandom key of at least HashLen octets (usually, the output from the extract step)\n * @param info - optional context and application specific information (can be a zero-length string)\n * @param length - length of output keying material in octets\n */\nexport function expand(hash, prk, info, length = 32) {\n    assertHash(hash);\n    assertNumber(length);\n    if (length > 255 * hash.outputLen)\n        throw new Error('Length should be <= 255*HashLen');\n    const blocks = Math.ceil(length / hash.outputLen);\n    if (info === undefined)\n        info = EMPTY_BUFFER;\n    // first L(ength) octets of T\n    const okm = new Uint8Array(blocks * hash.outputLen);\n    // Re-use HMAC instance between blocks\n    const HMAC = hmac.create(hash, prk);\n    const HMACTmp = HMAC._cloneInto();\n    const T = new Uint8Array(HMAC.outputLen);\n    for (let counter = 0; counter < blocks; counter++) {\n        HKDF_COUNTER[0] = counter + 1;\n        // T(0) = empty string (zero length)\n        // T(N) = HMAC-Hash(PRK, T(N-1) | info | N)\n        HMACTmp.update(counter === 0 ? EMPTY_BUFFER : T)\n            .update(info)\n            .update(HKDF_COUNTER)\n            .digestInto(T);\n        okm.set(T, hash.outputLen * counter);\n        HMAC._cloneInto(HMACTmp);\n    }\n    HMAC.destroy();\n    HMACTmp.destroy();\n    T.fill(0);\n    HKDF_COUNTER.fill(0);\n    return okm.slice(0, length);\n}\n/**\n * HKDF (RFC 5869): extract + expand in one step.\n * @param hash - hash function that would be used (e.g. sha256)\n * @param ikm - input keying material, the initial key\n * @param salt - optional salt value (a non-secret random value)\n * @param info - optional context and application specific information\n * @param length - length of output keying material in octets\n */\nexport const hkdf = (hash, ikm, salt, info, length) => expand(hash, extract(hash, ikm, salt), info, length);\n//# sourceMappingURL=hkdf.js.map","import { exists, output } from './_assert.js';\nimport { Hash, createView, toBytes } from './utils.js';\n// Polyfill for Safari 14\nfunction setBigUint64(view, byteOffset, value, isLE) {\n    if (typeof view.setBigUint64 === 'function')\n        return view.setBigUint64(byteOffset, value, isLE);\n    const _32n = BigInt(32);\n    const _u32_max = BigInt(0xffffffff);\n    const wh = Number((value >> _32n) & _u32_max);\n    const wl = Number(value & _u32_max);\n    const h = isLE ? 4 : 0;\n    const l = isLE ? 0 : 4;\n    view.setUint32(byteOffset + h, wh, isLE);\n    view.setUint32(byteOffset + l, wl, isLE);\n}\n// Base SHA2 class (RFC 6234)\nexport class SHA2 extends Hash {\n    constructor(blockLen, outputLen, padOffset, isLE) {\n        super();\n        this.blockLen = blockLen;\n        this.outputLen = outputLen;\n        this.padOffset = padOffset;\n        this.isLE = isLE;\n        this.finished = false;\n        this.length = 0;\n        this.pos = 0;\n        this.destroyed = false;\n        this.buffer = new Uint8Array(blockLen);\n        this.view = createView(this.buffer);\n    }\n    update(data) {\n        exists(this);\n        const { view, buffer, blockLen } = this;\n        data = toBytes(data);\n        const len = data.length;\n        for (let pos = 0; pos < len;) {\n            const take = Math.min(blockLen - this.pos, len - pos);\n            // Fast path: we have at least one block in input, cast it to view and process\n            if (take === blockLen) {\n                const dataView = createView(data);\n                for (; blockLen <= len - pos; pos += blockLen)\n                    this.process(dataView, pos);\n                continue;\n            }\n            buffer.set(data.subarray(pos, pos + take), this.pos);\n            this.pos += take;\n            pos += take;\n            if (this.pos === blockLen) {\n                this.process(view, 0);\n                this.pos = 0;\n            }\n        }\n        this.length += data.length;\n        this.roundClean();\n        return this;\n    }\n    digestInto(out) {\n        exists(this);\n        output(out, this);\n        this.finished = true;\n        // Padding\n        // We can avoid allocation of buffer for padding completely if it\n        // was previously not allocated here. But it won't change performance.\n        const { buffer, view, blockLen, isLE } = this;\n        let { pos } = this;\n        // append the bit '1' to the message\n        buffer[pos++] = 0b10000000;\n        this.buffer.subarray(pos).fill(0);\n        // we have less than padOffset left in buffer, so we cannot put length in current block, need process it and pad again\n        if (this.padOffset > blockLen - pos) {\n            this.process(view, 0);\n            pos = 0;\n        }\n        // Pad until full block byte with zeros\n        for (let i = pos; i < blockLen; i++)\n            buffer[i] = 0;\n        // Note: sha512 requires length to be 128bit integer, but length in JS will overflow before that\n        // You need to write around 2 exabytes (u64_max / 8 / (1024**6)) for this to happen.\n        // So we just write lowest 64 bits of that value.\n        setBigUint64(view, blockLen - 8, BigInt(this.length * 8), isLE);\n        this.process(view, 0);\n        const oview = createView(out);\n        const len = this.outputLen;\n        // NOTE: we do division by 4 later, which should be fused in single op with modulo by JIT\n        if (len % 4)\n            throw new Error('_sha2: outputLen should be aligned to 32bit');\n        const outLen = len / 4;\n        const state = this.get();\n        if (outLen > state.length)\n            throw new Error('_sha2: outputLen bigger than state');\n        for (let i = 0; i < outLen; i++)\n            oview.setUint32(4 * i, state[i], isLE);\n    }\n    digest() {\n        const { buffer, outputLen } = this;\n        this.digestInto(buffer);\n        const res = buffer.slice(0, outputLen);\n        this.destroy();\n        return res;\n    }\n    _cloneInto(to) {\n        to || (to = new this.constructor());\n        to.set(...this.get());\n        const { blockLen, buffer, length, finished, destroyed, pos } = this;\n        to.length = length;\n        to.pos = pos;\n        to.finished = finished;\n        to.destroyed = destroyed;\n        if (length % blockLen)\n            to.buffer.set(buffer);\n        return to;\n    }\n}\n//# sourceMappingURL=_sha2.js.map","import { SHA2 } from './_sha2.js';\nimport { rotr, wrapConstructor } from './utils.js';\n// SHA2-256 need to try 2^128 hashes to execute birthday attack.\n// BTC network is doing 2^67 hashes/sec as per early 2023.\n// Choice: a ? b : c\nconst Chi = (a, b, c) => (a & b) ^ (~a & c);\n// Majority function, true if any two inpust is true\nconst Maj = (a, b, c) => (a & b) ^ (a & c) ^ (b & c);\n// Round constants:\n// first 32 bits of the fractional parts of the cube roots of the first 64 primes 2..311)\n// prettier-ignore\nconst SHA256_K = /* @__PURE__ */ new Uint32Array([\n    0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5, 0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5,\n    0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3, 0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174,\n    0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc, 0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da,\n    0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7, 0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967,\n    0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13, 0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85,\n    0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3, 0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070,\n    0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5, 0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3,\n    0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208, 0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2\n]);\n// Initial state (first 32 bits of the fractional parts of the square roots of the first 8 primes 2..19):\n// prettier-ignore\nconst IV = /* @__PURE__ */ new Uint32Array([\n    0x6a09e667, 0xbb67ae85, 0x3c6ef372, 0xa54ff53a, 0x510e527f, 0x9b05688c, 0x1f83d9ab, 0x5be0cd19\n]);\n// Temporary buffer, not used to store anything between runs\n// Named this way because it matches specification.\nconst SHA256_W = /* @__PURE__ */ new Uint32Array(64);\nclass SHA256 extends SHA2 {\n    constructor() {\n        super(64, 32, 8, false);\n        // We cannot use array here since array allows indexing by variable\n        // which means optimizer/compiler cannot use registers.\n        this.A = IV[0] | 0;\n        this.B = IV[1] | 0;\n        this.C = IV[2] | 0;\n        this.D = IV[3] | 0;\n        this.E = IV[4] | 0;\n        this.F = IV[5] | 0;\n        this.G = IV[6] | 0;\n        this.H = IV[7] | 0;\n    }\n    get() {\n        const { A, B, C, D, E, F, G, H } = this;\n        return [A, B, C, D, E, F, G, H];\n    }\n    // prettier-ignore\n    set(A, B, C, D, E, F, G, H) {\n        this.A = A | 0;\n        this.B = B | 0;\n        this.C = C | 0;\n        this.D = D | 0;\n        this.E = E | 0;\n        this.F = F | 0;\n        this.G = G | 0;\n        this.H = H | 0;\n    }\n    process(view, offset) {\n        // Extend the first 16 words into the remaining 48 words w[16..63] of the message schedule array\n        for (let i = 0; i < 16; i++, offset += 4)\n            SHA256_W[i] = view.getUint32(offset, false);\n        for (let i = 16; i < 64; i++) {\n            const W15 = SHA256_W[i - 15];\n            const W2 = SHA256_W[i - 2];\n            const s0 = rotr(W15, 7) ^ rotr(W15, 18) ^ (W15 >>> 3);\n            const s1 = rotr(W2, 17) ^ rotr(W2, 19) ^ (W2 >>> 10);\n            SHA256_W[i] = (s1 + SHA256_W[i - 7] + s0 + SHA256_W[i - 16]) | 0;\n        }\n        // Compression function main loop, 64 rounds\n        let { A, B, C, D, E, F, G, H } = this;\n        for (let i = 0; i < 64; i++) {\n            const sigma1 = rotr(E, 6) ^ rotr(E, 11) ^ rotr(E, 25);\n            const T1 = (H + sigma1 + Chi(E, F, G) + SHA256_K[i] + SHA256_W[i]) | 0;\n            const sigma0 = rotr(A, 2) ^ rotr(A, 13) ^ rotr(A, 22);\n            const T2 = (sigma0 + Maj(A, B, C)) | 0;\n            H = G;\n            G = F;\n            F = E;\n            E = (D + T1) | 0;\n            D = C;\n            C = B;\n            B = A;\n            A = (T1 + T2) | 0;\n        }\n        // Add the compressed chunk to the current hash value\n        A = (A + this.A) | 0;\n        B = (B + this.B) | 0;\n        C = (C + this.C) | 0;\n        D = (D + this.D) | 0;\n        E = (E + this.E) | 0;\n        F = (F + this.F) | 0;\n        G = (G + this.G) | 0;\n        H = (H + this.H) | 0;\n        this.set(A, B, C, D, E, F, G, H);\n    }\n    roundClean() {\n        SHA256_W.fill(0);\n    }\n    destroy() {\n        this.set(0, 0, 0, 0, 0, 0, 0, 0);\n        this.buffer.fill(0);\n    }\n}\n// Constants from https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.180-4.pdf\nclass SHA224 extends SHA256 {\n    constructor() {\n        super();\n        this.A = 0xc1059ed8 | 0;\n        this.B = 0x367cd507 | 0;\n        this.C = 0x3070dd17 | 0;\n        this.D = 0xf70e5939 | 0;\n        this.E = 0xffc00b31 | 0;\n        this.F = 0x68581511 | 0;\n        this.G = 0x64f98fa7 | 0;\n        this.H = 0xbefa4fa4 | 0;\n        this.outputLen = 28;\n    }\n}\n/**\n * SHA2-256 hash function\n * @param message - data that would be hashed\n */\nexport const sha256 = /* @__PURE__ */ wrapConstructor(() => new SHA256());\nexport const sha224 = /* @__PURE__ */ wrapConstructor(() => new SHA224());\n//# sourceMappingURL=sha256.js.map","import { chacha20poly1305 } from '@noble/ciphers/chacha';\nimport { x25519 } from '@noble/curves/ed25519';\nimport { extract, expand } from '@noble/hashes/hkdf';\nimport { sha256 } from '@noble/hashes/sha256';\nexport const pureJsCrypto = {\n    hashSHA256(data) {\n        return sha256(data);\n    },\n    getHKDF(ck, ikm) {\n        const prk = extract(sha256, ikm, ck);\n        const okmU8Array = expand(sha256, prk, undefined, 96);\n        const okm = okmU8Array;\n        const k1 = okm.subarray(0, 32);\n        const k2 = okm.subarray(32, 64);\n        const k3 = okm.subarray(64, 96);\n        return [k1, k2, k3];\n    },\n    generateX25519KeyPair() {\n        const secretKey = x25519.utils.randomPrivateKey();\n        const publicKey = x25519.getPublicKey(secretKey);\n        return {\n            publicKey,\n            privateKey: secretKey\n        };\n    },\n    generateX25519KeyPairFromSeed(seed) {\n        const publicKey = x25519.getPublicKey(seed);\n        return {\n            publicKey,\n            privateKey: seed\n        };\n    },\n    generateX25519SharedKey(privateKey, publicKey) {\n        return x25519.getSharedSecret(privateKey, publicKey);\n    },\n    chaCha20Poly1305Encrypt(plaintext, nonce, ad, k) {\n        return chacha20poly1305(k, nonce, ad).encrypt(plaintext);\n    },\n    chaCha20Poly1305Decrypt(ciphertext, nonce, ad, k, dst) {\n        return chacha20poly1305(k, nonce, ad).decrypt(ciphertext, dst);\n    }\n};\n//# sourceMappingURL=js.js.map","/**\n * To guarantee Uint8Array semantics, convert nodejs Buffers\n * into vanilla Uint8Arrays\n */\nexport function asUint8Array(buf) {\n    if (globalThis.Buffer != null) {\n        return new Uint8Array(buf.buffer, buf.byteOffset, buf.byteLength);\n    }\n    return buf;\n}\n//# sourceMappingURL=as-uint8array.js.map","import { asUint8Array } from './util/as-uint8array.js';\n/**\n * Returns a `Uint8Array` of the requested size. Referenced memory will\n * be initialized to 0.\n */\nexport function alloc(size = 0) {\n    if (globalThis.Buffer?.alloc != null) {\n        return asUint8Array(globalThis.Buffer.alloc(size));\n    }\n    return new Uint8Array(size);\n}\n/**\n * Where possible returns a Uint8Array of the requested size that references\n * uninitialized memory. Only use if you are certain you will immediately\n * overwrite every value in the returned `Uint8Array`.\n */\nexport function allocUnsafe(size = 0) {\n    if (globalThis.Buffer?.allocUnsafe != null) {\n        return asUint8Array(globalThis.Buffer.allocUnsafe(size));\n    }\n    return new Uint8Array(size);\n}\n//# sourceMappingURL=alloc.js.map","import { allocUnsafe } from './alloc.js';\nimport { asUint8Array } from './util/as-uint8array.js';\n/**\n * Returns a new Uint8Array created by concatenating the passed ArrayLikes\n */\nexport function concat(arrays, length) {\n    if (length == null) {\n        length = arrays.reduce((acc, curr) => acc + curr.length, 0);\n    }\n    const output = allocUnsafe(length);\n    let offset = 0;\n    for (const arr of arrays) {\n        output.set(arr, offset);\n        offset += arr.length;\n    }\n    return asUint8Array(output);\n}\n//# sourceMappingURL=concat.js.map","import { concat as uint8ArrayConcat } from 'uint8arrays/concat';\nconst allocUnsafe = (len) => {\n    if (globalThis.Buffer) {\n        return globalThis.Buffer.allocUnsafe(len);\n    }\n    return new Uint8Array(len);\n};\nexport const uint16BEEncode = (value) => {\n    const target = allocUnsafe(2);\n    new DataView(target.buffer, target.byteOffset, target.byteLength).setUint16(0, value, false);\n    return target;\n};\nuint16BEEncode.bytes = 2;\nexport const uint16BEDecode = (data) => {\n    if (data.length < 2)\n        throw RangeError('Could not decode int16BE');\n    if (data instanceof Uint8Array) {\n        return new DataView(data.buffer, data.byteOffset, data.byteLength).getUint16(0, false);\n    }\n    return data.getUint16(0);\n};\nuint16BEDecode.bytes = 2;\n// Note: IK and XX encoder usage is opposite (XX uses in stages encode0 where IK uses encode1)\nexport function encode0(message) {\n    return uint8ArrayConcat([message.ne, message.ciphertext], message.ne.length + message.ciphertext.length);\n}\nexport function encode1(message) {\n    return uint8ArrayConcat([message.ne, message.ns, message.ciphertext], message.ne.length + message.ns.length + message.ciphertext.length);\n}\nexport function encode2(message) {\n    return uint8ArrayConcat([message.ns, message.ciphertext], message.ns.length + message.ciphertext.length);\n}\nexport function decode0(input) {\n    if (input.length < 32) {\n        throw new Error('Cannot decode stage 0 MessageBuffer: length less than 32 bytes.');\n    }\n    return {\n        ne: input.subarray(0, 32),\n        ciphertext: input.subarray(32, input.length),\n        ns: new Uint8Array(0)\n    };\n}\nexport function decode1(input) {\n    if (input.length < 80) {\n        throw new Error('Cannot decode stage 1 MessageBuffer: length less than 80 bytes.');\n    }\n    return {\n        ne: input.subarray(0, 32),\n        ns: input.subarray(32, 80),\n        ciphertext: input.subarray(80, input.length)\n    };\n}\nexport function decode2(input) {\n    if (input.length < 48) {\n        throw new Error('Cannot decode stage 2 MessageBuffer: length less than 48 bytes.');\n    }\n    return {\n        ne: new Uint8Array(0),\n        ns: input.subarray(0, 48),\n        ciphertext: input.subarray(48, input.length)\n    };\n}\n//# sourceMappingURL=encoder.js.map","// base-x encoding / decoding\n// Copyright (c) 2018 base-x contributors\n// Copyright (c) 2014-2018 The Bitcoin Core developers (base58.cpp)\n// Distributed under the MIT software license, see the accompanying\n// file LICENSE or http://www.opensource.org/licenses/mit-license.php.\nfunction base (ALPHABET, name) {\n  if (ALPHABET.length >= 255) { throw new TypeError('Alphabet too long') }\n  var BASE_MAP = new Uint8Array(256);\n  for (var j = 0; j < BASE_MAP.length; j++) {\n    BASE_MAP[j] = 255;\n  }\n  for (var i = 0; i < ALPHABET.length; i++) {\n    var x = ALPHABET.charAt(i);\n    var xc = x.charCodeAt(0);\n    if (BASE_MAP[xc] !== 255) { throw new TypeError(x + ' is ambiguous') }\n    BASE_MAP[xc] = i;\n  }\n  var BASE = ALPHABET.length;\n  var LEADER = ALPHABET.charAt(0);\n  var FACTOR = Math.log(BASE) / Math.log(256); // log(BASE) / log(256), rounded up\n  var iFACTOR = Math.log(256) / Math.log(BASE); // log(256) / log(BASE), rounded up\n  function encode (source) {\n    if (source instanceof Uint8Array) ; else if (ArrayBuffer.isView(source)) {\n      source = new Uint8Array(source.buffer, source.byteOffset, source.byteLength);\n    } else if (Array.isArray(source)) {\n      source = Uint8Array.from(source);\n    }\n    if (!(source instanceof Uint8Array)) { throw new TypeError('Expected Uint8Array') }\n    if (source.length === 0) { return '' }\n        // Skip & count leading zeroes.\n    var zeroes = 0;\n    var length = 0;\n    var pbegin = 0;\n    var pend = source.length;\n    while (pbegin !== pend && source[pbegin] === 0) {\n      pbegin++;\n      zeroes++;\n    }\n        // Allocate enough space in big-endian base58 representation.\n    var size = ((pend - pbegin) * iFACTOR + 1) >>> 0;\n    var b58 = new Uint8Array(size);\n        // Process the bytes.\n    while (pbegin !== pend) {\n      var carry = source[pbegin];\n            // Apply \"b58 = b58 * 256 + ch\".\n      var i = 0;\n      for (var it1 = size - 1; (carry !== 0 || i < length) && (it1 !== -1); it1--, i++) {\n        carry += (256 * b58[it1]) >>> 0;\n        b58[it1] = (carry % BASE) >>> 0;\n        carry = (carry / BASE) >>> 0;\n      }\n      if (carry !== 0) { throw new Error('Non-zero carry') }\n      length = i;\n      pbegin++;\n    }\n        // Skip leading zeroes in base58 result.\n    var it2 = size - length;\n    while (it2 !== size && b58[it2] === 0) {\n      it2++;\n    }\n        // Translate the result into a string.\n    var str = LEADER.repeat(zeroes);\n    for (; it2 < size; ++it2) { str += ALPHABET.charAt(b58[it2]); }\n    return str\n  }\n  function decodeUnsafe (source) {\n    if (typeof source !== 'string') { throw new TypeError('Expected String') }\n    if (source.length === 0) { return new Uint8Array() }\n    var psz = 0;\n        // Skip leading spaces.\n    if (source[psz] === ' ') { return }\n        // Skip and count leading '1's.\n    var zeroes = 0;\n    var length = 0;\n    while (source[psz] === LEADER) {\n      zeroes++;\n      psz++;\n    }\n        // Allocate enough space in big-endian base256 representation.\n    var size = (((source.length - psz) * FACTOR) + 1) >>> 0; // log(58) / log(256), rounded up.\n    var b256 = new Uint8Array(size);\n        // Process the characters.\n    while (source[psz]) {\n            // Decode character\n      var carry = BASE_MAP[source.charCodeAt(psz)];\n            // Invalid character\n      if (carry === 255) { return }\n      var i = 0;\n      for (var it3 = size - 1; (carry !== 0 || i < length) && (it3 !== -1); it3--, i++) {\n        carry += (BASE * b256[it3]) >>> 0;\n        b256[it3] = (carry % 256) >>> 0;\n        carry = (carry / 256) >>> 0;\n      }\n      if (carry !== 0) { throw new Error('Non-zero carry') }\n      length = i;\n      psz++;\n    }\n        // Skip trailing spaces.\n    if (source[psz] === ' ') { return }\n        // Skip leading zeroes in b256.\n    var it4 = size - length;\n    while (it4 !== size && b256[it4] === 0) {\n      it4++;\n    }\n    var vch = new Uint8Array(zeroes + (size - it4));\n    var j = zeroes;\n    while (it4 !== size) {\n      vch[j++] = b256[it4++];\n    }\n    return vch\n  }\n  function decode (string) {\n    var buffer = decodeUnsafe(string);\n    if (buffer) { return buffer }\n    throw new Error(`Non-${name} character`)\n  }\n  return {\n    encode: encode,\n    decodeUnsafe: decodeUnsafe,\n    decode: decode\n  }\n}\nvar src = base;\n\nvar _brrp__multiformats_scope_baseX = src;\n\nexport default _brrp__multiformats_scope_baseX;\n","const empty = new Uint8Array(0)\n\n/**\n * @param {Uint8Array} d\n */\nconst toHex = d => d.reduce((hex, byte) => hex + byte.toString(16).padStart(2, '0'), '')\n\n/**\n * @param {string} hex\n */\nconst fromHex = hex => {\n  const hexes = hex.match(/../g)\n  return hexes ? new Uint8Array(hexes.map(b => parseInt(b, 16))) : empty\n}\n\n/**\n * @param {Uint8Array} aa\n * @param {Uint8Array} bb\n */\nconst equals = (aa, bb) => {\n  if (aa === bb) return true\n  if (aa.byteLength !== bb.byteLength) {\n    return false\n  }\n\n  for (let ii = 0; ii < aa.byteLength; ii++) {\n    if (aa[ii] !== bb[ii]) {\n      return false\n    }\n  }\n\n  return true\n}\n\n/**\n * @param {ArrayBufferView|ArrayBuffer|Uint8Array} o\n * @returns {Uint8Array}\n */\nconst coerce = o => {\n  if (o instanceof Uint8Array && o.constructor.name === 'Uint8Array') return o\n  if (o instanceof ArrayBuffer) return new Uint8Array(o)\n  if (ArrayBuffer.isView(o)) {\n    return new Uint8Array(o.buffer, o.byteOffset, o.byteLength)\n  }\n  throw new Error('Unknown type, must be binary type')\n}\n\n/**\n * @param {any} o\n * @returns {o is ArrayBuffer|ArrayBufferView}\n */\nconst isBinary = o =>\n  o instanceof ArrayBuffer || ArrayBuffer.isView(o)\n\n/**\n * @param {string} str\n * @returns {Uint8Array}\n */\nconst fromString = str => (new TextEncoder()).encode(str)\n\n/**\n * @param {Uint8Array} b\n * @returns {string}\n */\nconst toString = b => (new TextDecoder()).decode(b)\n\nexport { equals, coerce, isBinary, fromHex, toHex, fromString, toString, empty }\n","import basex from '../../vendor/base-x.js'\nimport { coerce } from '../bytes.js'\n// Linter can't see that API is used in types.\n// eslint-disable-next-line\nimport * as API from './interface.js'\n\n/**\n * Class represents both BaseEncoder and MultibaseEncoder meaning it\n * can be used to encode to multibase or base encode without multibase\n * prefix.\n *\n * @class\n * @template {string} Base\n * @template {string} Prefix\n * @implements {API.MultibaseEncoder<Prefix>}\n * @implements {API.BaseEncoder}\n */\nclass Encoder {\n  /**\n   * @param {Base} name\n   * @param {Prefix} prefix\n   * @param {(bytes:Uint8Array) => string} baseEncode\n   */\n  constructor (name, prefix, baseEncode) {\n    this.name = name\n    this.prefix = prefix\n    this.baseEncode = baseEncode\n  }\n\n  /**\n   * @param {Uint8Array} bytes\n   * @returns {API.Multibase<Prefix>}\n   */\n  encode (bytes) {\n    if (bytes instanceof Uint8Array) {\n      return `${this.prefix}${this.baseEncode(bytes)}`\n    } else {\n      throw Error('Unknown type, must be binary type')\n    }\n  }\n}\n\n/**\n * @template {string} Prefix\n */\n/**\n * Class represents both BaseDecoder and MultibaseDecoder so it could be used\n * to decode multibases (with matching prefix) or just base decode strings\n * with corresponding base encoding.\n *\n * @class\n * @template {string} Base\n * @template {string} Prefix\n * @implements {API.MultibaseDecoder<Prefix>}\n * @implements {API.UnibaseDecoder<Prefix>}\n * @implements {API.BaseDecoder}\n */\nclass Decoder {\n  /**\n   * @param {Base} name\n   * @param {Prefix} prefix\n   * @param {(text:string) => Uint8Array} baseDecode\n   */\n  constructor (name, prefix, baseDecode) {\n    this.name = name\n    this.prefix = prefix\n    /* c8 ignore next 3 */\n    if (prefix.codePointAt(0) === undefined) {\n      throw new Error('Invalid prefix character')\n    }\n    /** @private */\n    this.prefixCodePoint = /** @type {number} */ (prefix.codePointAt(0))\n    this.baseDecode = baseDecode\n  }\n\n  /**\n   * @param {string} text\n   */\n  decode (text) {\n    if (typeof text === 'string') {\n      if (text.codePointAt(0) !== this.prefixCodePoint) {\n        throw Error(`Unable to decode multibase string ${JSON.stringify(text)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`)\n      }\n      return this.baseDecode(text.slice(this.prefix.length))\n    } else {\n      throw Error('Can only multibase decode strings')\n    }\n  }\n\n  /**\n   * @template {string} OtherPrefix\n   * @param {API.UnibaseDecoder<OtherPrefix>|ComposedDecoder<OtherPrefix>} decoder\n   * @returns {ComposedDecoder<Prefix|OtherPrefix>}\n   */\n  or (decoder) {\n    return or(this, decoder)\n  }\n}\n\n/**\n * @template {string} Prefix\n * @typedef {Record<Prefix, API.UnibaseDecoder<Prefix>>} Decoders\n */\n\n/**\n * @template {string} Prefix\n * @implements {API.MultibaseDecoder<Prefix>}\n * @implements {API.CombobaseDecoder<Prefix>}\n */\nclass ComposedDecoder {\n  /**\n   * @param {Decoders<Prefix>} decoders\n   */\n  constructor (decoders) {\n    this.decoders = decoders\n  }\n\n  /**\n   * @template {string} OtherPrefix\n   * @param {API.UnibaseDecoder<OtherPrefix>|ComposedDecoder<OtherPrefix>} decoder\n   * @returns {ComposedDecoder<Prefix|OtherPrefix>}\n   */\n  or (decoder) {\n    return or(this, decoder)\n  }\n\n  /**\n   * @param {string} input\n   * @returns {Uint8Array}\n   */\n  decode (input) {\n    const prefix = /** @type {Prefix} */ (input[0])\n    const decoder = this.decoders[prefix]\n    if (decoder) {\n      return decoder.decode(input)\n    } else {\n      throw RangeError(`Unable to decode multibase string ${JSON.stringify(input)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)\n    }\n  }\n}\n\n/**\n * @template {string} L\n * @template {string} R\n * @param {API.UnibaseDecoder<L>|API.CombobaseDecoder<L>} left\n * @param {API.UnibaseDecoder<R>|API.CombobaseDecoder<R>} right\n * @returns {ComposedDecoder<L|R>}\n */\nexport const or = (left, right) => new ComposedDecoder(/** @type {Decoders<L|R>} */({\n  ...(left.decoders || { [/** @type API.UnibaseDecoder<L> */(left).prefix]: left }),\n  ...(right.decoders || { [/** @type API.UnibaseDecoder<R> */(right).prefix]: right })\n}))\n\n/**\n * @class\n * @template {string} Base\n * @template {string} Prefix\n * @implements {API.MultibaseCodec<Prefix>}\n * @implements {API.MultibaseEncoder<Prefix>}\n * @implements {API.MultibaseDecoder<Prefix>}\n * @implements {API.BaseCodec}\n * @implements {API.BaseEncoder}\n * @implements {API.BaseDecoder}\n */\nexport class Codec {\n  /**\n   * @param {Base} name\n   * @param {Prefix} prefix\n   * @param {(bytes:Uint8Array) => string} baseEncode\n   * @param {(text:string) => Uint8Array} baseDecode\n   */\n  constructor (name, prefix, baseEncode, baseDecode) {\n    this.name = name\n    this.prefix = prefix\n    this.baseEncode = baseEncode\n    this.baseDecode = baseDecode\n    this.encoder = new Encoder(name, prefix, baseEncode)\n    this.decoder = new Decoder(name, prefix, baseDecode)\n  }\n\n  /**\n   * @param {Uint8Array} input\n   */\n  encode (input) {\n    return this.encoder.encode(input)\n  }\n\n  /**\n   * @param {string} input\n   */\n  decode (input) {\n    return this.decoder.decode(input)\n  }\n}\n\n/**\n * @template {string} Base\n * @template {string} Prefix\n * @param {object} options\n * @param {Base} options.name\n * @param {Prefix} options.prefix\n * @param {(bytes:Uint8Array) => string} options.encode\n * @param {(input:string) => Uint8Array} options.decode\n * @returns {Codec<Base, Prefix>}\n */\nexport const from = ({ name, prefix, encode, decode }) =>\n  new Codec(name, prefix, encode, decode)\n\n/**\n * @template {string} Base\n * @template {string} Prefix\n * @param {object} options\n * @param {Base} options.name\n * @param {Prefix} options.prefix\n * @param {string} options.alphabet\n * @returns {Codec<Base, Prefix>}\n */\nexport const baseX = ({ prefix, name, alphabet }) => {\n  const { encode, decode } = basex(alphabet, name)\n  return from({\n    prefix,\n    name,\n    encode,\n    /**\n     * @param {string} text\n     */\n    decode: text => coerce(decode(text))\n  })\n}\n\n/**\n * @param {string} string\n * @param {string} alphabet\n * @param {number} bitsPerChar\n * @param {string} name\n * @returns {Uint8Array}\n */\nconst decode = (string, alphabet, bitsPerChar, name) => {\n  // Build the character lookup table:\n  /** @type {Record<string, number>} */\n  const codes = {}\n  for (let i = 0; i < alphabet.length; ++i) {\n    codes[alphabet[i]] = i\n  }\n\n  // Count the padding bytes:\n  let end = string.length\n  while (string[end - 1] === '=') {\n    --end\n  }\n\n  // Allocate the output:\n  const out = new Uint8Array((end * bitsPerChar / 8) | 0)\n\n  // Parse the data:\n  let bits = 0 // Number of bits currently in the buffer\n  let buffer = 0 // Bits waiting to be written out, MSB first\n  let written = 0 // Next byte to write\n  for (let i = 0; i < end; ++i) {\n    // Read one character from the string:\n    const value = codes[string[i]]\n    if (value === undefined) {\n      throw new SyntaxError(`Non-${name} character`)\n    }\n\n    // Append the bits to the buffer:\n    buffer = (buffer << bitsPerChar) | value\n    bits += bitsPerChar\n\n    // Write out some bits if the buffer has a byte's worth:\n    if (bits >= 8) {\n      bits -= 8\n      out[written++] = 0xff & (buffer >> bits)\n    }\n  }\n\n  // Verify that we have received just enough bits:\n  if (bits >= bitsPerChar || 0xff & (buffer << (8 - bits))) {\n    throw new SyntaxError('Unexpected end of data')\n  }\n\n  return out\n}\n\n/**\n * @param {Uint8Array} data\n * @param {string} alphabet\n * @param {number} bitsPerChar\n * @returns {string}\n */\nconst encode = (data, alphabet, bitsPerChar) => {\n  const pad = alphabet[alphabet.length - 1] === '='\n  const mask = (1 << bitsPerChar) - 1\n  let out = ''\n\n  let bits = 0 // Number of bits currently in the buffer\n  let buffer = 0 // Bits waiting to be written out, MSB first\n  for (let i = 0; i < data.length; ++i) {\n    // Slurp data into the buffer:\n    buffer = (buffer << 8) | data[i]\n    bits += 8\n\n    // Write out as much as we can:\n    while (bits > bitsPerChar) {\n      bits -= bitsPerChar\n      out += alphabet[mask & (buffer >> bits)]\n    }\n  }\n\n  // Partial character:\n  if (bits) {\n    out += alphabet[mask & (buffer << (bitsPerChar - bits))]\n  }\n\n  // Add padding characters until we hit a byte boundary:\n  if (pad) {\n    while ((out.length * bitsPerChar) & 7) {\n      out += '='\n    }\n  }\n\n  return out\n}\n\n/**\n * RFC4648 Factory\n *\n * @template {string} Base\n * @template {string} Prefix\n * @param {object} options\n * @param {Base} options.name\n * @param {Prefix} options.prefix\n * @param {string} options.alphabet\n * @param {number} options.bitsPerChar\n */\nexport const rfc4648 = ({ name, prefix, bitsPerChar, alphabet }) => {\n  return from({\n    prefix,\n    name,\n    encode (input) {\n      return encode(input, alphabet, bitsPerChar)\n    },\n    decode (input) {\n      return decode(input, alphabet, bitsPerChar, name)\n    }\n  })\n}\n","import { baseX } from './base.js'\n\nexport const base10 = baseX({\n  prefix: '9',\n  name: 'base10',\n  alphabet: '0123456789'\n})\n","// @ts-check\n\nimport { rfc4648 } from './base.js'\n\nexport const base16 = rfc4648({\n  prefix: 'f',\n  name: 'base16',\n  alphabet: '0123456789abcdef',\n  bitsPerChar: 4\n})\n\nexport const base16upper = rfc4648({\n  prefix: 'F',\n  name: 'base16upper',\n  alphabet: '0123456789ABCDEF',\n  bitsPerChar: 4\n})\n","// @ts-check\n\nimport { rfc4648 } from './base.js'\n\nexport const base2 = rfc4648({\n  prefix: '0',\n  name: 'base2',\n  alphabet: '01',\n  bitsPerChar: 1\n})\n","import { from } from './base.js'\n\nconst alphabet = Array.from('🚀🪐☄🛰🌌🌑🌒🌓🌔🌕🌖🌗🌘🌍🌏🌎🐉☀💻🖥💾💿😂❤😍🤣😊🙏💕😭😘👍😅👏😁🔥🥰💔💖💙😢🤔😆🙄💪😉☺👌🤗💜😔😎😇🌹🤦🎉💞✌✨🤷😱😌🌸🙌😋💗💚😏💛🙂💓🤩😄😀🖤😃💯🙈👇🎶😒🤭❣😜💋👀😪😑💥🙋😞😩😡🤪👊🥳😥🤤👉💃😳✋😚😝😴🌟😬🙃🍀🌷😻😓⭐✅🥺🌈😈🤘💦✔😣🏃💐☹🎊💘😠☝😕🌺🎂🌻😐🖕💝🙊😹🗣💫💀👑🎵🤞😛🔴😤🌼😫⚽🤙☕🏆🤫👈😮🙆🍻🍃🐶💁😲🌿🧡🎁⚡🌞🎈❌✊👋😰🤨😶🤝🚶💰🍓💢🤟🙁🚨💨🤬✈🎀🍺🤓😙💟🌱😖👶🥴▶➡❓💎💸⬇😨🌚🦋😷🕺⚠🙅😟😵👎🤲🤠🤧📌🔵💅🧐🐾🍒😗🤑🌊🤯🐷☎💧😯💆👆🎤🙇🍑❄🌴💣🐸💌📍🥀🤢👅💡💩👐📸👻🤐🤮🎼🥵🚩🍎🍊👼💍📣🥂')\nconst alphabetBytesToChars = /** @type {string[]} */ (alphabet.reduce((p, c, i) => { p[i] = c; return p }, /** @type {string[]} */([])))\nconst alphabetCharsToBytes = /** @type {number[]} */ (alphabet.reduce((p, c, i) => { p[/** @type {number} */ (c.codePointAt(0))] = i; return p }, /** @type {number[]} */([])))\n\n/**\n * @param {Uint8Array} data\n * @returns {string}\n */\nfunction encode (data) {\n  return data.reduce((p, c) => {\n    p += alphabetBytesToChars[c]\n    return p\n  }, '')\n}\n\n/**\n * @param {string} str\n * @returns {Uint8Array}\n */\nfunction decode (str) {\n  const byts = []\n  for (const char of str) {\n    const byt = alphabetCharsToBytes[/** @type {number} */ (char.codePointAt(0))]\n    if (byt === undefined) {\n      throw new Error(`Non-base256emoji character: ${char}`)\n    }\n    byts.push(byt)\n  }\n  return new Uint8Array(byts)\n}\n\nexport const base256emoji = from({\n  prefix: '🚀',\n  name: 'base256emoji',\n  encode,\n  decode\n})\n","import { rfc4648 } from './base.js'\n\nexport const base32 = rfc4648({\n  prefix: 'b',\n  name: 'base32',\n  alphabet: 'abcdefghijklmnopqrstuvwxyz234567',\n  bitsPerChar: 5\n})\n\nexport const base32upper = rfc4648({\n  prefix: 'B',\n  name: 'base32upper',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ234567',\n  bitsPerChar: 5\n})\n\nexport const base32pad = rfc4648({\n  prefix: 'c',\n  name: 'base32pad',\n  alphabet: 'abcdefghijklmnopqrstuvwxyz234567=',\n  bitsPerChar: 5\n})\n\nexport const base32padupper = rfc4648({\n  prefix: 'C',\n  name: 'base32padupper',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=',\n  bitsPerChar: 5\n})\n\nexport const base32hex = rfc4648({\n  prefix: 'v',\n  name: 'base32hex',\n  alphabet: '0123456789abcdefghijklmnopqrstuv',\n  bitsPerChar: 5\n})\n\nexport const base32hexupper = rfc4648({\n  prefix: 'V',\n  name: 'base32hexupper',\n  alphabet: '0123456789ABCDEFGHIJKLMNOPQRSTUV',\n  bitsPerChar: 5\n})\n\nexport const base32hexpad = rfc4648({\n  prefix: 't',\n  name: 'base32hexpad',\n  alphabet: '0123456789abcdefghijklmnopqrstuv=',\n  bitsPerChar: 5\n})\n\nexport const base32hexpadupper = rfc4648({\n  prefix: 'T',\n  name: 'base32hexpadupper',\n  alphabet: '0123456789ABCDEFGHIJKLMNOPQRSTUV=',\n  bitsPerChar: 5\n})\n\nexport const base32z = rfc4648({\n  prefix: 'h',\n  name: 'base32z',\n  alphabet: 'ybndrfg8ejkmcpqxot1uwisza345h769',\n  bitsPerChar: 5\n})\n","import { baseX } from './base.js'\n\nexport const base36 = baseX({\n  prefix: 'k',\n  name: 'base36',\n  alphabet: '0123456789abcdefghijklmnopqrstuvwxyz'\n})\n\nexport const base36upper = baseX({\n  prefix: 'K',\n  name: 'base36upper',\n  alphabet: '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ'\n})\n","import { baseX } from './base.js'\n\nexport const base58btc = baseX({\n  name: 'base58btc',\n  prefix: 'z',\n  alphabet: '123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz'\n})\n\nexport const base58flickr = baseX({\n  name: 'base58flickr',\n  prefix: 'Z',\n  alphabet: '123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ'\n})\n","// @ts-check\n\nimport { rfc4648 } from './base.js'\n\nexport const base64 = rfc4648({\n  prefix: 'm',\n  name: 'base64',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',\n  bitsPerChar: 6\n})\n\nexport const base64pad = rfc4648({\n  prefix: 'M',\n  name: 'base64pad',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=',\n  bitsPerChar: 6\n})\n\nexport const base64url = rfc4648({\n  prefix: 'u',\n  name: 'base64url',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_',\n  bitsPerChar: 6\n})\n\nexport const base64urlpad = rfc4648({\n  prefix: 'U',\n  name: 'base64urlpad',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=',\n  bitsPerChar: 6\n})\n","// @ts-check\n\nimport { rfc4648 } from './base.js'\n\nexport const base8 = rfc4648({\n  prefix: '7',\n  name: 'base8',\n  alphabet: '01234567',\n  bitsPerChar: 3\n})\n","// @ts-check\n\nimport { fromString, toString } from '../bytes.js'\nimport { from } from './base.js'\n\nexport const identity = from({\n  prefix: '\\x00',\n  name: 'identity',\n  encode: (buf) => toString(buf),\n  decode: (str) => fromString(str)\n})\n","// @ts-check\n\n/**\n * @template T\n * @typedef {import('./interface.js').ByteView<T>} ByteView\n */\n\nconst textEncoder = new TextEncoder()\nconst textDecoder = new TextDecoder()\n\nexport const name = 'json'\nexport const code = 0x0200\n\n/**\n * @template T\n * @param {T} node\n * @returns {ByteView<T>}\n */\nexport const encode = (node) => textEncoder.encode(JSON.stringify(node))\n\n/**\n * @template T\n * @param {ByteView<T>} data\n * @returns {T}\n */\nexport const decode = (data) => JSON.parse(textDecoder.decode(data))\n","// @ts-check\n\nimport { coerce } from '../bytes.js'\n\n/**\n * @template T\n * @typedef {import('./interface.js').ByteView<T>} ByteView\n */\n\nexport const name = 'raw'\nexport const code = 0x55\n\n/**\n * @param {Uint8Array} node\n * @returns {ByteView<Uint8Array>}\n */\nexport const encode = (node) => coerce(node)\n\n/**\n * @param {ByteView<Uint8Array>} data\n * @returns {Uint8Array}\n */\nexport const decode = (data) => coerce(data)\n","var encode_1 = encode;\n\nvar MSB = 0x80\n  , REST = 0x7F\n  , MSBALL = ~REST\n  , INT = Math.pow(2, 31);\n\nfunction encode(num, out, offset) {\n  out = out || [];\n  offset = offset || 0;\n  var oldOffset = offset;\n\n  while(num >= INT) {\n    out[offset++] = (num & 0xFF) | MSB;\n    num /= 128;\n  }\n  while(num & MSBALL) {\n    out[offset++] = (num & 0xFF) | MSB;\n    num >>>= 7;\n  }\n  out[offset] = num | 0;\n  \n  encode.bytes = offset - oldOffset + 1;\n  \n  return out\n}\n\nvar decode = read;\n\nvar MSB$1 = 0x80\n  , REST$1 = 0x7F;\n\nfunction read(buf, offset) {\n  var res    = 0\n    , offset = offset || 0\n    , shift  = 0\n    , counter = offset\n    , b\n    , l = buf.length;\n\n  do {\n    if (counter >= l) {\n      read.bytes = 0;\n      throw new RangeError('Could not decode varint')\n    }\n    b = buf[counter++];\n    res += shift < 28\n      ? (b & REST$1) << shift\n      : (b & REST$1) * Math.pow(2, shift);\n    shift += 7;\n  } while (b >= MSB$1)\n\n  read.bytes = counter - offset;\n\n  return res\n}\n\nvar N1 = Math.pow(2,  7);\nvar N2 = Math.pow(2, 14);\nvar N3 = Math.pow(2, 21);\nvar N4 = Math.pow(2, 28);\nvar N5 = Math.pow(2, 35);\nvar N6 = Math.pow(2, 42);\nvar N7 = Math.pow(2, 49);\nvar N8 = Math.pow(2, 56);\nvar N9 = Math.pow(2, 63);\n\nvar length = function (value) {\n  return (\n    value < N1 ? 1\n  : value < N2 ? 2\n  : value < N3 ? 3\n  : value < N4 ? 4\n  : value < N5 ? 5\n  : value < N6 ? 6\n  : value < N7 ? 7\n  : value < N8 ? 8\n  : value < N9 ? 9\n  :              10\n  )\n};\n\nvar varint = {\n    encode: encode_1\n  , decode: decode\n  , encodingLength: length\n};\n\nvar _brrp_varint = varint;\n\nexport default _brrp_varint;\n","import varint from '../vendor/varint.js'\n\n/**\n * @param {Uint8Array} data\n * @param {number} [offset=0]\n * @returns {[number, number]}\n */\nexport const decode = (data, offset = 0) => {\n  const code = varint.decode(data, offset)\n  return [code, varint.decode.bytes]\n}\n\n/**\n * @param {number} int\n * @param {Uint8Array} target\n * @param {number} [offset=0]\n */\nexport const encodeTo = (int, target, offset = 0) => {\n  varint.encode(int, target, offset)\n  return target\n}\n\n/**\n * @param {number} int\n * @returns {number}\n */\nexport const encodingLength = (int) => {\n  return varint.encodingLength(int)\n}\n","import { coerce, equals as equalBytes } from '../bytes.js'\nimport * as varint from '../varint.js'\n\n/**\n * Creates a multihash digest.\n *\n * @template {number} Code\n * @param {Code} code\n * @param {Uint8Array} digest\n */\nexport const create = (code, digest) => {\n  const size = digest.byteLength\n  const sizeOffset = varint.encodingLength(code)\n  const digestOffset = sizeOffset + varint.encodingLength(size)\n\n  const bytes = new Uint8Array(digestOffset + size)\n  varint.encodeTo(code, bytes, 0)\n  varint.encodeTo(size, bytes, sizeOffset)\n  bytes.set(digest, digestOffset)\n\n  return new Digest(code, size, digest, bytes)\n}\n\n/**\n * Turns bytes representation of multihash digest into an instance.\n *\n * @param {Uint8Array} multihash\n * @returns {MultihashDigest}\n */\nexport const decode = (multihash) => {\n  const bytes = coerce(multihash)\n  const [code, sizeOffset] = varint.decode(bytes)\n  const [size, digestOffset] = varint.decode(bytes.subarray(sizeOffset))\n  const digest = bytes.subarray(sizeOffset + digestOffset)\n\n  if (digest.byteLength !== size) {\n    throw new Error('Incorrect length')\n  }\n\n  return new Digest(code, size, digest, bytes)\n}\n\n/**\n * @param {MultihashDigest} a\n * @param {unknown} b\n * @returns {b is MultihashDigest}\n */\nexport const equals = (a, b) => {\n  if (a === b) {\n    return true\n  } else {\n    const data = /** @type {{code?:unknown, size?:unknown, bytes?:unknown}} */(b)\n\n    return (\n      a.code === data.code &&\n      a.size === data.size &&\n      data.bytes instanceof Uint8Array &&\n      equalBytes(a.bytes, data.bytes)\n    )\n  }\n}\n\n/**\n * @typedef {import('./interface.js').MultihashDigest} MultihashDigest\n */\n\n/**\n * Represents a multihash digest which carries information about the\n * hashing algorithm and an actual hash digest.\n *\n * @template {number} Code\n * @template {number} Size\n * @class\n * @implements {MultihashDigest}\n */\nexport class Digest {\n  /**\n   * Creates a multihash digest.\n   *\n   * @param {Code} code\n   * @param {Size} size\n   * @param {Uint8Array} digest\n   * @param {Uint8Array} bytes\n   */\n  constructor (code, size, digest, bytes) {\n    this.code = code\n    this.size = size\n    this.digest = digest\n    this.bytes = bytes\n  }\n}\n","import { coerce } from '../bytes.js'\nimport * as Digest from './digest.js'\n\nconst code = 0x0\nconst name = 'identity'\n\n/** @type {(input:Uint8Array) => Uint8Array} */\nconst encode = coerce\n\n/**\n * @param {Uint8Array} input\n * @returns {Digest.Digest<typeof code, number>}\n */\nconst digest = (input) => Digest.create(code, encode(input))\n\nexport const identity = { code, name, encode, digest }\n","import * as Digest from './digest.js'\n\n/**\n * @template {string} Name\n * @template {number} Code\n * @param {object} options\n * @param {Name} options.name\n * @param {Code} options.code\n * @param {(input: Uint8Array) => Await<Uint8Array>} options.encode\n */\nexport const from = ({ name, code, encode }) => new Hasher(name, code, encode)\n\n/**\n * Hasher represents a hashing algorithm implementation that produces as\n * `MultihashDigest`.\n *\n * @template {string} Name\n * @template {number} Code\n * @class\n * @implements {MultihashHasher<Code>}\n */\nexport class Hasher {\n  /**\n   *\n   * @param {Name} name\n   * @param {Code} code\n   * @param {(input: Uint8Array) => Await<Uint8Array>} encode\n   */\n  constructor (name, code, encode) {\n    this.name = name\n    this.code = code\n    this.encode = encode\n  }\n\n  /**\n   * @param {Uint8Array} input\n   * @returns {Await<Digest.Digest<Code, number>>}\n   */\n  digest (input) {\n    if (input instanceof Uint8Array) {\n      const result = this.encode(input)\n      return result instanceof Uint8Array\n        ? Digest.create(this.code, result)\n        /* c8 ignore next 1 */\n        : result.then(digest => Digest.create(this.code, digest))\n    } else {\n      throw Error('Unknown type, must be binary type')\n      /* c8 ignore next 1 */\n    }\n  }\n}\n\n/**\n * @template {number} Alg\n * @typedef {import('./interface.js').MultihashHasher} MultihashHasher\n */\n\n/**\n * @template T\n * @typedef {Promise<T>|T} Await\n */\n","/* global crypto */\n\nimport { from } from './hasher.js'\n\n/**\n * @param {AlgorithmIdentifier} name\n */\nconst sha = name =>\n  /**\n   * @param {Uint8Array} data\n   */\n  async data => new Uint8Array(await crypto.subtle.digest(name, data))\n\nexport const sha256 = from({\n  name: 'sha2-256',\n  code: 0x12,\n  encode: sha('SHA-256')\n})\n\nexport const sha512 = from({\n  name: 'sha2-512',\n  code: 0x13,\n  encode: sha('SHA-512')\n})\n","import { base32 } from './bases/base32.js'\nimport { base58btc } from './bases/base58.js'\nimport { coerce } from './bytes.js'\nimport * as Digest from './hashes/digest.js'\n// Linter can see that API is used in types.\n// eslint-disable-next-line\nimport * as API from \"./link/interface.js\"\nimport * as varint from './varint.js'\n\n// This way TS will also expose all the types from module\nexport * from './link/interface.js'\n\n/**\n * @template {API.Link<unknown, number, number, API.Version>} T\n * @template {string} Prefix\n * @param {T} link\n * @param {API.MultibaseEncoder<Prefix>} [base]\n * @returns {API.ToString<T, Prefix>}\n */\nexport const format = (link, base) => {\n  const { bytes, version } = link\n  switch (version) {\n    case 0:\n      return toStringV0(\n        bytes,\n        baseCache(link),\n        /** @type {API.MultibaseEncoder<\"z\">} */ (base) || base58btc.encoder\n      )\n    default:\n      return toStringV1(\n        bytes,\n        baseCache(link),\n        /** @type {API.MultibaseEncoder<Prefix>} */ (base || base32.encoder)\n      )\n  }\n}\n\n/**\n * @template {API.UnknownLink} Link\n * @param {Link} link\n * @returns {API.LinkJSON<Link>}\n */\nexport const toJSON = (link) => ({\n  '/': format(link)\n})\n\n/**\n * @template {API.UnknownLink} Link\n * @param {API.LinkJSON<Link>} json\n */\nexport const fromJSON = (json) =>\n  CID.parse(json['/'])\n\n/** @type {WeakMap<API.UnknownLink, Map<string, string>>} */\nconst cache = new WeakMap()\n\n/**\n * @param {API.UnknownLink} cid\n * @returns {Map<string, string>}\n */\nconst baseCache = cid => {\n  const baseCache = cache.get(cid)\n  if (baseCache == null) {\n    const baseCache = new Map()\n    cache.set(cid, baseCache)\n    return baseCache\n  }\n  return baseCache\n}\n\n/**\n * @template {unknown} [Data=unknown]\n * @template {number} [Format=number]\n * @template {number} [Alg=number]\n * @template {API.Version} [Version=API.Version]\n * @implements {API.Link<Data, Format, Alg, Version>}\n */\n\nexport class CID {\n  /**\n   * @param {Version} version - Version of the CID\n   * @param {Format} code - Code of the codec content is encoded in, see https://github.com/multiformats/multicodec/blob/master/table.csv\n   * @param {API.MultihashDigest<Alg>} multihash - (Multi)hash of the of the content.\n   * @param {Uint8Array} bytes\n   */\n  constructor (version, code, multihash, bytes) {\n    /** @readonly */\n    this.code = code\n    /** @readonly */\n    this.version = version\n    /** @readonly */\n    this.multihash = multihash\n    /** @readonly */\n    this.bytes = bytes\n\n    // flag to serializers that this is a CID and\n    // should be treated specially\n    /** @readonly */\n    this['/'] = bytes\n  }\n\n  /**\n   * Signalling `cid.asCID === cid` has been replaced with `cid['/'] === cid.bytes`\n   * please either use `CID.asCID(cid)` or switch to new signalling mechanism\n   *\n   * @deprecated\n   */\n  get asCID () {\n    return this\n  }\n\n  // ArrayBufferView\n  get byteOffset () {\n    return this.bytes.byteOffset\n  }\n\n  // ArrayBufferView\n  get byteLength () {\n    return this.bytes.byteLength\n  }\n\n  /**\n   * @returns {CID<Data, API.DAG_PB, API.SHA_256, 0>}\n   */\n  toV0 () {\n    switch (this.version) {\n      case 0: {\n        return /** @type {CID<Data, API.DAG_PB, API.SHA_256, 0>} */ (this)\n      }\n      case 1: {\n        const { code, multihash } = this\n\n        if (code !== DAG_PB_CODE) {\n          throw new Error('Cannot convert a non dag-pb CID to CIDv0')\n        }\n\n        // sha2-256\n        if (multihash.code !== SHA_256_CODE) {\n          throw new Error('Cannot convert non sha2-256 multihash CID to CIDv0')\n        }\n\n        return /** @type {CID<Data, API.DAG_PB, API.SHA_256, 0>} */ (\n          CID.createV0(\n            /** @type {API.MultihashDigest<API.SHA_256>} */ (multihash)\n          )\n        )\n      }\n      default: {\n        throw Error(\n          `Can not convert CID version ${this.version} to version 0. This is a bug please report`\n        )\n      }\n    }\n  }\n\n  /**\n   * @returns {CID<Data, Format, Alg, 1>}\n   */\n  toV1 () {\n    switch (this.version) {\n      case 0: {\n        const { code, digest } = this.multihash\n        const multihash = Digest.create(code, digest)\n        return /** @type {CID<Data, Format, Alg, 1>} */ (\n          CID.createV1(this.code, multihash)\n        )\n      }\n      case 1: {\n        return /** @type {CID<Data, Format, Alg, 1>} */ (this)\n      }\n      default: {\n        throw Error(\n          `Can not convert CID version ${this.version} to version 1. This is a bug please report`\n        )\n      }\n    }\n  }\n\n  /**\n   * @param {unknown} other\n   * @returns {other is CID<Data, Format, Alg, Version>}\n   */\n  equals (other) {\n    return CID.equals(this, other)\n  }\n\n  /**\n   * @template {unknown} Data\n   * @template {number} Format\n   * @template {number} Alg\n   * @template {API.Version} Version\n   * @param {API.Link<Data, Format, Alg, Version>} self\n   * @param {unknown} other\n   * @returns {other is CID}\n   */\n  static equals (self, other) {\n    const unknown =\n      /** @type {{code?:unknown, version?:unknown, multihash?:unknown}} */ (\n        other\n      )\n    return (\n      unknown &&\n      self.code === unknown.code &&\n      self.version === unknown.version &&\n      Digest.equals(self.multihash, unknown.multihash)\n    )\n  }\n\n  /**\n   * @param {API.MultibaseEncoder<string>} [base]\n   * @returns {string}\n   */\n  toString (base) {\n    return format(this, base)\n  }\n\n  /**\n   * @returns {API.LinkJSON<this>}\n   */\n  toJSON () {\n    return { '/': format(this) }\n  }\n\n  link () {\n    return this\n  }\n\n  get [Symbol.toStringTag] () {\n    return 'CID'\n  }\n\n  // Legacy\n\n  [Symbol.for('nodejs.util.inspect.custom')] () {\n    return `CID(${this.toString()})`\n  }\n\n  /**\n   * Takes any input `value` and returns a `CID` instance if it was\n   * a `CID` otherwise returns `null`. If `value` is instanceof `CID`\n   * it will return value back. If `value` is not instance of this CID\n   * class, but is compatible CID it will return new instance of this\n   * `CID` class. Otherwise returns null.\n   *\n   * This allows two different incompatible versions of CID library to\n   * co-exist and interop as long as binary interface is compatible.\n   *\n   * @template {unknown} Data\n   * @template {number} Format\n   * @template {number} Alg\n   * @template {API.Version} Version\n   * @template {unknown} U\n   * @param {API.Link<Data, Format, Alg, Version>|U} input\n   * @returns {CID<Data, Format, Alg, Version>|null}\n   */\n  static asCID (input) {\n    if (input == null) {\n      return null\n    }\n\n    const value = /** @type {any} */ (input)\n    if (value instanceof CID) {\n      // If value is instance of CID then we're all set.\n      return value\n    } else if ((value['/'] != null && value['/'] === value.bytes) || value.asCID === value) {\n      // If value isn't instance of this CID class but `this.asCID === this` or\n      // `value['/'] === value.bytes` is true it is CID instance coming from a\n      // different implementation (diff version or duplicate). In that case we\n      // rebase it to this `CID` implementation so caller is guaranteed to get\n      // instance with expected API.\n      const { version, code, multihash, bytes } = value\n      return new CID(\n        version,\n        code,\n        /** @type {API.MultihashDigest<Alg>} */ (multihash),\n        bytes || encodeCID(version, code, multihash.bytes)\n      )\n    } else if (value[cidSymbol] === true) {\n      // If value is a CID from older implementation that used to be tagged via\n      // symbol we still rebase it to the this `CID` implementation by\n      // delegating that to a constructor.\n      const { version, multihash, code } = value\n      const digest =\n        /** @type {API.MultihashDigest<Alg>} */\n        (Digest.decode(multihash))\n      return CID.create(version, code, digest)\n    } else {\n      // Otherwise value is not a CID (or an incompatible version of it) in\n      // which case we return `null`.\n      return null\n    }\n  }\n\n  /**\n   *\n   * @template {unknown} Data\n   * @template {number} Format\n   * @template {number} Alg\n   * @template {API.Version} Version\n   * @param {Version} version - Version of the CID\n   * @param {Format} code - Code of the codec content is encoded in, see https://github.com/multiformats/multicodec/blob/master/table.csv\n   * @param {API.MultihashDigest<Alg>} digest - (Multi)hash of the of the content.\n   * @returns {CID<Data, Format, Alg, Version>}\n   */\n  static create (version, code, digest) {\n    if (typeof code !== 'number') {\n      throw new Error('String codecs are no longer supported')\n    }\n\n    if (!(digest.bytes instanceof Uint8Array)) {\n      throw new Error('Invalid digest')\n    }\n\n    switch (version) {\n      case 0: {\n        if (code !== DAG_PB_CODE) {\n          throw new Error(\n            `Version 0 CID must use dag-pb (code: ${DAG_PB_CODE}) block encoding`\n          )\n        } else {\n          return new CID(version, code, digest, digest.bytes)\n        }\n      }\n      case 1: {\n        const bytes = encodeCID(version, code, digest.bytes)\n        return new CID(version, code, digest, bytes)\n      }\n      default: {\n        throw new Error('Invalid version')\n      }\n    }\n  }\n\n  /**\n   * Simplified version of `create` for CIDv0.\n   *\n   * @template {unknown} [T=unknown]\n   * @param {API.MultihashDigest<typeof SHA_256_CODE>} digest - Multihash.\n   * @returns {CID<T, typeof DAG_PB_CODE, typeof SHA_256_CODE, 0>}\n   */\n  static createV0 (digest) {\n    return CID.create(0, DAG_PB_CODE, digest)\n  }\n\n  /**\n   * Simplified version of `create` for CIDv1.\n   *\n   * @template {unknown} Data\n   * @template {number} Code\n   * @template {number} Alg\n   * @param {Code} code - Content encoding format code.\n   * @param {API.MultihashDigest<Alg>} digest - Miltihash of the content.\n   * @returns {CID<Data, Code, Alg, 1>}\n   */\n  static createV1 (code, digest) {\n    return CID.create(1, code, digest)\n  }\n\n  /**\n   * Decoded a CID from its binary representation. The byte array must contain\n   * only the CID with no additional bytes.\n   *\n   * An error will be thrown if the bytes provided do not contain a valid\n   * binary representation of a CID.\n   *\n   * @template {unknown} Data\n   * @template {number} Code\n   * @template {number} Alg\n   * @template {API.Version} Ver\n   * @param {API.ByteView<API.Link<Data, Code, Alg, Ver>>} bytes\n   * @returns {CID<Data, Code, Alg, Ver>}\n   */\n  static decode (bytes) {\n    const [cid, remainder] = CID.decodeFirst(bytes)\n    if (remainder.length) {\n      throw new Error('Incorrect length')\n    }\n    return cid\n  }\n\n  /**\n   * Decoded a CID from its binary representation at the beginning of a byte\n   * array.\n   *\n   * Returns an array with the first element containing the CID and the second\n   * element containing the remainder of the original byte array. The remainder\n   * will be a zero-length byte array if the provided bytes only contained a\n   * binary CID representation.\n   *\n   * @template {unknown} T\n   * @template {number} C\n   * @template {number} A\n   * @template {API.Version} V\n   * @param {API.ByteView<API.Link<T, C, A, V>>} bytes\n   * @returns {[CID<T, C, A, V>, Uint8Array]}\n   */\n  static decodeFirst (bytes) {\n    const specs = CID.inspectBytes(bytes)\n    const prefixSize = specs.size - specs.multihashSize\n    const multihashBytes = coerce(\n      bytes.subarray(prefixSize, prefixSize + specs.multihashSize)\n    )\n    if (multihashBytes.byteLength !== specs.multihashSize) {\n      throw new Error('Incorrect length')\n    }\n    const digestBytes = multihashBytes.subarray(\n      specs.multihashSize - specs.digestSize\n    )\n    const digest = new Digest.Digest(\n      specs.multihashCode,\n      specs.digestSize,\n      digestBytes,\n      multihashBytes\n    )\n    const cid =\n      specs.version === 0\n        ? CID.createV0(/** @type {API.MultihashDigest<API.SHA_256>} */ (digest))\n        : CID.createV1(specs.codec, digest)\n    return [/** @type {CID<T, C, A, V>} */(cid), bytes.subarray(specs.size)]\n  }\n\n  /**\n   * Inspect the initial bytes of a CID to determine its properties.\n   *\n   * Involves decoding up to 4 varints. Typically this will require only 4 to 6\n   * bytes but for larger multicodec code values and larger multihash digest\n   * lengths these varints can be quite large. It is recommended that at least\n   * 10 bytes be made available in the `initialBytes` argument for a complete\n   * inspection.\n   *\n   * @template {unknown} T\n   * @template {number} C\n   * @template {number} A\n   * @template {API.Version} V\n   * @param {API.ByteView<API.Link<T, C, A, V>>} initialBytes\n   * @returns {{ version:V, codec:C, multihashCode:A, digestSize:number, multihashSize:number, size:number }}\n   */\n  static inspectBytes (initialBytes) {\n    let offset = 0\n    const next = () => {\n      const [i, length] = varint.decode(initialBytes.subarray(offset))\n      offset += length\n      return i\n    }\n\n    let version = /** @type {V} */ (next())\n    let codec = /** @type {C} */ (DAG_PB_CODE)\n    if (/** @type {number} */(version) === 18) {\n      // CIDv0\n      version = /** @type {V} */ (0)\n      offset = 0\n    } else {\n      codec = /** @type {C} */ (next())\n    }\n\n    if (version !== 0 && version !== 1) {\n      throw new RangeError(`Invalid CID version ${version}`)\n    }\n\n    const prefixSize = offset\n    const multihashCode = /** @type {A} */ (next()) // multihash code\n    const digestSize = next() // multihash length\n    const size = offset + digestSize\n    const multihashSize = size - prefixSize\n\n    return { version, codec, multihashCode, digestSize, multihashSize, size }\n  }\n\n  /**\n   * Takes cid in a string representation and creates an instance. If `base`\n   * decoder is not provided will use a default from the configuration. It will\n   * throw an error if encoding of the CID is not compatible with supplied (or\n   * a default decoder).\n   *\n   * @template {string} Prefix\n   * @template {unknown} Data\n   * @template {number} Code\n   * @template {number} Alg\n   * @template {API.Version} Ver\n   * @param {API.ToString<API.Link<Data, Code, Alg, Ver>, Prefix>} source\n   * @param {API.MultibaseDecoder<Prefix>} [base]\n   * @returns {CID<Data, Code, Alg, Ver>}\n   */\n  static parse (source, base) {\n    const [prefix, bytes] = parseCIDtoBytes(source, base)\n\n    const cid = CID.decode(bytes)\n\n    if (cid.version === 0 && source[0] !== 'Q') {\n      throw Error('Version 0 CID string must not include multibase prefix')\n    }\n\n    // Cache string representation to avoid computing it on `this.toString()`\n    baseCache(cid).set(prefix, source)\n\n    return cid\n  }\n}\n\n/**\n * @template {string} Prefix\n * @template {unknown} Data\n * @template {number} Code\n * @template {number} Alg\n * @template {API.Version} Ver\n * @param {API.ToString<API.Link<Data, Code, Alg, Ver>, Prefix>} source\n * @param {API.MultibaseDecoder<Prefix>} [base]\n * @returns {[Prefix, API.ByteView<API.Link<Data, Code, Alg, Ver>>]}\n */\nconst parseCIDtoBytes = (source, base) => {\n  switch (source[0]) {\n    // CIDv0 is parsed differently\n    case 'Q': {\n      const decoder = base || base58btc\n      return [\n        /** @type {Prefix} */ (base58btc.prefix),\n        decoder.decode(`${base58btc.prefix}${source}`)\n      ]\n    }\n    case base58btc.prefix: {\n      const decoder = base || base58btc\n      return [/** @type {Prefix} */(base58btc.prefix), decoder.decode(source)]\n    }\n    case base32.prefix: {\n      const decoder = base || base32\n      return [/** @type {Prefix} */(base32.prefix), decoder.decode(source)]\n    }\n    default: {\n      if (base == null) {\n        throw Error(\n          'To parse non base32 or base58btc encoded CID multibase decoder must be provided'\n        )\n      }\n      return [/** @type {Prefix} */(source[0]), base.decode(source)]\n    }\n  }\n}\n\n/**\n *\n * @param {Uint8Array} bytes\n * @param {Map<string, string>} cache\n * @param {API.MultibaseEncoder<'z'>} base\n */\nconst toStringV0 = (bytes, cache, base) => {\n  const { prefix } = base\n  if (prefix !== base58btc.prefix) {\n    throw Error(`Cannot string encode V0 in ${base.name} encoding`)\n  }\n\n  const cid = cache.get(prefix)\n  if (cid == null) {\n    const cid = base.encode(bytes).slice(1)\n    cache.set(prefix, cid)\n    return cid\n  } else {\n    return cid\n  }\n}\n\n/**\n * @template {string} Prefix\n * @param {Uint8Array} bytes\n * @param {Map<string, string>} cache\n * @param {API.MultibaseEncoder<Prefix>} base\n */\nconst toStringV1 = (bytes, cache, base) => {\n  const { prefix } = base\n  const cid = cache.get(prefix)\n  if (cid == null) {\n    const cid = base.encode(bytes)\n    cache.set(prefix, cid)\n    return cid\n  } else {\n    return cid\n  }\n}\n\nconst DAG_PB_CODE = 0x70\nconst SHA_256_CODE = 0x12\n\n/**\n * @param {API.Version} version\n * @param {number} code\n * @param {Uint8Array} multihash\n * @returns {Uint8Array}\n */\nconst encodeCID = (version, code, multihash) => {\n  const codeOffset = varint.encodingLength(version)\n  const hashOffset = codeOffset + varint.encodingLength(code)\n  const bytes = new Uint8Array(hashOffset + multihash.byteLength)\n  varint.encodeTo(version, bytes, 0)\n  varint.encodeTo(code, bytes, codeOffset)\n  bytes.set(multihash, hashOffset)\n  return bytes\n}\n\nconst cidSymbol = Symbol.for('@ipld/js-cid/CID')\n","// @ts-check\n\nimport * as base10 from './bases/base10.js'\nimport * as base16 from './bases/base16.js'\nimport * as base2 from './bases/base2.js'\nimport * as base256emoji from './bases/base256emoji.js'\nimport * as base32 from './bases/base32.js'\nimport * as base36 from './bases/base36.js'\nimport * as base58 from './bases/base58.js'\nimport * as base64 from './bases/base64.js'\nimport * as base8 from './bases/base8.js'\nimport * as identityBase from './bases/identity.js'\nimport * as json from './codecs/json.js'\nimport * as raw from './codecs/raw.js'\nimport * as identity from './hashes/identity.js'\nimport * as sha2 from './hashes/sha2.js'\nimport { CID, hasher, digest, varint, bytes } from './index.js'\n\nconst bases = { ...identityBase, ...base2, ...base8, ...base10, ...base16, ...base32, ...base36, ...base58, ...base64, ...base256emoji }\nconst hashes = { ...sha2, ...identity }\nconst codecs = { raw, json }\n\nexport { CID, hasher, digest, varint, bytes, hashes, bases, codecs }\n","import { bases } from 'multiformats/basics';\nimport { allocUnsafe } from '../alloc.js';\nfunction createCodec(name, prefix, encode, decode) {\n    return {\n        name,\n        prefix,\n        encoder: {\n            name,\n            prefix,\n            encode\n        },\n        decoder: {\n            decode\n        }\n    };\n}\nconst string = createCodec('utf8', 'u', (buf) => {\n    const decoder = new TextDecoder('utf8');\n    return 'u' + decoder.decode(buf);\n}, (str) => {\n    const encoder = new TextEncoder();\n    return encoder.encode(str.substring(1));\n});\nconst ascii = createCodec('ascii', 'a', (buf) => {\n    let string = 'a';\n    for (let i = 0; i < buf.length; i++) {\n        string += String.fromCharCode(buf[i]);\n    }\n    return string;\n}, (str) => {\n    str = str.substring(1);\n    const buf = allocUnsafe(str.length);\n    for (let i = 0; i < str.length; i++) {\n        buf[i] = str.charCodeAt(i);\n    }\n    return buf;\n});\nconst BASES = {\n    utf8: string,\n    'utf-8': string,\n    hex: bases.base16,\n    latin1: ascii,\n    ascii,\n    binary: ascii,\n    ...bases\n};\nexport default BASES;\n//# sourceMappingURL=bases.js.map","import { asUint8Array } from './util/as-uint8array.js';\nimport bases, {} from './util/bases.js';\n/**\n * Create a `Uint8Array` from the passed string\n *\n * Supports `utf8`, `utf-8`, `hex`, and any encoding supported by the multiformats module.\n *\n * Also `ascii` which is similar to node's 'binary' encoding.\n */\nexport function fromString(string, encoding = 'utf8') {\n    const base = bases[encoding];\n    if (base == null) {\n        throw new Error(`Unsupported encoding \"${encoding}\"`);\n    }\n    if ((encoding === 'utf8' || encoding === 'utf-8') && globalThis.Buffer != null && globalThis.Buffer.from != null) {\n        return asUint8Array(globalThis.Buffer.from(string, 'utf-8'));\n    }\n    // add multibase prefix\n    return base.decoder.decode(`${base.prefix}${string}`); // eslint-disable-line @typescript-eslint/restrict-template-expressions\n}\n//# sourceMappingURL=from-string.js.map","/**\n * Returns true if the two passed Uint8Arrays have the same content\n */\nexport function equals(a, b) {\n    if (a === b) {\n        return true;\n    }\n    if (a.byteLength !== b.byteLength) {\n        return false;\n    }\n    for (let i = 0; i < a.byteLength; i++) {\n        if (a[i] !== b[i]) {\n            return false;\n        }\n    }\n    return true;\n}\n//# sourceMappingURL=equals.js.map","import { ed25519 as ed } from '@noble/curves/ed25519';\nconst PUBLIC_KEY_BYTE_LENGTH = 32;\nconst PRIVATE_KEY_BYTE_LENGTH = 64; // private key is actually 32 bytes but for historical reasons we concat private and public keys\nconst KEYS_BYTE_LENGTH = 32;\nexport { PUBLIC_KEY_BYTE_LENGTH as publicKeyLength };\nexport { PRIVATE_KEY_BYTE_LENGTH as privateKeyLength };\nexport async function generateKey() {\n    // the actual private key (32 bytes)\n    const privateKeyRaw = ed.utils.randomPrivateKey();\n    const publicKey = ed.getPublicKey(privateKeyRaw);\n    // concatenated the public key to the private key\n    const privateKey = concatKeys(privateKeyRaw, publicKey);\n    return {\n        privateKey,\n        publicKey\n    };\n}\n/**\n * Generate keypair from a 32 byte uint8array\n */\nexport async function generateKeyFromSeed(seed) {\n    if (seed.length !== KEYS_BYTE_LENGTH) {\n        throw new TypeError('\"seed\" must be 32 bytes in length.');\n    }\n    else if (!(seed instanceof Uint8Array)) {\n        throw new TypeError('\"seed\" must be a node.js Buffer, or Uint8Array.');\n    }\n    // based on node forges algorithm, the seed is used directly as private key\n    const privateKeyRaw = seed;\n    const publicKey = ed.getPublicKey(privateKeyRaw);\n    const privateKey = concatKeys(privateKeyRaw, publicKey);\n    return {\n        privateKey,\n        publicKey\n    };\n}\nexport async function hashAndSign(privateKey, msg) {\n    const privateKeyRaw = privateKey.subarray(0, KEYS_BYTE_LENGTH);\n    return ed.sign(msg, privateKeyRaw);\n}\nexport async function hashAndVerify(publicKey, sig, msg) {\n    return ed.verify(sig, msg, publicKey);\n}\nfunction concatKeys(privateKeyRaw, publicKey) {\n    const privateKey = new Uint8Array(PRIVATE_KEY_BYTE_LENGTH);\n    for (let i = 0; i < KEYS_BYTE_LENGTH; i++) {\n        privateKey[i] = privateKeyRaw[i];\n        privateKey[KEYS_BYTE_LENGTH + i] = publicKey[i];\n    }\n    return privateKey;\n}\n//# sourceMappingURL=ed25519-browser.js.map","/* eslint-env browser */\n// Check native crypto exists and is enabled (In insecure context `self.crypto`\n// exists but `self.crypto.subtle` does not).\nexport default {\n    get(win = globalThis) {\n        const nativeCrypto = win.crypto;\n        if (nativeCrypto == null || nativeCrypto.subtle == null) {\n            throw Object.assign(new Error('Missing Web Crypto API. ' +\n                'The most likely cause of this error is that this page is being accessed ' +\n                'from an insecure context (i.e. not HTTPS). For more information and ' +\n                'possible resolutions see ' +\n                'https://github.com/libp2p/js-libp2p-crypto/blob/master/README.md#web-crypto-api'), { code: 'ERR_MISSING_WEB_CRYPTO' });\n        }\n        return nativeCrypto;\n    }\n};\n//# sourceMappingURL=webcrypto.js.map","import { concat } from 'uint8arrays/concat';\nimport { fromString } from 'uint8arrays/from-string';\nimport webcrypto from '../webcrypto.js';\n// WebKit on Linux does not support deriving a key from an empty PBKDF2 key.\n// So, as a workaround, we provide the generated key as a constant. We test that\n// this generated key is accurate in test/workaround.spec.ts\n// Generated via:\n// await crypto.subtle.exportKey('jwk',\n//   await crypto.subtle.deriveKey(\n//     { name: 'PBKDF2', salt: new Uint8Array(16), iterations: 32767, hash: { name: 'SHA-256' } },\n//     await crypto.subtle.importKey('raw', new Uint8Array(0), { name: 'PBKDF2' }, false, ['deriveKey']),\n//     { name: 'AES-GCM', length: 128 }, true, ['encrypt', 'decrypt'])\n// )\nexport const derivedEmptyPasswordKey = { alg: 'A128GCM', ext: true, k: 'scm9jmO_4BJAgdwWGVulLg', key_ops: ['encrypt', 'decrypt'], kty: 'oct' };\n// Based off of code from https://github.com/luke-park/SecureCompatibleEncryptionExamples\nexport function create(opts) {\n    const algorithm = opts?.algorithm ?? 'AES-GCM';\n    let keyLength = opts?.keyLength ?? 16;\n    const nonceLength = opts?.nonceLength ?? 12;\n    const digest = opts?.digest ?? 'SHA-256';\n    const saltLength = opts?.saltLength ?? 16;\n    const iterations = opts?.iterations ?? 32767;\n    const crypto = webcrypto.get();\n    keyLength *= 8; // Browser crypto uses bits instead of bytes\n    /**\n     * Uses the provided password to derive a pbkdf2 key. The key\n     * will then be used to encrypt the data.\n     */\n    async function encrypt(data, password) {\n        const salt = crypto.getRandomValues(new Uint8Array(saltLength));\n        const nonce = crypto.getRandomValues(new Uint8Array(nonceLength));\n        const aesGcm = { name: algorithm, iv: nonce };\n        if (typeof password === 'string') {\n            password = fromString(password);\n        }\n        let cryptoKey;\n        if (password.length === 0) {\n            cryptoKey = await crypto.subtle.importKey('jwk', derivedEmptyPasswordKey, { name: 'AES-GCM' }, true, ['encrypt']);\n            try {\n                const deriveParams = { name: 'PBKDF2', salt, iterations, hash: { name: digest } };\n                const runtimeDerivedEmptyPassword = await crypto.subtle.importKey('raw', password, { name: 'PBKDF2' }, false, ['deriveKey']);\n                cryptoKey = await crypto.subtle.deriveKey(deriveParams, runtimeDerivedEmptyPassword, { name: algorithm, length: keyLength }, true, ['encrypt']);\n            }\n            catch {\n                cryptoKey = await crypto.subtle.importKey('jwk', derivedEmptyPasswordKey, { name: 'AES-GCM' }, true, ['encrypt']);\n            }\n        }\n        else {\n            // Derive a key using PBKDF2.\n            const deriveParams = { name: 'PBKDF2', salt, iterations, hash: { name: digest } };\n            const rawKey = await crypto.subtle.importKey('raw', password, { name: 'PBKDF2' }, false, ['deriveKey']);\n            cryptoKey = await crypto.subtle.deriveKey(deriveParams, rawKey, { name: algorithm, length: keyLength }, true, ['encrypt']);\n        }\n        // Encrypt the string.\n        const ciphertext = await crypto.subtle.encrypt(aesGcm, cryptoKey, data);\n        return concat([salt, aesGcm.iv, new Uint8Array(ciphertext)]);\n    }\n    /**\n     * Uses the provided password to derive a pbkdf2 key. The key\n     * will then be used to decrypt the data. The options used to create\n     * this decryption cipher must be the same as those used to create\n     * the encryption cipher.\n     */\n    async function decrypt(data, password) {\n        const salt = data.subarray(0, saltLength);\n        const nonce = data.subarray(saltLength, saltLength + nonceLength);\n        const ciphertext = data.subarray(saltLength + nonceLength);\n        const aesGcm = { name: algorithm, iv: nonce };\n        if (typeof password === 'string') {\n            password = fromString(password);\n        }\n        let cryptoKey;\n        if (password.length === 0) {\n            try {\n                const deriveParams = { name: 'PBKDF2', salt, iterations, hash: { name: digest } };\n                const runtimeDerivedEmptyPassword = await crypto.subtle.importKey('raw', password, { name: 'PBKDF2' }, false, ['deriveKey']);\n                cryptoKey = await crypto.subtle.deriveKey(deriveParams, runtimeDerivedEmptyPassword, { name: algorithm, length: keyLength }, true, ['decrypt']);\n            }\n            catch {\n                cryptoKey = await crypto.subtle.importKey('jwk', derivedEmptyPasswordKey, { name: 'AES-GCM' }, true, ['decrypt']);\n            }\n        }\n        else {\n            // Derive the key using PBKDF2.\n            const deriveParams = { name: 'PBKDF2', salt, iterations, hash: { name: digest } };\n            const rawKey = await crypto.subtle.importKey('raw', password, { name: 'PBKDF2' }, false, ['deriveKey']);\n            cryptoKey = await crypto.subtle.deriveKey(deriveParams, rawKey, { name: algorithm, length: keyLength }, true, ['decrypt']);\n        }\n        // Decrypt the string.\n        const plaintext = await crypto.subtle.decrypt(aesGcm, cryptoKey, ciphertext);\n        return new Uint8Array(plaintext);\n    }\n    const cipher = {\n        encrypt,\n        decrypt\n    };\n    return cipher;\n}\n//# sourceMappingURL=aes-gcm.browser.js.map","import { base64 } from 'multiformats/bases/base64';\nimport * as ciphers from '../ciphers/aes-gcm.js';\n/**\n * Exports the given PrivateKey as a base64 encoded string.\n * The PrivateKey is encrypted via a password derived PBKDF2 key\n * leveraging the aes-gcm cipher algorithm.\n */\nexport async function exporter(privateKey, password) {\n    const cipher = ciphers.create();\n    const encryptedKey = await cipher.encrypt(privateKey, password);\n    return base64.encode(encryptedKey);\n}\n//# sourceMappingURL=exporter.js.map","/* eslint-disable import/export */\n/* eslint-disable complexity */\n/* eslint-disable @typescript-eslint/no-namespace */\n/* eslint-disable @typescript-eslint/no-unnecessary-boolean-literal-compare */\n/* eslint-disable @typescript-eslint/no-empty-interface */\nimport { enumeration, encodeMessage, decodeMessage, message } from 'protons-runtime';\nexport var KeyType;\n(function (KeyType) {\n    KeyType[\"RSA\"] = \"RSA\";\n    KeyType[\"Ed25519\"] = \"Ed25519\";\n    KeyType[\"Secp256k1\"] = \"Secp256k1\";\n})(KeyType || (KeyType = {}));\nvar __KeyTypeValues;\n(function (__KeyTypeValues) {\n    __KeyTypeValues[__KeyTypeValues[\"RSA\"] = 0] = \"RSA\";\n    __KeyTypeValues[__KeyTypeValues[\"Ed25519\"] = 1] = \"Ed25519\";\n    __KeyTypeValues[__KeyTypeValues[\"Secp256k1\"] = 2] = \"Secp256k1\";\n})(__KeyTypeValues || (__KeyTypeValues = {}));\n(function (KeyType) {\n    KeyType.codec = () => {\n        return enumeration(__KeyTypeValues);\n    };\n})(KeyType || (KeyType = {}));\nexport var PublicKey;\n(function (PublicKey) {\n    let _codec;\n    PublicKey.codec = () => {\n        if (_codec == null) {\n            _codec = message((obj, w, opts = {}) => {\n                if (opts.lengthDelimited !== false) {\n                    w.fork();\n                }\n                if (obj.Type != null) {\n                    w.uint32(8);\n                    KeyType.codec().encode(obj.Type, w);\n                }\n                if (obj.Data != null) {\n                    w.uint32(18);\n                    w.bytes(obj.Data);\n                }\n                if (opts.lengthDelimited !== false) {\n                    w.ldelim();\n                }\n            }, (reader, length) => {\n                const obj = {};\n                const end = length == null ? reader.len : reader.pos + length;\n                while (reader.pos < end) {\n                    const tag = reader.uint32();\n                    switch (tag >>> 3) {\n                        case 1:\n                            obj.Type = KeyType.codec().decode(reader);\n                            break;\n                        case 2:\n                            obj.Data = reader.bytes();\n                            break;\n                        default:\n                            reader.skipType(tag & 7);\n                            break;\n                    }\n                }\n                return obj;\n            });\n        }\n        return _codec;\n    };\n    PublicKey.encode = (obj) => {\n        return encodeMessage(obj, PublicKey.codec());\n    };\n    PublicKey.decode = (buf) => {\n        return decodeMessage(buf, PublicKey.codec());\n    };\n})(PublicKey || (PublicKey = {}));\nexport var PrivateKey;\n(function (PrivateKey) {\n    let _codec;\n    PrivateKey.codec = () => {\n        if (_codec == null) {\n            _codec = message((obj, w, opts = {}) => {\n                if (opts.lengthDelimited !== false) {\n                    w.fork();\n                }\n                if (obj.Type != null) {\n                    w.uint32(8);\n                    KeyType.codec().encode(obj.Type, w);\n                }\n                if (obj.Data != null) {\n                    w.uint32(18);\n                    w.bytes(obj.Data);\n                }\n                if (opts.lengthDelimited !== false) {\n                    w.ldelim();\n                }\n            }, (reader, length) => {\n                const obj = {};\n                const end = length == null ? reader.len : reader.pos + length;\n                while (reader.pos < end) {\n                    const tag = reader.uint32();\n                    switch (tag >>> 3) {\n                        case 1:\n                            obj.Type = KeyType.codec().decode(reader);\n                            break;\n                        case 2:\n                            obj.Data = reader.bytes();\n                            break;\n                        default:\n                            reader.skipType(tag & 7);\n                            break;\n                    }\n                }\n                return obj;\n            });\n        }\n        return _codec;\n    };\n    PrivateKey.encode = (obj) => {\n        return encodeMessage(obj, PrivateKey.codec());\n    };\n    PrivateKey.decode = (buf) => {\n        return decodeMessage(buf, PrivateKey.codec());\n    };\n})(PrivateKey || (PrivateKey = {}));\n//# sourceMappingURL=keys.js.map","import { CodeError } from '@libp2p/interface/errors';\nimport { base58btc } from 'multiformats/bases/base58';\nimport { identity } from 'multiformats/hashes/identity';\nimport { sha256 } from 'multiformats/hashes/sha2';\nimport { equals as uint8ArrayEquals } from 'uint8arrays/equals';\nimport * as crypto from './ed25519.js';\nimport { exporter } from './exporter.js';\nimport * as pbm from './keys.js';\nexport class Ed25519PublicKey {\n    _key;\n    constructor(key) {\n        this._key = ensureKey(key, crypto.publicKeyLength);\n    }\n    async verify(data, sig) {\n        return crypto.hashAndVerify(this._key, sig, data);\n    }\n    marshal() {\n        return this._key;\n    }\n    get bytes() {\n        return pbm.PublicKey.encode({\n            Type: pbm.KeyType.Ed25519,\n            Data: this.marshal()\n        }).subarray();\n    }\n    equals(key) {\n        return uint8ArrayEquals(this.bytes, key.bytes);\n    }\n    async hash() {\n        const { bytes } = await sha256.digest(this.bytes);\n        return bytes;\n    }\n}\nexport class Ed25519PrivateKey {\n    _key;\n    _publicKey;\n    // key       - 64 byte Uint8Array containing private key\n    // publicKey - 32 byte Uint8Array containing public key\n    constructor(key, publicKey) {\n        this._key = ensureKey(key, crypto.privateKeyLength);\n        this._publicKey = ensureKey(publicKey, crypto.publicKeyLength);\n    }\n    async sign(message) {\n        return crypto.hashAndSign(this._key, message);\n    }\n    get public() {\n        return new Ed25519PublicKey(this._publicKey);\n    }\n    marshal() {\n        return this._key;\n    }\n    get bytes() {\n        return pbm.PrivateKey.encode({\n            Type: pbm.KeyType.Ed25519,\n            Data: this.marshal()\n        }).subarray();\n    }\n    equals(key) {\n        return uint8ArrayEquals(this.bytes, key.bytes);\n    }\n    async hash() {\n        const { bytes } = await sha256.digest(this.bytes);\n        return bytes;\n    }\n    /**\n     * Gets the ID of the key.\n     *\n     * The key id is the base58 encoding of the identity multihash containing its public key.\n     * The public key is a protobuf encoding containing a type and the DER encoding\n     * of the PKCS SubjectPublicKeyInfo.\n     *\n     * @returns {Promise<string>}\n     */\n    async id() {\n        const encoding = identity.digest(this.public.bytes);\n        return base58btc.encode(encoding.bytes).substring(1);\n    }\n    /**\n     * Exports the key into a password protected `format`\n     */\n    async export(password, format = 'libp2p-key') {\n        if (format === 'libp2p-key') {\n            return exporter(this.bytes, password);\n        }\n        else {\n            throw new CodeError(`export format '${format}' is not supported`, 'ERR_INVALID_EXPORT_FORMAT');\n        }\n    }\n}\nexport function unmarshalEd25519PrivateKey(bytes) {\n    // Try the old, redundant public key version\n    if (bytes.length > crypto.privateKeyLength) {\n        bytes = ensureKey(bytes, crypto.privateKeyLength + crypto.publicKeyLength);\n        const privateKeyBytes = bytes.subarray(0, crypto.privateKeyLength);\n        const publicKeyBytes = bytes.subarray(crypto.privateKeyLength, bytes.length);\n        return new Ed25519PrivateKey(privateKeyBytes, publicKeyBytes);\n    }\n    bytes = ensureKey(bytes, crypto.privateKeyLength);\n    const privateKeyBytes = bytes.subarray(0, crypto.privateKeyLength);\n    const publicKeyBytes = bytes.subarray(crypto.publicKeyLength);\n    return new Ed25519PrivateKey(privateKeyBytes, publicKeyBytes);\n}\nexport function unmarshalEd25519PublicKey(bytes) {\n    bytes = ensureKey(bytes, crypto.publicKeyLength);\n    return new Ed25519PublicKey(bytes);\n}\nexport async function generateKeyPair() {\n    const { privateKey, publicKey } = await crypto.generateKey();\n    return new Ed25519PrivateKey(privateKey, publicKey);\n}\nexport async function generateKeyPairFromSeed(seed) {\n    const { privateKey, publicKey } = await crypto.generateKeyFromSeed(seed);\n    return new Ed25519PrivateKey(privateKey, publicKey);\n}\nfunction ensureKey(key, length) {\n    key = Uint8Array.from(key ?? []);\n    if (key.length !== length) {\n        throw new CodeError(`Key must be a Uint8Array of length ${length}, got ${key.length}`, 'ERR_INVALID_KEY_TYPE');\n    }\n    return key;\n}\n//# sourceMappingURL=ed25519-class.js.map","import bases, {} from './util/bases.js';\n/**\n * Turns a `Uint8Array` into a string.\n *\n * Supports `utf8`, `utf-8` and any encoding supported by the multibase module.\n *\n * Also `ascii` which is similar to node's 'binary' encoding.\n */\nexport function toString(array, encoding = 'utf8') {\n    const base = bases[encoding];\n    if (base == null) {\n        throw new Error(`Unsupported encoding \"${encoding}\"`);\n    }\n    if ((encoding === 'utf8' || encoding === 'utf-8') && globalThis.Buffer != null && globalThis.Buffer.from != null) {\n        return globalThis.Buffer.from(array.buffer, array.byteOffset, array.byteLength).toString('utf8');\n    }\n    // strip multibase prefix\n    return base.encoder.encode(array).substring(1);\n}\n//# sourceMappingURL=to-string.js.map","import 'node-forge/lib/util.js';\nimport 'node-forge/lib/jsbn.js';\n// @ts-expect-error types are missing\nimport forge from 'node-forge/lib/forge.js';\nimport { concat as uint8ArrayConcat } from 'uint8arrays/concat';\nimport { fromString as uint8ArrayFromString } from 'uint8arrays/from-string';\nimport { toString as uint8ArrayToString } from 'uint8arrays/to-string';\nexport function bigIntegerToUintBase64url(num, len) {\n    // Call `.abs()` to convert to unsigned\n    let buf = Uint8Array.from(num.abs().toByteArray()); // toByteArray converts to big endian\n    // toByteArray() gives us back a signed array, which will include a leading 0\n    // byte if the most significant bit of the number is 1:\n    // https://docs.microsoft.com/en-us/windows/win32/seccertenroll/about-integer\n    // Our number will always be positive so we should remove the leading padding.\n    buf = buf[0] === 0 ? buf.subarray(1) : buf;\n    if (len != null) {\n        if (buf.length > len)\n            throw new Error('byte array longer than desired length');\n        buf = uint8ArrayConcat([new Uint8Array(len - buf.length), buf]);\n    }\n    return uint8ArrayToString(buf, 'base64url');\n}\n// Convert a base64url encoded string to a BigInteger\nexport function base64urlToBigInteger(str) {\n    const buf = base64urlToBuffer(str);\n    return new forge.jsbn.BigInteger(uint8ArrayToString(buf, 'base16'), 16);\n}\nexport function base64urlToBuffer(str, len) {\n    let buf = uint8ArrayFromString(str, 'base64urlpad');\n    if (len != null) {\n        if (buf.length > len)\n            throw new Error('byte array longer than desired length');\n        buf = uint8ArrayConcat([new Uint8Array(len - buf.length), buf]);\n    }\n    return buf;\n}\n//# sourceMappingURL=util.js.map","import { CodeError } from '@libp2p/interface/errors';\nimport { concat as uint8ArrayConcat } from 'uint8arrays/concat';\nimport { equals as uint8ArrayEquals } from 'uint8arrays/equals';\nimport { toString as uint8ArrayToString } from 'uint8arrays/to-string';\nimport { base64urlToBuffer } from '../util.js';\nimport webcrypto from '../webcrypto.js';\nconst bits = {\n    'P-256': 256,\n    'P-384': 384,\n    'P-521': 521\n};\nconst curveTypes = Object.keys(bits);\nconst names = curveTypes.join(' / ');\nexport async function generateEphmeralKeyPair(curve) {\n    if (curve !== 'P-256' && curve !== 'P-384' && curve !== 'P-521') {\n        throw new CodeError(`Unknown curve: ${curve}. Must be ${names}`, 'ERR_INVALID_CURVE');\n    }\n    const pair = await webcrypto.get().subtle.generateKey({\n        name: 'ECDH',\n        namedCurve: curve\n    }, true, ['deriveBits']);\n    // forcePrivate is used for testing only\n    const genSharedKey = async (theirPub, forcePrivate) => {\n        let privateKey;\n        if (forcePrivate != null) {\n            privateKey = await webcrypto.get().subtle.importKey('jwk', unmarshalPrivateKey(curve, forcePrivate), {\n                name: 'ECDH',\n                namedCurve: curve\n            }, false, ['deriveBits']);\n        }\n        else {\n            privateKey = pair.privateKey;\n        }\n        const key = await webcrypto.get().subtle.importKey('jwk', unmarshalPublicKey(curve, theirPub), {\n            name: 'ECDH',\n            namedCurve: curve\n        }, false, []);\n        const buffer = await webcrypto.get().subtle.deriveBits({\n            name: 'ECDH',\n            // @ts-expect-error namedCurve is missing from the types\n            namedCurve: curve,\n            public: key\n        }, privateKey, bits[curve]);\n        return new Uint8Array(buffer, 0, buffer.byteLength);\n    };\n    const publicKey = await webcrypto.get().subtle.exportKey('jwk', pair.publicKey);\n    const ecdhKey = {\n        key: marshalPublicKey(publicKey),\n        genSharedKey\n    };\n    return ecdhKey;\n}\nconst curveLengths = {\n    'P-256': 32,\n    'P-384': 48,\n    'P-521': 66\n};\n// Marshal converts a jwk encoded ECDH public key into the\n// form specified in section 4.3.6 of ANSI X9.62. (This is the format\n// go-ipfs uses)\nfunction marshalPublicKey(jwk) {\n    if (jwk.crv == null || jwk.x == null || jwk.y == null) {\n        throw new CodeError('JWK was missing components', 'ERR_INVALID_PARAMETERS');\n    }\n    if (jwk.crv !== 'P-256' && jwk.crv !== 'P-384' && jwk.crv !== 'P-521') {\n        throw new CodeError(`Unknown curve: ${jwk.crv}. Must be ${names}`, 'ERR_INVALID_CURVE');\n    }\n    const byteLen = curveLengths[jwk.crv];\n    return uint8ArrayConcat([\n        Uint8Array.from([4]),\n        base64urlToBuffer(jwk.x, byteLen),\n        base64urlToBuffer(jwk.y, byteLen)\n    ], 1 + byteLen * 2);\n}\n// Unmarshal converts a point, serialized by Marshal, into an jwk encoded key\nfunction unmarshalPublicKey(curve, key) {\n    if (curve !== 'P-256' && curve !== 'P-384' && curve !== 'P-521') {\n        throw new CodeError(`Unknown curve: ${curve}. Must be ${names}`, 'ERR_INVALID_CURVE');\n    }\n    const byteLen = curveLengths[curve];\n    if (!uint8ArrayEquals(key.subarray(0, 1), Uint8Array.from([4]))) {\n        throw new CodeError('Cannot unmarshal public key - invalid key format', 'ERR_INVALID_KEY_FORMAT');\n    }\n    return {\n        kty: 'EC',\n        crv: curve,\n        x: uint8ArrayToString(key.subarray(1, byteLen + 1), 'base64url'),\n        y: uint8ArrayToString(key.subarray(1 + byteLen), 'base64url'),\n        ext: true\n    };\n}\nconst unmarshalPrivateKey = (curve, key) => ({\n    ...unmarshalPublicKey(curve, key.public),\n    d: uint8ArrayToString(key.private, 'base64url')\n});\n//# sourceMappingURL=ecdh-browser.js.map","import { CodeError } from '@libp2p/interface/errors';\nimport { randomBytes as randB } from '@noble/hashes/utils';\nexport default function randomBytes(length) {\n    if (isNaN(length) || length <= 0) {\n        throw new CodeError('random bytes length must be a Number bigger than 0', 'ERR_INVALID_LENGTH');\n    }\n    return randB(length);\n}\n//# sourceMappingURL=random-bytes.js.map","import 'node-forge/lib/rsa.js';\n// @ts-expect-error types are missing\nimport forge from 'node-forge/lib/forge.js';\nimport { base64urlToBigInteger } from '../util.js';\nfunction convert(key, types) {\n    return types.map(t => base64urlToBigInteger(key[t]));\n}\nexport function jwk2priv(key) {\n    return forge.pki.setRsaPrivateKey(...convert(key, ['n', 'e', 'd', 'p', 'q', 'dp', 'dq', 'qi']));\n}\nexport function jwk2pub(key) {\n    return forge.pki.setRsaPublicKey(...convert(key, ['n', 'e']));\n}\n//# sourceMappingURL=jwk2pem.js.map","import { CodeError } from '@libp2p/interface/errors';\nimport { fromString as uint8ArrayFromString } from 'uint8arrays/from-string';\nimport { toString as uint8ArrayToString } from 'uint8arrays/to-string';\nimport randomBytes from '../random-bytes.js';\nimport webcrypto from '../webcrypto.js';\nimport { jwk2pub, jwk2priv } from './jwk2pem.js';\nimport * as utils from './rsa-utils.js';\nexport { utils };\nexport async function generateKey(bits) {\n    const pair = await webcrypto.get().subtle.generateKey({\n        name: 'RSASSA-PKCS1-v1_5',\n        modulusLength: bits,\n        publicExponent: new Uint8Array([0x01, 0x00, 0x01]),\n        hash: { name: 'SHA-256' }\n    }, true, ['sign', 'verify']);\n    const keys = await exportKey(pair);\n    return {\n        privateKey: keys[0],\n        publicKey: keys[1]\n    };\n}\n// Takes a jwk key\nexport async function unmarshalPrivateKey(key) {\n    const privateKey = await webcrypto.get().subtle.importKey('jwk', key, {\n        name: 'RSASSA-PKCS1-v1_5',\n        hash: { name: 'SHA-256' }\n    }, true, ['sign']);\n    const pair = [\n        privateKey,\n        await derivePublicFromPrivate(key)\n    ];\n    const keys = await exportKey({\n        privateKey: pair[0],\n        publicKey: pair[1]\n    });\n    return {\n        privateKey: keys[0],\n        publicKey: keys[1]\n    };\n}\nexport { randomBytes as getRandomValues };\nexport async function hashAndSign(key, msg) {\n    const privateKey = await webcrypto.get().subtle.importKey('jwk', key, {\n        name: 'RSASSA-PKCS1-v1_5',\n        hash: { name: 'SHA-256' }\n    }, false, ['sign']);\n    const sig = await webcrypto.get().subtle.sign({ name: 'RSASSA-PKCS1-v1_5' }, privateKey, Uint8Array.from(msg));\n    return new Uint8Array(sig, 0, sig.byteLength);\n}\nexport async function hashAndVerify(key, sig, msg) {\n    const publicKey = await webcrypto.get().subtle.importKey('jwk', key, {\n        name: 'RSASSA-PKCS1-v1_5',\n        hash: { name: 'SHA-256' }\n    }, false, ['verify']);\n    return webcrypto.get().subtle.verify({ name: 'RSASSA-PKCS1-v1_5' }, publicKey, sig, msg);\n}\nasync function exportKey(pair) {\n    if (pair.privateKey == null || pair.publicKey == null) {\n        throw new CodeError('Private and public key are required', 'ERR_INVALID_PARAMETERS');\n    }\n    return Promise.all([\n        webcrypto.get().subtle.exportKey('jwk', pair.privateKey),\n        webcrypto.get().subtle.exportKey('jwk', pair.publicKey)\n    ]);\n}\nasync function derivePublicFromPrivate(jwKey) {\n    return webcrypto.get().subtle.importKey('jwk', {\n        kty: jwKey.kty,\n        n: jwKey.n,\n        e: jwKey.e\n    }, {\n        name: 'RSASSA-PKCS1-v1_5',\n        hash: { name: 'SHA-256' }\n    }, true, ['verify']);\n}\n/*\n\nRSA encryption/decryption for the browser with webcrypto workaround\n\"bloody dark magic. webcrypto's why.\"\n\nExplanation:\n  - Convert JWK to nodeForge\n  - Convert msg Uint8Array to nodeForge buffer: ByteBuffer is a \"binary-string backed buffer\", so let's make our Uint8Array a binary string\n  - Convert resulting nodeForge buffer to Uint8Array: it returns a binary string, turn that into a Uint8Array\n\n*/\nfunction convertKey(key, pub, msg, handle) {\n    const fkey = pub ? jwk2pub(key) : jwk2priv(key);\n    const fmsg = uint8ArrayToString(Uint8Array.from(msg), 'ascii');\n    const fomsg = handle(fmsg, fkey);\n    return uint8ArrayFromString(fomsg, 'ascii');\n}\nexport function encrypt(key, msg) {\n    return convertKey(key, true, msg, (msg, key) => key.encrypt(msg));\n}\nexport function decrypt(key, msg) {\n    return convertKey(key, false, msg, (msg, key) => key.decrypt(msg));\n}\nexport function keySize(jwk) {\n    if (jwk.kty !== 'RSA') {\n        throw new CodeError('invalid key type', 'ERR_INVALID_KEY_TYPE');\n    }\n    else if (jwk.n == null) {\n        throw new CodeError('invalid key modulus', 'ERR_INVALID_KEY_MODULUS');\n    }\n    const bytes = uint8ArrayFromString(jwk.n, 'base64url');\n    return bytes.length * 8;\n}\n//# sourceMappingURL=rsa-browser.js.map","import { CodeError } from '@libp2p/interface/errors';\nimport { sha256 } from 'multiformats/hashes/sha2';\n// @ts-expect-error types are missing\nimport forge from 'node-forge/lib/forge.js';\nimport { equals as uint8ArrayEquals } from 'uint8arrays/equals';\nimport 'node-forge/lib/sha512.js';\nimport { toString as uint8ArrayToString } from 'uint8arrays/to-string';\nimport { exporter } from './exporter.js';\nimport * as pbm from './keys.js';\nimport * as crypto from './rsa.js';\nexport const MAX_KEY_SIZE = 8192;\nexport class RsaPublicKey {\n    _key;\n    constructor(key) {\n        this._key = key;\n    }\n    async verify(data, sig) {\n        return crypto.hashAndVerify(this._key, sig, data);\n    }\n    marshal() {\n        return crypto.utils.jwkToPkix(this._key);\n    }\n    get bytes() {\n        return pbm.PublicKey.encode({\n            Type: pbm.KeyType.RSA,\n            Data: this.marshal()\n        }).subarray();\n    }\n    encrypt(bytes) {\n        return crypto.encrypt(this._key, bytes);\n    }\n    equals(key) {\n        return uint8ArrayEquals(this.bytes, key.bytes);\n    }\n    async hash() {\n        const { bytes } = await sha256.digest(this.bytes);\n        return bytes;\n    }\n}\nexport class RsaPrivateKey {\n    _key;\n    _publicKey;\n    constructor(key, publicKey) {\n        this._key = key;\n        this._publicKey = publicKey;\n    }\n    genSecret() {\n        return crypto.getRandomValues(16);\n    }\n    async sign(message) {\n        return crypto.hashAndSign(this._key, message);\n    }\n    get public() {\n        if (this._publicKey == null) {\n            throw new CodeError('public key not provided', 'ERR_PUBKEY_NOT_PROVIDED');\n        }\n        return new RsaPublicKey(this._publicKey);\n    }\n    decrypt(bytes) {\n        return crypto.decrypt(this._key, bytes);\n    }\n    marshal() {\n        return crypto.utils.jwkToPkcs1(this._key);\n    }\n    get bytes() {\n        return pbm.PrivateKey.encode({\n            Type: pbm.KeyType.RSA,\n            Data: this.marshal()\n        }).subarray();\n    }\n    equals(key) {\n        return uint8ArrayEquals(this.bytes, key.bytes);\n    }\n    async hash() {\n        const { bytes } = await sha256.digest(this.bytes);\n        return bytes;\n    }\n    /**\n     * Gets the ID of the key.\n     *\n     * The key id is the base58 encoding of the SHA-256 multihash of its public key.\n     * The public key is a protobuf encoding containing a type and the DER encoding\n     * of the PKCS SubjectPublicKeyInfo.\n     */\n    async id() {\n        const hash = await this.public.hash();\n        return uint8ArrayToString(hash, 'base58btc');\n    }\n    /**\n     * Exports the key into a password protected PEM format\n     */\n    async export(password, format = 'pkcs-8') {\n        if (format === 'pkcs-8') {\n            const buffer = new forge.util.ByteBuffer(this.marshal());\n            const asn1 = forge.asn1.fromDer(buffer);\n            const privateKey = forge.pki.privateKeyFromAsn1(asn1);\n            const options = {\n                algorithm: 'aes256',\n                count: 10000,\n                saltSize: 128 / 8,\n                prfAlgorithm: 'sha512'\n            };\n            return forge.pki.encryptRsaPrivateKey(privateKey, password, options);\n        }\n        else if (format === 'libp2p-key') {\n            return exporter(this.bytes, password);\n        }\n        else {\n            throw new CodeError(`export format '${format}' is not supported`, 'ERR_INVALID_EXPORT_FORMAT');\n        }\n    }\n}\nexport async function unmarshalRsaPrivateKey(bytes) {\n    const jwk = crypto.utils.pkcs1ToJwk(bytes);\n    if (crypto.keySize(jwk) > MAX_KEY_SIZE) {\n        throw new CodeError('key size is too large', 'ERR_KEY_SIZE_TOO_LARGE');\n    }\n    const keys = await crypto.unmarshalPrivateKey(jwk);\n    return new RsaPrivateKey(keys.privateKey, keys.publicKey);\n}\nexport function unmarshalRsaPublicKey(bytes) {\n    const jwk = crypto.utils.pkixToJwk(bytes);\n    if (crypto.keySize(jwk) > MAX_KEY_SIZE) {\n        throw new CodeError('key size is too large', 'ERR_KEY_SIZE_TOO_LARGE');\n    }\n    return new RsaPublicKey(jwk);\n}\nexport async function fromJwk(jwk) {\n    if (crypto.keySize(jwk) > MAX_KEY_SIZE) {\n        throw new CodeError('key size is too large', 'ERR_KEY_SIZE_TOO_LARGE');\n    }\n    const keys = await crypto.unmarshalPrivateKey(jwk);\n    return new RsaPrivateKey(keys.privateKey, keys.publicKey);\n}\nexport async function generateKeyPair(bits) {\n    if (bits > MAX_KEY_SIZE) {\n        throw new CodeError('key size is too large', 'ERR_KEY_SIZE_TOO_LARGE');\n    }\n    const keys = await crypto.generateKey(bits);\n    return new RsaPrivateKey(keys.privateKey, keys.publicKey);\n}\n//# sourceMappingURL=rsa-class.js.map","import 'node-forge/lib/asn1.js';\nimport 'node-forge/lib/rsa.js';\nimport { CodeError } from '@libp2p/interface/errors';\n// @ts-expect-error types are missing\nimport forge from 'node-forge/lib/forge.js';\nimport { fromString as uint8ArrayFromString } from 'uint8arrays/from-string';\nimport { toString as uint8ArrayToString } from 'uint8arrays/to-string';\nimport { bigIntegerToUintBase64url, base64urlToBigInteger } from './../util.js';\n// Convert a PKCS#1 in ASN1 DER format to a JWK key\nexport function pkcs1ToJwk(bytes) {\n    const asn1 = forge.asn1.fromDer(uint8ArrayToString(bytes, 'ascii'));\n    const privateKey = forge.pki.privateKeyFromAsn1(asn1);\n    // https://tools.ietf.org/html/rfc7518#section-6.3.1\n    return {\n        kty: 'RSA',\n        n: bigIntegerToUintBase64url(privateKey.n),\n        e: bigIntegerToUintBase64url(privateKey.e),\n        d: bigIntegerToUintBase64url(privateKey.d),\n        p: bigIntegerToUintBase64url(privateKey.p),\n        q: bigIntegerToUintBase64url(privateKey.q),\n        dp: bigIntegerToUintBase64url(privateKey.dP),\n        dq: bigIntegerToUintBase64url(privateKey.dQ),\n        qi: bigIntegerToUintBase64url(privateKey.qInv),\n        alg: 'RS256'\n    };\n}\n// Convert a JWK key into PKCS#1 in ASN1 DER format\nexport function jwkToPkcs1(jwk) {\n    if (jwk.n == null || jwk.e == null || jwk.d == null || jwk.p == null || jwk.q == null || jwk.dp == null || jwk.dq == null || jwk.qi == null) {\n        throw new CodeError('JWK was missing components', 'ERR_INVALID_PARAMETERS');\n    }\n    const asn1 = forge.pki.privateKeyToAsn1({\n        n: base64urlToBigInteger(jwk.n),\n        e: base64urlToBigInteger(jwk.e),\n        d: base64urlToBigInteger(jwk.d),\n        p: base64urlToBigInteger(jwk.p),\n        q: base64urlToBigInteger(jwk.q),\n        dP: base64urlToBigInteger(jwk.dp),\n        dQ: base64urlToBigInteger(jwk.dq),\n        qInv: base64urlToBigInteger(jwk.qi)\n    });\n    return uint8ArrayFromString(forge.asn1.toDer(asn1).getBytes(), 'ascii');\n}\n// Convert a PKCIX in ASN1 DER format to a JWK key\nexport function pkixToJwk(bytes) {\n    const asn1 = forge.asn1.fromDer(uint8ArrayToString(bytes, 'ascii'));\n    const publicKey = forge.pki.publicKeyFromAsn1(asn1);\n    return {\n        kty: 'RSA',\n        n: bigIntegerToUintBase64url(publicKey.n),\n        e: bigIntegerToUintBase64url(publicKey.e)\n    };\n}\n// Convert a JWK key to PKCIX in ASN1 DER format\nexport function jwkToPkix(jwk) {\n    if (jwk.n == null || jwk.e == null) {\n        throw new CodeError('JWK was missing components', 'ERR_INVALID_PARAMETERS');\n    }\n    const asn1 = forge.pki.publicKeyToAsn1({\n        n: base64urlToBigInteger(jwk.n),\n        e: base64urlToBigInteger(jwk.e)\n    });\n    return uint8ArrayFromString(forge.asn1.toDer(asn1).getBytes(), 'ascii');\n}\n//# sourceMappingURL=rsa-utils.js.map","import { CodeError } from '@libp2p/interface/errors';\nimport { secp256k1 as secp } from '@noble/curves/secp256k1';\nimport { sha256 } from 'multiformats/hashes/sha2';\nconst PRIVATE_KEY_BYTE_LENGTH = 32;\nexport { PRIVATE_KEY_BYTE_LENGTH as privateKeyLength };\nexport function generateKey() {\n    return secp.utils.randomPrivateKey();\n}\n/**\n * Hash and sign message with private key\n */\nexport async function hashAndSign(key, msg) {\n    const { digest } = await sha256.digest(msg);\n    try {\n        const signature = secp.sign(digest, key);\n        return signature.toDERRawBytes();\n    }\n    catch (err) {\n        throw new CodeError(String(err), 'ERR_INVALID_INPUT');\n    }\n}\n/**\n * Hash message and verify signature with public key\n */\nexport async function hashAndVerify(key, sig, msg) {\n    try {\n        const { digest } = await sha256.digest(msg);\n        return secp.verify(sig, digest, key);\n    }\n    catch (err) {\n        throw new CodeError(String(err), 'ERR_INVALID_INPUT');\n    }\n}\nexport function compressPublicKey(key) {\n    const point = secp.ProjectivePoint.fromHex(key).toRawBytes(true);\n    return point;\n}\nexport function decompressPublicKey(key) {\n    const point = secp.ProjectivePoint.fromHex(key).toRawBytes(false);\n    return point;\n}\nexport function validatePrivateKey(key) {\n    try {\n        secp.getPublicKey(key, true);\n    }\n    catch (err) {\n        throw new CodeError(String(err), 'ERR_INVALID_PRIVATE_KEY');\n    }\n}\nexport function validatePublicKey(key) {\n    try {\n        secp.ProjectivePoint.fromHex(key);\n    }\n    catch (err) {\n        throw new CodeError(String(err), 'ERR_INVALID_PUBLIC_KEY');\n    }\n}\nexport function computePublicKey(privateKey) {\n    try {\n        return secp.getPublicKey(privateKey, true);\n    }\n    catch (err) {\n        throw new CodeError(String(err), 'ERR_INVALID_PRIVATE_KEY');\n    }\n}\n//# sourceMappingURL=secp256k1.js.map","import { CodeError } from '@libp2p/interface/errors';\nimport { sha256 } from 'multiformats/hashes/sha2';\nimport { equals as uint8ArrayEquals } from 'uint8arrays/equals';\nimport { toString as uint8ArrayToString } from 'uint8arrays/to-string';\nimport { exporter } from './exporter.js';\nimport * as keysProtobuf from './keys.js';\nimport * as crypto from './secp256k1.js';\nexport class Secp256k1PublicKey {\n    _key;\n    constructor(key) {\n        crypto.validatePublicKey(key);\n        this._key = key;\n    }\n    async verify(data, sig) {\n        return crypto.hashAndVerify(this._key, sig, data);\n    }\n    marshal() {\n        return crypto.compressPublicKey(this._key);\n    }\n    get bytes() {\n        return keysProtobuf.PublicKey.encode({\n            Type: keysProtobuf.KeyType.Secp256k1,\n            Data: this.marshal()\n        }).subarray();\n    }\n    equals(key) {\n        return uint8ArrayEquals(this.bytes, key.bytes);\n    }\n    async hash() {\n        const { bytes } = await sha256.digest(this.bytes);\n        return bytes;\n    }\n}\nexport class Secp256k1PrivateKey {\n    _key;\n    _publicKey;\n    constructor(key, publicKey) {\n        this._key = key;\n        this._publicKey = publicKey ?? crypto.computePublicKey(key);\n        crypto.validatePrivateKey(this._key);\n        crypto.validatePublicKey(this._publicKey);\n    }\n    async sign(message) {\n        return crypto.hashAndSign(this._key, message);\n    }\n    get public() {\n        return new Secp256k1PublicKey(this._publicKey);\n    }\n    marshal() {\n        return this._key;\n    }\n    get bytes() {\n        return keysProtobuf.PrivateKey.encode({\n            Type: keysProtobuf.KeyType.Secp256k1,\n            Data: this.marshal()\n        }).subarray();\n    }\n    equals(key) {\n        return uint8ArrayEquals(this.bytes, key.bytes);\n    }\n    async hash() {\n        const { bytes } = await sha256.digest(this.bytes);\n        return bytes;\n    }\n    /**\n     * Gets the ID of the key.\n     *\n     * The key id is the base58 encoding of the SHA-256 multihash of its public key.\n     * The public key is a protobuf encoding containing a type and the DER encoding\n     * of the PKCS SubjectPublicKeyInfo.\n     */\n    async id() {\n        const hash = await this.public.hash();\n        return uint8ArrayToString(hash, 'base58btc');\n    }\n    /**\n     * Exports the key into a password protected `format`\n     */\n    async export(password, format = 'libp2p-key') {\n        if (format === 'libp2p-key') {\n            return exporter(this.bytes, password);\n        }\n        else {\n            throw new CodeError(`export format '${format}' is not supported`, 'ERR_INVALID_EXPORT_FORMAT');\n        }\n    }\n}\nexport function unmarshalSecp256k1PrivateKey(bytes) {\n    return new Secp256k1PrivateKey(bytes);\n}\nexport function unmarshalSecp256k1PublicKey(bytes) {\n    return new Secp256k1PublicKey(bytes);\n}\nexport async function generateKeyPair() {\n    const privateKeyBytes = crypto.generateKey();\n    return new Secp256k1PrivateKey(privateKeyBytes);\n}\n//# sourceMappingURL=secp256k1-class.js.map","import 'node-forge/lib/asn1.js';\nimport 'node-forge/lib/pbe.js';\nimport { CodeError } from '@libp2p/interface/errors';\n// @ts-expect-error types are missing\nimport forge from 'node-forge/lib/forge.js';\nimport { fromString as uint8ArrayFromString } from 'uint8arrays/from-string';\nimport * as Ed25519 from './ed25519-class.js';\nimport generateEphemeralKeyPair from './ephemeral-keys.js';\nimport { importer } from './importer.js';\nimport { keyStretcher } from './key-stretcher.js';\nimport * as keysPBM from './keys.js';\nimport * as RSA from './rsa-class.js';\nimport * as Secp256k1 from './secp256k1-class.js';\nexport { keyStretcher };\nexport { generateEphemeralKeyPair };\nexport { keysPBM };\nexport const supportedKeys = {\n    rsa: RSA,\n    ed25519: Ed25519,\n    secp256k1: Secp256k1\n};\nfunction unsupportedKey(type) {\n    const supported = Object.keys(supportedKeys).join(' / ');\n    return new CodeError(`invalid or unsupported key type ${type}. Must be ${supported}`, 'ERR_UNSUPPORTED_KEY_TYPE');\n}\nfunction typeToKey(type) {\n    type = type.toLowerCase();\n    if (type === 'rsa' || type === 'ed25519' || type === 'secp256k1') {\n        return supportedKeys[type];\n    }\n    throw unsupportedKey(type);\n}\n// Generates a keypair of the given type and bitsize\nexport async function generateKeyPair(type, bits) {\n    return typeToKey(type).generateKeyPair(bits ?? 2048);\n}\n// Generates a keypair of the given type and bitsize\n// seed is a 32 byte uint8array\nexport async function generateKeyPairFromSeed(type, seed, bits) {\n    if (type.toLowerCase() !== 'ed25519') {\n        throw new CodeError('Seed key derivation is unimplemented for RSA or secp256k1', 'ERR_UNSUPPORTED_KEY_DERIVATION_TYPE');\n    }\n    return Ed25519.generateKeyPairFromSeed(seed);\n}\n// Converts a protobuf serialized public key into its\n// representative object\nexport function unmarshalPublicKey(buf) {\n    const decoded = keysPBM.PublicKey.decode(buf);\n    const data = decoded.Data ?? new Uint8Array();\n    switch (decoded.Type) {\n        case keysPBM.KeyType.RSA:\n            return supportedKeys.rsa.unmarshalRsaPublicKey(data);\n        case keysPBM.KeyType.Ed25519:\n            return supportedKeys.ed25519.unmarshalEd25519PublicKey(data);\n        case keysPBM.KeyType.Secp256k1:\n            return supportedKeys.secp256k1.unmarshalSecp256k1PublicKey(data);\n        default:\n            throw unsupportedKey(decoded.Type ?? 'unknown');\n    }\n}\n// Converts a public key object into a protobuf serialized public key\nexport function marshalPublicKey(key, type) {\n    type = (type ?? 'rsa').toLowerCase();\n    typeToKey(type); // check type\n    return key.bytes;\n}\n// Converts a protobuf serialized private key into its\n// representative object\nexport async function unmarshalPrivateKey(buf) {\n    const decoded = keysPBM.PrivateKey.decode(buf);\n    const data = decoded.Data ?? new Uint8Array();\n    switch (decoded.Type) {\n        case keysPBM.KeyType.RSA:\n            return supportedKeys.rsa.unmarshalRsaPrivateKey(data);\n        case keysPBM.KeyType.Ed25519:\n            return supportedKeys.ed25519.unmarshalEd25519PrivateKey(data);\n        case keysPBM.KeyType.Secp256k1:\n            return supportedKeys.secp256k1.unmarshalSecp256k1PrivateKey(data);\n        default:\n            throw unsupportedKey(decoded.Type ?? 'RSA');\n    }\n}\n// Converts a private key object into a protobuf serialized private key\nexport function marshalPrivateKey(key, type) {\n    type = (type ?? 'rsa').toLowerCase();\n    typeToKey(type); // check type\n    return key.bytes;\n}\n/**\n *\n * @param {string} encryptedKey\n * @param {string} password\n */\nexport async function importKey(encryptedKey, password) {\n    try {\n        const key = await importer(encryptedKey, password);\n        return await unmarshalPrivateKey(key);\n    }\n    catch (_) {\n        // Ignore and try the old pem decrypt\n    }\n    // Only rsa supports pem right now\n    const key = forge.pki.decryptRsaPrivateKey(encryptedKey, password);\n    if (key === null) {\n        throw new CodeError('Cannot read the key, most likely the password is wrong or not a RSA key', 'ERR_CANNOT_DECRYPT_PEM');\n    }\n    let der = forge.asn1.toDer(forge.pki.privateKeyToAsn1(key));\n    der = uint8ArrayFromString(der.getBytes(), 'ascii');\n    return supportedKeys.rsa.unmarshalRsaPrivateKey(der);\n}\n//# sourceMappingURL=index.js.map","import { CodeError } from '@libp2p/interface/errors';\nimport { symbol } from '@libp2p/interface/peer-id';\nimport { base58btc } from 'multiformats/bases/base58';\nimport { bases } from 'multiformats/basics';\nimport { CID } from 'multiformats/cid';\nimport * as Digest from 'multiformats/hashes/digest';\nimport { identity } from 'multiformats/hashes/identity';\nimport { sha256 } from 'multiformats/hashes/sha2';\nimport { equals as uint8ArrayEquals } from 'uint8arrays/equals';\nconst inspect = Symbol.for('nodejs.util.inspect.custom');\nconst baseDecoder = Object\n    .values(bases)\n    .map(codec => codec.decoder)\n    // @ts-expect-error https://github.com/multiformats/js-multiformats/issues/141\n    .reduce((acc, curr) => acc.or(curr), bases.identity.decoder);\n// these values are from https://github.com/multiformats/multicodec/blob/master/table.csv\nconst LIBP2P_KEY_CODE = 0x72;\nconst MARSHALLED_ED225519_PUBLIC_KEY_LENGTH = 36;\nconst MARSHALLED_SECP256K1_PUBLIC_KEY_LENGTH = 37;\nclass PeerIdImpl {\n    type;\n    multihash;\n    privateKey;\n    publicKey;\n    string;\n    constructor(init) {\n        this.type = init.type;\n        this.multihash = init.multihash;\n        this.privateKey = init.privateKey;\n        // mark string cache as non-enumerable\n        Object.defineProperty(this, 'string', {\n            enumerable: false,\n            writable: true\n        });\n    }\n    get [Symbol.toStringTag]() {\n        return `PeerId(${this.toString()})`;\n    }\n    [symbol] = true;\n    toString() {\n        if (this.string == null) {\n            this.string = base58btc.encode(this.multihash.bytes).slice(1);\n        }\n        return this.string;\n    }\n    // return self-describing String representation\n    // in default format from RFC 0001: https://github.com/libp2p/specs/pull/209\n    toCID() {\n        return CID.createV1(LIBP2P_KEY_CODE, this.multihash);\n    }\n    toBytes() {\n        return this.multihash.bytes;\n    }\n    /**\n     * Returns Multiaddr as a JSON string\n     */\n    toJSON() {\n        return this.toString();\n    }\n    /**\n     * Checks the equality of `this` peer against a given PeerId\n     */\n    equals(id) {\n        if (id instanceof Uint8Array) {\n            return uint8ArrayEquals(this.multihash.bytes, id);\n        }\n        else if (typeof id === 'string') {\n            return peerIdFromString(id).equals(this);\n        }\n        else if (id?.multihash?.bytes != null) {\n            return uint8ArrayEquals(this.multihash.bytes, id.multihash.bytes);\n        }\n        else {\n            throw new Error('not valid Id');\n        }\n    }\n    /**\n     * Returns PeerId as a human-readable string\n     * https://nodejs.org/api/util.html#utilinspectcustom\n     *\n     * @example\n     * ```js\n     * import { peerIdFromString } from '@libp2p/peer-id'\n     *\n     * console.info(peerIdFromString('QmFoo'))\n     * // 'PeerId(QmFoo)'\n     * ```\n     */\n    [inspect]() {\n        return `PeerId(${this.toString()})`;\n    }\n}\nclass RSAPeerIdImpl extends PeerIdImpl {\n    type = 'RSA';\n    publicKey;\n    constructor(init) {\n        super({ ...init, type: 'RSA' });\n        this.publicKey = init.publicKey;\n    }\n}\nclass Ed25519PeerIdImpl extends PeerIdImpl {\n    type = 'Ed25519';\n    publicKey;\n    constructor(init) {\n        super({ ...init, type: 'Ed25519' });\n        this.publicKey = init.multihash.digest;\n    }\n}\nclass Secp256k1PeerIdImpl extends PeerIdImpl {\n    type = 'secp256k1';\n    publicKey;\n    constructor(init) {\n        super({ ...init, type: 'secp256k1' });\n        this.publicKey = init.multihash.digest;\n    }\n}\nexport function createPeerId(init) {\n    if (init.type === 'RSA') {\n        return new RSAPeerIdImpl(init);\n    }\n    if (init.type === 'Ed25519') {\n        return new Ed25519PeerIdImpl(init);\n    }\n    if (init.type === 'secp256k1') {\n        return new Secp256k1PeerIdImpl(init);\n    }\n    throw new CodeError('Type must be \"RSA\", \"Ed25519\" or \"secp256k1\"', 'ERR_INVALID_PARAMETERS');\n}\nexport function peerIdFromPeerId(other) {\n    if (other.type === 'RSA') {\n        return new RSAPeerIdImpl(other);\n    }\n    if (other.type === 'Ed25519') {\n        return new Ed25519PeerIdImpl(other);\n    }\n    if (other.type === 'secp256k1') {\n        return new Secp256k1PeerIdImpl(other);\n    }\n    throw new CodeError('Not a PeerId', 'ERR_INVALID_PARAMETERS');\n}\nexport function peerIdFromString(str, decoder) {\n    decoder = decoder ?? baseDecoder;\n    if (str.charAt(0) === '1' || str.charAt(0) === 'Q') {\n        // identity hash ed25519/secp256k1 key or sha2-256 hash of\n        // rsa public key - base58btc encoded either way\n        const multihash = Digest.decode(base58btc.decode(`z${str}`));\n        if (str.startsWith('12D')) {\n            return new Ed25519PeerIdImpl({ multihash });\n        }\n        else if (str.startsWith('16U')) {\n            return new Secp256k1PeerIdImpl({ multihash });\n        }\n        else {\n            return new RSAPeerIdImpl({ multihash });\n        }\n    }\n    return peerIdFromBytes(baseDecoder.decode(str));\n}\nexport function peerIdFromBytes(buf) {\n    try {\n        const multihash = Digest.decode(buf);\n        if (multihash.code === identity.code) {\n            if (multihash.digest.length === MARSHALLED_ED225519_PUBLIC_KEY_LENGTH) {\n                return new Ed25519PeerIdImpl({ multihash });\n            }\n            else if (multihash.digest.length === MARSHALLED_SECP256K1_PUBLIC_KEY_LENGTH) {\n                return new Secp256k1PeerIdImpl({ multihash });\n            }\n        }\n        if (multihash.code === sha256.code) {\n            return new RSAPeerIdImpl({ multihash });\n        }\n    }\n    catch {\n        return peerIdFromCID(CID.decode(buf));\n    }\n    throw new Error('Supplied PeerID CID is invalid');\n}\nexport function peerIdFromCID(cid) {\n    if (cid == null || cid.multihash == null || cid.version == null || (cid.version === 1 && cid.code !== LIBP2P_KEY_CODE)) {\n        throw new Error('Supplied PeerID CID is invalid');\n    }\n    const multihash = cid.multihash;\n    if (multihash.code === sha256.code) {\n        return new RSAPeerIdImpl({ multihash: cid.multihash });\n    }\n    else if (multihash.code === identity.code) {\n        if (multihash.digest.length === MARSHALLED_ED225519_PUBLIC_KEY_LENGTH) {\n            return new Ed25519PeerIdImpl({ multihash: cid.multihash });\n        }\n        else if (multihash.digest.length === MARSHALLED_SECP256K1_PUBLIC_KEY_LENGTH) {\n            return new Secp256k1PeerIdImpl({ multihash: cid.multihash });\n        }\n    }\n    throw new Error('Supplied PeerID CID is invalid');\n}\n/**\n * @param publicKey - A marshalled public key\n * @param privateKey - A marshalled private key\n */\nexport async function peerIdFromKeys(publicKey, privateKey) {\n    if (publicKey.length === MARSHALLED_ED225519_PUBLIC_KEY_LENGTH) {\n        return new Ed25519PeerIdImpl({ multihash: Digest.create(identity.code, publicKey), privateKey });\n    }\n    if (publicKey.length === MARSHALLED_SECP256K1_PUBLIC_KEY_LENGTH) {\n        return new Secp256k1PeerIdImpl({ multihash: Digest.create(identity.code, publicKey), privateKey });\n    }\n    return new RSAPeerIdImpl({ multihash: await sha256.digest(publicKey), publicKey, privateKey });\n}\n//# sourceMappingURL=index.js.map","/* eslint-disable import/export */\n/* eslint-disable complexity */\n/* eslint-disable @typescript-eslint/no-namespace */\n/* eslint-disable @typescript-eslint/no-unnecessary-boolean-literal-compare */\n/* eslint-disable @typescript-eslint/no-empty-interface */\nimport { encodeMessage, decodeMessage, message } from 'protons-runtime';\nexport var NoiseExtensions;\n(function (NoiseExtensions) {\n    let _codec;\n    NoiseExtensions.codec = () => {\n        if (_codec == null) {\n            _codec = message((obj, w, opts = {}) => {\n                if (opts.lengthDelimited !== false) {\n                    w.fork();\n                }\n                if (obj.webtransportCerthashes != null) {\n                    for (const value of obj.webtransportCerthashes) {\n                        w.uint32(10);\n                        w.bytes(value);\n                    }\n                }\n                if (opts.lengthDelimited !== false) {\n                    w.ldelim();\n                }\n            }, (reader, length) => {\n                const obj = {\n                    webtransportCerthashes: []\n                };\n                const end = length == null ? reader.len : reader.pos + length;\n                while (reader.pos < end) {\n                    const tag = reader.uint32();\n                    switch (tag >>> 3) {\n                        case 1:\n                            obj.webtransportCerthashes.push(reader.bytes());\n                            break;\n                        default:\n                            reader.skipType(tag & 7);\n                            break;\n                    }\n                }\n                return obj;\n            });\n        }\n        return _codec;\n    };\n    NoiseExtensions.encode = (obj) => {\n        return encodeMessage(obj, NoiseExtensions.codec());\n    };\n    NoiseExtensions.decode = (buf) => {\n        return decodeMessage(buf, NoiseExtensions.codec());\n    };\n})(NoiseExtensions || (NoiseExtensions = {}));\nexport var NoiseHandshakePayload;\n(function (NoiseHandshakePayload) {\n    let _codec;\n    NoiseHandshakePayload.codec = () => {\n        if (_codec == null) {\n            _codec = message((obj, w, opts = {}) => {\n                if (opts.lengthDelimited !== false) {\n                    w.fork();\n                }\n                if (opts.writeDefaults === true || (obj.identityKey != null && obj.identityKey.byteLength > 0)) {\n                    w.uint32(10);\n                    w.bytes(obj.identityKey ?? new Uint8Array(0));\n                }\n                if (opts.writeDefaults === true || (obj.identitySig != null && obj.identitySig.byteLength > 0)) {\n                    w.uint32(18);\n                    w.bytes(obj.identitySig ?? new Uint8Array(0));\n                }\n                if (obj.extensions != null) {\n                    w.uint32(34);\n                    NoiseExtensions.codec().encode(obj.extensions, w, {\n                        writeDefaults: false\n                    });\n                }\n                if (opts.lengthDelimited !== false) {\n                    w.ldelim();\n                }\n            }, (reader, length) => {\n                const obj = {\n                    identityKey: new Uint8Array(0),\n                    identitySig: new Uint8Array(0)\n                };\n                const end = length == null ? reader.len : reader.pos + length;\n                while (reader.pos < end) {\n                    const tag = reader.uint32();\n                    switch (tag >>> 3) {\n                        case 1:\n                            obj.identityKey = reader.bytes();\n                            break;\n                        case 2:\n                            obj.identitySig = reader.bytes();\n                            break;\n                        case 4:\n                            obj.extensions = NoiseExtensions.codec().decode(reader, reader.uint32());\n                            break;\n                        default:\n                            reader.skipType(tag & 7);\n                            break;\n                    }\n                }\n                return obj;\n            });\n        }\n        return _codec;\n    };\n    NoiseHandshakePayload.encode = (obj) => {\n        return encodeMessage(obj, NoiseHandshakePayload.codec());\n    };\n    NoiseHandshakePayload.decode = (buf) => {\n        return decodeMessage(buf, NoiseHandshakePayload.codec());\n    };\n})(NoiseHandshakePayload || (NoiseHandshakePayload = {}));\n//# sourceMappingURL=payload.js.map","import { unmarshalPublicKey, unmarshalPrivateKey } from '@libp2p/crypto/keys';\nimport { peerIdFromKeys } from '@libp2p/peer-id';\nimport { concat as uint8ArrayConcat } from 'uint8arrays/concat';\nimport { fromString as uint8ArrayFromString } from 'uint8arrays/from-string';\nimport { NoiseHandshakePayload } from './proto/payload.js';\nexport async function getPayload(localPeer, staticPublicKey, extensions) {\n    const signedPayload = await signPayload(localPeer, getHandshakePayload(staticPublicKey));\n    if (localPeer.publicKey == null) {\n        throw new Error('PublicKey was missing from local PeerId');\n    }\n    return createHandshakePayload(localPeer.publicKey, signedPayload, extensions);\n}\nexport function createHandshakePayload(libp2pPublicKey, signedPayload, extensions) {\n    return NoiseHandshakePayload.encode({\n        identityKey: libp2pPublicKey,\n        identitySig: signedPayload,\n        extensions: extensions ?? { webtransportCerthashes: [] }\n    }).subarray();\n}\nexport async function signPayload(peerId, payload) {\n    if (peerId.privateKey == null) {\n        throw new Error('PrivateKey was missing from PeerId');\n    }\n    const privateKey = await unmarshalPrivateKey(peerId.privateKey);\n    return privateKey.sign(payload);\n}\nexport async function getPeerIdFromPayload(payload) {\n    return peerIdFromKeys(payload.identityKey);\n}\nexport function decodePayload(payload) {\n    return NoiseHandshakePayload.decode(payload);\n}\nexport function getHandshakePayload(publicKey) {\n    const prefix = uint8ArrayFromString('noise-libp2p-static-key:');\n    return uint8ArrayConcat([prefix, publicKey], prefix.length + publicKey.length);\n}\n/**\n * Verifies signed payload, throws on any irregularities.\n *\n * @param {bytes} noiseStaticKey - owner's noise static key\n * @param {bytes} payload - decoded payload\n * @param {PeerId} remotePeer - owner's libp2p peer ID\n * @returns {Promise<PeerId>} - peer ID of payload owner\n */\nexport async function verifySignedPayload(noiseStaticKey, payload, remotePeer) {\n    // Unmarshaling from PublicKey protobuf\n    const payloadPeerId = await peerIdFromKeys(payload.identityKey);\n    if (!payloadPeerId.equals(remotePeer)) {\n        throw new Error(`Payload identity key ${payloadPeerId.toString()} does not match expected remote peer ${remotePeer.toString()}`);\n    }\n    const generatedPayload = getHandshakePayload(noiseStaticKey);\n    if (payloadPeerId.publicKey == null) {\n        throw new Error('PublicKey was missing from PeerId');\n    }\n    if (payload.identitySig == null) {\n        throw new Error('Signature was missing from message');\n    }\n    const publicKey = unmarshalPublicKey(payloadPeerId.publicKey);\n    const valid = await publicKey.verify(generatedPayload, payload.identitySig);\n    if (!valid) {\n        throw new Error(\"Static key doesn't match to peer that signed payload!\");\n    }\n    return payloadPeerId;\n}\nexport function isValidPublicKey(pk) {\n    if (!(pk instanceof Uint8Array)) {\n        return false;\n    }\n    if (pk.length !== 32) {\n        return false;\n    }\n    return true;\n}\n//# sourceMappingURL=utils.js.map","import debug from 'debug';\nimport { base32 } from 'multiformats/bases/base32';\nimport { base58btc } from 'multiformats/bases/base58';\nimport { base64 } from 'multiformats/bases/base64';\n// Add a formatter for converting to a base58 string\ndebug.formatters.b = (v) => {\n    return v == null ? 'undefined' : base58btc.baseEncode(v);\n};\n// Add a formatter for converting to a base32 string\ndebug.formatters.t = (v) => {\n    return v == null ? 'undefined' : base32.baseEncode(v);\n};\n// Add a formatter for converting to a base64 string\ndebug.formatters.m = (v) => {\n    return v == null ? 'undefined' : base64.baseEncode(v);\n};\n// Add a formatter for stringifying peer ids\ndebug.formatters.p = (v) => {\n    return v == null ? 'undefined' : v.toString();\n};\n// Add a formatter for stringifying CIDs\ndebug.formatters.c = (v) => {\n    return v == null ? 'undefined' : v.toString();\n};\n// Add a formatter for stringifying Datastore keys\ndebug.formatters.k = (v) => {\n    return v == null ? 'undefined' : v.toString();\n};\n// Add a formatter for stringifying Multiaddrs\ndebug.formatters.a = (v) => {\n    return v == null ? 'undefined' : v.toString();\n};\nfunction createDisabledLogger(namespace) {\n    const logger = () => { };\n    logger.enabled = false;\n    logger.color = '';\n    logger.diff = 0;\n    logger.log = () => { };\n    logger.namespace = namespace;\n    logger.destroy = () => true;\n    logger.extend = () => logger;\n    return logger;\n}\nexport function logger(name) {\n    // trace logging is a no-op by default\n    let trace = createDisabledLogger(`${name}:trace`);\n    // look at all the debug names and see if trace logging has explicitly been enabled\n    if (debug.enabled(`${name}:trace`) && debug.names.map(r => r.toString()).find(n => n.includes(':trace')) != null) {\n        trace = debug(`${name}:trace`);\n    }\n    return Object.assign(debug(name), {\n        error: debug(`${name}:error`),\n        trace\n    });\n}\nexport function disable() {\n    debug.disable();\n}\nexport function enable(namespaces) {\n    debug.enable(namespaces);\n}\nexport function enabled(namespaces) {\n    return debug.enabled(namespaces);\n}\n//# sourceMappingURL=index.js.map","import { logger } from '@libp2p/logger';\nimport { toString as uint8ArrayToString } from 'uint8arrays/to-string';\nimport { DUMP_SESSION_KEYS } from './constants.js';\nconst log = logger('libp2p:noise');\nexport { log as logger };\nlet keyLogger;\nif (DUMP_SESSION_KEYS) {\n    keyLogger = log;\n}\nelse {\n    keyLogger = Object.assign(() => { }, {\n        enabled: false,\n        trace: () => { },\n        error: () => { }\n    });\n}\nexport function logLocalStaticKeys(s) {\n    keyLogger(`LOCAL_STATIC_PUBLIC_KEY ${uint8ArrayToString(s.publicKey, 'hex')}`);\n    keyLogger(`LOCAL_STATIC_PRIVATE_KEY ${uint8ArrayToString(s.privateKey, 'hex')}`);\n}\nexport function logLocalEphemeralKeys(e) {\n    if (e) {\n        keyLogger(`LOCAL_PUBLIC_EPHEMERAL_KEY ${uint8ArrayToString(e.publicKey, 'hex')}`);\n        keyLogger(`LOCAL_PRIVATE_EPHEMERAL_KEY ${uint8ArrayToString(e.privateKey, 'hex')}`);\n    }\n    else {\n        keyLogger('Missing local ephemeral keys.');\n    }\n}\nexport function logRemoteStaticKey(rs) {\n    keyLogger(`REMOTE_STATIC_PUBLIC_KEY ${uint8ArrayToString(rs, 'hex')}`);\n}\nexport function logRemoteEphemeralKey(re) {\n    keyLogger(`REMOTE_EPHEMERAL_PUBLIC_KEY ${uint8ArrayToString(re, 'hex')}`);\n}\nexport function logCipherState(session) {\n    if (session.cs1 && session.cs2) {\n        keyLogger(`CIPHER_STATE_1 ${session.cs1.n.getUint64()} ${uint8ArrayToString(session.cs1.k, 'hex')}`);\n        keyLogger(`CIPHER_STATE_2 ${session.cs2.n.getUint64()} ${uint8ArrayToString(session.cs2.k, 'hex')}`);\n    }\n    else {\n        keyLogger('Missing cipher state.');\n    }\n}\n//# sourceMappingURL=logger.js.map","export const MIN_NONCE = 0;\n// For performance reasons, the nonce is represented as a JS `number`\n// Although JS `number` can safely represent integers up to 2 ** 53 - 1, we choose to only use\n// 4 bytes to store the data for performance reason.\n// This is a slight deviation from the noise spec, which describes the max nonce as 2 ** 64 - 2\n// The effect is that this implementation will need a new handshake to be performed after fewer messages are exchanged than other implementations with full uint64 nonces.\n// this MAX_NONCE is still a large number of messages, so the practical effect of this is negligible.\nexport const MAX_NONCE = 0xffffffff;\nconst ERR_MAX_NONCE = 'Cipherstate has reached maximum n, a new handshake must be performed';\n/**\n * The nonce is an uint that's increased over time.\n * Maintaining different representations help improve performance.\n */\nexport class Nonce {\n    n;\n    bytes;\n    view;\n    constructor(n = MIN_NONCE) {\n        this.n = n;\n        this.bytes = new Uint8Array(12);\n        this.view = new DataView(this.bytes.buffer, this.bytes.byteOffset, this.bytes.byteLength);\n        this.view.setUint32(4, n, true);\n    }\n    increment() {\n        this.n++;\n        // Even though we're treating the nonce as 8 bytes, RFC7539 specifies 12 bytes for a nonce.\n        this.view.setUint32(4, this.n, true);\n    }\n    getBytes() {\n        return this.bytes;\n    }\n    getUint64() {\n        return this.n;\n    }\n    assertValue() {\n        if (this.n > MAX_NONCE) {\n            throw new Error(ERR_MAX_NONCE);\n        }\n    }\n}\n//# sourceMappingURL=nonce.js.map","import { fromString as uint8ArrayFromString } from 'uint8arrays';\nimport { concat as uint8ArrayConcat } from 'uint8arrays/concat';\nimport { equals as uint8ArrayEquals } from 'uint8arrays/equals';\nimport { logger } from '../logger.js';\nimport { Nonce } from '../nonce.js';\nexport class AbstractHandshake {\n    crypto;\n    constructor(crypto) {\n        this.crypto = crypto;\n    }\n    encryptWithAd(cs, ad, plaintext) {\n        const e = this.encrypt(cs.k, cs.n, ad, plaintext);\n        cs.n.increment();\n        return e;\n    }\n    decryptWithAd(cs, ad, ciphertext, dst) {\n        const { plaintext, valid } = this.decrypt(cs.k, cs.n, ad, ciphertext, dst);\n        if (valid)\n            cs.n.increment();\n        return { plaintext, valid };\n    }\n    // Cipher state related\n    hasKey(cs) {\n        return !this.isEmptyKey(cs.k);\n    }\n    createEmptyKey() {\n        return new Uint8Array(32);\n    }\n    isEmptyKey(k) {\n        const emptyKey = this.createEmptyKey();\n        return uint8ArrayEquals(emptyKey, k);\n    }\n    encrypt(k, n, ad, plaintext) {\n        n.assertValue();\n        return this.crypto.chaCha20Poly1305Encrypt(plaintext, n.getBytes(), ad, k);\n    }\n    encryptAndHash(ss, plaintext) {\n        let ciphertext;\n        if (this.hasKey(ss.cs)) {\n            ciphertext = this.encryptWithAd(ss.cs, ss.h, plaintext);\n        }\n        else {\n            ciphertext = plaintext;\n        }\n        this.mixHash(ss, ciphertext);\n        return ciphertext;\n    }\n    decrypt(k, n, ad, ciphertext, dst) {\n        n.assertValue();\n        const encryptedMessage = this.crypto.chaCha20Poly1305Decrypt(ciphertext, n.getBytes(), ad, k, dst);\n        if (encryptedMessage) {\n            return {\n                plaintext: encryptedMessage,\n                valid: true\n            };\n        }\n        else {\n            return {\n                plaintext: new Uint8Array(0),\n                valid: false\n            };\n        }\n    }\n    decryptAndHash(ss, ciphertext) {\n        let plaintext;\n        let valid = true;\n        if (this.hasKey(ss.cs)) {\n            ({ plaintext, valid } = this.decryptWithAd(ss.cs, ss.h, ciphertext));\n        }\n        else {\n            plaintext = ciphertext;\n        }\n        this.mixHash(ss, ciphertext);\n        return { plaintext, valid };\n    }\n    dh(privateKey, publicKey) {\n        try {\n            const derivedU8 = this.crypto.generateX25519SharedKey(privateKey, publicKey);\n            if (derivedU8.length === 32) {\n                return derivedU8;\n            }\n            return derivedU8.subarray(0, 32);\n        }\n        catch (e) {\n            const err = e;\n            logger.error(err);\n            return new Uint8Array(32);\n        }\n    }\n    mixHash(ss, data) {\n        ss.h = this.getHash(ss.h, data);\n    }\n    getHash(a, b) {\n        const u = this.crypto.hashSHA256(uint8ArrayConcat([a, b], a.length + b.length));\n        return u;\n    }\n    mixKey(ss, ikm) {\n        const [ck, tempK] = this.crypto.getHKDF(ss.ck, ikm);\n        ss.cs = this.initializeKey(tempK);\n        ss.ck = ck;\n    }\n    initializeKey(k) {\n        return { k, n: new Nonce() };\n    }\n    // Symmetric state related\n    initializeSymmetric(protocolName) {\n        const protocolNameBytes = uint8ArrayFromString(protocolName, 'utf-8');\n        const h = this.hashProtocolName(protocolNameBytes);\n        const ck = h;\n        const key = this.createEmptyKey();\n        const cs = this.initializeKey(key);\n        return { cs, ck, h };\n    }\n    hashProtocolName(protocolName) {\n        if (protocolName.length <= 32) {\n            const h = new Uint8Array(32);\n            h.set(protocolName);\n            return h;\n        }\n        else {\n            return this.getHash(protocolName, new Uint8Array(0));\n        }\n    }\n    split(ss) {\n        const [tempk1, tempk2] = this.crypto.getHKDF(ss.ck, new Uint8Array(0));\n        const cs1 = this.initializeKey(tempk1);\n        const cs2 = this.initializeKey(tempk2);\n        return { cs1, cs2 };\n    }\n    writeMessageRegular(cs, payload) {\n        const ciphertext = this.encryptWithAd(cs, new Uint8Array(0), payload);\n        const ne = this.createEmptyKey();\n        const ns = new Uint8Array(0);\n        return { ne, ns, ciphertext };\n    }\n    readMessageRegular(cs, message) {\n        return this.decryptWithAd(cs, new Uint8Array(0), message.ciphertext);\n    }\n}\n//# sourceMappingURL=abstract-handshake.js.map","import { isValidPublicKey } from '../utils.js';\nimport { AbstractHandshake } from './abstract-handshake.js';\nexport class XX extends AbstractHandshake {\n    initializeInitiator(prologue, s, rs, psk) {\n        const name = 'Noise_XX_25519_ChaChaPoly_SHA256';\n        const ss = this.initializeSymmetric(name);\n        this.mixHash(ss, prologue);\n        const re = new Uint8Array(32);\n        return { ss, s, rs, psk, re };\n    }\n    initializeResponder(prologue, s, rs, psk) {\n        const name = 'Noise_XX_25519_ChaChaPoly_SHA256';\n        const ss = this.initializeSymmetric(name);\n        this.mixHash(ss, prologue);\n        const re = new Uint8Array(32);\n        return { ss, s, rs, psk, re };\n    }\n    writeMessageA(hs, payload, e) {\n        const ns = new Uint8Array(0);\n        if (e !== undefined) {\n            hs.e = e;\n        }\n        else {\n            hs.e = this.crypto.generateX25519KeyPair();\n        }\n        const ne = hs.e.publicKey;\n        this.mixHash(hs.ss, ne);\n        const ciphertext = this.encryptAndHash(hs.ss, payload);\n        return { ne, ns, ciphertext };\n    }\n    writeMessageB(hs, payload) {\n        hs.e = this.crypto.generateX25519KeyPair();\n        const ne = hs.e.publicKey;\n        this.mixHash(hs.ss, ne);\n        this.mixKey(hs.ss, this.dh(hs.e.privateKey, hs.re));\n        const spk = hs.s.publicKey;\n        const ns = this.encryptAndHash(hs.ss, spk);\n        this.mixKey(hs.ss, this.dh(hs.s.privateKey, hs.re));\n        const ciphertext = this.encryptAndHash(hs.ss, payload);\n        return { ne, ns, ciphertext };\n    }\n    writeMessageC(hs, payload) {\n        const spk = hs.s.publicKey;\n        const ns = this.encryptAndHash(hs.ss, spk);\n        this.mixKey(hs.ss, this.dh(hs.s.privateKey, hs.re));\n        const ciphertext = this.encryptAndHash(hs.ss, payload);\n        const ne = this.createEmptyKey();\n        const messageBuffer = { ne, ns, ciphertext };\n        const { cs1, cs2 } = this.split(hs.ss);\n        return { h: hs.ss.h, messageBuffer, cs1, cs2 };\n    }\n    readMessageA(hs, message) {\n        if (isValidPublicKey(message.ne)) {\n            hs.re = message.ne;\n        }\n        this.mixHash(hs.ss, hs.re);\n        return this.decryptAndHash(hs.ss, message.ciphertext);\n    }\n    readMessageB(hs, message) {\n        if (isValidPublicKey(message.ne)) {\n            hs.re = message.ne;\n        }\n        this.mixHash(hs.ss, hs.re);\n        if (!hs.e) {\n            throw new Error('Handshake state `e` param is missing.');\n        }\n        this.mixKey(hs.ss, this.dh(hs.e.privateKey, hs.re));\n        const { plaintext: ns, valid: valid1 } = this.decryptAndHash(hs.ss, message.ns);\n        if (valid1 && isValidPublicKey(ns)) {\n            hs.rs = ns;\n        }\n        this.mixKey(hs.ss, this.dh(hs.e.privateKey, hs.rs));\n        const { plaintext, valid: valid2 } = this.decryptAndHash(hs.ss, message.ciphertext);\n        return { plaintext, valid: (valid1 && valid2) };\n    }\n    readMessageC(hs, message) {\n        const { plaintext: ns, valid: valid1 } = this.decryptAndHash(hs.ss, message.ns);\n        if (valid1 && isValidPublicKey(ns)) {\n            hs.rs = ns;\n        }\n        if (!hs.e) {\n            throw new Error('Handshake state `e` param is missing.');\n        }\n        this.mixKey(hs.ss, this.dh(hs.e.privateKey, hs.rs));\n        const { plaintext, valid: valid2 } = this.decryptAndHash(hs.ss, message.ciphertext);\n        const { cs1, cs2 } = this.split(hs.ss);\n        return { h: hs.ss.h, plaintext, valid: (valid1 && valid2), cs1, cs2 };\n    }\n    initSession(initiator, prologue, s) {\n        const psk = this.createEmptyKey();\n        const rs = new Uint8Array(32); // no static key yet\n        let hs;\n        if (initiator) {\n            hs = this.initializeInitiator(prologue, s, rs, psk);\n        }\n        else {\n            hs = this.initializeResponder(prologue, s, rs, psk);\n        }\n        return {\n            hs,\n            i: initiator,\n            mc: 0\n        };\n    }\n    sendMessage(session, message, ephemeral) {\n        let messageBuffer;\n        if (session.mc === 0) {\n            messageBuffer = this.writeMessageA(session.hs, message, ephemeral);\n        }\n        else if (session.mc === 1) {\n            messageBuffer = this.writeMessageB(session.hs, message);\n        }\n        else if (session.mc === 2) {\n            const { h, messageBuffer: resultingBuffer, cs1, cs2 } = this.writeMessageC(session.hs, message);\n            messageBuffer = resultingBuffer;\n            session.h = h;\n            session.cs1 = cs1;\n            session.cs2 = cs2;\n        }\n        else if (session.mc > 2) {\n            if (session.i) {\n                if (!session.cs1) {\n                    throw new Error('CS1 (cipher state) is not defined');\n                }\n                messageBuffer = this.writeMessageRegular(session.cs1, message);\n            }\n            else {\n                if (!session.cs2) {\n                    throw new Error('CS2 (cipher state) is not defined');\n                }\n                messageBuffer = this.writeMessageRegular(session.cs2, message);\n            }\n        }\n        else {\n            throw new Error('Session invalid.');\n        }\n        session.mc++;\n        return messageBuffer;\n    }\n    recvMessage(session, message) {\n        let plaintext = new Uint8Array(0);\n        let valid = false;\n        if (session.mc === 0) {\n            ({ plaintext, valid } = this.readMessageA(session.hs, message));\n        }\n        else if (session.mc === 1) {\n            ({ plaintext, valid } = this.readMessageB(session.hs, message));\n        }\n        else if (session.mc === 2) {\n            const { h, plaintext: resultingPlaintext, valid: resultingValid, cs1, cs2 } = this.readMessageC(session.hs, message);\n            plaintext = resultingPlaintext;\n            valid = resultingValid;\n            session.h = h;\n            session.cs1 = cs1;\n            session.cs2 = cs2;\n        }\n        session.mc++;\n        return { plaintext, valid };\n    }\n}\n//# sourceMappingURL=xx.js.map","import { InvalidCryptoExchangeError, UnexpectedPeerError } from '@libp2p/interface/errors';\nimport { decode0, decode1, decode2, encode0, encode1, encode2 } from './encoder.js';\nimport { XX } from './handshakes/xx.js';\nimport { logger, logLocalStaticKeys, logLocalEphemeralKeys, logRemoteEphemeralKey, logRemoteStaticKey, logCipherState } from './logger.js';\nimport { decodePayload, getPeerIdFromPayload, verifySignedPayload } from './utils.js';\nexport class XXHandshake {\n    isInitiator;\n    session;\n    remotePeer;\n    remoteExtensions = { webtransportCerthashes: [] };\n    payload;\n    connection;\n    xx;\n    staticKeypair;\n    prologue;\n    constructor(isInitiator, payload, prologue, crypto, staticKeypair, connection, remotePeer, handshake) {\n        this.isInitiator = isInitiator;\n        this.payload = payload;\n        this.prologue = prologue;\n        this.staticKeypair = staticKeypair;\n        this.connection = connection;\n        if (remotePeer) {\n            this.remotePeer = remotePeer;\n        }\n        this.xx = handshake ?? new XX(crypto);\n        this.session = this.xx.initSession(this.isInitiator, this.prologue, this.staticKeypair);\n    }\n    // stage 0\n    async propose() {\n        logLocalStaticKeys(this.session.hs.s);\n        if (this.isInitiator) {\n            logger.trace('Stage 0 - Initiator starting to send first message.');\n            const messageBuffer = this.xx.sendMessage(this.session, new Uint8Array(0));\n            await this.connection.write(encode0(messageBuffer));\n            logger.trace('Stage 0 - Initiator finished sending first message.');\n            logLocalEphemeralKeys(this.session.hs.e);\n        }\n        else {\n            logger.trace('Stage 0 - Responder waiting to receive first message...');\n            const receivedMessageBuffer = decode0((await this.connection.read()).subarray());\n            const { valid } = this.xx.recvMessage(this.session, receivedMessageBuffer);\n            if (!valid) {\n                throw new InvalidCryptoExchangeError('xx handshake stage 0 validation fail');\n            }\n            logger.trace('Stage 0 - Responder received first message.');\n            logRemoteEphemeralKey(this.session.hs.re);\n        }\n    }\n    // stage 1\n    async exchange() {\n        if (this.isInitiator) {\n            logger.trace('Stage 1 - Initiator waiting to receive first message from responder...');\n            const receivedMessageBuffer = decode1((await this.connection.read()).subarray());\n            const { plaintext, valid } = this.xx.recvMessage(this.session, receivedMessageBuffer);\n            if (!valid) {\n                throw new InvalidCryptoExchangeError('xx handshake stage 1 validation fail');\n            }\n            logger.trace('Stage 1 - Initiator received the message.');\n            logRemoteEphemeralKey(this.session.hs.re);\n            logRemoteStaticKey(this.session.hs.rs);\n            logger.trace(\"Initiator going to check remote's signature...\");\n            try {\n                const decodedPayload = decodePayload(plaintext);\n                this.remotePeer = this.remotePeer || await getPeerIdFromPayload(decodedPayload);\n                await verifySignedPayload(this.session.hs.rs, decodedPayload, this.remotePeer);\n                this.setRemoteNoiseExtension(decodedPayload.extensions);\n            }\n            catch (e) {\n                const err = e;\n                throw new UnexpectedPeerError(`Error occurred while verifying signed payload: ${err.message}`);\n            }\n            logger.trace('All good with the signature!');\n        }\n        else {\n            logger.trace('Stage 1 - Responder sending out first message with signed payload and static key.');\n            const messageBuffer = this.xx.sendMessage(this.session, this.payload);\n            await this.connection.write(encode1(messageBuffer));\n            logger.trace('Stage 1 - Responder sent the second handshake message with signed payload.');\n            logLocalEphemeralKeys(this.session.hs.e);\n        }\n    }\n    // stage 2\n    async finish() {\n        if (this.isInitiator) {\n            logger.trace('Stage 2 - Initiator sending third handshake message.');\n            const messageBuffer = this.xx.sendMessage(this.session, this.payload);\n            await this.connection.write(encode2(messageBuffer));\n            logger.trace('Stage 2 - Initiator sent message with signed payload.');\n        }\n        else {\n            logger.trace('Stage 2 - Responder waiting for third handshake message...');\n            const receivedMessageBuffer = decode2((await this.connection.read()).subarray());\n            const { plaintext, valid } = this.xx.recvMessage(this.session, receivedMessageBuffer);\n            if (!valid) {\n                throw new InvalidCryptoExchangeError('xx handshake stage 2 validation fail');\n            }\n            logger.trace('Stage 2 - Responder received the message, finished handshake.');\n            try {\n                const decodedPayload = decodePayload(plaintext);\n                this.remotePeer = this.remotePeer || await getPeerIdFromPayload(decodedPayload);\n                await verifySignedPayload(this.session.hs.rs, decodedPayload, this.remotePeer);\n                this.setRemoteNoiseExtension(decodedPayload.extensions);\n            }\n            catch (e) {\n                const err = e;\n                throw new UnexpectedPeerError(`Error occurred while verifying signed payload: ${err.message}`);\n            }\n        }\n        logCipherState(this.session);\n    }\n    encrypt(plaintext, session) {\n        const cs = this.getCS(session);\n        return this.xx.encryptWithAd(cs, new Uint8Array(0), plaintext);\n    }\n    decrypt(ciphertext, session, dst) {\n        const cs = this.getCS(session, false);\n        return this.xx.decryptWithAd(cs, new Uint8Array(0), ciphertext, dst);\n    }\n    getRemoteStaticKey() {\n        return this.session.hs.rs;\n    }\n    getCS(session, encryption = true) {\n        if (!session.cs1 || !session.cs2) {\n            throw new InvalidCryptoExchangeError('Handshake not completed properly, cipher state does not exist.');\n        }\n        if (this.isInitiator) {\n            return encryption ? session.cs1 : session.cs2;\n        }\n        else {\n            return encryption ? session.cs2 : session.cs1;\n        }\n    }\n    setRemoteNoiseExtension(e) {\n        if (e) {\n            this.remoteExtensions = e;\n        }\n    }\n}\n//# sourceMappingURL=handshake-xx.js.map","import { decode } from 'it-length-prefixed';\nimport { lpStream } from 'it-length-prefixed-stream';\nimport { duplexPair } from 'it-pair/duplex';\nimport { pipe } from 'it-pipe';\nimport { NOISE_MSG_MAX_LENGTH_BYTES } from './constants.js';\nimport { pureJsCrypto } from './crypto/js.js';\nimport { decryptStream, encryptStream } from './crypto/streaming.js';\nimport { uint16BEDecode, uint16BEEncode } from './encoder.js';\nimport { XXHandshake } from './handshake-xx.js';\nimport { registerMetrics } from './metrics.js';\nimport { getPayload } from './utils.js';\nexport class Noise {\n    protocol = '/noise';\n    crypto;\n    prologue;\n    staticKeys;\n    extensions;\n    metrics;\n    constructor(init = {}) {\n        const { staticNoiseKey, extensions, crypto, prologueBytes, metrics } = init;\n        this.crypto = crypto ?? pureJsCrypto;\n        this.extensions = extensions;\n        this.metrics = metrics ? registerMetrics(metrics) : undefined;\n        if (staticNoiseKey) {\n            // accepts x25519 private key of length 32\n            this.staticKeys = this.crypto.generateX25519KeyPairFromSeed(staticNoiseKey);\n        }\n        else {\n            this.staticKeys = this.crypto.generateX25519KeyPair();\n        }\n        this.prologue = prologueBytes ?? new Uint8Array(0);\n    }\n    /**\n     * Encrypt outgoing data to the remote party (handshake as initiator)\n     *\n     * @param {PeerId} localPeer - PeerId of the receiving peer\n     * @param {Duplex<AsyncGenerator<Uint8Array>, AsyncIterable<Uint8Array>, Promise<void>>} connection - streaming iterable duplex that will be encrypted\n     * @param {PeerId} remotePeer - PeerId of the remote peer. Used to validate the integrity of the remote peer.\n     * @returns {Promise<SecuredConnection>}\n     */\n    async secureOutbound(localPeer, connection, remotePeer) {\n        const wrappedConnection = lpStream(connection, {\n            lengthEncoder: uint16BEEncode,\n            lengthDecoder: uint16BEDecode,\n            maxDataLength: NOISE_MSG_MAX_LENGTH_BYTES\n        });\n        const handshake = await this.performHandshake({\n            connection: wrappedConnection,\n            isInitiator: true,\n            localPeer,\n            remotePeer\n        });\n        const conn = await this.createSecureConnection(wrappedConnection, handshake);\n        return {\n            conn,\n            remoteExtensions: handshake.remoteExtensions,\n            remotePeer: handshake.remotePeer\n        };\n    }\n    /**\n     * Decrypt incoming data (handshake as responder).\n     *\n     * @param {PeerId} localPeer - PeerId of the receiving peer.\n     * @param {Duplex<AsyncGenerator<Uint8Array>, AsyncIterable<Uint8Array>, Promise<void>>} connection - streaming iterable duplex that will be encryption.\n     * @param {PeerId} remotePeer - optional PeerId of the initiating peer, if known. This may only exist during transport upgrades.\n     * @returns {Promise<SecuredConnection>}\n     */\n    async secureInbound(localPeer, connection, remotePeer) {\n        const wrappedConnection = lpStream(connection, {\n            lengthEncoder: uint16BEEncode,\n            lengthDecoder: uint16BEDecode,\n            maxDataLength: NOISE_MSG_MAX_LENGTH_BYTES\n        });\n        const handshake = await this.performHandshake({\n            connection: wrappedConnection,\n            isInitiator: false,\n            localPeer,\n            remotePeer\n        });\n        const conn = await this.createSecureConnection(wrappedConnection, handshake);\n        return {\n            conn,\n            remotePeer: handshake.remotePeer,\n            remoteExtensions: handshake.remoteExtensions\n        };\n    }\n    /**\n     * If Noise pipes supported, tries IK handshake first with XX as fallback if it fails.\n     * If noise pipes disabled or remote peer static key is unknown, use XX.\n     *\n     * @param {HandshakeParams} params\n     */\n    async performHandshake(params) {\n        const payload = await getPayload(params.localPeer, this.staticKeys.publicKey, this.extensions);\n        // run XX handshake\n        return this.performXXHandshake(params, payload);\n    }\n    async performXXHandshake(params, payload) {\n        const { isInitiator, remotePeer, connection } = params;\n        const handshake = new XXHandshake(isInitiator, payload, this.prologue, this.crypto, this.staticKeys, connection, remotePeer);\n        try {\n            await handshake.propose();\n            await handshake.exchange();\n            await handshake.finish();\n            this.metrics?.xxHandshakeSuccesses.increment();\n        }\n        catch (e) {\n            this.metrics?.xxHandshakeErrors.increment();\n            if (e instanceof Error) {\n                e.message = `Error occurred during XX handshake: ${e.message}`;\n                throw e;\n            }\n        }\n        return handshake;\n    }\n    async createSecureConnection(connection, handshake) {\n        // Create encryption box/unbox wrapper\n        const [secure, user] = duplexPair();\n        const network = connection.unwrap();\n        await pipe(secure, // write to wrapper\n        encryptStream(handshake, this.metrics), // encrypt data + prefix with message length\n        network, // send to the remote peer\n        (source) => decode(source, { lengthDecoder: uint16BEDecode }), // read message length prefix\n        decryptStream(handshake, this.metrics), // decrypt the incoming data\n        secure // pipe to the wrapper\n        );\n        return user;\n    }\n}\n//# sourceMappingURL=noise.js.map","export function registerMetrics(metrics) {\n    return {\n        xxHandshakeSuccesses: metrics.registerCounter('libp2p_noise_xxhandshake_successes_total', {\n            help: 'Total count of noise xxHandshakes successes_'\n        }),\n        xxHandshakeErrors: metrics.registerCounter('libp2p_noise_xxhandshake_error_total', {\n            help: 'Total count of noise xxHandshakes errors'\n        }),\n        encryptedPackets: metrics.registerCounter('libp2p_noise_encrypted_packets_total', {\n            help: 'Total count of noise encrypted packets successfully'\n        }),\n        decryptedPackets: metrics.registerCounter('libp2p_noise_decrypted_packets_total', {\n            help: 'Total count of noise decrypted packets'\n        }),\n        decryptErrors: metrics.registerCounter('libp2p_noise_decrypt_errors_total', {\n            help: 'Total count of noise decrypt errors'\n        })\n    };\n}\n//# sourceMappingURL=metrics.js.map","import { pair } from './index.js';\n/**\n * Two duplex streams that are attached to each other\n */\nexport function duplexPair() {\n    const a = pair();\n    const b = pair();\n    return [\n        {\n            source: a.source,\n            sink: b.sink\n        },\n        {\n            source: b.source,\n            sink: a.sink\n        }\n    ];\n}\n//# sourceMappingURL=duplex.js.map","import { NOISE_MSG_MAX_LENGTH_BYTES, NOISE_MSG_MAX_LENGTH_BYTES_WITHOUT_TAG } from '../constants.js';\nimport { uint16BEEncode } from '../encoder.js';\nconst CHACHA_TAG_LENGTH = 16;\n// Returns generator that encrypts payload from the user\nexport function encryptStream(handshake, metrics) {\n    return async function* (source) {\n        for await (const chunk of source) {\n            for (let i = 0; i < chunk.length; i += NOISE_MSG_MAX_LENGTH_BYTES_WITHOUT_TAG) {\n                let end = i + NOISE_MSG_MAX_LENGTH_BYTES_WITHOUT_TAG;\n                if (end > chunk.length) {\n                    end = chunk.length;\n                }\n                const data = handshake.encrypt(chunk.subarray(i, end), handshake.session);\n                metrics?.encryptedPackets.increment();\n                yield uint16BEEncode(data.byteLength);\n                yield data;\n            }\n        }\n    };\n}\n// Decrypt received payload to the user\nexport function decryptStream(handshake, metrics) {\n    return async function* (source) {\n        for await (const chunk of source) {\n            for (let i = 0; i < chunk.length; i += NOISE_MSG_MAX_LENGTH_BYTES) {\n                let end = i + NOISE_MSG_MAX_LENGTH_BYTES;\n                if (end > chunk.length) {\n                    end = chunk.length;\n                }\n                if (end - CHACHA_TAG_LENGTH < i) {\n                    throw new Error('Invalid chunk');\n                }\n                const encrypted = chunk.subarray(i, end);\n                // memory allocation is not cheap so reuse the encrypted Uint8Array\n                // see https://github.com/ChainSafe/js-libp2p-noise/pull/242#issue-1422126164\n                // this is ok because chacha20 reads bytes one by one and don't reread after that\n                // it's also tested in https://github.com/ChainSafe/as-chacha20poly1305/pull/1/files#diff-25252846b58979dcaf4e41d47b3eadd7e4f335e7fb98da6c049b1f9cd011f381R48\n                const dst = chunk.subarray(i, end - CHACHA_TAG_LENGTH);\n                const { plaintext: decrypted, valid } = handshake.decrypt(encrypted, handshake.session, dst);\n                if (!valid) {\n                    metrics?.decryptErrors.increment();\n                    throw new Error('Failed to validate decrypted chunk');\n                }\n                metrics?.decryptedPackets.increment();\n                yield decrypted;\n            }\n        }\n    };\n}\n//# sourceMappingURL=streaming.js.map","import { Noise } from './noise.js';\nexport { pureJsCrypto } from './crypto/js.js';\nexport function noise(init = {}) {\n    return () => new Noise(init);\n}\n//# sourceMappingURL=index.js.map","// base-x encoding / decoding\n// Copyright (c) 2018 base-x contributors\n// Copyright (c) 2014-2018 The Bitcoin Core developers (base58.cpp)\n// Distributed under the MIT software license, see the accompanying\n// file LICENSE or http://www.opensource.org/licenses/mit-license.php.\nfunction base (ALPHABET, name) {\n  if (ALPHABET.length >= 255) { throw new TypeError('Alphabet too long') }\n  var BASE_MAP = new Uint8Array(256);\n  for (var j = 0; j < BASE_MAP.length; j++) {\n    BASE_MAP[j] = 255;\n  }\n  for (var i = 0; i < ALPHABET.length; i++) {\n    var x = ALPHABET.charAt(i);\n    var xc = x.charCodeAt(0);\n    if (BASE_MAP[xc] !== 255) { throw new TypeError(x + ' is ambiguous') }\n    BASE_MAP[xc] = i;\n  }\n  var BASE = ALPHABET.length;\n  var LEADER = ALPHABET.charAt(0);\n  var FACTOR = Math.log(BASE) / Math.log(256); // log(BASE) / log(256), rounded up\n  var iFACTOR = Math.log(256) / Math.log(BASE); // log(256) / log(BASE), rounded up\n  function encode (source) {\n    if (source instanceof Uint8Array) ; else if (ArrayBuffer.isView(source)) {\n      source = new Uint8Array(source.buffer, source.byteOffset, source.byteLength);\n    } else if (Array.isArray(source)) {\n      source = Uint8Array.from(source);\n    }\n    if (!(source instanceof Uint8Array)) { throw new TypeError('Expected Uint8Array') }\n    if (source.length === 0) { return '' }\n        // Skip & count leading zeroes.\n    var zeroes = 0;\n    var length = 0;\n    var pbegin = 0;\n    var pend = source.length;\n    while (pbegin !== pend && source[pbegin] === 0) {\n      pbegin++;\n      zeroes++;\n    }\n        // Allocate enough space in big-endian base58 representation.\n    var size = ((pend - pbegin) * iFACTOR + 1) >>> 0;\n    var b58 = new Uint8Array(size);\n        // Process the bytes.\n    while (pbegin !== pend) {\n      var carry = source[pbegin];\n            // Apply \"b58 = b58 * 256 + ch\".\n      var i = 0;\n      for (var it1 = size - 1; (carry !== 0 || i < length) && (it1 !== -1); it1--, i++) {\n        carry += (256 * b58[it1]) >>> 0;\n        b58[it1] = (carry % BASE) >>> 0;\n        carry = (carry / BASE) >>> 0;\n      }\n      if (carry !== 0) { throw new Error('Non-zero carry') }\n      length = i;\n      pbegin++;\n    }\n        // Skip leading zeroes in base58 result.\n    var it2 = size - length;\n    while (it2 !== size && b58[it2] === 0) {\n      it2++;\n    }\n        // Translate the result into a string.\n    var str = LEADER.repeat(zeroes);\n    for (; it2 < size; ++it2) { str += ALPHABET.charAt(b58[it2]); }\n    return str\n  }\n  function decodeUnsafe (source) {\n    if (typeof source !== 'string') { throw new TypeError('Expected String') }\n    if (source.length === 0) { return new Uint8Array() }\n    var psz = 0;\n        // Skip leading spaces.\n    if (source[psz] === ' ') { return }\n        // Skip and count leading '1's.\n    var zeroes = 0;\n    var length = 0;\n    while (source[psz] === LEADER) {\n      zeroes++;\n      psz++;\n    }\n        // Allocate enough space in big-endian base256 representation.\n    var size = (((source.length - psz) * FACTOR) + 1) >>> 0; // log(58) / log(256), rounded up.\n    var b256 = new Uint8Array(size);\n        // Process the characters.\n    while (source[psz]) {\n            // Decode character\n      var carry = BASE_MAP[source.charCodeAt(psz)];\n            // Invalid character\n      if (carry === 255) { return }\n      var i = 0;\n      for (var it3 = size - 1; (carry !== 0 || i < length) && (it3 !== -1); it3--, i++) {\n        carry += (BASE * b256[it3]) >>> 0;\n        b256[it3] = (carry % 256) >>> 0;\n        carry = (carry / 256) >>> 0;\n      }\n      if (carry !== 0) { throw new Error('Non-zero carry') }\n      length = i;\n      psz++;\n    }\n        // Skip trailing spaces.\n    if (source[psz] === ' ') { return }\n        // Skip leading zeroes in b256.\n    var it4 = size - length;\n    while (it4 !== size && b256[it4] === 0) {\n      it4++;\n    }\n    var vch = new Uint8Array(zeroes + (size - it4));\n    var j = zeroes;\n    while (it4 !== size) {\n      vch[j++] = b256[it4++];\n    }\n    return vch\n  }\n  function decode (string) {\n    var buffer = decodeUnsafe(string);\n    if (buffer) { return buffer }\n    throw new Error(`Non-${name} character`)\n  }\n  return {\n    encode: encode,\n    decodeUnsafe: decodeUnsafe,\n    decode: decode\n  }\n}\nvar src = base;\n\nvar _brrp__multiformats_scope_baseX = src;\n\nexport default _brrp__multiformats_scope_baseX;\n","const empty = new Uint8Array(0)\n\n/**\n * @param {Uint8Array} d\n */\nconst toHex = d => d.reduce((hex, byte) => hex + byte.toString(16).padStart(2, '0'), '')\n\n/**\n * @param {string} hex\n */\nconst fromHex = hex => {\n  const hexes = hex.match(/../g)\n  return hexes ? new Uint8Array(hexes.map(b => parseInt(b, 16))) : empty\n}\n\n/**\n * @param {Uint8Array} aa\n * @param {Uint8Array} bb\n */\nconst equals = (aa, bb) => {\n  if (aa === bb) return true\n  if (aa.byteLength !== bb.byteLength) {\n    return false\n  }\n\n  for (let ii = 0; ii < aa.byteLength; ii++) {\n    if (aa[ii] !== bb[ii]) {\n      return false\n    }\n  }\n\n  return true\n}\n\n/**\n * @param {ArrayBufferView|ArrayBuffer|Uint8Array} o\n * @returns {Uint8Array}\n */\nconst coerce = o => {\n  if (o instanceof Uint8Array && o.constructor.name === 'Uint8Array') return o\n  if (o instanceof ArrayBuffer) return new Uint8Array(o)\n  if (ArrayBuffer.isView(o)) {\n    return new Uint8Array(o.buffer, o.byteOffset, o.byteLength)\n  }\n  throw new Error('Unknown type, must be binary type')\n}\n\n/**\n * @param {any} o\n * @returns {o is ArrayBuffer|ArrayBufferView}\n */\nconst isBinary = o =>\n  o instanceof ArrayBuffer || ArrayBuffer.isView(o)\n\n/**\n * @param {string} str\n * @returns {Uint8Array}\n */\nconst fromString = str => (new TextEncoder()).encode(str)\n\n/**\n * @param {Uint8Array} b\n * @returns {string}\n */\nconst toString = b => (new TextDecoder()).decode(b)\n\nexport { equals, coerce, isBinary, fromHex, toHex, fromString, toString, empty }\n","import basex from '../../vendor/base-x.js'\nimport { coerce } from '../bytes.js'\n// Linter can't see that API is used in types.\n// eslint-disable-next-line\nimport * as API from './interface.js'\n\n/**\n * Class represents both BaseEncoder and MultibaseEncoder meaning it\n * can be used to encode to multibase or base encode without multibase\n * prefix.\n *\n * @class\n * @template {string} Base\n * @template {string} Prefix\n * @implements {API.MultibaseEncoder<Prefix>}\n * @implements {API.BaseEncoder}\n */\nclass Encoder {\n  /**\n   * @param {Base} name\n   * @param {Prefix} prefix\n   * @param {(bytes:Uint8Array) => string} baseEncode\n   */\n  constructor (name, prefix, baseEncode) {\n    this.name = name\n    this.prefix = prefix\n    this.baseEncode = baseEncode\n  }\n\n  /**\n   * @param {Uint8Array} bytes\n   * @returns {API.Multibase<Prefix>}\n   */\n  encode (bytes) {\n    if (bytes instanceof Uint8Array) {\n      return `${this.prefix}${this.baseEncode(bytes)}`\n    } else {\n      throw Error('Unknown type, must be binary type')\n    }\n  }\n}\n\n/**\n * @template {string} Prefix\n */\n/**\n * Class represents both BaseDecoder and MultibaseDecoder so it could be used\n * to decode multibases (with matching prefix) or just base decode strings\n * with corresponding base encoding.\n *\n * @class\n * @template {string} Base\n * @template {string} Prefix\n * @implements {API.MultibaseDecoder<Prefix>}\n * @implements {API.UnibaseDecoder<Prefix>}\n * @implements {API.BaseDecoder}\n */\nclass Decoder {\n  /**\n   * @param {Base} name\n   * @param {Prefix} prefix\n   * @param {(text:string) => Uint8Array} baseDecode\n   */\n  constructor (name, prefix, baseDecode) {\n    this.name = name\n    this.prefix = prefix\n    /* c8 ignore next 3 */\n    if (prefix.codePointAt(0) === undefined) {\n      throw new Error('Invalid prefix character')\n    }\n    /** @private */\n    this.prefixCodePoint = /** @type {number} */ (prefix.codePointAt(0))\n    this.baseDecode = baseDecode\n  }\n\n  /**\n   * @param {string} text\n   */\n  decode (text) {\n    if (typeof text === 'string') {\n      if (text.codePointAt(0) !== this.prefixCodePoint) {\n        throw Error(`Unable to decode multibase string ${JSON.stringify(text)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`)\n      }\n      return this.baseDecode(text.slice(this.prefix.length))\n    } else {\n      throw Error('Can only multibase decode strings')\n    }\n  }\n\n  /**\n   * @template {string} OtherPrefix\n   * @param {API.UnibaseDecoder<OtherPrefix>|ComposedDecoder<OtherPrefix>} decoder\n   * @returns {ComposedDecoder<Prefix|OtherPrefix>}\n   */\n  or (decoder) {\n    return or(this, decoder)\n  }\n}\n\n/**\n * @template {string} Prefix\n * @typedef {Record<Prefix, API.UnibaseDecoder<Prefix>>} Decoders\n */\n\n/**\n * @template {string} Prefix\n * @implements {API.MultibaseDecoder<Prefix>}\n * @implements {API.CombobaseDecoder<Prefix>}\n */\nclass ComposedDecoder {\n  /**\n   * @param {Decoders<Prefix>} decoders\n   */\n  constructor (decoders) {\n    this.decoders = decoders\n  }\n\n  /**\n   * @template {string} OtherPrefix\n   * @param {API.UnibaseDecoder<OtherPrefix>|ComposedDecoder<OtherPrefix>} decoder\n   * @returns {ComposedDecoder<Prefix|OtherPrefix>}\n   */\n  or (decoder) {\n    return or(this, decoder)\n  }\n\n  /**\n   * @param {string} input\n   * @returns {Uint8Array}\n   */\n  decode (input) {\n    const prefix = /** @type {Prefix} */ (input[0])\n    const decoder = this.decoders[prefix]\n    if (decoder) {\n      return decoder.decode(input)\n    } else {\n      throw RangeError(`Unable to decode multibase string ${JSON.stringify(input)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)\n    }\n  }\n}\n\n/**\n * @template {string} L\n * @template {string} R\n * @param {API.UnibaseDecoder<L>|API.CombobaseDecoder<L>} left\n * @param {API.UnibaseDecoder<R>|API.CombobaseDecoder<R>} right\n * @returns {ComposedDecoder<L|R>}\n */\nexport const or = (left, right) => new ComposedDecoder(/** @type {Decoders<L|R>} */({\n  ...(left.decoders || { [/** @type API.UnibaseDecoder<L> */(left).prefix]: left }),\n  ...(right.decoders || { [/** @type API.UnibaseDecoder<R> */(right).prefix]: right })\n}))\n\n/**\n * @class\n * @template {string} Base\n * @template {string} Prefix\n * @implements {API.MultibaseCodec<Prefix>}\n * @implements {API.MultibaseEncoder<Prefix>}\n * @implements {API.MultibaseDecoder<Prefix>}\n * @implements {API.BaseCodec}\n * @implements {API.BaseEncoder}\n * @implements {API.BaseDecoder}\n */\nexport class Codec {\n  /**\n   * @param {Base} name\n   * @param {Prefix} prefix\n   * @param {(bytes:Uint8Array) => string} baseEncode\n   * @param {(text:string) => Uint8Array} baseDecode\n   */\n  constructor (name, prefix, baseEncode, baseDecode) {\n    this.name = name\n    this.prefix = prefix\n    this.baseEncode = baseEncode\n    this.baseDecode = baseDecode\n    this.encoder = new Encoder(name, prefix, baseEncode)\n    this.decoder = new Decoder(name, prefix, baseDecode)\n  }\n\n  /**\n   * @param {Uint8Array} input\n   */\n  encode (input) {\n    return this.encoder.encode(input)\n  }\n\n  /**\n   * @param {string} input\n   */\n  decode (input) {\n    return this.decoder.decode(input)\n  }\n}\n\n/**\n * @template {string} Base\n * @template {string} Prefix\n * @param {object} options\n * @param {Base} options.name\n * @param {Prefix} options.prefix\n * @param {(bytes:Uint8Array) => string} options.encode\n * @param {(input:string) => Uint8Array} options.decode\n * @returns {Codec<Base, Prefix>}\n */\nexport const from = ({ name, prefix, encode, decode }) =>\n  new Codec(name, prefix, encode, decode)\n\n/**\n * @template {string} Base\n * @template {string} Prefix\n * @param {object} options\n * @param {Base} options.name\n * @param {Prefix} options.prefix\n * @param {string} options.alphabet\n * @returns {Codec<Base, Prefix>}\n */\nexport const baseX = ({ prefix, name, alphabet }) => {\n  const { encode, decode } = basex(alphabet, name)\n  return from({\n    prefix,\n    name,\n    encode,\n    /**\n     * @param {string} text\n     */\n    decode: text => coerce(decode(text))\n  })\n}\n\n/**\n * @param {string} string\n * @param {string} alphabet\n * @param {number} bitsPerChar\n * @param {string} name\n * @returns {Uint8Array}\n */\nconst decode = (string, alphabet, bitsPerChar, name) => {\n  // Build the character lookup table:\n  /** @type {Record<string, number>} */\n  const codes = {}\n  for (let i = 0; i < alphabet.length; ++i) {\n    codes[alphabet[i]] = i\n  }\n\n  // Count the padding bytes:\n  let end = string.length\n  while (string[end - 1] === '=') {\n    --end\n  }\n\n  // Allocate the output:\n  const out = new Uint8Array((end * bitsPerChar / 8) | 0)\n\n  // Parse the data:\n  let bits = 0 // Number of bits currently in the buffer\n  let buffer = 0 // Bits waiting to be written out, MSB first\n  let written = 0 // Next byte to write\n  for (let i = 0; i < end; ++i) {\n    // Read one character from the string:\n    const value = codes[string[i]]\n    if (value === undefined) {\n      throw new SyntaxError(`Non-${name} character`)\n    }\n\n    // Append the bits to the buffer:\n    buffer = (buffer << bitsPerChar) | value\n    bits += bitsPerChar\n\n    // Write out some bits if the buffer has a byte's worth:\n    if (bits >= 8) {\n      bits -= 8\n      out[written++] = 0xff & (buffer >> bits)\n    }\n  }\n\n  // Verify that we have received just enough bits:\n  if (bits >= bitsPerChar || 0xff & (buffer << (8 - bits))) {\n    throw new SyntaxError('Unexpected end of data')\n  }\n\n  return out\n}\n\n/**\n * @param {Uint8Array} data\n * @param {string} alphabet\n * @param {number} bitsPerChar\n * @returns {string}\n */\nconst encode = (data, alphabet, bitsPerChar) => {\n  const pad = alphabet[alphabet.length - 1] === '='\n  const mask = (1 << bitsPerChar) - 1\n  let out = ''\n\n  let bits = 0 // Number of bits currently in the buffer\n  let buffer = 0 // Bits waiting to be written out, MSB first\n  for (let i = 0; i < data.length; ++i) {\n    // Slurp data into the buffer:\n    buffer = (buffer << 8) | data[i]\n    bits += 8\n\n    // Write out as much as we can:\n    while (bits > bitsPerChar) {\n      bits -= bitsPerChar\n      out += alphabet[mask & (buffer >> bits)]\n    }\n  }\n\n  // Partial character:\n  if (bits) {\n    out += alphabet[mask & (buffer << (bitsPerChar - bits))]\n  }\n\n  // Add padding characters until we hit a byte boundary:\n  if (pad) {\n    while ((out.length * bitsPerChar) & 7) {\n      out += '='\n    }\n  }\n\n  return out\n}\n\n/**\n * RFC4648 Factory\n *\n * @template {string} Base\n * @template {string} Prefix\n * @param {object} options\n * @param {Base} options.name\n * @param {Prefix} options.prefix\n * @param {string} options.alphabet\n * @param {number} options.bitsPerChar\n */\nexport const rfc4648 = ({ name, prefix, bitsPerChar, alphabet }) => {\n  return from({\n    prefix,\n    name,\n    encode (input) {\n      return encode(input, alphabet, bitsPerChar)\n    },\n    decode (input) {\n      return decode(input, alphabet, bitsPerChar, name)\n    }\n  })\n}\n","import { rfc4648 } from './base.js'\n\nexport const base32 = rfc4648({\n  prefix: 'b',\n  name: 'base32',\n  alphabet: 'abcdefghijklmnopqrstuvwxyz234567',\n  bitsPerChar: 5\n})\n\nexport const base32upper = rfc4648({\n  prefix: 'B',\n  name: 'base32upper',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ234567',\n  bitsPerChar: 5\n})\n\nexport const base32pad = rfc4648({\n  prefix: 'c',\n  name: 'base32pad',\n  alphabet: 'abcdefghijklmnopqrstuvwxyz234567=',\n  bitsPerChar: 5\n})\n\nexport const base32padupper = rfc4648({\n  prefix: 'C',\n  name: 'base32padupper',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=',\n  bitsPerChar: 5\n})\n\nexport const base32hex = rfc4648({\n  prefix: 'v',\n  name: 'base32hex',\n  alphabet: '0123456789abcdefghijklmnopqrstuv',\n  bitsPerChar: 5\n})\n\nexport const base32hexupper = rfc4648({\n  prefix: 'V',\n  name: 'base32hexupper',\n  alphabet: '0123456789ABCDEFGHIJKLMNOPQRSTUV',\n  bitsPerChar: 5\n})\n\nexport const base32hexpad = rfc4648({\n  prefix: 't',\n  name: 'base32hexpad',\n  alphabet: '0123456789abcdefghijklmnopqrstuv=',\n  bitsPerChar: 5\n})\n\nexport const base32hexpadupper = rfc4648({\n  prefix: 'T',\n  name: 'base32hexpadupper',\n  alphabet: '0123456789ABCDEFGHIJKLMNOPQRSTUV=',\n  bitsPerChar: 5\n})\n\nexport const base32z = rfc4648({\n  prefix: 'h',\n  name: 'base32z',\n  alphabet: 'ybndrfg8ejkmcpqxot1uwisza345h769',\n  bitsPerChar: 5\n})\n","import { baseX } from './base.js'\n\nexport const base58btc = baseX({\n  name: 'base58btc',\n  prefix: 'z',\n  alphabet: '123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz'\n})\n\nexport const base58flickr = baseX({\n  name: 'base58flickr',\n  prefix: 'Z',\n  alphabet: '123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ'\n})\n","// @ts-check\n\nimport { rfc4648 } from './base.js'\n\nexport const base64 = rfc4648({\n  prefix: 'm',\n  name: 'base64',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',\n  bitsPerChar: 6\n})\n\nexport const base64pad = rfc4648({\n  prefix: 'M',\n  name: 'base64pad',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=',\n  bitsPerChar: 6\n})\n\nexport const base64url = rfc4648({\n  prefix: 'u',\n  name: 'base64url',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_',\n  bitsPerChar: 6\n})\n\nexport const base64urlpad = rfc4648({\n  prefix: 'U',\n  name: 'base64urlpad',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=',\n  bitsPerChar: 6\n})\n","import debug from 'debug';\nimport { base32 } from 'multiformats/bases/base32';\nimport { base58btc } from 'multiformats/bases/base58';\nimport { base64 } from 'multiformats/bases/base64';\n// Add a formatter for converting to a base58 string\ndebug.formatters.b = (v) => {\n    return v == null ? 'undefined' : base58btc.baseEncode(v);\n};\n// Add a formatter for converting to a base32 string\ndebug.formatters.t = (v) => {\n    return v == null ? 'undefined' : base32.baseEncode(v);\n};\n// Add a formatter for converting to a base64 string\ndebug.formatters.m = (v) => {\n    return v == null ? 'undefined' : base64.baseEncode(v);\n};\n// Add a formatter for stringifying peer ids\ndebug.formatters.p = (v) => {\n    return v == null ? 'undefined' : v.toString();\n};\n// Add a formatter for stringifying CIDs\ndebug.formatters.c = (v) => {\n    return v == null ? 'undefined' : v.toString();\n};\n// Add a formatter for stringifying Datastore keys\ndebug.formatters.k = (v) => {\n    return v == null ? 'undefined' : v.toString();\n};\n// Add a formatter for stringifying Multiaddrs\ndebug.formatters.a = (v) => {\n    return v == null ? 'undefined' : v.toString();\n};\nfunction createDisabledLogger(namespace) {\n    const logger = () => { };\n    logger.enabled = false;\n    logger.color = '';\n    logger.diff = 0;\n    logger.log = () => { };\n    logger.namespace = namespace;\n    logger.destroy = () => true;\n    logger.extend = () => logger;\n    return logger;\n}\nexport function logger(name) {\n    // trace logging is a no-op by default\n    let trace = createDisabledLogger(`${name}:trace`);\n    // look at all the debug names and see if trace logging has explicitly been enabled\n    if (debug.enabled(`${name}:trace`) && debug.names.map(r => r.toString()).find(n => n.includes(':trace')) != null) {\n        trace = debug(`${name}:trace`);\n    }\n    return Object.assign(debug(name), {\n        error: debug(`${name}:error`),\n        trace\n    });\n}\nexport function disable() {\n    debug.disable();\n}\nexport function enable(namespaces) {\n    debug.enable(namespaces);\n}\nexport function enabled(namespaces) {\n    return debug.enabled(namespaces);\n}\n//# sourceMappingURL=index.js.map","export class AbortError extends Error {\n    constructor(message, code) {\n        super(message ?? 'The operation was aborted');\n        this.type = 'aborted';\n        this.code = code ?? 'ABORT_ERR';\n    }\n}\n//# sourceMappingURL=abort-error.js.map","/**\n * @packageDocumentation\n *\n * @example\n *\n * ```js\n * import { abortableSource } from 'abortable-iterator'\n *\n * async function main () {\n *   // An example function that creates an async iterator that yields an increasing\n *   // number every x milliseconds and NEVER ENDS!\n *   const asyncCounter = async function * (start, delay) {\n *     let i = start\n *     while (true) {\n *       yield new Promise(resolve => setTimeout(() => resolve(i++), delay))\n *     }\n *   }\n *\n *   // Create a counter that'll yield numbers from 0 upwards every second\n *   const everySecond = asyncCounter(0, 1000)\n *\n *   // Make everySecond abortable!\n *   const controller = new AbortController()\n *   const abortableEverySecond = abortableSource(everySecond, controller.signal)\n *\n *   // Abort after 5 seconds\n *   setTimeout(() => controller.abort(), 5000)\n *\n *   try {\n *     // Start the iteration, which will throw after 5 seconds when it is aborted\n *     for await (const n of abortableEverySecond) {\n *       console.log(n)\n *     }\n *   } catch (err) {\n *     if (err.code === 'ERR_ABORTED') {\n *       // Expected - all ok :D\n *     } else {\n *       throw err\n *     }\n *   }\n * }\n *\n * main()\n * ```\n */\nimport { AbortError } from './abort-error.js';\nimport { getIterator } from 'get-iterator';\n/**\n * Wrap an iterator to make it abortable, allow cleanup when aborted via onAbort\n */\nexport function abortableSource(source, signal, options) {\n    const opts = options ?? {};\n    const iterator = getIterator(source);\n    async function* abortable() {\n        let nextAbortHandler;\n        const abortHandler = () => {\n            if (nextAbortHandler != null)\n                nextAbortHandler();\n        };\n        signal.addEventListener('abort', abortHandler);\n        while (true) {\n            let result;\n            try {\n                if (signal.aborted) {\n                    const { abortMessage, abortCode } = opts;\n                    throw new AbortError(abortMessage, abortCode);\n                }\n                const abort = new Promise((resolve, reject) => {\n                    nextAbortHandler = () => {\n                        const { abortMessage, abortCode } = opts;\n                        reject(new AbortError(abortMessage, abortCode));\n                    };\n                });\n                // Race the iterator and the abort signals\n                result = await Promise.race([abort, iterator.next()]);\n                nextAbortHandler = null;\n            }\n            catch (err) {\n                signal.removeEventListener('abort', abortHandler);\n                // Might not have been aborted by a known signal\n                const isKnownAborter = err.type === 'aborted' && signal.aborted;\n                if (isKnownAborter && (opts.onAbort != null)) {\n                    // Do any custom abort handling for the iterator\n                    opts.onAbort(source);\n                }\n                // End the iterator if it is a generator\n                if (typeof iterator.return === 'function') {\n                    try {\n                        const p = iterator.return();\n                        if (p instanceof Promise) { // eslint-disable-line max-depth\n                            p.catch(err => {\n                                if (opts.onReturnError != null) {\n                                    opts.onReturnError(err);\n                                }\n                            });\n                        }\n                    }\n                    catch (err) {\n                        if (opts.onReturnError != null) { // eslint-disable-line max-depth\n                            opts.onReturnError(err);\n                        }\n                    }\n                }\n                if (isKnownAborter && opts.returnOnAbort === true) {\n                    return;\n                }\n                throw err;\n            }\n            if (result.done === true) {\n                break;\n            }\n            yield result.value;\n        }\n        signal.removeEventListener('abort', abortHandler);\n    }\n    return abortable();\n}\nexport function abortableSink(sink, signal, options) {\n    return (source) => sink(abortableSource(source, signal, options));\n}\nexport function abortableDuplex(duplex, signal, options) {\n    return {\n        sink: abortableSink(duplex.sink, signal, {\n            ...options,\n            onAbort: undefined\n        }),\n        source: abortableSource(duplex.source, signal, options)\n    };\n}\nexport { AbortError };\nexport { abortableSink as abortableTransform };\n//# sourceMappingURL=index.js.map","export function getIterator(obj) {\n    if (obj != null) {\n        if (typeof obj[Symbol.iterator] === 'function') {\n            return obj[Symbol.iterator]();\n        }\n        if (typeof obj[Symbol.asyncIterator] === 'function') {\n            return obj[Symbol.asyncIterator]();\n        }\n        if (typeof obj.next === 'function') {\n            return obj; // probably an iterator\n        }\n    }\n    throw new Error('argument is not an iterator or iterable');\n}\n//# sourceMappingURL=index.js.map","// ported from https://www.npmjs.com/package/fast-fifo\nclass FixedFIFO {\n    buffer;\n    mask;\n    top;\n    btm;\n    next;\n    constructor(hwm) {\n        if (!(hwm > 0) || ((hwm - 1) & hwm) !== 0) {\n            throw new Error('Max size for a FixedFIFO should be a power of two');\n        }\n        this.buffer = new Array(hwm);\n        this.mask = hwm - 1;\n        this.top = 0;\n        this.btm = 0;\n        this.next = null;\n    }\n    push(data) {\n        if (this.buffer[this.top] !== undefined) {\n            return false;\n        }\n        this.buffer[this.top] = data;\n        this.top = (this.top + 1) & this.mask;\n        return true;\n    }\n    shift() {\n        const last = this.buffer[this.btm];\n        if (last === undefined) {\n            return undefined;\n        }\n        this.buffer[this.btm] = undefined;\n        this.btm = (this.btm + 1) & this.mask;\n        return last;\n    }\n    isEmpty() {\n        return this.buffer[this.btm] === undefined;\n    }\n}\nexport class FIFO {\n    size;\n    hwm;\n    head;\n    tail;\n    constructor(options = {}) {\n        this.hwm = options.splitLimit ?? 16;\n        this.head = new FixedFIFO(this.hwm);\n        this.tail = this.head;\n        this.size = 0;\n    }\n    calculateSize(obj) {\n        if (obj?.byteLength != null) {\n            return obj.byteLength;\n        }\n        return 1;\n    }\n    push(val) {\n        if (val?.value != null) {\n            this.size += this.calculateSize(val.value);\n        }\n        if (!this.head.push(val)) {\n            const prev = this.head;\n            this.head = prev.next = new FixedFIFO(2 * this.head.buffer.length);\n            this.head.push(val);\n        }\n    }\n    shift() {\n        let val = this.tail.shift();\n        if (val === undefined && (this.tail.next != null)) {\n            const next = this.tail.next;\n            this.tail.next = null;\n            this.tail = next;\n            val = this.tail.shift();\n        }\n        if (val?.value != null) {\n            this.size -= this.calculateSize(val.value);\n        }\n        return val;\n    }\n    isEmpty() {\n        return this.head.isEmpty();\n    }\n}\n//# sourceMappingURL=fifo.js.map","/**\n * @packageDocumentation\n *\n * An iterable that you can push values into.\n *\n * @example\n *\n * ```js\n * import { pushable } from 'it-pushable'\n *\n * const source = pushable()\n *\n * setTimeout(() => source.push('hello'), 100)\n * setTimeout(() => source.push('world'), 200)\n * setTimeout(() => source.end(), 300)\n *\n * const start = Date.now()\n *\n * for await (const value of source) {\n *   console.log(`got \"${value}\" after ${Date.now() - start}ms`)\n * }\n * console.log(`done after ${Date.now() - start}ms`)\n *\n * // Output:\n * // got \"hello\" after 105ms\n * // got \"world\" after 207ms\n * // done after 309ms\n * ```\n *\n * @example\n *\n * ```js\n * import { pushableV } from 'it-pushable'\n * import all from 'it-all'\n *\n * const source = pushableV()\n *\n * source.push(1)\n * source.push(2)\n * source.push(3)\n * source.end()\n *\n * console.info(await all(source))\n *\n * // Output:\n * // [ [1, 2, 3] ]\n * ```\n */\nimport deferred from 'p-defer';\nimport { FIFO } from './fifo.js';\nexport class AbortError extends Error {\n    type;\n    code;\n    constructor(message, code) {\n        super(message ?? 'The operation was aborted');\n        this.type = 'aborted';\n        this.code = code ?? 'ABORT_ERR';\n    }\n}\nexport function pushable(options = {}) {\n    const getNext = (buffer) => {\n        const next = buffer.shift();\n        if (next == null) {\n            return { done: true };\n        }\n        if (next.error != null) {\n            throw next.error;\n        }\n        return {\n            done: next.done === true,\n            // @ts-expect-error if done is false, value will be present\n            value: next.value\n        };\n    };\n    return _pushable(getNext, options);\n}\nexport function pushableV(options = {}) {\n    const getNext = (buffer) => {\n        let next;\n        const values = [];\n        while (!buffer.isEmpty()) {\n            next = buffer.shift();\n            if (next == null) {\n                break;\n            }\n            if (next.error != null) {\n                throw next.error;\n            }\n            if (next.done === false) {\n                // @ts-expect-error if done is false value should be pushed\n                values.push(next.value);\n            }\n        }\n        if (next == null) {\n            return { done: true };\n        }\n        return {\n            done: next.done === true,\n            value: values\n        };\n    };\n    return _pushable(getNext, options);\n}\nfunction _pushable(getNext, options) {\n    options = options ?? {};\n    let onEnd = options.onEnd;\n    let buffer = new FIFO();\n    let pushable;\n    let onNext;\n    let ended;\n    let drain = deferred();\n    const waitNext = async () => {\n        try {\n            if (!buffer.isEmpty()) {\n                return getNext(buffer);\n            }\n            if (ended) {\n                return { done: true };\n            }\n            return await new Promise((resolve, reject) => {\n                onNext = (next) => {\n                    onNext = null;\n                    buffer.push(next);\n                    try {\n                        resolve(getNext(buffer));\n                    }\n                    catch (err) {\n                        reject(err);\n                    }\n                    return pushable;\n                };\n            });\n        }\n        finally {\n            if (buffer.isEmpty()) {\n                // settle promise in the microtask queue to give consumers a chance to\n                // await after calling .push\n                queueMicrotask(() => {\n                    drain.resolve();\n                    drain = deferred();\n                });\n            }\n        }\n    };\n    const bufferNext = (next) => {\n        if (onNext != null) {\n            return onNext(next);\n        }\n        buffer.push(next);\n        return pushable;\n    };\n    const bufferError = (err) => {\n        buffer = new FIFO();\n        if (onNext != null) {\n            return onNext({ error: err });\n        }\n        buffer.push({ error: err });\n        return pushable;\n    };\n    const push = (value) => {\n        if (ended) {\n            return pushable;\n        }\n        // @ts-expect-error `byteLength` is not declared on PushType\n        if (options?.objectMode !== true && value?.byteLength == null) {\n            throw new Error('objectMode was not true but tried to push non-Uint8Array value');\n        }\n        return bufferNext({ done: false, value });\n    };\n    const end = (err) => {\n        if (ended)\n            return pushable;\n        ended = true;\n        return (err != null) ? bufferError(err) : bufferNext({ done: true });\n    };\n    const _return = () => {\n        buffer = new FIFO();\n        end();\n        return { done: true };\n    };\n    const _throw = (err) => {\n        end(err);\n        return { done: true };\n    };\n    pushable = {\n        [Symbol.asyncIterator]() { return this; },\n        next: waitNext,\n        return: _return,\n        throw: _throw,\n        push,\n        end,\n        get readableLength() {\n            return buffer.size;\n        },\n        onEmpty: async (options) => {\n            const signal = options?.signal;\n            signal?.throwIfAborted();\n            if (buffer.isEmpty()) {\n                return;\n            }\n            let cancel;\n            let listener;\n            if (signal != null) {\n                cancel = new Promise((resolve, reject) => {\n                    listener = () => {\n                        reject(new AbortError());\n                    };\n                    signal.addEventListener('abort', listener);\n                });\n            }\n            try {\n                await Promise.race([\n                    drain.promise,\n                    cancel\n                ]);\n            }\n            finally {\n                if (listener != null && signal != null) {\n                    signal?.removeEventListener('abort', listener);\n                }\n            }\n        }\n    };\n    if (onEnd == null) {\n        return pushable;\n    }\n    const _pushable = pushable;\n    pushable = {\n        [Symbol.asyncIterator]() { return this; },\n        next() {\n            return _pushable.next();\n        },\n        throw(err) {\n            _pushable.throw(err);\n            if (onEnd != null) {\n                onEnd(err);\n                onEnd = undefined;\n            }\n            return { done: true };\n        },\n        return() {\n            _pushable.return();\n            if (onEnd != null) {\n                onEnd();\n                onEnd = undefined;\n            }\n            return { done: true };\n        },\n        push,\n        end(err) {\n            _pushable.end(err);\n            if (onEnd != null) {\n                onEnd(err);\n                onEnd = undefined;\n            }\n            return pushable;\n        },\n        get readableLength() {\n            return _pushable.readableLength;\n        }\n    };\n    return pushable;\n}\n//# sourceMappingURL=index.js.map","// Protocol violation errors\nexport const ERR_INVALID_FRAME = 'ERR_INVALID_FRAME';\nexport const ERR_UNREQUESTED_PING = 'ERR_UNREQUESTED_PING';\nexport const ERR_NOT_MATCHING_PING = 'ERR_NOT_MATCHING_PING';\nexport const ERR_STREAM_ALREADY_EXISTS = 'ERR_STREAM_ALREADY_EXISTS';\nexport const ERR_DECODE_INVALID_VERSION = 'ERR_DECODE_INVALID_VERSION';\nexport const ERR_BOTH_CLIENTS = 'ERR_BOTH_CLIENTS';\nexport const ERR_RECV_WINDOW_EXCEEDED = 'ERR_RECV_WINDOW_EXCEEDED';\nexport const PROTOCOL_ERRORS = new Set([\n    ERR_INVALID_FRAME,\n    ERR_UNREQUESTED_PING,\n    ERR_NOT_MATCHING_PING,\n    ERR_STREAM_ALREADY_EXISTS,\n    ERR_DECODE_INVALID_VERSION,\n    ERR_BOTH_CLIENTS,\n    ERR_RECV_WINDOW_EXCEEDED\n]);\n// local errors\nexport const ERR_INVALID_CONFIG = 'ERR_INVALID_CONFIG';\nexport const ERR_MUXER_LOCAL_CLOSED = 'ERR_MUXER_LOCAL_CLOSED';\nexport const ERR_MUXER_REMOTE_CLOSED = 'ERR_MUXER_REMOTE_CLOSED';\nexport const ERR_STREAM_RESET = 'ERR_STREAM_RESET';\nexport const ERR_STREAM_ABORT = 'ERR_STREAM_ABORT';\nexport const ERR_MAX_OUTBOUND_STREAMS_EXCEEDED = 'ERROR_MAX_OUTBOUND_STREAMS_EXCEEDED';\nexport const ERR_DECODE_IN_PROGRESS = 'ERR_DECODE_IN_PROGRESS';\n/**\n * INITIAL_STREAM_WINDOW is the initial stream window size.\n *\n * Not an implementation choice, this is defined in the specification\n */\nexport const INITIAL_STREAM_WINDOW = 256 * 1024;\n/**\n * Default max stream window\n */\nexport const MAX_STREAM_WINDOW = 16 * 1024 * 1024;\n//# sourceMappingURL=constants.js.map","import { CodeError } from '@libp2p/interface/errors';\nimport { logger } from '@libp2p/logger';\nimport { ERR_INVALID_CONFIG, INITIAL_STREAM_WINDOW, MAX_STREAM_WINDOW } from './constants.js';\nexport const defaultConfig = {\n    log: logger('libp2p:yamux'),\n    enableKeepAlive: true,\n    keepAliveInterval: 30000,\n    maxInboundStreams: 1000,\n    maxOutboundStreams: 1000,\n    initialStreamWindowSize: INITIAL_STREAM_WINDOW,\n    maxStreamWindowSize: MAX_STREAM_WINDOW,\n    maxMessageSize: 64 * 1024\n};\nexport function verifyConfig(config) {\n    if (config.keepAliveInterval <= 0) {\n        throw new CodeError('keep-alive interval must be positive', ERR_INVALID_CONFIG);\n    }\n    if (config.maxInboundStreams < 0) {\n        throw new CodeError('max inbound streams must be larger or equal 0', ERR_INVALID_CONFIG);\n    }\n    if (config.maxOutboundStreams < 0) {\n        throw new CodeError('max outbound streams must be larger or equal 0', ERR_INVALID_CONFIG);\n    }\n    if (config.initialStreamWindowSize < INITIAL_STREAM_WINDOW) {\n        throw new CodeError('InitialStreamWindowSize must be larger or equal 256 kB', ERR_INVALID_CONFIG);\n    }\n    if (config.maxStreamWindowSize < config.initialStreamWindowSize) {\n        throw new CodeError('MaxStreamWindowSize must be larger than the InitialStreamWindowSize', ERR_INVALID_CONFIG);\n    }\n    if (config.maxStreamWindowSize > 2 ** 32 - 1) {\n        throw new CodeError('MaxStreamWindowSize must be less than equal MAX_UINT32', ERR_INVALID_CONFIG);\n    }\n    if (config.maxMessageSize < 1024) {\n        throw new CodeError('MaxMessageSize must be greater than a kilobyte', ERR_INVALID_CONFIG);\n    }\n}\n//# sourceMappingURL=config.js.map","export var FrameType;\n(function (FrameType) {\n    /** Used to transmit data. May transmit zero length payloads depending on the flags. */\n    FrameType[FrameType[\"Data\"] = 0] = \"Data\";\n    /** Used to updated the senders receive window size. This is used to implement per-session flow control. */\n    FrameType[FrameType[\"WindowUpdate\"] = 1] = \"WindowUpdate\";\n    /** Used to measure RTT. It can also be used to heart-beat and do keep-alives over TCP. */\n    FrameType[FrameType[\"Ping\"] = 2] = \"Ping\";\n    /** Used to close a session. */\n    FrameType[FrameType[\"GoAway\"] = 3] = \"GoAway\";\n})(FrameType || (FrameType = {}));\nexport var Flag;\n(function (Flag) {\n    /** Signals the start of a new stream. May be sent with a data or window update message. Also sent with a ping to indicate outbound. */\n    Flag[Flag[\"SYN\"] = 1] = \"SYN\";\n    /** Acknowledges the start of a new stream. May be sent with a data or window update message. Also sent with a ping to indicate response. */\n    Flag[Flag[\"ACK\"] = 2] = \"ACK\";\n    /** Performs a half-close of a stream. May be sent with a data message or window update. */\n    Flag[Flag[\"FIN\"] = 4] = \"FIN\";\n    /** Reset a stream immediately. May be sent with a data or window update message. */\n    Flag[Flag[\"RST\"] = 8] = \"RST\";\n})(Flag || (Flag = {}));\nconst flagCodes = Object.values(Flag).filter((x) => typeof x !== 'string');\nexport const YAMUX_VERSION = 0;\nexport var GoAwayCode;\n(function (GoAwayCode) {\n    GoAwayCode[GoAwayCode[\"NormalTermination\"] = 0] = \"NormalTermination\";\n    GoAwayCode[GoAwayCode[\"ProtocolError\"] = 1] = \"ProtocolError\";\n    GoAwayCode[GoAwayCode[\"InternalError\"] = 2] = \"InternalError\";\n})(GoAwayCode || (GoAwayCode = {}));\nexport const HEADER_LENGTH = 12;\nexport function stringifyHeader(header) {\n    const flags = flagCodes.filter(f => (header.flag & f) === f).map(f => Flag[f]).join('|');\n    return `streamID=${header.streamID} type=${FrameType[header.type]} flag=${flags} length=${header.length}`;\n}\n//# sourceMappingURL=frame.js.map","import { CodeError } from '@libp2p/interface/errors';\nimport { Uint8ArrayList } from 'uint8arraylist';\nimport { ERR_DECODE_INVALID_VERSION, ERR_DECODE_IN_PROGRESS } from './constants.js';\nimport { FrameType, HEADER_LENGTH, YAMUX_VERSION } from './frame.js';\n// used to bitshift in decoding\n// native bitshift can overflow into a negative number, so we bitshift by multiplying by a power of 2\nconst twoPow24 = 2 ** 24;\n/**\n * Decode a header from the front of a buffer\n *\n * @param data - Assumed to have enough bytes for a header\n */\nexport function decodeHeader(data) {\n    if (data[0] !== YAMUX_VERSION) {\n        throw new CodeError('Invalid frame version', ERR_DECODE_INVALID_VERSION);\n    }\n    return {\n        type: data[1],\n        flag: (data[2] << 8) + data[3],\n        streamID: (data[4] * twoPow24) + (data[5] << 16) + (data[6] << 8) + data[7],\n        length: (data[8] * twoPow24) + (data[9] << 16) + (data[10] << 8) + data[11]\n    };\n}\n/**\n * Decodes yamux frames from a source\n */\nexport class Decoder {\n    source;\n    /** Buffer for in-progress frames */\n    buffer;\n    /** Used to sanity check against decoding while in an inconsistent state */\n    frameInProgress;\n    constructor(source) {\n        // Normally, when entering a for-await loop with an iterable/async iterable, the only ways to exit the loop are:\n        // 1. exhaust the iterable\n        // 2. throw an error - slow, undesirable if there's not actually an error\n        // 3. break or return - calls the iterable's `return` method, finalizing the iterable, no more iteration possible\n        //\n        // In this case, we want to enter (and exit) a for-await loop per chunked data frame and continue processing the iterable.\n        // To do this, we strip the `return` method from the iterator and can now `break` early and continue iterating.\n        // Exiting the main for-await is still possible via 1. and 2.\n        this.source = returnlessSource(source);\n        this.buffer = new Uint8ArrayList();\n        this.frameInProgress = false;\n    }\n    /**\n     * Emits frames from the decoder source.\n     *\n     * Note: If `readData` is emitted, it _must_ be called before the next iteration\n     * Otherwise an error is thrown\n     */\n    async *emitFrames() {\n        for await (const chunk of this.source) {\n            this.buffer.append(chunk);\n            // Loop to consume as many bytes from the buffer as possible\n            // Eg: when a single chunk contains several frames\n            while (true) {\n                const header = this.readHeader();\n                if (header === undefined) {\n                    break;\n                }\n                const { type, length } = header;\n                if (type === FrameType.Data) {\n                    // This is a data frame, the frame body must still be read\n                    // `readData` must be called before the next iteration here\n                    this.frameInProgress = true;\n                    yield {\n                        header,\n                        readData: this.readBytes.bind(this, length)\n                    };\n                }\n                else {\n                    yield { header };\n                }\n            }\n        }\n    }\n    readHeader() {\n        // Sanity check to ensure a header isn't read when another frame is partially decoded\n        // In practice this shouldn't happen\n        if (this.frameInProgress) {\n            throw new CodeError('decoding frame already in progress', ERR_DECODE_IN_PROGRESS);\n        }\n        if (this.buffer.length < HEADER_LENGTH) {\n            // not enough data yet\n            return;\n        }\n        const header = decodeHeader(this.buffer.subarray(0, HEADER_LENGTH));\n        this.buffer.consume(HEADER_LENGTH);\n        return header;\n    }\n    async readBytes(length) {\n        if (this.buffer.length < length) {\n            for await (const chunk of this.source) {\n                this.buffer.append(chunk);\n                if (this.buffer.length >= length) {\n                    // see note above, the iterator is not `return`ed here\n                    break;\n                }\n            }\n        }\n        const out = this.buffer.sublist(0, length);\n        this.buffer.consume(length);\n        // The next frame can now be decoded\n        this.frameInProgress = false;\n        return out;\n    }\n}\n/**\n * Strip the `return` method from a `Source`\n */\nexport function returnlessSource(source) {\n    if (source[Symbol.iterator] !== undefined) {\n        const iterator = source[Symbol.iterator]();\n        iterator.return = undefined;\n        return {\n            [Symbol.iterator]() { return iterator; }\n        };\n    }\n    else if (source[Symbol.asyncIterator] !== undefined) {\n        const iterator = source[Symbol.asyncIterator]();\n        iterator.return = undefined;\n        return {\n            [Symbol.asyncIterator]() { return iterator; }\n        };\n    }\n    else {\n        throw new Error('a source must be either an iterable or an async iterable');\n    }\n}\n//# sourceMappingURL=decode.js.map","import { HEADER_LENGTH } from './frame.js';\nexport function encodeHeader(header) {\n    const frame = new Uint8Array(HEADER_LENGTH);\n    // always assume version 0\n    // frameView.setUint8(0, header.version)\n    frame[1] = header.type;\n    frame[2] = header.flag >>> 8;\n    frame[3] = header.flag;\n    frame[4] = header.streamID >>> 24;\n    frame[5] = header.streamID >>> 16;\n    frame[6] = header.streamID >>> 8;\n    frame[7] = header.streamID;\n    frame[8] = header.length >>> 24;\n    frame[9] = header.length >>> 16;\n    frame[10] = header.length >>> 8;\n    frame[11] = header.length;\n    return frame;\n}\n//# sourceMappingURL=encode.js.map","import peek from 'it-peekable';\nfunction isAsyncIterable(thing) {\n    return thing[Symbol.asyncIterator] != null;\n}\nfunction forEach(source, fn) {\n    if (isAsyncIterable(source)) {\n        return (async function* () {\n            for await (const thing of source) {\n                await fn(thing);\n                yield thing;\n            }\n        })();\n    }\n    // if fn function returns a promise we have to return an async generator\n    const peekable = peek(source);\n    const { value, done } = peekable.next();\n    if (done === true) {\n        return (function* () { }());\n    }\n    const res = fn(value);\n    if (typeof res?.then === 'function') {\n        return (async function* () {\n            yield value;\n            for await (const val of peekable) {\n                await fn(val);\n                yield val;\n            }\n        })();\n    }\n    const func = fn;\n    return (function* () {\n        yield value;\n        for (const val of peekable) {\n            func(val);\n            yield val;\n        }\n    })();\n}\nexport default forEach;\n//# sourceMappingURL=index.js.map","import { CodeError } from '@libp2p/interface/errors';\nimport { AbstractStream } from '@libp2p/interface/stream-muxer/stream';\nimport each from 'it-foreach';\nimport { ERR_RECV_WINDOW_EXCEEDED, ERR_STREAM_ABORT, INITIAL_STREAM_WINDOW } from './constants.js';\nimport { Flag, FrameType, HEADER_LENGTH } from './frame.js';\nexport var StreamState;\n(function (StreamState) {\n    StreamState[StreamState[\"Init\"] = 0] = \"Init\";\n    StreamState[StreamState[\"SYNSent\"] = 1] = \"SYNSent\";\n    StreamState[StreamState[\"SYNReceived\"] = 2] = \"SYNReceived\";\n    StreamState[StreamState[\"Established\"] = 3] = \"Established\";\n    StreamState[StreamState[\"Finished\"] = 4] = \"Finished\";\n})(StreamState || (StreamState = {}));\n/** YamuxStream is used to represent a logical stream within a session */\nexport class YamuxStream extends AbstractStream {\n    name;\n    state;\n    config;\n    _id;\n    /** The number of available bytes to send */\n    sendWindowCapacity;\n    /** Callback to notify that the sendWindowCapacity has been updated */\n    sendWindowCapacityUpdate;\n    /** The number of bytes available to receive in a full window */\n    recvWindow;\n    /** The number of available bytes to receive */\n    recvWindowCapacity;\n    /**\n     * An 'epoch' is the time it takes to process and read data\n     *\n     * Used in conjunction with RTT to determine whether to increase the recvWindow\n     */\n    epochStart;\n    getRTT;\n    sendFrame;\n    constructor(init) {\n        super({\n            ...init,\n            onEnd: (err) => {\n                this.state = StreamState.Finished;\n                init.onEnd?.(err);\n            }\n        });\n        this.config = init.config;\n        this._id = parseInt(init.id, 10);\n        this.name = init.name;\n        this.state = init.state;\n        this.sendWindowCapacity = INITIAL_STREAM_WINDOW;\n        this.recvWindow = this.config.initialStreamWindowSize;\n        this.recvWindowCapacity = this.recvWindow;\n        this.epochStart = Date.now();\n        this.getRTT = init.getRTT;\n        this.sendFrame = init.sendFrame;\n        this.source = each(this.source, () => {\n            this.sendWindowUpdate();\n        });\n    }\n    /**\n     * Send a message to the remote muxer informing them a new stream is being\n     * opened.\n     *\n     * This is a noop for Yamux because the first window update is sent when\n     * .newStream is called on the muxer which opens the stream on the remote.\n     */\n    async sendNewStream() {\n    }\n    /**\n     * Send a data message to the remote muxer\n     */\n    async sendData(buf, options = {}) {\n        buf = buf.sublist();\n        // send in chunks, waiting for window updates\n        while (buf.byteLength !== 0) {\n            // wait for the send window to refill\n            if (this.sendWindowCapacity === 0) {\n                await this.waitForSendWindowCapacity(options);\n            }\n            // check we didn't close while waiting for send window capacity\n            if (this.status !== 'open') {\n                return;\n            }\n            // send as much as we can\n            const toSend = Math.min(this.sendWindowCapacity, this.config.maxMessageSize - HEADER_LENGTH, buf.length);\n            const flags = this.getSendFlags();\n            this.sendFrame({\n                type: FrameType.Data,\n                flag: flags,\n                streamID: this._id,\n                length: toSend\n            }, buf.subarray(0, toSend));\n            this.sendWindowCapacity -= toSend;\n            buf.consume(toSend);\n        }\n    }\n    /**\n     * Send a reset message to the remote muxer\n     */\n    async sendReset() {\n        this.sendFrame({\n            type: FrameType.WindowUpdate,\n            flag: Flag.RST,\n            streamID: this._id,\n            length: 0\n        });\n    }\n    /**\n     * Send a message to the remote muxer, informing them no more data messages\n     * will be sent by this end of the stream\n     */\n    async sendCloseWrite() {\n        const flags = this.getSendFlags() | Flag.FIN;\n        this.sendFrame({\n            type: FrameType.WindowUpdate,\n            flag: flags,\n            streamID: this._id,\n            length: 0\n        });\n    }\n    /**\n     * Send a message to the remote muxer, informing them no more data messages\n     * will be read by this end of the stream\n     */\n    async sendCloseRead() {\n    }\n    /**\n     * Wait for the send window to be non-zero\n     *\n     * Will throw with ERR_STREAM_ABORT if the stream gets aborted\n     */\n    async waitForSendWindowCapacity(options = {}) {\n        if (this.sendWindowCapacity > 0) {\n            return;\n        }\n        let resolve;\n        let reject;\n        const abort = () => {\n            if (this.status === 'open') {\n                reject(new CodeError('stream aborted', ERR_STREAM_ABORT));\n            }\n            else {\n                // the stream was closed already, ignore the failure to send\n                resolve();\n            }\n        };\n        options.signal?.addEventListener('abort', abort);\n        try {\n            await new Promise((_resolve, _reject) => {\n                this.sendWindowCapacityUpdate = () => {\n                    _resolve();\n                };\n                reject = _reject;\n                resolve = _resolve;\n            });\n        }\n        finally {\n            options.signal?.removeEventListener('abort', abort);\n        }\n    }\n    /**\n     * handleWindowUpdate is called when the stream receives a window update frame\n     */\n    handleWindowUpdate(header) {\n        this.log?.trace('stream received window update id=%s', this._id);\n        this.processFlags(header.flag);\n        // increase send window\n        const available = this.sendWindowCapacity;\n        this.sendWindowCapacity += header.length;\n        // if the update increments a 0 availability, notify the stream that sending can resume\n        if (available === 0 && header.length > 0) {\n            this.sendWindowCapacityUpdate?.();\n        }\n    }\n    /**\n     * handleData is called when the stream receives a data frame\n     */\n    async handleData(header, readData) {\n        this.log?.trace('stream received data id=%s', this._id);\n        this.processFlags(header.flag);\n        // check that our recv window is not exceeded\n        if (this.recvWindowCapacity < header.length) {\n            throw new CodeError('receive window exceeded', ERR_RECV_WINDOW_EXCEEDED, { available: this.recvWindowCapacity, recv: header.length });\n        }\n        const data = await readData();\n        this.recvWindowCapacity -= header.length;\n        this.sourcePush(data);\n    }\n    /**\n     * processFlags is used to update the state of the stream based on set flags, if any.\n     */\n    processFlags(flags) {\n        if ((flags & Flag.ACK) === Flag.ACK) {\n            if (this.state === StreamState.SYNSent) {\n                this.state = StreamState.Established;\n            }\n        }\n        if ((flags & Flag.FIN) === Flag.FIN) {\n            this.remoteCloseWrite();\n        }\n        if ((flags & Flag.RST) === Flag.RST) {\n            this.reset();\n        }\n    }\n    /**\n     * getSendFlags determines any flags that are appropriate\n     * based on the current stream state.\n     *\n     * The state is updated as a side-effect.\n     */\n    getSendFlags() {\n        switch (this.state) {\n            case StreamState.Init:\n                this.state = StreamState.SYNSent;\n                return Flag.SYN;\n            case StreamState.SYNReceived:\n                this.state = StreamState.Established;\n                return Flag.ACK;\n            default:\n                return 0;\n        }\n    }\n    /**\n     * potentially sends a window update enabling further writes to take place.\n     */\n    sendWindowUpdate() {\n        // determine the flags if any\n        const flags = this.getSendFlags();\n        // If the stream has already been established\n        // and we've processed data within the time it takes for 4 round trips\n        // then we (up to) double the recvWindow\n        const now = Date.now();\n        const rtt = this.getRTT();\n        if (flags === 0 && rtt > 0 && now - this.epochStart < rtt * 4) {\n            // we've already validated that maxStreamWindowSize can't be more than MAX_UINT32\n            this.recvWindow = Math.min(this.recvWindow * 2, this.config.maxStreamWindowSize);\n        }\n        if (this.recvWindowCapacity >= this.recvWindow && flags === 0) {\n            // a window update isn't needed\n            return;\n        }\n        // update the receive window\n        const delta = this.recvWindow - this.recvWindowCapacity;\n        this.recvWindowCapacity = this.recvWindow;\n        // update the epoch start\n        this.epochStart = now;\n        // send window update\n        this.sendFrame({\n            type: FrameType.WindowUpdate,\n            flag: flags,\n            streamID: this._id,\n            length: delta\n        });\n    }\n}\n//# sourceMappingURL=stream.js.map","import { CodeError } from '@libp2p/interface/errors';\nimport { logger } from '@libp2p/logger';\nimport { abortableSource } from 'abortable-iterator';\nimport { pipe } from 'it-pipe';\nimport { pushable } from 'it-pushable';\nimport { defaultConfig, verifyConfig } from './config.js';\nimport { ERR_BOTH_CLIENTS, ERR_INVALID_FRAME, ERR_MAX_OUTBOUND_STREAMS_EXCEEDED, ERR_MUXER_LOCAL_CLOSED, ERR_MUXER_REMOTE_CLOSED, ERR_NOT_MATCHING_PING, ERR_STREAM_ALREADY_EXISTS, ERR_UNREQUESTED_PING, PROTOCOL_ERRORS } from './constants.js';\nimport { Decoder } from './decode.js';\nimport { encodeHeader } from './encode.js';\nimport { Flag, FrameType, GoAwayCode, stringifyHeader } from './frame.js';\nimport { StreamState, YamuxStream } from './stream.js';\nconst YAMUX_PROTOCOL_ID = '/yamux/1.0.0';\nconst CLOSE_TIMEOUT = 500;\nexport class Yamux {\n    protocol = YAMUX_PROTOCOL_ID;\n    _init;\n    constructor(init = {}) {\n        this._init = init;\n    }\n    createStreamMuxer(init) {\n        return new YamuxMuxer({\n            ...this._init,\n            ...init\n        });\n    }\n}\nexport class YamuxMuxer {\n    protocol = YAMUX_PROTOCOL_ID;\n    source;\n    sink;\n    config;\n    log;\n    /** Used to close the muxer from either the sink or source */\n    closeController;\n    /** The next stream id to be used when initiating a new stream */\n    nextStreamID;\n    /** Primary stream mapping, streamID => stream */\n    _streams;\n    /** The next ping id to be used when pinging */\n    nextPingID;\n    /** Tracking info for the currently active ping */\n    activePing;\n    /** Round trip time */\n    rtt;\n    /** True if client, false if server */\n    client;\n    localGoAway;\n    remoteGoAway;\n    /** Number of tracked inbound streams */\n    numInboundStreams;\n    /** Number of tracked outbound streams */\n    numOutboundStreams;\n    onIncomingStream;\n    onStreamEnd;\n    constructor(init) {\n        this.client = init.direction === 'outbound';\n        this.config = { ...defaultConfig, ...init };\n        this.log = this.config.log;\n        verifyConfig(this.config);\n        this.closeController = new AbortController();\n        this.onIncomingStream = init.onIncomingStream;\n        this.onStreamEnd = init.onStreamEnd;\n        this._streams = new Map();\n        this.source = pushable({\n            onEnd: () => {\n                this.log?.trace('muxer source ended');\n                this._streams.forEach(stream => {\n                    stream.destroy();\n                });\n            }\n        });\n        this.sink = async (source) => {\n            source = abortableSource(source, this.closeController.signal, { returnOnAbort: true });\n            let reason, error;\n            try {\n                const decoder = new Decoder(source);\n                await pipe(decoder.emitFrames.bind(decoder), async (source) => {\n                    for await (const { header, readData } of source) {\n                        await this.handleFrame(header, readData);\n                    }\n                });\n                reason = GoAwayCode.NormalTermination;\n            }\n            catch (err) {\n                // either a protocol or internal error\n                const errCode = err.code;\n                if (PROTOCOL_ERRORS.has(errCode)) {\n                    this.log?.error('protocol error in sink', err);\n                    reason = GoAwayCode.ProtocolError;\n                }\n                else {\n                    this.log?.error('internal error in sink', err);\n                    reason = GoAwayCode.InternalError;\n                }\n                error = err;\n            }\n            this.log?.trace('muxer sink ended');\n            if (error != null) {\n                this.abort(error, reason);\n            }\n            else {\n                await this.close({ reason });\n            }\n        };\n        this.numInboundStreams = 0;\n        this.numOutboundStreams = 0;\n        // client uses odd streamIDs, server uses even streamIDs\n        this.nextStreamID = this.client ? 1 : 2;\n        this.nextPingID = 0;\n        this.rtt = 0;\n        this.log?.trace('muxer created');\n        if (this.config.enableKeepAlive) {\n            this.keepAliveLoop().catch(e => this.log?.error('keepalive error: %s', e));\n        }\n    }\n    get streams() {\n        return Array.from(this._streams.values());\n    }\n    newStream(name) {\n        if (this.remoteGoAway !== undefined) {\n            throw new CodeError('muxer closed remotely', ERR_MUXER_REMOTE_CLOSED);\n        }\n        if (this.localGoAway !== undefined) {\n            throw new CodeError('muxer closed locally', ERR_MUXER_LOCAL_CLOSED);\n        }\n        const id = this.nextStreamID;\n        this.nextStreamID += 2;\n        // check against our configured maximum number of outbound streams\n        if (this.numOutboundStreams >= this.config.maxOutboundStreams) {\n            throw new CodeError('max outbound streams exceeded', ERR_MAX_OUTBOUND_STREAMS_EXCEEDED);\n        }\n        this.log?.trace('new outgoing stream id=%s', id);\n        const stream = this._newStream(id, name, StreamState.Init, 'outbound');\n        this._streams.set(id, stream);\n        this.numOutboundStreams++;\n        // send a window update to open the stream on the receiver end\n        stream.sendWindowUpdate();\n        return stream;\n    }\n    /**\n     * Initiate a ping and wait for a response\n     *\n     * Note: only a single ping will be initiated at a time.\n     * If a ping is already in progress, a new ping will not be initiated.\n     *\n     * @returns the round-trip-time in milliseconds\n     */\n    async ping() {\n        if (this.remoteGoAway !== undefined) {\n            throw new CodeError('muxer closed remotely', ERR_MUXER_REMOTE_CLOSED);\n        }\n        if (this.localGoAway !== undefined) {\n            throw new CodeError('muxer closed locally', ERR_MUXER_LOCAL_CLOSED);\n        }\n        // An active ping does not yet exist, handle the process here\n        if (this.activePing === undefined) {\n            // create active ping\n            let _resolve = () => { };\n            this.activePing = {\n                id: this.nextPingID++,\n                // this promise awaits resolution or the close controller aborting\n                promise: new Promise((resolve, reject) => {\n                    const closed = () => {\n                        reject(new CodeError('muxer closed locally', ERR_MUXER_LOCAL_CLOSED));\n                    };\n                    this.closeController.signal.addEventListener('abort', closed, { once: true });\n                    _resolve = () => {\n                        this.closeController.signal.removeEventListener('abort', closed);\n                        resolve();\n                    };\n                }),\n                resolve: _resolve\n            };\n            // send ping\n            const start = Date.now();\n            this.sendPing(this.activePing.id);\n            // await pong\n            try {\n                await this.activePing.promise;\n            }\n            finally {\n                // clean-up active ping\n                delete this.activePing;\n            }\n            // update rtt\n            const end = Date.now();\n            this.rtt = end - start;\n        }\n        else {\n            // an active ping is already in progress, piggyback off that\n            await this.activePing.promise;\n        }\n        return this.rtt;\n    }\n    /**\n     * Get the ping round trip time\n     *\n     * Note: Will return 0 if no successful ping has yet been completed\n     *\n     * @returns the round-trip-time in milliseconds\n     */\n    getRTT() {\n        return this.rtt;\n    }\n    /**\n     * Close the muxer\n     */\n    async close(options = {}) {\n        if (this.closeController.signal.aborted) {\n            // already closed\n            return;\n        }\n        const reason = options?.reason ?? GoAwayCode.NormalTermination;\n        this.log?.trace('muxer close reason=%s', reason);\n        options.signal = options.signal ?? AbortSignal.timeout(CLOSE_TIMEOUT);\n        try {\n            await Promise.all([...this._streams.values()].map(async (s) => s.close(options)));\n            // send reason to the other side, allow the other side to close gracefully\n            this.sendGoAway(reason);\n            this._closeMuxer();\n        }\n        catch (err) {\n            this.abort(err);\n        }\n    }\n    abort(err, reason) {\n        if (this.closeController.signal.aborted) {\n            // already closed\n            return;\n        }\n        reason = reason ?? GoAwayCode.InternalError;\n        // If reason was provided, use that, otherwise use the presence of `err` to determine the reason\n        this.log?.error('muxer abort reason=%s error=%s', reason, err);\n        // Abort all underlying streams\n        for (const stream of this._streams.values()) {\n            stream.abort(err);\n        }\n        // send reason to the other side, allow the other side to close gracefully\n        this.sendGoAway(reason);\n        this._closeMuxer();\n    }\n    isClosed() {\n        return this.closeController.signal.aborted;\n    }\n    /**\n     * Called when either the local or remote shuts down the muxer\n     */\n    _closeMuxer() {\n        // stop the sink and any other processes\n        this.closeController.abort();\n        // stop the source\n        this.source.end();\n    }\n    /** Create a new stream */\n    _newStream(id, name, state, direction) {\n        if (this._streams.get(id) != null) {\n            throw new CodeError('Stream already exists', ERR_STREAM_ALREADY_EXISTS, { id });\n        }\n        const stream = new YamuxStream({\n            id: id.toString(),\n            name,\n            state,\n            direction,\n            sendFrame: this.sendFrame.bind(this),\n            onEnd: () => {\n                this.closeStream(id);\n                this.onStreamEnd?.(stream);\n            },\n            log: logger(`libp2p:yamux:${direction}:${id}`),\n            config: this.config,\n            getRTT: this.getRTT.bind(this)\n        });\n        return stream;\n    }\n    /**\n     * closeStream is used to close a stream once both sides have\n     * issued a close.\n     */\n    closeStream(id) {\n        if (this.client === (id % 2 === 0)) {\n            this.numInboundStreams--;\n        }\n        else {\n            this.numOutboundStreams--;\n        }\n        this._streams.delete(id);\n    }\n    async keepAliveLoop() {\n        const abortPromise = new Promise((_resolve, reject) => { this.closeController.signal.addEventListener('abort', reject, { once: true }); });\n        this.log?.trace('muxer keepalive enabled interval=%s', this.config.keepAliveInterval);\n        while (true) {\n            let timeoutId;\n            try {\n                await Promise.race([\n                    abortPromise,\n                    new Promise((resolve) => {\n                        timeoutId = setTimeout(resolve, this.config.keepAliveInterval);\n                    })\n                ]);\n                this.ping().catch(e => this.log?.error('ping error: %s', e));\n            }\n            catch (e) {\n                // closed\n                clearInterval(timeoutId);\n                return;\n            }\n        }\n    }\n    async handleFrame(header, readData) {\n        const { streamID, type, length } = header;\n        this.log?.trace('received frame %s', stringifyHeader(header));\n        if (streamID === 0) {\n            switch (type) {\n                case FrameType.Ping:\n                    {\n                        this.handlePing(header);\n                        return;\n                    }\n                case FrameType.GoAway:\n                    {\n                        this.handleGoAway(length);\n                        return;\n                    }\n                default:\n                    // Invalid state\n                    throw new CodeError('Invalid frame type', ERR_INVALID_FRAME, { header });\n            }\n        }\n        else {\n            switch (header.type) {\n                case FrameType.Data:\n                case FrameType.WindowUpdate:\n                    {\n                        await this.handleStreamMessage(header, readData);\n                        return;\n                    }\n                default:\n                    // Invalid state\n                    throw new CodeError('Invalid frame type', ERR_INVALID_FRAME, { header });\n            }\n        }\n    }\n    handlePing(header) {\n        // If the ping  is initiated by the sender, send a response\n        if (header.flag === Flag.SYN) {\n            this.log?.trace('received ping request pingId=%s', header.length);\n            this.sendPing(header.length, Flag.ACK);\n        }\n        else if (header.flag === Flag.ACK) {\n            this.log?.trace('received ping response pingId=%s', header.length);\n            this.handlePingResponse(header.length);\n        }\n        else {\n            // Invalid state\n            throw new CodeError('Invalid frame flag', ERR_INVALID_FRAME, { header });\n        }\n    }\n    handlePingResponse(pingId) {\n        if (this.activePing === undefined) {\n            // this ping was not requested\n            throw new CodeError('ping not requested', ERR_UNREQUESTED_PING);\n        }\n        if (this.activePing.id !== pingId) {\n            // this ping doesn't match our active ping request\n            throw new CodeError('ping doesn\\'t match our id', ERR_NOT_MATCHING_PING);\n        }\n        // valid ping response\n        this.activePing.resolve();\n    }\n    handleGoAway(reason) {\n        this.log?.trace('received GoAway reason=%s', GoAwayCode[reason] ?? 'unknown');\n        this.remoteGoAway = reason;\n        // If the other side is friendly, they would have already closed all streams before sending a GoAway\n        // In case they weren't, reset all streams\n        for (const stream of this._streams.values()) {\n            stream.reset();\n        }\n        this._closeMuxer();\n    }\n    async handleStreamMessage(header, readData) {\n        const { streamID, flag, type } = header;\n        if ((flag & Flag.SYN) === Flag.SYN) {\n            this.incomingStream(streamID);\n        }\n        const stream = this._streams.get(streamID);\n        if (stream === undefined) {\n            if (type === FrameType.Data) {\n                this.log?.('discarding data for stream id=%s', streamID);\n                if (readData === undefined) {\n                    throw new Error('unreachable');\n                }\n                await readData();\n            }\n            else {\n                this.log?.('frame for missing stream id=%s', streamID);\n            }\n            return;\n        }\n        switch (type) {\n            case FrameType.WindowUpdate: {\n                stream.handleWindowUpdate(header);\n                return;\n            }\n            case FrameType.Data: {\n                if (readData === undefined) {\n                    throw new Error('unreachable');\n                }\n                await stream.handleData(header, readData);\n                return;\n            }\n            default:\n                throw new Error('unreachable');\n        }\n    }\n    incomingStream(id) {\n        if (this.client !== (id % 2 === 0)) {\n            throw new CodeError('both endpoints are clients', ERR_BOTH_CLIENTS);\n        }\n        if (this._streams.has(id)) {\n            return;\n        }\n        this.log?.trace('new incoming stream id=%s', id);\n        if (this.localGoAway !== undefined) {\n            // reject (reset) immediately if we are doing a go away\n            this.sendFrame({\n                type: FrameType.WindowUpdate,\n                flag: Flag.RST,\n                streamID: id,\n                length: 0\n            });\n            return;\n        }\n        // check against our configured maximum number of inbound streams\n        if (this.numInboundStreams >= this.config.maxInboundStreams) {\n            this.log?.('maxIncomingStreams exceeded, forcing stream reset');\n            this.sendFrame({\n                type: FrameType.WindowUpdate,\n                flag: Flag.RST,\n                streamID: id,\n                length: 0\n            });\n            return;\n        }\n        // allocate a new stream\n        const stream = this._newStream(id, undefined, StreamState.SYNReceived, 'inbound');\n        this.numInboundStreams++;\n        // the stream should now be tracked\n        this._streams.set(id, stream);\n        this.onIncomingStream?.(stream);\n    }\n    sendFrame(header, data) {\n        this.log?.trace('sending frame %s', stringifyHeader(header));\n        if (header.type === FrameType.Data) {\n            if (data === undefined) {\n                throw new CodeError('invalid frame', ERR_INVALID_FRAME);\n            }\n            this.source.push(encodeHeader(header));\n            this.source.push(data);\n        }\n        else {\n            this.source.push(encodeHeader(header));\n        }\n    }\n    sendPing(pingId, flag = Flag.SYN) {\n        if (flag === Flag.SYN) {\n            this.log?.trace('sending ping request pingId=%s', pingId);\n        }\n        else {\n            this.log?.trace('sending ping response pingId=%s', pingId);\n        }\n        this.sendFrame({\n            type: FrameType.Ping,\n            flag,\n            streamID: 0,\n            length: pingId\n        });\n    }\n    sendGoAway(reason = GoAwayCode.NormalTermination) {\n        this.log?.('sending GoAway reason=%s', GoAwayCode[reason]);\n        this.localGoAway = reason;\n        this.sendFrame({\n            type: FrameType.GoAway,\n            flag: 0,\n            streamID: 0,\n            length: reason\n        });\n    }\n}\n//# sourceMappingURL=muxer.js.map","import { Yamux } from './muxer.js';\nexport { GoAwayCode } from './frame.js';\nexport function yamux(init = {}) {\n    return () => new Yamux(init);\n}\n//# sourceMappingURL=index.js.map","import { parseIP } from \"@chainsafe/is-ip/parse\";\nimport { allFF, deepEqual } from \"./util.js\";\nexport const IPv4Len = 4;\nexport const IPv6Len = 16;\nexport const maxIPv6Octet = parseInt(\"0xFFFF\", 16);\nexport const ipv4Prefix = new Uint8Array([\n    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 255, 255,\n]);\nexport function maskIp(ip, mask) {\n    if (mask.length === IPv6Len && ip.length === IPv4Len && allFF(mask, 0, 11)) {\n        mask = mask.slice(12);\n    }\n    if (mask.length === IPv4Len &&\n        ip.length === IPv6Len &&\n        deepEqual(ip, ipv4Prefix, 0, 11)) {\n        ip = ip.slice(12);\n    }\n    const n = ip.length;\n    if (n != mask.length) {\n        throw new Error(\"Failed to mask ip\");\n    }\n    const out = new Uint8Array(n);\n    for (let i = 0; i < n; i++) {\n        out[i] = ip[i] & mask[i];\n    }\n    return out;\n}\nexport function containsIp(net, ip) {\n    if (typeof ip === \"string\") {\n        ip = parseIP(ip);\n    }\n    if (ip == null)\n        throw new Error(\"Invalid ip\");\n    if (ip.length !== net.network.length) {\n        return false;\n    }\n    for (let i = 0; i < ip.length; i++) {\n        if ((net.network[i] & net.mask[i]) !== (ip[i] & net.mask[i])) {\n            return false;\n        }\n    }\n    return true;\n}\nexport function iPv4FromIPv6(ip) {\n    if (!isIPv4mappedIPv6(ip)) {\n        throw new Error(\"Must have 0xffff prefix\");\n    }\n    return ip.slice(12);\n}\nexport function isIPv4mappedIPv6(ip) {\n    return deepEqual(ip, ipv4Prefix, 0, 11);\n}\n//# sourceMappingURL=ip.js.map","export class AbortError extends Error {\n    constructor(message, code) {\n        super(message ?? 'The operation was aborted');\n        this.type = 'aborted';\n        this.code = code ?? 'ABORT_ERR';\n    }\n}\n//# sourceMappingURL=abort-error.js.map","import { AbortError } from './abort-error.js';\nimport { getIterator } from 'get-iterator';\n// Wrap an iterator to make it abortable, allow cleanup when aborted via onAbort\nexport function abortableSource(source, signal, options) {\n    const opts = options ?? {};\n    const iterator = getIterator(source);\n    async function* abortable() {\n        let nextAbortHandler;\n        const abortHandler = () => {\n            if (nextAbortHandler != null)\n                nextAbortHandler();\n        };\n        signal.addEventListener('abort', abortHandler);\n        while (true) {\n            let result;\n            try {\n                if (signal.aborted) {\n                    const { abortMessage, abortCode } = opts;\n                    throw new AbortError(abortMessage, abortCode);\n                }\n                const abort = new Promise((resolve, reject) => {\n                    nextAbortHandler = () => {\n                        const { abortMessage, abortCode } = opts;\n                        reject(new AbortError(abortMessage, abortCode));\n                    };\n                });\n                // Race the iterator and the abort signals\n                result = await Promise.race([abort, iterator.next()]);\n                nextAbortHandler = null;\n            }\n            catch (err) {\n                signal.removeEventListener('abort', abortHandler);\n                // Might not have been aborted by a known signal\n                const isKnownAborter = err.type === 'aborted' && signal.aborted;\n                if (isKnownAborter && (opts.onAbort != null)) {\n                    // Do any custom abort handling for the iterator\n                    await opts.onAbort(source);\n                }\n                // End the iterator if it is a generator\n                if (typeof iterator.return === 'function') {\n                    try {\n                        const p = iterator.return();\n                        if (p instanceof Promise) { // eslint-disable-line max-depth\n                            p.catch(err => {\n                                if (opts.onReturnError != null) {\n                                    opts.onReturnError(err);\n                                }\n                            });\n                        }\n                    }\n                    catch (err) {\n                        if (opts.onReturnError != null) { // eslint-disable-line max-depth\n                            opts.onReturnError(err);\n                        }\n                    }\n                }\n                if (isKnownAborter && opts.returnOnAbort === true) {\n                    return;\n                }\n                throw err;\n            }\n            if (result.done === true) {\n                break;\n            }\n            yield result.value;\n        }\n        signal.removeEventListener('abort', abortHandler);\n    }\n    return abortable();\n}\nexport function abortableSink(sink, signal, options) {\n    return (source) => sink(abortableSource(source, signal, options));\n}\nexport function abortableDuplex(duplex, signal, options) {\n    return {\n        sink: abortableSink(duplex.sink, signal, {\n            ...options,\n            onAbort: undefined\n        }),\n        source: abortableSource(duplex.source, signal, options)\n    };\n}\nexport { AbortError };\nexport { abortableSink as abortableTransform };\n//# sourceMappingURL=index.js.map","export function getIterator(obj) {\n    if (obj != null) {\n        if (typeof obj[Symbol.iterator] === 'function') {\n            return obj[Symbol.iterator]();\n        }\n        if (typeof obj[Symbol.asyncIterator] === 'function') {\n            return obj[Symbol.asyncIterator]();\n        }\n        if (typeof obj.next === 'function') {\n            return obj; // probably an iterator\n        }\n    }\n    throw new Error('argument is not an iterator or iterable');\n}\n//# sourceMappingURL=index.js.map","export default function arrayShuffle(array) {\n\tif (!Array.isArray(array)) {\n\t\tthrow new TypeError(`Expected an array, got ${typeof array}`);\n\t}\n\n\tarray = [...array];\n\n\tfor (let index = array.length - 1; index > 0; index--) {\n\t\tconst newIndex = Math.floor(Math.random() * (index + 1));\n\t\t[array[index], array[newIndex]] = [array[newIndex], array[index]];\n\t}\n\n\treturn array;\n}\n","/* eslint-env browser */\nimport browserReadableStreamToIt from 'browser-readablestream-to-it';\nexport default function blobToIt(blob) {\n    if (typeof blob.stream === 'function') {\n        return browserReadableStreamToIt(blob.stream());\n    }\n    // firefox < 69 does not support blob.stream()\n    // @ts-expect-error - response.body is optional, but in practice it's a stream.\n    return browserReadableStreamToIt(new Response(blob).body);\n}\n//# sourceMappingURL=index.js.map","import errCode from 'err-code';\nexport function openFailedError(err) {\n    err = err ?? new Error('Open failed');\n    return errCode(err, 'ERR_OPEN_FAILED');\n}\nexport function closeFailedError(err) {\n    err = err ?? new Error('Close failed');\n    return errCode(err, 'ERR_CLOSE_FAILED');\n}\nexport function putFailedError(err) {\n    err = err ?? new Error('Put failed');\n    return errCode(err, 'ERR_PUT_FAILED');\n}\nexport function getFailedError(err) {\n    err = err ?? new Error('Get failed');\n    return errCode(err, 'ERR_GET_FAILED');\n}\nexport function deleteFailedError(err) {\n    err = err ?? new Error('Delete failed');\n    return errCode(err, 'ERR_DELETE_FAILED');\n}\nexport function hasFailedError(err) {\n    err = err ?? new Error('Has failed');\n    return errCode(err, 'ERR_HAS_FAILED');\n}\nexport function notFoundError(err) {\n    err = err ?? new Error('Not Found');\n    return errCode(err, 'ERR_NOT_FOUND');\n}\nexport function abortedError(err) {\n    err = err ?? new Error('Aborted');\n    return errCode(err, 'ERR_ABORTED');\n}\n//# sourceMappingURL=errors.js.map","export class BaseBlockstore {\n    has(key, options) {\n        return Promise.reject(new Error('.has is not implemented'));\n    }\n    put(key, val, options) {\n        return Promise.reject(new Error('.put is not implemented'));\n    }\n    async *putMany(source, options) {\n        for await (const { cid, block } of source) {\n            await this.put(cid, block, options);\n            yield cid;\n        }\n    }\n    get(key, options) {\n        return Promise.reject(new Error('.get is not implemented'));\n    }\n    async *getMany(source, options) {\n        for await (const key of source) {\n            yield {\n                cid: key,\n                block: await this.get(key, options)\n            };\n        }\n    }\n    async delete(key, options) {\n        await Promise.reject(new Error('.delete is not implemented'));\n    }\n    async *deleteMany(source, options) {\n        for await (const key of source) {\n            await this.delete(key, options);\n            yield key;\n        }\n    }\n    /**\n     * Extending classes should override `query` or implement this method\n     */\n    async *getAll(options) {\n        throw new Error('.getAll is not implemented');\n    }\n}\n//# sourceMappingURL=base.js.map","// base-x encoding / decoding\n// Copyright (c) 2018 base-x contributors\n// Copyright (c) 2014-2018 The Bitcoin Core developers (base58.cpp)\n// Distributed under the MIT software license, see the accompanying\n// file LICENSE or http://www.opensource.org/licenses/mit-license.php.\nfunction base (ALPHABET, name) {\n  if (ALPHABET.length >= 255) { throw new TypeError('Alphabet too long') }\n  var BASE_MAP = new Uint8Array(256);\n  for (var j = 0; j < BASE_MAP.length; j++) {\n    BASE_MAP[j] = 255;\n  }\n  for (var i = 0; i < ALPHABET.length; i++) {\n    var x = ALPHABET.charAt(i);\n    var xc = x.charCodeAt(0);\n    if (BASE_MAP[xc] !== 255) { throw new TypeError(x + ' is ambiguous') }\n    BASE_MAP[xc] = i;\n  }\n  var BASE = ALPHABET.length;\n  var LEADER = ALPHABET.charAt(0);\n  var FACTOR = Math.log(BASE) / Math.log(256); // log(BASE) / log(256), rounded up\n  var iFACTOR = Math.log(256) / Math.log(BASE); // log(256) / log(BASE), rounded up\n  function encode (source) {\n    if (source instanceof Uint8Array) ; else if (ArrayBuffer.isView(source)) {\n      source = new Uint8Array(source.buffer, source.byteOffset, source.byteLength);\n    } else if (Array.isArray(source)) {\n      source = Uint8Array.from(source);\n    }\n    if (!(source instanceof Uint8Array)) { throw new TypeError('Expected Uint8Array') }\n    if (source.length === 0) { return '' }\n        // Skip & count leading zeroes.\n    var zeroes = 0;\n    var length = 0;\n    var pbegin = 0;\n    var pend = source.length;\n    while (pbegin !== pend && source[pbegin] === 0) {\n      pbegin++;\n      zeroes++;\n    }\n        // Allocate enough space in big-endian base58 representation.\n    var size = ((pend - pbegin) * iFACTOR + 1) >>> 0;\n    var b58 = new Uint8Array(size);\n        // Process the bytes.\n    while (pbegin !== pend) {\n      var carry = source[pbegin];\n            // Apply \"b58 = b58 * 256 + ch\".\n      var i = 0;\n      for (var it1 = size - 1; (carry !== 0 || i < length) && (it1 !== -1); it1--, i++) {\n        carry += (256 * b58[it1]) >>> 0;\n        b58[it1] = (carry % BASE) >>> 0;\n        carry = (carry / BASE) >>> 0;\n      }\n      if (carry !== 0) { throw new Error('Non-zero carry') }\n      length = i;\n      pbegin++;\n    }\n        // Skip leading zeroes in base58 result.\n    var it2 = size - length;\n    while (it2 !== size && b58[it2] === 0) {\n      it2++;\n    }\n        // Translate the result into a string.\n    var str = LEADER.repeat(zeroes);\n    for (; it2 < size; ++it2) { str += ALPHABET.charAt(b58[it2]); }\n    return str\n  }\n  function decodeUnsafe (source) {\n    if (typeof source !== 'string') { throw new TypeError('Expected String') }\n    if (source.length === 0) { return new Uint8Array() }\n    var psz = 0;\n        // Skip leading spaces.\n    if (source[psz] === ' ') { return }\n        // Skip and count leading '1's.\n    var zeroes = 0;\n    var length = 0;\n    while (source[psz] === LEADER) {\n      zeroes++;\n      psz++;\n    }\n        // Allocate enough space in big-endian base256 representation.\n    var size = (((source.length - psz) * FACTOR) + 1) >>> 0; // log(58) / log(256), rounded up.\n    var b256 = new Uint8Array(size);\n        // Process the characters.\n    while (source[psz]) {\n            // Decode character\n      var carry = BASE_MAP[source.charCodeAt(psz)];\n            // Invalid character\n      if (carry === 255) { return }\n      var i = 0;\n      for (var it3 = size - 1; (carry !== 0 || i < length) && (it3 !== -1); it3--, i++) {\n        carry += (BASE * b256[it3]) >>> 0;\n        b256[it3] = (carry % 256) >>> 0;\n        carry = (carry / 256) >>> 0;\n      }\n      if (carry !== 0) { throw new Error('Non-zero carry') }\n      length = i;\n      psz++;\n    }\n        // Skip trailing spaces.\n    if (source[psz] === ' ') { return }\n        // Skip leading zeroes in b256.\n    var it4 = size - length;\n    while (it4 !== size && b256[it4] === 0) {\n      it4++;\n    }\n    var vch = new Uint8Array(zeroes + (size - it4));\n    var j = zeroes;\n    while (it4 !== size) {\n      vch[j++] = b256[it4++];\n    }\n    return vch\n  }\n  function decode (string) {\n    var buffer = decodeUnsafe(string);\n    if (buffer) { return buffer }\n    throw new Error(`Non-${name} character`)\n  }\n  return {\n    encode: encode,\n    decodeUnsafe: decodeUnsafe,\n    decode: decode\n  }\n}\nvar src = base;\n\nvar _brrp__multiformats_scope_baseX = src;\n\nexport default _brrp__multiformats_scope_baseX;\n","const empty = new Uint8Array(0)\n\n/**\n * @param {Uint8Array} d\n */\nconst toHex = d => d.reduce((hex, byte) => hex + byte.toString(16).padStart(2, '0'), '')\n\n/**\n * @param {string} hex\n */\nconst fromHex = hex => {\n  const hexes = hex.match(/../g)\n  return hexes ? new Uint8Array(hexes.map(b => parseInt(b, 16))) : empty\n}\n\n/**\n * @param {Uint8Array} aa\n * @param {Uint8Array} bb\n */\nconst equals = (aa, bb) => {\n  if (aa === bb) return true\n  if (aa.byteLength !== bb.byteLength) {\n    return false\n  }\n\n  for (let ii = 0; ii < aa.byteLength; ii++) {\n    if (aa[ii] !== bb[ii]) {\n      return false\n    }\n  }\n\n  return true\n}\n\n/**\n * @param {ArrayBufferView|ArrayBuffer|Uint8Array} o\n * @returns {Uint8Array}\n */\nconst coerce = o => {\n  if (o instanceof Uint8Array && o.constructor.name === 'Uint8Array') return o\n  if (o instanceof ArrayBuffer) return new Uint8Array(o)\n  if (ArrayBuffer.isView(o)) {\n    return new Uint8Array(o.buffer, o.byteOffset, o.byteLength)\n  }\n  throw new Error('Unknown type, must be binary type')\n}\n\n/**\n * @param {any} o\n * @returns {o is ArrayBuffer|ArrayBufferView}\n */\nconst isBinary = o =>\n  o instanceof ArrayBuffer || ArrayBuffer.isView(o)\n\n/**\n * @param {string} str\n * @returns {Uint8Array}\n */\nconst fromString = str => (new TextEncoder()).encode(str)\n\n/**\n * @param {Uint8Array} b\n * @returns {string}\n */\nconst toString = b => (new TextDecoder()).decode(b)\n\nexport { equals, coerce, isBinary, fromHex, toHex, fromString, toString, empty }\n","import basex from '../../vendor/base-x.js'\nimport { coerce } from '../bytes.js'\n// Linter can't see that API is used in types.\n// eslint-disable-next-line\nimport * as API from './interface.js'\n\n/**\n * Class represents both BaseEncoder and MultibaseEncoder meaning it\n * can be used to encode to multibase or base encode without multibase\n * prefix.\n *\n * @class\n * @template {string} Base\n * @template {string} Prefix\n * @implements {API.MultibaseEncoder<Prefix>}\n * @implements {API.BaseEncoder}\n */\nclass Encoder {\n  /**\n   * @param {Base} name\n   * @param {Prefix} prefix\n   * @param {(bytes:Uint8Array) => string} baseEncode\n   */\n  constructor (name, prefix, baseEncode) {\n    this.name = name\n    this.prefix = prefix\n    this.baseEncode = baseEncode\n  }\n\n  /**\n   * @param {Uint8Array} bytes\n   * @returns {API.Multibase<Prefix>}\n   */\n  encode (bytes) {\n    if (bytes instanceof Uint8Array) {\n      return `${this.prefix}${this.baseEncode(bytes)}`\n    } else {\n      throw Error('Unknown type, must be binary type')\n    }\n  }\n}\n\n/**\n * @template {string} Prefix\n */\n/**\n * Class represents both BaseDecoder and MultibaseDecoder so it could be used\n * to decode multibases (with matching prefix) or just base decode strings\n * with corresponding base encoding.\n *\n * @class\n * @template {string} Base\n * @template {string} Prefix\n * @implements {API.MultibaseDecoder<Prefix>}\n * @implements {API.UnibaseDecoder<Prefix>}\n * @implements {API.BaseDecoder}\n */\nclass Decoder {\n  /**\n   * @param {Base} name\n   * @param {Prefix} prefix\n   * @param {(text:string) => Uint8Array} baseDecode\n   */\n  constructor (name, prefix, baseDecode) {\n    this.name = name\n    this.prefix = prefix\n    /* c8 ignore next 3 */\n    if (prefix.codePointAt(0) === undefined) {\n      throw new Error('Invalid prefix character')\n    }\n    /** @private */\n    this.prefixCodePoint = /** @type {number} */ (prefix.codePointAt(0))\n    this.baseDecode = baseDecode\n  }\n\n  /**\n   * @param {string} text\n   */\n  decode (text) {\n    if (typeof text === 'string') {\n      if (text.codePointAt(0) !== this.prefixCodePoint) {\n        throw Error(`Unable to decode multibase string ${JSON.stringify(text)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`)\n      }\n      return this.baseDecode(text.slice(this.prefix.length))\n    } else {\n      throw Error('Can only multibase decode strings')\n    }\n  }\n\n  /**\n   * @template {string} OtherPrefix\n   * @param {API.UnibaseDecoder<OtherPrefix>|ComposedDecoder<OtherPrefix>} decoder\n   * @returns {ComposedDecoder<Prefix|OtherPrefix>}\n   */\n  or (decoder) {\n    return or(this, decoder)\n  }\n}\n\n/**\n * @template {string} Prefix\n * @typedef {Record<Prefix, API.UnibaseDecoder<Prefix>>} Decoders\n */\n\n/**\n * @template {string} Prefix\n * @implements {API.MultibaseDecoder<Prefix>}\n * @implements {API.CombobaseDecoder<Prefix>}\n */\nclass ComposedDecoder {\n  /**\n   * @param {Decoders<Prefix>} decoders\n   */\n  constructor (decoders) {\n    this.decoders = decoders\n  }\n\n  /**\n   * @template {string} OtherPrefix\n   * @param {API.UnibaseDecoder<OtherPrefix>|ComposedDecoder<OtherPrefix>} decoder\n   * @returns {ComposedDecoder<Prefix|OtherPrefix>}\n   */\n  or (decoder) {\n    return or(this, decoder)\n  }\n\n  /**\n   * @param {string} input\n   * @returns {Uint8Array}\n   */\n  decode (input) {\n    const prefix = /** @type {Prefix} */ (input[0])\n    const decoder = this.decoders[prefix]\n    if (decoder) {\n      return decoder.decode(input)\n    } else {\n      throw RangeError(`Unable to decode multibase string ${JSON.stringify(input)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)\n    }\n  }\n}\n\n/**\n * @template {string} L\n * @template {string} R\n * @param {API.UnibaseDecoder<L>|API.CombobaseDecoder<L>} left\n * @param {API.UnibaseDecoder<R>|API.CombobaseDecoder<R>} right\n * @returns {ComposedDecoder<L|R>}\n */\nexport const or = (left, right) => new ComposedDecoder(/** @type {Decoders<L|R>} */({\n  ...(left.decoders || { [/** @type API.UnibaseDecoder<L> */(left).prefix]: left }),\n  ...(right.decoders || { [/** @type API.UnibaseDecoder<R> */(right).prefix]: right })\n}))\n\n/**\n * @class\n * @template {string} Base\n * @template {string} Prefix\n * @implements {API.MultibaseCodec<Prefix>}\n * @implements {API.MultibaseEncoder<Prefix>}\n * @implements {API.MultibaseDecoder<Prefix>}\n * @implements {API.BaseCodec}\n * @implements {API.BaseEncoder}\n * @implements {API.BaseDecoder}\n */\nexport class Codec {\n  /**\n   * @param {Base} name\n   * @param {Prefix} prefix\n   * @param {(bytes:Uint8Array) => string} baseEncode\n   * @param {(text:string) => Uint8Array} baseDecode\n   */\n  constructor (name, prefix, baseEncode, baseDecode) {\n    this.name = name\n    this.prefix = prefix\n    this.baseEncode = baseEncode\n    this.baseDecode = baseDecode\n    this.encoder = new Encoder(name, prefix, baseEncode)\n    this.decoder = new Decoder(name, prefix, baseDecode)\n  }\n\n  /**\n   * @param {Uint8Array} input\n   */\n  encode (input) {\n    return this.encoder.encode(input)\n  }\n\n  /**\n   * @param {string} input\n   */\n  decode (input) {\n    return this.decoder.decode(input)\n  }\n}\n\n/**\n * @template {string} Base\n * @template {string} Prefix\n * @param {object} options\n * @param {Base} options.name\n * @param {Prefix} options.prefix\n * @param {(bytes:Uint8Array) => string} options.encode\n * @param {(input:string) => Uint8Array} options.decode\n * @returns {Codec<Base, Prefix>}\n */\nexport const from = ({ name, prefix, encode, decode }) =>\n  new Codec(name, prefix, encode, decode)\n\n/**\n * @template {string} Base\n * @template {string} Prefix\n * @param {object} options\n * @param {Base} options.name\n * @param {Prefix} options.prefix\n * @param {string} options.alphabet\n * @returns {Codec<Base, Prefix>}\n */\nexport const baseX = ({ prefix, name, alphabet }) => {\n  const { encode, decode } = basex(alphabet, name)\n  return from({\n    prefix,\n    name,\n    encode,\n    /**\n     * @param {string} text\n     */\n    decode: text => coerce(decode(text))\n  })\n}\n\n/**\n * @param {string} string\n * @param {string} alphabet\n * @param {number} bitsPerChar\n * @param {string} name\n * @returns {Uint8Array}\n */\nconst decode = (string, alphabet, bitsPerChar, name) => {\n  // Build the character lookup table:\n  /** @type {Record<string, number>} */\n  const codes = {}\n  for (let i = 0; i < alphabet.length; ++i) {\n    codes[alphabet[i]] = i\n  }\n\n  // Count the padding bytes:\n  let end = string.length\n  while (string[end - 1] === '=') {\n    --end\n  }\n\n  // Allocate the output:\n  const out = new Uint8Array((end * bitsPerChar / 8) | 0)\n\n  // Parse the data:\n  let bits = 0 // Number of bits currently in the buffer\n  let buffer = 0 // Bits waiting to be written out, MSB first\n  let written = 0 // Next byte to write\n  for (let i = 0; i < end; ++i) {\n    // Read one character from the string:\n    const value = codes[string[i]]\n    if (value === undefined) {\n      throw new SyntaxError(`Non-${name} character`)\n    }\n\n    // Append the bits to the buffer:\n    buffer = (buffer << bitsPerChar) | value\n    bits += bitsPerChar\n\n    // Write out some bits if the buffer has a byte's worth:\n    if (bits >= 8) {\n      bits -= 8\n      out[written++] = 0xff & (buffer >> bits)\n    }\n  }\n\n  // Verify that we have received just enough bits:\n  if (bits >= bitsPerChar || 0xff & (buffer << (8 - bits))) {\n    throw new SyntaxError('Unexpected end of data')\n  }\n\n  return out\n}\n\n/**\n * @param {Uint8Array} data\n * @param {string} alphabet\n * @param {number} bitsPerChar\n * @returns {string}\n */\nconst encode = (data, alphabet, bitsPerChar) => {\n  const pad = alphabet[alphabet.length - 1] === '='\n  const mask = (1 << bitsPerChar) - 1\n  let out = ''\n\n  let bits = 0 // Number of bits currently in the buffer\n  let buffer = 0 // Bits waiting to be written out, MSB first\n  for (let i = 0; i < data.length; ++i) {\n    // Slurp data into the buffer:\n    buffer = (buffer << 8) | data[i]\n    bits += 8\n\n    // Write out as much as we can:\n    while (bits > bitsPerChar) {\n      bits -= bitsPerChar\n      out += alphabet[mask & (buffer >> bits)]\n    }\n  }\n\n  // Partial character:\n  if (bits) {\n    out += alphabet[mask & (buffer << (bitsPerChar - bits))]\n  }\n\n  // Add padding characters until we hit a byte boundary:\n  if (pad) {\n    while ((out.length * bitsPerChar) & 7) {\n      out += '='\n    }\n  }\n\n  return out\n}\n\n/**\n * RFC4648 Factory\n *\n * @template {string} Base\n * @template {string} Prefix\n * @param {object} options\n * @param {Base} options.name\n * @param {Prefix} options.prefix\n * @param {string} options.alphabet\n * @param {number} options.bitsPerChar\n */\nexport const rfc4648 = ({ name, prefix, bitsPerChar, alphabet }) => {\n  return from({\n    prefix,\n    name,\n    encode (input) {\n      return encode(input, alphabet, bitsPerChar)\n    },\n    decode (input) {\n      return decode(input, alphabet, bitsPerChar, name)\n    }\n  })\n}\n","import { rfc4648 } from './base.js'\n\nexport const base32 = rfc4648({\n  prefix: 'b',\n  name: 'base32',\n  alphabet: 'abcdefghijklmnopqrstuvwxyz234567',\n  bitsPerChar: 5\n})\n\nexport const base32upper = rfc4648({\n  prefix: 'B',\n  name: 'base32upper',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ234567',\n  bitsPerChar: 5\n})\n\nexport const base32pad = rfc4648({\n  prefix: 'c',\n  name: 'base32pad',\n  alphabet: 'abcdefghijklmnopqrstuvwxyz234567=',\n  bitsPerChar: 5\n})\n\nexport const base32padupper = rfc4648({\n  prefix: 'C',\n  name: 'base32padupper',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=',\n  bitsPerChar: 5\n})\n\nexport const base32hex = rfc4648({\n  prefix: 'v',\n  name: 'base32hex',\n  alphabet: '0123456789abcdefghijklmnopqrstuv',\n  bitsPerChar: 5\n})\n\nexport const base32hexupper = rfc4648({\n  prefix: 'V',\n  name: 'base32hexupper',\n  alphabet: '0123456789ABCDEFGHIJKLMNOPQRSTUV',\n  bitsPerChar: 5\n})\n\nexport const base32hexpad = rfc4648({\n  prefix: 't',\n  name: 'base32hexpad',\n  alphabet: '0123456789abcdefghijklmnopqrstuv=',\n  bitsPerChar: 5\n})\n\nexport const base32hexpadupper = rfc4648({\n  prefix: 'T',\n  name: 'base32hexpadupper',\n  alphabet: '0123456789ABCDEFGHIJKLMNOPQRSTUV=',\n  bitsPerChar: 5\n})\n\nexport const base32z = rfc4648({\n  prefix: 'h',\n  name: 'base32z',\n  alphabet: 'ybndrfg8ejkmcpqxot1uwisza345h769',\n  bitsPerChar: 5\n})\n","import { baseX } from './base.js'\n\nexport const base58btc = baseX({\n  name: 'base58btc',\n  prefix: 'z',\n  alphabet: '123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz'\n})\n\nexport const base58flickr = baseX({\n  name: 'base58flickr',\n  prefix: 'Z',\n  alphabet: '123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ'\n})\n","var encode_1 = encode;\n\nvar MSB = 0x80\n  , REST = 0x7F\n  , MSBALL = ~REST\n  , INT = Math.pow(2, 31);\n\nfunction encode(num, out, offset) {\n  out = out || [];\n  offset = offset || 0;\n  var oldOffset = offset;\n\n  while(num >= INT) {\n    out[offset++] = (num & 0xFF) | MSB;\n    num /= 128;\n  }\n  while(num & MSBALL) {\n    out[offset++] = (num & 0xFF) | MSB;\n    num >>>= 7;\n  }\n  out[offset] = num | 0;\n  \n  encode.bytes = offset - oldOffset + 1;\n  \n  return out\n}\n\nvar decode = read;\n\nvar MSB$1 = 0x80\n  , REST$1 = 0x7F;\n\nfunction read(buf, offset) {\n  var res    = 0\n    , offset = offset || 0\n    , shift  = 0\n    , counter = offset\n    , b\n    , l = buf.length;\n\n  do {\n    if (counter >= l) {\n      read.bytes = 0;\n      throw new RangeError('Could not decode varint')\n    }\n    b = buf[counter++];\n    res += shift < 28\n      ? (b & REST$1) << shift\n      : (b & REST$1) * Math.pow(2, shift);\n    shift += 7;\n  } while (b >= MSB$1)\n\n  read.bytes = counter - offset;\n\n  return res\n}\n\nvar N1 = Math.pow(2,  7);\nvar N2 = Math.pow(2, 14);\nvar N3 = Math.pow(2, 21);\nvar N4 = Math.pow(2, 28);\nvar N5 = Math.pow(2, 35);\nvar N6 = Math.pow(2, 42);\nvar N7 = Math.pow(2, 49);\nvar N8 = Math.pow(2, 56);\nvar N9 = Math.pow(2, 63);\n\nvar length = function (value) {\n  return (\n    value < N1 ? 1\n  : value < N2 ? 2\n  : value < N3 ? 3\n  : value < N4 ? 4\n  : value < N5 ? 5\n  : value < N6 ? 6\n  : value < N7 ? 7\n  : value < N8 ? 8\n  : value < N9 ? 9\n  :              10\n  )\n};\n\nvar varint = {\n    encode: encode_1\n  , decode: decode\n  , encodingLength: length\n};\n\nvar _brrp_varint = varint;\n\nexport default _brrp_varint;\n","import varint from '../vendor/varint.js'\n\n/**\n * @param {Uint8Array} data\n * @param {number} [offset=0]\n * @returns {[number, number]}\n */\nexport const decode = (data, offset = 0) => {\n  const code = varint.decode(data, offset)\n  return [code, varint.decode.bytes]\n}\n\n/**\n * @param {number} int\n * @param {Uint8Array} target\n * @param {number} [offset=0]\n */\nexport const encodeTo = (int, target, offset = 0) => {\n  varint.encode(int, target, offset)\n  return target\n}\n\n/**\n * @param {number} int\n * @returns {number}\n */\nexport const encodingLength = (int) => {\n  return varint.encodingLength(int)\n}\n","import { coerce, equals as equalBytes } from '../bytes.js'\nimport * as varint from '../varint.js'\n\n/**\n * Creates a multihash digest.\n *\n * @template {number} Code\n * @param {Code} code\n * @param {Uint8Array} digest\n */\nexport const create = (code, digest) => {\n  const size = digest.byteLength\n  const sizeOffset = varint.encodingLength(code)\n  const digestOffset = sizeOffset + varint.encodingLength(size)\n\n  const bytes = new Uint8Array(digestOffset + size)\n  varint.encodeTo(code, bytes, 0)\n  varint.encodeTo(size, bytes, sizeOffset)\n  bytes.set(digest, digestOffset)\n\n  return new Digest(code, size, digest, bytes)\n}\n\n/**\n * Turns bytes representation of multihash digest into an instance.\n *\n * @param {Uint8Array} multihash\n * @returns {MultihashDigest}\n */\nexport const decode = (multihash) => {\n  const bytes = coerce(multihash)\n  const [code, sizeOffset] = varint.decode(bytes)\n  const [size, digestOffset] = varint.decode(bytes.subarray(sizeOffset))\n  const digest = bytes.subarray(sizeOffset + digestOffset)\n\n  if (digest.byteLength !== size) {\n    throw new Error('Incorrect length')\n  }\n\n  return new Digest(code, size, digest, bytes)\n}\n\n/**\n * @param {MultihashDigest} a\n * @param {unknown} b\n * @returns {b is MultihashDigest}\n */\nexport const equals = (a, b) => {\n  if (a === b) {\n    return true\n  } else {\n    const data = /** @type {{code?:unknown, size?:unknown, bytes?:unknown}} */(b)\n\n    return (\n      a.code === data.code &&\n      a.size === data.size &&\n      data.bytes instanceof Uint8Array &&\n      equalBytes(a.bytes, data.bytes)\n    )\n  }\n}\n\n/**\n * @typedef {import('./interface.js').MultihashDigest} MultihashDigest\n */\n\n/**\n * Represents a multihash digest which carries information about the\n * hashing algorithm and an actual hash digest.\n *\n * @template {number} Code\n * @template {number} Size\n * @class\n * @implements {MultihashDigest}\n */\nexport class Digest {\n  /**\n   * Creates a multihash digest.\n   *\n   * @param {Code} code\n   * @param {Size} size\n   * @param {Uint8Array} digest\n   * @param {Uint8Array} bytes\n   */\n  constructor (code, size, digest, bytes) {\n    this.code = code\n    this.size = size\n    this.digest = digest\n    this.bytes = bytes\n  }\n}\n","import { base32 } from './bases/base32.js'\nimport { base58btc } from './bases/base58.js'\nimport { coerce } from './bytes.js'\nimport * as Digest from './hashes/digest.js'\n// Linter can see that API is used in types.\n// eslint-disable-next-line\nimport * as API from \"./link/interface.js\"\nimport * as varint from './varint.js'\n\n// This way TS will also expose all the types from module\nexport * from './link/interface.js'\n\n/**\n * @template {API.Link<unknown, number, number, API.Version>} T\n * @template {string} Prefix\n * @param {T} link\n * @param {API.MultibaseEncoder<Prefix>} [base]\n * @returns {API.ToString<T, Prefix>}\n */\nexport const format = (link, base) => {\n  const { bytes, version } = link\n  switch (version) {\n    case 0:\n      return toStringV0(\n        bytes,\n        baseCache(link),\n        /** @type {API.MultibaseEncoder<\"z\">} */ (base) || base58btc.encoder\n      )\n    default:\n      return toStringV1(\n        bytes,\n        baseCache(link),\n        /** @type {API.MultibaseEncoder<Prefix>} */ (base || base32.encoder)\n      )\n  }\n}\n\n/**\n * @template {API.UnknownLink} Link\n * @param {Link} link\n * @returns {API.LinkJSON<Link>}\n */\nexport const toJSON = (link) => ({\n  '/': format(link)\n})\n\n/**\n * @template {API.UnknownLink} Link\n * @param {API.LinkJSON<Link>} json\n */\nexport const fromJSON = (json) =>\n  CID.parse(json['/'])\n\n/** @type {WeakMap<API.UnknownLink, Map<string, string>>} */\nconst cache = new WeakMap()\n\n/**\n * @param {API.UnknownLink} cid\n * @returns {Map<string, string>}\n */\nconst baseCache = cid => {\n  const baseCache = cache.get(cid)\n  if (baseCache == null) {\n    const baseCache = new Map()\n    cache.set(cid, baseCache)\n    return baseCache\n  }\n  return baseCache\n}\n\n/**\n * @template {unknown} [Data=unknown]\n * @template {number} [Format=number]\n * @template {number} [Alg=number]\n * @template {API.Version} [Version=API.Version]\n * @implements {API.Link<Data, Format, Alg, Version>}\n */\n\nexport class CID {\n  /**\n   * @param {Version} version - Version of the CID\n   * @param {Format} code - Code of the codec content is encoded in, see https://github.com/multiformats/multicodec/blob/master/table.csv\n   * @param {API.MultihashDigest<Alg>} multihash - (Multi)hash of the of the content.\n   * @param {Uint8Array} bytes\n   */\n  constructor (version, code, multihash, bytes) {\n    /** @readonly */\n    this.code = code\n    /** @readonly */\n    this.version = version\n    /** @readonly */\n    this.multihash = multihash\n    /** @readonly */\n    this.bytes = bytes\n\n    // flag to serializers that this is a CID and\n    // should be treated specially\n    /** @readonly */\n    this['/'] = bytes\n  }\n\n  /**\n   * Signalling `cid.asCID === cid` has been replaced with `cid['/'] === cid.bytes`\n   * please either use `CID.asCID(cid)` or switch to new signalling mechanism\n   *\n   * @deprecated\n   */\n  get asCID () {\n    return this\n  }\n\n  // ArrayBufferView\n  get byteOffset () {\n    return this.bytes.byteOffset\n  }\n\n  // ArrayBufferView\n  get byteLength () {\n    return this.bytes.byteLength\n  }\n\n  /**\n   * @returns {CID<Data, API.DAG_PB, API.SHA_256, 0>}\n   */\n  toV0 () {\n    switch (this.version) {\n      case 0: {\n        return /** @type {CID<Data, API.DAG_PB, API.SHA_256, 0>} */ (this)\n      }\n      case 1: {\n        const { code, multihash } = this\n\n        if (code !== DAG_PB_CODE) {\n          throw new Error('Cannot convert a non dag-pb CID to CIDv0')\n        }\n\n        // sha2-256\n        if (multihash.code !== SHA_256_CODE) {\n          throw new Error('Cannot convert non sha2-256 multihash CID to CIDv0')\n        }\n\n        return /** @type {CID<Data, API.DAG_PB, API.SHA_256, 0>} */ (\n          CID.createV0(\n            /** @type {API.MultihashDigest<API.SHA_256>} */ (multihash)\n          )\n        )\n      }\n      default: {\n        throw Error(\n          `Can not convert CID version ${this.version} to version 0. This is a bug please report`\n        )\n      }\n    }\n  }\n\n  /**\n   * @returns {CID<Data, Format, Alg, 1>}\n   */\n  toV1 () {\n    switch (this.version) {\n      case 0: {\n        const { code, digest } = this.multihash\n        const multihash = Digest.create(code, digest)\n        return /** @type {CID<Data, Format, Alg, 1>} */ (\n          CID.createV1(this.code, multihash)\n        )\n      }\n      case 1: {\n        return /** @type {CID<Data, Format, Alg, 1>} */ (this)\n      }\n      default: {\n        throw Error(\n          `Can not convert CID version ${this.version} to version 1. This is a bug please report`\n        )\n      }\n    }\n  }\n\n  /**\n   * @param {unknown} other\n   * @returns {other is CID<Data, Format, Alg, Version>}\n   */\n  equals (other) {\n    return CID.equals(this, other)\n  }\n\n  /**\n   * @template {unknown} Data\n   * @template {number} Format\n   * @template {number} Alg\n   * @template {API.Version} Version\n   * @param {API.Link<Data, Format, Alg, Version>} self\n   * @param {unknown} other\n   * @returns {other is CID}\n   */\n  static equals (self, other) {\n    const unknown =\n      /** @type {{code?:unknown, version?:unknown, multihash?:unknown}} */ (\n        other\n      )\n    return (\n      unknown &&\n      self.code === unknown.code &&\n      self.version === unknown.version &&\n      Digest.equals(self.multihash, unknown.multihash)\n    )\n  }\n\n  /**\n   * @param {API.MultibaseEncoder<string>} [base]\n   * @returns {string}\n   */\n  toString (base) {\n    return format(this, base)\n  }\n\n  /**\n   * @returns {API.LinkJSON<this>}\n   */\n  toJSON () {\n    return { '/': format(this) }\n  }\n\n  link () {\n    return this\n  }\n\n  get [Symbol.toStringTag] () {\n    return 'CID'\n  }\n\n  // Legacy\n\n  [Symbol.for('nodejs.util.inspect.custom')] () {\n    return `CID(${this.toString()})`\n  }\n\n  /**\n   * Takes any input `value` and returns a `CID` instance if it was\n   * a `CID` otherwise returns `null`. If `value` is instanceof `CID`\n   * it will return value back. If `value` is not instance of this CID\n   * class, but is compatible CID it will return new instance of this\n   * `CID` class. Otherwise returns null.\n   *\n   * This allows two different incompatible versions of CID library to\n   * co-exist and interop as long as binary interface is compatible.\n   *\n   * @template {unknown} Data\n   * @template {number} Format\n   * @template {number} Alg\n   * @template {API.Version} Version\n   * @template {unknown} U\n   * @param {API.Link<Data, Format, Alg, Version>|U} input\n   * @returns {CID<Data, Format, Alg, Version>|null}\n   */\n  static asCID (input) {\n    if (input == null) {\n      return null\n    }\n\n    const value = /** @type {any} */ (input)\n    if (value instanceof CID) {\n      // If value is instance of CID then we're all set.\n      return value\n    } else if ((value['/'] != null && value['/'] === value.bytes) || value.asCID === value) {\n      // If value isn't instance of this CID class but `this.asCID === this` or\n      // `value['/'] === value.bytes` is true it is CID instance coming from a\n      // different implementation (diff version or duplicate). In that case we\n      // rebase it to this `CID` implementation so caller is guaranteed to get\n      // instance with expected API.\n      const { version, code, multihash, bytes } = value\n      return new CID(\n        version,\n        code,\n        /** @type {API.MultihashDigest<Alg>} */ (multihash),\n        bytes || encodeCID(version, code, multihash.bytes)\n      )\n    } else if (value[cidSymbol] === true) {\n      // If value is a CID from older implementation that used to be tagged via\n      // symbol we still rebase it to the this `CID` implementation by\n      // delegating that to a constructor.\n      const { version, multihash, code } = value\n      const digest =\n        /** @type {API.MultihashDigest<Alg>} */\n        (Digest.decode(multihash))\n      return CID.create(version, code, digest)\n    } else {\n      // Otherwise value is not a CID (or an incompatible version of it) in\n      // which case we return `null`.\n      return null\n    }\n  }\n\n  /**\n   *\n   * @template {unknown} Data\n   * @template {number} Format\n   * @template {number} Alg\n   * @template {API.Version} Version\n   * @param {Version} version - Version of the CID\n   * @param {Format} code - Code of the codec content is encoded in, see https://github.com/multiformats/multicodec/blob/master/table.csv\n   * @param {API.MultihashDigest<Alg>} digest - (Multi)hash of the of the content.\n   * @returns {CID<Data, Format, Alg, Version>}\n   */\n  static create (version, code, digest) {\n    if (typeof code !== 'number') {\n      throw new Error('String codecs are no longer supported')\n    }\n\n    if (!(digest.bytes instanceof Uint8Array)) {\n      throw new Error('Invalid digest')\n    }\n\n    switch (version) {\n      case 0: {\n        if (code !== DAG_PB_CODE) {\n          throw new Error(\n            `Version 0 CID must use dag-pb (code: ${DAG_PB_CODE}) block encoding`\n          )\n        } else {\n          return new CID(version, code, digest, digest.bytes)\n        }\n      }\n      case 1: {\n        const bytes = encodeCID(version, code, digest.bytes)\n        return new CID(version, code, digest, bytes)\n      }\n      default: {\n        throw new Error('Invalid version')\n      }\n    }\n  }\n\n  /**\n   * Simplified version of `create` for CIDv0.\n   *\n   * @template {unknown} [T=unknown]\n   * @param {API.MultihashDigest<typeof SHA_256_CODE>} digest - Multihash.\n   * @returns {CID<T, typeof DAG_PB_CODE, typeof SHA_256_CODE, 0>}\n   */\n  static createV0 (digest) {\n    return CID.create(0, DAG_PB_CODE, digest)\n  }\n\n  /**\n   * Simplified version of `create` for CIDv1.\n   *\n   * @template {unknown} Data\n   * @template {number} Code\n   * @template {number} Alg\n   * @param {Code} code - Content encoding format code.\n   * @param {API.MultihashDigest<Alg>} digest - Miltihash of the content.\n   * @returns {CID<Data, Code, Alg, 1>}\n   */\n  static createV1 (code, digest) {\n    return CID.create(1, code, digest)\n  }\n\n  /**\n   * Decoded a CID from its binary representation. The byte array must contain\n   * only the CID with no additional bytes.\n   *\n   * An error will be thrown if the bytes provided do not contain a valid\n   * binary representation of a CID.\n   *\n   * @template {unknown} Data\n   * @template {number} Code\n   * @template {number} Alg\n   * @template {API.Version} Ver\n   * @param {API.ByteView<API.Link<Data, Code, Alg, Ver>>} bytes\n   * @returns {CID<Data, Code, Alg, Ver>}\n   */\n  static decode (bytes) {\n    const [cid, remainder] = CID.decodeFirst(bytes)\n    if (remainder.length) {\n      throw new Error('Incorrect length')\n    }\n    return cid\n  }\n\n  /**\n   * Decoded a CID from its binary representation at the beginning of a byte\n   * array.\n   *\n   * Returns an array with the first element containing the CID and the second\n   * element containing the remainder of the original byte array. The remainder\n   * will be a zero-length byte array if the provided bytes only contained a\n   * binary CID representation.\n   *\n   * @template {unknown} T\n   * @template {number} C\n   * @template {number} A\n   * @template {API.Version} V\n   * @param {API.ByteView<API.Link<T, C, A, V>>} bytes\n   * @returns {[CID<T, C, A, V>, Uint8Array]}\n   */\n  static decodeFirst (bytes) {\n    const specs = CID.inspectBytes(bytes)\n    const prefixSize = specs.size - specs.multihashSize\n    const multihashBytes = coerce(\n      bytes.subarray(prefixSize, prefixSize + specs.multihashSize)\n    )\n    if (multihashBytes.byteLength !== specs.multihashSize) {\n      throw new Error('Incorrect length')\n    }\n    const digestBytes = multihashBytes.subarray(\n      specs.multihashSize - specs.digestSize\n    )\n    const digest = new Digest.Digest(\n      specs.multihashCode,\n      specs.digestSize,\n      digestBytes,\n      multihashBytes\n    )\n    const cid =\n      specs.version === 0\n        ? CID.createV0(/** @type {API.MultihashDigest<API.SHA_256>} */ (digest))\n        : CID.createV1(specs.codec, digest)\n    return [/** @type {CID<T, C, A, V>} */(cid), bytes.subarray(specs.size)]\n  }\n\n  /**\n   * Inspect the initial bytes of a CID to determine its properties.\n   *\n   * Involves decoding up to 4 varints. Typically this will require only 4 to 6\n   * bytes but for larger multicodec code values and larger multihash digest\n   * lengths these varints can be quite large. It is recommended that at least\n   * 10 bytes be made available in the `initialBytes` argument for a complete\n   * inspection.\n   *\n   * @template {unknown} T\n   * @template {number} C\n   * @template {number} A\n   * @template {API.Version} V\n   * @param {API.ByteView<API.Link<T, C, A, V>>} initialBytes\n   * @returns {{ version:V, codec:C, multihashCode:A, digestSize:number, multihashSize:number, size:number }}\n   */\n  static inspectBytes (initialBytes) {\n    let offset = 0\n    const next = () => {\n      const [i, length] = varint.decode(initialBytes.subarray(offset))\n      offset += length\n      return i\n    }\n\n    let version = /** @type {V} */ (next())\n    let codec = /** @type {C} */ (DAG_PB_CODE)\n    if (/** @type {number} */(version) === 18) {\n      // CIDv0\n      version = /** @type {V} */ (0)\n      offset = 0\n    } else {\n      codec = /** @type {C} */ (next())\n    }\n\n    if (version !== 0 && version !== 1) {\n      throw new RangeError(`Invalid CID version ${version}`)\n    }\n\n    const prefixSize = offset\n    const multihashCode = /** @type {A} */ (next()) // multihash code\n    const digestSize = next() // multihash length\n    const size = offset + digestSize\n    const multihashSize = size - prefixSize\n\n    return { version, codec, multihashCode, digestSize, multihashSize, size }\n  }\n\n  /**\n   * Takes cid in a string representation and creates an instance. If `base`\n   * decoder is not provided will use a default from the configuration. It will\n   * throw an error if encoding of the CID is not compatible with supplied (or\n   * a default decoder).\n   *\n   * @template {string} Prefix\n   * @template {unknown} Data\n   * @template {number} Code\n   * @template {number} Alg\n   * @template {API.Version} Ver\n   * @param {API.ToString<API.Link<Data, Code, Alg, Ver>, Prefix>} source\n   * @param {API.MultibaseDecoder<Prefix>} [base]\n   * @returns {CID<Data, Code, Alg, Ver>}\n   */\n  static parse (source, base) {\n    const [prefix, bytes] = parseCIDtoBytes(source, base)\n\n    const cid = CID.decode(bytes)\n\n    if (cid.version === 0 && source[0] !== 'Q') {\n      throw Error('Version 0 CID string must not include multibase prefix')\n    }\n\n    // Cache string representation to avoid computing it on `this.toString()`\n    baseCache(cid).set(prefix, source)\n\n    return cid\n  }\n}\n\n/**\n * @template {string} Prefix\n * @template {unknown} Data\n * @template {number} Code\n * @template {number} Alg\n * @template {API.Version} Ver\n * @param {API.ToString<API.Link<Data, Code, Alg, Ver>, Prefix>} source\n * @param {API.MultibaseDecoder<Prefix>} [base]\n * @returns {[Prefix, API.ByteView<API.Link<Data, Code, Alg, Ver>>]}\n */\nconst parseCIDtoBytes = (source, base) => {\n  switch (source[0]) {\n    // CIDv0 is parsed differently\n    case 'Q': {\n      const decoder = base || base58btc\n      return [\n        /** @type {Prefix} */ (base58btc.prefix),\n        decoder.decode(`${base58btc.prefix}${source}`)\n      ]\n    }\n    case base58btc.prefix: {\n      const decoder = base || base58btc\n      return [/** @type {Prefix} */(base58btc.prefix), decoder.decode(source)]\n    }\n    case base32.prefix: {\n      const decoder = base || base32\n      return [/** @type {Prefix} */(base32.prefix), decoder.decode(source)]\n    }\n    default: {\n      if (base == null) {\n        throw Error(\n          'To parse non base32 or base58btc encoded CID multibase decoder must be provided'\n        )\n      }\n      return [/** @type {Prefix} */(source[0]), base.decode(source)]\n    }\n  }\n}\n\n/**\n *\n * @param {Uint8Array} bytes\n * @param {Map<string, string>} cache\n * @param {API.MultibaseEncoder<'z'>} base\n */\nconst toStringV0 = (bytes, cache, base) => {\n  const { prefix } = base\n  if (prefix !== base58btc.prefix) {\n    throw Error(`Cannot string encode V0 in ${base.name} encoding`)\n  }\n\n  const cid = cache.get(prefix)\n  if (cid == null) {\n    const cid = base.encode(bytes).slice(1)\n    cache.set(prefix, cid)\n    return cid\n  } else {\n    return cid\n  }\n}\n\n/**\n * @template {string} Prefix\n * @param {Uint8Array} bytes\n * @param {Map<string, string>} cache\n * @param {API.MultibaseEncoder<Prefix>} base\n */\nconst toStringV1 = (bytes, cache, base) => {\n  const { prefix } = base\n  const cid = cache.get(prefix)\n  if (cid == null) {\n    const cid = base.encode(bytes)\n    cache.set(prefix, cid)\n    return cid\n  } else {\n    return cid\n  }\n}\n\nconst DAG_PB_CODE = 0x70\nconst SHA_256_CODE = 0x12\n\n/**\n * @param {API.Version} version\n * @param {number} code\n * @param {Uint8Array} multihash\n * @returns {Uint8Array}\n */\nconst encodeCID = (version, code, multihash) => {\n  const codeOffset = varint.encodingLength(version)\n  const hashOffset = codeOffset + varint.encodingLength(code)\n  const bytes = new Uint8Array(hashOffset + multihash.byteLength)\n  varint.encodeTo(version, bytes, 0)\n  varint.encodeTo(code, bytes, codeOffset)\n  bytes.set(multihash, hashOffset)\n  return bytes\n}\n\nconst cidSymbol = Symbol.for('@ipld/js-cid/CID')\n","import { base32 } from 'multiformats/bases/base32';\nimport { CID } from 'multiformats/cid';\nimport * as raw from 'multiformats/codecs/raw';\nimport * as Digest from 'multiformats/hashes/digest';\nimport { BaseBlockstore } from './base.js';\nimport * as Errors from './errors.js';\nexport class MemoryBlockstore extends BaseBlockstore {\n    data;\n    constructor() {\n        super();\n        this.data = new Map();\n    }\n    put(key, val) {\n        this.data.set(base32.encode(key.multihash.bytes), val);\n        return key;\n    }\n    get(key) {\n        const buf = this.data.get(base32.encode(key.multihash.bytes));\n        if (buf == null) {\n            throw Errors.notFoundError();\n        }\n        return buf;\n    }\n    has(key) {\n        return this.data.has(base32.encode(key.multihash.bytes));\n    }\n    async delete(key) {\n        this.data.delete(base32.encode(key.multihash.bytes));\n    }\n    async *getAll() {\n        for (const [key, value] of this.data.entries()) {\n            yield {\n                cid: CID.createV1(raw.code, Digest.decode(base32.decode(key))),\n                block: value\n            };\n        }\n    }\n}\n//# sourceMappingURL=memory.js.map","// @ts-check\n\nimport { coerce } from '../bytes.js'\n\n/**\n * @template T\n * @typedef {import('./interface.js').ByteView<T>} ByteView\n */\n\nexport const name = 'raw'\nexport const code = 0x55\n\n/**\n * @param {Uint8Array} node\n * @returns {ByteView<Uint8Array>}\n */\nexport const encode = (node) => coerce(node)\n\n/**\n * @param {ByteView<Uint8Array>} data\n * @returns {Uint8Array}\n */\nexport const decode = (data) => coerce(data)\n","// @ts-check\n\nimport { rfc4648 } from './base.js'\n\nexport const base64 = rfc4648({\n  prefix: 'm',\n  name: 'base64',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',\n  bitsPerChar: 6\n})\n\nexport const base64pad = rfc4648({\n  prefix: 'M',\n  name: 'base64pad',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=',\n  bitsPerChar: 6\n})\n\nexport const base64url = rfc4648({\n  prefix: 'u',\n  name: 'base64url',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_',\n  bitsPerChar: 6\n})\n\nexport const base64urlpad = rfc4648({\n  prefix: 'U',\n  name: 'base64urlpad',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=',\n  bitsPerChar: 6\n})\n","import debug from 'debug';\nimport { base32 } from 'multiformats/bases/base32';\nimport { base58btc } from 'multiformats/bases/base58';\nimport { base64 } from 'multiformats/bases/base64';\n// Add a formatter for converting to a base58 string\ndebug.formatters.b = (v) => {\n    return v == null ? 'undefined' : base58btc.baseEncode(v);\n};\n// Add a formatter for converting to a base32 string\ndebug.formatters.t = (v) => {\n    return v == null ? 'undefined' : base32.baseEncode(v);\n};\n// Add a formatter for converting to a base64 string\ndebug.formatters.m = (v) => {\n    return v == null ? 'undefined' : base64.baseEncode(v);\n};\n// Add a formatter for stringifying peer ids\ndebug.formatters.p = (v) => {\n    return v == null ? 'undefined' : v.toString();\n};\n// Add a formatter for stringifying CIDs\ndebug.formatters.c = (v) => {\n    return v == null ? 'undefined' : v.toString();\n};\n// Add a formatter for stringifying Datastore keys\ndebug.formatters.k = (v) => {\n    return v == null ? 'undefined' : v.toString();\n};\n// Add a formatter for stringifying Multiaddrs\ndebug.formatters.a = (v) => {\n    return v == null ? 'undefined' : v.toString();\n};\nfunction createDisabledLogger(namespace) {\n    const logger = () => { };\n    logger.enabled = false;\n    logger.color = '';\n    logger.diff = 0;\n    logger.log = () => { };\n    logger.namespace = namespace;\n    logger.destroy = () => true;\n    logger.extend = () => logger;\n    return logger;\n}\nexport function logger(name) {\n    // trace logging is a no-op by default\n    let trace = createDisabledLogger(`${name}:trace`);\n    // look at all the debug names and see if trace logging has explicitly been enabled\n    if (debug.enabled(`${name}:trace`) && debug.names.map(r => r.toString()).find(n => n.includes(':trace')) != null) {\n        trace = debug(`${name}:trace`);\n    }\n    return Object.assign(debug(name), {\n        error: debug(`${name}:error`),\n        trace\n    });\n}\nexport function disable() {\n    debug.disable();\n}\nexport function enable(namespaces) {\n    debug.enable(namespaces);\n}\nexport function enabled(namespaces) {\n    return debug.enabled(namespaces);\n}\n//# sourceMappingURL=index.js.map","/**\n * @packageDocumentation\n *\n * An iterable that you can push values into.\n *\n * @example\n *\n * ```js\n * import { pushable } from 'it-pushable'\n *\n * const source = pushable()\n *\n * setTimeout(() => source.push('hello'), 100)\n * setTimeout(() => source.push('world'), 200)\n * setTimeout(() => source.end(), 300)\n *\n * const start = Date.now()\n *\n * for await (const value of source) {\n *   console.log(`got \"${value}\" after ${Date.now() - start}ms`)\n * }\n * console.log(`done after ${Date.now() - start}ms`)\n *\n * // Output:\n * // got \"hello\" after 105ms\n * // got \"world\" after 207ms\n * // done after 309ms\n * ```\n *\n * @example\n *\n * ```js\n * import { pushableV } from 'it-pushable'\n * import all from 'it-all'\n *\n * const source = pushableV()\n *\n * source.push(1)\n * source.push(2)\n * source.push(3)\n * source.end()\n *\n * console.info(await all(source))\n *\n * // Output:\n * // [ [1, 2, 3] ]\n * ```\n */\nimport deferred from 'p-defer';\nimport { FIFO } from './fifo.js';\nexport class AbortError extends Error {\n    type;\n    code;\n    constructor(message, code) {\n        super(message ?? 'The operation was aborted');\n        this.type = 'aborted';\n        this.code = code ?? 'ABORT_ERR';\n    }\n}\nexport function pushable(options = {}) {\n    const getNext = (buffer) => {\n        const next = buffer.shift();\n        if (next == null) {\n            return { done: true };\n        }\n        if (next.error != null) {\n            throw next.error;\n        }\n        return {\n            done: next.done === true,\n            // @ts-expect-error if done is false, value will be present\n            value: next.value\n        };\n    };\n    return _pushable(getNext, options);\n}\nexport function pushableV(options = {}) {\n    const getNext = (buffer) => {\n        let next;\n        const values = [];\n        while (!buffer.isEmpty()) {\n            next = buffer.shift();\n            if (next == null) {\n                break;\n            }\n            if (next.error != null) {\n                throw next.error;\n            }\n            if (next.done === false) {\n                // @ts-expect-error if done is false value should be pushed\n                values.push(next.value);\n            }\n        }\n        if (next == null) {\n            return { done: true };\n        }\n        return {\n            done: next.done === true,\n            value: values\n        };\n    };\n    return _pushable(getNext, options);\n}\nfunction _pushable(getNext, options) {\n    options = options ?? {};\n    let onEnd = options.onEnd;\n    let buffer = new FIFO();\n    let pushable;\n    let onNext;\n    let ended;\n    let drain = deferred();\n    const waitNext = async () => {\n        try {\n            if (!buffer.isEmpty()) {\n                return getNext(buffer);\n            }\n            if (ended) {\n                return { done: true };\n            }\n            return await new Promise((resolve, reject) => {\n                onNext = (next) => {\n                    onNext = null;\n                    buffer.push(next);\n                    try {\n                        resolve(getNext(buffer));\n                    }\n                    catch (err) {\n                        reject(err);\n                    }\n                    return pushable;\n                };\n            });\n        }\n        finally {\n            if (buffer.isEmpty()) {\n                // settle promise in the microtask queue to give consumers a chance to\n                // await after calling .push\n                queueMicrotask(() => {\n                    drain.resolve();\n                    drain = deferred();\n                });\n            }\n        }\n    };\n    const bufferNext = (next) => {\n        if (onNext != null) {\n            return onNext(next);\n        }\n        buffer.push(next);\n        return pushable;\n    };\n    const bufferError = (err) => {\n        buffer = new FIFO();\n        if (onNext != null) {\n            return onNext({ error: err });\n        }\n        buffer.push({ error: err });\n        return pushable;\n    };\n    const push = (value) => {\n        if (ended) {\n            return pushable;\n        }\n        // @ts-expect-error `byteLength` is not declared on PushType\n        if (options?.objectMode !== true && value?.byteLength == null) {\n            throw new Error('objectMode was not true but tried to push non-Uint8Array value');\n        }\n        return bufferNext({ done: false, value });\n    };\n    const end = (err) => {\n        if (ended)\n            return pushable;\n        ended = true;\n        return (err != null) ? bufferError(err) : bufferNext({ done: true });\n    };\n    const _return = () => {\n        buffer = new FIFO();\n        end();\n        return { done: true };\n    };\n    const _throw = (err) => {\n        end(err);\n        return { done: true };\n    };\n    pushable = {\n        [Symbol.asyncIterator]() { return this; },\n        next: waitNext,\n        return: _return,\n        throw: _throw,\n        push,\n        end,\n        get readableLength() {\n            return buffer.size;\n        },\n        onEmpty: async (options) => {\n            const signal = options?.signal;\n            signal?.throwIfAborted();\n            if (buffer.isEmpty()) {\n                return;\n            }\n            let cancel;\n            let listener;\n            if (signal != null) {\n                cancel = new Promise((resolve, reject) => {\n                    listener = () => {\n                        reject(new AbortError());\n                    };\n                    signal.addEventListener('abort', listener);\n                });\n            }\n            try {\n                await Promise.race([\n                    drain.promise,\n                    cancel\n                ]);\n            }\n            finally {\n                if (listener != null && signal != null) {\n                    signal?.removeEventListener('abort', listener);\n                }\n            }\n        }\n    };\n    if (onEnd == null) {\n        return pushable;\n    }\n    const _pushable = pushable;\n    pushable = {\n        [Symbol.asyncIterator]() { return this; },\n        next() {\n            return _pushable.next();\n        },\n        throw(err) {\n            _pushable.throw(err);\n            if (onEnd != null) {\n                onEnd(err);\n                onEnd = undefined;\n            }\n            return { done: true };\n        },\n        return() {\n            _pushable.return();\n            if (onEnd != null) {\n                onEnd();\n                onEnd = undefined;\n            }\n            return { done: true };\n        },\n        push,\n        end(err) {\n            _pushable.end(err);\n            if (onEnd != null) {\n                onEnd(err);\n                onEnd = undefined;\n            }\n            return pushable;\n        },\n        get readableLength() {\n            return _pushable.readableLength;\n        }\n    };\n    return pushable;\n}\n//# sourceMappingURL=index.js.map","import { logger } from '@libp2p/logger';\nimport drain from 'it-drain';\nimport filter from 'it-filter';\nimport merge from 'it-merge';\nimport { pushable } from 'it-pushable';\nimport { BaseBlockstore } from './base.js';\nimport * as Errors from './errors.js';\nconst log = logger('blockstore:core:tiered');\n/**\n * A blockstore that can combine multiple stores. Puts and deletes\n * will write through to all blockstores. Has and get will\n * try each store sequentially. getAll will use every store but also\n * deduplicate any yielded pairs.\n */\nexport class TieredBlockstore extends BaseBlockstore {\n    stores;\n    constructor(stores) {\n        super();\n        this.stores = stores.slice();\n    }\n    async put(key, value, options) {\n        try {\n            await Promise.all(this.stores.map(async (store) => { await store.put(key, value, options); }));\n            return key;\n        }\n        catch (err) {\n            throw Errors.putFailedError(err);\n        }\n    }\n    async get(key, options) {\n        for (const store of this.stores) {\n            try {\n                const res = await store.get(key, options);\n                if (res != null)\n                    return res;\n            }\n            catch (err) {\n                log.error(err);\n            }\n        }\n        throw Errors.notFoundError();\n    }\n    async has(key, options) {\n        for (const s of this.stores) {\n            if (await s.has(key, options)) {\n                return true;\n            }\n        }\n        return false;\n    }\n    async delete(key, options) {\n        try {\n            await Promise.all(this.stores.map(async (store) => { await store.delete(key, options); }));\n        }\n        catch (err) {\n            throw Errors.deleteFailedError(err);\n        }\n    }\n    async *putMany(source, options = {}) {\n        let error;\n        const pushables = this.stores.map(store => {\n            const source = pushable({\n                objectMode: true\n            });\n            drain(store.putMany(source, options))\n                .catch(err => {\n                // store threw while putting, make sure we bubble the error up\n                error = err;\n            });\n            return source;\n        });\n        try {\n            for await (const pair of source) {\n                if (error != null) {\n                    throw error;\n                }\n                pushables.forEach(p => p.push(pair));\n                yield pair.cid;\n            }\n        }\n        finally {\n            pushables.forEach(p => p.end());\n        }\n    }\n    async *deleteMany(source, options = {}) {\n        let error;\n        const pushables = this.stores.map(store => {\n            const source = pushable({\n                objectMode: true\n            });\n            drain(store.deleteMany(source, options))\n                .catch(err => {\n                // store threw while deleting, make sure we bubble the error up\n                error = err;\n            });\n            return source;\n        });\n        try {\n            for await (const key of source) {\n                if (error != null) {\n                    throw error;\n                }\n                pushables.forEach(p => p.push(key));\n                yield key;\n            }\n        }\n        finally {\n            pushables.forEach(p => p.end());\n        }\n    }\n    async *getAll(options) {\n        // deduplicate yielded pairs\n        const seen = new Set();\n        yield* filter(merge(...this.stores.map(s => s.getAll(options))), (pair) => {\n            const cidStr = pair.cid.toString();\n            if (seen.has(cidStr)) {\n                return false;\n            }\n            seen.add(cidStr);\n            return true;\n        });\n    }\n}\n//# sourceMappingURL=tiered.js.map","import * as ErrorsImport from './errors.js';\nexport { BaseBlockstore } from './base.js';\nexport { MemoryBlockstore } from './memory.js';\nexport { BlackHoleBlockstore } from './black-hole.js';\nexport { TieredBlockstore } from './tiered.js';\nexport const Errors = {\n    ...ErrorsImport\n};\n//# sourceMappingURL=index.js.map","import drain from 'it-drain'\nimport filter from 'it-filter'\nimport take from 'it-take'\nimport all from 'it-all'\n\n/**\n * Collect all values from the iterable and sort them using\n * the passed sorter function\n *\n * @template T\n * @param {AsyncIterable<T> | Iterable<T>} iterable\n * @param {(a: T, b: T) => -1 | 0 | 1} sorter\n * @returns {AsyncIterable<T>}\n */\nconst sortAll = (iterable, sorter) => {\n  return (async function * () {\n    const values = await all(iterable)\n    yield * values.sort(sorter)\n  })()\n}\n\n/**\n * @typedef {import('interface-blockstore').Options} Options\n * @typedef {import('interface-blockstore').Pair} Pair\n * @typedef {import('interface-blockstore').Blockstore} Blockstore\n * @typedef {import('interface-blockstore').Query} Query\n * @typedef {import('interface-blockstore').KeyQuery} KeyQuery\n * @typedef {import('interface-blockstore').Batch} Batch\n *\n * @typedef {import('multiformats').CID} CID\n */\n\n/**\n * @template O\n * @typedef {import('interface-store').AwaitIterable<O>} AwaitIterable\n */\n\n/**\n * @implements {Blockstore}\n */\nexport class BaseBlockstore {\n  /**\n   * @returns {Promise<void>}\n   */\n  open () {\n    return Promise.reject(new Error('.open is not implemented'))\n  }\n\n  /**\n   * @returns {Promise<void>}\n   */\n  close () {\n    return Promise.reject(new Error('.close is not implemented'))\n  }\n\n  /**\n   * @param {CID} key\n   * @param {Uint8Array} val\n   * @param {Options} [options]\n   * @returns {Promise<void>}\n   */\n  put (key, val, options) {\n    return Promise.reject(new Error('.put is not implemented'))\n  }\n\n  /**\n   * @param {CID} key\n   * @param {Options} [options]\n   * @returns {Promise<Uint8Array>}\n   */\n  get (key, options) {\n    return Promise.reject(new Error('.get is not implemented'))\n  }\n\n  /**\n   * @param {CID} key\n   * @param {Options} [options]\n   * @returns {Promise<boolean>}\n   */\n  has (key, options) {\n    return Promise.reject(new Error('.has is not implemented'))\n  }\n\n  /**\n   * @param {CID} key\n   * @param {Options} [options]\n   * @returns {Promise<void>}\n   */\n  delete (key, options) {\n    return Promise.reject(new Error('.delete is not implemented'))\n  }\n\n  /**\n   * @param {AwaitIterable<Pair>} source\n   * @param {Options} [options]\n   * @returns {AsyncIterable<Pair>}\n   */\n  async * putMany (source, options = {}) {\n    for await (const { key, value } of source) {\n      await this.put(key, value, options)\n      yield { key, value }\n    }\n  }\n\n  /**\n   * @param {AwaitIterable<CID>} source\n   * @param {Options} [options]\n   * @returns {AsyncIterable<Uint8Array>}\n   */\n  async * getMany (source, options = {}) {\n    for await (const key of source) {\n      yield this.get(key, options)\n    }\n  }\n\n  /**\n   * @param {AwaitIterable<CID>} source\n   * @param {Options} [options]\n   * @returns {AsyncIterable<CID>}\n   */\n  async * deleteMany (source, options = {}) {\n    for await (const key of source) {\n      await this.delete(key, options)\n      yield key\n    }\n  }\n\n  /**\n   * @returns {Batch}\n   */\n  batch () {\n    /** @type {Pair[]} */\n    let puts = []\n    /** @type {CID[]} */\n    let dels = []\n\n    return {\n      put (key, value) {\n        puts.push({ key, value })\n      },\n\n      delete (key) {\n        dels.push(key)\n      },\n      commit: async (options) => {\n        await drain(this.putMany(puts, options))\n        puts = []\n        await drain(this.deleteMany(dels, options))\n        dels = []\n      }\n    }\n  }\n\n  /**\n   * Extending classes should override `query` or implement this method\n   *\n   * @param {Query} q\n   * @param {Options} [options]\n   * @returns {AsyncIterable<Pair>}\n   */\n  // eslint-disable-next-line require-yield\n  async * _all (q, options) {\n    throw new Error('._all is not implemented')\n  }\n\n  /**\n   * Extending classes should override `queryKeys` or implement this method\n   *\n   * @param {KeyQuery} q\n   * @param {Options} [options]\n   * @returns {AsyncIterable<CID>}\n   */\n  // eslint-disable-next-line require-yield\n  async * _allKeys (q, options) {\n    throw new Error('._allKeys is not implemented')\n  }\n\n  /**\n   * @param {Query} q\n   * @param {Options} [options]\n   */\n  query (q, options) {\n    let it = this._all(q, options)\n\n    if (q.prefix != null) {\n      it = filter(it, (/** @type {Pair} */ e) =>\n        e.key.toString().startsWith(q.prefix || '')\n      )\n    }\n\n    if (Array.isArray(q.filters)) {\n      it = q.filters.reduce((it, f) => filter(it, f), it)\n    }\n\n    if (Array.isArray(q.orders)) {\n      it = q.orders.reduce((it, f) => sortAll(it, f), it)\n    }\n\n    if (q.offset != null) {\n      let i = 0\n      it = filter(it, () => i++ >= (q.offset || 0))\n    }\n\n    if (q.limit != null) {\n      it = take(it, q.limit)\n    }\n\n    return it\n  }\n\n  /**\n   * @param {KeyQuery} q\n   * @param {Options} [options]\n   */\n  queryKeys (q, options) {\n    let it = this._allKeys(q, options)\n\n    if (q.prefix != null) {\n      it = filter(it, (/** @type {CID} */ cid) => cid.toString().startsWith(q.prefix || ''))\n    }\n\n    if (Array.isArray(q.filters)) {\n      it = q.filters.reduce((it, f) => filter(it, f), it)\n    }\n\n    if (Array.isArray(q.orders)) {\n      it = q.orders.reduce((it, f) => sortAll(it, f), it)\n    }\n\n    if (q.offset != null) {\n      let i = 0\n      it = filter(it, () => i++ >= /** @type {number} */ (q.offset))\n    }\n\n    if (q.limit != null) {\n      it = take(it, q.limit)\n    }\n\n    return it\n  }\n}\n","/**\n * Collects all values from an (async) iterable and returns them as an array\n */\nexport default async function all(source) {\n    const arr = [];\n    for await (const entry of source) {\n        arr.push(entry);\n    }\n    return arr;\n}\n//# sourceMappingURL=index.js.map","import drain from 'it-drain'\nimport { pushable } from 'it-pushable'\nimport { Key } from 'interface-datastore/key'\nimport { CID } from 'multiformats/cid'\nimport * as raw from 'multiformats/codecs/raw'\nimport * as Digest from 'multiformats/hashes/digest'\nimport { base32, base32pad } from 'multiformats/bases/base32'\nimport { base58btc } from 'multiformats/bases/base58'\nimport errcode from 'err-code'\nimport { BaseBlockstore } from 'blockstore-core/base'\n\n/**\n * Transform a cid to the appropriate datastore key.\n *\n * @param {CID} cid\n * @returns {Key}\n */\nfunction cidToKey (cid) {\n  const c = CID.asCID(cid)\n\n  if (!c) {\n    throw errcode(new Error('Not a valid cid'), 'ERR_INVALID_CID')\n  }\n\n  return new Key('/' + base32.encode(c.multihash.bytes).slice(1).toUpperCase(), false)\n}\n\n/**\n * Transform a datastore Key instance to a CID\n * As Key is a multihash of the CID, it is reconstructed using IPLD's RAW codec.\n * Hence it is highly probable that stored CID will differ from a CID retrieved from blockstore.\n *\n * @param {Key} key\n * @returns {CID}\n */\nfunction keyToCid (key) {\n  // Block key is of the form <base32 encoded string>\n  return CID.createV1(raw.code, Digest.decode(base32.decode('b' + key.toString().slice(1).toLowerCase())))\n}\n\n/**\n * Tries to decode a prefix as the first part of a CID and then\n * strip off the version and codec bytes to just leave part of\n * the multihash.\n *\n * Only really works if the prefix length aligns with the byte\n * boundaries of the encoding.\n *\n * @param {string} prefix\n * @returns {string}\n */\nfunction convertPrefix (prefix) {\n  const firstChar = prefix.substring(0, 1)\n\n  if (firstChar === '/') {\n    return convertPrefix(prefix.substring(1))\n  }\n\n  /** @type {(input: string) => Uint8Array } */\n  let decoder\n\n  if (firstChar.toLowerCase() === 'b') {\n    // v1 cid prefix, remove version and codec bytes\n    decoder = (input) => base32.decode(input.toLowerCase()).subarray(2)\n  } else if (firstChar.toLowerCase() === 'c') {\n    // v1 cid prefix, remove version and codec bytes\n    decoder = (input) => base32pad.decode(input.toLowerCase()).subarray(2)\n  } else if (firstChar === 'z') {\n    // v1 cid\n    decoder = (input) => base58btc.decode(input).subarray(2)\n  } else if (firstChar === 'Q') {\n    // v0 cid prefix\n    decoder = (input) => base58btc.decode('z' + input)\n  } else {\n    decoder = (input) => base32.decode('b' + input.toLowerCase()).subarray(2)\n  }\n\n  let bytes\n\n  // find the longest prefix that we can safely decode\n  for (let i = 1; i < prefix.length; i++) {\n    try {\n      bytes = decoder(prefix.substring(0, i))\n    } catch (/** @type {any} */ err) {\n      if (err.message !== 'Unexpected end of data') {\n        throw err\n      }\n    }\n  }\n\n  let str = '/C'\n\n  if (bytes) {\n    // slice one character from the end of the string to ensure we don't end up\n    // with a padded value which could have a non-matching string at the end\n    str = `/${base32.encode(bytes).slice(1, -1).toUpperCase() || 'C'}`\n  }\n\n  return str\n}\n\n/**\n * @param {import('interface-blockstore').Query} query\n * @returns {import('interface-datastore').Query}\n */\nfunction convertQuery (query) {\n  return {\n    ...query,\n    prefix: query.prefix ? convertPrefix(query.prefix) : undefined,\n    filters: query.filters\n      ? query.filters.map(\n        filter => (pair) => {\n          return filter({ key: keyToCid(pair.key), value: pair.value })\n        }\n      )\n      : undefined,\n    orders: query.orders\n      ? query.orders.map(\n        order => (a, b) => {\n          return order({ key: keyToCid(a.key), value: a.value }, { key: keyToCid(b.key), value: b.value })\n        }\n      )\n      : undefined\n  }\n}\n\n/**\n * @param {import('interface-blockstore').KeyQuery} query\n * @returns {import('interface-datastore').KeyQuery}\n */\nfunction convertKeyQuery (query) {\n  return {\n    ...query,\n    prefix: query.prefix ? convertPrefix(query.prefix) : undefined,\n    filters: query.filters\n      ? query.filters.map(\n        filter => (key) => {\n          return filter(keyToCid(key))\n        }\n      )\n      : undefined,\n    orders: query.orders\n      ? query.orders.map(\n        order => (a, b) => {\n          return order(keyToCid(a), keyToCid(b))\n        }\n      )\n      : undefined\n  }\n}\n\n/**\n * @typedef {import('interface-blockstore').Query} Query\n * @typedef {import('interface-blockstore').KeyQuery} KeyQuery\n * @typedef {import('interface-blockstore').Pair} Pair\n * @typedef {import('interface-blockstore').Options} Options\n * @typedef {import('interface-datastore').Datastore} Datastore\n * @typedef {import('interface-blockstore').Blockstore} Blockstore\n */\n\n/**\n * @implements {Blockstore}\n */\nexport class BlockstoreDatastoreAdapter extends BaseBlockstore {\n  /**\n   * @param {Datastore} datastore\n   */\n  constructor (datastore) {\n    super()\n\n    this.child = datastore\n  }\n\n  open () {\n    return this.child.open()\n  }\n\n  close () {\n    return this.child.close()\n  }\n\n  /**\n   * @param {Query} query\n   * @param {Options} [options]\n   */\n  async * query (query, options) {\n    for await (const { key, value } of this.child.query(convertQuery(query), options)) {\n      yield { key: keyToCid(key), value }\n    }\n  }\n\n  /**\n   * @param {KeyQuery} query\n   * @param {Options} [options]\n   */\n  async * queryKeys (query, options) {\n    for await (const key of this.child.queryKeys(convertKeyQuery(query), options)) {\n      yield keyToCid(key)\n    }\n  }\n\n  /**\n   * @param {CID} cid\n   * @param {Options} [options]\n   * @returns\n   */\n  async get (cid, options) {\n    return this.child.get(cidToKey(cid), options)\n  }\n\n  /**\n   * @param {AsyncIterable<CID> | Iterable<CID>} cids\n   * @param {Options} [options]\n   */\n  async * getMany (cids, options) {\n    for await (const cid of cids) {\n      yield this.get(cid, options)\n    }\n  }\n\n  /**\n   * @param {CID} cid\n   * @param {Uint8Array} value\n   * @param {Options} [options]\n   */\n  async put (cid, value, options) {\n    await this.child.put(cidToKey(cid), value, options)\n  }\n\n  /**\n   * @param {AsyncIterable<Pair> | Iterable<Pair>} blocks\n   * @param {Options} [options]\n   */\n  async * putMany (blocks, options) { // eslint-disable-line require-await\n    // we cannot simply chain to `store.putMany` because we convert a CID into\n    // a key based on the multihash only, so we lose the version & codec and\n    // cannot give the user back the CID they used to create the block, so yield\n    // to `store.putMany` but return the actual block the user passed in.\n    //\n    // nb. we want to use `store.putMany` here so bitswap can control batching\n    // up block HAVEs to send to the network - if we use multiple `store.put`s\n    // it will not be able to guess we are about to `store.put` more blocks\n    const output = pushable({\n      objectMode: true\n    })\n\n    // process.nextTick runs on the microtask queue, setImmediate runs on the next\n    // event loop iteration so is slower. Use process.nextTick if it is available.\n    const runner = globalThis.process && globalThis.process.nextTick ? globalThis.process.nextTick : (globalThis.setImmediate || globalThis.setTimeout)\n\n    runner(async () => {\n      try {\n        const store = this.child\n\n        await drain(this.child.putMany(async function * () {\n          for await (const block of blocks) {\n            const key = cidToKey(block.key)\n            const exists = await store.has(key, options)\n\n            if (!exists) {\n              yield { key, value: block.value }\n            }\n\n            // there is an assumption here that after the yield has completed\n            // the underlying datastore has finished writing the block\n            output.push(block)\n          }\n        }()))\n\n        output.end()\n      } catch (/** @type {any} */ err) {\n        output.end(err)\n      }\n    })\n\n    yield * output\n  }\n\n  /**\n   * @param {CID} cid\n   * @param {Options} [options]\n   */\n  has (cid, options) {\n    return this.child.has(cidToKey(cid), options)\n  }\n\n  /**\n   * @param {CID} cid\n   * @param {Options} [options]\n   */\n  delete (cid, options) {\n    return this.child.delete(cidToKey(cid), options)\n  }\n\n  /**\n   * @param {AsyncIterable<CID> | Iterable<CID>} cids\n   * @param {Options} [options]\n   */\n  deleteMany (cids, options) {\n    const out = pushable({\n      objectMode: true\n    })\n\n    drain(this.child.deleteMany((async function * () {\n      for await (const cid of cids) {\n        yield cidToKey(cid)\n\n        out.push(cid)\n      }\n\n      out.end()\n    }()), options)).catch(err => {\n      out.end(err)\n    })\n\n    return out\n  }\n}\n","// base-x encoding / decoding\n// Copyright (c) 2018 base-x contributors\n// Copyright (c) 2014-2018 The Bitcoin Core developers (base58.cpp)\n// Distributed under the MIT software license, see the accompanying\n// file LICENSE or http://www.opensource.org/licenses/mit-license.php.\nfunction base (ALPHABET, name) {\n  if (ALPHABET.length >= 255) { throw new TypeError('Alphabet too long') }\n  var BASE_MAP = new Uint8Array(256);\n  for (var j = 0; j < BASE_MAP.length; j++) {\n    BASE_MAP[j] = 255;\n  }\n  for (var i = 0; i < ALPHABET.length; i++) {\n    var x = ALPHABET.charAt(i);\n    var xc = x.charCodeAt(0);\n    if (BASE_MAP[xc] !== 255) { throw new TypeError(x + ' is ambiguous') }\n    BASE_MAP[xc] = i;\n  }\n  var BASE = ALPHABET.length;\n  var LEADER = ALPHABET.charAt(0);\n  var FACTOR = Math.log(BASE) / Math.log(256); // log(BASE) / log(256), rounded up\n  var iFACTOR = Math.log(256) / Math.log(BASE); // log(256) / log(BASE), rounded up\n  function encode (source) {\n    if (source instanceof Uint8Array) ; else if (ArrayBuffer.isView(source)) {\n      source = new Uint8Array(source.buffer, source.byteOffset, source.byteLength);\n    } else if (Array.isArray(source)) {\n      source = Uint8Array.from(source);\n    }\n    if (!(source instanceof Uint8Array)) { throw new TypeError('Expected Uint8Array') }\n    if (source.length === 0) { return '' }\n        // Skip & count leading zeroes.\n    var zeroes = 0;\n    var length = 0;\n    var pbegin = 0;\n    var pend = source.length;\n    while (pbegin !== pend && source[pbegin] === 0) {\n      pbegin++;\n      zeroes++;\n    }\n        // Allocate enough space in big-endian base58 representation.\n    var size = ((pend - pbegin) * iFACTOR + 1) >>> 0;\n    var b58 = new Uint8Array(size);\n        // Process the bytes.\n    while (pbegin !== pend) {\n      var carry = source[pbegin];\n            // Apply \"b58 = b58 * 256 + ch\".\n      var i = 0;\n      for (var it1 = size - 1; (carry !== 0 || i < length) && (it1 !== -1); it1--, i++) {\n        carry += (256 * b58[it1]) >>> 0;\n        b58[it1] = (carry % BASE) >>> 0;\n        carry = (carry / BASE) >>> 0;\n      }\n      if (carry !== 0) { throw new Error('Non-zero carry') }\n      length = i;\n      pbegin++;\n    }\n        // Skip leading zeroes in base58 result.\n    var it2 = size - length;\n    while (it2 !== size && b58[it2] === 0) {\n      it2++;\n    }\n        // Translate the result into a string.\n    var str = LEADER.repeat(zeroes);\n    for (; it2 < size; ++it2) { str += ALPHABET.charAt(b58[it2]); }\n    return str\n  }\n  function decodeUnsafe (source) {\n    if (typeof source !== 'string') { throw new TypeError('Expected String') }\n    if (source.length === 0) { return new Uint8Array() }\n    var psz = 0;\n        // Skip leading spaces.\n    if (source[psz] === ' ') { return }\n        // Skip and count leading '1's.\n    var zeroes = 0;\n    var length = 0;\n    while (source[psz] === LEADER) {\n      zeroes++;\n      psz++;\n    }\n        // Allocate enough space in big-endian base256 representation.\n    var size = (((source.length - psz) * FACTOR) + 1) >>> 0; // log(58) / log(256), rounded up.\n    var b256 = new Uint8Array(size);\n        // Process the characters.\n    while (source[psz]) {\n            // Decode character\n      var carry = BASE_MAP[source.charCodeAt(psz)];\n            // Invalid character\n      if (carry === 255) { return }\n      var i = 0;\n      for (var it3 = size - 1; (carry !== 0 || i < length) && (it3 !== -1); it3--, i++) {\n        carry += (BASE * b256[it3]) >>> 0;\n        b256[it3] = (carry % 256) >>> 0;\n        carry = (carry / 256) >>> 0;\n      }\n      if (carry !== 0) { throw new Error('Non-zero carry') }\n      length = i;\n      psz++;\n    }\n        // Skip trailing spaces.\n    if (source[psz] === ' ') { return }\n        // Skip leading zeroes in b256.\n    var it4 = size - length;\n    while (it4 !== size && b256[it4] === 0) {\n      it4++;\n    }\n    var vch = new Uint8Array(zeroes + (size - it4));\n    var j = zeroes;\n    while (it4 !== size) {\n      vch[j++] = b256[it4++];\n    }\n    return vch\n  }\n  function decode (string) {\n    var buffer = decodeUnsafe(string);\n    if (buffer) { return buffer }\n    throw new Error(`Non-${name} character`)\n  }\n  return {\n    encode: encode,\n    decodeUnsafe: decodeUnsafe,\n    decode: decode\n  }\n}\nvar src = base;\n\nvar _brrp__multiformats_scope_baseX = src;\n\nexport default _brrp__multiformats_scope_baseX;\n","const empty = new Uint8Array(0)\n\n/**\n * @param {Uint8Array} d\n */\nconst toHex = d => d.reduce((hex, byte) => hex + byte.toString(16).padStart(2, '0'), '')\n\n/**\n * @param {string} hex\n */\nconst fromHex = hex => {\n  const hexes = hex.match(/../g)\n  return hexes ? new Uint8Array(hexes.map(b => parseInt(b, 16))) : empty\n}\n\n/**\n * @param {Uint8Array} aa\n * @param {Uint8Array} bb\n */\nconst equals = (aa, bb) => {\n  if (aa === bb) return true\n  if (aa.byteLength !== bb.byteLength) {\n    return false\n  }\n\n  for (let ii = 0; ii < aa.byteLength; ii++) {\n    if (aa[ii] !== bb[ii]) {\n      return false\n    }\n  }\n\n  return true\n}\n\n/**\n * @param {ArrayBufferView|ArrayBuffer|Uint8Array} o\n * @returns {Uint8Array}\n */\nconst coerce = o => {\n  if (o instanceof Uint8Array && o.constructor.name === 'Uint8Array') return o\n  if (o instanceof ArrayBuffer) return new Uint8Array(o)\n  if (ArrayBuffer.isView(o)) {\n    return new Uint8Array(o.buffer, o.byteOffset, o.byteLength)\n  }\n  throw new Error('Unknown type, must be binary type')\n}\n\n/**\n * @param {any} o\n * @returns {o is ArrayBuffer|ArrayBufferView}\n */\nconst isBinary = o =>\n  o instanceof ArrayBuffer || ArrayBuffer.isView(o)\n\n/**\n * @param {string} str\n * @returns {Uint8Array}\n */\nconst fromString = str => (new TextEncoder()).encode(str)\n\n/**\n * @param {Uint8Array} b\n * @returns {string}\n */\nconst toString = b => (new TextDecoder()).decode(b)\n\nexport { equals, coerce, isBinary, fromHex, toHex, fromString, toString, empty }\n","import basex from '../../vendor/base-x.js'\nimport { coerce } from '../bytes.js'\n// Linter can't see that API is used in types.\n// eslint-disable-next-line\nimport * as API from './interface.js'\n\n/**\n * Class represents both BaseEncoder and MultibaseEncoder meaning it\n * can be used to encode to multibase or base encode without multibase\n * prefix.\n *\n * @class\n * @template {string} Base\n * @template {string} Prefix\n * @implements {API.MultibaseEncoder<Prefix>}\n * @implements {API.BaseEncoder}\n */\nclass Encoder {\n  /**\n   * @param {Base} name\n   * @param {Prefix} prefix\n   * @param {(bytes:Uint8Array) => string} baseEncode\n   */\n  constructor (name, prefix, baseEncode) {\n    this.name = name\n    this.prefix = prefix\n    this.baseEncode = baseEncode\n  }\n\n  /**\n   * @param {Uint8Array} bytes\n   * @returns {API.Multibase<Prefix>}\n   */\n  encode (bytes) {\n    if (bytes instanceof Uint8Array) {\n      return `${this.prefix}${this.baseEncode(bytes)}`\n    } else {\n      throw Error('Unknown type, must be binary type')\n    }\n  }\n}\n\n/**\n * @template {string} Prefix\n */\n/**\n * Class represents both BaseDecoder and MultibaseDecoder so it could be used\n * to decode multibases (with matching prefix) or just base decode strings\n * with corresponding base encoding.\n *\n * @class\n * @template {string} Base\n * @template {string} Prefix\n * @implements {API.MultibaseDecoder<Prefix>}\n * @implements {API.UnibaseDecoder<Prefix>}\n * @implements {API.BaseDecoder}\n */\nclass Decoder {\n  /**\n   * @param {Base} name\n   * @param {Prefix} prefix\n   * @param {(text:string) => Uint8Array} baseDecode\n   */\n  constructor (name, prefix, baseDecode) {\n    this.name = name\n    this.prefix = prefix\n    /* c8 ignore next 3 */\n    if (prefix.codePointAt(0) === undefined) {\n      throw new Error('Invalid prefix character')\n    }\n    /** @private */\n    this.prefixCodePoint = /** @type {number} */ (prefix.codePointAt(0))\n    this.baseDecode = baseDecode\n  }\n\n  /**\n   * @param {string} text\n   */\n  decode (text) {\n    if (typeof text === 'string') {\n      if (text.codePointAt(0) !== this.prefixCodePoint) {\n        throw Error(`Unable to decode multibase string ${JSON.stringify(text)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`)\n      }\n      return this.baseDecode(text.slice(this.prefix.length))\n    } else {\n      throw Error('Can only multibase decode strings')\n    }\n  }\n\n  /**\n   * @template {string} OtherPrefix\n   * @param {API.UnibaseDecoder<OtherPrefix>|ComposedDecoder<OtherPrefix>} decoder\n   * @returns {ComposedDecoder<Prefix|OtherPrefix>}\n   */\n  or (decoder) {\n    return or(this, decoder)\n  }\n}\n\n/**\n * @template {string} Prefix\n * @typedef {Record<Prefix, API.UnibaseDecoder<Prefix>>} Decoders\n */\n\n/**\n * @template {string} Prefix\n * @implements {API.MultibaseDecoder<Prefix>}\n * @implements {API.CombobaseDecoder<Prefix>}\n */\nclass ComposedDecoder {\n  /**\n   * @param {Decoders<Prefix>} decoders\n   */\n  constructor (decoders) {\n    this.decoders = decoders\n  }\n\n  /**\n   * @template {string} OtherPrefix\n   * @param {API.UnibaseDecoder<OtherPrefix>|ComposedDecoder<OtherPrefix>} decoder\n   * @returns {ComposedDecoder<Prefix|OtherPrefix>}\n   */\n  or (decoder) {\n    return or(this, decoder)\n  }\n\n  /**\n   * @param {string} input\n   * @returns {Uint8Array}\n   */\n  decode (input) {\n    const prefix = /** @type {Prefix} */ (input[0])\n    const decoder = this.decoders[prefix]\n    if (decoder) {\n      return decoder.decode(input)\n    } else {\n      throw RangeError(`Unable to decode multibase string ${JSON.stringify(input)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)\n    }\n  }\n}\n\n/**\n * @template {string} L\n * @template {string} R\n * @param {API.UnibaseDecoder<L>|API.CombobaseDecoder<L>} left\n * @param {API.UnibaseDecoder<R>|API.CombobaseDecoder<R>} right\n * @returns {ComposedDecoder<L|R>}\n */\nexport const or = (left, right) => new ComposedDecoder(/** @type {Decoders<L|R>} */({\n  ...(left.decoders || { [/** @type API.UnibaseDecoder<L> */(left).prefix]: left }),\n  ...(right.decoders || { [/** @type API.UnibaseDecoder<R> */(right).prefix]: right })\n}))\n\n/**\n * @class\n * @template {string} Base\n * @template {string} Prefix\n * @implements {API.MultibaseCodec<Prefix>}\n * @implements {API.MultibaseEncoder<Prefix>}\n * @implements {API.MultibaseDecoder<Prefix>}\n * @implements {API.BaseCodec}\n * @implements {API.BaseEncoder}\n * @implements {API.BaseDecoder}\n */\nexport class Codec {\n  /**\n   * @param {Base} name\n   * @param {Prefix} prefix\n   * @param {(bytes:Uint8Array) => string} baseEncode\n   * @param {(text:string) => Uint8Array} baseDecode\n   */\n  constructor (name, prefix, baseEncode, baseDecode) {\n    this.name = name\n    this.prefix = prefix\n    this.baseEncode = baseEncode\n    this.baseDecode = baseDecode\n    this.encoder = new Encoder(name, prefix, baseEncode)\n    this.decoder = new Decoder(name, prefix, baseDecode)\n  }\n\n  /**\n   * @param {Uint8Array} input\n   */\n  encode (input) {\n    return this.encoder.encode(input)\n  }\n\n  /**\n   * @param {string} input\n   */\n  decode (input) {\n    return this.decoder.decode(input)\n  }\n}\n\n/**\n * @template {string} Base\n * @template {string} Prefix\n * @param {object} options\n * @param {Base} options.name\n * @param {Prefix} options.prefix\n * @param {(bytes:Uint8Array) => string} options.encode\n * @param {(input:string) => Uint8Array} options.decode\n * @returns {Codec<Base, Prefix>}\n */\nexport const from = ({ name, prefix, encode, decode }) =>\n  new Codec(name, prefix, encode, decode)\n\n/**\n * @template {string} Base\n * @template {string} Prefix\n * @param {object} options\n * @param {Base} options.name\n * @param {Prefix} options.prefix\n * @param {string} options.alphabet\n * @returns {Codec<Base, Prefix>}\n */\nexport const baseX = ({ prefix, name, alphabet }) => {\n  const { encode, decode } = basex(alphabet, name)\n  return from({\n    prefix,\n    name,\n    encode,\n    /**\n     * @param {string} text\n     */\n    decode: text => coerce(decode(text))\n  })\n}\n\n/**\n * @param {string} string\n * @param {string} alphabet\n * @param {number} bitsPerChar\n * @param {string} name\n * @returns {Uint8Array}\n */\nconst decode = (string, alphabet, bitsPerChar, name) => {\n  // Build the character lookup table:\n  /** @type {Record<string, number>} */\n  const codes = {}\n  for (let i = 0; i < alphabet.length; ++i) {\n    codes[alphabet[i]] = i\n  }\n\n  // Count the padding bytes:\n  let end = string.length\n  while (string[end - 1] === '=') {\n    --end\n  }\n\n  // Allocate the output:\n  const out = new Uint8Array((end * bitsPerChar / 8) | 0)\n\n  // Parse the data:\n  let bits = 0 // Number of bits currently in the buffer\n  let buffer = 0 // Bits waiting to be written out, MSB first\n  let written = 0 // Next byte to write\n  for (let i = 0; i < end; ++i) {\n    // Read one character from the string:\n    const value = codes[string[i]]\n    if (value === undefined) {\n      throw new SyntaxError(`Non-${name} character`)\n    }\n\n    // Append the bits to the buffer:\n    buffer = (buffer << bitsPerChar) | value\n    bits += bitsPerChar\n\n    // Write out some bits if the buffer has a byte's worth:\n    if (bits >= 8) {\n      bits -= 8\n      out[written++] = 0xff & (buffer >> bits)\n    }\n  }\n\n  // Verify that we have received just enough bits:\n  if (bits >= bitsPerChar || 0xff & (buffer << (8 - bits))) {\n    throw new SyntaxError('Unexpected end of data')\n  }\n\n  return out\n}\n\n/**\n * @param {Uint8Array} data\n * @param {string} alphabet\n * @param {number} bitsPerChar\n * @returns {string}\n */\nconst encode = (data, alphabet, bitsPerChar) => {\n  const pad = alphabet[alphabet.length - 1] === '='\n  const mask = (1 << bitsPerChar) - 1\n  let out = ''\n\n  let bits = 0 // Number of bits currently in the buffer\n  let buffer = 0 // Bits waiting to be written out, MSB first\n  for (let i = 0; i < data.length; ++i) {\n    // Slurp data into the buffer:\n    buffer = (buffer << 8) | data[i]\n    bits += 8\n\n    // Write out as much as we can:\n    while (bits > bitsPerChar) {\n      bits -= bitsPerChar\n      out += alphabet[mask & (buffer >> bits)]\n    }\n  }\n\n  // Partial character:\n  if (bits) {\n    out += alphabet[mask & (buffer << (bitsPerChar - bits))]\n  }\n\n  // Add padding characters until we hit a byte boundary:\n  if (pad) {\n    while ((out.length * bitsPerChar) & 7) {\n      out += '='\n    }\n  }\n\n  return out\n}\n\n/**\n * RFC4648 Factory\n *\n * @template {string} Base\n * @template {string} Prefix\n * @param {object} options\n * @param {Base} options.name\n * @param {Prefix} options.prefix\n * @param {string} options.alphabet\n * @param {number} options.bitsPerChar\n */\nexport const rfc4648 = ({ name, prefix, bitsPerChar, alphabet }) => {\n  return from({\n    prefix,\n    name,\n    encode (input) {\n      return encode(input, alphabet, bitsPerChar)\n    },\n    decode (input) {\n      return decode(input, alphabet, bitsPerChar, name)\n    }\n  })\n}\n","import { rfc4648 } from './base.js'\n\nexport const base32 = rfc4648({\n  prefix: 'b',\n  name: 'base32',\n  alphabet: 'abcdefghijklmnopqrstuvwxyz234567',\n  bitsPerChar: 5\n})\n\nexport const base32upper = rfc4648({\n  prefix: 'B',\n  name: 'base32upper',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ234567',\n  bitsPerChar: 5\n})\n\nexport const base32pad = rfc4648({\n  prefix: 'c',\n  name: 'base32pad',\n  alphabet: 'abcdefghijklmnopqrstuvwxyz234567=',\n  bitsPerChar: 5\n})\n\nexport const base32padupper = rfc4648({\n  prefix: 'C',\n  name: 'base32padupper',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=',\n  bitsPerChar: 5\n})\n\nexport const base32hex = rfc4648({\n  prefix: 'v',\n  name: 'base32hex',\n  alphabet: '0123456789abcdefghijklmnopqrstuv',\n  bitsPerChar: 5\n})\n\nexport const base32hexupper = rfc4648({\n  prefix: 'V',\n  name: 'base32hexupper',\n  alphabet: '0123456789ABCDEFGHIJKLMNOPQRSTUV',\n  bitsPerChar: 5\n})\n\nexport const base32hexpad = rfc4648({\n  prefix: 't',\n  name: 'base32hexpad',\n  alphabet: '0123456789abcdefghijklmnopqrstuv=',\n  bitsPerChar: 5\n})\n\nexport const base32hexpadupper = rfc4648({\n  prefix: 'T',\n  name: 'base32hexpadupper',\n  alphabet: '0123456789ABCDEFGHIJKLMNOPQRSTUV=',\n  bitsPerChar: 5\n})\n\nexport const base32z = rfc4648({\n  prefix: 'h',\n  name: 'base32z',\n  alphabet: 'ybndrfg8ejkmcpqxot1uwisza345h769',\n  bitsPerChar: 5\n})\n","import { baseX } from './base.js'\n\nexport const base58btc = baseX({\n  name: 'base58btc',\n  prefix: 'z',\n  alphabet: '123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz'\n})\n\nexport const base58flickr = baseX({\n  name: 'base58flickr',\n  prefix: 'Z',\n  alphabet: '123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ'\n})\n","var encode_1 = encode;\n\nvar MSB = 0x80\n  , REST = 0x7F\n  , MSBALL = ~REST\n  , INT = Math.pow(2, 31);\n\nfunction encode(num, out, offset) {\n  out = out || [];\n  offset = offset || 0;\n  var oldOffset = offset;\n\n  while(num >= INT) {\n    out[offset++] = (num & 0xFF) | MSB;\n    num /= 128;\n  }\n  while(num & MSBALL) {\n    out[offset++] = (num & 0xFF) | MSB;\n    num >>>= 7;\n  }\n  out[offset] = num | 0;\n  \n  encode.bytes = offset - oldOffset + 1;\n  \n  return out\n}\n\nvar decode = read;\n\nvar MSB$1 = 0x80\n  , REST$1 = 0x7F;\n\nfunction read(buf, offset) {\n  var res    = 0\n    , offset = offset || 0\n    , shift  = 0\n    , counter = offset\n    , b\n    , l = buf.length;\n\n  do {\n    if (counter >= l) {\n      read.bytes = 0;\n      throw new RangeError('Could not decode varint')\n    }\n    b = buf[counter++];\n    res += shift < 28\n      ? (b & REST$1) << shift\n      : (b & REST$1) * Math.pow(2, shift);\n    shift += 7;\n  } while (b >= MSB$1)\n\n  read.bytes = counter - offset;\n\n  return res\n}\n\nvar N1 = Math.pow(2,  7);\nvar N2 = Math.pow(2, 14);\nvar N3 = Math.pow(2, 21);\nvar N4 = Math.pow(2, 28);\nvar N5 = Math.pow(2, 35);\nvar N6 = Math.pow(2, 42);\nvar N7 = Math.pow(2, 49);\nvar N8 = Math.pow(2, 56);\nvar N9 = Math.pow(2, 63);\n\nvar length = function (value) {\n  return (\n    value < N1 ? 1\n  : value < N2 ? 2\n  : value < N3 ? 3\n  : value < N4 ? 4\n  : value < N5 ? 5\n  : value < N6 ? 6\n  : value < N7 ? 7\n  : value < N8 ? 8\n  : value < N9 ? 9\n  :              10\n  )\n};\n\nvar varint = {\n    encode: encode_1\n  , decode: decode\n  , encodingLength: length\n};\n\nvar _brrp_varint = varint;\n\nexport default _brrp_varint;\n","import varint from '../vendor/varint.js'\n\n/**\n * @param {Uint8Array} data\n * @param {number} [offset=0]\n * @returns {[number, number]}\n */\nexport const decode = (data, offset = 0) => {\n  const code = varint.decode(data, offset)\n  return [code, varint.decode.bytes]\n}\n\n/**\n * @param {number} int\n * @param {Uint8Array} target\n * @param {number} [offset=0]\n */\nexport const encodeTo = (int, target, offset = 0) => {\n  varint.encode(int, target, offset)\n  return target\n}\n\n/**\n * @param {number} int\n * @returns {number}\n */\nexport const encodingLength = (int) => {\n  return varint.encodingLength(int)\n}\n","import { coerce, equals as equalBytes } from '../bytes.js'\nimport * as varint from '../varint.js'\n\n/**\n * Creates a multihash digest.\n *\n * @template {number} Code\n * @param {Code} code\n * @param {Uint8Array} digest\n */\nexport const create = (code, digest) => {\n  const size = digest.byteLength\n  const sizeOffset = varint.encodingLength(code)\n  const digestOffset = sizeOffset + varint.encodingLength(size)\n\n  const bytes = new Uint8Array(digestOffset + size)\n  varint.encodeTo(code, bytes, 0)\n  varint.encodeTo(size, bytes, sizeOffset)\n  bytes.set(digest, digestOffset)\n\n  return new Digest(code, size, digest, bytes)\n}\n\n/**\n * Turns bytes representation of multihash digest into an instance.\n *\n * @param {Uint8Array} multihash\n * @returns {MultihashDigest}\n */\nexport const decode = (multihash) => {\n  const bytes = coerce(multihash)\n  const [code, sizeOffset] = varint.decode(bytes)\n  const [size, digestOffset] = varint.decode(bytes.subarray(sizeOffset))\n  const digest = bytes.subarray(sizeOffset + digestOffset)\n\n  if (digest.byteLength !== size) {\n    throw new Error('Incorrect length')\n  }\n\n  return new Digest(code, size, digest, bytes)\n}\n\n/**\n * @param {MultihashDigest} a\n * @param {unknown} b\n * @returns {b is MultihashDigest}\n */\nexport const equals = (a, b) => {\n  if (a === b) {\n    return true\n  } else {\n    const data = /** @type {{code?:unknown, size?:unknown, bytes?:unknown}} */(b)\n\n    return (\n      a.code === data.code &&\n      a.size === data.size &&\n      data.bytes instanceof Uint8Array &&\n      equalBytes(a.bytes, data.bytes)\n    )\n  }\n}\n\n/**\n * @typedef {import('./interface.js').MultihashDigest} MultihashDigest\n */\n\n/**\n * Represents a multihash digest which carries information about the\n * hashing algorithm and an actual hash digest.\n *\n * @template {number} Code\n * @template {number} Size\n * @class\n * @implements {MultihashDigest}\n */\nexport class Digest {\n  /**\n   * Creates a multihash digest.\n   *\n   * @param {Code} code\n   * @param {Size} size\n   * @param {Uint8Array} digest\n   * @param {Uint8Array} bytes\n   */\n  constructor (code, size, digest, bytes) {\n    this.code = code\n    this.size = size\n    this.digest = digest\n    this.bytes = bytes\n  }\n}\n","import { base32 } from './bases/base32.js'\nimport { base58btc } from './bases/base58.js'\nimport { coerce } from './bytes.js'\nimport * as Digest from './hashes/digest.js'\n// Linter can see that API is used in types.\n// eslint-disable-next-line\nimport * as API from \"./link/interface.js\"\nimport * as varint from './varint.js'\n\n// This way TS will also expose all the types from module\nexport * from './link/interface.js'\n\n/**\n * @template {API.Link<unknown, number, number, API.Version>} T\n * @template {string} Prefix\n * @param {T} link\n * @param {API.MultibaseEncoder<Prefix>} [base]\n * @returns {API.ToString<T, Prefix>}\n */\nexport const format = (link, base) => {\n  const { bytes, version } = link\n  switch (version) {\n    case 0:\n      return toStringV0(\n        bytes,\n        baseCache(link),\n        /** @type {API.MultibaseEncoder<\"z\">} */ (base) || base58btc.encoder\n      )\n    default:\n      return toStringV1(\n        bytes,\n        baseCache(link),\n        /** @type {API.MultibaseEncoder<Prefix>} */ (base || base32.encoder)\n      )\n  }\n}\n\n/**\n * @template {API.UnknownLink} Link\n * @param {Link} link\n * @returns {API.LinkJSON<Link>}\n */\nexport const toJSON = (link) => ({\n  '/': format(link)\n})\n\n/**\n * @template {API.UnknownLink} Link\n * @param {API.LinkJSON<Link>} json\n */\nexport const fromJSON = (json) =>\n  CID.parse(json['/'])\n\n/** @type {WeakMap<API.UnknownLink, Map<string, string>>} */\nconst cache = new WeakMap()\n\n/**\n * @param {API.UnknownLink} cid\n * @returns {Map<string, string>}\n */\nconst baseCache = cid => {\n  const baseCache = cache.get(cid)\n  if (baseCache == null) {\n    const baseCache = new Map()\n    cache.set(cid, baseCache)\n    return baseCache\n  }\n  return baseCache\n}\n\n/**\n * @template {unknown} [Data=unknown]\n * @template {number} [Format=number]\n * @template {number} [Alg=number]\n * @template {API.Version} [Version=API.Version]\n * @implements {API.Link<Data, Format, Alg, Version>}\n */\n\nexport class CID {\n  /**\n   * @param {Version} version - Version of the CID\n   * @param {Format} code - Code of the codec content is encoded in, see https://github.com/multiformats/multicodec/blob/master/table.csv\n   * @param {API.MultihashDigest<Alg>} multihash - (Multi)hash of the of the content.\n   * @param {Uint8Array} bytes\n   */\n  constructor (version, code, multihash, bytes) {\n    /** @readonly */\n    this.code = code\n    /** @readonly */\n    this.version = version\n    /** @readonly */\n    this.multihash = multihash\n    /** @readonly */\n    this.bytes = bytes\n\n    // flag to serializers that this is a CID and\n    // should be treated specially\n    /** @readonly */\n    this['/'] = bytes\n  }\n\n  /**\n   * Signalling `cid.asCID === cid` has been replaced with `cid['/'] === cid.bytes`\n   * please either use `CID.asCID(cid)` or switch to new signalling mechanism\n   *\n   * @deprecated\n   */\n  get asCID () {\n    return this\n  }\n\n  // ArrayBufferView\n  get byteOffset () {\n    return this.bytes.byteOffset\n  }\n\n  // ArrayBufferView\n  get byteLength () {\n    return this.bytes.byteLength\n  }\n\n  /**\n   * @returns {CID<Data, API.DAG_PB, API.SHA_256, 0>}\n   */\n  toV0 () {\n    switch (this.version) {\n      case 0: {\n        return /** @type {CID<Data, API.DAG_PB, API.SHA_256, 0>} */ (this)\n      }\n      case 1: {\n        const { code, multihash } = this\n\n        if (code !== DAG_PB_CODE) {\n          throw new Error('Cannot convert a non dag-pb CID to CIDv0')\n        }\n\n        // sha2-256\n        if (multihash.code !== SHA_256_CODE) {\n          throw new Error('Cannot convert non sha2-256 multihash CID to CIDv0')\n        }\n\n        return /** @type {CID<Data, API.DAG_PB, API.SHA_256, 0>} */ (\n          CID.createV0(\n            /** @type {API.MultihashDigest<API.SHA_256>} */ (multihash)\n          )\n        )\n      }\n      default: {\n        throw Error(\n          `Can not convert CID version ${this.version} to version 0. This is a bug please report`\n        )\n      }\n    }\n  }\n\n  /**\n   * @returns {CID<Data, Format, Alg, 1>}\n   */\n  toV1 () {\n    switch (this.version) {\n      case 0: {\n        const { code, digest } = this.multihash\n        const multihash = Digest.create(code, digest)\n        return /** @type {CID<Data, Format, Alg, 1>} */ (\n          CID.createV1(this.code, multihash)\n        )\n      }\n      case 1: {\n        return /** @type {CID<Data, Format, Alg, 1>} */ (this)\n      }\n      default: {\n        throw Error(\n          `Can not convert CID version ${this.version} to version 1. This is a bug please report`\n        )\n      }\n    }\n  }\n\n  /**\n   * @param {unknown} other\n   * @returns {other is CID<Data, Format, Alg, Version>}\n   */\n  equals (other) {\n    return CID.equals(this, other)\n  }\n\n  /**\n   * @template {unknown} Data\n   * @template {number} Format\n   * @template {number} Alg\n   * @template {API.Version} Version\n   * @param {API.Link<Data, Format, Alg, Version>} self\n   * @param {unknown} other\n   * @returns {other is CID}\n   */\n  static equals (self, other) {\n    const unknown =\n      /** @type {{code?:unknown, version?:unknown, multihash?:unknown}} */ (\n        other\n      )\n    return (\n      unknown &&\n      self.code === unknown.code &&\n      self.version === unknown.version &&\n      Digest.equals(self.multihash, unknown.multihash)\n    )\n  }\n\n  /**\n   * @param {API.MultibaseEncoder<string>} [base]\n   * @returns {string}\n   */\n  toString (base) {\n    return format(this, base)\n  }\n\n  /**\n   * @returns {API.LinkJSON<this>}\n   */\n  toJSON () {\n    return { '/': format(this) }\n  }\n\n  link () {\n    return this\n  }\n\n  get [Symbol.toStringTag] () {\n    return 'CID'\n  }\n\n  // Legacy\n\n  [Symbol.for('nodejs.util.inspect.custom')] () {\n    return `CID(${this.toString()})`\n  }\n\n  /**\n   * Takes any input `value` and returns a `CID` instance if it was\n   * a `CID` otherwise returns `null`. If `value` is instanceof `CID`\n   * it will return value back. If `value` is not instance of this CID\n   * class, but is compatible CID it will return new instance of this\n   * `CID` class. Otherwise returns null.\n   *\n   * This allows two different incompatible versions of CID library to\n   * co-exist and interop as long as binary interface is compatible.\n   *\n   * @template {unknown} Data\n   * @template {number} Format\n   * @template {number} Alg\n   * @template {API.Version} Version\n   * @template {unknown} U\n   * @param {API.Link<Data, Format, Alg, Version>|U} input\n   * @returns {CID<Data, Format, Alg, Version>|null}\n   */\n  static asCID (input) {\n    if (input == null) {\n      return null\n    }\n\n    const value = /** @type {any} */ (input)\n    if (value instanceof CID) {\n      // If value is instance of CID then we're all set.\n      return value\n    } else if ((value['/'] != null && value['/'] === value.bytes) || value.asCID === value) {\n      // If value isn't instance of this CID class but `this.asCID === this` or\n      // `value['/'] === value.bytes` is true it is CID instance coming from a\n      // different implementation (diff version or duplicate). In that case we\n      // rebase it to this `CID` implementation so caller is guaranteed to get\n      // instance with expected API.\n      const { version, code, multihash, bytes } = value\n      return new CID(\n        version,\n        code,\n        /** @type {API.MultihashDigest<Alg>} */ (multihash),\n        bytes || encodeCID(version, code, multihash.bytes)\n      )\n    } else if (value[cidSymbol] === true) {\n      // If value is a CID from older implementation that used to be tagged via\n      // symbol we still rebase it to the this `CID` implementation by\n      // delegating that to a constructor.\n      const { version, multihash, code } = value\n      const digest =\n        /** @type {API.MultihashDigest<Alg>} */\n        (Digest.decode(multihash))\n      return CID.create(version, code, digest)\n    } else {\n      // Otherwise value is not a CID (or an incompatible version of it) in\n      // which case we return `null`.\n      return null\n    }\n  }\n\n  /**\n   *\n   * @template {unknown} Data\n   * @template {number} Format\n   * @template {number} Alg\n   * @template {API.Version} Version\n   * @param {Version} version - Version of the CID\n   * @param {Format} code - Code of the codec content is encoded in, see https://github.com/multiformats/multicodec/blob/master/table.csv\n   * @param {API.MultihashDigest<Alg>} digest - (Multi)hash of the of the content.\n   * @returns {CID<Data, Format, Alg, Version>}\n   */\n  static create (version, code, digest) {\n    if (typeof code !== 'number') {\n      throw new Error('String codecs are no longer supported')\n    }\n\n    if (!(digest.bytes instanceof Uint8Array)) {\n      throw new Error('Invalid digest')\n    }\n\n    switch (version) {\n      case 0: {\n        if (code !== DAG_PB_CODE) {\n          throw new Error(\n            `Version 0 CID must use dag-pb (code: ${DAG_PB_CODE}) block encoding`\n          )\n        } else {\n          return new CID(version, code, digest, digest.bytes)\n        }\n      }\n      case 1: {\n        const bytes = encodeCID(version, code, digest.bytes)\n        return new CID(version, code, digest, bytes)\n      }\n      default: {\n        throw new Error('Invalid version')\n      }\n    }\n  }\n\n  /**\n   * Simplified version of `create` for CIDv0.\n   *\n   * @template {unknown} [T=unknown]\n   * @param {API.MultihashDigest<typeof SHA_256_CODE>} digest - Multihash.\n   * @returns {CID<T, typeof DAG_PB_CODE, typeof SHA_256_CODE, 0>}\n   */\n  static createV0 (digest) {\n    return CID.create(0, DAG_PB_CODE, digest)\n  }\n\n  /**\n   * Simplified version of `create` for CIDv1.\n   *\n   * @template {unknown} Data\n   * @template {number} Code\n   * @template {number} Alg\n   * @param {Code} code - Content encoding format code.\n   * @param {API.MultihashDigest<Alg>} digest - Miltihash of the content.\n   * @returns {CID<Data, Code, Alg, 1>}\n   */\n  static createV1 (code, digest) {\n    return CID.create(1, code, digest)\n  }\n\n  /**\n   * Decoded a CID from its binary representation. The byte array must contain\n   * only the CID with no additional bytes.\n   *\n   * An error will be thrown if the bytes provided do not contain a valid\n   * binary representation of a CID.\n   *\n   * @template {unknown} Data\n   * @template {number} Code\n   * @template {number} Alg\n   * @template {API.Version} Ver\n   * @param {API.ByteView<API.Link<Data, Code, Alg, Ver>>} bytes\n   * @returns {CID<Data, Code, Alg, Ver>}\n   */\n  static decode (bytes) {\n    const [cid, remainder] = CID.decodeFirst(bytes)\n    if (remainder.length) {\n      throw new Error('Incorrect length')\n    }\n    return cid\n  }\n\n  /**\n   * Decoded a CID from its binary representation at the beginning of a byte\n   * array.\n   *\n   * Returns an array with the first element containing the CID and the second\n   * element containing the remainder of the original byte array. The remainder\n   * will be a zero-length byte array if the provided bytes only contained a\n   * binary CID representation.\n   *\n   * @template {unknown} T\n   * @template {number} C\n   * @template {number} A\n   * @template {API.Version} V\n   * @param {API.ByteView<API.Link<T, C, A, V>>} bytes\n   * @returns {[CID<T, C, A, V>, Uint8Array]}\n   */\n  static decodeFirst (bytes) {\n    const specs = CID.inspectBytes(bytes)\n    const prefixSize = specs.size - specs.multihashSize\n    const multihashBytes = coerce(\n      bytes.subarray(prefixSize, prefixSize + specs.multihashSize)\n    )\n    if (multihashBytes.byteLength !== specs.multihashSize) {\n      throw new Error('Incorrect length')\n    }\n    const digestBytes = multihashBytes.subarray(\n      specs.multihashSize - specs.digestSize\n    )\n    const digest = new Digest.Digest(\n      specs.multihashCode,\n      specs.digestSize,\n      digestBytes,\n      multihashBytes\n    )\n    const cid =\n      specs.version === 0\n        ? CID.createV0(/** @type {API.MultihashDigest<API.SHA_256>} */ (digest))\n        : CID.createV1(specs.codec, digest)\n    return [/** @type {CID<T, C, A, V>} */(cid), bytes.subarray(specs.size)]\n  }\n\n  /**\n   * Inspect the initial bytes of a CID to determine its properties.\n   *\n   * Involves decoding up to 4 varints. Typically this will require only 4 to 6\n   * bytes but for larger multicodec code values and larger multihash digest\n   * lengths these varints can be quite large. It is recommended that at least\n   * 10 bytes be made available in the `initialBytes` argument for a complete\n   * inspection.\n   *\n   * @template {unknown} T\n   * @template {number} C\n   * @template {number} A\n   * @template {API.Version} V\n   * @param {API.ByteView<API.Link<T, C, A, V>>} initialBytes\n   * @returns {{ version:V, codec:C, multihashCode:A, digestSize:number, multihashSize:number, size:number }}\n   */\n  static inspectBytes (initialBytes) {\n    let offset = 0\n    const next = () => {\n      const [i, length] = varint.decode(initialBytes.subarray(offset))\n      offset += length\n      return i\n    }\n\n    let version = /** @type {V} */ (next())\n    let codec = /** @type {C} */ (DAG_PB_CODE)\n    if (/** @type {number} */(version) === 18) {\n      // CIDv0\n      version = /** @type {V} */ (0)\n      offset = 0\n    } else {\n      codec = /** @type {C} */ (next())\n    }\n\n    if (version !== 0 && version !== 1) {\n      throw new RangeError(`Invalid CID version ${version}`)\n    }\n\n    const prefixSize = offset\n    const multihashCode = /** @type {A} */ (next()) // multihash code\n    const digestSize = next() // multihash length\n    const size = offset + digestSize\n    const multihashSize = size - prefixSize\n\n    return { version, codec, multihashCode, digestSize, multihashSize, size }\n  }\n\n  /**\n   * Takes cid in a string representation and creates an instance. If `base`\n   * decoder is not provided will use a default from the configuration. It will\n   * throw an error if encoding of the CID is not compatible with supplied (or\n   * a default decoder).\n   *\n   * @template {string} Prefix\n   * @template {unknown} Data\n   * @template {number} Code\n   * @template {number} Alg\n   * @template {API.Version} Ver\n   * @param {API.ToString<API.Link<Data, Code, Alg, Ver>, Prefix>} source\n   * @param {API.MultibaseDecoder<Prefix>} [base]\n   * @returns {CID<Data, Code, Alg, Ver>}\n   */\n  static parse (source, base) {\n    const [prefix, bytes] = parseCIDtoBytes(source, base)\n\n    const cid = CID.decode(bytes)\n\n    if (cid.version === 0 && source[0] !== 'Q') {\n      throw Error('Version 0 CID string must not include multibase prefix')\n    }\n\n    // Cache string representation to avoid computing it on `this.toString()`\n    baseCache(cid).set(prefix, source)\n\n    return cid\n  }\n}\n\n/**\n * @template {string} Prefix\n * @template {unknown} Data\n * @template {number} Code\n * @template {number} Alg\n * @template {API.Version} Ver\n * @param {API.ToString<API.Link<Data, Code, Alg, Ver>, Prefix>} source\n * @param {API.MultibaseDecoder<Prefix>} [base]\n * @returns {[Prefix, API.ByteView<API.Link<Data, Code, Alg, Ver>>]}\n */\nconst parseCIDtoBytes = (source, base) => {\n  switch (source[0]) {\n    // CIDv0 is parsed differently\n    case 'Q': {\n      const decoder = base || base58btc\n      return [\n        /** @type {Prefix} */ (base58btc.prefix),\n        decoder.decode(`${base58btc.prefix}${source}`)\n      ]\n    }\n    case base58btc.prefix: {\n      const decoder = base || base58btc\n      return [/** @type {Prefix} */(base58btc.prefix), decoder.decode(source)]\n    }\n    case base32.prefix: {\n      const decoder = base || base32\n      return [/** @type {Prefix} */(base32.prefix), decoder.decode(source)]\n    }\n    default: {\n      if (base == null) {\n        throw Error(\n          'To parse non base32 or base58btc encoded CID multibase decoder must be provided'\n        )\n      }\n      return [/** @type {Prefix} */(source[0]), base.decode(source)]\n    }\n  }\n}\n\n/**\n *\n * @param {Uint8Array} bytes\n * @param {Map<string, string>} cache\n * @param {API.MultibaseEncoder<'z'>} base\n */\nconst toStringV0 = (bytes, cache, base) => {\n  const { prefix } = base\n  if (prefix !== base58btc.prefix) {\n    throw Error(`Cannot string encode V0 in ${base.name} encoding`)\n  }\n\n  const cid = cache.get(prefix)\n  if (cid == null) {\n    const cid = base.encode(bytes).slice(1)\n    cache.set(prefix, cid)\n    return cid\n  } else {\n    return cid\n  }\n}\n\n/**\n * @template {string} Prefix\n * @param {Uint8Array} bytes\n * @param {Map<string, string>} cache\n * @param {API.MultibaseEncoder<Prefix>} base\n */\nconst toStringV1 = (bytes, cache, base) => {\n  const { prefix } = base\n  const cid = cache.get(prefix)\n  if (cid == null) {\n    const cid = base.encode(bytes)\n    cache.set(prefix, cid)\n    return cid\n  } else {\n    return cid\n  }\n}\n\nconst DAG_PB_CODE = 0x70\nconst SHA_256_CODE = 0x12\n\n/**\n * @param {API.Version} version\n * @param {number} code\n * @param {Uint8Array} multihash\n * @returns {Uint8Array}\n */\nconst encodeCID = (version, code, multihash) => {\n  const codeOffset = varint.encodingLength(version)\n  const hashOffset = codeOffset + varint.encodingLength(code)\n  const bytes = new Uint8Array(hashOffset + multihash.byteLength)\n  varint.encodeTo(version, bytes, 0)\n  varint.encodeTo(code, bytes, codeOffset)\n  bytes.set(multihash, hashOffset)\n  return bytes\n}\n\nconst cidSymbol = Symbol.for('@ipld/js-cid/CID')\n","import { BaseBlockstore, Errors } from 'blockstore-core';\nimport { openDB, deleteDB } from 'idb';\nimport { base32upper } from 'multiformats/bases/base32';\nimport { CID } from 'multiformats/cid';\nimport * as raw from 'multiformats/codecs/raw';\nimport * as Digest from 'multiformats/hashes/digest';\nexport class IDBBlockstore extends BaseBlockstore {\n    location;\n    version;\n    db;\n    base;\n    constructor(location, init = {}) {\n        super();\n        this.location = `${init.prefix ?? ''}${location}`;\n        this.version = init.version ?? 1;\n        // this.transactionQueue = new PQueue({ concurrency: 1 })\n        this.base = init.base ?? base32upper;\n    }\n    #encode(cid) {\n        return `/${this.base.encoder.encode(cid.multihash.bytes)}`;\n    }\n    #decode(key) {\n        return CID.createV1(raw.code, Digest.decode(this.base.decoder.decode(key.substring(1))));\n    }\n    async open() {\n        try {\n            const location = this.location;\n            this.db = await openDB(location, this.version, {\n                upgrade(db) {\n                    db.createObjectStore(location);\n                }\n            });\n        }\n        catch (err) {\n            throw Errors.openFailedError(err);\n        }\n    }\n    async close() {\n        this.db?.close();\n    }\n    async put(key, val) {\n        if (this.db == null) {\n            throw new Error('Blockstore needs to be opened.');\n        }\n        try {\n            await this.db.put(this.location, val, this.#encode(key));\n            return key;\n        }\n        catch (err) {\n            throw Errors.putFailedError(err);\n        }\n    }\n    async get(key) {\n        if (this.db == null) {\n            throw new Error('Blockstore needs to be opened.');\n        }\n        let val;\n        try {\n            val = await this.db.get(this.location, this.#encode(key));\n        }\n        catch (err) {\n            throw Errors.putFailedError(err);\n        }\n        if (val === undefined) {\n            throw Errors.notFoundError();\n        }\n        return val;\n    }\n    async delete(key) {\n        if (this.db == null) {\n            throw new Error('Blockstore needs to be opened.');\n        }\n        try {\n            await this.db.delete(this.location, this.#encode(key));\n        }\n        catch (err) {\n            throw Errors.putFailedError(err);\n        }\n    }\n    async has(key) {\n        if (this.db == null) {\n            throw new Error('Blockstore needs to be opened.');\n        }\n        try {\n            return Boolean(await this.db.getKey(this.location, this.#encode(key)));\n        }\n        catch (err) {\n            throw Errors.putFailedError(err);\n        }\n    }\n    async *getAll(options) {\n        if (this.db == null) {\n            throw new Error('Blockstore needs to be opened.');\n        }\n        for (const key of await this.db.getAllKeys(this.location)) {\n            const cid = this.#decode(key.toString()); // eslint-disable-line @typescript-eslint/no-base-to-string\n            const block = await this.get(cid);\n            yield { cid, block };\n        }\n    }\n    async destroy() {\n        await deleteDB(this.location);\n    }\n}\n//# sourceMappingURL=index.js.map","// @ts-check\n\nimport { coerce } from '../bytes.js'\n\n/**\n * @template T\n * @typedef {import('./interface.js').ByteView<T>} ByteView\n */\n\nexport const name = 'raw'\nexport const code = 0x55\n\n/**\n * @param {Uint8Array} node\n * @returns {ByteView<Uint8Array>}\n */\nexport const encode = (node) => coerce(node)\n\n/**\n * @param {ByteView<Uint8Array>} data\n * @returns {Uint8Array}\n */\nexport const decode = (data) => coerce(data)\n","/**\n * Turns a browser readable stream into an async iterable. Async iteration over\n * returned iterable will lock give stream, preventing any other consumer from\n * acquiring a reader. The lock will be released if iteration loop is broken. To\n * prevent stream cancelling optional `{ preventCancel: true }` could be passed\n * as a second argument.\n */\nexport default async function* browserReadableStreamToIt(stream, options = {}) {\n    const reader = stream.getReader();\n    try {\n        while (true) {\n            const result = await reader.read();\n            if (result.done) {\n                return;\n            }\n            yield result.value;\n        }\n    }\n    finally {\n        if (options.preventCancel !== true) {\n            await reader.cancel();\n        }\n        reader.releaseLock();\n    }\n}\n//# sourceMappingURL=index.js.map","export default function accessor(buf) {\n    if (buf instanceof Uint8Array) {\n        return {\n            get(index) {\n                return buf[index];\n            },\n            set(index, value) {\n                buf[index] = value;\n            }\n        };\n    }\n    return {\n        get(index) {\n            return buf.get(index);\n        },\n        set(index, value) {\n            buf.set(index, value);\n        }\n    };\n}\n//# sourceMappingURL=index.js.map","import {\n  Token,\n  Type\n} from './token.js';\nimport {\n  decodeErrPrefix,\n  assertEnoughData\n} from './common.js';\nexport const uintBoundaries = [\n  24,\n  256,\n  65536,\n  4294967296,\n  BigInt('18446744073709551616')\n];\nexport function readUint8(data, offset, options) {\n  assertEnoughData(data, offset, 1);\n  const value = data[offset];\n  if (options.strict === true && value < uintBoundaries[0]) {\n    throw new Error(`${ decodeErrPrefix } integer encoded in more bytes than necessary (strict decode)`);\n  }\n  return value;\n}\nexport function readUint16(data, offset, options) {\n  assertEnoughData(data, offset, 2);\n  const value = data[offset] << 8 | data[offset + 1];\n  if (options.strict === true && value < uintBoundaries[1]) {\n    throw new Error(`${ decodeErrPrefix } integer encoded in more bytes than necessary (strict decode)`);\n  }\n  return value;\n}\nexport function readUint32(data, offset, options) {\n  assertEnoughData(data, offset, 4);\n  const value = data[offset] * 16777216 + (data[offset + 1] << 16) + (data[offset + 2] << 8) + data[offset + 3];\n  if (options.strict === true && value < uintBoundaries[2]) {\n    throw new Error(`${ decodeErrPrefix } integer encoded in more bytes than necessary (strict decode)`);\n  }\n  return value;\n}\nexport function readUint64(data, offset, options) {\n  assertEnoughData(data, offset, 8);\n  const hi = data[offset] * 16777216 + (data[offset + 1] << 16) + (data[offset + 2] << 8) + data[offset + 3];\n  const lo = data[offset + 4] * 16777216 + (data[offset + 5] << 16) + (data[offset + 6] << 8) + data[offset + 7];\n  const value = (BigInt(hi) << BigInt(32)) + BigInt(lo);\n  if (options.strict === true && value < uintBoundaries[3]) {\n    throw new Error(`${ decodeErrPrefix } integer encoded in more bytes than necessary (strict decode)`);\n  }\n  if (value <= Number.MAX_SAFE_INTEGER) {\n    return Number(value);\n  }\n  if (options.allowBigInt === true) {\n    return value;\n  }\n  throw new Error(`${ decodeErrPrefix } integers outside of the safe integer range are not supported`);\n}\nexport function decodeUint8(data, pos, _minor, options) {\n  return new Token(Type.uint, readUint8(data, pos + 1, options), 2);\n}\nexport function decodeUint16(data, pos, _minor, options) {\n  return new Token(Type.uint, readUint16(data, pos + 1, options), 3);\n}\nexport function decodeUint32(data, pos, _minor, options) {\n  return new Token(Type.uint, readUint32(data, pos + 1, options), 5);\n}\nexport function decodeUint64(data, pos, _minor, options) {\n  return new Token(Type.uint, readUint64(data, pos + 1, options), 9);\n}\nexport function encodeUint(buf, token) {\n  return encodeUintValue(buf, 0, token.value);\n}\nexport function encodeUintValue(buf, major, uint) {\n  if (uint < uintBoundaries[0]) {\n    const nuint = Number(uint);\n    buf.push([major | nuint]);\n  } else if (uint < uintBoundaries[1]) {\n    const nuint = Number(uint);\n    buf.push([\n      major | 24,\n      nuint\n    ]);\n  } else if (uint < uintBoundaries[2]) {\n    const nuint = Number(uint);\n    buf.push([\n      major | 25,\n      nuint >>> 8,\n      nuint & 255\n    ]);\n  } else if (uint < uintBoundaries[3]) {\n    const nuint = Number(uint);\n    buf.push([\n      major | 26,\n      nuint >>> 24 & 255,\n      nuint >>> 16 & 255,\n      nuint >>> 8 & 255,\n      nuint & 255\n    ]);\n  } else {\n    const buint = BigInt(uint);\n    if (buint < uintBoundaries[4]) {\n      const set = [\n        major | 27,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0,\n        0\n      ];\n      let lo = Number(buint & BigInt(4294967295));\n      let hi = Number(buint >> BigInt(32) & BigInt(4294967295));\n      set[8] = lo & 255;\n      lo = lo >> 8;\n      set[7] = lo & 255;\n      lo = lo >> 8;\n      set[6] = lo & 255;\n      lo = lo >> 8;\n      set[5] = lo & 255;\n      set[4] = hi & 255;\n      hi = hi >> 8;\n      set[3] = hi & 255;\n      hi = hi >> 8;\n      set[2] = hi & 255;\n      hi = hi >> 8;\n      set[1] = hi & 255;\n      buf.push(set);\n    } else {\n      throw new Error(`${ decodeErrPrefix } encountered BigInt larger than allowable range`);\n    }\n  }\n}\nencodeUint.encodedSize = function encodedSize(token) {\n  return encodeUintValue.encodedSize(token.value);\n};\nencodeUintValue.encodedSize = function encodedSize(uint) {\n  if (uint < uintBoundaries[0]) {\n    return 1;\n  }\n  if (uint < uintBoundaries[1]) {\n    return 2;\n  }\n  if (uint < uintBoundaries[2]) {\n    return 3;\n  }\n  if (uint < uintBoundaries[3]) {\n    return 5;\n  }\n  return 9;\n};\nencodeUint.compareTokens = function compareTokens(tok1, tok2) {\n  return tok1.value < tok2.value ? -1 : tok1.value > tok2.value ? 1 : 0;\n};","import {\n  Token,\n  Type\n} from './token.js';\nimport * as uint from './0uint.js';\nimport { decodeErrPrefix } from './common.js';\nexport function decodeNegint8(data, pos, _minor, options) {\n  return new Token(Type.negint, -1 - uint.readUint8(data, pos + 1, options), 2);\n}\nexport function decodeNegint16(data, pos, _minor, options) {\n  return new Token(Type.negint, -1 - uint.readUint16(data, pos + 1, options), 3);\n}\nexport function decodeNegint32(data, pos, _minor, options) {\n  return new Token(Type.negint, -1 - uint.readUint32(data, pos + 1, options), 5);\n}\nconst neg1b = BigInt(-1);\nconst pos1b = BigInt(1);\nexport function decodeNegint64(data, pos, _minor, options) {\n  const int = uint.readUint64(data, pos + 1, options);\n  if (typeof int !== 'bigint') {\n    const value = -1 - int;\n    if (value >= Number.MIN_SAFE_INTEGER) {\n      return new Token(Type.negint, value, 9);\n    }\n  }\n  if (options.allowBigInt !== true) {\n    throw new Error(`${ decodeErrPrefix } integers outside of the safe integer range are not supported`);\n  }\n  return new Token(Type.negint, neg1b - BigInt(int), 9);\n}\nexport function encodeNegint(buf, token) {\n  const negint = token.value;\n  const unsigned = typeof negint === 'bigint' ? negint * neg1b - pos1b : negint * -1 - 1;\n  uint.encodeUintValue(buf, token.type.majorEncoded, unsigned);\n}\nencodeNegint.encodedSize = function encodedSize(token) {\n  const negint = token.value;\n  const unsigned = typeof negint === 'bigint' ? negint * neg1b - pos1b : negint * -1 - 1;\n  if (unsigned < uint.uintBoundaries[0]) {\n    return 1;\n  }\n  if (unsigned < uint.uintBoundaries[1]) {\n    return 2;\n  }\n  if (unsigned < uint.uintBoundaries[2]) {\n    return 3;\n  }\n  if (unsigned < uint.uintBoundaries[3]) {\n    return 5;\n  }\n  return 9;\n};\nencodeNegint.compareTokens = function compareTokens(tok1, tok2) {\n  return tok1.value < tok2.value ? 1 : tok1.value > tok2.value ? -1 : 0;\n};","import {\n  Token,\n  Type\n} from './token.js';\nimport {\n  assertEnoughData,\n  decodeErrPrefix\n} from './common.js';\nimport * as uint from './0uint.js';\nimport {\n  compare,\n  fromString,\n  slice\n} from './byte-utils.js';\nfunction toToken(data, pos, prefix, length) {\n  assertEnoughData(data, pos, prefix + length);\n  const buf = slice(data, pos + prefix, pos + prefix + length);\n  return new Token(Type.bytes, buf, prefix + length);\n}\nexport function decodeBytesCompact(data, pos, minor, _options) {\n  return toToken(data, pos, 1, minor);\n}\nexport function decodeBytes8(data, pos, _minor, options) {\n  return toToken(data, pos, 2, uint.readUint8(data, pos + 1, options));\n}\nexport function decodeBytes16(data, pos, _minor, options) {\n  return toToken(data, pos, 3, uint.readUint16(data, pos + 1, options));\n}\nexport function decodeBytes32(data, pos, _minor, options) {\n  return toToken(data, pos, 5, uint.readUint32(data, pos + 1, options));\n}\nexport function decodeBytes64(data, pos, _minor, options) {\n  const l = uint.readUint64(data, pos + 1, options);\n  if (typeof l === 'bigint') {\n    throw new Error(`${ decodeErrPrefix } 64-bit integer bytes lengths not supported`);\n  }\n  return toToken(data, pos, 9, l);\n}\nfunction tokenBytes(token) {\n  if (token.encodedBytes === undefined) {\n    token.encodedBytes = token.type === Type.string ? fromString(token.value) : token.value;\n  }\n  return token.encodedBytes;\n}\nexport function encodeBytes(buf, token) {\n  const bytes = tokenBytes(token);\n  uint.encodeUintValue(buf, token.type.majorEncoded, bytes.length);\n  buf.push(bytes);\n}\nencodeBytes.encodedSize = function encodedSize(token) {\n  const bytes = tokenBytes(token);\n  return uint.encodeUintValue.encodedSize(bytes.length) + bytes.length;\n};\nencodeBytes.compareTokens = function compareTokens(tok1, tok2) {\n  return compareBytes(tokenBytes(tok1), tokenBytes(tok2));\n};\nexport function compareBytes(b1, b2) {\n  return b1.length < b2.length ? -1 : b1.length > b2.length ? 1 : compare(b1, b2);\n}","import {\n  Token,\n  Type\n} from './token.js';\nimport {\n  assertEnoughData,\n  decodeErrPrefix\n} from './common.js';\nimport * as uint from './0uint.js';\nimport { encodeBytes } from './2bytes.js';\nimport {\n  toString,\n  slice\n} from './byte-utils.js';\nfunction toToken(data, pos, prefix, length, options) {\n  const totLength = prefix + length;\n  assertEnoughData(data, pos, totLength);\n  const tok = new Token(Type.string, toString(data, pos + prefix, pos + totLength), totLength);\n  if (options.retainStringBytes === true) {\n    tok.byteValue = slice(data, pos + prefix, pos + totLength);\n  }\n  return tok;\n}\nexport function decodeStringCompact(data, pos, minor, options) {\n  return toToken(data, pos, 1, minor, options);\n}\nexport function decodeString8(data, pos, _minor, options) {\n  return toToken(data, pos, 2, uint.readUint8(data, pos + 1, options), options);\n}\nexport function decodeString16(data, pos, _minor, options) {\n  return toToken(data, pos, 3, uint.readUint16(data, pos + 1, options), options);\n}\nexport function decodeString32(data, pos, _minor, options) {\n  return toToken(data, pos, 5, uint.readUint32(data, pos + 1, options), options);\n}\nexport function decodeString64(data, pos, _minor, options) {\n  const l = uint.readUint64(data, pos + 1, options);\n  if (typeof l === 'bigint') {\n    throw new Error(`${ decodeErrPrefix } 64-bit integer string lengths not supported`);\n  }\n  return toToken(data, pos, 9, l, options);\n}\nexport const encodeString = encodeBytes;","import {\n  Token,\n  Type\n} from './token.js';\nimport * as uint from './0uint.js';\nimport { decodeErrPrefix } from './common.js';\nfunction toToken(_data, _pos, prefix, length) {\n  return new Token(Type.array, length, prefix);\n}\nexport function decodeArrayCompact(data, pos, minor, _options) {\n  return toToken(data, pos, 1, minor);\n}\nexport function decodeArray8(data, pos, _minor, options) {\n  return toToken(data, pos, 2, uint.readUint8(data, pos + 1, options));\n}\nexport function decodeArray16(data, pos, _minor, options) {\n  return toToken(data, pos, 3, uint.readUint16(data, pos + 1, options));\n}\nexport function decodeArray32(data, pos, _minor, options) {\n  return toToken(data, pos, 5, uint.readUint32(data, pos + 1, options));\n}\nexport function decodeArray64(data, pos, _minor, options) {\n  const l = uint.readUint64(data, pos + 1, options);\n  if (typeof l === 'bigint') {\n    throw new Error(`${ decodeErrPrefix } 64-bit integer array lengths not supported`);\n  }\n  return toToken(data, pos, 9, l);\n}\nexport function decodeArrayIndefinite(data, pos, _minor, options) {\n  if (options.allowIndefinite === false) {\n    throw new Error(`${ decodeErrPrefix } indefinite length items not allowed`);\n  }\n  return toToken(data, pos, 1, Infinity);\n}\nexport function encodeArray(buf, token) {\n  uint.encodeUintValue(buf, Type.array.majorEncoded, token.value);\n}\nencodeArray.compareTokens = uint.encodeUint.compareTokens;\nencodeArray.encodedSize = function encodedSize(token) {\n  return uint.encodeUintValue.encodedSize(token.value);\n};","import {\n  Token,\n  Type\n} from './token.js';\nimport * as uint from './0uint.js';\nimport { decodeErrPrefix } from './common.js';\nfunction toToken(_data, _pos, prefix, length) {\n  return new Token(Type.map, length, prefix);\n}\nexport function decodeMapCompact(data, pos, minor, _options) {\n  return toToken(data, pos, 1, minor);\n}\nexport function decodeMap8(data, pos, _minor, options) {\n  return toToken(data, pos, 2, uint.readUint8(data, pos + 1, options));\n}\nexport function decodeMap16(data, pos, _minor, options) {\n  return toToken(data, pos, 3, uint.readUint16(data, pos + 1, options));\n}\nexport function decodeMap32(data, pos, _minor, options) {\n  return toToken(data, pos, 5, uint.readUint32(data, pos + 1, options));\n}\nexport function decodeMap64(data, pos, _minor, options) {\n  const l = uint.readUint64(data, pos + 1, options);\n  if (typeof l === 'bigint') {\n    throw new Error(`${ decodeErrPrefix } 64-bit integer map lengths not supported`);\n  }\n  return toToken(data, pos, 9, l);\n}\nexport function decodeMapIndefinite(data, pos, _minor, options) {\n  if (options.allowIndefinite === false) {\n    throw new Error(`${ decodeErrPrefix } indefinite length items not allowed`);\n  }\n  return toToken(data, pos, 1, Infinity);\n}\nexport function encodeMap(buf, token) {\n  uint.encodeUintValue(buf, Type.map.majorEncoded, token.value);\n}\nencodeMap.compareTokens = uint.encodeUint.compareTokens;\nencodeMap.encodedSize = function encodedSize(token) {\n  return uint.encodeUintValue.encodedSize(token.value);\n};","import {\n  Token,\n  Type\n} from './token.js';\nimport * as uint from './0uint.js';\nexport function decodeTagCompact(_data, _pos, minor, _options) {\n  return new Token(Type.tag, minor, 1);\n}\nexport function decodeTag8(data, pos, _minor, options) {\n  return new Token(Type.tag, uint.readUint8(data, pos + 1, options), 2);\n}\nexport function decodeTag16(data, pos, _minor, options) {\n  return new Token(Type.tag, uint.readUint16(data, pos + 1, options), 3);\n}\nexport function decodeTag32(data, pos, _minor, options) {\n  return new Token(Type.tag, uint.readUint32(data, pos + 1, options), 5);\n}\nexport function decodeTag64(data, pos, _minor, options) {\n  return new Token(Type.tag, uint.readUint64(data, pos + 1, options), 9);\n}\nexport function encodeTag(buf, token) {\n  uint.encodeUintValue(buf, Type.tag.majorEncoded, token.value);\n}\nencodeTag.compareTokens = uint.encodeUint.compareTokens;\nencodeTag.encodedSize = function encodedSize(token) {\n  return uint.encodeUintValue.encodedSize(token.value);\n};","import {\n  Token,\n  Type\n} from './token.js';\nimport { decodeErrPrefix } from './common.js';\nimport { encodeUint } from './0uint.js';\nconst MINOR_FALSE = 20;\nconst MINOR_TRUE = 21;\nconst MINOR_NULL = 22;\nconst MINOR_UNDEFINED = 23;\nexport function decodeUndefined(_data, _pos, _minor, options) {\n  if (options.allowUndefined === false) {\n    throw new Error(`${ decodeErrPrefix } undefined values are not supported`);\n  } else if (options.coerceUndefinedToNull === true) {\n    return new Token(Type.null, null, 1);\n  }\n  return new Token(Type.undefined, undefined, 1);\n}\nexport function decodeBreak(_data, _pos, _minor, options) {\n  if (options.allowIndefinite === false) {\n    throw new Error(`${ decodeErrPrefix } indefinite length items not allowed`);\n  }\n  return new Token(Type.break, undefined, 1);\n}\nfunction createToken(value, bytes, options) {\n  if (options) {\n    if (options.allowNaN === false && Number.isNaN(value)) {\n      throw new Error(`${ decodeErrPrefix } NaN values are not supported`);\n    }\n    if (options.allowInfinity === false && (value === Infinity || value === -Infinity)) {\n      throw new Error(`${ decodeErrPrefix } Infinity values are not supported`);\n    }\n  }\n  return new Token(Type.float, value, bytes);\n}\nexport function decodeFloat16(data, pos, _minor, options) {\n  return createToken(readFloat16(data, pos + 1), 3, options);\n}\nexport function decodeFloat32(data, pos, _minor, options) {\n  return createToken(readFloat32(data, pos + 1), 5, options);\n}\nexport function decodeFloat64(data, pos, _minor, options) {\n  return createToken(readFloat64(data, pos + 1), 9, options);\n}\nexport function encodeFloat(buf, token, options) {\n  const float = token.value;\n  if (float === false) {\n    buf.push([Type.float.majorEncoded | MINOR_FALSE]);\n  } else if (float === true) {\n    buf.push([Type.float.majorEncoded | MINOR_TRUE]);\n  } else if (float === null) {\n    buf.push([Type.float.majorEncoded | MINOR_NULL]);\n  } else if (float === undefined) {\n    buf.push([Type.float.majorEncoded | MINOR_UNDEFINED]);\n  } else {\n    let decoded;\n    let success = false;\n    if (!options || options.float64 !== true) {\n      encodeFloat16(float);\n      decoded = readFloat16(ui8a, 1);\n      if (float === decoded || Number.isNaN(float)) {\n        ui8a[0] = 249;\n        buf.push(ui8a.slice(0, 3));\n        success = true;\n      } else {\n        encodeFloat32(float);\n        decoded = readFloat32(ui8a, 1);\n        if (float === decoded) {\n          ui8a[0] = 250;\n          buf.push(ui8a.slice(0, 5));\n          success = true;\n        }\n      }\n    }\n    if (!success) {\n      encodeFloat64(float);\n      decoded = readFloat64(ui8a, 1);\n      ui8a[0] = 251;\n      buf.push(ui8a.slice(0, 9));\n    }\n  }\n}\nencodeFloat.encodedSize = function encodedSize(token, options) {\n  const float = token.value;\n  if (float === false || float === true || float === null || float === undefined) {\n    return 1;\n  }\n  if (!options || options.float64 !== true) {\n    encodeFloat16(float);\n    let decoded = readFloat16(ui8a, 1);\n    if (float === decoded || Number.isNaN(float)) {\n      return 3;\n    }\n    encodeFloat32(float);\n    decoded = readFloat32(ui8a, 1);\n    if (float === decoded) {\n      return 5;\n    }\n  }\n  return 9;\n};\nconst buffer = new ArrayBuffer(9);\nconst dataView = new DataView(buffer, 1);\nconst ui8a = new Uint8Array(buffer, 0);\nfunction encodeFloat16(inp) {\n  if (inp === Infinity) {\n    dataView.setUint16(0, 31744, false);\n  } else if (inp === -Infinity) {\n    dataView.setUint16(0, 64512, false);\n  } else if (Number.isNaN(inp)) {\n    dataView.setUint16(0, 32256, false);\n  } else {\n    dataView.setFloat32(0, inp);\n    const valu32 = dataView.getUint32(0);\n    const exponent = (valu32 & 2139095040) >> 23;\n    const mantissa = valu32 & 8388607;\n    if (exponent === 255) {\n      dataView.setUint16(0, 31744, false);\n    } else if (exponent === 0) {\n      dataView.setUint16(0, (inp & 2147483648) >> 16 | mantissa >> 13, false);\n    } else {\n      const logicalExponent = exponent - 127;\n      if (logicalExponent < -24) {\n        dataView.setUint16(0, 0);\n      } else if (logicalExponent < -14) {\n        dataView.setUint16(0, (valu32 & 2147483648) >> 16 | 1 << 24 + logicalExponent, false);\n      } else {\n        dataView.setUint16(0, (valu32 & 2147483648) >> 16 | logicalExponent + 15 << 10 | mantissa >> 13, false);\n      }\n    }\n  }\n}\nfunction readFloat16(ui8a, pos) {\n  if (ui8a.length - pos < 2) {\n    throw new Error(`${ decodeErrPrefix } not enough data for float16`);\n  }\n  const half = (ui8a[pos] << 8) + ui8a[pos + 1];\n  if (half === 31744) {\n    return Infinity;\n  }\n  if (half === 64512) {\n    return -Infinity;\n  }\n  if (half === 32256) {\n    return NaN;\n  }\n  const exp = half >> 10 & 31;\n  const mant = half & 1023;\n  let val;\n  if (exp === 0) {\n    val = mant * 2 ** -24;\n  } else if (exp !== 31) {\n    val = (mant + 1024) * 2 ** (exp - 25);\n  } else {\n    val = mant === 0 ? Infinity : NaN;\n  }\n  return half & 32768 ? -val : val;\n}\nfunction encodeFloat32(inp) {\n  dataView.setFloat32(0, inp, false);\n}\nfunction readFloat32(ui8a, pos) {\n  if (ui8a.length - pos < 4) {\n    throw new Error(`${ decodeErrPrefix } not enough data for float32`);\n  }\n  const offset = (ui8a.byteOffset || 0) + pos;\n  return new DataView(ui8a.buffer, offset, 4).getFloat32(0, false);\n}\nfunction encodeFloat64(inp) {\n  dataView.setFloat64(0, inp, false);\n}\nfunction readFloat64(ui8a, pos) {\n  if (ui8a.length - pos < 8) {\n    throw new Error(`${ decodeErrPrefix } not enough data for float64`);\n  }\n  const offset = (ui8a.byteOffset || 0) + pos;\n  return new DataView(ui8a.buffer, offset, 8).getFloat64(0, false);\n}\nencodeFloat.compareTokens = encodeUint.compareTokens;","export const useBuffer = globalThis.process && !globalThis.process.browser && globalThis.Buffer && typeof globalThis.Buffer.isBuffer === 'function';\nconst textDecoder = new TextDecoder();\nconst textEncoder = new TextEncoder();\nfunction isBuffer(buf) {\n  return useBuffer && globalThis.Buffer.isBuffer(buf);\n}\nexport function asU8A(buf) {\n  if (!(buf instanceof Uint8Array)) {\n    return Uint8Array.from(buf);\n  }\n  return isBuffer(buf) ? new Uint8Array(buf.buffer, buf.byteOffset, buf.byteLength) : buf;\n}\nexport const toString = useBuffer ? (bytes, start, end) => {\n  return end - start > 64 ? globalThis.Buffer.from(bytes.subarray(start, end)).toString('utf8') : utf8Slice(bytes, start, end);\n} : (bytes, start, end) => {\n  return end - start > 64 ? textDecoder.decode(bytes.subarray(start, end)) : utf8Slice(bytes, start, end);\n};\nexport const fromString = useBuffer ? string => {\n  return string.length > 64 ? globalThis.Buffer.from(string) : utf8ToBytes(string);\n} : string => {\n  return string.length > 64 ? textEncoder.encode(string) : utf8ToBytes(string);\n};\nexport const fromArray = arr => {\n  return Uint8Array.from(arr);\n};\nexport const slice = useBuffer ? (bytes, start, end) => {\n  if (isBuffer(bytes)) {\n    return new Uint8Array(bytes.subarray(start, end));\n  }\n  return bytes.slice(start, end);\n} : (bytes, start, end) => {\n  return bytes.slice(start, end);\n};\nexport const concat = useBuffer ? (chunks, length) => {\n  chunks = chunks.map(c => c instanceof Uint8Array ? c : globalThis.Buffer.from(c));\n  return asU8A(globalThis.Buffer.concat(chunks, length));\n} : (chunks, length) => {\n  const out = new Uint8Array(length);\n  let off = 0;\n  for (let b of chunks) {\n    if (off + b.length > out.length) {\n      b = b.subarray(0, out.length - off);\n    }\n    out.set(b, off);\n    off += b.length;\n  }\n  return out;\n};\nexport const alloc = useBuffer ? size => {\n  return globalThis.Buffer.allocUnsafe(size);\n} : size => {\n  return new Uint8Array(size);\n};\nexport const toHex = useBuffer ? d => {\n  if (typeof d === 'string') {\n    return d;\n  }\n  return globalThis.Buffer.from(toBytes(d)).toString('hex');\n} : d => {\n  if (typeof d === 'string') {\n    return d;\n  }\n  return Array.prototype.reduce.call(toBytes(d), (p, c) => `${ p }${ c.toString(16).padStart(2, '0') }`, '');\n};\nexport const fromHex = useBuffer ? hex => {\n  if (hex instanceof Uint8Array) {\n    return hex;\n  }\n  return globalThis.Buffer.from(hex, 'hex');\n} : hex => {\n  if (hex instanceof Uint8Array) {\n    return hex;\n  }\n  if (!hex.length) {\n    return new Uint8Array(0);\n  }\n  return new Uint8Array(hex.split('').map((c, i, d) => i % 2 === 0 ? `0x${ c }${ d[i + 1] }` : '').filter(Boolean).map(e => parseInt(e, 16)));\n};\nfunction toBytes(obj) {\n  if (obj instanceof Uint8Array && obj.constructor.name === 'Uint8Array') {\n    return obj;\n  }\n  if (obj instanceof ArrayBuffer) {\n    return new Uint8Array(obj);\n  }\n  if (ArrayBuffer.isView(obj)) {\n    return new Uint8Array(obj.buffer, obj.byteOffset, obj.byteLength);\n  }\n  throw new Error('Unknown type, must be binary type');\n}\nexport function compare(b1, b2) {\n  if (isBuffer(b1) && isBuffer(b2)) {\n    return b1.compare(b2);\n  }\n  for (let i = 0; i < b1.length; i++) {\n    if (b1[i] === b2[i]) {\n      continue;\n    }\n    return b1[i] < b2[i] ? -1 : 1;\n  }\n  return 0;\n}\nfunction utf8ToBytes(string, units = Infinity) {\n  let codePoint;\n  const length = string.length;\n  let leadSurrogate = null;\n  const bytes = [];\n  for (let i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i);\n    if (codePoint > 55295 && codePoint < 57344) {\n      if (!leadSurrogate) {\n        if (codePoint > 56319) {\n          if ((units -= 3) > -1)\n            bytes.push(239, 191, 189);\n          continue;\n        } else if (i + 1 === length) {\n          if ((units -= 3) > -1)\n            bytes.push(239, 191, 189);\n          continue;\n        }\n        leadSurrogate = codePoint;\n        continue;\n      }\n      if (codePoint < 56320) {\n        if ((units -= 3) > -1)\n          bytes.push(239, 191, 189);\n        leadSurrogate = codePoint;\n        continue;\n      }\n      codePoint = (leadSurrogate - 55296 << 10 | codePoint - 56320) + 65536;\n    } else if (leadSurrogate) {\n      if ((units -= 3) > -1)\n        bytes.push(239, 191, 189);\n    }\n    leadSurrogate = null;\n    if (codePoint < 128) {\n      if ((units -= 1) < 0)\n        break;\n      bytes.push(codePoint);\n    } else if (codePoint < 2048) {\n      if ((units -= 2) < 0)\n        break;\n      bytes.push(codePoint >> 6 | 192, codePoint & 63 | 128);\n    } else if (codePoint < 65536) {\n      if ((units -= 3) < 0)\n        break;\n      bytes.push(codePoint >> 12 | 224, codePoint >> 6 & 63 | 128, codePoint & 63 | 128);\n    } else if (codePoint < 1114112) {\n      if ((units -= 4) < 0)\n        break;\n      bytes.push(codePoint >> 18 | 240, codePoint >> 12 & 63 | 128, codePoint >> 6 & 63 | 128, codePoint & 63 | 128);\n    } else {\n      throw new Error('Invalid code point');\n    }\n  }\n  return bytes;\n}\nfunction utf8Slice(buf, offset, end) {\n  const res = [];\n  while (offset < end) {\n    const firstByte = buf[offset];\n    let codePoint = null;\n    let bytesPerSequence = firstByte > 239 ? 4 : firstByte > 223 ? 3 : firstByte > 191 ? 2 : 1;\n    if (offset + bytesPerSequence <= end) {\n      let secondByte, thirdByte, fourthByte, tempCodePoint;\n      switch (bytesPerSequence) {\n      case 1:\n        if (firstByte < 128) {\n          codePoint = firstByte;\n        }\n        break;\n      case 2:\n        secondByte = buf[offset + 1];\n        if ((secondByte & 192) === 128) {\n          tempCodePoint = (firstByte & 31) << 6 | secondByte & 63;\n          if (tempCodePoint > 127) {\n            codePoint = tempCodePoint;\n          }\n        }\n        break;\n      case 3:\n        secondByte = buf[offset + 1];\n        thirdByte = buf[offset + 2];\n        if ((secondByte & 192) === 128 && (thirdByte & 192) === 128) {\n          tempCodePoint = (firstByte & 15) << 12 | (secondByte & 63) << 6 | thirdByte & 63;\n          if (tempCodePoint > 2047 && (tempCodePoint < 55296 || tempCodePoint > 57343)) {\n            codePoint = tempCodePoint;\n          }\n        }\n        break;\n      case 4:\n        secondByte = buf[offset + 1];\n        thirdByte = buf[offset + 2];\n        fourthByte = buf[offset + 3];\n        if ((secondByte & 192) === 128 && (thirdByte & 192) === 128 && (fourthByte & 192) === 128) {\n          tempCodePoint = (firstByte & 15) << 18 | (secondByte & 63) << 12 | (thirdByte & 63) << 6 | fourthByte & 63;\n          if (tempCodePoint > 65535 && tempCodePoint < 1114112) {\n            codePoint = tempCodePoint;\n          }\n        }\n      }\n    }\n    if (codePoint === null) {\n      codePoint = 65533;\n      bytesPerSequence = 1;\n    } else if (codePoint > 65535) {\n      codePoint -= 65536;\n      res.push(codePoint >>> 10 & 1023 | 55296);\n      codePoint = 56320 | codePoint & 1023;\n    }\n    res.push(codePoint);\n    offset += bytesPerSequence;\n  }\n  return decodeCodePointsArray(res);\n}\nconst MAX_ARGUMENTS_LENGTH = 4096;\nexport function decodeCodePointsArray(codePoints) {\n  const len = codePoints.length;\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints);\n  }\n  let res = '';\n  let i = 0;\n  while (i < len) {\n    res += String.fromCharCode.apply(String, codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH));\n  }\n  return res;\n}","const decodeErrPrefix = 'CBOR decode error:';\nconst encodeErrPrefix = 'CBOR encode error:';\nconst uintMinorPrefixBytes = [];\nuintMinorPrefixBytes[23] = 1;\nuintMinorPrefixBytes[24] = 2;\nuintMinorPrefixBytes[25] = 3;\nuintMinorPrefixBytes[26] = 5;\nuintMinorPrefixBytes[27] = 9;\nfunction assertEnoughData(data, pos, need) {\n  if (data.length - pos < need) {\n    throw new Error(`${ decodeErrPrefix } not enough data for type`);\n  }\n}\nexport {\n  decodeErrPrefix,\n  encodeErrPrefix,\n  uintMinorPrefixBytes,\n  assertEnoughData\n};","import { decodeErrPrefix } from './common.js';\nimport { Type } from './token.js';\nimport {\n  jump,\n  quick\n} from './jump.js';\nconst defaultDecodeOptions = {\n  strict: false,\n  allowIndefinite: true,\n  allowUndefined: true,\n  allowBigInt: true\n};\nclass Tokeniser {\n  constructor(data, options = {}) {\n    this.pos = 0;\n    this.data = data;\n    this.options = options;\n  }\n  done() {\n    return this.pos >= this.data.length;\n  }\n  next() {\n    const byt = this.data[this.pos];\n    let token = quick[byt];\n    if (token === undefined) {\n      const decoder = jump[byt];\n      if (!decoder) {\n        throw new Error(`${ decodeErrPrefix } no decoder for major type ${ byt >>> 5 } (byte 0x${ byt.toString(16).padStart(2, '0') })`);\n      }\n      const minor = byt & 31;\n      token = decoder(this.data, this.pos, minor, this.options);\n    }\n    this.pos += token.encodedLength;\n    return token;\n  }\n}\nconst DONE = Symbol.for('DONE');\nconst BREAK = Symbol.for('BREAK');\nfunction tokenToArray(token, tokeniser, options) {\n  const arr = [];\n  for (let i = 0; i < token.value; i++) {\n    const value = tokensToObject(tokeniser, options);\n    if (value === BREAK) {\n      if (token.value === Infinity) {\n        break;\n      }\n      throw new Error(`${ decodeErrPrefix } got unexpected break to lengthed array`);\n    }\n    if (value === DONE) {\n      throw new Error(`${ decodeErrPrefix } found array but not enough entries (got ${ i }, expected ${ token.value })`);\n    }\n    arr[i] = value;\n  }\n  return arr;\n}\nfunction tokenToMap(token, tokeniser, options) {\n  const useMaps = options.useMaps === true;\n  const obj = useMaps ? undefined : {};\n  const m = useMaps ? new Map() : undefined;\n  for (let i = 0; i < token.value; i++) {\n    const key = tokensToObject(tokeniser, options);\n    if (key === BREAK) {\n      if (token.value === Infinity) {\n        break;\n      }\n      throw new Error(`${ decodeErrPrefix } got unexpected break to lengthed map`);\n    }\n    if (key === DONE) {\n      throw new Error(`${ decodeErrPrefix } found map but not enough entries (got ${ i } [no key], expected ${ token.value })`);\n    }\n    if (useMaps !== true && typeof key !== 'string') {\n      throw new Error(`${ decodeErrPrefix } non-string keys not supported (got ${ typeof key })`);\n    }\n    if (options.rejectDuplicateMapKeys === true) {\n      if (useMaps && m.has(key) || !useMaps && key in obj) {\n        throw new Error(`${ decodeErrPrefix } found repeat map key \"${ key }\"`);\n      }\n    }\n    const value = tokensToObject(tokeniser, options);\n    if (value === DONE) {\n      throw new Error(`${ decodeErrPrefix } found map but not enough entries (got ${ i } [no value], expected ${ token.value })`);\n    }\n    if (useMaps) {\n      m.set(key, value);\n    } else {\n      obj[key] = value;\n    }\n  }\n  return useMaps ? m : obj;\n}\nfunction tokensToObject(tokeniser, options) {\n  if (tokeniser.done()) {\n    return DONE;\n  }\n  const token = tokeniser.next();\n  if (token.type === Type.break) {\n    return BREAK;\n  }\n  if (token.type.terminal) {\n    return token.value;\n  }\n  if (token.type === Type.array) {\n    return tokenToArray(token, tokeniser, options);\n  }\n  if (token.type === Type.map) {\n    return tokenToMap(token, tokeniser, options);\n  }\n  if (token.type === Type.tag) {\n    if (options.tags && typeof options.tags[token.value] === 'function') {\n      const tagged = tokensToObject(tokeniser, options);\n      return options.tags[token.value](tagged);\n    }\n    throw new Error(`${ decodeErrPrefix } tag not supported (${ token.value })`);\n  }\n  throw new Error('unsupported');\n}\nfunction decode(data, options) {\n  if (!(data instanceof Uint8Array)) {\n    throw new Error(`${ decodeErrPrefix } data to decode must be a Uint8Array`);\n  }\n  options = Object.assign({}, defaultDecodeOptions, options);\n  const tokeniser = options.tokenizer || new Tokeniser(data, options);\n  const decoded = tokensToObject(tokeniser, options);\n  if (decoded === DONE) {\n    throw new Error(`${ decodeErrPrefix } did not find any content to decode`);\n  }\n  if (decoded === BREAK) {\n    throw new Error(`${ decodeErrPrefix } got unexpected break`);\n  }\n  if (!tokeniser.done()) {\n    throw new Error(`${ decodeErrPrefix } too many terminals, data makes no sense`);\n  }\n  return decoded;\n}\nexport {\n  Tokeniser,\n  tokensToObject,\n  decode\n};","const typeofs = [\n  'string',\n  'number',\n  'bigint',\n  'symbol'\n];\nconst objectTypeNames = [\n  'Function',\n  'Generator',\n  'AsyncGenerator',\n  'GeneratorFunction',\n  'AsyncGeneratorFunction',\n  'AsyncFunction',\n  'Observable',\n  'Array',\n  'Buffer',\n  'Object',\n  'RegExp',\n  'Date',\n  'Error',\n  'Map',\n  'Set',\n  'WeakMap',\n  'WeakSet',\n  'ArrayBuffer',\n  'SharedArrayBuffer',\n  'DataView',\n  'Promise',\n  'URL',\n  'HTMLElement',\n  'Int8Array',\n  'Uint8Array',\n  'Uint8ClampedArray',\n  'Int16Array',\n  'Uint16Array',\n  'Int32Array',\n  'Uint32Array',\n  'Float32Array',\n  'Float64Array',\n  'BigInt64Array',\n  'BigUint64Array'\n];\nexport function is(value) {\n  if (value === null) {\n    return 'null';\n  }\n  if (value === undefined) {\n    return 'undefined';\n  }\n  if (value === true || value === false) {\n    return 'boolean';\n  }\n  const typeOf = typeof value;\n  if (typeofs.includes(typeOf)) {\n    return typeOf;\n  }\n  if (typeOf === 'function') {\n    return 'Function';\n  }\n  if (Array.isArray(value)) {\n    return 'Array';\n  }\n  if (isBuffer(value)) {\n    return 'Buffer';\n  }\n  const objectType = getObjectType(value);\n  if (objectType) {\n    return objectType;\n  }\n  return 'Object';\n}\nfunction isBuffer(value) {\n  return value && value.constructor && value.constructor.isBuffer && value.constructor.isBuffer.call(null, value);\n}\nfunction getObjectType(value) {\n  const objectTypeName = Object.prototype.toString.call(value).slice(8, -1);\n  if (objectTypeNames.includes(objectTypeName)) {\n    return objectTypeName;\n  }\n  return undefined;\n}","import {\n  alloc,\n  concat,\n  slice\n} from './byte-utils.js';\nconst defaultChunkSize = 256;\nexport class Bl {\n  constructor(chunkSize = defaultChunkSize) {\n    this.chunkSize = chunkSize;\n    this.cursor = 0;\n    this.maxCursor = -1;\n    this.chunks = [];\n    this._initReuseChunk = null;\n  }\n  reset() {\n    this.cursor = 0;\n    this.maxCursor = -1;\n    if (this.chunks.length) {\n      this.chunks = [];\n    }\n    if (this._initReuseChunk !== null) {\n      this.chunks.push(this._initReuseChunk);\n      this.maxCursor = this._initReuseChunk.length - 1;\n    }\n  }\n  push(bytes) {\n    let topChunk = this.chunks[this.chunks.length - 1];\n    const newMax = this.cursor + bytes.length;\n    if (newMax <= this.maxCursor + 1) {\n      const chunkPos = topChunk.length - (this.maxCursor - this.cursor) - 1;\n      topChunk.set(bytes, chunkPos);\n    } else {\n      if (topChunk) {\n        const chunkPos = topChunk.length - (this.maxCursor - this.cursor) - 1;\n        if (chunkPos < topChunk.length) {\n          this.chunks[this.chunks.length - 1] = topChunk.subarray(0, chunkPos);\n          this.maxCursor = this.cursor - 1;\n        }\n      }\n      if (bytes.length < 64 && bytes.length < this.chunkSize) {\n        topChunk = alloc(this.chunkSize);\n        this.chunks.push(topChunk);\n        this.maxCursor += topChunk.length;\n        if (this._initReuseChunk === null) {\n          this._initReuseChunk = topChunk;\n        }\n        topChunk.set(bytes, 0);\n      } else {\n        this.chunks.push(bytes);\n        this.maxCursor += bytes.length;\n      }\n    }\n    this.cursor += bytes.length;\n  }\n  toBytes(reset = false) {\n    let byts;\n    if (this.chunks.length === 1) {\n      const chunk = this.chunks[0];\n      if (reset && this.cursor > chunk.length / 2) {\n        byts = this.cursor === chunk.length ? chunk : chunk.subarray(0, this.cursor);\n        this._initReuseChunk = null;\n        this.chunks = [];\n      } else {\n        byts = slice(chunk, 0, this.cursor);\n      }\n    } else {\n      byts = concat(this.chunks, this.cursor);\n    }\n    if (reset) {\n      this.reset();\n    }\n    return byts;\n  }\n}","import { is } from './is.js';\nimport {\n  Token,\n  Type\n} from './token.js';\nimport { Bl } from './bl.js';\nimport { encodeErrPrefix } from './common.js';\nimport { quickEncodeToken } from './jump.js';\nimport { asU8A } from './byte-utils.js';\nimport { encodeUint } from './0uint.js';\nimport { encodeNegint } from './1negint.js';\nimport { encodeBytes } from './2bytes.js';\nimport { encodeString } from './3string.js';\nimport { encodeArray } from './4array.js';\nimport { encodeMap } from './5map.js';\nimport { encodeTag } from './6tag.js';\nimport { encodeFloat } from './7float.js';\nconst defaultEncodeOptions = {\n  float64: false,\n  mapSorter,\n  quickEncodeToken\n};\nexport function makeCborEncoders() {\n  const encoders = [];\n  encoders[Type.uint.major] = encodeUint;\n  encoders[Type.negint.major] = encodeNegint;\n  encoders[Type.bytes.major] = encodeBytes;\n  encoders[Type.string.major] = encodeString;\n  encoders[Type.array.major] = encodeArray;\n  encoders[Type.map.major] = encodeMap;\n  encoders[Type.tag.major] = encodeTag;\n  encoders[Type.float.major] = encodeFloat;\n  return encoders;\n}\nconst cborEncoders = makeCborEncoders();\nconst buf = new Bl();\nclass Ref {\n  constructor(obj, parent) {\n    this.obj = obj;\n    this.parent = parent;\n  }\n  includes(obj) {\n    let p = this;\n    do {\n      if (p.obj === obj) {\n        return true;\n      }\n    } while (p = p.parent);\n    return false;\n  }\n  static createCheck(stack, obj) {\n    if (stack && stack.includes(obj)) {\n      throw new Error(`${ encodeErrPrefix } object contains circular references`);\n    }\n    return new Ref(obj, stack);\n  }\n}\nconst simpleTokens = {\n  null: new Token(Type.null, null),\n  undefined: new Token(Type.undefined, undefined),\n  true: new Token(Type.true, true),\n  false: new Token(Type.false, false),\n  emptyArray: new Token(Type.array, 0),\n  emptyMap: new Token(Type.map, 0)\n};\nconst typeEncoders = {\n  number(obj, _typ, _options, _refStack) {\n    if (!Number.isInteger(obj) || !Number.isSafeInteger(obj)) {\n      return new Token(Type.float, obj);\n    } else if (obj >= 0) {\n      return new Token(Type.uint, obj);\n    } else {\n      return new Token(Type.negint, obj);\n    }\n  },\n  bigint(obj, _typ, _options, _refStack) {\n    if (obj >= BigInt(0)) {\n      return new Token(Type.uint, obj);\n    } else {\n      return new Token(Type.negint, obj);\n    }\n  },\n  Uint8Array(obj, _typ, _options, _refStack) {\n    return new Token(Type.bytes, obj);\n  },\n  string(obj, _typ, _options, _refStack) {\n    return new Token(Type.string, obj);\n  },\n  boolean(obj, _typ, _options, _refStack) {\n    return obj ? simpleTokens.true : simpleTokens.false;\n  },\n  null(_obj, _typ, _options, _refStack) {\n    return simpleTokens.null;\n  },\n  undefined(_obj, _typ, _options, _refStack) {\n    return simpleTokens.undefined;\n  },\n  ArrayBuffer(obj, _typ, _options, _refStack) {\n    return new Token(Type.bytes, new Uint8Array(obj));\n  },\n  DataView(obj, _typ, _options, _refStack) {\n    return new Token(Type.bytes, new Uint8Array(obj.buffer, obj.byteOffset, obj.byteLength));\n  },\n  Array(obj, _typ, options, refStack) {\n    if (!obj.length) {\n      if (options.addBreakTokens === true) {\n        return [\n          simpleTokens.emptyArray,\n          new Token(Type.break)\n        ];\n      }\n      return simpleTokens.emptyArray;\n    }\n    refStack = Ref.createCheck(refStack, obj);\n    const entries = [];\n    let i = 0;\n    for (const e of obj) {\n      entries[i++] = objectToTokens(e, options, refStack);\n    }\n    if (options.addBreakTokens) {\n      return [\n        new Token(Type.array, obj.length),\n        entries,\n        new Token(Type.break)\n      ];\n    }\n    return [\n      new Token(Type.array, obj.length),\n      entries\n    ];\n  },\n  Object(obj, typ, options, refStack) {\n    const isMap = typ !== 'Object';\n    const keys = isMap ? obj.keys() : Object.keys(obj);\n    const length = isMap ? obj.size : keys.length;\n    if (!length) {\n      if (options.addBreakTokens === true) {\n        return [\n          simpleTokens.emptyMap,\n          new Token(Type.break)\n        ];\n      }\n      return simpleTokens.emptyMap;\n    }\n    refStack = Ref.createCheck(refStack, obj);\n    const entries = [];\n    let i = 0;\n    for (const key of keys) {\n      entries[i++] = [\n        objectToTokens(key, options, refStack),\n        objectToTokens(isMap ? obj.get(key) : obj[key], options, refStack)\n      ];\n    }\n    sortMapEntries(entries, options);\n    if (options.addBreakTokens) {\n      return [\n        new Token(Type.map, length),\n        entries,\n        new Token(Type.break)\n      ];\n    }\n    return [\n      new Token(Type.map, length),\n      entries\n    ];\n  }\n};\ntypeEncoders.Map = typeEncoders.Object;\ntypeEncoders.Buffer = typeEncoders.Uint8Array;\nfor (const typ of 'Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64'.split(' ')) {\n  typeEncoders[`${ typ }Array`] = typeEncoders.DataView;\n}\nfunction objectToTokens(obj, options = {}, refStack) {\n  const typ = is(obj);\n  const customTypeEncoder = options && options.typeEncoders && options.typeEncoders[typ] || typeEncoders[typ];\n  if (typeof customTypeEncoder === 'function') {\n    const tokens = customTypeEncoder(obj, typ, options, refStack);\n    if (tokens != null) {\n      return tokens;\n    }\n  }\n  const typeEncoder = typeEncoders[typ];\n  if (!typeEncoder) {\n    throw new Error(`${ encodeErrPrefix } unsupported type: ${ typ }`);\n  }\n  return typeEncoder(obj, typ, options, refStack);\n}\nfunction sortMapEntries(entries, options) {\n  if (options.mapSorter) {\n    entries.sort(options.mapSorter);\n  }\n}\nfunction mapSorter(e1, e2) {\n  const keyToken1 = Array.isArray(e1[0]) ? e1[0][0] : e1[0];\n  const keyToken2 = Array.isArray(e2[0]) ? e2[0][0] : e2[0];\n  if (keyToken1.type !== keyToken2.type) {\n    return keyToken1.type.compare(keyToken2.type);\n  }\n  const major = keyToken1.type.major;\n  const tcmp = cborEncoders[major].compareTokens(keyToken1, keyToken2);\n  if (tcmp === 0) {\n    console.warn('WARNING: complex key types used, CBOR key sorting guarantees are gone');\n  }\n  return tcmp;\n}\nfunction tokensToEncoded(buf, tokens, encoders, options) {\n  if (Array.isArray(tokens)) {\n    for (const token of tokens) {\n      tokensToEncoded(buf, token, encoders, options);\n    }\n  } else {\n    encoders[tokens.type.major](buf, tokens, options);\n  }\n}\nfunction encodeCustom(data, encoders, options) {\n  const tokens = objectToTokens(data, options);\n  if (!Array.isArray(tokens) && options.quickEncodeToken) {\n    const quickBytes = options.quickEncodeToken(tokens);\n    if (quickBytes) {\n      return quickBytes;\n    }\n    const encoder = encoders[tokens.type.major];\n    if (encoder.encodedSize) {\n      const size = encoder.encodedSize(tokens, options);\n      const buf = new Bl(size);\n      encoder(buf, tokens, options);\n      if (buf.chunks.length !== 1) {\n        throw new Error(`Unexpected error: pre-calculated length for ${ tokens } was wrong`);\n      }\n      return asU8A(buf.chunks[0]);\n    }\n  }\n  buf.reset();\n  tokensToEncoded(buf, tokens, encoders, options);\n  return buf.toBytes(true);\n}\nfunction encode(data, options) {\n  options = Object.assign({}, defaultEncodeOptions, options);\n  return encodeCustom(data, cborEncoders, options);\n}\nexport {\n  objectToTokens,\n  encode,\n  encodeCustom,\n  Ref\n};","import { Type } from '../token.js';\nimport { encodeCustom } from '../encode.js';\nimport { encodeErrPrefix } from '../common.js';\nimport {\n  asU8A,\n  fromString\n} from '../byte-utils.js';\nclass JSONEncoder extends Array {\n  constructor() {\n    super();\n    this.inRecursive = [];\n  }\n  prefix(buf) {\n    const recurs = this.inRecursive[this.inRecursive.length - 1];\n    if (recurs) {\n      if (recurs.type === Type.array) {\n        recurs.elements++;\n        if (recurs.elements !== 1) {\n          buf.push([44]);\n        }\n      }\n      if (recurs.type === Type.map) {\n        recurs.elements++;\n        if (recurs.elements !== 1) {\n          if (recurs.elements % 2 === 1) {\n            buf.push([44]);\n          } else {\n            buf.push([58]);\n          }\n        }\n      }\n    }\n  }\n  [Type.uint.major](buf, token) {\n    this.prefix(buf);\n    const is = String(token.value);\n    const isa = [];\n    for (let i = 0; i < is.length; i++) {\n      isa[i] = is.charCodeAt(i);\n    }\n    buf.push(isa);\n  }\n  [Type.negint.major](buf, token) {\n    this[Type.uint.major](buf, token);\n  }\n  [Type.bytes.major](_buf, _token) {\n    throw new Error(`${ encodeErrPrefix } unsupported type: Uint8Array`);\n  }\n  [Type.string.major](buf, token) {\n    this.prefix(buf);\n    const byts = fromString(JSON.stringify(token.value));\n    buf.push(byts.length > 32 ? asU8A(byts) : byts);\n  }\n  [Type.array.major](buf, _token) {\n    this.prefix(buf);\n    this.inRecursive.push({\n      type: Type.array,\n      elements: 0\n    });\n    buf.push([91]);\n  }\n  [Type.map.major](buf, _token) {\n    this.prefix(buf);\n    this.inRecursive.push({\n      type: Type.map,\n      elements: 0\n    });\n    buf.push([123]);\n  }\n  [Type.tag.major](_buf, _token) {\n  }\n  [Type.float.major](buf, token) {\n    if (token.type.name === 'break') {\n      const recurs = this.inRecursive.pop();\n      if (recurs) {\n        if (recurs.type === Type.array) {\n          buf.push([93]);\n        } else if (recurs.type === Type.map) {\n          buf.push([125]);\n        } else {\n          throw new Error('Unexpected recursive type; this should not happen!');\n        }\n        return;\n      }\n      throw new Error('Unexpected break; this should not happen!');\n    }\n    if (token.value === undefined) {\n      throw new Error(`${ encodeErrPrefix } unsupported type: undefined`);\n    }\n    this.prefix(buf);\n    if (token.type.name === 'true') {\n      buf.push([\n        116,\n        114,\n        117,\n        101\n      ]);\n      return;\n    } else if (token.type.name === 'false') {\n      buf.push([\n        102,\n        97,\n        108,\n        115,\n        101\n      ]);\n      return;\n    } else if (token.type.name === 'null') {\n      buf.push([\n        110,\n        117,\n        108,\n        108\n      ]);\n      return;\n    }\n    const is = String(token.value);\n    const isa = [];\n    let dp = false;\n    for (let i = 0; i < is.length; i++) {\n      isa[i] = is.charCodeAt(i);\n      if (!dp && (isa[i] === 46 || isa[i] === 101 || isa[i] === 69)) {\n        dp = true;\n      }\n    }\n    if (!dp) {\n      isa.push(46);\n      isa.push(48);\n    }\n    buf.push(isa);\n  }\n}\nfunction mapSorter(e1, e2) {\n  if (Array.isArray(e1[0]) || Array.isArray(e2[0])) {\n    throw new Error(`${ encodeErrPrefix } complex map keys are not supported`);\n  }\n  const keyToken1 = e1[0];\n  const keyToken2 = e2[0];\n  if (keyToken1.type !== Type.string || keyToken2.type !== Type.string) {\n    throw new Error(`${ encodeErrPrefix } non-string map keys are not supported`);\n  }\n  if (keyToken1 < keyToken2) {\n    return -1;\n  }\n  if (keyToken1 > keyToken2) {\n    return 1;\n  }\n  throw new Error(`${ encodeErrPrefix } unexpected duplicate map keys, this is not supported`);\n}\nconst defaultEncodeOptions = {\n  addBreakTokens: true,\n  mapSorter\n};\nfunction encode(data, options) {\n  options = Object.assign({}, defaultEncodeOptions, options);\n  return encodeCustom(data, new JSONEncoder(), options);\n}\nexport {\n  encode\n};","import { decode as _decode } from '../decode.js';\nimport {\n  Token,\n  Type\n} from '../token.js';\nimport { decodeCodePointsArray } from '../byte-utils.js';\nimport { decodeErrPrefix } from '../common.js';\nclass Tokenizer {\n  constructor(data, options = {}) {\n    this.pos = 0;\n    this.data = data;\n    this.options = options;\n    this.modeStack = ['value'];\n    this.lastToken = '';\n  }\n  done() {\n    return this.pos >= this.data.length;\n  }\n  ch() {\n    return this.data[this.pos];\n  }\n  currentMode() {\n    return this.modeStack[this.modeStack.length - 1];\n  }\n  skipWhitespace() {\n    let c = this.ch();\n    while (c === 32 || c === 9 || c === 13 || c === 10) {\n      c = this.data[++this.pos];\n    }\n  }\n  expect(str) {\n    if (this.data.length - this.pos < str.length) {\n      throw new Error(`${ decodeErrPrefix } unexpected end of input at position ${ this.pos }`);\n    }\n    for (let i = 0; i < str.length; i++) {\n      if (this.data[this.pos++] !== str[i]) {\n        throw new Error(`${ decodeErrPrefix } unexpected token at position ${ this.pos }, expected to find '${ String.fromCharCode(...str) }'`);\n      }\n    }\n  }\n  parseNumber() {\n    const startPos = this.pos;\n    let negative = false;\n    let float = false;\n    const swallow = chars => {\n      while (!this.done()) {\n        const ch = this.ch();\n        if (chars.includes(ch)) {\n          this.pos++;\n        } else {\n          break;\n        }\n      }\n    };\n    if (this.ch() === 45) {\n      negative = true;\n      this.pos++;\n    }\n    if (this.ch() === 48) {\n      this.pos++;\n      if (this.ch() === 46) {\n        this.pos++;\n        float = true;\n      } else {\n        return new Token(Type.uint, 0, this.pos - startPos);\n      }\n    }\n    swallow([\n      48,\n      49,\n      50,\n      51,\n      52,\n      53,\n      54,\n      55,\n      56,\n      57\n    ]);\n    if (negative && this.pos === startPos + 1) {\n      throw new Error(`${ decodeErrPrefix } unexpected token at position ${ this.pos }`);\n    }\n    if (!this.done() && this.ch() === 46) {\n      if (float) {\n        throw new Error(`${ decodeErrPrefix } unexpected token at position ${ this.pos }`);\n      }\n      float = true;\n      this.pos++;\n      swallow([\n        48,\n        49,\n        50,\n        51,\n        52,\n        53,\n        54,\n        55,\n        56,\n        57\n      ]);\n    }\n    if (!this.done() && (this.ch() === 101 || this.ch() === 69)) {\n      float = true;\n      this.pos++;\n      if (!this.done() && (this.ch() === 43 || this.ch() === 45)) {\n        this.pos++;\n      }\n      swallow([\n        48,\n        49,\n        50,\n        51,\n        52,\n        53,\n        54,\n        55,\n        56,\n        57\n      ]);\n    }\n    const numStr = String.fromCharCode.apply(null, this.data.subarray(startPos, this.pos));\n    const num = parseFloat(numStr);\n    if (float) {\n      return new Token(Type.float, num, this.pos - startPos);\n    }\n    if (this.options.allowBigInt !== true || Number.isSafeInteger(num)) {\n      return new Token(num >= 0 ? Type.uint : Type.negint, num, this.pos - startPos);\n    }\n    return new Token(num >= 0 ? Type.uint : Type.negint, BigInt(numStr), this.pos - startPos);\n  }\n  parseString() {\n    if (this.ch() !== 34) {\n      throw new Error(`${ decodeErrPrefix } unexpected character at position ${ this.pos }; this shouldn't happen`);\n    }\n    this.pos++;\n    for (let i = this.pos, l = 0; i < this.data.length && l < 65536; i++, l++) {\n      const ch = this.data[i];\n      if (ch === 92 || ch < 32 || ch >= 128) {\n        break;\n      }\n      if (ch === 34) {\n        const str = String.fromCharCode.apply(null, this.data.subarray(this.pos, i));\n        this.pos = i + 1;\n        return new Token(Type.string, str, l);\n      }\n    }\n    const startPos = this.pos;\n    const chars = [];\n    const readu4 = () => {\n      if (this.pos + 4 >= this.data.length) {\n        throw new Error(`${ decodeErrPrefix } unexpected end of unicode escape sequence at position ${ this.pos }`);\n      }\n      let u4 = 0;\n      for (let i = 0; i < 4; i++) {\n        let ch = this.ch();\n        if (ch >= 48 && ch <= 57) {\n          ch -= 48;\n        } else if (ch >= 97 && ch <= 102) {\n          ch = ch - 97 + 10;\n        } else if (ch >= 65 && ch <= 70) {\n          ch = ch - 65 + 10;\n        } else {\n          throw new Error(`${ decodeErrPrefix } unexpected unicode escape character at position ${ this.pos }`);\n        }\n        u4 = u4 * 16 + ch;\n        this.pos++;\n      }\n      return u4;\n    };\n    const readUtf8Char = () => {\n      const firstByte = this.ch();\n      let codePoint = null;\n      let bytesPerSequence = firstByte > 239 ? 4 : firstByte > 223 ? 3 : firstByte > 191 ? 2 : 1;\n      if (this.pos + bytesPerSequence > this.data.length) {\n        throw new Error(`${ decodeErrPrefix } unexpected unicode sequence at position ${ this.pos }`);\n      }\n      let secondByte, thirdByte, fourthByte, tempCodePoint;\n      switch (bytesPerSequence) {\n      case 1:\n        if (firstByte < 128) {\n          codePoint = firstByte;\n        }\n        break;\n      case 2:\n        secondByte = this.data[this.pos + 1];\n        if ((secondByte & 192) === 128) {\n          tempCodePoint = (firstByte & 31) << 6 | secondByte & 63;\n          if (tempCodePoint > 127) {\n            codePoint = tempCodePoint;\n          }\n        }\n        break;\n      case 3:\n        secondByte = this.data[this.pos + 1];\n        thirdByte = this.data[this.pos + 2];\n        if ((secondByte & 192) === 128 && (thirdByte & 192) === 128) {\n          tempCodePoint = (firstByte & 15) << 12 | (secondByte & 63) << 6 | thirdByte & 63;\n          if (tempCodePoint > 2047 && (tempCodePoint < 55296 || tempCodePoint > 57343)) {\n            codePoint = tempCodePoint;\n          }\n        }\n        break;\n      case 4:\n        secondByte = this.data[this.pos + 1];\n        thirdByte = this.data[this.pos + 2];\n        fourthByte = this.data[this.pos + 3];\n        if ((secondByte & 192) === 128 && (thirdByte & 192) === 128 && (fourthByte & 192) === 128) {\n          tempCodePoint = (firstByte & 15) << 18 | (secondByte & 63) << 12 | (thirdByte & 63) << 6 | fourthByte & 63;\n          if (tempCodePoint > 65535 && tempCodePoint < 1114112) {\n            codePoint = tempCodePoint;\n          }\n        }\n      }\n      if (codePoint === null) {\n        codePoint = 65533;\n        bytesPerSequence = 1;\n      } else if (codePoint > 65535) {\n        codePoint -= 65536;\n        chars.push(codePoint >>> 10 & 1023 | 55296);\n        codePoint = 56320 | codePoint & 1023;\n      }\n      chars.push(codePoint);\n      this.pos += bytesPerSequence;\n    };\n    while (!this.done()) {\n      const ch = this.ch();\n      let ch1;\n      switch (ch) {\n      case 92:\n        this.pos++;\n        if (this.done()) {\n          throw new Error(`${ decodeErrPrefix } unexpected string termination at position ${ this.pos }`);\n        }\n        ch1 = this.ch();\n        this.pos++;\n        switch (ch1) {\n        case 34:\n        case 39:\n        case 92:\n        case 47:\n          chars.push(ch1);\n          break;\n        case 98:\n          chars.push(8);\n          break;\n        case 116:\n          chars.push(9);\n          break;\n        case 110:\n          chars.push(10);\n          break;\n        case 102:\n          chars.push(12);\n          break;\n        case 114:\n          chars.push(13);\n          break;\n        case 117:\n          chars.push(readu4());\n          break;\n        default:\n          throw new Error(`${ decodeErrPrefix } unexpected string escape character at position ${ this.pos }`);\n        }\n        break;\n      case 34:\n        this.pos++;\n        return new Token(Type.string, decodeCodePointsArray(chars), this.pos - startPos);\n      default:\n        if (ch < 32) {\n          throw new Error(`${ decodeErrPrefix } invalid control character at position ${ this.pos }`);\n        } else if (ch < 128) {\n          chars.push(ch);\n          this.pos++;\n        } else {\n          readUtf8Char();\n        }\n      }\n    }\n    throw new Error(`${ decodeErrPrefix } unexpected end of string at position ${ this.pos }`);\n  }\n  parseValue() {\n    switch (this.ch()) {\n    case 123:\n      this.modeStack.push('obj-start');\n      this.pos++;\n      return new Token(Type.map, Infinity, 1);\n    case 91:\n      this.modeStack.push('array-start');\n      this.pos++;\n      return new Token(Type.array, Infinity, 1);\n    case 34: {\n        return this.parseString();\n      }\n    case 110:\n      this.expect([\n        110,\n        117,\n        108,\n        108\n      ]);\n      return new Token(Type.null, null, 4);\n    case 102:\n      this.expect([\n        102,\n        97,\n        108,\n        115,\n        101\n      ]);\n      return new Token(Type.false, false, 5);\n    case 116:\n      this.expect([\n        116,\n        114,\n        117,\n        101\n      ]);\n      return new Token(Type.true, true, 4);\n    case 45:\n    case 48:\n    case 49:\n    case 50:\n    case 51:\n    case 52:\n    case 53:\n    case 54:\n    case 55:\n    case 56:\n    case 57:\n      return this.parseNumber();\n    default:\n      throw new Error(`${ decodeErrPrefix } unexpected character at position ${ this.pos }`);\n    }\n  }\n  next() {\n    this.skipWhitespace();\n    switch (this.currentMode()) {\n    case 'value':\n      this.modeStack.pop();\n      return this.parseValue();\n    case 'array-value': {\n        this.modeStack.pop();\n        if (this.ch() === 93) {\n          this.pos++;\n          this.skipWhitespace();\n          return new Token(Type.break, undefined, 1);\n        }\n        if (this.ch() !== 44) {\n          throw new Error(`${ decodeErrPrefix } unexpected character at position ${ this.pos }, was expecting array delimiter but found '${ String.fromCharCode(this.ch()) }'`);\n        }\n        this.pos++;\n        this.modeStack.push('array-value');\n        this.skipWhitespace();\n        return this.parseValue();\n      }\n    case 'array-start': {\n        this.modeStack.pop();\n        if (this.ch() === 93) {\n          this.pos++;\n          this.skipWhitespace();\n          return new Token(Type.break, undefined, 1);\n        }\n        this.modeStack.push('array-value');\n        this.skipWhitespace();\n        return this.parseValue();\n      }\n    case 'obj-key':\n      if (this.ch() === 125) {\n        this.modeStack.pop();\n        this.pos++;\n        this.skipWhitespace();\n        return new Token(Type.break, undefined, 1);\n      }\n      if (this.ch() !== 44) {\n        throw new Error(`${ decodeErrPrefix } unexpected character at position ${ this.pos }, was expecting object delimiter but found '${ String.fromCharCode(this.ch()) }'`);\n      }\n      this.pos++;\n      this.skipWhitespace();\n    case 'obj-start': {\n        this.modeStack.pop();\n        if (this.ch() === 125) {\n          this.pos++;\n          this.skipWhitespace();\n          return new Token(Type.break, undefined, 1);\n        }\n        const token = this.parseString();\n        this.skipWhitespace();\n        if (this.ch() !== 58) {\n          throw new Error(`${ decodeErrPrefix } unexpected character at position ${ this.pos }, was expecting key/value delimiter ':' but found '${ String.fromCharCode(this.ch()) }'`);\n        }\n        this.pos++;\n        this.modeStack.push('obj-value');\n        return token;\n      }\n    case 'obj-value': {\n        this.modeStack.pop();\n        this.modeStack.push('obj-key');\n        this.skipWhitespace();\n        return this.parseValue();\n      }\n    default:\n      throw new Error(`${ decodeErrPrefix } unexpected parse state at position ${ this.pos }; this shouldn't happen`);\n    }\n  }\n}\nfunction decode(data, options) {\n  options = Object.assign({ tokenizer: new Tokenizer(data, options) }, options);\n  return _decode(data, options);\n}\nexport {\n  decode,\n  Tokenizer\n};","import {\n  Token,\n  Type\n} from './token.js';\nimport * as uint from './0uint.js';\nimport * as negint from './1negint.js';\nimport * as bytes from './2bytes.js';\nimport * as string from './3string.js';\nimport * as array from './4array.js';\nimport * as map from './5map.js';\nimport * as tag from './6tag.js';\nimport * as float from './7float.js';\nimport { decodeErrPrefix } from './common.js';\nimport { fromArray } from './byte-utils.js';\nfunction invalidMinor(data, pos, minor) {\n  throw new Error(`${ decodeErrPrefix } encountered invalid minor (${ minor }) for major ${ data[pos] >>> 5 }`);\n}\nfunction errorer(msg) {\n  return () => {\n    throw new Error(`${ decodeErrPrefix } ${ msg }`);\n  };\n}\nexport const jump = [];\nfor (let i = 0; i <= 23; i++) {\n  jump[i] = invalidMinor;\n}\njump[24] = uint.decodeUint8;\njump[25] = uint.decodeUint16;\njump[26] = uint.decodeUint32;\njump[27] = uint.decodeUint64;\njump[28] = invalidMinor;\njump[29] = invalidMinor;\njump[30] = invalidMinor;\njump[31] = invalidMinor;\nfor (let i = 32; i <= 55; i++) {\n  jump[i] = invalidMinor;\n}\njump[56] = negint.decodeNegint8;\njump[57] = negint.decodeNegint16;\njump[58] = negint.decodeNegint32;\njump[59] = negint.decodeNegint64;\njump[60] = invalidMinor;\njump[61] = invalidMinor;\njump[62] = invalidMinor;\njump[63] = invalidMinor;\nfor (let i = 64; i <= 87; i++) {\n  jump[i] = bytes.decodeBytesCompact;\n}\njump[88] = bytes.decodeBytes8;\njump[89] = bytes.decodeBytes16;\njump[90] = bytes.decodeBytes32;\njump[91] = bytes.decodeBytes64;\njump[92] = invalidMinor;\njump[93] = invalidMinor;\njump[94] = invalidMinor;\njump[95] = errorer('indefinite length bytes/strings are not supported');\nfor (let i = 96; i <= 119; i++) {\n  jump[i] = string.decodeStringCompact;\n}\njump[120] = string.decodeString8;\njump[121] = string.decodeString16;\njump[122] = string.decodeString32;\njump[123] = string.decodeString64;\njump[124] = invalidMinor;\njump[125] = invalidMinor;\njump[126] = invalidMinor;\njump[127] = errorer('indefinite length bytes/strings are not supported');\nfor (let i = 128; i <= 151; i++) {\n  jump[i] = array.decodeArrayCompact;\n}\njump[152] = array.decodeArray8;\njump[153] = array.decodeArray16;\njump[154] = array.decodeArray32;\njump[155] = array.decodeArray64;\njump[156] = invalidMinor;\njump[157] = invalidMinor;\njump[158] = invalidMinor;\njump[159] = array.decodeArrayIndefinite;\nfor (let i = 160; i <= 183; i++) {\n  jump[i] = map.decodeMapCompact;\n}\njump[184] = map.decodeMap8;\njump[185] = map.decodeMap16;\njump[186] = map.decodeMap32;\njump[187] = map.decodeMap64;\njump[188] = invalidMinor;\njump[189] = invalidMinor;\njump[190] = invalidMinor;\njump[191] = map.decodeMapIndefinite;\nfor (let i = 192; i <= 215; i++) {\n  jump[i] = tag.decodeTagCompact;\n}\njump[216] = tag.decodeTag8;\njump[217] = tag.decodeTag16;\njump[218] = tag.decodeTag32;\njump[219] = tag.decodeTag64;\njump[220] = invalidMinor;\njump[221] = invalidMinor;\njump[222] = invalidMinor;\njump[223] = invalidMinor;\nfor (let i = 224; i <= 243; i++) {\n  jump[i] = errorer('simple values are not supported');\n}\njump[244] = invalidMinor;\njump[245] = invalidMinor;\njump[246] = invalidMinor;\njump[247] = float.decodeUndefined;\njump[248] = errorer('simple values are not supported');\njump[249] = float.decodeFloat16;\njump[250] = float.decodeFloat32;\njump[251] = float.decodeFloat64;\njump[252] = invalidMinor;\njump[253] = invalidMinor;\njump[254] = invalidMinor;\njump[255] = float.decodeBreak;\nexport const quick = [];\nfor (let i = 0; i < 24; i++) {\n  quick[i] = new Token(Type.uint, i, 1);\n}\nfor (let i = -1; i >= -24; i--) {\n  quick[31 - i] = new Token(Type.negint, i, 1);\n}\nquick[64] = new Token(Type.bytes, new Uint8Array(0), 1);\nquick[96] = new Token(Type.string, '', 1);\nquick[128] = new Token(Type.array, 0, 1);\nquick[160] = new Token(Type.map, 0, 1);\nquick[244] = new Token(Type.false, false, 1);\nquick[245] = new Token(Type.true, true, 1);\nquick[246] = new Token(Type.null, null, 1);\nexport function quickEncodeToken(token) {\n  switch (token.type) {\n  case Type.false:\n    return fromArray([244]);\n  case Type.true:\n    return fromArray([245]);\n  case Type.null:\n    return fromArray([246]);\n  case Type.bytes:\n    if (!token.value.length) {\n      return fromArray([64]);\n    }\n    return;\n  case Type.string:\n    if (token.value === '') {\n      return fromArray([96]);\n    }\n    return;\n  case Type.array:\n    if (token.value === 0) {\n      return fromArray([128]);\n    }\n    return;\n  case Type.map:\n    if (token.value === 0) {\n      return fromArray([160]);\n    }\n    return;\n  case Type.uint:\n    if (token.value < 24) {\n      return fromArray([Number(token.value)]);\n    }\n    return;\n  case Type.negint:\n    if (token.value >= -24) {\n      return fromArray([31 - Number(token.value)]);\n    }\n  }\n}","class Type {\n  constructor(major, name, terminal) {\n    this.major = major;\n    this.majorEncoded = major << 5;\n    this.name = name;\n    this.terminal = terminal;\n  }\n  toString() {\n    return `Type[${ this.major }].${ this.name }`;\n  }\n  compare(typ) {\n    return this.major < typ.major ? -1 : this.major > typ.major ? 1 : 0;\n  }\n}\nType.uint = new Type(0, 'uint', true);\nType.negint = new Type(1, 'negint', true);\nType.bytes = new Type(2, 'bytes', true);\nType.string = new Type(3, 'string', true);\nType.array = new Type(4, 'array', false);\nType.map = new Type(5, 'map', false);\nType.tag = new Type(6, 'tag', false);\nType.float = new Type(7, 'float', true);\nType.false = new Type(7, 'false', true);\nType.true = new Type(7, 'true', true);\nType.null = new Type(7, 'null', true);\nType.undefined = new Type(7, 'undefined', true);\nType.break = new Type(7, 'break', true);\nclass Token {\n  constructor(type, value, encodedLength) {\n    this.type = type;\n    this.value = value;\n    this.encodedLength = encodedLength;\n    this.encodedBytes = undefined;\n    this.byteValue = undefined;\n  }\n  toString() {\n    return `Token[${ this.type }].${ this.value }`;\n  }\n}\nexport {\n  Type,\n  Token\n};","import { base64url } from 'multiformats/bases/base64';\nexport function toBase64url(b) {\n    return base64url.encode(b).slice(1);\n}\nexport function fromBase64url(s) {\n    return base64url.decode(`u${s}`);\n}\n//# sourceMappingURL=utils.js.map","import { fromBase64url, toBase64url } from './utils.js';\nimport { CID } from 'multiformats/cid';\nexport function fromSplit(split) {\n    const [protectedHeader, payload, signature] = split;\n    return {\n        payload,\n        signatures: [{ protected: protectedHeader, signature }],\n        link: CID.decode(fromBase64url(payload)),\n    };\n}\nfunction encodeSignature(signature) {\n    const encoded = {\n        signature: fromBase64url(signature.signature),\n    };\n    if (signature.header)\n        encoded.header = signature.header;\n    if (signature.protected)\n        encoded.protected = fromBase64url(signature.protected);\n    return encoded;\n}\nexport function encode(jws) {\n    const payload = fromBase64url(jws.payload);\n    try {\n        CID.decode(payload);\n    }\n    catch (e) {\n        throw new Error('Not a valid DagJWS');\n    }\n    return {\n        payload,\n        signatures: jws.signatures.map(encodeSignature),\n    };\n}\nfunction decodeSignature(encoded) {\n    const sign = {\n        signature: toBase64url(encoded.signature),\n    };\n    if (encoded.header)\n        sign.header = encoded.header;\n    if (encoded.protected)\n        sign.protected = toBase64url(encoded.protected);\n    return sign;\n}\nexport function decode(encoded) {\n    const decoded = {\n        payload: toBase64url(encoded.payload),\n        signatures: encoded.signatures.map(decodeSignature),\n    };\n    decoded.link = CID.decode(new Uint8Array(encoded.payload));\n    return decoded;\n}\n//# sourceMappingURL=signing.js.map","import { fromBase64url, toBase64url } from './utils.js';\nexport function fromSplit(split) {\n    const [protectedHeader, encrypted_key, iv, ciphertext, tag] = split;\n    const jwe = {\n        ciphertext,\n        iv,\n        protected: protectedHeader,\n        tag,\n    };\n    if (encrypted_key)\n        jwe.recipients = [{ encrypted_key }];\n    return jwe;\n}\nfunction encodeRecipient(recipient) {\n    const encRec = {};\n    if (recipient.encrypted_key)\n        encRec.encrypted_key = fromBase64url(recipient.encrypted_key);\n    if (recipient.header)\n        encRec.header = recipient.header;\n    return encRec;\n}\nexport function encode(jwe) {\n    const encJwe = {\n        ciphertext: fromBase64url(jwe.ciphertext),\n        protected: fromBase64url(jwe.protected),\n        iv: fromBase64url(jwe.iv),\n        tag: fromBase64url(jwe.tag),\n    };\n    if (jwe.aad)\n        encJwe.aad = fromBase64url(jwe.aad);\n    if (jwe.recipients)\n        encJwe.recipients = jwe.recipients.map(encodeRecipient);\n    if (jwe.unprotected)\n        encJwe.unprotected = jwe.unprotected;\n    return encJwe;\n}\nfunction decodeRecipient(encoded) {\n    const recipient = {};\n    if (encoded.encrypted_key)\n        recipient.encrypted_key = toBase64url(encoded.encrypted_key);\n    if (encoded.header)\n        recipient.header = encoded.header;\n    return recipient;\n}\nexport function decode(encoded) {\n    const jwe = {\n        ciphertext: toBase64url(encoded.ciphertext),\n        protected: toBase64url(encoded.protected),\n        iv: toBase64url(encoded.iv),\n        tag: toBase64url(encoded.tag),\n    };\n    if (encoded.aad)\n        jwe.aad = toBase64url(encoded.aad);\n    if (encoded.recipients)\n        jwe.recipients = encoded.recipients.map(decodeRecipient);\n    if (encoded.unprotected)\n        jwe.unprotected = encoded.unprotected;\n    return jwe;\n}\n//# sourceMappingURL=encryption.js.map","import * as signing from './signing.js';\nimport * as encryption from './encryption.js';\nimport * as cbor from '@ipld/dag-cbor';\nexport const name = 'dag-jose';\nexport const code = 133;\nfunction isDagJWS(jose) {\n    return ('payload' in jose &&\n        typeof jose.payload === 'string' &&\n        'signatures' in jose &&\n        Array.isArray(jose.signatures));\n}\nfunction isEncodedJWS(jose) {\n    return ('payload' in jose &&\n        jose.payload instanceof Uint8Array &&\n        'signatures' in jose &&\n        Array.isArray(jose.signatures));\n}\nfunction isEncodedJWE(jose) {\n    return ('ciphertext' in jose &&\n        jose.ciphertext instanceof Uint8Array &&\n        'iv' in jose &&\n        jose.iv instanceof Uint8Array &&\n        'protected' in jose &&\n        jose.protected instanceof Uint8Array &&\n        'tag' in jose &&\n        jose.tag instanceof Uint8Array);\n}\nfunction isDagJWE(jose) {\n    return ('ciphertext' in jose &&\n        typeof jose.ciphertext === 'string' &&\n        'iv' in jose &&\n        typeof jose.iv === 'string' &&\n        'protected' in jose &&\n        typeof jose.protected === 'string' &&\n        'tag' in jose &&\n        typeof jose.tag === 'string');\n}\nexport function toGeneral(jose) {\n    if (typeof jose === 'string') {\n        const split = jose.split('.');\n        if (split.length === 3) {\n            return signing.fromSplit(split);\n        }\n        else if (split.length === 5) {\n            return encryption.fromSplit(split);\n        }\n        throw new Error('Not a valid JOSE string');\n    }\n    if (isDagJWS(jose) || isDagJWE(jose)) {\n        return jose;\n    }\n    throw new Error('Not a valid unencoded JOSE object');\n}\nexport function encode(obj) {\n    if (typeof obj === 'string') {\n        obj = toGeneral(obj);\n    }\n    let encodedJose;\n    if (isDagJWS(obj)) {\n        encodedJose = signing.encode(obj);\n    }\n    else if (isDagJWE(obj)) {\n        encodedJose = encryption.encode(obj);\n    }\n    else {\n        throw new Error('Not a valid JOSE object');\n    }\n    return new Uint8Array(cbor.encode(encodedJose));\n}\nexport function decode(data) {\n    let encoded;\n    try {\n        encoded = cbor.decode(data);\n    }\n    catch (e) {\n        throw new Error('Not a valid DAG-JOSE object');\n    }\n    if (isEncodedJWS(encoded)) {\n        return signing.decode(encoded);\n    }\n    else if (isEncodedJWE(encoded)) {\n        return encryption.decode(encoded);\n    }\n    else {\n        throw new Error('Not a valid DAG-JOSE object');\n    }\n}\n//# sourceMappingURL=index.js.map","import drain from 'it-drain';\nimport filter from 'it-filter';\nimport sort from 'it-sort';\nimport take from 'it-take';\nexport class BaseDatastore {\n    put(key, val, options) {\n        return Promise.reject(new Error('.put is not implemented'));\n    }\n    get(key, options) {\n        return Promise.reject(new Error('.get is not implemented'));\n    }\n    has(key, options) {\n        return Promise.reject(new Error('.has is not implemented'));\n    }\n    delete(key, options) {\n        return Promise.reject(new Error('.delete is not implemented'));\n    }\n    async *putMany(source, options = {}) {\n        for await (const { key, value } of source) {\n            await this.put(key, value, options);\n            yield key;\n        }\n    }\n    async *getMany(source, options = {}) {\n        for await (const key of source) {\n            yield {\n                key,\n                value: await this.get(key, options)\n            };\n        }\n    }\n    async *deleteMany(source, options = {}) {\n        for await (const key of source) {\n            await this.delete(key, options);\n            yield key;\n        }\n    }\n    batch() {\n        let puts = [];\n        let dels = [];\n        return {\n            put(key, value) {\n                puts.push({ key, value });\n            },\n            delete(key) {\n                dels.push(key);\n            },\n            commit: async (options) => {\n                await drain(this.putMany(puts, options));\n                puts = [];\n                await drain(this.deleteMany(dels, options));\n                dels = [];\n            }\n        };\n    }\n    /**\n     * Extending classes should override `query` or implement this method\n     */\n    // eslint-disable-next-line require-yield\n    async *_all(q, options) {\n        throw new Error('._all is not implemented');\n    }\n    /**\n     * Extending classes should override `queryKeys` or implement this method\n     */\n    // eslint-disable-next-line require-yield\n    async *_allKeys(q, options) {\n        throw new Error('._allKeys is not implemented');\n    }\n    query(q, options) {\n        let it = this._all(q, options);\n        if (q.prefix != null) {\n            const prefix = q.prefix;\n            it = filter(it, (e) => e.key.toString().startsWith(prefix));\n        }\n        if (Array.isArray(q.filters)) {\n            it = q.filters.reduce((it, f) => filter(it, f), it);\n        }\n        if (Array.isArray(q.orders)) {\n            it = q.orders.reduce((it, f) => sort(it, f), it);\n        }\n        if (q.offset != null) {\n            let i = 0;\n            const offset = q.offset;\n            it = filter(it, () => i++ >= offset);\n        }\n        if (q.limit != null) {\n            it = take(it, q.limit);\n        }\n        return it;\n    }\n    queryKeys(q, options) {\n        let it = this._allKeys(q, options);\n        if (q.prefix != null) {\n            const prefix = q.prefix;\n            it = filter(it, (key) => key.toString().startsWith(prefix));\n        }\n        if (Array.isArray(q.filters)) {\n            it = q.filters.reduce((it, f) => filter(it, f), it);\n        }\n        if (Array.isArray(q.orders)) {\n            it = q.orders.reduce((it, f) => sort(it, f), it);\n        }\n        if (q.offset != null) {\n            const offset = q.offset;\n            let i = 0;\n            it = filter(it, () => i++ >= offset);\n        }\n        if (q.limit != null) {\n            it = take(it, q.limit);\n        }\n        return it;\n    }\n}\n//# sourceMappingURL=base.js.map","import errCode from 'err-code';\nexport function dbOpenFailedError(err) {\n    err = err ?? new Error('Cannot open database');\n    return errCode(err, 'ERR_DB_OPEN_FAILED');\n}\nexport function dbDeleteFailedError(err) {\n    err = err ?? new Error('Delete failed');\n    return errCode(err, 'ERR_DB_DELETE_FAILED');\n}\nexport function dbWriteFailedError(err) {\n    err = err ?? new Error('Write failed');\n    return errCode(err, 'ERR_DB_WRITE_FAILED');\n}\nexport function dbReadFailedError(err) {\n    err = err ?? new Error('Read failed');\n    return errCode(err, 'ERR_DB_READ_FAILED');\n}\nexport function notFoundError(err) {\n    err = err ?? new Error('Not Found');\n    return errCode(err, 'ERR_NOT_FOUND');\n}\nexport function abortedError(err) {\n    err = err ?? new Error('Aborted');\n    return errCode(err, 'ERR_ABORTED');\n}\n//# sourceMappingURL=errors.js.map","import { Key } from 'interface-datastore/key';\nexport const PREFIX = '/repo/flatfs/shard/';\nexport const SHARDING_FN = 'SHARDING';\nexport class ShardBase {\n    param;\n    name;\n    _padding;\n    constructor(param) {\n        this.param = param;\n        this.name = 'base';\n        this._padding = '';\n    }\n    fun(s) {\n        return 'implement me';\n    }\n    toString() {\n        return `${PREFIX}v1/${this.name}/${this.param}`;\n    }\n}\nexport class Prefix extends ShardBase {\n    constructor(prefixLen) {\n        super(prefixLen);\n        this._padding = ''.padStart(prefixLen, '_');\n        this.name = 'prefix';\n    }\n    fun(noslash) {\n        return (noslash + this._padding).slice(0, this.param);\n    }\n}\nexport class Suffix extends ShardBase {\n    constructor(suffixLen) {\n        super(suffixLen);\n        this._padding = ''.padStart(suffixLen, '_');\n        this.name = 'suffix';\n    }\n    fun(noslash) {\n        const s = this._padding + noslash;\n        return s.slice(s.length - this.param);\n    }\n}\nexport class NextToLast extends ShardBase {\n    constructor(suffixLen) {\n        super(suffixLen);\n        this._padding = ''.padStart(suffixLen + 1, '_');\n        this.name = 'next-to-last';\n    }\n    fun(noslash) {\n        const s = this._padding + noslash;\n        const offset = s.length - this.param - 1;\n        return s.slice(offset, offset + this.param);\n    }\n}\n/**\n * Convert a given string to the matching sharding function\n */\nexport function parseShardFun(str) {\n    str = str.trim();\n    if (str.length === 0) {\n        throw new Error('empty shard string');\n    }\n    if (!str.startsWith(PREFIX)) {\n        throw new Error(`invalid or no path prefix: ${str}`);\n    }\n    const parts = str.slice(PREFIX.length).split('/');\n    const version = parts[0];\n    if (version !== 'v1') {\n        throw new Error(`expect 'v1' version, got '${version}'`);\n    }\n    const name = parts[1];\n    if (parts[2] == null || parts[2] === '') {\n        throw new Error('missing param');\n    }\n    const param = parseInt(parts[2], 10);\n    switch (name) {\n        case 'prefix':\n            return new Prefix(param);\n        case 'suffix':\n            return new Suffix(param);\n        case 'next-to-last':\n            return new NextToLast(param);\n        default:\n            throw new Error(`unkown sharding function: ${name}`);\n    }\n}\nexport const readShardFun = async (path, store) => {\n    const key = new Key(path).child(new Key(SHARDING_FN));\n    // @ts-expect-error not all stores have this\n    const get = typeof store.getRaw === 'function' ? store.getRaw.bind(store) : store.get.bind(store);\n    const res = await get(key);\n    return parseShardFun(new TextDecoder().decode(res ?? '').trim());\n};\n//# sourceMappingURL=shard.js.map","import map from 'it-map';\nimport { pipe } from 'it-pipe';\nimport { BaseDatastore } from './base.js';\n/**\n * A datastore shim, that wraps around a given datastore, changing\n * the way keys look to the user, for example namespacing\n * keys, reversing them, etc.\n */\nexport class KeyTransformDatastore extends BaseDatastore {\n    child;\n    transform;\n    constructor(child, transform) {\n        super();\n        this.child = child;\n        this.transform = transform;\n    }\n    async put(key, val, options) {\n        await this.child.put(this.transform.convert(key), val, options);\n        return key;\n    }\n    async get(key, options) {\n        return this.child.get(this.transform.convert(key), options);\n    }\n    async has(key, options) {\n        return this.child.has(this.transform.convert(key), options);\n    }\n    async delete(key, options) {\n        await this.child.delete(this.transform.convert(key), options);\n    }\n    async *putMany(source, options = {}) {\n        const transform = this.transform;\n        const child = this.child;\n        yield* pipe(source, async function* (source) {\n            yield* map(source, ({ key, value }) => ({\n                key: transform.convert(key),\n                value\n            }));\n        }, async function* (source) {\n            yield* child.putMany(source, options);\n        }, async function* (source) {\n            yield* map(source, key => transform.invert(key));\n        });\n    }\n    async *getMany(source, options = {}) {\n        const transform = this.transform;\n        const child = this.child;\n        yield* pipe(source, async function* (source) {\n            yield* map(source, key => transform.convert(key));\n        }, async function* (source) {\n            yield* child.getMany(source, options);\n        }, async function* (source) {\n            yield* map(source, ({ key, value }) => ({\n                key: transform.invert(key),\n                value\n            }));\n        });\n    }\n    async *deleteMany(source, options = {}) {\n        const transform = this.transform;\n        const child = this.child;\n        yield* pipe(source, async function* (source) {\n            yield* map(source, key => transform.convert(key));\n        }, async function* (source) {\n            yield* child.deleteMany(source, options);\n        }, async function* (source) {\n            yield* map(source, key => transform.invert(key));\n        });\n    }\n    batch() {\n        const b = this.child.batch();\n        return {\n            put: (key, value) => {\n                b.put(this.transform.convert(key), value);\n            },\n            delete: (key) => {\n                b.delete(this.transform.convert(key));\n            },\n            commit: async (options) => {\n                await b.commit(options);\n            }\n        };\n    }\n    query(q, options) {\n        const query = {\n            ...q\n        };\n        query.filters = (query.filters ?? []).map(filter => {\n            return ({ key, value }) => filter({ key: this.transform.convert(key), value });\n        });\n        const { prefix } = q;\n        if (prefix != null && prefix !== '/') {\n            delete query.prefix;\n            query.filters.push(({ key }) => {\n                return this.transform.invert(key).toString().startsWith(prefix);\n            });\n        }\n        if (query.orders != null) {\n            query.orders = query.orders.map(order => {\n                return (a, b) => order({ key: this.transform.invert(a.key), value: a.value }, { key: this.transform.invert(b.key), value: b.value });\n            });\n        }\n        return map(this.child.query(query, options), ({ key, value }) => {\n            return {\n                key: this.transform.invert(key),\n                value\n            };\n        });\n    }\n    queryKeys(q, options) {\n        const query = {\n            ...q\n        };\n        query.filters = (query.filters ?? []).map(filter => {\n            return (key) => filter(this.transform.convert(key));\n        });\n        const { prefix } = q;\n        if (prefix != null && prefix !== '/') {\n            delete query.prefix;\n            query.filters.push((key) => {\n                return this.transform.invert(key).toString().startsWith(prefix);\n            });\n        }\n        if (query.orders != null) {\n            query.orders = query.orders.map(order => {\n                return (a, b) => order(this.transform.invert(a), this.transform.invert(b));\n            });\n        }\n        return map(this.child.queryKeys(query, options), key => {\n            return this.transform.invert(key);\n        });\n    }\n}\n//# sourceMappingURL=keytransform.js.map","import { Key } from 'interface-datastore';\nimport { BaseDatastore } from './base.js';\nimport * as Errors from './errors.js';\nimport { KeyTransformDatastore } from './keytransform.js';\nimport { readShardFun, SHARDING_FN } from './shard.js';\nconst shardKey = new Key(SHARDING_FN);\n/**\n * Backend independent abstraction of go-ds-flatfs.\n *\n * Wraps another datastore such that all values are stored\n * sharded according to the given sharding function.\n */\nexport class ShardingDatastore extends BaseDatastore {\n    child;\n    shard;\n    constructor(store, shard) {\n        super();\n        this.child = new KeyTransformDatastore(store, {\n            convert: this._convertKey.bind(this),\n            invert: this._invertKey.bind(this)\n        });\n        this.shard = shard;\n    }\n    async open() {\n        this.shard = await ShardingDatastore.create(this.child, this.shard);\n    }\n    _convertKey(key) {\n        const s = key.toString();\n        if (s === shardKey.toString()) {\n            return key;\n        }\n        const parent = new Key(this.shard.fun(s));\n        return parent.child(key);\n    }\n    _invertKey(key) {\n        const s = key.toString();\n        if (s === shardKey.toString()) {\n            return key;\n        }\n        return Key.withNamespaces(key.list().slice(1));\n    }\n    static async create(store, shard) {\n        const hasShard = await store.has(shardKey);\n        if (!hasShard) {\n            if (shard == null) {\n                throw Errors.dbOpenFailedError(Error('Shard is required when datastore doesn\\'t have a shard key already.'));\n            }\n            await store.put(shardKey, new TextEncoder().encode(shard.toString() + '\\n'));\n        }\n        if (shard == null) {\n            shard = await readShardFun('/', store);\n        }\n        // test shards\n        const diskShard = await readShardFun('/', store);\n        const a = diskShard.toString();\n        const b = shard.toString();\n        if (a !== b) {\n            throw new Error(`specified fun ${b} does not match repo shard fun ${a}`);\n        }\n        return diskShard;\n    }\n    async put(key, val, options) {\n        await this.child.put(key, val, options);\n        return key;\n    }\n    async get(key, options) {\n        return this.child.get(key, options);\n    }\n    async has(key, options) {\n        return this.child.has(key, options);\n    }\n    async delete(key, options) {\n        await this.child.delete(key, options);\n    }\n    async *putMany(source, options = {}) {\n        yield* this.child.putMany(source, options);\n    }\n    async *getMany(source, options = {}) {\n        yield* this.child.getMany(source, options);\n    }\n    async *deleteMany(source, options = {}) {\n        yield* this.child.deleteMany(source, options);\n    }\n    batch() {\n        return this.child.batch();\n    }\n    query(q, options) {\n        const omitShard = ({ key }) => key.toString() !== shardKey.toString();\n        const tq = {\n            ...q,\n            filters: [\n                omitShard\n            ].concat(q.filters ?? [])\n        };\n        return this.child.query(tq, options);\n    }\n    queryKeys(q, options) {\n        const omitShard = (key) => key.toString() !== shardKey.toString();\n        const tq = {\n            ...q,\n            filters: [\n                omitShard\n            ].concat(q.filters ?? [])\n        };\n        return this.child.queryKeys(tq, options);\n    }\n}\n//# sourceMappingURL=sharding.js.map","/**\n * @packageDocumentation\n *\n * An iterable that you can push values into.\n *\n * @example\n *\n * ```js\n * import { pushable } from 'it-pushable'\n *\n * const source = pushable()\n *\n * setTimeout(() => source.push('hello'), 100)\n * setTimeout(() => source.push('world'), 200)\n * setTimeout(() => source.end(), 300)\n *\n * const start = Date.now()\n *\n * for await (const value of source) {\n *   console.log(`got \"${value}\" after ${Date.now() - start}ms`)\n * }\n * console.log(`done after ${Date.now() - start}ms`)\n *\n * // Output:\n * // got \"hello\" after 105ms\n * // got \"world\" after 207ms\n * // done after 309ms\n * ```\n *\n * @example\n *\n * ```js\n * import { pushableV } from 'it-pushable'\n * import all from 'it-all'\n *\n * const source = pushableV()\n *\n * source.push(1)\n * source.push(2)\n * source.push(3)\n * source.end()\n *\n * console.info(await all(source))\n *\n * // Output:\n * // [ [1, 2, 3] ]\n * ```\n */\nimport deferred from 'p-defer';\nimport { FIFO } from './fifo.js';\nexport class AbortError extends Error {\n    type;\n    code;\n    constructor(message, code) {\n        super(message ?? 'The operation was aborted');\n        this.type = 'aborted';\n        this.code = code ?? 'ABORT_ERR';\n    }\n}\nexport function pushable(options = {}) {\n    const getNext = (buffer) => {\n        const next = buffer.shift();\n        if (next == null) {\n            return { done: true };\n        }\n        if (next.error != null) {\n            throw next.error;\n        }\n        return {\n            done: next.done === true,\n            // @ts-expect-error if done is false, value will be present\n            value: next.value\n        };\n    };\n    return _pushable(getNext, options);\n}\nexport function pushableV(options = {}) {\n    const getNext = (buffer) => {\n        let next;\n        const values = [];\n        while (!buffer.isEmpty()) {\n            next = buffer.shift();\n            if (next == null) {\n                break;\n            }\n            if (next.error != null) {\n                throw next.error;\n            }\n            if (next.done === false) {\n                // @ts-expect-error if done is false value should be pushed\n                values.push(next.value);\n            }\n        }\n        if (next == null) {\n            return { done: true };\n        }\n        return {\n            done: next.done === true,\n            value: values\n        };\n    };\n    return _pushable(getNext, options);\n}\nfunction _pushable(getNext, options) {\n    options = options ?? {};\n    let onEnd = options.onEnd;\n    let buffer = new FIFO();\n    let pushable;\n    let onNext;\n    let ended;\n    let drain = deferred();\n    const waitNext = async () => {\n        try {\n            if (!buffer.isEmpty()) {\n                return getNext(buffer);\n            }\n            if (ended) {\n                return { done: true };\n            }\n            return await new Promise((resolve, reject) => {\n                onNext = (next) => {\n                    onNext = null;\n                    buffer.push(next);\n                    try {\n                        resolve(getNext(buffer));\n                    }\n                    catch (err) {\n                        reject(err);\n                    }\n                    return pushable;\n                };\n            });\n        }\n        finally {\n            if (buffer.isEmpty()) {\n                // settle promise in the microtask queue to give consumers a chance to\n                // await after calling .push\n                queueMicrotask(() => {\n                    drain.resolve();\n                    drain = deferred();\n                });\n            }\n        }\n    };\n    const bufferNext = (next) => {\n        if (onNext != null) {\n            return onNext(next);\n        }\n        buffer.push(next);\n        return pushable;\n    };\n    const bufferError = (err) => {\n        buffer = new FIFO();\n        if (onNext != null) {\n            return onNext({ error: err });\n        }\n        buffer.push({ error: err });\n        return pushable;\n    };\n    const push = (value) => {\n        if (ended) {\n            return pushable;\n        }\n        // @ts-expect-error `byteLength` is not declared on PushType\n        if (options?.objectMode !== true && value?.byteLength == null) {\n            throw new Error('objectMode was not true but tried to push non-Uint8Array value');\n        }\n        return bufferNext({ done: false, value });\n    };\n    const end = (err) => {\n        if (ended)\n            return pushable;\n        ended = true;\n        return (err != null) ? bufferError(err) : bufferNext({ done: true });\n    };\n    const _return = () => {\n        buffer = new FIFO();\n        end();\n        return { done: true };\n    };\n    const _throw = (err) => {\n        end(err);\n        return { done: true };\n    };\n    pushable = {\n        [Symbol.asyncIterator]() { return this; },\n        next: waitNext,\n        return: _return,\n        throw: _throw,\n        push,\n        end,\n        get readableLength() {\n            return buffer.size;\n        },\n        onEmpty: async (options) => {\n            const signal = options?.signal;\n            signal?.throwIfAborted();\n            if (buffer.isEmpty()) {\n                return;\n            }\n            let cancel;\n            let listener;\n            if (signal != null) {\n                cancel = new Promise((resolve, reject) => {\n                    listener = () => {\n                        reject(new AbortError());\n                    };\n                    signal.addEventListener('abort', listener);\n                });\n            }\n            try {\n                await Promise.race([\n                    drain.promise,\n                    cancel\n                ]);\n            }\n            finally {\n                if (listener != null && signal != null) {\n                    signal?.removeEventListener('abort', listener);\n                }\n            }\n        }\n    };\n    if (onEnd == null) {\n        return pushable;\n    }\n    const _pushable = pushable;\n    pushable = {\n        [Symbol.asyncIterator]() { return this; },\n        next() {\n            return _pushable.next();\n        },\n        throw(err) {\n            _pushable.throw(err);\n            if (onEnd != null) {\n                onEnd(err);\n                onEnd = undefined;\n            }\n            return { done: true };\n        },\n        return() {\n            _pushable.return();\n            if (onEnd != null) {\n                onEnd();\n                onEnd = undefined;\n            }\n            return { done: true };\n        },\n        push,\n        end(err) {\n            _pushable.end(err);\n            if (onEnd != null) {\n                onEnd(err);\n                onEnd = undefined;\n            }\n            return pushable;\n        },\n        get readableLength() {\n            return _pushable.readableLength;\n        }\n    };\n    return pushable;\n}\n//# sourceMappingURL=index.js.map","import filter from 'it-filter';\nimport merge from 'it-merge';\nimport sort from 'it-sort';\nimport take from 'it-take';\nimport { BaseDatastore } from './base.js';\nimport * as Errors from './errors.js';\n/**\n * A datastore that can combine multiple stores inside various\n * key prefixes\n */\nexport class MountDatastore extends BaseDatastore {\n    mounts;\n    constructor(mounts) {\n        super();\n        this.mounts = mounts.slice();\n    }\n    /**\n     * Lookup the matching datastore for the given key\n     */\n    _lookup(key) {\n        for (const mount of this.mounts) {\n            if (mount.prefix.toString() === key.toString() || mount.prefix.isAncestorOf(key)) {\n                return {\n                    datastore: mount.datastore,\n                    mountpoint: mount.prefix\n                };\n            }\n        }\n    }\n    async put(key, value, options) {\n        const match = this._lookup(key);\n        if (match == null) {\n            throw Errors.dbWriteFailedError(new Error('No datastore mounted for this key'));\n        }\n        await match.datastore.put(key, value, options);\n        return key;\n    }\n    /**\n     * @param {Key} key\n     * @param {Options} [options]\n     */\n    async get(key, options = {}) {\n        const match = this._lookup(key);\n        if (match == null) {\n            throw Errors.notFoundError(new Error('No datastore mounted for this key'));\n        }\n        return match.datastore.get(key, options);\n    }\n    async has(key, options) {\n        const match = this._lookup(key);\n        if (match == null) {\n            return Promise.resolve(false);\n        }\n        return match.datastore.has(key, options);\n    }\n    async delete(key, options) {\n        const match = this._lookup(key);\n        if (match == null) {\n            throw Errors.dbDeleteFailedError(new Error('No datastore mounted for this key'));\n        }\n        await match.datastore.delete(key, options);\n    }\n    batch() {\n        const batchMounts = {};\n        const lookup = (key) => {\n            const match = this._lookup(key);\n            if (match == null) {\n                throw new Error('No datastore mounted for this key');\n            }\n            const m = match.mountpoint.toString();\n            if (batchMounts[m] == null) {\n                batchMounts[m] = match.datastore.batch();\n            }\n            return {\n                batch: batchMounts[m]\n            };\n        };\n        return {\n            put: (key, value) => {\n                const match = lookup(key);\n                match.batch.put(key, value);\n            },\n            delete: (key) => {\n                const match = lookup(key);\n                match.batch.delete(key);\n            },\n            commit: async (options) => {\n                await Promise.all(Object.keys(batchMounts).map(async (p) => { await batchMounts[p].commit(options); }));\n            }\n        };\n    }\n    query(q, options) {\n        const qs = this.mounts.map(m => {\n            return m.datastore.query({\n                prefix: q.prefix,\n                filters: q.filters\n            }, options);\n        });\n        let it = merge(...qs);\n        if (q.filters != null)\n            q.filters.forEach(f => { it = filter(it, f); });\n        if (q.orders != null)\n            q.orders.forEach(o => { it = sort(it, o); });\n        if (q.offset != null) {\n            let i = 0;\n            const offset = q.offset;\n            it = filter(it, () => i++ >= offset);\n        }\n        if (q.limit != null)\n            it = take(it, q.limit);\n        return it;\n    }\n    queryKeys(q, options) {\n        const qs = this.mounts.map(m => {\n            return m.datastore.queryKeys({\n                prefix: q.prefix,\n                filters: q.filters\n            }, options);\n        });\n        /** @type AsyncIterable<Key> */\n        let it = merge(...qs);\n        if (q.filters != null)\n            q.filters.forEach(f => { it = filter(it, f); });\n        if (q.orders != null)\n            q.orders.forEach(o => { it = sort(it, o); });\n        if (q.offset != null) {\n            let i = 0;\n            const offset = q.offset;\n            it = filter(it, () => i++ >= offset);\n        }\n        if (q.limit != null)\n            it = take(it, q.limit);\n        return it;\n    }\n}\n//# sourceMappingURL=mount.js.map","// base-x encoding / decoding\n// Copyright (c) 2018 base-x contributors\n// Copyright (c) 2014-2018 The Bitcoin Core developers (base58.cpp)\n// Distributed under the MIT software license, see the accompanying\n// file LICENSE or http://www.opensource.org/licenses/mit-license.php.\nfunction base (ALPHABET, name) {\n  if (ALPHABET.length >= 255) { throw new TypeError('Alphabet too long') }\n  var BASE_MAP = new Uint8Array(256);\n  for (var j = 0; j < BASE_MAP.length; j++) {\n    BASE_MAP[j] = 255;\n  }\n  for (var i = 0; i < ALPHABET.length; i++) {\n    var x = ALPHABET.charAt(i);\n    var xc = x.charCodeAt(0);\n    if (BASE_MAP[xc] !== 255) { throw new TypeError(x + ' is ambiguous') }\n    BASE_MAP[xc] = i;\n  }\n  var BASE = ALPHABET.length;\n  var LEADER = ALPHABET.charAt(0);\n  var FACTOR = Math.log(BASE) / Math.log(256); // log(BASE) / log(256), rounded up\n  var iFACTOR = Math.log(256) / Math.log(BASE); // log(256) / log(BASE), rounded up\n  function encode (source) {\n    if (source instanceof Uint8Array) ; else if (ArrayBuffer.isView(source)) {\n      source = new Uint8Array(source.buffer, source.byteOffset, source.byteLength);\n    } else if (Array.isArray(source)) {\n      source = Uint8Array.from(source);\n    }\n    if (!(source instanceof Uint8Array)) { throw new TypeError('Expected Uint8Array') }\n    if (source.length === 0) { return '' }\n        // Skip & count leading zeroes.\n    var zeroes = 0;\n    var length = 0;\n    var pbegin = 0;\n    var pend = source.length;\n    while (pbegin !== pend && source[pbegin] === 0) {\n      pbegin++;\n      zeroes++;\n    }\n        // Allocate enough space in big-endian base58 representation.\n    var size = ((pend - pbegin) * iFACTOR + 1) >>> 0;\n    var b58 = new Uint8Array(size);\n        // Process the bytes.\n    while (pbegin !== pend) {\n      var carry = source[pbegin];\n            // Apply \"b58 = b58 * 256 + ch\".\n      var i = 0;\n      for (var it1 = size - 1; (carry !== 0 || i < length) && (it1 !== -1); it1--, i++) {\n        carry += (256 * b58[it1]) >>> 0;\n        b58[it1] = (carry % BASE) >>> 0;\n        carry = (carry / BASE) >>> 0;\n      }\n      if (carry !== 0) { throw new Error('Non-zero carry') }\n      length = i;\n      pbegin++;\n    }\n        // Skip leading zeroes in base58 result.\n    var it2 = size - length;\n    while (it2 !== size && b58[it2] === 0) {\n      it2++;\n    }\n        // Translate the result into a string.\n    var str = LEADER.repeat(zeroes);\n    for (; it2 < size; ++it2) { str += ALPHABET.charAt(b58[it2]); }\n    return str\n  }\n  function decodeUnsafe (source) {\n    if (typeof source !== 'string') { throw new TypeError('Expected String') }\n    if (source.length === 0) { return new Uint8Array() }\n    var psz = 0;\n        // Skip leading spaces.\n    if (source[psz] === ' ') { return }\n        // Skip and count leading '1's.\n    var zeroes = 0;\n    var length = 0;\n    while (source[psz] === LEADER) {\n      zeroes++;\n      psz++;\n    }\n        // Allocate enough space in big-endian base256 representation.\n    var size = (((source.length - psz) * FACTOR) + 1) >>> 0; // log(58) / log(256), rounded up.\n    var b256 = new Uint8Array(size);\n        // Process the characters.\n    while (source[psz]) {\n            // Decode character\n      var carry = BASE_MAP[source.charCodeAt(psz)];\n            // Invalid character\n      if (carry === 255) { return }\n      var i = 0;\n      for (var it3 = size - 1; (carry !== 0 || i < length) && (it3 !== -1); it3--, i++) {\n        carry += (BASE * b256[it3]) >>> 0;\n        b256[it3] = (carry % 256) >>> 0;\n        carry = (carry / 256) >>> 0;\n      }\n      if (carry !== 0) { throw new Error('Non-zero carry') }\n      length = i;\n      psz++;\n    }\n        // Skip trailing spaces.\n    if (source[psz] === ' ') { return }\n        // Skip leading zeroes in b256.\n    var it4 = size - length;\n    while (it4 !== size && b256[it4] === 0) {\n      it4++;\n    }\n    var vch = new Uint8Array(zeroes + (size - it4));\n    var j = zeroes;\n    while (it4 !== size) {\n      vch[j++] = b256[it4++];\n    }\n    return vch\n  }\n  function decode (string) {\n    var buffer = decodeUnsafe(string);\n    if (buffer) { return buffer }\n    throw new Error(`Non-${name} character`)\n  }\n  return {\n    encode: encode,\n    decodeUnsafe: decodeUnsafe,\n    decode: decode\n  }\n}\nvar src = base;\n\nvar _brrp__multiformats_scope_baseX = src;\n\nexport default _brrp__multiformats_scope_baseX;\n","const empty = new Uint8Array(0)\n\n/**\n * @param {Uint8Array} d\n */\nconst toHex = d => d.reduce((hex, byte) => hex + byte.toString(16).padStart(2, '0'), '')\n\n/**\n * @param {string} hex\n */\nconst fromHex = hex => {\n  const hexes = hex.match(/../g)\n  return hexes ? new Uint8Array(hexes.map(b => parseInt(b, 16))) : empty\n}\n\n/**\n * @param {Uint8Array} aa\n * @param {Uint8Array} bb\n */\nconst equals = (aa, bb) => {\n  if (aa === bb) return true\n  if (aa.byteLength !== bb.byteLength) {\n    return false\n  }\n\n  for (let ii = 0; ii < aa.byteLength; ii++) {\n    if (aa[ii] !== bb[ii]) {\n      return false\n    }\n  }\n\n  return true\n}\n\n/**\n * @param {ArrayBufferView|ArrayBuffer|Uint8Array} o\n * @returns {Uint8Array}\n */\nconst coerce = o => {\n  if (o instanceof Uint8Array && o.constructor.name === 'Uint8Array') return o\n  if (o instanceof ArrayBuffer) return new Uint8Array(o)\n  if (ArrayBuffer.isView(o)) {\n    return new Uint8Array(o.buffer, o.byteOffset, o.byteLength)\n  }\n  throw new Error('Unknown type, must be binary type')\n}\n\n/**\n * @param {any} o\n * @returns {o is ArrayBuffer|ArrayBufferView}\n */\nconst isBinary = o =>\n  o instanceof ArrayBuffer || ArrayBuffer.isView(o)\n\n/**\n * @param {string} str\n * @returns {Uint8Array}\n */\nconst fromString = str => (new TextEncoder()).encode(str)\n\n/**\n * @param {Uint8Array} b\n * @returns {string}\n */\nconst toString = b => (new TextDecoder()).decode(b)\n\nexport { equals, coerce, isBinary, fromHex, toHex, fromString, toString, empty }\n","import basex from '../../vendor/base-x.js'\nimport { coerce } from '../bytes.js'\n// Linter can't see that API is used in types.\n// eslint-disable-next-line\nimport * as API from './interface.js'\n\n/**\n * Class represents both BaseEncoder and MultibaseEncoder meaning it\n * can be used to encode to multibase or base encode without multibase\n * prefix.\n *\n * @class\n * @template {string} Base\n * @template {string} Prefix\n * @implements {API.MultibaseEncoder<Prefix>}\n * @implements {API.BaseEncoder}\n */\nclass Encoder {\n  /**\n   * @param {Base} name\n   * @param {Prefix} prefix\n   * @param {(bytes:Uint8Array) => string} baseEncode\n   */\n  constructor (name, prefix, baseEncode) {\n    this.name = name\n    this.prefix = prefix\n    this.baseEncode = baseEncode\n  }\n\n  /**\n   * @param {Uint8Array} bytes\n   * @returns {API.Multibase<Prefix>}\n   */\n  encode (bytes) {\n    if (bytes instanceof Uint8Array) {\n      return `${this.prefix}${this.baseEncode(bytes)}`\n    } else {\n      throw Error('Unknown type, must be binary type')\n    }\n  }\n}\n\n/**\n * @template {string} Prefix\n */\n/**\n * Class represents both BaseDecoder and MultibaseDecoder so it could be used\n * to decode multibases (with matching prefix) or just base decode strings\n * with corresponding base encoding.\n *\n * @class\n * @template {string} Base\n * @template {string} Prefix\n * @implements {API.MultibaseDecoder<Prefix>}\n * @implements {API.UnibaseDecoder<Prefix>}\n * @implements {API.BaseDecoder}\n */\nclass Decoder {\n  /**\n   * @param {Base} name\n   * @param {Prefix} prefix\n   * @param {(text:string) => Uint8Array} baseDecode\n   */\n  constructor (name, prefix, baseDecode) {\n    this.name = name\n    this.prefix = prefix\n    /* c8 ignore next 3 */\n    if (prefix.codePointAt(0) === undefined) {\n      throw new Error('Invalid prefix character')\n    }\n    /** @private */\n    this.prefixCodePoint = /** @type {number} */ (prefix.codePointAt(0))\n    this.baseDecode = baseDecode\n  }\n\n  /**\n   * @param {string} text\n   */\n  decode (text) {\n    if (typeof text === 'string') {\n      if (text.codePointAt(0) !== this.prefixCodePoint) {\n        throw Error(`Unable to decode multibase string ${JSON.stringify(text)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`)\n      }\n      return this.baseDecode(text.slice(this.prefix.length))\n    } else {\n      throw Error('Can only multibase decode strings')\n    }\n  }\n\n  /**\n   * @template {string} OtherPrefix\n   * @param {API.UnibaseDecoder<OtherPrefix>|ComposedDecoder<OtherPrefix>} decoder\n   * @returns {ComposedDecoder<Prefix|OtherPrefix>}\n   */\n  or (decoder) {\n    return or(this, decoder)\n  }\n}\n\n/**\n * @template {string} Prefix\n * @typedef {Record<Prefix, API.UnibaseDecoder<Prefix>>} Decoders\n */\n\n/**\n * @template {string} Prefix\n * @implements {API.MultibaseDecoder<Prefix>}\n * @implements {API.CombobaseDecoder<Prefix>}\n */\nclass ComposedDecoder {\n  /**\n   * @param {Decoders<Prefix>} decoders\n   */\n  constructor (decoders) {\n    this.decoders = decoders\n  }\n\n  /**\n   * @template {string} OtherPrefix\n   * @param {API.UnibaseDecoder<OtherPrefix>|ComposedDecoder<OtherPrefix>} decoder\n   * @returns {ComposedDecoder<Prefix|OtherPrefix>}\n   */\n  or (decoder) {\n    return or(this, decoder)\n  }\n\n  /**\n   * @param {string} input\n   * @returns {Uint8Array}\n   */\n  decode (input) {\n    const prefix = /** @type {Prefix} */ (input[0])\n    const decoder = this.decoders[prefix]\n    if (decoder) {\n      return decoder.decode(input)\n    } else {\n      throw RangeError(`Unable to decode multibase string ${JSON.stringify(input)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)\n    }\n  }\n}\n\n/**\n * @template {string} L\n * @template {string} R\n * @param {API.UnibaseDecoder<L>|API.CombobaseDecoder<L>} left\n * @param {API.UnibaseDecoder<R>|API.CombobaseDecoder<R>} right\n * @returns {ComposedDecoder<L|R>}\n */\nexport const or = (left, right) => new ComposedDecoder(/** @type {Decoders<L|R>} */({\n  ...(left.decoders || { [/** @type API.UnibaseDecoder<L> */(left).prefix]: left }),\n  ...(right.decoders || { [/** @type API.UnibaseDecoder<R> */(right).prefix]: right })\n}))\n\n/**\n * @class\n * @template {string} Base\n * @template {string} Prefix\n * @implements {API.MultibaseCodec<Prefix>}\n * @implements {API.MultibaseEncoder<Prefix>}\n * @implements {API.MultibaseDecoder<Prefix>}\n * @implements {API.BaseCodec}\n * @implements {API.BaseEncoder}\n * @implements {API.BaseDecoder}\n */\nexport class Codec {\n  /**\n   * @param {Base} name\n   * @param {Prefix} prefix\n   * @param {(bytes:Uint8Array) => string} baseEncode\n   * @param {(text:string) => Uint8Array} baseDecode\n   */\n  constructor (name, prefix, baseEncode, baseDecode) {\n    this.name = name\n    this.prefix = prefix\n    this.baseEncode = baseEncode\n    this.baseDecode = baseDecode\n    this.encoder = new Encoder(name, prefix, baseEncode)\n    this.decoder = new Decoder(name, prefix, baseDecode)\n  }\n\n  /**\n   * @param {Uint8Array} input\n   */\n  encode (input) {\n    return this.encoder.encode(input)\n  }\n\n  /**\n   * @param {string} input\n   */\n  decode (input) {\n    return this.decoder.decode(input)\n  }\n}\n\n/**\n * @template {string} Base\n * @template {string} Prefix\n * @param {object} options\n * @param {Base} options.name\n * @param {Prefix} options.prefix\n * @param {(bytes:Uint8Array) => string} options.encode\n * @param {(input:string) => Uint8Array} options.decode\n * @returns {Codec<Base, Prefix>}\n */\nexport const from = ({ name, prefix, encode, decode }) =>\n  new Codec(name, prefix, encode, decode)\n\n/**\n * @template {string} Base\n * @template {string} Prefix\n * @param {object} options\n * @param {Base} options.name\n * @param {Prefix} options.prefix\n * @param {string} options.alphabet\n * @returns {Codec<Base, Prefix>}\n */\nexport const baseX = ({ prefix, name, alphabet }) => {\n  const { encode, decode } = basex(alphabet, name)\n  return from({\n    prefix,\n    name,\n    encode,\n    /**\n     * @param {string} text\n     */\n    decode: text => coerce(decode(text))\n  })\n}\n\n/**\n * @param {string} string\n * @param {string} alphabet\n * @param {number} bitsPerChar\n * @param {string} name\n * @returns {Uint8Array}\n */\nconst decode = (string, alphabet, bitsPerChar, name) => {\n  // Build the character lookup table:\n  /** @type {Record<string, number>} */\n  const codes = {}\n  for (let i = 0; i < alphabet.length; ++i) {\n    codes[alphabet[i]] = i\n  }\n\n  // Count the padding bytes:\n  let end = string.length\n  while (string[end - 1] === '=') {\n    --end\n  }\n\n  // Allocate the output:\n  const out = new Uint8Array((end * bitsPerChar / 8) | 0)\n\n  // Parse the data:\n  let bits = 0 // Number of bits currently in the buffer\n  let buffer = 0 // Bits waiting to be written out, MSB first\n  let written = 0 // Next byte to write\n  for (let i = 0; i < end; ++i) {\n    // Read one character from the string:\n    const value = codes[string[i]]\n    if (value === undefined) {\n      throw new SyntaxError(`Non-${name} character`)\n    }\n\n    // Append the bits to the buffer:\n    buffer = (buffer << bitsPerChar) | value\n    bits += bitsPerChar\n\n    // Write out some bits if the buffer has a byte's worth:\n    if (bits >= 8) {\n      bits -= 8\n      out[written++] = 0xff & (buffer >> bits)\n    }\n  }\n\n  // Verify that we have received just enough bits:\n  if (bits >= bitsPerChar || 0xff & (buffer << (8 - bits))) {\n    throw new SyntaxError('Unexpected end of data')\n  }\n\n  return out\n}\n\n/**\n * @param {Uint8Array} data\n * @param {string} alphabet\n * @param {number} bitsPerChar\n * @returns {string}\n */\nconst encode = (data, alphabet, bitsPerChar) => {\n  const pad = alphabet[alphabet.length - 1] === '='\n  const mask = (1 << bitsPerChar) - 1\n  let out = ''\n\n  let bits = 0 // Number of bits currently in the buffer\n  let buffer = 0 // Bits waiting to be written out, MSB first\n  for (let i = 0; i < data.length; ++i) {\n    // Slurp data into the buffer:\n    buffer = (buffer << 8) | data[i]\n    bits += 8\n\n    // Write out as much as we can:\n    while (bits > bitsPerChar) {\n      bits -= bitsPerChar\n      out += alphabet[mask & (buffer >> bits)]\n    }\n  }\n\n  // Partial character:\n  if (bits) {\n    out += alphabet[mask & (buffer << (bitsPerChar - bits))]\n  }\n\n  // Add padding characters until we hit a byte boundary:\n  if (pad) {\n    while ((out.length * bitsPerChar) & 7) {\n      out += '='\n    }\n  }\n\n  return out\n}\n\n/**\n * RFC4648 Factory\n *\n * @template {string} Base\n * @template {string} Prefix\n * @param {object} options\n * @param {Base} options.name\n * @param {Prefix} options.prefix\n * @param {string} options.alphabet\n * @param {number} options.bitsPerChar\n */\nexport const rfc4648 = ({ name, prefix, bitsPerChar, alphabet }) => {\n  return from({\n    prefix,\n    name,\n    encode (input) {\n      return encode(input, alphabet, bitsPerChar)\n    },\n    decode (input) {\n      return decode(input, alphabet, bitsPerChar, name)\n    }\n  })\n}\n","import { rfc4648 } from './base.js'\n\nexport const base32 = rfc4648({\n  prefix: 'b',\n  name: 'base32',\n  alphabet: 'abcdefghijklmnopqrstuvwxyz234567',\n  bitsPerChar: 5\n})\n\nexport const base32upper = rfc4648({\n  prefix: 'B',\n  name: 'base32upper',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ234567',\n  bitsPerChar: 5\n})\n\nexport const base32pad = rfc4648({\n  prefix: 'c',\n  name: 'base32pad',\n  alphabet: 'abcdefghijklmnopqrstuvwxyz234567=',\n  bitsPerChar: 5\n})\n\nexport const base32padupper = rfc4648({\n  prefix: 'C',\n  name: 'base32padupper',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=',\n  bitsPerChar: 5\n})\n\nexport const base32hex = rfc4648({\n  prefix: 'v',\n  name: 'base32hex',\n  alphabet: '0123456789abcdefghijklmnopqrstuv',\n  bitsPerChar: 5\n})\n\nexport const base32hexupper = rfc4648({\n  prefix: 'V',\n  name: 'base32hexupper',\n  alphabet: '0123456789ABCDEFGHIJKLMNOPQRSTUV',\n  bitsPerChar: 5\n})\n\nexport const base32hexpad = rfc4648({\n  prefix: 't',\n  name: 'base32hexpad',\n  alphabet: '0123456789abcdefghijklmnopqrstuv=',\n  bitsPerChar: 5\n})\n\nexport const base32hexpadupper = rfc4648({\n  prefix: 'T',\n  name: 'base32hexpadupper',\n  alphabet: '0123456789ABCDEFGHIJKLMNOPQRSTUV=',\n  bitsPerChar: 5\n})\n\nexport const base32z = rfc4648({\n  prefix: 'h',\n  name: 'base32z',\n  alphabet: 'ybndrfg8ejkmcpqxot1uwisza345h769',\n  bitsPerChar: 5\n})\n","import { baseX } from './base.js'\n\nexport const base58btc = baseX({\n  name: 'base58btc',\n  prefix: 'z',\n  alphabet: '123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz'\n})\n\nexport const base58flickr = baseX({\n  name: 'base58flickr',\n  prefix: 'Z',\n  alphabet: '123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ'\n})\n","// @ts-check\n\nimport { rfc4648 } from './base.js'\n\nexport const base64 = rfc4648({\n  prefix: 'm',\n  name: 'base64',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',\n  bitsPerChar: 6\n})\n\nexport const base64pad = rfc4648({\n  prefix: 'M',\n  name: 'base64pad',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=',\n  bitsPerChar: 6\n})\n\nexport const base64url = rfc4648({\n  prefix: 'u',\n  name: 'base64url',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_',\n  bitsPerChar: 6\n})\n\nexport const base64urlpad = rfc4648({\n  prefix: 'U',\n  name: 'base64urlpad',\n  alphabet: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=',\n  bitsPerChar: 6\n})\n","import debug from 'debug';\nimport { base32 } from 'multiformats/bases/base32';\nimport { base58btc } from 'multiformats/bases/base58';\nimport { base64 } from 'multiformats/bases/base64';\n// Add a formatter for converting to a base58 string\ndebug.formatters.b = (v) => {\n    return v == null ? 'undefined' : base58btc.baseEncode(v);\n};\n// Add a formatter for converting to a base32 string\ndebug.formatters.t = (v) => {\n    return v == null ? 'undefined' : base32.baseEncode(v);\n};\n// Add a formatter for converting to a base64 string\ndebug.formatters.m = (v) => {\n    return v == null ? 'undefined' : base64.baseEncode(v);\n};\n// Add a formatter for stringifying peer ids\ndebug.formatters.p = (v) => {\n    return v == null ? 'undefined' : v.toString();\n};\n// Add a formatter for stringifying CIDs\ndebug.formatters.c = (v) => {\n    return v == null ? 'undefined' : v.toString();\n};\n// Add a formatter for stringifying Datastore keys\ndebug.formatters.k = (v) => {\n    return v == null ? 'undefined' : v.toString();\n};\n// Add a formatter for stringifying Multiaddrs\ndebug.formatters.a = (v) => {\n    return v == null ? 'undefined' : v.toString();\n};\nfunction createDisabledLogger(namespace) {\n    const logger = () => { };\n    logger.enabled = false;\n    logger.color = '';\n    logger.diff = 0;\n    logger.log = () => { };\n    logger.namespace = namespace;\n    logger.destroy = () => true;\n    logger.extend = () => logger;\n    return logger;\n}\nexport function logger(name) {\n    // trace logging is a no-op by default\n    let trace = createDisabledLogger(`${name}:trace`);\n    // look at all the debug names and see if trace logging has explicitly been enabled\n    if (debug.enabled(`${name}:trace`) && debug.names.map(r => r.toString()).find(n => n.includes(':trace')) != null) {\n        trace = debug(`${name}:trace`);\n    }\n    return Object.assign(debug(name), {\n        error: debug(`${name}:error`),\n        trace\n    });\n}\nexport function disable() {\n    debug.disable();\n}\nexport function enable(namespaces) {\n    debug.enable(namespaces);\n}\nexport function enabled(namespaces) {\n    return debug.enabled(namespaces);\n}\n//# sourceMappingURL=index.js.map","import { logger } from '@libp2p/logger';\nimport drain from 'it-drain';\nimport { pushable } from 'it-pushable';\nimport { BaseDatastore } from './base.js';\nimport * as Errors from './errors.js';\nconst log = logger('datastore:core:tiered');\n/**\n * A datastore that can combine multiple stores. Puts and deletes\n * will write through to all datastores. Has and get will\n * try each store sequentially. Query will always try the\n * last one first.\n *\n */\nexport class TieredDatastore extends BaseDatastore {\n    stores;\n    constructor(stores) {\n        super();\n        this.stores = stores.slice();\n    }\n    async put(key, value, options) {\n        try {\n            await Promise.all(this.stores.map(async (store) => { await store.put(key, value, options); }));\n            return key;\n        }\n        catch (err) {\n            throw Errors.dbWriteFailedError(err);\n        }\n    }\n    async get(key, options) {\n        for (const store of this.stores) {\n            try {\n                const res = await store.get(key, options);\n                if (res != null)\n                    return res;\n            }\n            catch (err) {\n                log.error(err);\n            }\n        }\n        throw Errors.notFoundError();\n    }\n    async has(key, options) {\n        for (const s of this.stores) {\n            if (await s.has(key, options)) {\n                return true;\n            }\n        }\n        return false;\n    }\n    async delete(key, options) {\n        try {\n            await Promise.all(this.stores.map(async (store) => { await store.delete(key, options); }));\n        }\n        catch (err) {\n            throw Errors.dbDeleteFailedError(err);\n        }\n    }\n    async *putMany(source, options = {}) {\n        let error;\n        const pushables = this.stores.map(store => {\n            const source = pushable({\n                objectMode: true\n            });\n            drain(store.putMany(source, options))\n                .catch(err => {\n                // store threw while putting, make sure we bubble the error up\n                error = err;\n            });\n            return source;\n        });\n        try {\n            for await (const pair of source) {\n                if (error != null) {\n                    throw error;\n                }\n                pushables.forEach(p => p.push(pair));\n                yield pair.key;\n            }\n        }\n        finally {\n            pushables.forEach(p => p.end());\n        }\n    }\n    async *deleteMany(source, options = {}) {\n        let error;\n        const pushables = this.stores.map(store => {\n            const source = pushable({\n                objectMode: true\n            });\n            drain(store.deleteMany(source, options))\n                .catch(err => {\n                // store threw while deleting, make sure we bubble the error up\n                error = err;\n            });\n            return source;\n        });\n        try {\n            for await (const key of source) {\n                if (error != null) {\n                    throw error;\n                }\n                pushables.forEach(p => p.push(key));\n                yield key;\n            }\n        }\n        finally {\n            pushables.forEach(p => p.end());\n        }\n    }\n    batch() {\n        const batches = this.stores.map(store => store.batch());\n        return {\n            put: (key, value) => {\n                batches.forEach(b => { b.put(key, value); });\n            },\n            delete: (key) => {\n                batches.forEach(b => { b.delete(key); });\n            },\n            commit: async (options) => {\n                for (const batch of batches) {\n                    await batch.commit(options);\n                }\n            }\n        };\n    }\n    query(q, options) {\n        return this.stores[this.stores.length - 1].query(q, options);\n    }\n    queryKeys(q, options) {\n        return this.stores[this.stores.length - 1].queryKeys(q, options);\n    }\n}\n//# sourceMappingURL=tiered.js.map","import { Key } from 'interface-datastore/key';\nimport { BaseDatastore } from './base.js';\nimport * as Errors from './errors.js';\nexport class MemoryDatastore extends BaseDatastore {\n    data;\n    constructor() {\n        super();\n        this.data = new Map();\n    }\n    put(key, val) {\n        this.data.set(key.toString(), val);\n        return key;\n    }\n    get(key) {\n        const result = this.data.get(key.toString());\n        if (result == null) {\n            throw Errors.notFoundError();\n        }\n        return result;\n    }\n    has(key) {\n        return this.data.has(key.toString());\n    }\n    delete(key) {\n        this.data.delete(key.toString());\n    }\n    *_all() {\n        for (const [key, value] of this.data.entries()) {\n            yield { key: new Key(key), value };\n        }\n    }\n    *_allKeys() {\n        for (const key of this.data.keys()) {\n            yield new Key(key);\n        }\n    }\n}\n//# sourceMappingURL=memory.js.map","import { nanoid } from 'nanoid';\nimport { fromString as uint8ArrayFromString } from 'uint8arrays/from-string';\nimport { toString as uint8ArrayToString } from 'uint8arrays/to-string';\nconst pathSepS = '/';\nconst pathSepB = new TextEncoder().encode(pathSepS);\nconst pathSep = pathSepB[0];\n/**\n * A Key represents the unique identifier of an object.\n * Our Key scheme is inspired by file systems and Google App Engine key model.\n * Keys are meant to be unique across a system. Keys are hierarchical,\n * incorporating more and more specific namespaces. Thus keys can be deemed\n * 'children' or 'ancestors' of other keys:\n * - `new Key('/Comedy')`\n * - `new Key('/Comedy/MontyPython')`\n * Also, every namespace can be parametrized to embed relevant object\n * information. For example, the Key `name` (most specific namespace) could\n * include the object type:\n * - `new Key('/Comedy/MontyPython/Actor:JohnCleese')`\n * - `new Key('/Comedy/MontyPython/Sketch:CheeseShop')`\n * - `new Key('/Comedy/MontyPython/Sketch:CheeseShop/Character:Mousebender')`\n *\n */\nexport class Key {\n    _buf;\n    /**\n     * @param {string | Uint8Array} s\n     * @param {boolean} [clean]\n     */\n    constructor(s, clean) {\n        if (typeof s === 'string') {\n            this._buf = uint8ArrayFromString(s);\n        }\n        else if (s instanceof Uint8Array) {\n            this._buf = s;\n        }\n        else {\n            throw new Error('Invalid key, should be String of Uint8Array');\n        }\n        if (clean == null) {\n            clean = true;\n        }\n        if (clean) {\n            this.clean();\n        }\n        if (this._buf.byteLength === 0 || this._buf[0] !== pathSep) {\n            throw new Error('Invalid key');\n        }\n    }\n    /**\n     * Convert to the string representation\n     *\n     * @param {import('uint8arrays/to-string').SupportedEncodings} [encoding='utf8'] - The encoding to use.\n     * @returns {string}\n     */\n    toString(encoding = 'utf8') {\n        return uint8ArrayToString(this._buf, encoding);\n    }\n    /**\n     * Return the Uint8Array representation of the key\n     *\n     * @returns {Uint8Array}\n     */\n    uint8Array() {\n        return this._buf;\n    }\n    /**\n     * Return string representation of the key\n     *\n     * @returns {string}\n     */\n    get [Symbol.toStringTag]() {\n        return `Key(${this.toString()})`;\n    }\n    /**\n     * Constructs a key out of a namespace array.\n     *\n     * @param {Array<string>} list - The array of namespaces\n     * @returns {Key}\n     *\n     * @example\n     * ```js\n     * Key.withNamespaces(['one', 'two'])\n     * // => Key('/one/two')\n     * ```\n     */\n    static withNamespaces(list) {\n        return new Key(list.join(pathSepS));\n    }\n    /**\n     * Returns a randomly (uuid) generated key.\n     *\n     * @returns {Key}\n     *\n     * @example\n     * ```js\n     * Key.random()\n     * // => Key('/f98719ea086343f7b71f32ea9d9d521d')\n     * ```\n     */\n    static random() {\n        return new Key(nanoid().replace(/-/g, ''));\n    }\n    /**\n     * @param {*} other\n     */\n    static asKey(other) {\n        if (other instanceof Uint8Array || typeof other === 'string') {\n            // we can create a key from this\n            return new Key(other);\n        }\n        if (typeof other.uint8Array === 'function') {\n            // this is an older version or may have crossed the esm/cjs boundary\n            return new Key(other.uint8Array());\n        }\n        return null;\n    }\n    /**\n     * Cleanup the current key\n     *\n     * @returns {void}\n     */\n    clean() {\n        if (this._buf == null || this._buf.byteLength === 0) {\n            this._buf = pathSepB;\n        }\n        if (this._buf[0] !== pathSep) {\n            const bytes = new Uint8Array(this._buf.byteLength + 1);\n            bytes.fill(pathSep, 0, 1);\n            bytes.set(this._buf, 1);\n            this._buf = bytes;\n        }\n        // normalize does not remove trailing slashes\n        while (this._buf.byteLength > 1 && this._buf[this._buf.byteLength - 1] === pathSep) {\n            this._buf = this._buf.subarray(0, -1);\n        }\n    }\n    /**\n     * Check if the given key is sorted lower than ourself.\n     *\n     * @param {Key} key - The other Key to check against\n     * @returns {boolean}\n     */\n    less(key) {\n        const list1 = this.list();\n        const list2 = key.list();\n        for (let i = 0; i < list1.length; i++) {\n            if (list2.length < i + 1) {\n                return false;\n            }\n            const c1 = list1[i];\n            const c2 = list2[i];\n            if (c1 < c2) {\n                return true;\n            }\n            else if (c1 > c2) {\n                return false;\n            }\n        }\n        return list1.length < list2.length;\n    }\n    /**\n     * Returns the key with all parts in reversed order.\n     *\n     * @returns {Key}\n     *\n     * @example\n     * ```js\n     * new Key('/Comedy/MontyPython/Actor:JohnCleese').reverse()\n     * // => Key('/Actor:JohnCleese/MontyPython/Comedy')\n     * ```\n     */\n    reverse() {\n        return Key.withNamespaces(this.list().slice().reverse());\n    }\n    /**\n     * Returns the `namespaces` making up this Key.\n     *\n     * @returns {Array<string>}\n     */\n    namespaces() {\n        return this.list();\n    }\n    /** Returns the \"base\" namespace of this key.\n     *\n     * @returns {string}\n     *\n     * @example\n     * ```js\n     * new Key('/Comedy/MontyPython/Actor:JohnCleese').baseNamespace()\n     * // => 'Actor:JohnCleese'\n     * ```\n     */\n    baseNamespace() {\n        const ns = this.namespaces();\n        return ns[ns.length - 1];\n    }\n    /**\n     * Returns the `list` representation of this key.\n     *\n     * @returns {Array<string>}\n     *\n     * @example\n     * ```js\n     * new Key('/Comedy/MontyPython/Actor:JohnCleese').list()\n     * // => ['Comedy', 'MontyPythong', 'Actor:JohnCleese']\n     * ```\n     */\n    list() {\n        return this.toString().split(pathSepS).slice(1);\n    }\n    /**\n     * Returns the \"type\" of this key (value of last namespace).\n     *\n     * @returns {string}\n     *\n     * @example\n     * ```js\n     * new Key('/Comedy/MontyPython/Actor:JohnCleese').type()\n     * // => 'Actor'\n     * ```\n     */\n    type() {\n        return namespaceType(this.baseNamespace());\n    }\n    /**\n     * Returns the \"name\" of this key (field of last namespace).\n     *\n     * @returns {string}\n     *\n     * @example\n     * ```js\n     * new Key('/Comedy/MontyPython/Actor:JohnCleese').name()\n     * // => 'JohnCleese'\n     * ```\n     */\n    name() {\n        return namespaceValue(this.baseNamespace());\n    }\n    /**\n     * Returns an \"instance\" of this type key (appends value to namespace).\n     *\n     * @param {string} s - The string to append.\n     * @returns {Key}\n     *\n     * @example\n     * ```js\n     * new Key('/Comedy/MontyPython/Actor').instance('JohnClesse')\n     * // => Key('/Comedy/MontyPython/Actor:JohnCleese')\n     * ```\n     */\n    instance(s) {\n        return new Key(this.toString() + ':' + s);\n    }\n    /**\n     * Returns the \"path\" of this key (parent + type).\n     *\n     * @returns {Key}\n     *\n     * @example\n     * ```js\n     * new Key('/Comedy/MontyPython/Actor:JohnCleese').path()\n     * // => Key('/Comedy/MontyPython/Actor')\n     * ```\n     */\n    path() {\n        let p = this.parent().toString();\n        if (!p.endsWith(pathSepS)) {\n            p += pathSepS;\n        }\n        p += this.type();\n        return new Key(p);\n    }\n    /**\n     * Returns the `parent` Key of this Key.\n     *\n     * @returns {Key}\n     *\n     * @example\n     * ```js\n     * new Key(\"/Comedy/MontyPython/Actor:JohnCleese\").parent()\n     * // => Key(\"/Comedy/MontyPython\")\n     * ```\n     */\n    parent() {\n        const list = this.list();\n        if (list.length === 1) {\n            return new Key(pathSepS);\n        }\n        return new Key(list.slice(0, -1).join(pathSepS));\n    }\n    /**\n     * Returns the `child` Key of this Key.\n     *\n     * @param {Key} key - The child Key to add\n     * @returns {Key}\n     *\n     * @example\n     * ```js\n     * new Key('/Comedy/MontyPython').child(new Key('Actor:JohnCleese'))\n     * // => Key('/Comedy/MontyPython/Actor:JohnCleese')\n     * ```\n     */\n    child(key) {\n        if (this.toString() === pathSepS) {\n            return key;\n        }\n        else if (key.toString() === pathSepS) {\n            return this;\n        }\n        return new Key(this.toString() + key.toString(), false);\n    }\n    /**\n     * Returns whether this key is a prefix of `other`\n     *\n     * @param {Key} other - The other key to test against\n     * @returns {boolean}\n     *\n     * @example\n     * ```js\n     * new Key('/Comedy').isAncestorOf('/Comedy/MontyPython')\n     * // => true\n     * ```\n     */\n    isAncestorOf(other) {\n        if (other.toString() === this.toString()) {\n            return false;\n        }\n        return other.toString().startsWith(this.toString());\n    }\n    /**\n     * Returns whether this key is a contains another as prefix.\n     *\n     * @param {Key} other - The other Key to test against\n     * @returns {boolean}\n     *\n     * @example\n     * ```js\n     * new Key('/Comedy/MontyPython').isDecendantOf('/Comedy')\n     * // => true\n     * ```\n     */\n    isDecendantOf(other) {\n        if (other.toString() === this.toString()) {\n            return false;\n        }\n        return this.toString().startsWith(other.toString());\n    }\n    /**\n     * Checks if this key has only one namespace.\n     *\n     * @returns {boolean}\n     */\n    isTopLevel() {\n        return this.list().length === 1;\n    }\n    /**\n     * Concats one or more Keys into one new Key.\n     *\n     * @param {Array<Key>} keys - The array of keys to concatenate\n     * @returns {Key}\n     */\n    concat(...keys) {\n        return Key.withNamespaces([...this.namespaces(), ...flatten(keys.map(key => key.namespaces()))]);\n    }\n}\n/**\n * The first component of a namespace. `foo` in `foo:bar`\n *\n * @param {string} ns\n * @returns {string}\n */\nfunction namespaceType(ns) {\n    const parts = ns.split(':');\n    if (parts.length < 2) {\n        return '';\n    }\n    return parts.slice(0, -1).join(':');\n}\n/**\n * The last component of a namespace, `baz` in `foo:bar:baz`.\n *\n * @param {string} ns\n * @returns {string}\n */\nfunction namespaceValue(ns) {\n    const parts = ns.split(':');\n    return parts[parts.length - 1];\n}\n/**\n * Flatten array of arrays (only one level)\n *\n * @template T\n * @param {Array<any>} arr\n * @returns {T[]}\n */\nfunction flatten(arr) {\n    return ([]).concat(...arr);\n}\n//# sourceMappingURL=key.js.map","export { urlAlphabet } from './url-alphabet/index.js'\nexport let random = bytes => crypto.getRandomValues(new Uint8Array(bytes))\nexport let customRandom = (alphabet, defaultSize, getRandom) => {\n  let mask = (2 << (Math.log(alphabet.length - 1) / Math.LN2)) - 1\n  let step = -~((1.6 * mask * defaultSize) / alphabet.length)\n  return (size = defaultSize) => {\n    let id = ''\n    while (true) {\n      let bytes = getRandom(step)\n      let j = step\n      while (j--) {\n        id += alphabet[bytes[j] & mask] || ''\n        if (id.length === size) return id\n      }\n    }\n  }\n}\nexport let customAlphabet = (alphabet, size = 21) =>\n  customRandom(alphabet, size, random)\nexport let nanoid = (size = 21) =>\n  crypto.getRandomValues(new Uint8Array(size)).reduce((id, byte) => {\n    byte &= 63\n    if (byte < 36) {\n      id += byte.toString(36)\n    } else if (byte < 62) {\n      id += (byte - 26).toString(36).toUpperCase()\n    } else if (byte > 62) {\n      id += '-'\n    } else {\n      id += '_'\n    }\n    return id\n  }, '')\n","function isAsyncIterable(thing) {\n    return thing[Symbol.asyncIterator] != null;\n}\nfunction drain(source) {\n    if (isAsyncIterable(source)) {\n        return (async () => {\n            for await (const _ of source) { } // eslint-disable-line no-unused-vars,no-empty,@typescript-eslint/no-unused-vars\n        })();\n    }\n    else {\n        for (const _ of source) { } // eslint-disable-line no-unused-vars,no-empty,@typescript-eslint/no-unused-vars\n    }\n}\nexport default drain;\n//# sourceMappingURL=index.js.map","import peek from 'it-peekable';\nfunction isAsyncIterable(thing) {\n    return thing[Symbol.asyncIterator] != null;\n}\nfunction filter(source, fn) {\n    if (isAsyncIterable(source)) {\n        return (async function* () {\n            for await (const entry of source) {\n                if (await fn(entry)) {\n                    yield entry;\n                }\n            }\n        })();\n    }\n    // if mapping function returns a promise we have to return an async generator\n    const peekable = peek(source);\n    const { value, done } = peekable.next();\n    if (done === true) {\n        return (function* () { }());\n    }\n    const res = fn(value);\n    // @ts-expect-error .then is not present on O\n    if (typeof res.then === 'function') {\n        return (async function* () {\n            if (await res) {\n                yield value;\n            }\n            for await (const entry of peekable) {\n                if (await fn(entry)) {\n                    yield entry;\n                }\n            }\n        })();\n    }\n    const func = fn;\n    return (function* () {\n        if (res === true) {\n            yield value;\n        }\n        for (const entry of peekable) {\n            if (func(entry)) {\n                yield entry;\n            }\n        }\n    })();\n}\nexport default filter;\n//# sourceMappingURL=index.js.map","function isAsyncIterable(thing) {\n    return thing[Symbol.asyncIterator] != null;\n}\nfunction all(source) {\n    if (isAsyncIterable(source)) {\n        return (async () => {\n            const arr = [];\n            for await (const entry of source) {\n                arr.push(entry);\n            }\n            return arr;\n        })();\n    }\n    const arr = [];\n    for (const entry of source) {\n        arr.push(entry);\n    }\n    return arr;\n}\nexport default all;\n//# sourceMappingURL=index.js.map","import all from 'it-all';\nfunction isAsyncIterable(thing) {\n    return thing[Symbol.asyncIterator] != null;\n}\nfunction sort(source, sorter) {\n    if (isAsyncIterable(source)) {\n        return (async function* () {\n            const arr = await all(source);\n            yield* arr.sort(sorter);\n        })();\n    }\n    return (function* () {\n        const arr = all(source);\n        yield* arr.sort(sorter);\n    })();\n}\nexport default sort;\n//# sourceMappingURL=index.js.map","function isAsyncIterable(thing) {\n    return thing[Symbol.asyncIterator] != null;\n}\nfunction take(source, limit) {\n    if (isAsyncIterable(source)) {\n        return (async function* () {\n            let items = 0;\n            if (limit < 1) {\n                return;\n            }\n            for await (const entry of source) {\n                yield entry;\n                items++;\n                if (items === limit) {\n                    return;\n                }\n            }\n        })();\n    }\n    return (function* () {\n        let items = 0;\n        if (limit < 1) {\n            return;\n        }\n        for (const entry of source) {\n            yield entry;\n            items++;\n            if (items === limit) {\n                return;\n            }\n        }\n    })();\n}\nexport default take;\n//# sourceMappingURL=index.js.map","import { nanoid } from 'nanoid';\nimport { toString as uint8ArrayToString } from 'uint8arrays/to-string';\nimport { fromString as uint8ArrayFromString } from 'uint8arrays/from-string';\nconst pathSepS = '/';\nconst pathSepB = new TextEncoder().encode(pathSepS);\nconst pathSep = pathSepB[0];\n/**\n * A Key represents the unique identifier of an object.\n * Our Key scheme is inspired by file systems and Google App Engine key model.\n * Keys are meant to be unique across a system. Keys are hierarchical,\n * incorporating more and more specific namespaces. Thus keys can be deemed\n * 'children' or 'ancestors' of other keys:\n * - `new Key('/Comedy')`\n * - `new Key('/Comedy/MontyPython')`\n * Also, every namespace can be parametrized to embed relevant object\n * information. For example, the Key `name` (most specific namespace) could\n * include the object type:\n * - `new Key('/Comedy/MontyPython/Actor:JohnCleese')`\n * - `new Key('/Comedy/MontyPython/Sketch:CheeseShop')`\n * - `new Key('/Comedy/MontyPython/Sketch:CheeseShop/Character:Mousebender')`\n *\n */\nexport class Key {\n    /**\n     * @param {string | Uint8Array} s\n     * @param {boolean} [clean]\n     */\n    constructor(s, clean) {\n        if (typeof s === 'string') {\n            this._buf = uint8ArrayFromString(s);\n        }\n        else if (s instanceof Uint8Array) {\n            this._buf = s;\n        }\n        else {\n            throw new Error('Invalid key, should be String of Uint8Array');\n        }\n        if (clean == null) {\n            clean = true;\n        }\n        if (clean) {\n            this.clean();\n        }\n        if (this._buf.byteLength === 0 || this._buf[0] !== pathSep) {\n            throw new Error('Invalid key');\n        }\n    }\n    /**\n     * Convert to the string representation\n     *\n     * @param {import('uint8arrays/to-string').SupportedEncodings} [encoding='utf8'] - The encoding to use.\n     * @returns {string}\n     */\n    toString(encoding = 'utf8') {\n        return uint8ArrayToString(this._buf, encoding);\n    }\n    /**\n     * Return the Uint8Array representation of the key\n     *\n     * @returns {Uint8Array}\n     */\n    uint8Array() {\n        return this._buf;\n    }\n    /**\n     * Return string representation of the key\n     *\n     * @returns {string}\n     */\n    get [Symbol.toStringTag]() {\n        return `Key(${this.toString()})`;\n    }\n    /**\n     * Constructs a key out of a namespace array.\n     *\n     * @param {Array<string>} list - The array of namespaces\n     * @returns {Key}\n     *\n     * @example\n     * ```js\n     * Key.withNamespaces(['one', 'two'])\n     * // => Key('/one/two')\n     * ```\n     */\n    static withNamespaces(list) {\n        return new Key(list.join(pathSepS));\n    }\n    /**\n     * Returns a randomly (uuid) generated key.\n     *\n     * @returns {Key}\n     *\n     * @example\n     * ```js\n     * Key.random()\n     * // => Key('/f98719ea086343f7b71f32ea9d9d521d')\n     * ```\n     */\n    static random() {\n        return new Key(nanoid().replace(/-/g, ''));\n    }\n    /**\n     * @param {*} other\n     */\n    static asKey(other) {\n        if (other instanceof Uint8Array || typeof other === 'string') {\n            // we can create a key from this\n            return new Key(other);\n        }\n        if (typeof other.uint8Array === 'function') {\n            // this is an older version or may have crossed the esm/cjs boundary\n            return new Key(other.uint8Array());\n        }\n        return null;\n    }\n    /**\n     * Cleanup the current key\n     *\n     * @returns {void}\n     */\n    clean() {\n        if (this._buf == null || this._buf.byteLength === 0) {\n            this._buf = pathSepB;\n        }\n        if (this._buf[0] !== pathSep) {\n            const bytes = new Uint8Array(this._buf.byteLength + 1);\n            bytes.fill(pathSep, 0, 1);\n            bytes.set(this._buf, 1);\n            this._buf = bytes;\n        }\n        // normalize does not remove trailing slashes\n        while (this._buf.byteLength > 1 && this._buf[this._buf.byteLength - 1] === pathSep) {\n            this._buf = this._buf.subarray(0, -1);\n        }\n    }\n    /**\n     * Check if the given key is sorted lower than ourself.\n     *\n     * @param {Key} key - The other Key to check against\n     * @returns {boolean}\n     */\n    less(key) {\n        const list1 = this.list();\n        const list2 = key.list();\n        for (let i = 0; i < list1.length; i++) {\n            if (list2.length < i + 1) {\n                return false;\n            }\n            const c1 = list1[i];\n            const c2 = list2[i];\n            if (c1 < c2) {\n                return true;\n            }\n            else if (c1 > c2) {\n                return false;\n            }\n        }\n        return list1.length < list2.length;\n    }\n    /**\n     * Returns the key with all parts in reversed order.\n     *\n     * @returns {Key}\n     *\n     * @example\n     * ```js\n     * new Key('/Comedy/MontyPython/Actor:JohnCleese').reverse()\n     * // => Key('/Actor:JohnCleese/MontyPython/Comedy')\n     * ```\n     */\n    reverse() {\n        return Key.withNamespaces(this.list().slice().reverse());\n    }\n    /**\n     * Returns the `namespaces` making up this Key.\n     *\n     * @returns {Array<string>}\n     */\n    namespaces() {\n        return this.list();\n    }\n    /** Returns the \"base\" namespace of this key.\n     *\n     * @returns {string}\n     *\n     * @example\n     * ```js\n     * new Key('/Comedy/MontyPython/Actor:JohnCleese').baseNamespace()\n     * // => 'Actor:JohnCleese'\n     * ```\n     */\n    baseNamespace() {\n        const ns = this.namespaces();\n        return ns[ns.length - 1];\n    }\n    /**\n     * Returns the `list` representation of this key.\n     *\n     * @returns {Array<string>}\n     *\n     * @example\n     * ```js\n     * new Key('/Comedy/MontyPython/Actor:JohnCleese').list()\n     * // => ['Comedy', 'MontyPythong', 'Actor:JohnCleese']\n     * ```\n     */\n    list() {\n        return this.toString().split(pathSepS).slice(1);\n    }\n    /**\n     * Returns the \"type\" of this key (value of last namespace).\n     *\n     * @returns {string}\n     *\n     * @example\n     * ```js\n     * new Key('/Comedy/MontyPython/Actor:JohnCleese').type()\n     * // => 'Actor'\n     * ```\n     */\n    type() {\n        return namespaceType(this.baseNamespace());\n    }\n    /**\n     * Returns the \"name\" of this key (field of last namespace).\n     *\n     * @returns {string}\n     *\n     * @example\n     * ```js\n     * new Key('/Comedy/MontyPython/Actor:JohnCleese').name()\n     * // => 'JohnCleese'\n     * ```\n     */\n    name() {\n        return namespaceValue(this.baseNamespace());\n    }\n    /**\n     * Returns an \"instance\" of this type key (appends value to namespace).\n     *\n     * @param {string} s - The string to append.\n     * @returns {Key}\n     *\n     * @example\n     * ```js\n     * new Key('/Comedy/MontyPython/Actor').instance('JohnClesse')\n     * // => Key('/Comedy/MontyPython/Actor:JohnCleese')\n     * ```\n     */\n    instance(s) {\n        return new Key(this.toString() + ':' + s);\n    }\n    /**\n     * Returns the \"path\" of this key (parent + type).\n     *\n     * @returns {Key}\n     *\n     * @example\n     * ```js\n     * new Key('/Comedy/MontyPython/Actor:JohnCleese').path()\n     * // => Key('/Comedy/MontyPython/Actor')\n     * ```\n     */\n    path() {\n        let p = this.parent().toString();\n        if (!p.endsWith(pathSepS)) {\n            p += pathSepS;\n        }\n        p += this.type();\n        return new Key(p);\n    }\n    /**\n     * Returns the `parent` Key of this Key.\n     *\n     * @returns {Key}\n     *\n     * @example\n     * ```js\n     * new Key(\"/Comedy/MontyPython/Actor:JohnCleese\").parent()\n     * // => Key(\"/Comedy/MontyPython\")\n     * ```\n     */\n    parent() {\n        const list = this.list();\n        if (list.length === 1) {\n            return new Key(pathSepS);\n        }\n        return new Key(list.slice(0, -1).join(pathSepS));\n    }\n    /**\n     * Returns the `child` Key of this Key.\n     *\n     * @param {Key} key - The child Key to add\n     * @returns {Key}\n     *\n     * @example\n     * ```js\n     * new Key('/Comedy/MontyPython').child(new Key('Actor:JohnCleese'))\n     * // => Key('/Comedy/MontyPython/Actor:JohnCleese')\n     * ```\n     */\n    child(key) {\n        if (this.toString() === pathSepS) {\n            return key;\n        }\n        else if (key.toString() === pathSepS) {\n            return this;\n        }\n        return new Key(this.toString() + key.toString(), false);\n    }\n    /**\n     * Returns whether this key is a prefix of `other`\n     *\n     * @param {Key} other - The other key to test against\n     * @returns {boolean}\n     *\n     * @example\n     * ```js\n     * new Key('/Comedy').isAncestorOf('/Comedy/MontyPython')\n     * // => true\n     * ```\n     */\n    isAncestorOf(other) {\n        if (other.toString() === this.toString()) {\n            return false;\n        }\n        return other.toString().startsWith(this.toString());\n    }\n    /**\n     * Returns whether this key is a contains another as prefix.\n     *\n     * @param {Key} other - The other Key to test against\n     * @returns {boolean}\n     *\n     * @example\n     * ```js\n     * new Key('/Comedy/MontyPython').isDecendantOf('/Comedy')\n     * // => true\n     * ```\n     */\n    isDecendantOf(other) {\n        if (other.toString() === this.toString()) {\n            return false;\n        }\n        return this.toString().startsWith(other.toString());\n    }\n    /**\n     * Checks if this key has only one namespace.\n     *\n     * @returns {boolean}\n     *\n     */\n    isTopLevel() {\n        return this.list().length === 1;\n    }\n    /**\n     * Concats one or more Keys into one new Key.\n     *\n     * @param {Array<Key>} keys - The array of keys to concatenate\n     * @returns {Key}\n     */\n    concat(...keys) {\n        return Key.withNamespaces([...this.namespaces(), ...flatten(keys.map(key => key.namespaces()))]);\n    }\n}\n/**\n * The first component of a namespace. `foo` in `foo:bar`\n *\n * @param {string} ns\n * @returns {string}\n */\nfunction namespaceType(ns) {\n    const parts = ns.split(':');\n    if (parts.length < 2) {\n        return '';\n    }\n    return parts.slice(0, -1).join(':');\n}\n/**\n * The last component of a namespace, `baz` in `foo:bar:baz`.\n *\n * @param {string} ns\n * @returns {string}\n */\nfunction namespaceValue(ns) {\n    const parts = ns.split(':');\n    return parts[parts.length - 1];\n}\n/**\n * Flatten array of arrays (only one level)\n *\n * @template T\n * @param {Array<any>} arr\n * @returns {T[]}\n */\nfunction flatten(arr) {\n    return ([]).concat(...arr);\n}\n//# sourceMappingURL=key.js.map","export { urlAlphabet } from './url-alphabet/index.js'\nexport let random = bytes => crypto.getRandomValues(new Uint8Array(bytes))\nexport let customRandom = (alphabet, defaultSize, getRandom) => {\n  let mask = (2 << (Math.log(alphabet.length - 1) / Math.LN2)) - 1\n  let step = -~((1.6 * mask * defaultSize) / alphabet.length)\n  return (size = defaultSize) => {\n    let id = ''\n    while (true) {\n      let bytes = getRandom(step)\n      let j = step\n      while (j--) {\n        id += alphabet[bytes[j] & mask] || ''\n        if (id.length === size) return id\n      }\n    }\n  }\n}\nexport let customAlphabet = (alphabet, size = 21) =>\n  customRandom(alphabet, size, random)\nexport let nanoid = (size = 21) =>\n  crypto.getRandomValues(new Uint8Array(size)).reduce((id, byte) => {\n    byte &= 63\n    if (byte < 36) {\n      id += byte.toString(36)\n    } else if (byte < 62) {\n      id += (byte - 26).toString(36).toUpperCase()\n    } else if (byte > 62) {\n      id += '-'\n    } else {\n      id += '_'\n    }\n    return id\n  }, '')\n","import peek from 'it-peekable';\nfunction isAsyncIterable(thing) {\n    return thing[Symbol.asyncIterator] != null;\n}\nfunction filter(source, fn) {\n    if (isAsyncIterable(source)) {\n        return (async function* () {\n            for await (const entry of source) {\n                if (await fn(entry)) {\n                    yield entry;\n                }\n            }\n        })();\n    }\n    // if mapping function returns a promise we have to return an async generator\n    const peekable = peek(source);\n    const { value, done } = peekable.next();\n    if (done === true) {\n        return (function* () { }());\n    }\n    const res = fn(value);\n    // @ts-expect-error .then is not present on O\n    if (typeof res.then === 'function') {\n        return (async function* () {\n            if (await res) {\n                yield value;\n            }\n            for await (const entry of peekable) {\n                if (await fn(entry)) {\n                    yield entry;\n                }\n            }\n        })();\n    }\n    const func = fn;\n    return (function* () {\n        if (res === true) {\n            yield value;\n        }\n        for (const entry of peekable) {\n            if (func(entry)) {\n                yield entry;\n            }\n        }\n    })();\n}\nexport default filter;\n//# sourceMappingURL=index.js.map","function isAsyncIterable(thing) {\n    return thing[Symbol.asyncIterator] != null;\n}\nfunction all(source) {\n    if (isAsyncIterable(source)) {\n        return (async () => {\n            const arr = [];\n            for await (const entry of source) {\n                arr.push(entry);\n            }\n            return arr;\n        })();\n    }\n    const arr = [];\n    for (const entry of source) {\n        arr.push(entry);\n    }\n    return arr;\n}\nexport default all;\n//# sourceMappingURL=index.js.map","import all from 'it-all';\nfunction isAsyncIterable(thing) {\n    return thing[Symbol.asyncIterator] != null;\n}\nfunction sort(source, sorter) {\n    if (isAsyncIterable(source)) {\n        return (async function* () {\n            const arr = await all(source);\n            yield* arr.sort(sorter);\n        })();\n    }\n    return (function* () {\n        const arr = all(source);\n        yield* arr.sort(sorter);\n    })();\n}\nexport default sort;\n//# sourceMappingURL=index.js.map","import { Errors, BaseDatastore } from 'datastore-core';\nimport { openDB, deleteDB } from 'idb';\nimport { Key } from 'interface-datastore';\nimport filter from 'it-filter';\nimport sort from 'it-sort';\nexport class IDBDatastore extends BaseDatastore {\n    location;\n    version;\n    db;\n    constructor(location, init = {}) {\n        super();\n        this.location = `${init.prefix ?? ''}${location}`;\n        this.version = init.version ?? 1;\n    }\n    async open() {\n        try {\n            const location = this.location;\n            this.db = await openDB(location, this.version, {\n                upgrade(db) {\n                    db.createObjectStore(location);\n                }\n            });\n        }\n        catch (err) {\n            throw Errors.dbOpenFailedError(err);\n        }\n    }\n    async close() {\n        this.db?.close();\n    }\n    async put(key, val) {\n        if (this.db == null) {\n            throw new Error('Datastore needs to be opened.');\n        }\n        try {\n            await this.db.put(this.location, val, key.toString());\n            return key;\n        }\n        catch (err) {\n            throw Errors.dbWriteFailedError(err);\n        }\n    }\n    async get(key) {\n        if (this.db == null) {\n            throw new Error('Datastore needs to be opened.');\n        }\n        let val;\n        try {\n            val = await this.db.get(this.location, key.toString());\n        }\n        catch (err) {\n            throw Errors.dbReadFailedError(err);\n        }\n        if (val === undefined) {\n            throw Errors.notFoundError();\n        }\n        return val;\n    }\n    async has(key) {\n        if (this.db == null) {\n            throw new Error('Blockstore needs to be opened.');\n        }\n        try {\n            return Boolean(await this.db.getKey(this.location, key.toString()));\n        }\n        catch (err) {\n            throw Errors.dbReadFailedError(err);\n        }\n    }\n    async delete(key) {\n        if (this.db == null) {\n            throw new Error('Datastore needs to be opened.');\n        }\n        try {\n            await this.db.delete(this.location, key.toString());\n        }\n        catch (err) {\n            throw Errors.dbWriteFailedError(err);\n        }\n    }\n    batch() {\n        const puts = [];\n        const dels = [];\n        return {\n            put(key, value) {\n                puts.push({ key, value });\n            },\n            delete(key) {\n                dels.push(key);\n            },\n            commit: async () => {\n                if (this.db == null) {\n                    throw new Error('Datastore needs to be opened.');\n                }\n                const tx = this.db.transaction(this.location, 'readwrite');\n                try {\n                    const ops = puts.filter(({ key }) => {\n                        // don't put a key we are about to delete\n                        return dels.find(delKey => delKey.toString() === key.toString()) == null;\n                    })\n                        .map(put => {\n                        return async () => {\n                            await tx.store.put(put.value, put.key.toString());\n                        };\n                    })\n                        .concat(dels.map(key => {\n                        return async () => {\n                            await tx.store.delete(key.toString());\n                        };\n                    }))\n                        .concat(async () => {\n                        await tx.done;\n                    });\n                    await Promise.all(ops.map(async (op) => { await op(); }));\n                }\n                catch {\n                    tx.abort();\n                }\n            }\n        };\n    }\n    async *query(q) {\n        let it = this.#queryIt(q, (key, value) => {\n            return { key, value };\n        });\n        if (Array.isArray(q.filters)) {\n            it = q.filters.reduce((it, f) => filter(it, f), it);\n        }\n        if (Array.isArray(q.orders)) {\n            it = q.orders.reduce((it, f) => sort(it, f), it);\n        }\n        yield* it;\n    }\n    async *queryKeys(q) {\n        let it = this.#queryIt(q, (key) => key);\n        if (Array.isArray(q.filters)) {\n            it = q.filters.reduce((it, f) => filter(it, f), it);\n        }\n        if (Array.isArray(q.orders)) {\n            it = q.orders.reduce((it, f) => sort(it, f), it);\n        }\n        yield* it;\n    }\n    async *#queryIt(q, transform) {\n        if (this.db == null) {\n            throw new Error('Datastore needs to be opened.');\n        }\n        let yielded = 0;\n        let index = -1;\n        for (const key of await this.db.getAllKeys(this.location)) {\n            if (q.prefix != null && !key.toString().startsWith(q.prefix)) { // eslint-disable-line @typescript-eslint/no-base-to-string\n                continue;\n            }\n            if (q.limit != null && yielded === q.limit) {\n                return;\n            }\n            index++;\n            if (q.offset != null && index < q.offset) {\n                continue;\n            }\n            const k = new Key(key.toString()); // eslint-disable-line @typescript-eslint/no-base-to-string\n            let value;\n            try {\n                value = await this.get(k);\n            }\n            catch (err) {\n                if (err.code !== 'ERR_NOT_FOUND') {\n                    throw err;\n                }\n                continue;\n            }\n            if (value == null) {\n                continue;\n            }\n            yield transform(k, value);\n            yielded++;\n        }\n    }\n    async destroy() {\n        await deleteDB(this.location);\n    }\n}\n//# sourceMappingURL=index.js.map","import errCode from 'err-code'\n\n/**\n * @param {Error} [err]\n */\nexport function dbOpenFailedError (err) {\n  err = err || new Error('Cannot open database')\n  return errCode(err, 'ERR_DB_OPEN_FAILED')\n}\n\n/**\n * @param {Error} [err]\n */\nexport function dbDeleteFailedError (err) {\n  err = err || new Error('Delete failed')\n  return errCode(err, 'ERR_DB_DELETE_FAILED')\n}\n\n/**\n * @param {Error} [err]\n */\nexport function dbWriteFailedError (err) {\n  err = err || new Error('Write failed')\n  return errCode(err, 'ERR_DB_WRITE_FAILED')\n}\n\n/**\n * @param {Error} [err]\n */\nexport function notFoundError (err) {\n  err = err || new Error('Not Found')\n  return errCode(err, 'ERR_NOT_FOUND')\n}\n\n/**\n * @param {Error} [err]\n */\nexport function abortedError (err) {\n  err = err || new Error('Aborted')\n  return errCode(err, 'ERR_ABORTED')\n}\n","import { Key } from 'interface-datastore/key'\n// @ts-expect-error readme is unused\n// eslint-disable-next-line no-unused-vars\nimport readme from './shard-readme.js'\n\n/**\n * @typedef {import('interface-datastore').Datastore} Datastore\n * @typedef {import('./types').Shard} Shard\n */\n\nexport const PREFIX = '/repo/flatfs/shard/'\nexport const SHARDING_FN = 'SHARDING'\nexport const README_FN = '_README'\n\n/**\n * @implements {Shard}\n */\nexport class ShardBase {\n  /**\n   * @param {any} param\n   */\n  constructor (param) {\n    this.param = param\n    this.name = 'base'\n    this._padding = ''\n  }\n\n  /**\n   * @param {string} s\n   */\n  fun (s) {\n    return 'implement me'\n  }\n\n  toString () {\n    return `${PREFIX}v1/${this.name}/${this.param}`\n  }\n}\n/**\n * @implements {Shard}\n */\nexport class Prefix extends ShardBase {\n  /**\n   * @param {number} prefixLen\n   */\n  constructor (prefixLen) {\n    super(prefixLen)\n    this._padding = ''.padStart(prefixLen, '_')\n    this.name = 'prefix'\n  }\n\n  /**\n   * @param {string} noslash\n   */\n  fun (noslash) {\n    return (noslash + this._padding).slice(0, this.param)\n  }\n}\n\nexport class Suffix extends ShardBase {\n  /**\n   * @param {number} suffixLen\n   */\n  constructor (suffixLen) {\n    super(suffixLen)\n    this._padding = ''.padStart(suffixLen, '_')\n    this.name = 'suffix'\n  }\n\n  /**\n   * @param {string} noslash\n   */\n  fun (noslash) {\n    const s = this._padding + noslash\n    return s.slice(s.length - this.param)\n  }\n}\n\nexport class NextToLast extends ShardBase {\n  /**\n   * @param {number} suffixLen\n   */\n  constructor (suffixLen) {\n    super(suffixLen)\n    this._padding = ''.padStart(suffixLen + 1, '_')\n    this.name = 'next-to-last'\n  }\n\n  /**\n   * @param {string} noslash\n   */\n  fun (noslash) {\n    const s = this._padding + noslash\n    const offset = s.length - this.param - 1\n    return s.slice(offset, offset + this.param)\n  }\n}\n\n/**\n * Convert a given string to the matching sharding function.\n *\n * @param {string} str\n * @returns {Shard}\n */\nexport function parseShardFun (str) {\n  str = str.trim()\n\n  if (str.length === 0) {\n    throw new Error('empty shard string')\n  }\n\n  if (!str.startsWith(PREFIX)) {\n    throw new Error(`invalid or no path prefix: ${str}`)\n  }\n\n  const parts = str.slice(PREFIX.length).split('/')\n  const version = parts[0]\n\n  if (version !== 'v1') {\n    throw new Error(`expect 'v1' version, got '${version}'`)\n  }\n\n  const name = parts[1]\n\n  if (!parts[2]) {\n    throw new Error('missing param')\n  }\n\n  const param = parseInt(parts[2], 10)\n\n  switch (name) {\n    case 'prefix':\n      return new Prefix(param)\n    case 'suffix':\n      return new Suffix(param)\n    case 'next-to-last':\n      return new NextToLast(param)\n    default:\n      throw new Error(`unkown sharding function: ${name}`)\n  }\n}\n\n/**\n * @param {string | Uint8Array} path\n * @param {Datastore} store\n */\nexport const readShardFun = async (path, store) => {\n  const key = new Key(path).child(new Key(SHARDING_FN))\n  // @ts-ignore\n  const get = typeof store.getRaw === 'function' ? store.getRaw.bind(store) : store.get.bind(store)\n  const res = await get(key)\n  return parseShardFun(new TextDecoder().decode(res || '').trim())\n}\n\nexport { default as readme } from './shard-readme.js'\n","\nimport all from 'it-all'\n\n/**\n * Collect all values from the iterable and sort them using\n * the passed sorter function\n *\n * @template T\n * @param {AsyncIterable<T> | Iterable<T>} iterable\n * @param {(a: T, b: T) => -1 | 0 | 1} sorter\n * @returns {AsyncIterable<T>}\n */\nexport const sortAll = (iterable, sorter) => {\n  return (async function * () {\n    const values = await all(iterable)\n    yield * values.sort(sorter)\n  })()\n}\n\n/**\n * @param {string} s\n * @param {string} r\n */\nexport const replaceStartWith = (s, r) => {\n  const matcher = new RegExp('^' + r)\n  return s.replace(matcher, '')\n}\n","/**\n * Collects all values from an (async) iterable and returns them as an array\n */\nexport default async function all(source) {\n    const arr = [];\n    for await (const entry of source) {\n        arr.push(entry);\n    }\n    return arr;\n}\n//# sourceMappingURL=index.js.map","import { sortAll } from './utils.js'\nimport drain from 'it-drain'\nimport filter from 'it-filter'\nimport take from 'it-take'\n\n/**\n * @typedef {import('interface-store').Options} Options\n * @typedef {import('interface-datastore').Key} Key\n * @typedef {import('interface-datastore').Pair} Pair\n * @typedef {import('interface-datastore').Datastore} Datastore\n * @typedef {import('interface-datastore').Query} Query\n * @typedef {import('interface-datastore').KeyQuery} KeyQuery\n * @typedef {import('interface-datastore').Batch} Batch\n */\n\n/**\n * @template O\n * @typedef {import('interface-store').AwaitIterable<O>} AwaitIterable\n */\n\n/**\n * @implements {Datastore}\n */\nexport class BaseDatastore {\n  /**\n   * @returns {Promise<void>}\n   */\n  open () {\n    return Promise.reject(new Error('.open is not implemented'))\n  }\n\n  /**\n   * @returns {Promise<void>}\n   */\n  close () {\n    return Promise.reject(new Error('.close is not implemented'))\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Uint8Array} val\n   * @param {Options} [options]\n   * @returns {Promise<void>}\n   */\n  put (key, val, options) {\n    return Promise.reject(new Error('.put is not implemented'))\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Options} [options]\n   * @returns {Promise<Uint8Array>}\n   */\n  get (key, options) {\n    return Promise.reject(new Error('.get is not implemented'))\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Options} [options]\n   * @returns {Promise<boolean>}\n   */\n  has (key, options) {\n    return Promise.reject(new Error('.has is not implemented'))\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Options} [options]\n   * @returns {Promise<void>}\n   */\n  delete (key, options) {\n    return Promise.reject(new Error('.delete is not implemented'))\n  }\n\n  /**\n   * @param {AwaitIterable<Pair>} source\n   * @param {Options} [options]\n   * @returns {AsyncIterable<Pair>}\n   */\n  async * putMany (source, options = {}) {\n    for await (const { key, value } of source) {\n      await this.put(key, value, options)\n      yield { key, value }\n    }\n  }\n\n  /**\n   * @param {AwaitIterable<Key>} source\n   * @param {Options} [options]\n   * @returns {AsyncIterable<Uint8Array>}\n   */\n  async * getMany (source, options = {}) {\n    for await (const key of source) {\n      yield this.get(key, options)\n    }\n  }\n\n  /**\n   * @param {AwaitIterable<Key>} source\n   * @param {Options} [options]\n   * @returns {AsyncIterable<Key>}\n   */\n  async * deleteMany (source, options = {}) {\n    for await (const key of source) {\n      await this.delete(key, options)\n      yield key\n    }\n  }\n\n  /**\n   * @returns {Batch}\n   */\n  batch () {\n    /** @type {Pair[]} */\n    let puts = []\n    /** @type {Key[]} */\n    let dels = []\n\n    return {\n      put (key, value) {\n        puts.push({ key, value })\n      },\n\n      delete (key) {\n        dels.push(key)\n      },\n      commit: async (options) => {\n        await drain(this.putMany(puts, options))\n        puts = []\n        await drain(this.deleteMany(dels, options))\n        dels = []\n      }\n    }\n  }\n\n  /**\n   * Extending classes should override `query` or implement this method\n   *\n   * @param {Query} q\n   * @param {Options} [options]\n   * @returns {AsyncIterable<Pair>}\n   */\n  // eslint-disable-next-line require-yield\n  async * _all (q, options) {\n    throw new Error('._all is not implemented')\n  }\n\n  /**\n   * Extending classes should override `queryKeys` or implement this method\n   *\n   * @param {KeyQuery} q\n   * @param {Options} [options]\n   * @returns {AsyncIterable<Key>}\n   */\n  // eslint-disable-next-line require-yield\n  async * _allKeys (q, options) {\n    throw new Error('._allKeys is not implemented')\n  }\n\n  /**\n   * @param {Query} q\n   * @param {Options} [options]\n   */\n  query (q, options) {\n    let it = this._all(q, options)\n\n    if (q.prefix != null) {\n      it = filter(it, (e) =>\n        e.key.toString().startsWith(/** @type {string} */ (q.prefix))\n      )\n    }\n\n    if (Array.isArray(q.filters)) {\n      it = q.filters.reduce((it, f) => filter(it, f), it)\n    }\n\n    if (Array.isArray(q.orders)) {\n      it = q.orders.reduce((it, f) => sortAll(it, f), it)\n    }\n\n    if (q.offset != null) {\n      let i = 0\n      it = filter(it, () => i++ >= /** @type {number} */ (q.offset))\n    }\n\n    if (q.limit != null) {\n      it = take(it, q.limit)\n    }\n\n    return it\n  }\n\n  /**\n   * @param {KeyQuery} q\n   * @param {Options} [options]\n   */\n  queryKeys (q, options) {\n    let it = this._allKeys(q, options)\n\n    if (q.prefix != null) {\n      it = filter(it, (key) =>\n        key.toString().startsWith(/** @type {string} */ (q.prefix))\n      )\n    }\n\n    if (Array.isArray(q.filters)) {\n      it = q.filters.reduce((it, f) => filter(it, f), it)\n    }\n\n    if (Array.isArray(q.orders)) {\n      it = q.orders.reduce((it, f) => sortAll(it, f), it)\n    }\n\n    if (q.offset != null) {\n      let i = 0\n      it = filter(it, () => i++ >= /** @type {number} */ (q.offset))\n    }\n\n    if (q.limit != null) {\n      it = take(it, q.limit)\n    }\n\n    return it\n  }\n}\n","import { Key } from 'interface-datastore'\nimport {\n  readShardFun,\n  SHARDING_FN,\n  README_FN,\n  readme\n} from './shard.js'\nimport { BaseDatastore } from './base.js'\nimport { KeyTransformDatastore } from './keytransform.js'\nimport * as Errors from './errors.js'\n\nconst shardKey = new Key(SHARDING_FN)\nconst shardReadmeKey = new Key(README_FN)\n/**\n * @typedef {import('interface-datastore').Datastore} Datastore\n * @typedef {import('interface-datastore').Options} Options\n * @typedef {import('interface-datastore').Batch} Batch\n * @typedef {import('interface-datastore').Query} Query\n * @typedef {import('interface-datastore').QueryFilter} QueryFilter\n * @typedef {import('interface-datastore').QueryOrder} QueryOrder\n * @typedef {import('interface-datastore').KeyQuery} KeyQuery\n * @typedef {import('interface-datastore').KeyQueryFilter} KeyQueryFilter\n * @typedef {import('interface-datastore').KeyQueryOrder} KeyQueryOrder\n * @typedef {import('interface-datastore').Pair} Pair\n * @typedef {import('./types').Shard} Shard\n *\n */\n/**\n * @template TValue\n * @typedef {import('interface-store').Await<TValue> } Await\n */\n\n/**\n * @template TEntry\n * @typedef {import('interface-store').AwaitIterable<TEntry>} AwaitIterable\n */\n\n/**\n * Backend independent abstraction of go-ds-flatfs.\n *\n * Wraps another datastore such that all values are stored\n * sharded according to the given sharding function.\n */\nexport class ShardingDatastore extends BaseDatastore {\n  /**\n   * @param {Datastore} store\n   * @param {Shard} shard\n   */\n  constructor (store, shard) {\n    super()\n\n    this.child = new KeyTransformDatastore(store, {\n      convert: this._convertKey.bind(this),\n      invert: this._invertKey.bind(this)\n    })\n    this.shard = shard\n  }\n\n  async open () {\n    await this.child.open()\n\n    this.shard = await ShardingDatastore.create(this.child, this.shard)\n  }\n\n  /**\n   * @param {Key} key\n   */\n  _convertKey (key) {\n    const s = key.toString()\n    if (s === shardKey.toString() || s === shardReadmeKey.toString()) {\n      return key\n    }\n\n    const parent = new Key(this.shard.fun(s))\n    return parent.child(key)\n  }\n\n  /**\n   * @param {Key} key\n   */\n  _invertKey (key) {\n    const s = key.toString()\n    if (s === shardKey.toString() || s === shardReadmeKey.toString()) {\n      return key\n    }\n    return Key.withNamespaces(key.list().slice(1))\n  }\n\n  /**\n   * @deprecated\n   * @param {Datastore} store\n   * @param {Shard} shard\n   */\n  static async createOrOpen (store, shard) {\n    try {\n      await ShardingDatastore.create(store, shard)\n    } catch (/** @type {any} */ err) {\n      if (err && err.message !== 'datastore exists') throw err\n    }\n    return ShardingDatastore.open(store)\n  }\n\n  /**\n   * @deprecated\n   * @param {Datastore} store\n   */\n  static async open (store) {\n    const shard = await readShardFun('/', store)\n    return new ShardingDatastore(store, shard)\n  }\n\n  /**\n   * @param {Datastore} store\n   * @param {Shard} shard\n   */\n  static async create (store, shard) {\n    const hasShard = await store.has(shardKey)\n    if (!hasShard && !shard) {\n      throw Errors.dbOpenFailedError(Error('Shard is required when datastore doesn\\'t have a shard key already.'))\n    }\n    if (!hasShard) {\n      // @ts-ignore i have no idea what putRaw is or saw any implementation\n      const put = typeof store.putRaw === 'function' ? store.putRaw.bind(store) : store.put.bind(store)\n      await Promise.all([\n        put(shardKey, new TextEncoder().encode(shard.toString() + '\\n')),\n        put(shardReadmeKey, new TextEncoder().encode(readme))\n      ])\n\n      return shard\n    }\n\n    // test shards\n    const diskShard = await readShardFun('/', store)\n    const a = (diskShard || '').toString()\n    const b = shard.toString()\n    if (a !== b) {\n      throw new Error(`specified fun ${b} does not match repo shard fun ${a}`)\n    }\n    return diskShard\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Uint8Array} val\n   * @param {Options} [options]\n   */\n  put (key, val, options) {\n    return this.child.put(key, val, options)\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Options} [options]\n   */\n  get (key, options) {\n    return this.child.get(key, options)\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Options} [options]\n   */\n  has (key, options) {\n    return this.child.has(key, options)\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Options} [options]\n   */\n  delete (key, options) {\n    return this.child.delete(key, options)\n  }\n\n  /**\n   * @param {AwaitIterable<Pair>} source\n   * @param {Options} [options]\n   * @returns {AsyncIterable<Pair>}\n   */\n  async * putMany (source, options = {}) {\n    yield * this.child.putMany(source, options)\n  }\n\n  /**\n   * @param {AwaitIterable<Key>} source\n   * @param {Options} [options]\n   * @returns {AsyncIterable<Uint8Array>}\n   */\n  async * getMany (source, options = {}) {\n    yield * this.child.getMany(source, options)\n  }\n\n  /**\n   * @param {AwaitIterable<Key>} source\n   * @param {Options} [options]\n   * @returns {AsyncIterable<Key>}\n   */\n  async * deleteMany (source, options = {}) {\n    yield * this.child.deleteMany(source, options)\n  }\n\n  batch () {\n    return this.child.batch()\n  }\n\n  /**\n   * @param {Query} q\n   * @param {Options} [options]\n   */\n  query (q, options) {\n    /** @type {Query} */\n    const tq = {\n      ...q,\n      filters: [\n        /** @type {QueryFilter} */\n        ({ key }) => key.toString() !== shardKey.toString(),\n        /** @type {QueryFilter} */\n        ({ key }) => key.toString() !== shardReadmeKey.toString()\n      ].concat(q.filters || [])\n    }\n\n    return this.child.query(tq, options)\n  }\n\n  /**\n   * @param {KeyQuery} q\n   * @param {Options} [options]\n   */\n  queryKeys (q, options) {\n    /** @type {KeyQuery} */\n    const tq = {\n      ...q,\n      filters: [\n        /** @type {KeyQueryFilter} */\n        key => key.toString() !== shardKey.toString(),\n        /** @type {KeyQueryFilter} */\n        key => key.toString() !== shardReadmeKey.toString()\n      ].concat(q.filters || [])\n    }\n\n    return this.child.queryKeys(tq, options)\n  }\n\n  close () {\n    return this.child.close()\n  }\n}\n","import { BaseDatastore } from './base.js'\nimport * as Errors from './errors.js'\nimport { logger } from '@libp2p/logger'\nimport { pushable } from 'it-pushable'\nimport drain from 'it-drain'\n\nconst log = logger('datastore:core:tiered')\n\n/**\n * @typedef {import('interface-datastore').Datastore} Datastore\n * @typedef {import('interface-datastore').Options} Options\n * @typedef {import('interface-datastore').Batch} Batch\n * @typedef {import('interface-datastore').Query} Query\n * @typedef {import('interface-datastore').KeyQuery} KeyQuery\n * @typedef {import('interface-datastore').Key} Key\n * @typedef {import('interface-datastore').Pair} Pair\n */\n\n/**\n * @template TEntry\n * @typedef {import('interface-store').AwaitIterable<TEntry>} AwaitIterable\n */\n\n/**\n * A datastore that can combine multiple stores. Puts and deletes\n * will write through to all datastores. Has and get will\n * try each store sequentially. Query will always try the\n * last one first.\n *\n */\nexport class TieredDatastore extends BaseDatastore {\n  /**\n   * @param {Datastore[]} stores\n   */\n  constructor (stores) {\n    super()\n\n    this.stores = stores.slice()\n  }\n\n  async open () {\n    try {\n      await Promise.all(this.stores.map((store) => store.open()))\n    } catch (/** @type {any} */ err) {\n      throw Errors.dbOpenFailedError(err)\n    }\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Uint8Array} value\n   * @param {Options} [options]\n   */\n  async put (key, value, options) {\n    try {\n      await Promise.all(this.stores.map(store => store.put(key, value, options)))\n    } catch (/** @type {any} */ err) {\n      throw Errors.dbWriteFailedError(err)\n    }\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Options} [options]\n   */\n  async get (key, options) {\n    for (const store of this.stores) {\n      try {\n        const res = await store.get(key, options)\n        if (res) return res\n      } catch (err) {\n        log.error(err)\n      }\n    }\n    throw Errors.notFoundError()\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Options} [options]\n   */\n  async has (key, options) {\n    for (const s of this.stores) {\n      if (await s.has(key, options)) {\n        return true\n      }\n    }\n\n    return false\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Options} [options]\n   */\n  async delete (key, options) {\n    try {\n      await Promise.all(this.stores.map(store => store.delete(key, options)))\n    } catch (/** @type {any} */ err) {\n      throw Errors.dbDeleteFailedError(err)\n    }\n  }\n\n  /**\n   * @param {AwaitIterable<Pair>} source\n   * @param {Options} [options]\n   * @returns {AsyncIterable<Pair>}\n   */\n  async * putMany (source, options = {}) {\n    let error\n    const pushables = this.stores.map(store => {\n      const source = pushable({\n        objectMode: true\n      })\n\n      drain(store.putMany(source, options))\n        .catch(err => {\n          // store threw while putting, make sure we bubble the error up\n          error = err\n        })\n\n      return source\n    })\n\n    try {\n      for await (const pair of source) {\n        if (error) {\n          throw error\n        }\n\n        pushables.forEach(p => p.push(pair))\n\n        yield pair\n      }\n    } finally {\n      pushables.forEach(p => p.end())\n    }\n  }\n\n  /**\n   * @param {AwaitIterable<Key>} source\n   * @param {Options} [options]\n   * @returns {AsyncIterable<Key>}\n   */\n  async * deleteMany (source, options = {}) {\n    let error\n    const pushables = this.stores.map(store => {\n      const source = pushable({\n        objectMode: true\n      })\n\n      drain(store.deleteMany(source, options))\n        .catch(err => {\n          // store threw while deleting, make sure we bubble the error up\n          error = err\n        })\n\n      return source\n    })\n\n    try {\n      for await (const key of source) {\n        if (error) {\n          throw error\n        }\n\n        pushables.forEach(p => p.push(key))\n\n        yield key\n      }\n    } finally {\n      pushables.forEach(p => p.end())\n    }\n  }\n\n  async close () {\n    await Promise.all(this.stores.map(store => store.close()))\n  }\n\n  /**\n   * @returns {Batch}\n   */\n  batch () {\n    const batches = this.stores.map(store => store.batch())\n\n    return {\n      put: (key, value) => {\n        batches.forEach(b => b.put(key, value))\n      },\n      delete: (key) => {\n        batches.forEach(b => b.delete(key))\n      },\n      commit: async (options) => {\n        for (const batch of batches) {\n          await batch.commit(options)\n        }\n      }\n    }\n  }\n\n  /**\n   * @param {Query} q\n   * @param {Options} [options]\n   */\n  query (q, options) {\n    return this.stores[this.stores.length - 1].query(q, options)\n  }\n\n  /**\n   * @param {KeyQuery} q\n   * @param {Options} [options]\n   */\n  queryKeys (q, options) {\n    return this.stores[this.stores.length - 1].queryKeys(q, options)\n  }\n}\n","import { Key } from 'interface-datastore'\nimport { BaseDatastore, Errors } from 'datastore-core'\nimport filter from 'it-filter'\nimport map from 'it-map'\nimport take from 'it-take'\nimport sort from 'it-sort'\nimport { Level } from 'level'\n\n/**\n * @typedef {import('interface-datastore').Datastore} Datastore\n * @typedef {import('interface-datastore').Pair} Pair\n * @typedef {import('interface-datastore').Batch} Batch\n * @typedef {import('interface-datastore').Query} Query\n * @typedef {import('interface-datastore').KeyQuery} KeyQuery\n * @typedef {import('interface-datastore').Options} QueryOptions\n * @typedef {import('abstract-level').AbstractLevel<any, string, Uint8Array>} LevelDb\n */\n\n/**\n * A datastore backed by leveldb\n */\nexport class LevelDatastore extends BaseDatastore {\n  /**\n   * @param {string | LevelDb} path\n   * @param {import('level').DatabaseOptions<string, Uint8Array> & import('level').OpenOptions} [opts]\n   */\n  constructor (path, opts = {}) {\n    super()\n\n    /** @type {LevelDb} */\n    this.db = typeof path === 'string'\n      ? new Level(path, {\n        ...opts,\n        keyEncoding: 'utf8',\n        valueEncoding: 'view'\n      })\n      : path\n\n    /** @type {import('level').OpenOptions} */\n    this.opts = {\n      createIfMissing: true,\n      compression: false, // same default as go\n      ...opts\n    }\n  }\n\n  async open () {\n    try {\n      await this.db.open(this.opts)\n    } catch (/** @type {any} */ err) {\n      throw Errors.dbOpenFailedError(err)\n    }\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Uint8Array} value\n   */\n  async put (key, value) {\n    try {\n      await this.db.put(key.toString(), value)\n    } catch (/** @type {any} */ err) {\n      throw Errors.dbWriteFailedError(err)\n    }\n  }\n\n  /**\n   * @param {Key} key\n   * @returns {Promise<Uint8Array>}\n   */\n  async get (key) {\n    let data\n    try {\n      data = await this.db.get(key.toString())\n    } catch (/** @type {any} */ err) {\n      if (err.notFound) throw Errors.notFoundError(err)\n      throw Errors.dbWriteFailedError(err)\n    }\n    return data\n  }\n\n  /**\n   * @param {Key} key\n   * @returns {Promise<boolean>}\n   */\n  async has (key) {\n    try {\n      await this.db.get(key.toString())\n    } catch (/** @type {any} */ err) {\n      if (err.notFound) return false\n      throw err\n    }\n    return true\n  }\n\n  /**\n   * @param {Key} key\n   * @returns {Promise<void>}\n   */\n  async delete (key) {\n    try {\n      await this.db.del(key.toString())\n    } catch (/** @type {any} */ err) {\n      throw Errors.dbDeleteFailedError(err)\n    }\n  }\n\n  close () {\n    return this.db && this.db.close()\n  }\n\n  /**\n   * @returns {Batch}\n   */\n  batch () {\n    /** @type {Array<{ type: 'put', key: string, value: Uint8Array; } | { type: 'del', key: string }>} */\n    const ops = []\n    return {\n      put: (key, value) => {\n        ops.push({\n          type: 'put',\n          key: key.toString(),\n          value: value\n        })\n      },\n      delete: (key) => {\n        ops.push({\n          type: 'del',\n          key: key.toString()\n        })\n      },\n      commit: () => {\n        return this.db.batch(ops)\n      }\n    }\n  }\n\n  /**\n   * @param {Query} q\n   */\n  query (q) {\n    let it = this._query({\n      values: true,\n      prefix: q.prefix\n    })\n\n    if (Array.isArray(q.filters)) {\n      it = q.filters.reduce((it, f) => filter(it, f), it)\n    }\n\n    if (Array.isArray(q.orders)) {\n      it = q.orders.reduce((it, f) => sort(it, f), it)\n    }\n\n    const { offset, limit } = q\n    if (offset) {\n      let i = 0\n      it = filter(it, () => i++ >= offset)\n    }\n\n    if (limit) {\n      it = take(it, limit)\n    }\n\n    return it\n  }\n\n  /**\n   * @param {KeyQuery} q\n   */\n  queryKeys (q) {\n    let it = map(this._query({\n      values: false,\n      prefix: q.prefix\n    }), ({ key }) => key)\n\n    if (Array.isArray(q.filters)) {\n      it = q.filters.reduce((it, f) => filter(it, f), it)\n    }\n\n    if (Array.isArray(q.orders)) {\n      it = q.orders.reduce((it, f) => sort(it, f), it)\n    }\n\n    const { offset, limit } = q\n    if (offset) {\n      let i = 0\n      it = filter(it, () => i++ >= offset)\n    }\n\n    if (limit) {\n      it = take(it, limit)\n    }\n\n    return it\n  }\n\n  /**\n   * @param {object} opts\n   * @param {boolean} opts.values\n   * @param {string} [opts.prefix]\n   * @returns {AsyncIterable<Pair>}\n   */\n  _query (opts) {\n    /** @type {import('level').IteratorOptions<string, Uint8Array>} */\n    const iteratorOpts = {\n      keys: true,\n      keyEncoding: 'buffer',\n      values: opts.values\n    }\n\n    // Let the db do the prefix matching\n    if (opts.prefix != null) {\n      const prefix = opts.prefix.toString()\n      // Match keys greater than or equal to `prefix` and\n      iteratorOpts.gte = prefix\n      // less than `prefix` + \\xFF (hex escape sequence)\n      iteratorOpts.lt = prefix + '\\xFF'\n    }\n\n    const iterator = this.db.iterator(iteratorOpts)\n\n    if (iterator[Symbol.asyncIterator]) {\n      return levelIteratorToIterator(iterator)\n    }\n\n    // @ts-expect-error support older level\n    if (iterator.next != null && iterator.end != null) {\n      // @ts-expect-error support older level\n      return oldLevelIteratorToIterator(iterator)\n    }\n\n    throw new Error('Level returned incompatible iterator')\n  }\n}\n\n/**\n * @param {import('level').Iterator<LevelDb, string, Uint8Array>} li - Level iterator\n * @returns {AsyncIterable<Pair>}\n */\nasync function * levelIteratorToIterator (li) {\n  for await (const [key, value] of li) {\n    yield { key: new Key(key, false), value }\n  }\n\n  await li.close()\n}\n\n/**\n * @typedef {object} LevelIterator\n * @property {(cb: (err: Error, key: string | Uint8Array | null, value: any)=> void)=>void} next\n * @property {(cb: (err: Error) => void) => void } end\n */\n\n/**\n * @param {LevelIterator} li - Level iterator\n * @returns {AsyncIterable<Pair>}\n */\nfunction oldLevelIteratorToIterator (li) {\n  return {\n    [Symbol.asyncIterator] () {\n      return {\n        next: () => new Promise((resolve, reject) => {\n          li.next((err, key, value) => {\n            if (err) return reject(err)\n            if (key == null) {\n              return li.end(err => {\n                if (err) return reject(err)\n                resolve({ done: true, value: undefined })\n              })\n            }\n            resolve({ done: false, value: { key: new Key(key, false), value } })\n          })\n        }),\n        return: () => new Promise((resolve, reject) => {\n          li.end(err => {\n            if (err) return reject(err)\n            resolve({ done: true, value: undefined })\n          })\n        })\n      }\n    }\n  }\n}\n","import { Key } from 'interface-datastore/key'\n// @ts-expect-error readme is unused\n// eslint-disable-next-line no-unused-vars\nimport readme from './shard-readme.js'\n\n/**\n * @typedef {import('interface-datastore').Datastore} Datastore\n * @typedef {import('./types').Shard} Shard\n */\n\nexport const PREFIX = '/repo/flatfs/shard/'\nexport const SHARDING_FN = 'SHARDING'\nexport const README_FN = '_README'\n\n/**\n * @implements {Shard}\n */\nexport class ShardBase {\n  /**\n   * @param {any} param\n   */\n  constructor (param) {\n    this.param = param\n    this.name = 'base'\n    this._padding = ''\n  }\n\n  /**\n   * @param {string} s\n   */\n  fun (s) {\n    return 'implement me'\n  }\n\n  toString () {\n    return `${PREFIX}v1/${this.name}/${this.param}`\n  }\n}\n/**\n * @implements {Shard}\n */\nexport class Prefix extends ShardBase {\n  /**\n   * @param {number} prefixLen\n   */\n  constructor (prefixLen) {\n    super(prefixLen)\n    this._padding = ''.padStart(prefixLen, '_')\n    this.name = 'prefix'\n  }\n\n  /**\n   * @param {string} noslash\n   */\n  fun (noslash) {\n    return (noslash + this._padding).slice(0, this.param)\n  }\n}\n\nexport class Suffix extends ShardBase {\n  /**\n   * @param {number} suffixLen\n   */\n  constructor (suffixLen) {\n    super(suffixLen)\n    this._padding = ''.padStart(suffixLen, '_')\n    this.name = 'suffix'\n  }\n\n  /**\n   * @param {string} noslash\n   */\n  fun (noslash) {\n    const s = this._padding + noslash\n    return s.slice(s.length - this.param)\n  }\n}\n\nexport class NextToLast extends ShardBase {\n  /**\n   * @param {number} suffixLen\n   */\n  constructor (suffixLen) {\n    super(suffixLen)\n    this._padding = ''.padStart(suffixLen + 1, '_')\n    this.name = 'next-to-last'\n  }\n\n  /**\n   * @param {string} noslash\n   */\n  fun (noslash) {\n    const s = this._padding + noslash\n    const offset = s.length - this.param - 1\n    return s.slice(offset, offset + this.param)\n  }\n}\n\n/**\n * Convert a given string to the matching sharding function.\n *\n * @param {string} str\n * @returns {Shard}\n */\nexport function parseShardFun (str) {\n  str = str.trim()\n\n  if (str.length === 0) {\n    throw new Error('empty shard string')\n  }\n\n  if (!str.startsWith(PREFIX)) {\n    throw new Error(`invalid or no path prefix: ${str}`)\n  }\n\n  const parts = str.slice(PREFIX.length).split('/')\n  const version = parts[0]\n\n  if (version !== 'v1') {\n    throw new Error(`expect 'v1' version, got '${version}'`)\n  }\n\n  const name = parts[1]\n\n  if (!parts[2]) {\n    throw new Error('missing param')\n  }\n\n  const param = parseInt(parts[2], 10)\n\n  switch (name) {\n    case 'prefix':\n      return new Prefix(param)\n    case 'suffix':\n      return new Suffix(param)\n    case 'next-to-last':\n      return new NextToLast(param)\n    default:\n      throw new Error(`unkown sharding function: ${name}`)\n  }\n}\n\n/**\n * @param {string | Uint8Array} path\n * @param {Datastore} store\n */\nexport const readShardFun = async (path, store) => {\n  const key = new Key(path).child(new Key(SHARDING_FN))\n  // @ts-ignore\n  const get = typeof store.getRaw === 'function' ? store.getRaw.bind(store) : store.get.bind(store)\n  const res = await get(key)\n  return parseShardFun(new TextDecoder().decode(res || '').trim())\n}\n\nexport { default as readme } from './shard-readme.js'\n","\nimport all from 'it-all'\n\n/**\n * Collect all values from the iterable and sort them using\n * the passed sorter function\n *\n * @template T\n * @param {AsyncIterable<T> | Iterable<T>} iterable\n * @param {(a: T, b: T) => -1 | 0 | 1} sorter\n * @returns {AsyncIterable<T>}\n */\nexport const sortAll = (iterable, sorter) => {\n  return (async function * () {\n    const values = await all(iterable)\n    yield * values.sort(sorter)\n  })()\n}\n\n/**\n * @param {string} s\n * @param {string} r\n */\nexport const replaceStartWith = (s, r) => {\n  const matcher = new RegExp('^' + r)\n  return s.replace(matcher, '')\n}\n","/**\n * Collects all values from an (async) iterable and returns them as an array\n */\nexport default async function all(source) {\n    const arr = [];\n    for await (const entry of source) {\n        arr.push(entry);\n    }\n    return arr;\n}\n//# sourceMappingURL=index.js.map","import { sortAll } from './utils.js'\nimport drain from 'it-drain'\nimport filter from 'it-filter'\nimport take from 'it-take'\n\n/**\n * @typedef {import('interface-store').Options} Options\n * @typedef {import('interface-datastore').Key} Key\n * @typedef {import('interface-datastore').Pair} Pair\n * @typedef {import('interface-datastore').Datastore} Datastore\n * @typedef {import('interface-datastore').Query} Query\n * @typedef {import('interface-datastore').KeyQuery} KeyQuery\n * @typedef {import('interface-datastore').Batch} Batch\n */\n\n/**\n * @template O\n * @typedef {import('interface-store').AwaitIterable<O>} AwaitIterable\n */\n\n/**\n * @implements {Datastore}\n */\nexport class BaseDatastore {\n  /**\n   * @returns {Promise<void>}\n   */\n  open () {\n    return Promise.reject(new Error('.open is not implemented'))\n  }\n\n  /**\n   * @returns {Promise<void>}\n   */\n  close () {\n    return Promise.reject(new Error('.close is not implemented'))\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Uint8Array} val\n   * @param {Options} [options]\n   * @returns {Promise<void>}\n   */\n  put (key, val, options) {\n    return Promise.reject(new Error('.put is not implemented'))\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Options} [options]\n   * @returns {Promise<Uint8Array>}\n   */\n  get (key, options) {\n    return Promise.reject(new Error('.get is not implemented'))\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Options} [options]\n   * @returns {Promise<boolean>}\n   */\n  has (key, options) {\n    return Promise.reject(new Error('.has is not implemented'))\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Options} [options]\n   * @returns {Promise<void>}\n   */\n  delete (key, options) {\n    return Promise.reject(new Error('.delete is not implemented'))\n  }\n\n  /**\n   * @param {AwaitIterable<Pair>} source\n   * @param {Options} [options]\n   * @returns {AsyncIterable<Pair>}\n   */\n  async * putMany (source, options = {}) {\n    for await (const { key, value } of source) {\n      await this.put(key, value, options)\n      yield { key, value }\n    }\n  }\n\n  /**\n   * @param {AwaitIterable<Key>} source\n   * @param {Options} [options]\n   * @returns {AsyncIterable<Uint8Array>}\n   */\n  async * getMany (source, options = {}) {\n    for await (const key of source) {\n      yield this.get(key, options)\n    }\n  }\n\n  /**\n   * @param {AwaitIterable<Key>} source\n   * @param {Options} [options]\n   * @returns {AsyncIterable<Key>}\n   */\n  async * deleteMany (source, options = {}) {\n    for await (const key of source) {\n      await this.delete(key, options)\n      yield key\n    }\n  }\n\n  /**\n   * @returns {Batch}\n   */\n  batch () {\n    /** @type {Pair[]} */\n    let puts = []\n    /** @type {Key[]} */\n    let dels = []\n\n    return {\n      put (key, value) {\n        puts.push({ key, value })\n      },\n\n      delete (key) {\n        dels.push(key)\n      },\n      commit: async (options) => {\n        await drain(this.putMany(puts, options))\n        puts = []\n        await drain(this.deleteMany(dels, options))\n        dels = []\n      }\n    }\n  }\n\n  /**\n   * Extending classes should override `query` or implement this method\n   *\n   * @param {Query} q\n   * @param {Options} [options]\n   * @returns {AsyncIterable<Pair>}\n   */\n  // eslint-disable-next-line require-yield\n  async * _all (q, options) {\n    throw new Error('._all is not implemented')\n  }\n\n  /**\n   * Extending classes should override `queryKeys` or implement this method\n   *\n   * @param {KeyQuery} q\n   * @param {Options} [options]\n   * @returns {AsyncIterable<Key>}\n   */\n  // eslint-disable-next-line require-yield\n  async * _allKeys (q, options) {\n    throw new Error('._allKeys is not implemented')\n  }\n\n  /**\n   * @param {Query} q\n   * @param {Options} [options]\n   */\n  query (q, options) {\n    let it = this._all(q, options)\n\n    if (q.prefix != null) {\n      it = filter(it, (e) =>\n        e.key.toString().startsWith(/** @type {string} */ (q.prefix))\n      )\n    }\n\n    if (Array.isArray(q.filters)) {\n      it = q.filters.reduce((it, f) => filter(it, f), it)\n    }\n\n    if (Array.isArray(q.orders)) {\n      it = q.orders.reduce((it, f) => sortAll(it, f), it)\n    }\n\n    if (q.offset != null) {\n      let i = 0\n      it = filter(it, () => i++ >= /** @type {number} */ (q.offset))\n    }\n\n    if (q.limit != null) {\n      it = take(it, q.limit)\n    }\n\n    return it\n  }\n\n  /**\n   * @param {KeyQuery} q\n   * @param {Options} [options]\n   */\n  queryKeys (q, options) {\n    let it = this._allKeys(q, options)\n\n    if (q.prefix != null) {\n      it = filter(it, (key) =>\n        key.toString().startsWith(/** @type {string} */ (q.prefix))\n      )\n    }\n\n    if (Array.isArray(q.filters)) {\n      it = q.filters.reduce((it, f) => filter(it, f), it)\n    }\n\n    if (Array.isArray(q.orders)) {\n      it = q.orders.reduce((it, f) => sortAll(it, f), it)\n    }\n\n    if (q.offset != null) {\n      let i = 0\n      it = filter(it, () => i++ >= /** @type {number} */ (q.offset))\n    }\n\n    if (q.limit != null) {\n      it = take(it, q.limit)\n    }\n\n    return it\n  }\n}\n","import { Key } from 'interface-datastore'\nimport {\n  readShardFun,\n  SHARDING_FN,\n  README_FN,\n  readme\n} from './shard.js'\nimport { BaseDatastore } from './base.js'\nimport { KeyTransformDatastore } from './keytransform.js'\nimport * as Errors from './errors.js'\n\nconst shardKey = new Key(SHARDING_FN)\nconst shardReadmeKey = new Key(README_FN)\n/**\n * @typedef {import('interface-datastore').Datastore} Datastore\n * @typedef {import('interface-datastore').Options} Options\n * @typedef {import('interface-datastore').Batch} Batch\n * @typedef {import('interface-datastore').Query} Query\n * @typedef {import('interface-datastore').QueryFilter} QueryFilter\n * @typedef {import('interface-datastore').QueryOrder} QueryOrder\n * @typedef {import('interface-datastore').KeyQuery} KeyQuery\n * @typedef {import('interface-datastore').KeyQueryFilter} KeyQueryFilter\n * @typedef {import('interface-datastore').KeyQueryOrder} KeyQueryOrder\n * @typedef {import('interface-datastore').Pair} Pair\n * @typedef {import('./types').Shard} Shard\n *\n */\n/**\n * @template TValue\n * @typedef {import('interface-store').Await<TValue> } Await\n */\n\n/**\n * @template TEntry\n * @typedef {import('interface-store').AwaitIterable<TEntry>} AwaitIterable\n */\n\n/**\n * Backend independent abstraction of go-ds-flatfs.\n *\n * Wraps another datastore such that all values are stored\n * sharded according to the given sharding function.\n */\nexport class ShardingDatastore extends BaseDatastore {\n  /**\n   * @param {Datastore} store\n   * @param {Shard} shard\n   */\n  constructor (store, shard) {\n    super()\n\n    this.child = new KeyTransformDatastore(store, {\n      convert: this._convertKey.bind(this),\n      invert: this._invertKey.bind(this)\n    })\n    this.shard = shard\n  }\n\n  async open () {\n    await this.child.open()\n\n    this.shard = await ShardingDatastore.create(this.child, this.shard)\n  }\n\n  /**\n   * @param {Key} key\n   */\n  _convertKey (key) {\n    const s = key.toString()\n    if (s === shardKey.toString() || s === shardReadmeKey.toString()) {\n      return key\n    }\n\n    const parent = new Key(this.shard.fun(s))\n    return parent.child(key)\n  }\n\n  /**\n   * @param {Key} key\n   */\n  _invertKey (key) {\n    const s = key.toString()\n    if (s === shardKey.toString() || s === shardReadmeKey.toString()) {\n      return key\n    }\n    return Key.withNamespaces(key.list().slice(1))\n  }\n\n  /**\n   * @deprecated\n   * @param {Datastore} store\n   * @param {Shard} shard\n   */\n  static async createOrOpen (store, shard) {\n    try {\n      await ShardingDatastore.create(store, shard)\n    } catch (/** @type {any} */ err) {\n      if (err && err.message !== 'datastore exists') throw err\n    }\n    return ShardingDatastore.open(store)\n  }\n\n  /**\n   * @deprecated\n   * @param {Datastore} store\n   */\n  static async open (store) {\n    const shard = await readShardFun('/', store)\n    return new ShardingDatastore(store, shard)\n  }\n\n  /**\n   * @param {Datastore} store\n   * @param {Shard} shard\n   */\n  static async create (store, shard) {\n    const hasShard = await store.has(shardKey)\n    if (!hasShard && !shard) {\n      throw Errors.dbOpenFailedError(Error('Shard is required when datastore doesn\\'t have a shard key already.'))\n    }\n    if (!hasShard) {\n      // @ts-ignore i have no idea what putRaw is or saw any implementation\n      const put = typeof store.putRaw === 'function' ? store.putRaw.bind(store) : store.put.bind(store)\n      await Promise.all([\n        put(shardKey, new TextEncoder().encode(shard.toString() + '\\n')),\n        put(shardReadmeKey, new TextEncoder().encode(readme))\n      ])\n\n      return shard\n    }\n\n    // test shards\n    const diskShard = await readShardFun('/', store)\n    const a = (diskShard || '').toString()\n    const b = shard.toString()\n    if (a !== b) {\n      throw new Error(`specified fun ${b} does not match repo shard fun ${a}`)\n    }\n    return diskShard\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Uint8Array} val\n   * @param {Options} [options]\n   */\n  put (key, val, options) {\n    return this.child.put(key, val, options)\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Options} [options]\n   */\n  get (key, options) {\n    return this.child.get(key, options)\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Options} [options]\n   */\n  has (key, options) {\n    return this.child.has(key, options)\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Options} [options]\n   */\n  delete (key, options) {\n    return this.child.delete(key, options)\n  }\n\n  /**\n   * @param {AwaitIterable<Pair>} source\n   * @param {Options} [options]\n   * @returns {AsyncIterable<Pair>}\n   */\n  async * putMany (source, options = {}) {\n    yield * this.child.putMany(source, options)\n  }\n\n  /**\n   * @param {AwaitIterable<Key>} source\n   * @param {Options} [options]\n   * @returns {AsyncIterable<Uint8Array>}\n   */\n  async * getMany (source, options = {}) {\n    yield * this.child.getMany(source, options)\n  }\n\n  /**\n   * @param {AwaitIterable<Key>} source\n   * @param {Options} [options]\n   * @returns {AsyncIterable<Key>}\n   */\n  async * deleteMany (source, options = {}) {\n    yield * this.child.deleteMany(source, options)\n  }\n\n  batch () {\n    return this.child.batch()\n  }\n\n  /**\n   * @param {Query} q\n   * @param {Options} [options]\n   */\n  query (q, options) {\n    /** @type {Query} */\n    const tq = {\n      ...q,\n      filters: [\n        /** @type {QueryFilter} */\n        ({ key }) => key.toString() !== shardKey.toString(),\n        /** @type {QueryFilter} */\n        ({ key }) => key.toString() !== shardReadmeKey.toString()\n      ].concat(q.filters || [])\n    }\n\n    return this.child.query(tq, options)\n  }\n\n  /**\n   * @param {KeyQuery} q\n   * @param {Options} [options]\n   */\n  queryKeys (q, options) {\n    /** @type {KeyQuery} */\n    const tq = {\n      ...q,\n      filters: [\n        /** @type {KeyQueryFilter} */\n        key => key.toString() !== shardKey.toString(),\n        /** @type {KeyQueryFilter} */\n        key => key.toString() !== shardReadmeKey.toString()\n      ].concat(q.filters || [])\n    }\n\n    return this.child.queryKeys(tq, options)\n  }\n\n  close () {\n    return this.child.close()\n  }\n}\n","import { BaseDatastore } from './base.js'\nimport * as Errors from './errors.js'\nimport { logger } from '@libp2p/logger'\nimport { pushable } from 'it-pushable'\nimport drain from 'it-drain'\n\nconst log = logger('datastore:core:tiered')\n\n/**\n * @typedef {import('interface-datastore').Datastore} Datastore\n * @typedef {import('interface-datastore').Options} Options\n * @typedef {import('interface-datastore').Batch} Batch\n * @typedef {import('interface-datastore').Query} Query\n * @typedef {import('interface-datastore').KeyQuery} KeyQuery\n * @typedef {import('interface-datastore').Key} Key\n * @typedef {import('interface-datastore').Pair} Pair\n */\n\n/**\n * @template TEntry\n * @typedef {import('interface-store').AwaitIterable<TEntry>} AwaitIterable\n */\n\n/**\n * A datastore that can combine multiple stores. Puts and deletes\n * will write through to all datastores. Has and get will\n * try each store sequentially. Query will always try the\n * last one first.\n *\n */\nexport class TieredDatastore extends BaseDatastore {\n  /**\n   * @param {Datastore[]} stores\n   */\n  constructor (stores) {\n    super()\n\n    this.stores = stores.slice()\n  }\n\n  async open () {\n    try {\n      await Promise.all(this.stores.map((store) => store.open()))\n    } catch (/** @type {any} */ err) {\n      throw Errors.dbOpenFailedError(err)\n    }\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Uint8Array} value\n   * @param {Options} [options]\n   */\n  async put (key, value, options) {\n    try {\n      await Promise.all(this.stores.map(store => store.put(key, value, options)))\n    } catch (/** @type {any} */ err) {\n      throw Errors.dbWriteFailedError(err)\n    }\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Options} [options]\n   */\n  async get (key, options) {\n    for (const store of this.stores) {\n      try {\n        const res = await store.get(key, options)\n        if (res) return res\n      } catch (err) {\n        log.error(err)\n      }\n    }\n    throw Errors.notFoundError()\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Options} [options]\n   */\n  async has (key, options) {\n    for (const s of this.stores) {\n      if (await s.has(key, options)) {\n        return true\n      }\n    }\n\n    return false\n  }\n\n  /**\n   * @param {Key} key\n   * @param {Options} [options]\n   */\n  async delete (key, options) {\n    try {\n      await Promise.all(this.stores.map(store => store.delete(key, options)))\n    } catch (/** @type {any} */ err) {\n      throw Errors.dbDeleteFailedError(err)\n    }\n  }\n\n  /**\n   * @param {AwaitIterable<Pair>} source\n   * @param {Options} [options]\n   * @returns {AsyncIterable<Pair>}\n   */\n  async * putMany (source, options = {}) {\n    let error\n    const pushables = this.stores.map(store => {\n      const source = pushable({\n        objectMode: true\n      })\n\n      drain(store.putMany(source, options))\n        .catch(err => {\n          // store threw while putting, make sure we bubble the error up\n          error = err\n        })\n\n      return source\n    })\n\n    try {\n      for await (const pair of source) {\n        if (error) {\n          throw error\n        }\n\n        pushables.forEach(p => p.push(pair))\n\n        yield pair\n      }\n    } finally {\n      pushables.forEach(p => p.end())\n    }\n  }\n\n  /**\n   * @param {AwaitIterable<Key>} source\n   * @param {Options} [options]\n   * @returns {AsyncIterable<Key>}\n   */\n  async * deleteMany (source, options = {}) {\n    let error\n    const pushables = this.stores.map(store => {\n      const source = pushable({\n        objectMode: true\n      })\n\n      drain(store.deleteMany(source, options))\n        .catch(err => {\n          // store threw while deleting, make sure we bubble the error up\n          error = err\n        })\n\n      return source\n    })\n\n    try {\n      for await (const key of source) {\n        if (error) {\n          throw error\n        }\n\n        pushables.forEach(p => p.push(key))\n\n        yield key\n      }\n    } finally {\n      pushables.forEach(p => p.end())\n    }\n  }\n\n  async close () {\n    await Promise.all(this.stores.map(store => store.close()))\n  }\n\n  /**\n   * @returns {Batch}\n   */\n  batch () {\n    const batches = this.stores.map(store => store.batch())\n\n    return {\n      put: (key, value) => {\n        batches.forEach(b => b.put(key, value))\n      },\n      delete: (key) => {\n        batches.forEach(b => b.delete(key))\n      },\n      commit: async (options) => {\n        for (const batch of batches) {\n          await batch.commit(options)\n        }\n      }\n    }\n  }\n\n  /**\n   * @param {Query} q\n   * @param {Options} [options]\n   */\n  query (q, options) {\n    return this.stores[this.stores.length - 1].query(q, options)\n  }\n\n  /**\n   * @param {KeyQuery} q\n   * @param {Options} [options]\n   */\n  queryKeys (q, options) {\n    return this.stores[this.stores.length - 1].queryKeys(q, options)\n  }\n}\n","import { CodeError } from '@libp2p/interfaces/errors'\nimport { toString as uint8ArrayToString } from 'uint8arrays/to-string'\nimport { fromString as uint8ArrayFromString } from 'uint8arrays/from-string'\n\n/**\n * @typedef {import('interface-datastore').Key} Key\n */\n\nconst namespace = '/record/'\n\n/**\n * @param {Uint8Array} buf\n */\nexport function encodeBase32 (buf) {\n  return uint8ArrayToString(buf, 'base32')\n}\n\n/**\n * converts a binary record key to a pubsub topic key\n *\n * @param {Uint8Array | string} key\n */\nexport function keyToTopic (key) {\n  // Record-store keys are arbitrary binary. However, pubsub requires UTF-8 string topic IDs\n  // Encodes to \"/record/base64url(key)\"\n  if (typeof key === 'string' || key instanceof String) {\n    key = uint8ArrayFromString(key.toString())\n  }\n\n  const b64url = uint8ArrayToString(key, 'base64url')\n\n  return `${namespace}${b64url}`\n}\n\n/**\n * converts a pubsub topic key to a binary record key\n *\n * @param {string} topic\n */\nexport function topicToKey (topic) {\n  if (topic.substring(0, namespace.length) !== namespace) {\n    throw new CodeError('topic received is not from a record', 'ERR_TOPIC_IS_NOT_FROM_RECORD_NAMESPACE')\n  }\n\n  const key = topic.substring(namespace.length)\n\n  return uint8ArrayFromString(key, 'base64url')\n}\n","import { Key } from 'interface-datastore'\nimport { BaseDatastore } from 'datastore-core'\nimport { encodeBase32, keyToTopic, topicToKey } from './utils.js'\nimport { equals as uint8ArrayEquals } from 'uint8arrays/equals'\nimport { CodeError } from '@libp2p/interfaces/errors'\nimport { logger } from '@libp2p/logger'\n\nconst log = logger('datastore-pubsub:publisher')\n\n/**\n * @typedef {import('@libp2p/interface-peer-id').PeerId} PeerId\n * @typedef {import('./types').SubscriptionKeyFn} SubscriptionKeyFn\n * @typedef {import('@libp2p/interface-pubsub').Message} PubSubMessage\n * @typedef {import('@libp2p/interfaces').AbortOptions} AbortOptions\n */\n\n// DatastorePubsub is responsible for providing an api for pubsub to be used as a datastore with\n// [TieredDatastore]{@link https://github.com/ipfs/js-datastore-core/blob/master/src/tiered.js}\nexport class PubSubDatastore extends BaseDatastore {\n  /**\n   * Creates an instance of DatastorePubsub.\n   *\n   * @param {import('@libp2p/interface-pubsub').PubSub} pubsub - pubsub implementation\n   * @param {import('interface-datastore').Datastore} datastore - datastore instance\n   * @param {PeerId} peerId - peer-id instance\n   * @param {import('@libp2p/interface-dht').ValidateFn} validator - validator function\n   * @param {import('@libp2p/interface-dht').SelectFn} selector - selector function\n   * @param {SubscriptionKeyFn} [subscriptionKeyFn] - function to manipulate the key topic received before processing it\n   * @memberof DatastorePubsub\n   */\n  constructor (pubsub, datastore, peerId, validator, selector, subscriptionKeyFn) {\n    super()\n\n    if (!validator) {\n      throw new CodeError('missing validator', 'ERR_INVALID_PARAMETERS')\n    }\n\n    if (typeof validator !== 'function') {\n      throw new CodeError('missing validate function', 'ERR_INVALID_PARAMETERS')\n    }\n\n    if (typeof selector !== 'function') {\n      throw new CodeError('missing select function', 'ERR_INVALID_PARAMETERS')\n    }\n\n    if (subscriptionKeyFn && typeof subscriptionKeyFn !== 'function') {\n      throw new CodeError('invalid subscriptionKeyFn received', 'ERR_INVALID_PARAMETERS')\n    }\n\n    this._pubsub = pubsub\n    this._datastore = datastore\n    this._peerId = peerId\n    this._validator = validator\n    this._selector = selector\n    this._handleSubscriptionKeyFn = subscriptionKeyFn\n\n    // Bind _onMessage function, which is called by pubsub.\n    this._onMessage = this._onMessage.bind(this)\n    this._pubsub.addEventListener('message', this._onMessage)\n  }\n\n  /**\n   * Publishes a value through pubsub.\n   *\n   * @param {Uint8Array} key - identifier of the value to be published.\n   * @param {Uint8Array} val - value to be propagated.\n   * @param {AbortOptions} [options]\n   */\n  // @ts-ignore Datastores take keys as Keys, this one takes Uint8Arrays\n  async put (key, val, options) {\n    if (!(key instanceof Uint8Array)) {\n      const errMsg = 'datastore key does not have a valid format'\n\n      log.error(errMsg)\n      throw new CodeError(errMsg, 'ERR_INVALID_DATASTORE_KEY')\n    }\n\n    if (!(val instanceof Uint8Array)) {\n      const errMsg = 'received value is not a Uint8Array'\n\n      log.error(errMsg)\n      throw new CodeError(errMsg, 'ERR_INVALID_VALUE_RECEIVED')\n    }\n\n    const stringifiedTopic = keyToTopic(key)\n\n    log(`publish value for topic ${stringifiedTopic}`)\n\n    // Publish record to pubsub\n    await this._pubsub.publish(stringifiedTopic, val)\n  }\n\n  /**\n   * Try to subscribe a topic with Pubsub and returns the local value if available.\n   *\n   * @param {Uint8Array} key - identifier of the value to be subscribed.\n   * @param {AbortOptions} [options]\n   */\n  // @ts-ignore Datastores take keys as Keys, this one takes Uint8Arrays\n  async get (key, options) {\n    if (!(key instanceof Uint8Array)) {\n      const errMsg = 'datastore key does not have a valid format'\n\n      log.error(errMsg)\n      throw new CodeError(errMsg, 'ERR_INVALID_DATASTORE_KEY')\n    }\n\n    const stringifiedTopic = keyToTopic(key)\n    const subscriptions = await this._pubsub.getTopics()\n\n    // If already subscribed, just try to get it\n    if (subscriptions && Array.isArray(subscriptions) && subscriptions.indexOf(stringifiedTopic) > -1) {\n      return this._getLocal(key, options)\n    }\n\n    // subscribe\n    try {\n      await this._pubsub.subscribe(stringifiedTopic)\n    } catch (/** @type {any} */ err) {\n      const errMsg = `cannot subscribe topic ${stringifiedTopic}`\n\n      log.error(errMsg)\n      throw new CodeError(errMsg, 'ERR_SUBSCRIBING_TOPIC')\n    }\n    log(`subscribed values for key ${stringifiedTopic}`)\n\n    return this._getLocal(key)\n  }\n\n  /**\n   * Unsubscribe topic.\n   *\n   * @param {Uint8Array} key - identifier of the value to unsubscribe.\n   * @returns {void}\n   */\n  unsubscribe (key) {\n    const stringifiedTopic = keyToTopic(key)\n\n    return this._pubsub.unsubscribe(stringifiedTopic)\n  }\n\n  /**\n   * Get record from local datastore\n   *\n   * @private\n   * @param {Uint8Array} key\n   * @param {AbortOptions} [options]\n   */\n  async _getLocal (key, options) {\n    // encode key - base32(/ipns/{cid})\n    const routingKey = new Key('/' + encodeBase32(key), false)\n    let dsVal\n\n    try {\n      dsVal = await this._datastore.get(routingKey, options)\n    } catch (/** @type {any} */ err) {\n      if (err.code !== 'ERR_NOT_FOUND') {\n        const errMsg = `unexpected error getting the ipns record for ${routingKey.toString()}`\n\n        log.error(errMsg)\n        throw new CodeError(errMsg, 'ERR_UNEXPECTED_ERROR_GETTING_RECORD')\n      }\n      const errMsg = `local record requested was not found for ${routingKey.toString()}`\n\n      log.error(errMsg)\n      throw new CodeError(errMsg, 'ERR_NOT_FOUND')\n    }\n\n    if (!(dsVal instanceof Uint8Array)) {\n      const errMsg = 'found record that we couldn\\'t convert to a value'\n\n      log.error(errMsg)\n      throw new CodeError(errMsg, 'ERR_INVALID_RECORD_RECEIVED')\n    }\n\n    return dsVal\n  }\n\n  /**\n   * handles pubsub subscription messages\n   *\n   * @param {CustomEvent<PubSubMessage>} evt\n   */\n  async _onMessage (evt) {\n    const msg = evt.detail\n\n    if (msg.type !== 'signed') {\n      log.error('unsigned message received, this module can only work with signed messages')\n      return\n    }\n\n    const { data, from, topic } = msg\n    let key\n    try {\n      key = topicToKey(topic)\n    } catch (/** @type {any} */ err) {\n      log.error(err)\n      return\n    }\n\n    log(`message received for topic ${topic}`)\n\n    // Stop if the message is from the peer (it already stored it while publishing to pubsub)\n    if (this._peerId.equals(from)) {\n      log('message discarded as it is from the same peer')\n      return\n    }\n\n    if (this._handleSubscriptionKeyFn) {\n      let res\n\n      try {\n        res = await this._handleSubscriptionKeyFn(key)\n      } catch (/** @type {any} */ err) {\n        log.error('message discarded by the subscriptionKeyFn')\n        return\n      }\n\n      key = res\n    }\n\n    try {\n      await this._storeIfSubscriptionIsBetter(key, data)\n    } catch (/** @type {any} */ err) {\n      log.error(err)\n    }\n  }\n\n  /**\n   * Store the received record if it is better than the current stored\n   *\n   * @param {Uint8Array} key\n   * @param {Uint8Array} data\n   * @param {AbortOptions} [options]\n   */\n  async _storeIfSubscriptionIsBetter (key, data, options) {\n    let isBetter = false\n\n    try {\n      isBetter = await this._isBetter(key, data)\n    } catch (/** @type {any} */ err) {\n      if (err.code !== 'ERR_NOT_VALID_RECORD') {\n        throw err\n      }\n    }\n\n    if (isBetter) {\n      await this._storeRecord(key, data, options)\n    }\n  }\n\n  /**\n   * Validate record according to the received validation function\n   *\n   * @param {Uint8Array} key\n   * @param {Uint8Array} value\n   */\n  async _validateRecord (key, value) { // eslint-disable-line require-await\n    return this._validator(key, value)\n  }\n\n  /**\n   * Select the best record according to the received select function\n   *\n   * @param {Uint8Array} key\n   * @param {Uint8Array[]} records\n   */\n  async _selectRecord (key, records) {\n    const res = await this._selector(key, records)\n\n    // If the selected was the first (0), it should be stored (true)\n    return res === 0\n  }\n\n  /**\n   * Verify if the record received through pubsub is valid and better than the one currently stored\n   *\n   * @param {Uint8Array} key\n   * @param {Uint8Array} val\n   */\n  async _isBetter (key, val) {\n    try {\n      await this._validateRecord(key, val)\n    } catch (/** @type {any} */ err) {\n      // If not valid, it is not better than the one currently available\n      const errMsg = 'record received through pubsub is not valid'\n\n      log.error(errMsg)\n      throw new CodeError(errMsg, 'ERR_NOT_VALID_RECORD')\n    }\n\n    // Get Local record\n    const dsKey = new Key(key)\n    let currentRecord\n\n    try {\n      currentRecord = await this._getLocal(dsKey.uint8Array())\n    } catch (/** @type {any} */ err) {\n      // if the old one is invalid, the new one is *always* better\n      return true\n    }\n\n    // if the same record, do not need to store\n    if (uint8ArrayEquals(currentRecord, val)) {\n      return false\n    }\n\n    // verify if the received record should replace the current one\n    return this._selectRecord(key, [currentRecord, val])\n  }\n\n  /**\n   * add record to datastore\n   *\n   * @param {Uint8Array} key\n   * @param {Uint8Array} data\n   * @param {AbortOptions} [options]\n   */\n  async _storeRecord (key, data, options) {\n    // encode key - base32(/ipns/{cid})\n    const routingKey = new Key('/' + encodeBase32(key), false)\n\n    await this._datastore.put(routingKey, data, options)\n    log(`record for ${keyToTopic(key)} was stored in the datastore`)\n  }\n}\n","const globalFetch = globalThis.fetch;\nconst globalHeaders = globalThis.Headers;\nconst globalRequest = globalThis.Request;\nconst globalResponse = globalThis.Response;\nexport {\n  globalFetch as fetch\n};\nexport {\n  globalHeaders as Headers\n};\nexport {\n  globalRequest as Request\n};\nexport {\n  globalResponse as Response\n};","import { fetch as nativeFetch, Headers } from 'native-fetch';\n/**\n * Build fetch resource for request\n */\nexport function buildResource(serverResolver, hostname, recordType) {\n    return `${serverResolver}?name=${hostname}&type=${recordType}`;\n}\n/**\n * Use fetch to find the record\n */\nexport async function request(resource, signal) {\n    const req = await nativeFetch(resource, {\n        headers: new Headers({\n            accept: 'application/dns-json'\n        }),\n        signal\n    });\n    const res = await req.json();\n    return res;\n}\n/**\n * Creates cache key composed by recordType and hostname\n *\n * @param {string} hostname\n * @param {string} recordType\n */\nexport function getCacheKey(hostname, recordType) {\n    return `${recordType}_${hostname}`;\n}\n//# sourceMappingURL=utils.js.map","import debug from 'debug';\nimport Receptacle from 'receptacle';\nimport * as utils from './utils.js';\nconst log = Object.assign(debug('dns-over-http-resolver'), {\n    error: debug('dns-over-http-resolver:error')\n});\n/**\n * DNS over HTTP resolver.\n * Uses a list of servers to resolve DNS records with HTTP requests.\n */\nclass Resolver {\n    /**\n     * @class\n     * @param {object} [options]\n     * @param {number} [options.maxCache = 100] - maximum number of cached dns records\n     * @param {Request} [options.request] - function to return DNSJSON\n     */\n    constructor(options = {}) {\n        this._cache = new Receptacle({ max: options?.maxCache ?? 100 });\n        this._TXTcache = new Receptacle({ max: options?.maxCache ?? 100 });\n        this._servers = [\n            'https://cloudflare-dns.com/dns-query',\n            'https://dns.google/resolve'\n        ];\n        this._request = options.request ?? utils.request;\n        this._abortControllers = [];\n    }\n    /**\n     * Cancel all outstanding DNS queries made by this resolver. Any outstanding\n     * requests will be aborted and promises rejected.\n     */\n    cancel() {\n        this._abortControllers.forEach(controller => controller.abort());\n    }\n    /**\n     * Get an array of the IP addresses currently configured for DNS resolution.\n     * These addresses are formatted according to RFC 5952. It can include a custom port.\n     */\n    getServers() {\n        return this._servers;\n    }\n    /**\n     * Get a shuffled array of the IP addresses currently configured for DNS resolution.\n     * These addresses are formatted according to RFC 5952. It can include a custom port.\n     */\n    _getShuffledServers() {\n        const newServers = [...this._servers];\n        for (let i = newServers.length - 1; i > 0; i--) {\n            const j = Math.floor(Math.random() * i);\n            const temp = newServers[i];\n            newServers[i] = newServers[j];\n            newServers[j] = temp;\n        }\n        return newServers;\n    }\n    /**\n     * Sets the IP address and port of servers to be used when performing DNS resolution.\n     *\n     * @param {string[]} servers - array of RFC 5952 formatted addresses.\n     */\n    setServers(servers) {\n        this._servers = servers;\n    }\n    /**\n     * Uses the DNS protocol to resolve the given host name into the appropriate DNS record\n     *\n     * @param {string} hostname - host name to resolve\n     * @param {string} [rrType = 'A'] - resource record type\n     */\n    async resolve(hostname, rrType = 'A') {\n        switch (rrType) {\n            case 'A':\n                return await this.resolve4(hostname);\n            case 'AAAA':\n                return await this.resolve6(hostname);\n            case 'TXT':\n                return await this.resolveTxt(hostname);\n            default:\n                throw new Error(`${rrType} is not supported`);\n        }\n    }\n    /**\n     * Uses the DNS protocol to resolve the given host name into IPv4 addresses\n     *\n     * @param {string} hostname - host name to resolve\n     */\n    async resolve4(hostname) {\n        const recordType = 'A';\n        const cached = this._cache.get(utils.getCacheKey(hostname, recordType));\n        if (cached != null) {\n            return cached;\n        }\n        let aborted = false;\n        for (const server of this._getShuffledServers()) {\n            const controller = new AbortController();\n            this._abortControllers.push(controller);\n            try {\n                const response = await this._request(utils.buildResource(server, hostname, recordType), controller.signal);\n                const data = response.Answer.map(a => a.data);\n                const ttl = Math.min(...response.Answer.map(a => a.TTL));\n                this._cache.set(utils.getCacheKey(hostname, recordType), data, { ttl });\n                return data;\n            }\n            catch (err) {\n                if (controller.signal.aborted) {\n                    aborted = true;\n                }\n                log.error(`${server} could not resolve ${hostname} record ${recordType}`);\n            }\n            finally {\n                this._abortControllers = this._abortControllers.filter(c => c !== controller);\n            }\n        }\n        if (aborted) {\n            throw Object.assign(new Error('queryA ECANCELLED'), {\n                code: 'ECANCELLED'\n            });\n        }\n        throw new Error(`Could not resolve ${hostname} record ${recordType}`);\n    }\n    /**\n     * Uses the DNS protocol to resolve the given host name into IPv6 addresses\n     *\n     * @param {string} hostname - host name to resolve\n     */\n    async resolve6(hostname) {\n        const recordType = 'AAAA';\n        const cached = this._cache.get(utils.getCacheKey(hostname, recordType));\n        if (cached != null) {\n            return cached;\n        }\n        let aborted = false;\n        for (const server of this._getShuffledServers()) {\n            const controller = new AbortController();\n            this._abortControllers.push(controller);\n            try {\n                const response = await this._request(utils.buildResource(server, hostname, recordType), controller.signal);\n                const data = response.Answer.map(a => a.data);\n                const ttl = Math.min(...response.Answer.map(a => a.TTL));\n                this._cache.set(utils.getCacheKey(hostname, recordType), data, { ttl });\n                return data;\n            }\n            catch (err) {\n                if (controller.signal.aborted) {\n                    aborted = true;\n                }\n                log.error(`${server} could not resolve ${hostname} record ${recordType}`);\n            }\n            finally {\n                this._abortControllers = this._abortControllers.filter(c => c !== controller);\n            }\n        }\n        if (aborted) {\n            throw Object.assign(new Error('queryAaaa ECANCELLED'), {\n                code: 'ECANCELLED'\n            });\n        }\n        throw new Error(`Could not resolve ${hostname} record ${recordType}`);\n    }\n    /**\n     * Uses the DNS protocol to resolve the given host name into a Text record\n     *\n     * @param {string} hostname - host name to resolve\n     */\n    async resolveTxt(hostname) {\n        const recordType = 'TXT';\n        const cached = this._TXTcache.get(utils.getCacheKey(hostname, recordType));\n        if (cached != null) {\n            return cached;\n        }\n        let aborted = false;\n        for (const server of this._getShuffledServers()) {\n            const controller = new AbortController();\n            this._abortControllers.push(controller);\n            try {\n                const response = await this._request(utils.buildResource(server, hostname, recordType), controller.signal);\n                const data = response.Answer.map(a => [a.data.replace(/['\"]+/g, '')]);\n                const ttl = Math.min(...response.Answer.map(a => a.TTL));\n                this._TXTcache.set(utils.getCacheKey(hostname, recordType), data, { ttl });\n                return data;\n            }\n            catch (err) {\n                if (controller.signal.aborted) {\n                    aborted = true;\n                }\n                log.error(`${server} could not resolve ${hostname} record ${recordType}`);\n            }\n            finally {\n                this._abortControllers = this._abortControllers.filter(c => c !== controller);\n            }\n        }\n        if (aborted) {\n            throw Object.assign(new Error('queryTxt ECANCELLED'), {\n                code: 'ECANCELLED'\n            });\n        }\n        throw new Error(`Could not resolve ${hostname} record ${recordType}`);\n    }\n    clearCache() {\n        this._cache.clear();\n        this._TXTcache.clear();\n    }\n}\nexport default Resolver;\n//# sourceMappingURL=index.js.map","const PACKET_TYPES = Object.create(null); // no Map = no polyfill\nPACKET_TYPES[\"open\"] = \"0\";\nPACKET_TYPES[\"close\"] = \"1\";\nPACKET_TYPES[\"ping\"] = \"2\";\nPACKET_TYPES[\"pong\"] = \"3\";\nPACKET_TYPES[\"message\"] = \"4\";\nPACKET_TYPES[\"upgrade\"] = \"5\";\nPACKET_TYPES[\"noop\"] = \"6\";\nconst PACKET_TYPES_REVERSE = Object.create(null);\nObject.keys(PACKET_TYPES).forEach(key => {\n    PACKET_TYPES_REVERSE[PACKET_TYPES[key]] = key;\n});\nconst ERROR_PACKET = { type: \"error\", data: \"parser error\" };\nexport { PACKET_TYPES, PACKET_TYPES_REVERSE, ERROR_PACKET };\n","import { PACKET_TYPES } from \"./commons.js\";\nconst withNativeBlob = typeof Blob === \"function\" ||\n    (typeof Blob !== \"undefined\" &&\n        Object.prototype.toString.call(Blob) === \"[object BlobConstructor]\");\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\n// ArrayBuffer.isView method is not defined in IE10\nconst isView = obj => {\n    return typeof ArrayBuffer.isView === \"function\"\n        ? ArrayBuffer.isView(obj)\n        : obj && obj.buffer instanceof ArrayBuffer;\n};\nconst encodePacket = ({ type, data }, supportsBinary, callback) => {\n    if (withNativeBlob && data instanceof Blob) {\n        if (supportsBinary) {\n            return callback(data);\n        }\n        else {\n            return encodeBlobAsBase64(data, callback);\n        }\n    }\n    else if (withNativeArrayBuffer &&\n        (data instanceof ArrayBuffer || isView(data))) {\n        if (supportsBinary) {\n            return callback(data);\n        }\n        else {\n            return encodeBlobAsBase64(new Blob([data]), callback);\n        }\n    }\n    // plain string\n    return callback(PACKET_TYPES[type] + (data || \"\"));\n};\nconst encodeBlobAsBase64 = (data, callback) => {\n    const fileReader = new FileReader();\n    fileReader.onload = function () {\n        const content = fileReader.result.split(\",\")[1];\n        callback(\"b\" + (content || \"\"));\n    };\n    return fileReader.readAsDataURL(data);\n};\nexport default encodePacket;\n","// imported from https://github.com/socketio/base64-arraybuffer\nconst chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n// Use a lookup table to find the index.\nconst lookup = typeof Uint8Array === 'undefined' ? [] : new Uint8Array(256);\nfor (let i = 0; i < chars.length; i++) {\n    lookup[chars.charCodeAt(i)] = i;\n}\nexport const encode = (arraybuffer) => {\n    let bytes = new Uint8Array(arraybuffer), i, len = bytes.length, base64 = '';\n    for (i = 0; i < len; i += 3) {\n        base64 += chars[bytes[i] >> 2];\n        base64 += chars[((bytes[i] & 3) << 4) | (bytes[i + 1] >> 4)];\n        base64 += chars[((bytes[i + 1] & 15) << 2) | (bytes[i + 2] >> 6)];\n        base64 += chars[bytes[i + 2] & 63];\n    }\n    if (len % 3 === 2) {\n        base64 = base64.substring(0, base64.length - 1) + '=';\n    }\n    else if (len % 3 === 1) {\n        base64 = base64.substring(0, base64.length - 2) + '==';\n    }\n    return base64;\n};\nexport const decode = (base64) => {\n    let bufferLength = base64.length * 0.75, len = base64.length, i, p = 0, encoded1, encoded2, encoded3, encoded4;\n    if (base64[base64.length - 1] === '=') {\n        bufferLength--;\n        if (base64[base64.length - 2] === '=') {\n            bufferLength--;\n        }\n    }\n    const arraybuffer = new ArrayBuffer(bufferLength), bytes = new Uint8Array(arraybuffer);\n    for (i = 0; i < len; i += 4) {\n        encoded1 = lookup[base64.charCodeAt(i)];\n        encoded2 = lookup[base64.charCodeAt(i + 1)];\n        encoded3 = lookup[base64.charCodeAt(i + 2)];\n        encoded4 = lookup[base64.charCodeAt(i + 3)];\n        bytes[p++] = (encoded1 << 2) | (encoded2 >> 4);\n        bytes[p++] = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n        bytes[p++] = ((encoded3 & 3) << 6) | (encoded4 & 63);\n    }\n    return arraybuffer;\n};\n","import { ERROR_PACKET, PACKET_TYPES_REVERSE } from \"./commons.js\";\nimport { decode } from \"./contrib/base64-arraybuffer.js\";\nconst withNativeArrayBuffer = typeof ArrayBuffer === \"function\";\nconst decodePacket = (encodedPacket, binaryType) => {\n    if (typeof encodedPacket !== \"string\") {\n        return {\n            type: \"message\",\n            data: mapBinary(encodedPacket, binaryType)\n        };\n    }\n    const type = encodedPacket.charAt(0);\n    if (type === \"b\") {\n        return {\n            type: \"message\",\n            data: decodeBase64Packet(encodedPacket.substring(1), binaryType)\n        };\n    }\n    const packetType = PACKET_TYPES_REVERSE[type];\n    if (!packetType) {\n        return ERROR_PACKET;\n    }\n    return encodedPacket.length > 1\n        ? {\n            type: PACKET_TYPES_REVERSE[type],\n            data: encodedPacket.substring(1)\n        }\n        : {\n            type: PACKET_TYPES_REVERSE[type]\n        };\n};\nconst decodeBase64Packet = (data, binaryType) => {\n    if (withNativeArrayBuffer) {\n        const decoded = decode(data);\n        return mapBinary(decoded, binaryType);\n    }\n    else {\n        return { base64: true, data }; // fallback for old browsers\n    }\n};\nconst mapBinary = (data, binaryType) => {\n    switch (binaryType) {\n        case \"blob\":\n            return data instanceof ArrayBuffer ? new Blob([data]) : data;\n        case \"arraybuffer\":\n        default:\n            return data; // assuming the data is already an ArrayBuffer\n    }\n};\nexport default decodePacket;\n","import encodePacket from \"./encodePacket.js\";\nimport decodePacket from \"./decodePacket.js\";\nconst SEPARATOR = String.fromCharCode(30); // see https://en.wikipedia.org/wiki/Delimiter#ASCII_delimited_text\nconst encodePayload = (packets, callback) => {\n    // some packets may be added to the array while encoding, so the initial length must be saved\n    const length = packets.length;\n    const encodedPackets = new Array(length);\n    let count = 0;\n    packets.forEach((packet, i) => {\n        // force base64 encoding for binary packets\n        encodePacket(packet, false, encodedPacket => {\n            encodedPackets[i] = encodedPacket;\n            if (++count === length) {\n                callback(encodedPackets.join(SEPARATOR));\n            }\n        });\n    });\n};\nconst decodePayload = (encodedPayload, binaryType) => {\n    const encodedPackets = encodedPayload.split(SEPARATOR);\n    const packets = [];\n    for (let i = 0; i < encodedPackets.length; i++) {\n        const decodedPacket = decodePacket(encodedPackets[i], binaryType);\n        packets.push(decodedPacket);\n        if (decodedPacket.type === \"error\") {\n            break;\n        }\n    }\n    return packets;\n};\nexport const protocol = 4;\nexport { encodePacket, encodePayload, decodePacket, decodePayload };\n","export const globalThisShim = (() => {\n    if (typeof self !== \"undefined\") {\n        return self;\n    }\n    else if (typeof window !== \"undefined\") {\n        return window;\n    }\n    else {\n        return Function(\"return this\")();\n    }\n})();\n","import { globalThisShim as globalThis } from \"./globalThis.js\";\nexport function pick(obj, ...attr) {\n    return attr.reduce((acc, k) => {\n        if (obj.hasOwnProperty(k)) {\n            acc[k] = obj[k];\n        }\n        return acc;\n    }, {});\n}\n// Keep a reference to the real timeout functions so they can be used when overridden\nconst NATIVE_SET_TIMEOUT = globalThis.setTimeout;\nconst NATIVE_CLEAR_TIMEOUT = globalThis.clearTimeout;\nexport function installTimerFunctions(obj, opts) {\n    if (opts.useNativeTimers) {\n        obj.setTimeoutFn = NATIVE_SET_TIMEOUT.bind(globalThis);\n        obj.clearTimeoutFn = NATIVE_CLEAR_TIMEOUT.bind(globalThis);\n    }\n    else {\n        obj.setTimeoutFn = globalThis.setTimeout.bind(globalThis);\n        obj.clearTimeoutFn = globalThis.clearTimeout.bind(globalThis);\n    }\n}\n// base64 encoded buffers are about 33% bigger (https://en.wikipedia.org/wiki/Base64)\nconst BASE64_OVERHEAD = 1.33;\n// we could also have used `new Blob([obj]).size`, but it isn't supported in IE9\nexport function byteLength(obj) {\n    if (typeof obj === \"string\") {\n        return utf8Length(obj);\n    }\n    // arraybuffer or blob\n    return Math.ceil((obj.byteLength || obj.size) * BASE64_OVERHEAD);\n}\nfunction utf8Length(str) {\n    let c = 0, length = 0;\n    for (let i = 0, l = str.length; i < l; i++) {\n        c = str.charCodeAt(i);\n        if (c < 0x80) {\n            length += 1;\n        }\n        else if (c < 0x800) {\n            length += 2;\n        }\n        else if (c < 0xd800 || c >= 0xe000) {\n            length += 3;\n        }\n        else {\n            i++;\n            length += 4;\n        }\n    }\n    return length;\n}\n","import { decodePacket } from \"engine.io-parser\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { installTimerFunctions } from \"./util.js\";\nclass TransportError extends Error {\n    constructor(reason, description, context) {\n        super(reason);\n        this.description = description;\n        this.context = context;\n        this.type = \"TransportError\";\n    }\n}\nexport class Transport extends Emitter {\n    /**\n     * Transport abstract constructor.\n     *\n     * @param {Object} opts - options\n     * @protected\n     */\n    constructor(opts) {\n        super();\n        this.writable = false;\n        installTimerFunctions(this, opts);\n        this.opts = opts;\n        this.query = opts.query;\n        this.socket = opts.socket;\n    }\n    /**\n     * Emits an error.\n     *\n     * @param {String} reason\n     * @param description\n     * @param context - the error context\n     * @return {Transport} for chaining\n     * @protected\n     */\n    onError(reason, description, context) {\n        super.emitReserved(\"error\", new TransportError(reason, description, context));\n        return this;\n    }\n    /**\n     * Opens the transport.\n     */\n    open() {\n        this.readyState = \"opening\";\n        this.doOpen();\n        return this;\n    }\n    /**\n     * Closes the transport.\n     */\n    close() {\n        if (this.readyState === \"opening\" || this.readyState === \"open\") {\n            this.doClose();\n            this.onClose();\n        }\n        return this;\n    }\n    /**\n     * Sends multiple packets.\n     *\n     * @param {Array} packets\n     */\n    send(packets) {\n        if (this.readyState === \"open\") {\n            this.write(packets);\n        }\n        else {\n            // this might happen if the transport was silently closed in the beforeunload event handler\n        }\n    }\n    /**\n     * Called upon open\n     *\n     * @protected\n     */\n    onOpen() {\n        this.readyState = \"open\";\n        this.writable = true;\n        super.emitReserved(\"open\");\n    }\n    /**\n     * Called with data.\n     *\n     * @param {String} data\n     * @protected\n     */\n    onData(data) {\n        const packet = decodePacket(data, this.socket.binaryType);\n        this.onPacket(packet);\n    }\n    /**\n     * Called with a decoded packet.\n     *\n     * @protected\n     */\n    onPacket(packet) {\n        super.emitReserved(\"packet\", packet);\n    }\n    /**\n     * Called upon close.\n     *\n     * @protected\n     */\n    onClose(details) {\n        this.readyState = \"closed\";\n        super.emitReserved(\"close\", details);\n    }\n    /**\n     * Pauses the transport, in order not to lose packets during an upgrade.\n     *\n     * @param onPause\n     */\n    pause(onPause) { }\n}\n","// imported from https://github.com/unshiftio/yeast\n'use strict';\nconst alphabet = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_'.split(''), length = 64, map = {};\nlet seed = 0, i = 0, prev;\n/**\n * Return a string representing the specified number.\n *\n * @param {Number} num The number to convert.\n * @returns {String} The string representation of the number.\n * @api public\n */\nexport function encode(num) {\n    let encoded = '';\n    do {\n        encoded = alphabet[num % length] + encoded;\n        num = Math.floor(num / length);\n    } while (num > 0);\n    return encoded;\n}\n/**\n * Return the integer value specified by the given string.\n *\n * @param {String} str The string to convert.\n * @returns {Number} The integer value represented by the string.\n * @api public\n */\nexport function decode(str) {\n    let decoded = 0;\n    for (i = 0; i < str.length; i++) {\n        decoded = decoded * length + map[str.charAt(i)];\n    }\n    return decoded;\n}\n/**\n * Yeast: A tiny growing id generator.\n *\n * @returns {String} A unique id.\n * @api public\n */\nexport function yeast() {\n    const now = encode(+new Date());\n    if (now !== prev)\n        return seed = 0, prev = now;\n    return now + '.' + encode(seed++);\n}\n//\n// Map each character to its index.\n//\nfor (; i < length; i++)\n    map[alphabet[i]] = i;\n","// imported from https://github.com/galkn/querystring\n/**\n * Compiles a querystring\n * Returns string representation of the object\n *\n * @param {Object}\n * @api private\n */\nexport function encode(obj) {\n    let str = '';\n    for (let i in obj) {\n        if (obj.hasOwnProperty(i)) {\n            if (str.length)\n                str += '&';\n            str += encodeURIComponent(i) + '=' + encodeURIComponent(obj[i]);\n        }\n    }\n    return str;\n}\n/**\n * Parses a simple querystring into an object\n *\n * @param {String} qs\n * @api private\n */\nexport function decode(qs) {\n    let qry = {};\n    let pairs = qs.split('&');\n    for (let i = 0, l = pairs.length; i < l; i++) {\n        let pair = pairs[i].split('=');\n        qry[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);\n    }\n    return qry;\n}\n","// imported from https://github.com/component/has-cors\nlet value = false;\ntry {\n    value = typeof XMLHttpRequest !== 'undefined' &&\n        'withCredentials' in new XMLHttpRequest();\n}\ncatch (err) {\n    // if XMLHttp support is disabled in IE then it will throw\n    // when trying to create\n}\nexport const hasCORS = value;\n","// browser shim for xmlhttprequest module\nimport { hasCORS } from \"../contrib/has-cors.js\";\nimport { globalThisShim as globalThis } from \"../globalThis.js\";\nexport function XHR(opts) {\n    const xdomain = opts.xdomain;\n    // XMLHttpRequest can be disabled on IE\n    try {\n        if (\"undefined\" !== typeof XMLHttpRequest && (!xdomain || hasCORS)) {\n            return new XMLHttpRequest();\n        }\n    }\n    catch (e) { }\n    if (!xdomain) {\n        try {\n            return new globalThis[[\"Active\"].concat(\"Object\").join(\"X\")](\"Microsoft.XMLHTTP\");\n        }\n        catch (e) { }\n    }\n}\n","import { Transport } from \"../transport.js\";\nimport { yeast } from \"../contrib/yeast.js\";\nimport { encode } from \"../contrib/parseqs.js\";\nimport { encodePayload, decodePayload } from \"engine.io-parser\";\nimport { XHR as XMLHttpRequest } from \"./xmlhttprequest.js\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { installTimerFunctions, pick } from \"../util.js\";\nimport { globalThisShim as globalThis } from \"../globalThis.js\";\nfunction empty() { }\nconst hasXHR2 = (function () {\n    const xhr = new XMLHttpRequest({\n        xdomain: false,\n    });\n    return null != xhr.responseType;\n})();\nexport class Polling extends Transport {\n    /**\n     * XHR Polling constructor.\n     *\n     * @param {Object} opts\n     * @package\n     */\n    constructor(opts) {\n        super(opts);\n        this.polling = false;\n        if (typeof location !== \"undefined\") {\n            const isSSL = \"https:\" === location.protocol;\n            let port = location.port;\n            // some user agents have empty `location.port`\n            if (!port) {\n                port = isSSL ? \"443\" : \"80\";\n            }\n            this.xd =\n                (typeof location !== \"undefined\" &&\n                    opts.hostname !== location.hostname) ||\n                    port !== opts.port;\n            this.xs = opts.secure !== isSSL;\n        }\n        /**\n         * XHR supports binary\n         */\n        const forceBase64 = opts && opts.forceBase64;\n        this.supportsBinary = hasXHR2 && !forceBase64;\n    }\n    get name() {\n        return \"polling\";\n    }\n    /**\n     * Opens the socket (triggers polling). We write a PING message to determine\n     * when the transport is open.\n     *\n     * @protected\n     */\n    doOpen() {\n        this.poll();\n    }\n    /**\n     * Pauses polling.\n     *\n     * @param {Function} onPause - callback upon buffers are flushed and transport is paused\n     * @package\n     */\n    pause(onPause) {\n        this.readyState = \"pausing\";\n        const pause = () => {\n            this.readyState = \"paused\";\n            onPause();\n        };\n        if (this.polling || !this.writable) {\n            let total = 0;\n            if (this.polling) {\n                total++;\n                this.once(\"pollComplete\", function () {\n                    --total || pause();\n                });\n            }\n            if (!this.writable) {\n                total++;\n                this.once(\"drain\", function () {\n                    --total || pause();\n                });\n            }\n        }\n        else {\n            pause();\n        }\n    }\n    /**\n     * Starts polling cycle.\n     *\n     * @private\n     */\n    poll() {\n        this.polling = true;\n        this.doPoll();\n        this.emitReserved(\"poll\");\n    }\n    /**\n     * Overloads onData to detect payloads.\n     *\n     * @protected\n     */\n    onData(data) {\n        const callback = (packet) => {\n            // if its the first message we consider the transport open\n            if (\"opening\" === this.readyState && packet.type === \"open\") {\n                this.onOpen();\n            }\n            // if its a close packet, we close the ongoing requests\n            if (\"close\" === packet.type) {\n                this.onClose({ description: \"transport closed by the server\" });\n                return false;\n            }\n            // otherwise bypass onData and handle the message\n            this.onPacket(packet);\n        };\n        // decode payload\n        decodePayload(data, this.socket.binaryType).forEach(callback);\n        // if an event did not trigger closing\n        if (\"closed\" !== this.readyState) {\n            // if we got data we're not polling\n            this.polling = false;\n            this.emitReserved(\"pollComplete\");\n            if (\"open\" === this.readyState) {\n                this.poll();\n            }\n            else {\n            }\n        }\n    }\n    /**\n     * For polling, send a close packet.\n     *\n     * @protected\n     */\n    doClose() {\n        const close = () => {\n            this.write([{ type: \"close\" }]);\n        };\n        if (\"open\" === this.readyState) {\n            close();\n        }\n        else {\n            // in case we're trying to close while\n            // handshaking is in progress (GH-164)\n            this.once(\"open\", close);\n        }\n    }\n    /**\n     * Writes a packets payload.\n     *\n     * @param {Array} packets - data packets\n     * @protected\n     */\n    write(packets) {\n        this.writable = false;\n        encodePayload(packets, (data) => {\n            this.doWrite(data, () => {\n                this.writable = true;\n                this.emitReserved(\"drain\");\n            });\n        });\n    }\n    /**\n     * Generates uri for connection.\n     *\n     * @private\n     */\n    uri() {\n        let query = this.query || {};\n        const schema = this.opts.secure ? \"https\" : \"http\";\n        let port = \"\";\n        // cache busting is forced\n        if (false !== this.opts.timestampRequests) {\n            query[this.opts.timestampParam] = yeast();\n        }\n        if (!this.supportsBinary && !query.sid) {\n            query.b64 = 1;\n        }\n        // avoid port if default for schema\n        if (this.opts.port &&\n            ((\"https\" === schema && Number(this.opts.port) !== 443) ||\n                (\"http\" === schema && Number(this.opts.port) !== 80))) {\n            port = \":\" + this.opts.port;\n        }\n        const encodedQuery = encode(query);\n        const ipv6 = this.opts.hostname.indexOf(\":\") !== -1;\n        return (schema +\n            \"://\" +\n            (ipv6 ? \"[\" + this.opts.hostname + \"]\" : this.opts.hostname) +\n            port +\n            this.opts.path +\n            (encodedQuery.length ? \"?\" + encodedQuery : \"\"));\n    }\n    /**\n     * Creates a request.\n     *\n     * @param {String} method\n     * @private\n     */\n    request(opts = {}) {\n        Object.assign(opts, { xd: this.xd, xs: this.xs }, this.opts);\n        return new Request(this.uri(), opts);\n    }\n    /**\n     * Sends data.\n     *\n     * @param {String} data to send.\n     * @param {Function} called upon flush.\n     * @private\n     */\n    doWrite(data, fn) {\n        const req = this.request({\n            method: \"POST\",\n            data: data,\n        });\n        req.on(\"success\", fn);\n        req.on(\"error\", (xhrStatus, context) => {\n            this.onError(\"xhr post error\", xhrStatus, context);\n        });\n    }\n    /**\n     * Starts a poll cycle.\n     *\n     * @private\n     */\n    doPoll() {\n        const req = this.request();\n        req.on(\"data\", this.onData.bind(this));\n        req.on(\"error\", (xhrStatus, context) => {\n            this.onError(\"xhr poll error\", xhrStatus, context);\n        });\n        this.pollXhr = req;\n    }\n}\nexport class Request extends Emitter {\n    /**\n     * Request constructor\n     *\n     * @param {Object} options\n     * @package\n     */\n    constructor(uri, opts) {\n        super();\n        installTimerFunctions(this, opts);\n        this.opts = opts;\n        this.method = opts.method || \"GET\";\n        this.uri = uri;\n        this.async = false !== opts.async;\n        this.data = undefined !== opts.data ? opts.data : null;\n        this.create();\n    }\n    /**\n     * Creates the XHR object and sends the request.\n     *\n     * @private\n     */\n    create() {\n        const opts = pick(this.opts, \"agent\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"autoUnref\");\n        opts.xdomain = !!this.opts.xd;\n        opts.xscheme = !!this.opts.xs;\n        const xhr = (this.xhr = new XMLHttpRequest(opts));\n        try {\n            xhr.open(this.method, this.uri, this.async);\n            try {\n                if (this.opts.extraHeaders) {\n                    xhr.setDisableHeaderCheck && xhr.setDisableHeaderCheck(true);\n                    for (let i in this.opts.extraHeaders) {\n                        if (this.opts.extraHeaders.hasOwnProperty(i)) {\n                            xhr.setRequestHeader(i, this.opts.extraHeaders[i]);\n                        }\n                    }\n                }\n            }\n            catch (e) { }\n            if (\"POST\" === this.method) {\n                try {\n                    xhr.setRequestHeader(\"Content-type\", \"text/plain;charset=UTF-8\");\n                }\n                catch (e) { }\n            }\n            try {\n                xhr.setRequestHeader(\"Accept\", \"*/*\");\n            }\n            catch (e) { }\n            // ie6 check\n            if (\"withCredentials\" in xhr) {\n                xhr.withCredentials = this.opts.withCredentials;\n            }\n            if (this.opts.requestTimeout) {\n                xhr.timeout = this.opts.requestTimeout;\n            }\n            xhr.onreadystatechange = () => {\n                if (4 !== xhr.readyState)\n                    return;\n                if (200 === xhr.status || 1223 === xhr.status) {\n                    this.onLoad();\n                }\n                else {\n                    // make sure the `error` event handler that's user-set\n                    // does not throw in the same tick and gets caught here\n                    this.setTimeoutFn(() => {\n                        this.onError(typeof xhr.status === \"number\" ? xhr.status : 0);\n                    }, 0);\n                }\n            };\n            xhr.send(this.data);\n        }\n        catch (e) {\n            // Need to defer since .create() is called directly from the constructor\n            // and thus the 'error' event can only be only bound *after* this exception\n            // occurs.  Therefore, also, we cannot throw here at all.\n            this.setTimeoutFn(() => {\n                this.onError(e);\n            }, 0);\n            return;\n        }\n        if (typeof document !== \"undefined\") {\n            this.index = Request.requestsCount++;\n            Request.requests[this.index] = this;\n        }\n    }\n    /**\n     * Called upon error.\n     *\n     * @private\n     */\n    onError(err) {\n        this.emitReserved(\"error\", err, this.xhr);\n        this.cleanup(true);\n    }\n    /**\n     * Cleans up house.\n     *\n     * @private\n     */\n    cleanup(fromError) {\n        if (\"undefined\" === typeof this.xhr || null === this.xhr) {\n            return;\n        }\n        this.xhr.onreadystatechange = empty;\n        if (fromError) {\n            try {\n                this.xhr.abort();\n            }\n            catch (e) { }\n        }\n        if (typeof document !== \"undefined\") {\n            delete Request.requests[this.index];\n        }\n        this.xhr = null;\n    }\n    /**\n     * Called upon load.\n     *\n     * @private\n     */\n    onLoad() {\n        const data = this.xhr.responseText;\n        if (data !== null) {\n            this.emitReserved(\"data\", data);\n            this.emitReserved(\"success\");\n            this.cleanup();\n        }\n    }\n    /**\n     * Aborts the request.\n     *\n     * @package\n     */\n    abort() {\n        this.cleanup();\n    }\n}\nRequest.requestsCount = 0;\nRequest.requests = {};\n/**\n * Aborts pending requests when unloading the window. This is needed to prevent\n * memory leaks (e.g. when using IE) and to ensure that no spurious error is\n * emitted.\n */\nif (typeof document !== \"undefined\") {\n    // @ts-ignore\n    if (typeof attachEvent === \"function\") {\n        // @ts-ignore\n        attachEvent(\"onunload\", unloadHandler);\n    }\n    else if (typeof addEventListener === \"function\") {\n        const terminationEvent = \"onpagehide\" in globalThis ? \"pagehide\" : \"unload\";\n        addEventListener(terminationEvent, unloadHandler, false);\n    }\n}\nfunction unloadHandler() {\n    for (let i in Request.requests) {\n        if (Request.requests.hasOwnProperty(i)) {\n            Request.requests[i].abort();\n        }\n    }\n}\n","import { globalThisShim as globalThis } from \"../globalThis.js\";\nexport const nextTick = (() => {\n    const isPromiseAvailable = typeof Promise === \"function\" && typeof Promise.resolve === \"function\";\n    if (isPromiseAvailable) {\n        return (cb) => Promise.resolve().then(cb);\n    }\n    else {\n        return (cb, setTimeoutFn) => setTimeoutFn(cb, 0);\n    }\n})();\nexport const WebSocket = globalThis.WebSocket || globalThis.MozWebSocket;\nexport const usingBrowserWebSocket = true;\nexport const defaultBinaryType = \"arraybuffer\";\n","import { Transport } from \"../transport.js\";\nimport { encode } from \"../contrib/parseqs.js\";\nimport { yeast } from \"../contrib/yeast.js\";\nimport { pick } from \"../util.js\";\nimport { defaultBinaryType, nextTick, usingBrowserWebSocket, WebSocket, } from \"./websocket-constructor.js\";\nimport { encodePacket } from \"engine.io-parser\";\n// detect ReactNative environment\nconst isReactNative = typeof navigator !== \"undefined\" &&\n    typeof navigator.product === \"string\" &&\n    navigator.product.toLowerCase() === \"reactnative\";\nexport class WS extends Transport {\n    /**\n     * WebSocket transport constructor.\n     *\n     * @param {Object} opts - connection options\n     * @protected\n     */\n    constructor(opts) {\n        super(opts);\n        this.supportsBinary = !opts.forceBase64;\n    }\n    get name() {\n        return \"websocket\";\n    }\n    doOpen() {\n        if (!this.check()) {\n            // let probe timeout\n            return;\n        }\n        const uri = this.uri();\n        const protocols = this.opts.protocols;\n        // React Native only supports the 'headers' option, and will print a warning if anything else is passed\n        const opts = isReactNative\n            ? {}\n            : pick(this.opts, \"agent\", \"perMessageDeflate\", \"pfx\", \"key\", \"passphrase\", \"cert\", \"ca\", \"ciphers\", \"rejectUnauthorized\", \"localAddress\", \"protocolVersion\", \"origin\", \"maxPayload\", \"family\", \"checkServerIdentity\");\n        if (this.opts.extraHeaders) {\n            opts.headers = this.opts.extraHeaders;\n        }\n        try {\n            this.ws =\n                usingBrowserWebSocket && !isReactNative\n                    ? protocols\n                        ? new WebSocket(uri, protocols)\n                        : new WebSocket(uri)\n                    : new WebSocket(uri, protocols, opts);\n        }\n        catch (err) {\n            return this.emitReserved(\"error\", err);\n        }\n        this.ws.binaryType = this.socket.binaryType || defaultBinaryType;\n        this.addEventListeners();\n    }\n    /**\n     * Adds event listeners to the socket\n     *\n     * @private\n     */\n    addEventListeners() {\n        this.ws.onopen = () => {\n            if (this.opts.autoUnref) {\n                this.ws._socket.unref();\n            }\n            this.onOpen();\n        };\n        this.ws.onclose = (closeEvent) => this.onClose({\n            description: \"websocket connection closed\",\n            context: closeEvent,\n        });\n        this.ws.onmessage = (ev) => this.onData(ev.data);\n        this.ws.onerror = (e) => this.onError(\"websocket error\", e);\n    }\n    write(packets) {\n        this.writable = false;\n        // encodePacket efficient as it uses WS framing\n        // no need for encodePayload\n        for (let i = 0; i < packets.length; i++) {\n            const packet = packets[i];\n            const lastPacket = i === packets.length - 1;\n            encodePacket(packet, this.supportsBinary, (data) => {\n                // always create a new object (GH-437)\n                const opts = {};\n                if (!usingBrowserWebSocket) {\n                    if (packet.options) {\n                        opts.compress = packet.options.compress;\n                    }\n                    if (this.opts.perMessageDeflate) {\n                        const len = \n                        // @ts-ignore\n                        \"string\" === typeof data ? Buffer.byteLength(data) : data.length;\n                        if (len < this.opts.perMessageDeflate.threshold) {\n                            opts.compress = false;\n                        }\n                    }\n                }\n                // Sometimes the websocket has already been closed but the browser didn't\n                // have a chance of informing us about it yet, in that case send will\n                // throw an error\n                try {\n                    if (usingBrowserWebSocket) {\n                        // TypeError is thrown when passing the second argument on Safari\n                        this.ws.send(data);\n                    }\n                    else {\n                        this.ws.send(data, opts);\n                    }\n                }\n                catch (e) {\n                }\n                if (lastPacket) {\n                    // fake drain\n                    // defer to next tick to allow Socket to clear writeBuffer\n                    nextTick(() => {\n                        this.writable = true;\n                        this.emitReserved(\"drain\");\n                    }, this.setTimeoutFn);\n                }\n            });\n        }\n    }\n    doClose() {\n        if (typeof this.ws !== \"undefined\") {\n            this.ws.close();\n            this.ws = null;\n        }\n    }\n    /**\n     * Generates uri for connection.\n     *\n     * @private\n     */\n    uri() {\n        let query = this.query || {};\n        const schema = this.opts.secure ? \"wss\" : \"ws\";\n        let port = \"\";\n        // avoid port if default for schema\n        if (this.opts.port &&\n            ((\"wss\" === schema && Number(this.opts.port) !== 443) ||\n                (\"ws\" === schema && Number(this.opts.port) !== 80))) {\n            port = \":\" + this.opts.port;\n        }\n        // append timestamp to URI\n        if (this.opts.timestampRequests) {\n            query[this.opts.timestampParam] = yeast();\n        }\n        // communicate binary support capabilities\n        if (!this.supportsBinary) {\n            query.b64 = 1;\n        }\n        const encodedQuery = encode(query);\n        const ipv6 = this.opts.hostname.indexOf(\":\") !== -1;\n        return (schema +\n            \"://\" +\n            (ipv6 ? \"[\" + this.opts.hostname + \"]\" : this.opts.hostname) +\n            port +\n            this.opts.path +\n            (encodedQuery.length ? \"?\" + encodedQuery : \"\"));\n    }\n    /**\n     * Feature detection for WebSocket.\n     *\n     * @return {Boolean} whether this transport is available.\n     * @private\n     */\n    check() {\n        return !!WebSocket;\n    }\n}\n","import { Polling } from \"./polling.js\";\nimport { WS } from \"./websocket.js\";\nexport const transports = {\n    websocket: WS,\n    polling: Polling,\n};\n","// imported from https://github.com/galkn/parseuri\n/**\n * Parses a URI\n *\n * Note: we could also have used the built-in URL object, but it isn't supported on all platforms.\n *\n * See:\n * - https://developer.mozilla.org/en-US/docs/Web/API/URL\n * - https://caniuse.com/url\n * - https://www.rfc-editor.org/rfc/rfc3986#appendix-B\n *\n * History of the parse() method:\n * - first commit: https://github.com/socketio/socket.io-client/commit/4ee1d5d94b3906a9c052b459f1a818b15f38f91c\n * - export into its own module: https://github.com/socketio/engine.io-client/commit/de2c561e4564efeb78f1bdb1ba39ef81b2822cb3\n * - reimport: https://github.com/socketio/engine.io-client/commit/df32277c3f6d622eec5ed09f493cae3f3391d242\n *\n * @author Steven Levithan <stevenlevithan.com> (MIT license)\n * @api private\n */\nconst re = /^(?:(?![^:@\\/?#]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@\\/?#]*)(?::([^:@\\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/;\nconst parts = [\n    'source', 'protocol', 'authority', 'userInfo', 'user', 'password', 'host', 'port', 'relative', 'path', 'directory', 'file', 'query', 'anchor'\n];\nexport function parse(str) {\n    const src = str, b = str.indexOf('['), e = str.indexOf(']');\n    if (b != -1 && e != -1) {\n        str = str.substring(0, b) + str.substring(b, e).replace(/:/g, ';') + str.substring(e, str.length);\n    }\n    let m = re.exec(str || ''), uri = {}, i = 14;\n    while (i--) {\n        uri[parts[i]] = m[i] || '';\n    }\n    if (b != -1 && e != -1) {\n        uri.source = src;\n        uri.host = uri.host.substring(1, uri.host.length - 1).replace(/;/g, ':');\n        uri.authority = uri.authority.replace('[', '').replace(']', '').replace(/;/g, ':');\n        uri.ipv6uri = true;\n    }\n    uri.pathNames = pathNames(uri, uri['path']);\n    uri.queryKey = queryKey(uri, uri['query']);\n    return uri;\n}\nfunction pathNames(obj, path) {\n    const regx = /\\/{2,9}/g, names = path.replace(regx, \"/\").split(\"/\");\n    if (path.slice(0, 1) == '/' || path.length === 0) {\n        names.splice(0, 1);\n    }\n    if (path.slice(-1) == '/') {\n        names.splice(names.length - 1, 1);\n    }\n    return names;\n}\nfunction queryKey(uri, query) {\n    const data = {};\n    query.replace(/(?:^|&)([^&=]*)=?([^&]*)/g, function ($0, $1, $2) {\n        if ($1) {\n            data[$1] = $2;\n        }\n    });\n    return data;\n}\n","import { transports } from \"./transports/index.js\";\nimport { installTimerFunctions, byteLength } from \"./util.js\";\nimport { decode } from \"./contrib/parseqs.js\";\nimport { parse } from \"./contrib/parseuri.js\";\nimport { Emitter } from \"@socket.io/component-emitter\";\nimport { protocol } from \"engine.io-parser\";\nexport class Socket extends Emitter {\n    /**\n     * Socket constructor.\n     *\n     * @param {String|Object} uri - uri or options\n     * @param {Object} opts - options\n     */\n    constructor(uri, opts = {}) {\n        super();\n        this.writeBuffer = [];\n        if (uri && \"object\" === typeof uri) {\n            opts = uri;\n            uri = null;\n        }\n        if (uri) {\n            uri = parse(uri);\n            opts.hostname = uri.host;\n            opts.secure = uri.protocol === \"https\" || uri.protocol === \"wss\";\n            opts.port = uri.port;\n            if (uri.query)\n                opts.query = uri.query;\n        }\n        else if (opts.host) {\n            opts.hostname = parse(opts.host).host;\n        }\n        installTimerFunctions(this, opts);\n        this.secure =\n            null != opts.secure\n                ? opts.secure\n                : typeof location !== \"undefined\" && \"https:\" === location.protocol;\n        if (opts.hostname && !opts.port) {\n            // if no port is specified manually, use the protocol default\n            opts.port = this.secure ? \"443\" : \"80\";\n        }\n        this.hostname =\n            opts.hostname ||\n                (typeof location !== \"undefined\" ? location.hostname : \"localhost\");\n        this.port =\n            opts.port ||\n                (typeof location !== \"undefined\" && location.port\n                    ? location.port\n                    : this.secure\n                        ? \"443\"\n                        : \"80\");\n        this.transports = opts.transports || [\"polling\", \"websocket\"];\n        this.writeBuffer = [];\n        this.prevBufferLen = 0;\n        this.opts = Object.assign({\n            path: \"/engine.io\",\n            agent: false,\n            withCredentials: false,\n            upgrade: true,\n            timestampParam: \"t\",\n            rememberUpgrade: false,\n            addTrailingSlash: true,\n            rejectUnauthorized: true,\n            perMessageDeflate: {\n                threshold: 1024,\n            },\n            transportOptions: {},\n            closeOnBeforeunload: true,\n        }, opts);\n        this.opts.path =\n            this.opts.path.replace(/\\/$/, \"\") +\n                (this.opts.addTrailingSlash ? \"/\" : \"\");\n        if (typeof this.opts.query === \"string\") {\n            this.opts.query = decode(this.opts.query);\n        }\n        // set on handshake\n        this.id = null;\n        this.upgrades = null;\n        this.pingInterval = null;\n        this.pingTimeout = null;\n        // set on heartbeat\n        this.pingTimeoutTimer = null;\n        if (typeof addEventListener === \"function\") {\n            if (this.opts.closeOnBeforeunload) {\n                // Firefox closes the connection when the \"beforeunload\" event is emitted but not Chrome. This event listener\n                // ensures every browser behaves the same (no \"disconnect\" event at the Socket.IO level when the page is\n                // closed/reloaded)\n                this.beforeunloadEventListener = () => {\n                    if (this.transport) {\n                        // silently close the transport\n                        this.transport.removeAllListeners();\n                        this.transport.close();\n                    }\n                };\n                addEventListener(\"beforeunload\", this.beforeunloadEventListener, false);\n            }\n            if (this.hostname !== \"localhost\") {\n                this.offlineEventListener = () => {\n                    this.onClose(\"transport close\", {\n                        description: \"network connection lost\",\n                    });\n                };\n                addEventListener(\"offline\", this.offlineEventListener, false);\n            }\n        }\n        this.open();\n    }\n    /**\n     * Creates transport of the given type.\n     *\n     * @param {String} name - transport name\n     * @return {Transport}\n     * @private\n     */\n    createTransport(name) {\n        const query = Object.assign({}, this.opts.query);\n        // append engine.io protocol identifier\n        query.EIO = protocol;\n        // transport name\n        query.transport = name;\n        // session id if we already have one\n        if (this.id)\n            query.sid = this.id;\n        const opts = Object.assign({}, this.opts.transportOptions[name], this.opts, {\n            query,\n            socket: this,\n            hostname: this.hostname,\n            secure: this.secure,\n            port: this.port,\n        });\n        return new transports[name](opts);\n    }\n    /**\n     * Initializes transport to use and starts probe.\n     *\n     * @private\n     */\n    open() {\n        let transport;\n        if (this.opts.rememberUpgrade &&\n            Socket.priorWebsocketSuccess &&\n            this.transports.indexOf(\"websocket\") !== -1) {\n            transport = \"websocket\";\n        }\n        else if (0 === this.transports.length) {\n            // Emit error on next tick so it can be listened to\n            this.setTimeoutFn(() => {\n                this.emitReserved(\"error\", \"No transports available\");\n            }, 0);\n            return;\n        }\n        else {\n            transport = this.transports[0];\n        }\n        this.readyState = \"opening\";\n        // Retry with the next transport if the transport is disabled (jsonp: false)\n        try {\n            transport = this.createTransport(transport);\n        }\n        catch (e) {\n            this.transports.shift();\n            this.open();\n            return;\n        }\n        transport.open();\n        this.setTransport(transport);\n    }\n    /**\n     * Sets the current transport. Disables the existing one (if any).\n     *\n     * @private\n     */\n    setTransport(transport) {\n        if (this.transport) {\n            this.transport.removeAllListeners();\n        }\n        // set up transport\n        this.transport = transport;\n        // set up transport listeners\n        transport\n            .on(\"drain\", this.onDrain.bind(this))\n            .on(\"packet\", this.onPacket.bind(this))\n            .on(\"error\", this.onError.bind(this))\n            .on(\"close\", (reason) => this.onClose(\"transport close\", reason));\n    }\n    /**\n     * Probes a transport.\n     *\n     * @param {String} name - transport name\n     * @private\n     */\n    probe(name) {\n        let transport = this.createTransport(name);\n        let failed = false;\n        Socket.priorWebsocketSuccess = false;\n        const onTransportOpen = () => {\n            if (failed)\n                return;\n            transport.send([{ type: \"ping\", data: \"probe\" }]);\n            transport.once(\"packet\", (msg) => {\n                if (failed)\n                    return;\n                if (\"pong\" === msg.type && \"probe\" === msg.data) {\n                    this.upgrading = true;\n                    this.emitReserved(\"upgrading\", transport);\n                    if (!transport)\n                        return;\n                    Socket.priorWebsocketSuccess = \"websocket\" === transport.name;\n                    this.transport.pause(() => {\n                        if (failed)\n                            return;\n                        if (\"closed\" === this.readyState)\n                            return;\n                        cleanup();\n                        this.setTransport(transport);\n                        transport.send([{ type: \"upgrade\" }]);\n                        this.emitReserved(\"upgrade\", transport);\n                        transport = null;\n                        this.upgrading = false;\n                        this.flush();\n                    });\n                }\n                else {\n                    const err = new Error(\"probe error\");\n                    // @ts-ignore\n                    err.transport = transport.name;\n                    this.emitReserved(\"upgradeError\", err);\n                }\n            });\n        };\n        function freezeTransport() {\n            if (failed)\n                return;\n            // Any callback called by transport should be ignored since now\n            failed = true;\n            cleanup();\n            transport.close();\n            transport = null;\n        }\n        // Handle any error that happens while probing\n        const onerror = (err) => {\n            const error = new Error(\"probe error: \" + err);\n            // @ts-ignore\n            error.transport = transport.name;\n            freezeTransport();\n            this.emitReserved(\"upgradeError\", error);\n        };\n        function onTransportClose() {\n            onerror(\"transport closed\");\n        }\n        // When the socket is closed while we're probing\n        function onclose() {\n            onerror(\"socket closed\");\n        }\n        // When the socket is upgraded while we're probing\n        function onupgrade(to) {\n            if (transport && to.name !== transport.name) {\n                freezeTransport();\n            }\n        }\n        // Remove all listeners on the transport and on self\n        const cleanup = () => {\n            transport.removeListener(\"open\", onTransportOpen);\n            transport.removeListener(\"error\", onerror);\n            transport.removeListener(\"close\", onTransportClose);\n            this.off(\"close\", onclose);\n            this.off(\"upgrading\", onupgrade);\n        };\n        transport.once(\"open\", onTransportOpen);\n        transport.once(\"error\", onerror);\n        transport.once(\"close\", onTransportClose);\n        this.once(\"close\", onclose);\n        this.once(\"upgrading\", onupgrade);\n        transport.open();\n    }\n    /**\n     * Called when connection is deemed open.\n     *\n     * @private\n     */\n    onOpen() {\n        this.readyState = \"open\";\n        Socket.priorWebsocketSuccess = \"websocket\" === this.transport.name;\n        this.emitReserved(\"open\");\n        this.flush();\n        // we check for `readyState` in case an `open`\n        // listener already closed the socket\n        if (\"open\" === this.readyState && this.opts.upgrade) {\n            let i = 0;\n            const l = this.upgrades.length;\n            for (; i < l; i++) {\n                this.probe(this.upgrades[i]);\n            }\n        }\n    }\n    /**\n     * Handles a packet.\n     *\n     * @private\n     */\n    onPacket(packet) {\n        if (\"opening\" === this.readyState ||\n            \"open\" === this.readyState ||\n            \"closing\" === this.readyState) {\n            this.emitReserved(\"packet\", packet);\n            // Socket is live - any packet counts\n            this.emitReserved(\"heartbeat\");\n            switch (packet.type) {\n                case \"open\":\n                    this.onHandshake(JSON.parse(packet.data));\n                    break;\n                case \"ping\":\n                    this.resetPingTimeout();\n                    this.sendPacket(\"pong\");\n                    this.emitReserved(\"ping\");\n                    this.emitReserved(\"pong\");\n                    break;\n                case \"error\":\n                    const err = new Error(\"server error\");\n                    // @ts-ignore\n                    err.code = packet.data;\n                    this.onError(err);\n                    break;\n                case \"message\":\n                    this.emitReserved(\"data\", packet.data);\n                    this.emitReserved(\"message\", packet.data);\n                    break;\n            }\n        }\n        else {\n        }\n    }\n    /**\n     * Called upon handshake completion.\n     *\n     * @param {Object} data - handshake obj\n     * @private\n     */\n    onHandshake(data) {\n        this.emitReserved(\"handshake\", data);\n        this.id = data.sid;\n        this.transport.query.sid = data.sid;\n        this.upgrades = this.filterUpgrades(data.upgrades);\n        this.pingInterval = data.pingInterval;\n        this.pingTimeout = data.pingTimeout;\n        this.maxPayload = data.maxPayload;\n        this.onOpen();\n        // In case open handler closes socket\n        if (\"closed\" === this.readyState)\n            return;\n        this.resetPingTimeout();\n    }\n    /**\n     * Sets and resets ping timeout timer based on server pings.\n     *\n     * @private\n     */\n    resetPingTimeout() {\n        this.clearTimeoutFn(this.pingTimeoutTimer);\n        this.pingTimeoutTimer = this.setTimeoutFn(() => {\n            this.onClose(\"ping timeout\");\n        }, this.pingInterval + this.pingTimeout);\n        if (this.opts.autoUnref) {\n            this.pingTimeoutTimer.unref();\n        }\n    }\n    /**\n     * Called on `drain` event\n     *\n     * @private\n     */\n    onDrain() {\n        this.writeBuffer.splice(0, this.prevBufferLen);\n        // setting prevBufferLen = 0 is very important\n        // for example, when upgrading, upgrade packet is sent over,\n        // and a nonzero prevBufferLen could cause problems on `drain`\n        this.prevBufferLen = 0;\n        if (0 === this.writeBuffer.length) {\n            this.emitReserved(\"drain\");\n        }\n        else {\n            this.flush();\n        }\n    }\n    /**\n     * Flush write buffers.\n     *\n     * @private\n     */\n    flush() {\n        if (\"closed\" !== this.readyState &&\n            this.transport.writable &&\n            !this.upgrading &&\n            this.writeBuffer.length) {\n            const packets = this.getWritablePackets();\n            this.transport.send(packets);\n            // keep track of current length of writeBuffer\n            // splice writeBuffer and callbackBuffer on `drain`\n            this.prevBufferLen = packets.length;\n            this.emitReserved(\"flush\");\n        }\n    }\n    /**\n     * Ensure the encoded size of the writeBuffer is below the maxPayload value sent by the server (only for HTTP\n     * long-polling)\n     *\n     * @private\n     */\n    getWritablePackets() {\n        const shouldCheckPayloadSize = this.maxPayload &&\n            this.transport.name === \"polling\" &&\n            this.writeBuffer.length > 1;\n        if (!shouldCheckPayloadSize) {\n            return this.writeBuffer;\n        }\n        let payloadSize = 1; // first packet type\n        for (let i = 0; i < this.writeBuffer.length; i++) {\n            const data = this.writeBuffer[i].data;\n            if (data) {\n                payloadSize += byteLength(data);\n            }\n            if (i > 0 && payloadSize > this.maxPayload) {\n                return this.writeBuffer.slice(0, i);\n            }\n            payloadSize += 2; // separator + packet type\n        }\n        return this.writeBuffer;\n    }\n    /**\n     * Sends a message.\n     *\n     * @param {String} msg - message.\n     * @param {Object} options.\n     * @param {Function} callback function.\n     * @return {Socket} for chaining.\n     */\n    write(msg, options, fn) {\n        this.sendPacket(\"message\", msg, options, fn);\n        return this;\n    }\n    send(msg, options, fn) {\n        this.sendPacket(\"message\", msg, options, fn);\n        return this;\n    }\n    /**\n     * Sends a packet.\n     *\n     * @param {String} type: packet type.\n     * @param {String} data.\n     * @param {Object} options.\n     * @param {Function} fn - callback function.\n     * @private\n     */\n    sendPacket(type, data, options, fn) {\n        if (\"function\" === typeof data) {\n            fn = data;\n            data = undefined;\n        }\n        if (\"function\" === typeof options) {\n            fn = options;\n            options = null;\n        }\n        if (\"closing\" === this.readyState || \"closed\" === this.readyState) {\n            return;\n        }\n        options = options || {};\n        options.compress = false !== options.compress;\n        const packet = {\n            type: type,\n            data: data,\n            options: options,\n        };\n        this.emitReserved(\"packetCreate\", packet);\n        this.writeBuffer.push(packet);\n        if (fn)\n            this.once(\"flush\", fn);\n        this.flush();\n    }\n    /**\n     * Closes the connection.\n     */\n    close() {\n        const close = () => {\n            this.onClose(\"forced close\");\n            this.transport.close();\n        };\n        const cleanupAndClose = () => {\n            this.off(\"upgrade\", cleanupAndClose);\n            this.off(\"upgradeError\", cleanupAndClose);\n            close();\n        };\n        const waitForUpgrade = () => {\n            // wait for upgrade to finish since we can't send packets while pausing a transport\n            this.once(\"upgrade\", cleanupAndClose);\n            this.once(\"upgradeError\", cleanupAndClose);\n        };\n        if (\"opening\" === this.readyState || \"open\" === this.readyState) {\n            this.readyState = \"closing\";\n            if (this.writeBuffer.length) {\n                this.once(\"drain\", () => {\n                    if (this.upgrading) {\n                        waitForUpgrade();\n                    }\n                    else {\n                        close();\n                    }\n                });\n            }\n            else if (this.upgrading) {\n                waitForUpgrade();\n            }\n            else {\n                close();\n            }\n        }\n        return this;\n    }\n    /**\n     * Called upon transport error\n     *\n     * @private\n     */\n    onError(err) {\n        Socket.priorWebsocketSuccess = false;\n        this.emitReserved(\"error\", err);\n        this.onClose(\"transport error\", err);\n    }\n    /**\n     * Called upon transport close.\n     *\n     * @private\n     */\n    onClose(reason, description) {\n        if (\"opening\" === this.readyState ||\n            \"open\" === this.readyState ||\n            \"closing\" === this.readyState) {\n            // clear timers\n            this.clearTimeoutFn(this.pingTimeoutTimer);\n            // stop event from firing again for transport\n            this.transport.removeAllListeners(\"close\");\n            // ensure transport won't stay open\n            this.transport.close();\n            // ignore further transport communication\n            this.transport.removeAllListeners();\n            if (typeof removeEventListener === \"function\") {\n                removeEventListener(\"beforeunload\", this.beforeunloadEventListener, false);\n                removeEventListener(\"offline\", this.offlineEventListener, false);\n            }\n            // set ready state\n            this.readyState = \"closed\";\n            // clear session id\n            this.id = null;\n            // emit close event\n            this.emitReserved(\"close\", reason, description);\n            // clean buffers after, so users can still\n            // grab the buffers on `close` event\n            this.writeBuffer = [];\n            this.prevBufferLen = 0;\n        }\n    }\n    /**\n     * Filters upgrades, returning only those matching client transports.\n     *\n     * @param {Array} upgrades - server upgrades\n     * @private\n     */\n    filterUpgrades(upgrades) {\n        const filteredUpgrades = [];\n        let i = 0;\n        const j = upgrades.length;\n        for (; i < j; i++) {\n            if (~this.transports.indexOf(upgrades[i]))\n                filteredUpgrades.push(upgrades[i]);\n        }\n        return filteredUpgrades;\n    }\n}\nSocket.protocol = protocol;\n","import { Socket } from \"./socket.js\";\nexport { Socket };\nexport const protocol = Socket.protocol;\nexport { Transport } from \"./transport.js\";\nexport { transports } from \"./transports/index.js\";\nexport { installTimerFunctions } from \"./util.js\";\nexport { parse } from \"./contrib/parseuri.js\";\nexport { nextTick } from \"./transports/websocket-constructor.js\";\n","export function stringToBytes(string) {\n\treturn [...string].map(character => character.charCodeAt(0)); // eslint-disable-line unicorn/prefer-code-point\n}\n\n/**\nChecks whether the TAR checksum is valid.\n\n@param {Buffer} buffer - The TAR header `[offset ... offset + 512]`.\n@param {number} offset - TAR header offset.\n@returns {boolean} `true` if the TAR checksum is valid, otherwise `false`.\n*/\nexport function tarHeaderChecksumMatches(buffer, offset = 0) {\n\tconst readSum = Number.parseInt(buffer.toString('utf8', 148, 154).replace(/\\0.*$/, '').trim(), 8); // Read sum in header\n\tif (Number.isNaN(readSum)) {\n\t\treturn false;\n\t}\n\n\tlet sum = 8 * 0x20; // Initialize signed bit sum\n\n\tfor (let index = offset; index < offset + 148; index++) {\n\t\tsum += buffer[index];\n\t}\n\n\tfor (let index = offset + 156; index < offset + 512; index++) {\n\t\tsum += buffer[index];\n\t}\n\n\treturn readSum === sum;\n}\n\n/**\nID3 UINT32 sync-safe tokenizer token.\n28 bits (representing up to 256MB) integer, the msb is 0 to avoid \"false syncsignals\".\n*/\nexport const uint32SyncSafeToken = {\n\tget: (buffer, offset) => (buffer[offset + 3] & 0x7F) | ((buffer[offset + 2]) << 7) | ((buffer[offset + 1]) << 14) | ((buffer[offset]) << 21),\n\tlen: 4,\n};\n","import {Buffer} from 'node:buffer';\nimport * as Token from 'token-types';\nimport * as strtok3 from 'strtok3/core'; // eslint-disable-line n/file-extension-in-import\nimport {\n\tstringToBytes,\n\ttarHeaderChecksumMatches,\n\tuint32SyncSafeToken,\n} from './util.js';\nimport {extensions, mimeTypes} from './supported.js';\n\nconst minimumBytes = 4100; // A fair amount of file-types are detectable within this range.\n\nexport async function fileTypeFromStream(stream) {\n\tconst tokenizer = await strtok3.fromStream(stream);\n\ttry {\n\t\treturn await fileTypeFromTokenizer(tokenizer);\n\t} finally {\n\t\tawait tokenizer.close();\n\t}\n}\n\nexport async function fileTypeFromBuffer(input) {\n\tif (!(input instanceof Uint8Array || input instanceof ArrayBuffer)) {\n\t\tthrow new TypeError(`Expected the \\`input\\` argument to be of type \\`Uint8Array\\` or \\`Buffer\\` or \\`ArrayBuffer\\`, got \\`${typeof input}\\``);\n\t}\n\n\tconst buffer = input instanceof Uint8Array ? input : new Uint8Array(input);\n\n\tif (!(buffer?.length > 1)) {\n\t\treturn;\n\t}\n\n\treturn fileTypeFromTokenizer(strtok3.fromBuffer(buffer));\n}\n\nexport async function fileTypeFromBlob(blob) {\n\tconst buffer = await blob.arrayBuffer();\n\treturn fileTypeFromBuffer(new Uint8Array(buffer));\n}\n\nfunction _check(buffer, headers, options) {\n\toptions = {\n\t\toffset: 0,\n\t\t...options,\n\t};\n\n\tfor (const [index, header] of headers.entries()) {\n\t\t// If a bitmask is set\n\t\tif (options.mask) {\n\t\t\t// If header doesn't equal `buf` with bits masked off\n\t\t\tif (header !== (options.mask[index] & buffer[index + options.offset])) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t} else if (header !== buffer[index + options.offset]) {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\treturn true;\n}\n\nexport async function fileTypeFromTokenizer(tokenizer) {\n\ttry {\n\t\treturn new FileTypeParser().parse(tokenizer);\n\t} catch (error) {\n\t\tif (!(error instanceof strtok3.EndOfStreamError)) {\n\t\t\tthrow error;\n\t\t}\n\t}\n}\n\nclass FileTypeParser {\n\tcheck(header, options) {\n\t\treturn _check(this.buffer, header, options);\n\t}\n\n\tcheckString(header, options) {\n\t\treturn this.check(stringToBytes(header), options);\n\t}\n\n\tasync parse(tokenizer) {\n\t\tthis.buffer = Buffer.alloc(minimumBytes);\n\n\t\t// Keep reading until EOF if the file size is unknown.\n\t\tif (tokenizer.fileInfo.size === undefined) {\n\t\t\ttokenizer.fileInfo.size = Number.MAX_SAFE_INTEGER;\n\t\t}\n\n\t\tthis.tokenizer = tokenizer;\n\n\t\tawait tokenizer.peekBuffer(this.buffer, {length: 12, mayBeLess: true});\n\n\t\t// -- 2-byte signatures --\n\n\t\tif (this.check([0x42, 0x4D])) {\n\t\t\treturn {\n\t\t\t\text: 'bmp',\n\t\t\t\tmime: 'image/bmp',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x0B, 0x77])) {\n\t\t\treturn {\n\t\t\t\text: 'ac3',\n\t\t\t\tmime: 'audio/vnd.dolby.dd-raw',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x78, 0x01])) {\n\t\t\treturn {\n\t\t\t\text: 'dmg',\n\t\t\t\tmime: 'application/x-apple-diskimage',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x4D, 0x5A])) {\n\t\t\treturn {\n\t\t\t\text: 'exe',\n\t\t\t\tmime: 'application/x-msdownload',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x25, 0x21])) {\n\t\t\tawait tokenizer.peekBuffer(this.buffer, {length: 24, mayBeLess: true});\n\n\t\t\tif (\n\t\t\t\tthis.checkString('PS-Adobe-', {offset: 2})\n\t\t\t\t&& this.checkString(' EPSF-', {offset: 14})\n\t\t\t) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'eps',\n\t\t\t\t\tmime: 'application/eps',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\text: 'ps',\n\t\t\t\tmime: 'application/postscript',\n\t\t\t};\n\t\t}\n\n\t\tif (\n\t\t\tthis.check([0x1F, 0xA0])\n\t\t\t|| this.check([0x1F, 0x9D])\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'Z',\n\t\t\t\tmime: 'application/x-compress',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0xC7, 0x71])) {\n\t\t\treturn {\n\t\t\t\text: 'cpio',\n\t\t\t\tmime: 'application/x-cpio',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x60, 0xEA])) {\n\t\t\treturn {\n\t\t\t\text: 'arj',\n\t\t\t\tmime: 'application/x-arj',\n\t\t\t};\n\t\t}\n\n\t\t// -- 3-byte signatures --\n\n\t\tif (this.check([0xEF, 0xBB, 0xBF])) { // UTF-8-BOM\n\t\t\t// Strip off UTF-8-BOM\n\t\t\tthis.tokenizer.ignore(3);\n\t\t\treturn this.parse(tokenizer);\n\t\t}\n\n\t\tif (this.check([0x47, 0x49, 0x46])) {\n\t\t\treturn {\n\t\t\t\text: 'gif',\n\t\t\t\tmime: 'image/gif',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x49, 0x49, 0xBC])) {\n\t\t\treturn {\n\t\t\t\text: 'jxr',\n\t\t\t\tmime: 'image/vnd.ms-photo',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x1F, 0x8B, 0x8])) {\n\t\t\treturn {\n\t\t\t\text: 'gz',\n\t\t\t\tmime: 'application/gzip',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x42, 0x5A, 0x68])) {\n\t\t\treturn {\n\t\t\t\text: 'bz2',\n\t\t\t\tmime: 'application/x-bzip2',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('ID3')) {\n\t\t\tawait tokenizer.ignore(6); // Skip ID3 header until the header size\n\t\t\tconst id3HeaderLength = await tokenizer.readToken(uint32SyncSafeToken);\n\t\t\tif (tokenizer.position + id3HeaderLength > tokenizer.fileInfo.size) {\n\t\t\t\t// Guess file type based on ID3 header for backward compatibility\n\t\t\t\treturn {\n\t\t\t\t\text: 'mp3',\n\t\t\t\t\tmime: 'audio/mpeg',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tawait tokenizer.ignore(id3HeaderLength);\n\t\t\treturn fileTypeFromTokenizer(tokenizer); // Skip ID3 header, recursion\n\t\t}\n\n\t\t// Musepack, SV7\n\t\tif (this.checkString('MP+')) {\n\t\t\treturn {\n\t\t\t\text: 'mpc',\n\t\t\t\tmime: 'audio/x-musepack',\n\t\t\t};\n\t\t}\n\n\t\tif (\n\t\t\t(this.buffer[0] === 0x43 || this.buffer[0] === 0x46)\n\t\t\t&& this.check([0x57, 0x53], {offset: 1})\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'swf',\n\t\t\t\tmime: 'application/x-shockwave-flash',\n\t\t\t};\n\t\t}\n\n\t\t// -- 4-byte signatures --\n\n\t\t// Requires a sample size of 4 bytes\n\t\tif (this.check([0xFF, 0xD8, 0xFF])) {\n\t\t\tif (this.check([0xF7], {offset: 3})) { // JPG7/SOF55, indicating a ISO/IEC 14495 / JPEG-LS file\n\t\t\t\treturn {\n\t\t\t\t\text: 'jls',\n\t\t\t\t\tmime: 'image/jls',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\text: 'jpg',\n\t\t\t\tmime: 'image/jpeg',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('FLIF')) {\n\t\t\treturn {\n\t\t\t\text: 'flif',\n\t\t\t\tmime: 'image/flif',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('8BPS')) {\n\t\t\treturn {\n\t\t\t\text: 'psd',\n\t\t\t\tmime: 'image/vnd.adobe.photoshop',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('WEBP', {offset: 8})) {\n\t\t\treturn {\n\t\t\t\text: 'webp',\n\t\t\t\tmime: 'image/webp',\n\t\t\t};\n\t\t}\n\n\t\t// Musepack, SV8\n\t\tif (this.checkString('MPCK')) {\n\t\t\treturn {\n\t\t\t\text: 'mpc',\n\t\t\t\tmime: 'audio/x-musepack',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('FORM')) {\n\t\t\treturn {\n\t\t\t\text: 'aif',\n\t\t\t\tmime: 'audio/aiff',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('icns', {offset: 0})) {\n\t\t\treturn {\n\t\t\t\text: 'icns',\n\t\t\t\tmime: 'image/icns',\n\t\t\t};\n\t\t}\n\n\t\t// Zip-based file formats\n\t\t// Need to be before the `zip` check\n\t\tif (this.check([0x50, 0x4B, 0x3, 0x4])) { // Local file header signature\n\t\t\ttry {\n\t\t\t\twhile (tokenizer.position + 30 < tokenizer.fileInfo.size) {\n\t\t\t\t\tawait tokenizer.readBuffer(this.buffer, {length: 30});\n\n\t\t\t\t\t// https://en.wikipedia.org/wiki/Zip_(file_format)#File_headers\n\t\t\t\t\tconst zipHeader = {\n\t\t\t\t\t\tcompressedSize: this.buffer.readUInt32LE(18),\n\t\t\t\t\t\tuncompressedSize: this.buffer.readUInt32LE(22),\n\t\t\t\t\t\tfilenameLength: this.buffer.readUInt16LE(26),\n\t\t\t\t\t\textraFieldLength: this.buffer.readUInt16LE(28),\n\t\t\t\t\t};\n\n\t\t\t\t\tzipHeader.filename = await tokenizer.readToken(new Token.StringType(zipHeader.filenameLength, 'utf-8'));\n\t\t\t\t\tawait tokenizer.ignore(zipHeader.extraFieldLength);\n\n\t\t\t\t\t// Assumes signed `.xpi` from addons.mozilla.org\n\t\t\t\t\tif (zipHeader.filename === 'META-INF/mozilla.rsa') {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\text: 'xpi',\n\t\t\t\t\t\t\tmime: 'application/x-xpinstall',\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\tif (zipHeader.filename.endsWith('.rels') || zipHeader.filename.endsWith('.xml')) {\n\t\t\t\t\t\tconst type = zipHeader.filename.split('/')[0];\n\t\t\t\t\t\tswitch (type) {\n\t\t\t\t\t\t\tcase '_rels':\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'word':\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\text: 'docx',\n\t\t\t\t\t\t\t\t\tmime: 'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tcase 'ppt':\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\text: 'pptx',\n\t\t\t\t\t\t\t\t\tmime: 'application/vnd.openxmlformats-officedocument.presentationml.presentation',\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tcase 'xl':\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\text: 'xlsx',\n\t\t\t\t\t\t\t\t\tmime: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (zipHeader.filename.startsWith('xl/')) {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\text: 'xlsx',\n\t\t\t\t\t\t\tmime: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\tif (zipHeader.filename.startsWith('3D/') && zipHeader.filename.endsWith('.model')) {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\text: '3mf',\n\t\t\t\t\t\t\tmime: 'model/3mf',\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\t// The docx, xlsx and pptx file types extend the Office Open XML file format:\n\t\t\t\t\t// https://en.wikipedia.org/wiki/Office_Open_XML_file_formats\n\t\t\t\t\t// We look for:\n\t\t\t\t\t// - one entry named '[Content_Types].xml' or '_rels/.rels',\n\t\t\t\t\t// - one entry indicating specific type of file.\n\t\t\t\t\t// MS Office, OpenOffice and LibreOffice may put the parts in different order, so the check should not rely on it.\n\t\t\t\t\tif (zipHeader.filename === 'mimetype' && zipHeader.compressedSize === zipHeader.uncompressedSize) {\n\t\t\t\t\t\tlet mimeType = await tokenizer.readToken(new Token.StringType(zipHeader.compressedSize, 'utf-8'));\n\t\t\t\t\t\tmimeType = mimeType.trim();\n\n\t\t\t\t\t\tswitch (mimeType) {\n\t\t\t\t\t\t\tcase 'application/epub+zip':\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\text: 'epub',\n\t\t\t\t\t\t\t\t\tmime: 'application/epub+zip',\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tcase 'application/vnd.oasis.opendocument.text':\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\text: 'odt',\n\t\t\t\t\t\t\t\t\tmime: 'application/vnd.oasis.opendocument.text',\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tcase 'application/vnd.oasis.opendocument.spreadsheet':\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\text: 'ods',\n\t\t\t\t\t\t\t\t\tmime: 'application/vnd.oasis.opendocument.spreadsheet',\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tcase 'application/vnd.oasis.opendocument.presentation':\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\text: 'odp',\n\t\t\t\t\t\t\t\t\tmime: 'application/vnd.oasis.opendocument.presentation',\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Try to find next header manually when current one is corrupted\n\t\t\t\t\tif (zipHeader.compressedSize === 0) {\n\t\t\t\t\t\tlet nextHeaderIndex = -1;\n\n\t\t\t\t\t\twhile (nextHeaderIndex < 0 && (tokenizer.position < tokenizer.fileInfo.size)) {\n\t\t\t\t\t\t\tawait tokenizer.peekBuffer(this.buffer, {mayBeLess: true});\n\n\t\t\t\t\t\t\tnextHeaderIndex = this.buffer.indexOf('504B0304', 0, 'hex');\n\t\t\t\t\t\t\t// Move position to the next header if found, skip the whole buffer otherwise\n\t\t\t\t\t\t\tawait tokenizer.ignore(nextHeaderIndex >= 0 ? nextHeaderIndex : this.buffer.length);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tawait tokenizer.ignore(zipHeader.compressedSize);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tif (!(error instanceof strtok3.EndOfStreamError)) {\n\t\t\t\t\tthrow error;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\text: 'zip',\n\t\t\t\tmime: 'application/zip',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('OggS')) {\n\t\t\t// This is an OGG container\n\t\t\tawait tokenizer.ignore(28);\n\t\t\tconst type = Buffer.alloc(8);\n\t\t\tawait tokenizer.readBuffer(type);\n\n\t\t\t// Needs to be before `ogg` check\n\t\t\tif (_check(type, [0x4F, 0x70, 0x75, 0x73, 0x48, 0x65, 0x61, 0x64])) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'opus',\n\t\t\t\t\tmime: 'audio/opus',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// If ' theora' in header.\n\t\t\tif (_check(type, [0x80, 0x74, 0x68, 0x65, 0x6F, 0x72, 0x61])) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'ogv',\n\t\t\t\t\tmime: 'video/ogg',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// If '\\x01video' in header.\n\t\t\tif (_check(type, [0x01, 0x76, 0x69, 0x64, 0x65, 0x6F, 0x00])) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'ogm',\n\t\t\t\t\tmime: 'video/ogg',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// If ' FLAC' in header  https://xiph.org/flac/faq.html\n\t\t\tif (_check(type, [0x7F, 0x46, 0x4C, 0x41, 0x43])) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'oga',\n\t\t\t\t\tmime: 'audio/ogg',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// 'Speex  ' in header https://en.wikipedia.org/wiki/Speex\n\t\t\tif (_check(type, [0x53, 0x70, 0x65, 0x65, 0x78, 0x20, 0x20])) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'spx',\n\t\t\t\t\tmime: 'audio/ogg',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// If '\\x01vorbis' in header\n\t\t\tif (_check(type, [0x01, 0x76, 0x6F, 0x72, 0x62, 0x69, 0x73])) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'ogg',\n\t\t\t\t\tmime: 'audio/ogg',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// Default OGG container https://www.iana.org/assignments/media-types/application/ogg\n\t\t\treturn {\n\t\t\t\text: 'ogx',\n\t\t\t\tmime: 'application/ogg',\n\t\t\t};\n\t\t}\n\n\t\tif (\n\t\t\tthis.check([0x50, 0x4B])\n\t\t\t&& (this.buffer[2] === 0x3 || this.buffer[2] === 0x5 || this.buffer[2] === 0x7)\n\t\t\t&& (this.buffer[3] === 0x4 || this.buffer[3] === 0x6 || this.buffer[3] === 0x8)\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'zip',\n\t\t\t\tmime: 'application/zip',\n\t\t\t};\n\t\t}\n\n\t\t//\n\n\t\t// File Type Box (https://en.wikipedia.org/wiki/ISO_base_media_file_format)\n\t\t// It's not required to be first, but it's recommended to be. Almost all ISO base media files start with `ftyp` box.\n\t\t// `ftyp` box must contain a brand major identifier, which must consist of ISO 8859-1 printable characters.\n\t\t// Here we check for 8859-1 printable characters (for simplicity, it's a mask which also catches one non-printable character).\n\t\tif (\n\t\t\tthis.checkString('ftyp', {offset: 4})\n\t\t\t&& (this.buffer[8] & 0x60) !== 0x00 // Brand major, first character ASCII?\n\t\t) {\n\t\t\t// They all can have MIME `video/mp4` except `application/mp4` special-case which is hard to detect.\n\t\t\t// For some cases, we're specific, everything else falls to `video/mp4` with `mp4` extension.\n\t\t\tconst brandMajor = this.buffer.toString('binary', 8, 12).replace('\\0', ' ').trim();\n\t\t\tswitch (brandMajor) {\n\t\t\t\tcase 'avif':\n\t\t\t\tcase 'avis':\n\t\t\t\t\treturn {ext: 'avif', mime: 'image/avif'};\n\t\t\t\tcase 'mif1':\n\t\t\t\t\treturn {ext: 'heic', mime: 'image/heif'};\n\t\t\t\tcase 'msf1':\n\t\t\t\t\treturn {ext: 'heic', mime: 'image/heif-sequence'};\n\t\t\t\tcase 'heic':\n\t\t\t\tcase 'heix':\n\t\t\t\t\treturn {ext: 'heic', mime: 'image/heic'};\n\t\t\t\tcase 'hevc':\n\t\t\t\tcase 'hevx':\n\t\t\t\t\treturn {ext: 'heic', mime: 'image/heic-sequence'};\n\t\t\t\tcase 'qt':\n\t\t\t\t\treturn {ext: 'mov', mime: 'video/quicktime'};\n\t\t\t\tcase 'M4V':\n\t\t\t\tcase 'M4VH':\n\t\t\t\tcase 'M4VP':\n\t\t\t\t\treturn {ext: 'm4v', mime: 'video/x-m4v'};\n\t\t\t\tcase 'M4P':\n\t\t\t\t\treturn {ext: 'm4p', mime: 'video/mp4'};\n\t\t\t\tcase 'M4B':\n\t\t\t\t\treturn {ext: 'm4b', mime: 'audio/mp4'};\n\t\t\t\tcase 'M4A':\n\t\t\t\t\treturn {ext: 'm4a', mime: 'audio/x-m4a'};\n\t\t\t\tcase 'F4V':\n\t\t\t\t\treturn {ext: 'f4v', mime: 'video/mp4'};\n\t\t\t\tcase 'F4P':\n\t\t\t\t\treturn {ext: 'f4p', mime: 'video/mp4'};\n\t\t\t\tcase 'F4A':\n\t\t\t\t\treturn {ext: 'f4a', mime: 'audio/mp4'};\n\t\t\t\tcase 'F4B':\n\t\t\t\t\treturn {ext: 'f4b', mime: 'audio/mp4'};\n\t\t\t\tcase 'crx':\n\t\t\t\t\treturn {ext: 'cr3', mime: 'image/x-canon-cr3'};\n\t\t\t\tdefault:\n\t\t\t\t\tif (brandMajor.startsWith('3g')) {\n\t\t\t\t\t\tif (brandMajor.startsWith('3g2')) {\n\t\t\t\t\t\t\treturn {ext: '3g2', mime: 'video/3gpp2'};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn {ext: '3gp', mime: 'video/3gpp'};\n\t\t\t\t\t}\n\n\t\t\t\t\treturn {ext: 'mp4', mime: 'video/mp4'};\n\t\t\t}\n\t\t}\n\n\t\tif (this.checkString('MThd')) {\n\t\t\treturn {\n\t\t\t\text: 'mid',\n\t\t\t\tmime: 'audio/midi',\n\t\t\t};\n\t\t}\n\n\t\tif (\n\t\t\tthis.checkString('wOFF')\n\t\t\t&& (\n\t\t\t\tthis.check([0x00, 0x01, 0x00, 0x00], {offset: 4})\n\t\t\t\t|| this.checkString('OTTO', {offset: 4})\n\t\t\t)\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'woff',\n\t\t\t\tmime: 'font/woff',\n\t\t\t};\n\t\t}\n\n\t\tif (\n\t\t\tthis.checkString('wOF2')\n\t\t\t&& (\n\t\t\t\tthis.check([0x00, 0x01, 0x00, 0x00], {offset: 4})\n\t\t\t\t|| this.checkString('OTTO', {offset: 4})\n\t\t\t)\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'woff2',\n\t\t\t\tmime: 'font/woff2',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0xD4, 0xC3, 0xB2, 0xA1]) || this.check([0xA1, 0xB2, 0xC3, 0xD4])) {\n\t\t\treturn {\n\t\t\t\text: 'pcap',\n\t\t\t\tmime: 'application/vnd.tcpdump.pcap',\n\t\t\t};\n\t\t}\n\n\t\t// Sony DSD Stream File (DSF)\n\t\tif (this.checkString('DSD ')) {\n\t\t\treturn {\n\t\t\t\text: 'dsf',\n\t\t\t\tmime: 'audio/x-dsf', // Non-standard\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('LZIP')) {\n\t\t\treturn {\n\t\t\t\text: 'lz',\n\t\t\t\tmime: 'application/x-lzip',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('fLaC')) {\n\t\t\treturn {\n\t\t\t\text: 'flac',\n\t\t\t\tmime: 'audio/x-flac',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x42, 0x50, 0x47, 0xFB])) {\n\t\t\treturn {\n\t\t\t\text: 'bpg',\n\t\t\t\tmime: 'image/bpg',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('wvpk')) {\n\t\t\treturn {\n\t\t\t\text: 'wv',\n\t\t\t\tmime: 'audio/wavpack',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('%PDF')) {\n\t\t\ttry {\n\t\t\t\tawait tokenizer.ignore(1350);\n\t\t\t\tconst maxBufferSize = 10 * 1024 * 1024;\n\t\t\t\tconst buffer = Buffer.alloc(Math.min(maxBufferSize, tokenizer.fileInfo.size));\n\t\t\t\tawait tokenizer.readBuffer(buffer, {mayBeLess: true});\n\n\t\t\t\t// Check if this is an Adobe Illustrator file\n\t\t\t\tif (buffer.includes(Buffer.from('AIPrivateData'))) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\text: 'ai',\n\t\t\t\t\t\tmime: 'application/postscript',\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\t// Swallow end of stream error if file is too small for the Adobe AI check\n\t\t\t\tif (!(error instanceof strtok3.EndOfStreamError)) {\n\t\t\t\t\tthrow error;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Assume this is just a normal PDF\n\t\t\treturn {\n\t\t\t\text: 'pdf',\n\t\t\t\tmime: 'application/pdf',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x00, 0x61, 0x73, 0x6D])) {\n\t\t\treturn {\n\t\t\t\text: 'wasm',\n\t\t\t\tmime: 'application/wasm',\n\t\t\t};\n\t\t}\n\n\t\t// TIFF, little-endian type\n\t\tif (this.check([0x49, 0x49])) {\n\t\t\tconst fileType = await this.readTiffHeader(false);\n\t\t\tif (fileType) {\n\t\t\t\treturn fileType;\n\t\t\t}\n\t\t}\n\n\t\t// TIFF, big-endian type\n\t\tif (this.check([0x4D, 0x4D])) {\n\t\t\tconst fileType = await this.readTiffHeader(true);\n\t\t\tif (fileType) {\n\t\t\t\treturn fileType;\n\t\t\t}\n\t\t}\n\n\t\tif (this.checkString('MAC ')) {\n\t\t\treturn {\n\t\t\t\text: 'ape',\n\t\t\t\tmime: 'audio/ape',\n\t\t\t};\n\t\t}\n\n\t\t// https://github.com/threatstack/libmagic/blob/master/magic/Magdir/matroska\n\t\tif (this.check([0x1A, 0x45, 0xDF, 0xA3])) { // Root element: EBML\n\t\t\tasync function readField() {\n\t\t\t\tconst msb = await tokenizer.peekNumber(Token.UINT8);\n\t\t\t\tlet mask = 0x80;\n\t\t\t\tlet ic = 0; // 0 = A, 1 = B, 2 = C, 3\n\t\t\t\t// = D\n\n\t\t\t\twhile ((msb & mask) === 0 && mask !== 0) {\n\t\t\t\t\t++ic;\n\t\t\t\t\tmask >>= 1;\n\t\t\t\t}\n\n\t\t\t\tconst id = Buffer.alloc(ic + 1);\n\t\t\t\tawait tokenizer.readBuffer(id);\n\t\t\t\treturn id;\n\t\t\t}\n\n\t\t\tasync function readElement() {\n\t\t\t\tconst id = await readField();\n\t\t\t\tconst lengthField = await readField();\n\t\t\t\tlengthField[0] ^= 0x80 >> (lengthField.length - 1);\n\t\t\t\tconst nrLength = Math.min(6, lengthField.length); // JavaScript can max read 6 bytes integer\n\t\t\t\treturn {\n\t\t\t\t\tid: id.readUIntBE(0, id.length),\n\t\t\t\t\tlen: lengthField.readUIntBE(lengthField.length - nrLength, nrLength),\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tasync function readChildren(children) {\n\t\t\t\twhile (children > 0) {\n\t\t\t\t\tconst element = await readElement();\n\t\t\t\t\tif (element.id === 0x42_82) {\n\t\t\t\t\t\tconst rawValue = await tokenizer.readToken(new Token.StringType(element.len, 'utf-8'));\n\t\t\t\t\t\treturn rawValue.replace(/\\00.*$/g, ''); // Return DocType\n\t\t\t\t\t}\n\n\t\t\t\t\tawait tokenizer.ignore(element.len); // ignore payload\n\t\t\t\t\t--children;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst re = await readElement();\n\t\t\tconst docType = await readChildren(re.len);\n\n\t\t\tswitch (docType) {\n\t\t\t\tcase 'webm':\n\t\t\t\t\treturn {\n\t\t\t\t\t\text: 'webm',\n\t\t\t\t\t\tmime: 'video/webm',\n\t\t\t\t\t};\n\n\t\t\t\tcase 'matroska':\n\t\t\t\t\treturn {\n\t\t\t\t\t\text: 'mkv',\n\t\t\t\t\t\tmime: 'video/x-matroska',\n\t\t\t\t\t};\n\n\t\t\t\tdefault:\n\t\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\t// RIFF file format which might be AVI, WAV, QCP, etc\n\t\tif (this.check([0x52, 0x49, 0x46, 0x46])) {\n\t\t\tif (this.check([0x41, 0x56, 0x49], {offset: 8})) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'avi',\n\t\t\t\t\tmime: 'video/vnd.avi',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (this.check([0x57, 0x41, 0x56, 0x45], {offset: 8})) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'wav',\n\t\t\t\t\tmime: 'audio/vnd.wave',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// QLCM, QCP file\n\t\t\tif (this.check([0x51, 0x4C, 0x43, 0x4D], {offset: 8})) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'qcp',\n\t\t\t\t\tmime: 'audio/qcelp',\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\tif (this.checkString('SQLi')) {\n\t\t\treturn {\n\t\t\t\text: 'sqlite',\n\t\t\t\tmime: 'application/x-sqlite3',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x4E, 0x45, 0x53, 0x1A])) {\n\t\t\treturn {\n\t\t\t\text: 'nes',\n\t\t\t\tmime: 'application/x-nintendo-nes-rom',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('Cr24')) {\n\t\t\treturn {\n\t\t\t\text: 'crx',\n\t\t\t\tmime: 'application/x-google-chrome-extension',\n\t\t\t};\n\t\t}\n\n\t\tif (\n\t\t\tthis.checkString('MSCF')\n\t\t\t|| this.checkString('ISc(')\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'cab',\n\t\t\t\tmime: 'application/vnd.ms-cab-compressed',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0xED, 0xAB, 0xEE, 0xDB])) {\n\t\t\treturn {\n\t\t\t\text: 'rpm',\n\t\t\t\tmime: 'application/x-rpm',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0xC5, 0xD0, 0xD3, 0xC6])) {\n\t\t\treturn {\n\t\t\t\text: 'eps',\n\t\t\t\tmime: 'application/eps',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x28, 0xB5, 0x2F, 0xFD])) {\n\t\t\treturn {\n\t\t\t\text: 'zst',\n\t\t\t\tmime: 'application/zstd',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x7F, 0x45, 0x4C, 0x46])) {\n\t\t\treturn {\n\t\t\t\text: 'elf',\n\t\t\t\tmime: 'application/x-elf',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x21, 0x42, 0x44, 0x4E])) {\n\t\t\treturn {\n\t\t\t\text: 'pst',\n\t\t\t\tmime: 'application/vnd.ms-outlook',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('PAR1')) {\n\t\t\treturn {\n\t\t\t\text: 'parquet',\n\t\t\t\tmime: 'application/x-parquet',\n\t\t\t};\n\t\t}\n\n\t\t// -- 5-byte signatures --\n\n\t\tif (this.check([0x4F, 0x54, 0x54, 0x4F, 0x00])) {\n\t\t\treturn {\n\t\t\t\text: 'otf',\n\t\t\t\tmime: 'font/otf',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('#!AMR')) {\n\t\t\treturn {\n\t\t\t\text: 'amr',\n\t\t\t\tmime: 'audio/amr',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('{\\\\rtf')) {\n\t\t\treturn {\n\t\t\t\text: 'rtf',\n\t\t\t\tmime: 'application/rtf',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x46, 0x4C, 0x56, 0x01])) {\n\t\t\treturn {\n\t\t\t\text: 'flv',\n\t\t\t\tmime: 'video/x-flv',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('IMPM')) {\n\t\t\treturn {\n\t\t\t\text: 'it',\n\t\t\t\tmime: 'audio/x-it',\n\t\t\t};\n\t\t}\n\n\t\tif (\n\t\t\tthis.checkString('-lh0-', {offset: 2})\n\t\t\t|| this.checkString('-lh1-', {offset: 2})\n\t\t\t|| this.checkString('-lh2-', {offset: 2})\n\t\t\t|| this.checkString('-lh3-', {offset: 2})\n\t\t\t|| this.checkString('-lh4-', {offset: 2})\n\t\t\t|| this.checkString('-lh5-', {offset: 2})\n\t\t\t|| this.checkString('-lh6-', {offset: 2})\n\t\t\t|| this.checkString('-lh7-', {offset: 2})\n\t\t\t|| this.checkString('-lzs-', {offset: 2})\n\t\t\t|| this.checkString('-lz4-', {offset: 2})\n\t\t\t|| this.checkString('-lz5-', {offset: 2})\n\t\t\t|| this.checkString('-lhd-', {offset: 2})\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'lzh',\n\t\t\t\tmime: 'application/x-lzh-compressed',\n\t\t\t};\n\t\t}\n\n\t\t// MPEG program stream (PS or MPEG-PS)\n\t\tif (this.check([0x00, 0x00, 0x01, 0xBA])) {\n\t\t\t//  MPEG-PS, MPEG-1 Part 1\n\t\t\tif (this.check([0x21], {offset: 4, mask: [0xF1]})) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'mpg', // May also be .ps, .mpeg\n\t\t\t\t\tmime: 'video/MP1S',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// MPEG-PS, MPEG-2 Part 1\n\t\t\tif (this.check([0x44], {offset: 4, mask: [0xC4]})) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'mpg', // May also be .mpg, .m2p, .vob or .sub\n\t\t\t\t\tmime: 'video/MP2P',\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\tif (this.checkString('ITSF')) {\n\t\t\treturn {\n\t\t\t\text: 'chm',\n\t\t\t\tmime: 'application/vnd.ms-htmlhelp',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0xCA, 0xFE, 0xBA, 0xBE])) {\n\t\t\treturn {\n\t\t\t\text: 'class',\n\t\t\t\tmime: 'application/java-vm',\n\t\t\t};\n\t\t}\n\n\t\t// -- 6-byte signatures --\n\n\t\tif (this.check([0xFD, 0x37, 0x7A, 0x58, 0x5A, 0x00])) {\n\t\t\treturn {\n\t\t\t\text: 'xz',\n\t\t\t\tmime: 'application/x-xz',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('<?xml ')) {\n\t\t\treturn {\n\t\t\t\text: 'xml',\n\t\t\t\tmime: 'application/xml',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x37, 0x7A, 0xBC, 0xAF, 0x27, 0x1C])) {\n\t\t\treturn {\n\t\t\t\text: '7z',\n\t\t\t\tmime: 'application/x-7z-compressed',\n\t\t\t};\n\t\t}\n\n\t\tif (\n\t\t\tthis.check([0x52, 0x61, 0x72, 0x21, 0x1A, 0x7])\n\t\t\t&& (this.buffer[6] === 0x0 || this.buffer[6] === 0x1)\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'rar',\n\t\t\t\tmime: 'application/x-rar-compressed',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('solid ')) {\n\t\t\treturn {\n\t\t\t\text: 'stl',\n\t\t\t\tmime: 'model/stl',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('AC')) {\n\t\t\tconst version = this.buffer.toString('binary', 2, 6);\n\t\t\tif (version.match('^d*') && version >= 1000 && version <= 1050) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'dwg',\n\t\t\t\t\tmime: 'image/vnd.dwg',\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\tif (this.checkString('070707')) {\n\t\t\treturn {\n\t\t\t\text: 'cpio',\n\t\t\t\tmime: 'application/x-cpio',\n\t\t\t};\n\t\t}\n\n\t\t// -- 7-byte signatures --\n\n\t\tif (this.checkString('BLENDER')) {\n\t\t\treturn {\n\t\t\t\text: 'blend',\n\t\t\t\tmime: 'application/x-blender',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('!<arch>')) {\n\t\t\tawait tokenizer.ignore(8);\n\t\t\tconst string = await tokenizer.readToken(new Token.StringType(13, 'ascii'));\n\t\t\tif (string === 'debian-binary') {\n\t\t\t\treturn {\n\t\t\t\t\text: 'deb',\n\t\t\t\t\tmime: 'application/x-deb',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\text: 'ar',\n\t\t\t\tmime: 'application/x-unix-archive',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('**ACE', {offset: 7})) {\n\t\t\tawait tokenizer.peekBuffer(this.buffer, {length: 14, mayBeLess: true});\n\t\t\tif (this.checkString('**', {offset: 12})) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'ace',\n\t\t\t\t\tmime: 'application/x-ace-compressed',\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\t// -- 8-byte signatures --\n\n\t\tif (this.check([0x89, 0x50, 0x4E, 0x47, 0x0D, 0x0A, 0x1A, 0x0A])) {\n\t\t\t// APNG format (https://wiki.mozilla.org/APNG_Specification)\n\t\t\t// 1. Find the first IDAT (image data) chunk (49 44 41 54)\n\t\t\t// 2. Check if there is an \"acTL\" chunk before the IDAT one (61 63 54 4C)\n\n\t\t\t// Offset calculated as follows:\n\t\t\t// - 8 bytes: PNG signature\n\t\t\t// - 4 (length) + 4 (chunk type) + 13 (chunk data) + 4 (CRC): IHDR chunk\n\n\t\t\tawait tokenizer.ignore(8); // ignore PNG signature\n\n\t\t\tasync function readChunkHeader() {\n\t\t\t\treturn {\n\t\t\t\t\tlength: await tokenizer.readToken(Token.INT32_BE),\n\t\t\t\t\ttype: await tokenizer.readToken(new Token.StringType(4, 'binary')),\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tdo {\n\t\t\t\tconst chunk = await readChunkHeader();\n\t\t\t\tif (chunk.length < 0) {\n\t\t\t\t\treturn; // Invalid chunk length\n\t\t\t\t}\n\n\t\t\t\tswitch (chunk.type) {\n\t\t\t\t\tcase 'IDAT':\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\text: 'png',\n\t\t\t\t\t\t\tmime: 'image/png',\n\t\t\t\t\t\t};\n\t\t\t\t\tcase 'acTL':\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\text: 'apng',\n\t\t\t\t\t\t\tmime: 'image/apng',\n\t\t\t\t\t\t};\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tawait tokenizer.ignore(chunk.length + 4); // Ignore chunk-data + CRC\n\t\t\t\t}\n\t\t\t} while (tokenizer.position + 8 < tokenizer.fileInfo.size);\n\n\t\t\treturn {\n\t\t\t\text: 'png',\n\t\t\t\tmime: 'image/png',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x41, 0x52, 0x52, 0x4F, 0x57, 0x31, 0x00, 0x00])) {\n\t\t\treturn {\n\t\t\t\text: 'arrow',\n\t\t\t\tmime: 'application/x-apache-arrow',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x67, 0x6C, 0x54, 0x46, 0x02, 0x00, 0x00, 0x00])) {\n\t\t\treturn {\n\t\t\t\text: 'glb',\n\t\t\t\tmime: 'model/gltf-binary',\n\t\t\t};\n\t\t}\n\n\t\t// `mov` format variants\n\t\tif (\n\t\t\tthis.check([0x66, 0x72, 0x65, 0x65], {offset: 4}) // `free`\n\t\t\t|| this.check([0x6D, 0x64, 0x61, 0x74], {offset: 4}) // `mdat` MJPEG\n\t\t\t|| this.check([0x6D, 0x6F, 0x6F, 0x76], {offset: 4}) // `moov`\n\t\t\t|| this.check([0x77, 0x69, 0x64, 0x65], {offset: 4}) // `wide`\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'mov',\n\t\t\t\tmime: 'video/quicktime',\n\t\t\t};\n\t\t}\n\n\t\t// -- 9-byte signatures --\n\n\t\tif (this.check([0x49, 0x49, 0x52, 0x4F, 0x08, 0x00, 0x00, 0x00, 0x18])) {\n\t\t\treturn {\n\t\t\t\text: 'orf',\n\t\t\t\tmime: 'image/x-olympus-orf',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('gimp xcf ')) {\n\t\t\treturn {\n\t\t\t\text: 'xcf',\n\t\t\t\tmime: 'image/x-xcf',\n\t\t\t};\n\t\t}\n\n\t\t// -- 12-byte signatures --\n\n\t\tif (this.check([0x49, 0x49, 0x55, 0x00, 0x18, 0x00, 0x00, 0x00, 0x88, 0xE7, 0x74, 0xD8])) {\n\t\t\treturn {\n\t\t\t\text: 'rw2',\n\t\t\t\tmime: 'image/x-panasonic-rw2',\n\t\t\t};\n\t\t}\n\n\t\t// ASF_Header_Object first 80 bytes\n\t\tif (this.check([0x30, 0x26, 0xB2, 0x75, 0x8E, 0x66, 0xCF, 0x11, 0xA6, 0xD9])) {\n\t\t\tasync function readHeader() {\n\t\t\t\tconst guid = Buffer.alloc(16);\n\t\t\t\tawait tokenizer.readBuffer(guid);\n\t\t\t\treturn {\n\t\t\t\t\tid: guid,\n\t\t\t\t\tsize: Number(await tokenizer.readToken(Token.UINT64_LE)),\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tawait tokenizer.ignore(30);\n\t\t\t// Search for header should be in first 1KB of file.\n\t\t\twhile (tokenizer.position + 24 < tokenizer.fileInfo.size) {\n\t\t\t\tconst header = await readHeader();\n\t\t\t\tlet payload = header.size - 24;\n\t\t\t\tif (_check(header.id, [0x91, 0x07, 0xDC, 0xB7, 0xB7, 0xA9, 0xCF, 0x11, 0x8E, 0xE6, 0x00, 0xC0, 0x0C, 0x20, 0x53, 0x65])) {\n\t\t\t\t\t// Sync on Stream-Properties-Object (B7DC0791-A9B7-11CF-8EE6-00C00C205365)\n\t\t\t\t\tconst typeId = Buffer.alloc(16);\n\t\t\t\t\tpayload -= await tokenizer.readBuffer(typeId);\n\n\t\t\t\t\tif (_check(typeId, [0x40, 0x9E, 0x69, 0xF8, 0x4D, 0x5B, 0xCF, 0x11, 0xA8, 0xFD, 0x00, 0x80, 0x5F, 0x5C, 0x44, 0x2B])) {\n\t\t\t\t\t\t// Found audio:\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\text: 'asf',\n\t\t\t\t\t\t\tmime: 'audio/x-ms-asf',\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\tif (_check(typeId, [0xC0, 0xEF, 0x19, 0xBC, 0x4D, 0x5B, 0xCF, 0x11, 0xA8, 0xFD, 0x00, 0x80, 0x5F, 0x5C, 0x44, 0x2B])) {\n\t\t\t\t\t\t// Found video:\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\text: 'asf',\n\t\t\t\t\t\t\tmime: 'video/x-ms-asf',\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tawait tokenizer.ignore(payload);\n\t\t\t}\n\n\t\t\t// Default to ASF generic extension\n\t\t\treturn {\n\t\t\t\text: 'asf',\n\t\t\t\tmime: 'application/vnd.ms-asf',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0xAB, 0x4B, 0x54, 0x58, 0x20, 0x31, 0x31, 0xBB, 0x0D, 0x0A, 0x1A, 0x0A])) {\n\t\t\treturn {\n\t\t\t\text: 'ktx',\n\t\t\t\tmime: 'image/ktx',\n\t\t\t};\n\t\t}\n\n\t\tif ((this.check([0x7E, 0x10, 0x04]) || this.check([0x7E, 0x18, 0x04])) && this.check([0x30, 0x4D, 0x49, 0x45], {offset: 4})) {\n\t\t\treturn {\n\t\t\t\text: 'mie',\n\t\t\t\tmime: 'application/x-mie',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x27, 0x0A, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00], {offset: 2})) {\n\t\t\treturn {\n\t\t\t\text: 'shp',\n\t\t\t\tmime: 'application/x-esri-shape',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0xFF, 0x4F, 0xFF, 0x51])) {\n\t\t\treturn {\n\t\t\t\text: 'j2c',\n\t\t\t\tmime: 'image/j2c',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x00, 0x00, 0x00, 0x0C, 0x6A, 0x50, 0x20, 0x20, 0x0D, 0x0A, 0x87, 0x0A])) {\n\t\t\t// JPEG-2000 family\n\n\t\t\tawait tokenizer.ignore(20);\n\t\t\tconst type = await tokenizer.readToken(new Token.StringType(4, 'ascii'));\n\t\t\tswitch (type) {\n\t\t\t\tcase 'jp2 ':\n\t\t\t\t\treturn {\n\t\t\t\t\t\text: 'jp2',\n\t\t\t\t\t\tmime: 'image/jp2',\n\t\t\t\t\t};\n\t\t\t\tcase 'jpx ':\n\t\t\t\t\treturn {\n\t\t\t\t\t\text: 'jpx',\n\t\t\t\t\t\tmime: 'image/jpx',\n\t\t\t\t\t};\n\t\t\t\tcase 'jpm ':\n\t\t\t\t\treturn {\n\t\t\t\t\t\text: 'jpm',\n\t\t\t\t\t\tmime: 'image/jpm',\n\t\t\t\t\t};\n\t\t\t\tcase 'mjp2':\n\t\t\t\t\treturn {\n\t\t\t\t\t\text: 'mj2',\n\t\t\t\t\t\tmime: 'image/mj2',\n\t\t\t\t\t};\n\t\t\t\tdefault:\n\t\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\tif (\n\t\t\tthis.check([0xFF, 0x0A])\n\t\t\t|| this.check([0x00, 0x00, 0x00, 0x0C, 0x4A, 0x58, 0x4C, 0x20, 0x0D, 0x0A, 0x87, 0x0A])\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'jxl',\n\t\t\t\tmime: 'image/jxl',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0xFE, 0xFF])) { // UTF-16-BOM-LE\n\t\t\tif (this.check([0, 60, 0, 63, 0, 120, 0, 109, 0, 108], {offset: 2})) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'xml',\n\t\t\t\t\tmime: 'application/xml',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn undefined; // Some unknown text based format\n\t\t}\n\n\t\t// -- Unsafe signatures --\n\n\t\tif (\n\t\t\tthis.check([0x0, 0x0, 0x1, 0xBA])\n\t\t\t|| this.check([0x0, 0x0, 0x1, 0xB3])\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'mpg',\n\t\t\t\tmime: 'video/mpeg',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x00, 0x01, 0x00, 0x00, 0x00])) {\n\t\t\treturn {\n\t\t\t\text: 'ttf',\n\t\t\t\tmime: 'font/ttf',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x00, 0x00, 0x01, 0x00])) {\n\t\t\treturn {\n\t\t\t\text: 'ico',\n\t\t\t\tmime: 'image/x-icon',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x00, 0x00, 0x02, 0x00])) {\n\t\t\treturn {\n\t\t\t\text: 'cur',\n\t\t\t\tmime: 'image/x-icon',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0xD0, 0xCF, 0x11, 0xE0, 0xA1, 0xB1, 0x1A, 0xE1])) {\n\t\t\t// Detected Microsoft Compound File Binary File (MS-CFB) Format.\n\t\t\treturn {\n\t\t\t\text: 'cfb',\n\t\t\t\tmime: 'application/x-cfb',\n\t\t\t};\n\t\t}\n\n\t\t// Increase sample size from 12 to 256.\n\t\tawait tokenizer.peekBuffer(this.buffer, {length: Math.min(256, tokenizer.fileInfo.size), mayBeLess: true});\n\n\t\t// -- 15-byte signatures --\n\n\t\tif (this.checkString('BEGIN:')) {\n\t\t\tif (this.checkString('VCARD', {offset: 6})) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'vcf',\n\t\t\t\t\tmime: 'text/vcard',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (this.checkString('VCALENDAR', {offset: 6})) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'ics',\n\t\t\t\t\tmime: 'text/calendar',\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\t// `raf` is here just to keep all the raw image detectors together.\n\t\tif (this.checkString('FUJIFILMCCD-RAW')) {\n\t\t\treturn {\n\t\t\t\text: 'raf',\n\t\t\t\tmime: 'image/x-fujifilm-raf',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('Extended Module:')) {\n\t\t\treturn {\n\t\t\t\text: 'xm',\n\t\t\t\tmime: 'audio/x-xm',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('Creative Voice File')) {\n\t\t\treturn {\n\t\t\t\text: 'voc',\n\t\t\t\tmime: 'audio/x-voc',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x04, 0x00, 0x00, 0x00]) && this.buffer.length >= 16) { // Rough & quick check Pickle/ASAR\n\t\t\tconst jsonSize = this.buffer.readUInt32LE(12);\n\t\t\tif (jsonSize > 12 && this.buffer.length >= jsonSize + 16) {\n\t\t\t\ttry {\n\t\t\t\t\tconst header = this.buffer.slice(16, jsonSize + 16).toString();\n\t\t\t\t\tconst json = JSON.parse(header);\n\t\t\t\t\t// Check if Pickle is ASAR\n\t\t\t\t\tif (json.files) { // Final check, assuring Pickle/ASAR format\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\text: 'asar',\n\t\t\t\t\t\t\tmime: 'application/x-asar',\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t} catch {}\n\t\t\t}\n\t\t}\n\n\t\tif (this.check([0x06, 0x0E, 0x2B, 0x34, 0x02, 0x05, 0x01, 0x01, 0x0D, 0x01, 0x02, 0x01, 0x01, 0x02])) {\n\t\t\treturn {\n\t\t\t\text: 'mxf',\n\t\t\t\tmime: 'application/mxf',\n\t\t\t};\n\t\t}\n\n\t\tif (this.checkString('SCRM', {offset: 44})) {\n\t\t\treturn {\n\t\t\t\text: 's3m',\n\t\t\t\tmime: 'audio/x-s3m',\n\t\t\t};\n\t\t}\n\n\t\t// Raw MPEG-2 transport stream (188-byte packets)\n\t\tif (this.check([0x47]) && this.check([0x47], {offset: 188})) {\n\t\t\treturn {\n\t\t\t\text: 'mts',\n\t\t\t\tmime: 'video/mp2t',\n\t\t\t};\n\t\t}\n\n\t\t// Blu-ray Disc Audio-Video (BDAV) MPEG-2 transport stream has 4-byte TP_extra_header before each 188-byte packet\n\t\tif (this.check([0x47], {offset: 4}) && this.check([0x47], {offset: 196})) {\n\t\t\treturn {\n\t\t\t\text: 'mts',\n\t\t\t\tmime: 'video/mp2t',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x42, 0x4F, 0x4F, 0x4B, 0x4D, 0x4F, 0x42, 0x49], {offset: 60})) {\n\t\t\treturn {\n\t\t\t\text: 'mobi',\n\t\t\t\tmime: 'application/x-mobipocket-ebook',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x44, 0x49, 0x43, 0x4D], {offset: 128})) {\n\t\t\treturn {\n\t\t\t\text: 'dcm',\n\t\t\t\tmime: 'application/dicom',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x4C, 0x00, 0x00, 0x00, 0x01, 0x14, 0x02, 0x00, 0x00, 0x00, 0x00, 0x00, 0xC0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x46])) {\n\t\t\treturn {\n\t\t\t\text: 'lnk',\n\t\t\t\tmime: 'application/x.ms.shortcut', // Invented by us\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x62, 0x6F, 0x6F, 0x6B, 0x00, 0x00, 0x00, 0x00, 0x6D, 0x61, 0x72, 0x6B, 0x00, 0x00, 0x00, 0x00])) {\n\t\t\treturn {\n\t\t\t\text: 'alias',\n\t\t\t\tmime: 'application/x.apple.alias', // Invented by us\n\t\t\t};\n\t\t}\n\n\t\tif (\n\t\t\tthis.check([0x4C, 0x50], {offset: 34})\n\t\t\t&& (\n\t\t\t\tthis.check([0x00, 0x00, 0x01], {offset: 8})\n\t\t\t\t|| this.check([0x01, 0x00, 0x02], {offset: 8})\n\t\t\t\t|| this.check([0x02, 0x00, 0x02], {offset: 8})\n\t\t\t)\n\t\t) {\n\t\t\treturn {\n\t\t\t\text: 'eot',\n\t\t\t\tmime: 'application/vnd.ms-fontobject',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0x06, 0x06, 0xED, 0xF5, 0xD8, 0x1D, 0x46, 0xE5, 0xBD, 0x31, 0xEF, 0xE7, 0xFE, 0x74, 0xB7, 0x1D])) {\n\t\t\treturn {\n\t\t\t\text: 'indd',\n\t\t\t\tmime: 'application/x-indesign',\n\t\t\t};\n\t\t}\n\n\t\t// Increase sample size from 256 to 512\n\t\tawait tokenizer.peekBuffer(this.buffer, {length: Math.min(512, tokenizer.fileInfo.size), mayBeLess: true});\n\n\t\t// Requires a buffer size of 512 bytes\n\t\tif (tarHeaderChecksumMatches(this.buffer)) {\n\t\t\treturn {\n\t\t\t\text: 'tar',\n\t\t\t\tmime: 'application/x-tar',\n\t\t\t};\n\t\t}\n\n\t\tif (this.check([0xFF, 0xFE])) { // UTF-16-BOM-BE\n\t\t\tif (this.check([60, 0, 63, 0, 120, 0, 109, 0, 108, 0], {offset: 2})) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'xml',\n\t\t\t\t\tmime: 'application/xml',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (this.check([0xFF, 0x0E, 0x53, 0x00, 0x6B, 0x00, 0x65, 0x00, 0x74, 0x00, 0x63, 0x00, 0x68, 0x00, 0x55, 0x00, 0x70, 0x00, 0x20, 0x00, 0x4D, 0x00, 0x6F, 0x00, 0x64, 0x00, 0x65, 0x00, 0x6C, 0x00], {offset: 2})) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'skp',\n\t\t\t\t\tmime: 'application/vnd.sketchup.skp',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn undefined; // Some text based format\n\t\t}\n\n\t\tif (this.checkString('-----BEGIN PGP MESSAGE-----')) {\n\t\t\treturn {\n\t\t\t\text: 'pgp',\n\t\t\t\tmime: 'application/pgp-encrypted',\n\t\t\t};\n\t\t}\n\n\t\t// Check MPEG 1 or 2 Layer 3 header, or 'layer 0' for ADTS (MPEG sync-word 0xFFE)\n\t\tif (this.buffer.length >= 2 && this.check([0xFF, 0xE0], {offset: 0, mask: [0xFF, 0xE0]})) {\n\t\t\tif (this.check([0x10], {offset: 1, mask: [0x16]})) {\n\t\t\t\t// Check for (ADTS) MPEG-2\n\t\t\t\tif (this.check([0x08], {offset: 1, mask: [0x08]})) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\text: 'aac',\n\t\t\t\t\t\tmime: 'audio/aac',\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\t// Must be (ADTS) MPEG-4\n\t\t\t\treturn {\n\t\t\t\t\text: 'aac',\n\t\t\t\t\tmime: 'audio/aac',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// MPEG 1 or 2 Layer 3 header\n\t\t\t// Check for MPEG layer 3\n\t\t\tif (this.check([0x02], {offset: 1, mask: [0x06]})) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'mp3',\n\t\t\t\t\tmime: 'audio/mpeg',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// Check for MPEG layer 2\n\t\t\tif (this.check([0x04], {offset: 1, mask: [0x06]})) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'mp2',\n\t\t\t\t\tmime: 'audio/mpeg',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// Check for MPEG layer 1\n\t\t\tif (this.check([0x06], {offset: 1, mask: [0x06]})) {\n\t\t\t\treturn {\n\t\t\t\t\text: 'mp1',\n\t\t\t\t\tmime: 'audio/mpeg',\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t}\n\n\tasync readTiffTag(bigEndian) {\n\t\tconst tagId = await this.tokenizer.readToken(bigEndian ? Token.UINT16_BE : Token.UINT16_LE);\n\t\tthis.tokenizer.ignore(10);\n\t\tswitch (tagId) {\n\t\t\tcase 50_341:\n\t\t\t\treturn {\n\t\t\t\t\text: 'arw',\n\t\t\t\t\tmime: 'image/x-sony-arw',\n\t\t\t\t};\n\t\t\tcase 50_706:\n\t\t\t\treturn {\n\t\t\t\t\text: 'dng',\n\t\t\t\t\tmime: 'image/x-adobe-dng',\n\t\t\t\t};\n\t\t\tdefault:\n\t\t}\n\t}\n\n\tasync readTiffIFD(bigEndian) {\n\t\tconst numberOfTags = await this.tokenizer.readToken(bigEndian ? Token.UINT16_BE : Token.UINT16_LE);\n\t\tfor (let n = 0; n < numberOfTags; ++n) {\n\t\t\tconst fileType = await this.readTiffTag(bigEndian);\n\t\t\tif (fileType) {\n\t\t\t\treturn fileType;\n\t\t\t}\n\t\t}\n\t}\n\n\tasync readTiffHeader(bigEndian) {\n\t\tconst version = (bigEndian ? Token.UINT16_BE : Token.UINT16_LE).get(this.buffer, 2);\n\t\tconst ifdOffset = (bigEndian ? Token.UINT32_BE : Token.UINT32_LE).get(this.buffer, 4);\n\n\t\tif (version === 42) {\n\t\t\t// TIFF file header\n\t\t\tif (ifdOffset >= 6) {\n\t\t\t\tif (this.checkString('CR', {offset: 8})) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\text: 'cr2',\n\t\t\t\t\t\tmime: 'image/x-canon-cr2',\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tif (ifdOffset >= 8 && (this.check([0x1C, 0x00, 0xFE, 0x00], {offset: 8}) || this.check([0x1F, 0x00, 0x0B, 0x00], {offset: 8}))) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\text: 'nef',\n\t\t\t\t\t\tmime: 'image/x-nikon-nef',\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tawait this.tokenizer.ignore(ifdOffset);\n\t\t\tconst fileType = await this.readTiffIFD(bigEndian);\n\t\t\treturn fileType ?? {\n\t\t\t\text: 'tif',\n\t\t\t\tmime: 'image/tiff',\n\t\t\t};\n\t\t}\n\n\t\tif (version === 43) {\t// Big TIFF file header\n\t\t\treturn {\n\t\t\t\text: 'tif',\n\t\t\t\tmime: 'image/tiff',\n\t\t\t};\n\t\t}\n\t}\n}\n\nexport async function fileTypeStream(readableStream, {sampleSize = minimumBytes} = {}) {\n\tconst {default: stream} = await import('node:stream');\n\n\treturn new Promise((resolve, reject) => {\n\t\treadableStream.on('error', reject);\n\n\t\treadableStream.once('readable', () => {\n\t\t\t(async () => {\n\t\t\t\ttry {\n\t\t\t\t\t// Set up output stream\n\t\t\t\t\tconst pass = new stream.PassThrough();\n\t\t\t\t\tconst outputStream = stream.pipeline ? stream.pipeline(readableStream, pass, () => {}) : readableStream.pipe(pass);\n\n\t\t\t\t\t// Read the input stream and detect the filetype\n\t\t\t\t\tconst chunk = readableStream.read(sampleSize) ?? readableStream.read() ?? Buffer.alloc(0);\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst fileType = await fileTypeFromBuffer(chunk);\n\t\t\t\t\t\tpass.fileType = fileType;\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\tif (error instanceof strtok3.EndOfStreamError) {\n\t\t\t\t\t\t\tpass.fileType = undefined;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treject(error);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tresolve(outputStream);\n\t\t\t\t} catch (error) {\n\t\t\t\t\treject(error);\n\t\t\t\t}\n\t\t\t})();\n\t\t});\n\t});\n}\n\nexport const supportedExtensions = new Set(extensions);\nexport const supportedMimeTypes = new Set(mimeTypes);\n","export const defaultJsonSerializer = {\n    parse: JSON.parse,\n    stringify: JSON.stringify,\n};\n//# sourceMappingURL=defaultJsonSerializer.js.map","import { defaultJsonSerializer } from './defaultJsonSerializer.js';\nimport { extractFiles, isExtractableFile } from 'extract-files';\nimport FormDataNode from 'form-data';\n/**\n * Duck type if NodeJS stream\n * https://github.com/sindresorhus/is-stream/blob/3750505b0727f6df54324784fe369365ef78841e/index.js#L3\n */\nconst isExtractableFileEnhanced = (value) => isExtractableFile(value) ||\n    (value !== null && typeof value === `object` && typeof value.pipe === `function`);\n/**\n * Returns Multipart Form if body contains files\n * (https://github.com/jaydenseric/graphql-multipart-request-spec)\n * Otherwise returns JSON\n */\nconst createRequestBody = (query, variables, operationName, jsonSerializer = defaultJsonSerializer) => {\n    const { clone, files } = extractFiles({ query, variables, operationName }, ``, isExtractableFileEnhanced);\n    if (files.size === 0) {\n        if (!Array.isArray(query)) {\n            return jsonSerializer.stringify(clone);\n        }\n        if (typeof variables !== `undefined` && !Array.isArray(variables)) {\n            throw new Error(`Cannot create request body with given variable type, array expected`);\n        }\n        // Batch support\n        const payload = query.reduce((accu, currentQuery, index) => {\n            accu.push({ query: currentQuery, variables: variables ? variables[index] : undefined });\n            return accu;\n        }, []);\n        return jsonSerializer.stringify(payload);\n    }\n    const Form = typeof FormData === `undefined` ? FormDataNode : FormData;\n    const form = new Form();\n    form.append(`operations`, jsonSerializer.stringify(clone));\n    const map = {};\n    let i = 0;\n    files.forEach((paths) => {\n        map[++i] = paths;\n    });\n    form.append(`map`, jsonSerializer.stringify(map));\n    i = 0;\n    files.forEach((paths, file) => {\n        form.append(`${++i}`, file);\n    });\n    return form;\n};\nexport default createRequestBody;\n//# sourceMappingURL=createRequestBody.js.map","import { parse, print } from 'graphql';\n/**\n * helpers\n */\nconst extractOperationName = (document) => {\n    let operationName = undefined;\n    const operationDefinitions = document.definitions.filter((definition) => definition.kind === `OperationDefinition`);\n    if (operationDefinitions.length === 1) {\n        operationName = operationDefinitions[0]?.name?.value;\n    }\n    return operationName;\n};\nexport const resolveRequestDocument = (document) => {\n    if (typeof document === `string`) {\n        let operationName = undefined;\n        try {\n            const parsedDocument = parse(document);\n            operationName = extractOperationName(parsedDocument);\n        }\n        catch (err) {\n            // Failed parsing the document, the operationName will be undefined\n        }\n        return { query: document, operationName };\n    }\n    const operationName = extractOperationName(document);\n    return { query: print(document), operationName };\n};\n//# sourceMappingURL=resolveRequestDocument.js.map","export class ClientError extends Error {\n    constructor(response, request) {\n        const message = `${ClientError.extractMessage(response)}: ${JSON.stringify({\n            response,\n            request,\n        })}`;\n        super(message);\n        Object.setPrototypeOf(this, ClientError.prototype);\n        this.response = response;\n        this.request = request;\n        // this is needed as Safari doesn't support .captureStackTrace\n        if (typeof Error.captureStackTrace === `function`) {\n            Error.captureStackTrace(this, ClientError);\n        }\n    }\n    static extractMessage(response) {\n        return response.errors?.[0]?.message ?? `GraphQL Error (Code: ${response.status})`;\n    }\n}\n//# sourceMappingURL=types.js.map","import createRequestBody from './createRequestBody.js';\nimport { defaultJsonSerializer } from './defaultJsonSerializer.js';\nimport { HeadersInstanceToPlainObject, uppercase } from './helpers.js';\nimport { parseBatchRequestArgs, parseRawRequestArgs, parseRawRequestExtendedArgs, parseRequestArgs, parseRequestExtendedArgs, } from './parseArgs.js';\nimport { resolveRequestDocument } from './resolveRequestDocument.js';\nimport { ClientError, } from './types.js';\nimport crossFetch, * as CrossFetch from 'cross-fetch';\nexport { ClientError, };\n/**\n * Convert the given headers configuration into a plain object.\n */\nconst resolveHeaders = (headers) => {\n    let oHeaders = {};\n    if (headers) {\n        if ((typeof Headers !== `undefined` && headers instanceof Headers) ||\n            (CrossFetch && CrossFetch.Headers && headers instanceof CrossFetch.Headers)) {\n            oHeaders = HeadersInstanceToPlainObject(headers);\n        }\n        else if (Array.isArray(headers)) {\n            headers.forEach(([name, value]) => {\n                if (name && value !== undefined) {\n                    oHeaders[name] = value;\n                }\n            });\n        }\n        else {\n            oHeaders = headers;\n        }\n    }\n    return oHeaders;\n};\n/**\n * Clean a GraphQL document to send it via a GET query\n */\nconst cleanQuery = (str) => str.replace(/([\\s,]|#[^\\n\\r]+)+/g, ` `).trim();\n/**\n * Create query string for GraphQL request\n */\nconst buildRequestConfig = (params) => {\n    if (!Array.isArray(params.query)) {\n        const params_ = params;\n        const search = [`query=${encodeURIComponent(cleanQuery(params_.query))}`];\n        if (params.variables) {\n            search.push(`variables=${encodeURIComponent(params_.jsonSerializer.stringify(params_.variables))}`);\n        }\n        if (params_.operationName) {\n            search.push(`operationName=${encodeURIComponent(params_.operationName)}`);\n        }\n        return search.join(`&`);\n    }\n    if (typeof params.variables !== `undefined` && !Array.isArray(params.variables)) {\n        throw new Error(`Cannot create query with given variable type, array expected`);\n    }\n    // Batch support\n    const params_ = params;\n    const payload = params.query.reduce((acc, currentQuery, index) => {\n        acc.push({\n            query: cleanQuery(currentQuery),\n            variables: params_.variables ? params_.jsonSerializer.stringify(params_.variables[index]) : undefined,\n        });\n        return acc;\n    }, []);\n    return `query=${encodeURIComponent(params_.jsonSerializer.stringify(payload))}`;\n};\nconst createHttpMethodFetcher = (method) => async (params) => {\n    const { url, query, variables, operationName, fetch, fetchOptions, middleware } = params;\n    const headers = { ...params.headers };\n    let queryParams = ``;\n    let body = undefined;\n    if (method === `POST`) {\n        body = createRequestBody(query, variables, operationName, fetchOptions.jsonSerializer);\n        if (typeof body === `string`) {\n            // @ts-expect-error todo\n            headers[`Content-Type`] = `application/json`;\n        }\n    }\n    else {\n        // @ts-expect-error todo needs ADT for TS to understand the different states\n        queryParams = buildRequestConfig({\n            query,\n            variables,\n            operationName,\n            jsonSerializer: fetchOptions.jsonSerializer ?? defaultJsonSerializer,\n        });\n    }\n    const init = {\n        method,\n        headers,\n        body,\n        ...fetchOptions,\n    };\n    let urlResolved = url;\n    let initResolved = init;\n    if (middleware) {\n        const result = await Promise.resolve(middleware({ ...init, url, operationName, variables }));\n        const { url: urlNew, ...initNew } = result;\n        urlResolved = urlNew;\n        initResolved = initNew;\n    }\n    if (queryParams) {\n        urlResolved = `${urlResolved}?${queryParams}`;\n    }\n    return await fetch(urlResolved, initResolved);\n};\n/**\n * GraphQL Client.\n */\nexport class GraphQLClient {\n    constructor(url, requestConfig = {}) {\n        this.url = url;\n        this.requestConfig = requestConfig;\n        /**\n         * Send a GraphQL query to the server.\n         */\n        this.rawRequest = async (...args) => {\n            const [queryOrOptions, variables, requestHeaders] = args;\n            const rawRequestOptions = parseRawRequestArgs(queryOrOptions, variables, requestHeaders);\n            const { headers, fetch = crossFetch, method = `POST`, requestMiddleware, responseMiddleware, ...fetchOptions } = this.requestConfig;\n            const { url } = this;\n            if (rawRequestOptions.signal !== undefined) {\n                fetchOptions.signal = rawRequestOptions.signal;\n            }\n            const { operationName } = resolveRequestDocument(rawRequestOptions.query);\n            return makeRequest({\n                url,\n                query: rawRequestOptions.query,\n                variables: rawRequestOptions.variables,\n                headers: {\n                    ...resolveHeaders(callOrIdentity(headers)),\n                    ...resolveHeaders(rawRequestOptions.requestHeaders),\n                },\n                operationName,\n                fetch,\n                method,\n                fetchOptions,\n                middleware: requestMiddleware,\n            })\n                .then((response) => {\n                if (responseMiddleware) {\n                    responseMiddleware(response);\n                }\n                return response;\n            })\n                .catch((error) => {\n                if (responseMiddleware) {\n                    responseMiddleware(error);\n                }\n                throw error;\n            });\n        };\n    }\n    async request(documentOrOptions, ...variablesAndRequestHeaders) {\n        const [variables, requestHeaders] = variablesAndRequestHeaders;\n        const requestOptions = parseRequestArgs(documentOrOptions, variables, requestHeaders);\n        const { headers, fetch = crossFetch, method = `POST`, requestMiddleware, responseMiddleware, ...fetchOptions } = this.requestConfig;\n        const { url } = this;\n        if (requestOptions.signal !== undefined) {\n            fetchOptions.signal = requestOptions.signal;\n        }\n        const { query, operationName } = resolveRequestDocument(requestOptions.document);\n        return makeRequest({\n            url,\n            query,\n            variables: requestOptions.variables,\n            headers: {\n                ...resolveHeaders(callOrIdentity(headers)),\n                ...resolveHeaders(requestOptions.requestHeaders),\n            },\n            operationName,\n            fetch,\n            method,\n            fetchOptions,\n            middleware: requestMiddleware,\n        })\n            .then((response) => {\n            if (responseMiddleware) {\n                responseMiddleware(response);\n            }\n            return response.data;\n        })\n            .catch((error) => {\n            if (responseMiddleware) {\n                responseMiddleware(error);\n            }\n            throw error;\n        });\n    }\n    // prettier-ignore\n    batchRequests(documentsOrOptions, requestHeaders) {\n        const batchRequestOptions = parseBatchRequestArgs(documentsOrOptions, requestHeaders);\n        const { headers, ...fetchOptions } = this.requestConfig;\n        if (batchRequestOptions.signal !== undefined) {\n            fetchOptions.signal = batchRequestOptions.signal;\n        }\n        const queries = batchRequestOptions.documents.map(({ document }) => resolveRequestDocument(document).query);\n        const variables = batchRequestOptions.documents.map(({ variables }) => variables);\n        return makeRequest({\n            url: this.url,\n            query: queries,\n            // @ts-expect-error TODO reconcile batch variables into system.\n            variables,\n            headers: {\n                ...resolveHeaders(callOrIdentity(headers)),\n                ...resolveHeaders(batchRequestOptions.requestHeaders),\n            },\n            operationName: undefined,\n            fetch: this.requestConfig.fetch ?? crossFetch,\n            method: this.requestConfig.method || `POST`,\n            fetchOptions,\n            middleware: this.requestConfig.requestMiddleware,\n        })\n            .then((response) => {\n            if (this.requestConfig.responseMiddleware) {\n                this.requestConfig.responseMiddleware(response);\n            }\n            return response.data;\n        })\n            .catch((error) => {\n            if (this.requestConfig.responseMiddleware) {\n                this.requestConfig.responseMiddleware(error);\n            }\n            throw error;\n        });\n    }\n    setHeaders(headers) {\n        this.requestConfig.headers = headers;\n        return this;\n    }\n    /**\n     * Attach a header to the client. All subsequent requests will have this header.\n     */\n    setHeader(key, value) {\n        const { headers } = this.requestConfig;\n        if (headers) {\n            // todo what if headers is in nested array form... ?\n            //@ts-ignore\n            headers[key] = value;\n        }\n        else {\n            this.requestConfig.headers = { [key]: value };\n        }\n        return this;\n    }\n    /**\n     * Change the client endpoint. All subsequent requests will send to this endpoint.\n     */\n    setEndpoint(value) {\n        this.url = value;\n        return this;\n    }\n}\nconst makeRequest = async (params) => {\n    const { query, variables, fetchOptions } = params;\n    const fetcher = createHttpMethodFetcher(uppercase(params.method ?? `post`));\n    const isBatchingQuery = Array.isArray(params.query);\n    const response = await fetcher(params);\n    const result = await getResult(response, fetchOptions.jsonSerializer ?? defaultJsonSerializer);\n    const successfullyReceivedData = Array.isArray(result)\n        ? !result.some(({ data }) => !data)\n        : Boolean(result.data);\n    const successfullyPassedErrorPolicy = Array.isArray(result) ||\n        !result.errors ||\n        (Array.isArray(result.errors) && !result.errors.length) ||\n        fetchOptions.errorPolicy === `all` ||\n        fetchOptions.errorPolicy === `ignore`;\n    if (response.ok && successfullyPassedErrorPolicy && successfullyReceivedData) {\n        // @ts-expect-error TODO fixme\n        const { errors, ...rest } = Array.isArray(result) ? result : result;\n        const data = fetchOptions.errorPolicy === `ignore` ? rest : result;\n        const dataEnvelope = isBatchingQuery ? { data } : data;\n        // @ts-expect-error TODO\n        return {\n            ...dataEnvelope,\n            headers: response.headers,\n            status: response.status,\n        };\n    }\n    else {\n        const errorResult = typeof result === `string`\n            ? {\n                error: result,\n            }\n            : result;\n        throw new ClientError(\n        // @ts-expect-error TODO\n        { ...errorResult, status: response.status, headers: response.headers }, { query, variables });\n    }\n};\n/**\n * Send a GraphQL Query to the GraphQL server for execution.\n */\nexport const rawRequest = async (...args) => {\n    const [urlOrOptions, query, ...variablesAndRequestHeaders] = args;\n    const requestOptions = parseRawRequestExtendedArgs(urlOrOptions, query, ...variablesAndRequestHeaders);\n    const client = new GraphQLClient(requestOptions.url);\n    return client.rawRequest({\n        ...requestOptions,\n    });\n};\nexport async function request(urlOrOptions, \n// @ts-ignore\ndocument, ...variablesAndRequestHeaders) {\n    // @ts-ignore\n    const requestOptions = parseRequestExtendedArgs(urlOrOptions, document, ...variablesAndRequestHeaders);\n    const client = new GraphQLClient(requestOptions.url);\n    return client.request({\n        ...requestOptions,\n    });\n}\n/**\n * Send a batch of GraphQL Document to the GraphQL server for execution.\n *\n * @example\n *\n * ```ts\n * // You can pass a raw string\n *\n * await batchRequests('https://foo.bar/graphql', [\n * {\n *  query: `\n *   {\n *     query {\n *       users\n *     }\n *   }`\n * },\n * {\n *   query: `\n *   {\n *     query {\n *       users\n *     }\n *   }`\n * }])\n *\n * // You can also pass a GraphQL DocumentNode as query. Convenient if you\n * // are using graphql-tag package.\n *\n * import gql from 'graphql-tag'\n *\n * await batchRequests('https://foo.bar/graphql', [{ query: gql`...` }])\n * ```\n */\nexport const batchRequests = async (...args) => {\n    const params = parseBatchRequestsArgsExtended(args);\n    const client = new GraphQLClient(params.url);\n    return client.batchRequests(params);\n};\nconst parseBatchRequestsArgsExtended = (args) => {\n    if (args.length === 1) {\n        return args[0];\n    }\n    else {\n        return {\n            url: args[0],\n            documents: args[1],\n            requestHeaders: args[2],\n            signal: undefined,\n        };\n    }\n};\nexport default request;\nconst getResult = async (response, jsonSerializer) => {\n    let contentType;\n    response.headers.forEach((value, key) => {\n        if (key.toLowerCase() === `content-type`) {\n            contentType = value;\n        }\n    });\n    if (contentType &&\n        (contentType.toLowerCase().startsWith(`application/json`) ||\n            contentType.toLowerCase().startsWith(`application/graphql+json`) ||\n            contentType.toLowerCase().startsWith(`application/graphql-response+json`))) {\n        return jsonSerializer.parse(await response.text());\n    }\n    else {\n        return response.text();\n    }\n};\nconst callOrIdentity = (value) => {\n    return typeof value === `function` ? value() : value;\n};\n/**\n * Convenience passthrough template tag to get the benefits of tooling for the gql template tag. This does not actually parse the input into a GraphQL DocumentNode like graphql-tag package does. It just returns the string with any variables given interpolated. Can save you a bit of performance and having to install another package.\n *\n * @example\n *\n * import { gql } from 'graphql-request'\n *\n * await request('https://foo.bar/graphql', gql`...`)\n *\n * @remarks\n *\n * Several tools in the Node GraphQL ecosystem are hardcoded to specially treat any template tag named \"gql\". For example see this prettier issue: https://github.com/prettier/prettier/issues/4360. Using this template tag has no runtime effect beyond variable interpolation.\n */\nexport const gql = (chunks, ...variables) => {\n    return chunks.reduce((accumulator, chunk, index) => `${accumulator}${chunk}${index in variables ? variables[index] : ``}`, ``);\n};\nexport { GraphQLWebSocketClient } from './graphql-ws.js';\nexport { resolveRequestDocument } from './resolveRequestDocument.js';\n//# sourceMappingURL=index.js.map","export const uppercase = (str) => str.toUpperCase();\n/**\n * Convert Headers instance into regular object\n */\nexport const HeadersInstanceToPlainObject = (headers) => {\n    const o = {};\n    headers.forEach((v, k) => {\n        o[k] = v;\n    });\n    return o;\n};\n//# sourceMappingURL=helpers.js.map","export const parseRequestArgs = (documentOrOptions, variables, requestHeaders) => {\n    return documentOrOptions.document\n        ? documentOrOptions\n        : {\n            document: documentOrOptions,\n            variables: variables,\n            requestHeaders: requestHeaders,\n            signal: undefined,\n        };\n};\nexport const parseRawRequestArgs = (queryOrOptions, variables, requestHeaders) => {\n    return queryOrOptions.query\n        ? queryOrOptions\n        : {\n            query: queryOrOptions,\n            variables: variables,\n            requestHeaders: requestHeaders,\n            signal: undefined,\n        };\n};\nexport const parseBatchRequestArgs = (documentsOrOptions, requestHeaders) => {\n    return documentsOrOptions.documents\n        ? documentsOrOptions\n        : {\n            documents: documentsOrOptions,\n            requestHeaders: requestHeaders,\n            signal: undefined,\n        };\n};\nexport const parseRequestExtendedArgs = (urlOrOptions, document, ...variablesAndRequestHeaders) => {\n    const [variables, requestHeaders] = variablesAndRequestHeaders;\n    return urlOrOptions.document\n        ? urlOrOptions\n        : {\n            url: urlOrOptions,\n            document: document,\n            variables,\n            requestHeaders,\n            signal: undefined,\n        };\n};\nexport const parseRawRequestExtendedArgs = (urlOrOptions, query, ...variablesAndRequestHeaders) => {\n    const [variables, requestHeaders] = variablesAndRequestHeaders;\n    return urlOrOptions.query\n        ? urlOrOptions\n        : {\n            url: urlOrOptions,\n            query: query,\n            variables,\n            requestHeaders,\n            signal: undefined,\n        };\n};\n//# sourceMappingURL=parseArgs.js.map","// @ts-expect-error\nimport SparseArray from 'sparse-array';\nimport { fromString as uint8ArrayFromString } from 'uint8arrays/from-string';\nexport class Bucket {\n    constructor(options, parent, posAtParent = 0) {\n        this._options = options;\n        this._popCount = 0;\n        this._parent = parent;\n        this._posAtParent = posAtParent;\n        this._children = new SparseArray();\n        this.key = null;\n    }\n    async put(key, value) {\n        const place = await this._findNewBucketAndPos(key);\n        await place.bucket._putAt(place, key, value);\n    }\n    async get(key) {\n        const child = await this._findChild(key);\n        if (child != null) {\n            return child.value;\n        }\n    }\n    async del(key) {\n        const place = await this._findPlace(key);\n        const child = place.bucket._at(place.pos);\n        if (child != null && child.key === key) {\n            place.bucket._delAt(place.pos);\n        }\n    }\n    leafCount() {\n        const children = this._children.compactArray();\n        return children.reduce((acc, child) => {\n            if (child instanceof Bucket) {\n                return acc + child.leafCount();\n            }\n            return acc + 1;\n        }, 0);\n    }\n    childrenCount() {\n        return this._children.length;\n    }\n    onlyChild() {\n        return this._children.get(0);\n    }\n    *eachLeafSeries() {\n        const children = this._children.compactArray();\n        for (const child of children) {\n            if (child instanceof Bucket) {\n                yield* child.eachLeafSeries();\n            }\n            else {\n                yield child;\n            }\n        }\n    }\n    serialize(map, reduce) {\n        const acc = [];\n        // serialize to a custom non-sparse representation\n        return reduce(this._children.reduce((acc, child, index) => {\n            if (child != null) {\n                if (child instanceof Bucket) {\n                    acc.push(child.serialize(map, reduce));\n                }\n                else {\n                    acc.push(map(child, index));\n                }\n            }\n            return acc;\n        }, acc));\n    }\n    async asyncTransform(asyncMap, asyncReduce) {\n        return await asyncTransformBucket(this, asyncMap, asyncReduce);\n    }\n    toJSON() {\n        return this.serialize(mapNode, reduceNodes);\n    }\n    prettyPrint() {\n        return JSON.stringify(this.toJSON(), null, '  ');\n    }\n    tableSize() {\n        return Math.pow(2, this._options.bits);\n    }\n    async _findChild(key) {\n        const result = await this._findPlace(key);\n        const child = result.bucket._at(result.pos);\n        if (child instanceof Bucket) {\n            // should not be possible, this._findPlace should always\n            // return a location for a child, not a bucket\n            return undefined;\n        }\n        if (child != null && child.key === key) {\n            return child;\n        }\n    }\n    async _findPlace(key) {\n        const hashValue = this._options.hash(typeof key === 'string' ? uint8ArrayFromString(key) : key);\n        const index = await hashValue.take(this._options.bits);\n        const child = this._children.get(index);\n        if (child instanceof Bucket) {\n            return await child._findPlace(hashValue);\n        }\n        return {\n            bucket: this,\n            pos: index,\n            hash: hashValue,\n            existingChild: child\n        };\n    }\n    async _findNewBucketAndPos(key) {\n        const place = await this._findPlace(key);\n        if ((place.existingChild != null) && place.existingChild.key !== key) {\n            // conflict\n            const bucket = new Bucket(this._options, place.bucket, place.pos);\n            place.bucket._putObjectAt(place.pos, bucket);\n            // put the previous value\n            const newPlace = await bucket._findPlace(place.existingChild.hash);\n            newPlace.bucket._putAt(newPlace, place.existingChild.key, place.existingChild.value);\n            return await bucket._findNewBucketAndPos(place.hash);\n        }\n        // no conflict, we found the place\n        return place;\n    }\n    _putAt(place, key, value) {\n        this._putObjectAt(place.pos, {\n            key: key,\n            value: value,\n            hash: place.hash\n        });\n    }\n    _putObjectAt(pos, object) {\n        if (this._children.get(pos) == null) {\n            this._popCount++;\n        }\n        this._children.set(pos, object);\n    }\n    _delAt(pos) {\n        if (pos === -1) {\n            throw new Error('Invalid position');\n        }\n        if (this._children.get(pos) != null) {\n            this._popCount--;\n        }\n        this._children.unset(pos);\n        this._level();\n    }\n    _level() {\n        if (this._parent != null && this._popCount <= 1) {\n            if (this._popCount === 1) {\n                // remove myself from parent, replacing me with my only child\n                const onlyChild = this._children.find(exists);\n                if ((onlyChild != null) && !(onlyChild instanceof Bucket)) {\n                    const hash = onlyChild.hash;\n                    hash.untake(this._options.bits);\n                    const place = {\n                        pos: this._posAtParent,\n                        hash: hash,\n                        bucket: this._parent\n                    };\n                    this._parent._putAt(place, onlyChild.key, onlyChild.value);\n                }\n            }\n            else {\n                this._parent._delAt(this._posAtParent);\n            }\n        }\n    }\n    _at(index) {\n        return this._children.get(index);\n    }\n}\nfunction exists(o) {\n    return Boolean(o);\n}\nfunction mapNode(node, _) {\n    return node.key;\n}\nfunction reduceNodes(nodes) {\n    return nodes;\n}\nasync function asyncTransformBucket(bucket, asyncMap, asyncReduce) {\n    const output = [];\n    for (const child of bucket._children.compactArray()) {\n        if (child instanceof Bucket) {\n            await asyncTransformBucket(child, asyncMap, asyncReduce);\n        }\n        else {\n            const mappedChildren = await asyncMap(child);\n            output.push({\n                bitField: bucket._children.bitField(),\n                children: mappedChildren\n            });\n        }\n    }\n    return await asyncReduce(output);\n}\n//# sourceMappingURL=bucket.js.map","const START_MASKS = [\n    0b11111111,\n    0b11111110,\n    0b11111100,\n    0b11111000,\n    0b11110000,\n    0b11100000,\n    0b11000000,\n    0b10000000\n];\nconst STOP_MASKS = [\n    0b00000001,\n    0b00000011,\n    0b00000111,\n    0b00001111,\n    0b00011111,\n    0b00111111,\n    0b01111111,\n    0b11111111\n];\nexport class ConsumableBuffer {\n    constructor(value) {\n        this._value = value;\n        this._currentBytePos = value.length - 1;\n        this._currentBitPos = 7;\n    }\n    availableBits() {\n        return this._currentBitPos + 1 + this._currentBytePos * 8;\n    }\n    totalBits() {\n        return this._value.length * 8;\n    }\n    take(bits) {\n        let pendingBits = bits;\n        let result = 0;\n        while (pendingBits > 0 && this._haveBits()) {\n            const byte = this._value[this._currentBytePos];\n            const availableBits = this._currentBitPos + 1;\n            const taking = Math.min(availableBits, pendingBits);\n            const value = byteBitsToInt(byte, availableBits - taking, taking);\n            result = (result << taking) + value;\n            pendingBits -= taking;\n            this._currentBitPos -= taking;\n            if (this._currentBitPos < 0) {\n                this._currentBitPos = 7;\n                this._currentBytePos--;\n            }\n        }\n        return result;\n    }\n    untake(bits) {\n        this._currentBitPos += bits;\n        while (this._currentBitPos > 7) {\n            this._currentBitPos -= 8;\n            this._currentBytePos += 1;\n        }\n    }\n    _haveBits() {\n        return this._currentBytePos >= 0;\n    }\n}\nfunction byteBitsToInt(byte, start, length) {\n    const mask = maskFor(start, length);\n    return (byte & mask) >>> start;\n}\nfunction maskFor(start, length) {\n    return START_MASKS[start] & STOP_MASKS[Math.min(length + start - 1, 7)];\n}\n//# sourceMappingURL=consumable-buffer.js.map","import { ConsumableBuffer } from './consumable-buffer.js';\nimport { concat as uint8ArrayConcat } from 'uint8arrays/concat';\nexport function wrapHash(hashFn) {\n    function hashing(value) {\n        if (value instanceof InfiniteHash) {\n            // already a hash. return it\n            return value;\n        }\n        else {\n            return new InfiniteHash(value, hashFn);\n        }\n    }\n    return hashing;\n}\nexport class InfiniteHash {\n    constructor(value, hashFn) {\n        if (!(value instanceof Uint8Array)) {\n            throw new Error('can only hash Uint8Arrays');\n        }\n        this._value = value;\n        this._hashFn = hashFn;\n        this._depth = -1;\n        this._availableBits = 0;\n        this._currentBufferIndex = 0;\n        this._buffers = [];\n    }\n    async take(bits) {\n        let pendingBits = bits;\n        while (this._availableBits < pendingBits) {\n            await this._produceMoreBits();\n        }\n        let result = 0;\n        while (pendingBits > 0) {\n            const hash = this._buffers[this._currentBufferIndex];\n            const available = Math.min(hash.availableBits(), pendingBits);\n            const took = hash.take(available);\n            result = (result << available) + took;\n            pendingBits -= available;\n            this._availableBits -= available;\n            if (hash.availableBits() === 0) {\n                this._currentBufferIndex++;\n            }\n        }\n        return result;\n    }\n    untake(bits) {\n        let pendingBits = bits;\n        while (pendingBits > 0) {\n            const hash = this._buffers[this._currentBufferIndex];\n            const availableForUntake = Math.min(hash.totalBits() - hash.availableBits(), pendingBits);\n            hash.untake(availableForUntake);\n            pendingBits -= availableForUntake;\n            this._availableBits += availableForUntake;\n            if (this._currentBufferIndex > 0 && hash.totalBits() === hash.availableBits()) {\n                this._depth--;\n                this._currentBufferIndex--;\n            }\n        }\n    }\n    async _produceMoreBits() {\n        this._depth++;\n        const value = this._depth > 0 ? uint8ArrayConcat([this._value, Uint8Array.from([this._depth])]) : this._value;\n        const hashValue = await this._hashFn(value);\n        const buffer = new ConsumableBuffer(hashValue);\n        this._buffers.push(buffer);\n        this._availableBits += buffer.availableBits();\n    }\n}\n//# sourceMappingURL=consumable-hash.js.map","import { Bucket } from './bucket.js';\nimport { wrapHash } from './consumable-hash.js';\nexport function createHAMT(options) {\n    if (options == null || options.hashFn == null) {\n        throw new Error('please define an options.hashFn');\n    }\n    const bucketOptions = {\n        bits: options.bits ?? 8,\n        hash: wrapHash(options.hashFn)\n    };\n    return new Bucket(bucketOptions);\n}\nexport { Bucket };\n//# sourceMappingURL=index.js.map"],"names":["ID_OFFSET","SIZE_OFFSET","ARRAYBUFFER_ID","STRING_ID","ARRAYBUFFERVIEW","ARRAY","VAL_ALIGN_OFFSET","VAL_SIGNED","VAL_FLOAT","VAL_MANAGED","ARRAYBUFFERVIEW_BUFFER_OFFSET","ARRAYBUFFERVIEW_DATASTART_OFFSET","ARRAYBUFFERVIEW_DATALENGTH_OFFSET","ARRAYBUFFERVIEW_SIZE","ARRAY_LENGTH_OFFSET","ARRAY_SIZE","BIGINT","BigUint64Array","THIS","Symbol","CHUNKSIZE","getStringImpl","buffer","ptr","U32","Uint32Array","U16","Uint16Array","length","offset","String","fromCharCode","apply","subarray","parts","last","size","push","join","preInstantiate","imports","baseModule","getString","memory","env","abort","mesg","file","line","colm","Error","trace","n","console","log","Array","prototype","slice","call","arguments","Math","Date","postInstantiate","instance","rawExports","exports","table","alloc","retain","rttiBase","getInfo","id","getBase","getValueAlign","info","clz32","getView","alignLog2","signed","float","Float32Array","Float64Array","Int8Array","Uint8Array","Int16Array","Int32Array","BigInt64Array","__getArrayView","arr","align","buf","getTypedArray","Type","getTypedArrayView","bufPtr","__allocString","str","i","p","charCodeAt","__getString","__allocArray","values","view","set","__getArray","input","len","out","__getArrayBuffer","__getInt8Array","bind","__getInt8ArrayView","__getUint8Array","__getUint8ArrayView","__getUint8ClampedArray","Uint8ClampedArray","__getUint8ClampedArrayView","__getInt16Array","__getInt16ArrayView","__getUint16Array","__getUint16ArrayView","__getInt32Array","__getInt32ArrayView","__getUint32Array","__getUint32ArrayView","__getInt64Array","__getInt64ArrayView","__getUint64Array","__getUint64ArrayView","__getFloat32Array","__getFloat32ArrayView","__getFloat64Array","__getFloat64ArrayView","__instanceof","baseId","demangle","isResponse","o","Response","async","instantiate","source","instantiateStreaming","WebAssembly","Module","compile","arrayBuffer","module","Object","create","setArgumentsLength","value","internalName","hasOwnProperty","elem","split","curr","part","shift","name","hash","indexOf","className","substring","classElem","ctor","args","wrap","constructor","valueOf","this","thisValue","writable","getOwnPropertyNames","forEach","defineProperty","getOwnPropertyDescriptor","test","getter","replace","setter","get","enumerable","original","instantiateSync","Instance","protobuf","configure","util","_configure","Writer","BufferWriter","Reader","BufferReader","build","rpc","roots","LongBits","utf8","indexOutOfRange","reader","writeLength","RangeError","pos","create_array","isArray","Buffer","isBuffer","readLongVarint","bits","lo","hi","readFixed32_end","end","readFixed64","_slice","uint32","int32","sint32","bool","fixed32","sfixed32","readFloatLE","double","readDoubleLE","bytes","start","nativeBuffer","string","read","skip","skipType","wireType","BufferReader_","fn","Long","merge","int64","uint64","sint64","zzDecode","fixed64","sfixed64","utf8Slice","min","toString","Service","rpcImpl","requestDelimited","responseDelimited","TypeError","EventEmitter","Boolean","rpcCall","method","requestCtor","responseCtor","request","callback","self","asPromise","finish","err","response","emit","setTimeout","endedByRPC","off","zero","toNumber","zzEncode","zeroHash","fromNumber","sign","from","isString","parseInt","fromString","low","high","unsigned","toLong","fromHash","toHash","mask","part0","part1","part2","dst","src","ifNotSet","keys","undefined","newError","CustomError","message","properties","captureStackTrace","stack","configurable","base64","inquire","pool","isNode","g","process","versions","node","global","window","emptyArray","freeze","emptyObject","isInteger","Number","isFinite","floor","isObject","isset","isSet","obj","prop","utf8Write","e","_Buffer_from","_Buffer_allocUnsafe","newBuffer","sizeOrArray","dcodeIO","key2Re","key32Re","key64Re","longToHash","longFromHash","fromBits","lcFirst","charAt","toLowerCase","ProtocolError","oneOfGetter","fieldNames","fieldMap","oneOfSetter","toJSONOptions","longs","enums","json","encoding","allocUnsafe","Op","val","next","noop","State","writer","head","tail","states","writeByte","VarintOp","writeVarint64","writeFixed32","_push","writeFloatLE","writeDoubleLE","writeBytes","decode","write","fork","reset","ldelim","BufferWriter_","writeStringBuffer","writeBytesBuffer","copy","byteLength","stringToPath","Slip10RawIndex","slip10CurveFromString","Slip10Curve","Slip10","pathToString","sha512","Sha512","sha256","Sha256","Secp256k1Signature","ExtendedSecp256k1Signature","Secp256k1","ripemd160","Ripemd160","Random","Xchacha20poly1305Ietf","xchacha20NonceLength","isArgon2idOptions","Ed25519Keypair","Ed25519","Argon2id","keccak256","Keccak256","Hmac","EnglishMnemonic","Bip39","bip39_1","hmac_1","keccak_1","libsodium_1","random_1","ripemd_1","secp256k1_1","secp256k1signature_1","sha_1","slip10_1","toUtf8","fromUtf8","toRfc3339","fromRfc3339","toHex","fromHex","toBech32","normalizeBech32","fromBech32","toBase64","fromBase64","toAscii","fromAscii","ascii_1","base64_1","bech32_1","hex_1","rfc3339_1","utf8_1","Uint64","Uint53","Uint32","Int53","Decimal","decimal_1","integers_1","parseCoins","coins","coin","executeKdf","makeSignDoc","makeSignBytes","makeAuthInfoBytes","isOfflineDirectSigner","Registry","isTxBodyEncodeObject","isTsProtoGeneratedType","isPbjsGeneratedType","encodePubkey","decodePubkey","decodeOptionalPubkey","anyToSinglePubkey","makeCosmoshubPath","DirectSecp256k1Wallet","extractKdfConfiguration","DirectSecp256k1HdWallet","decodeTxRaw","decode_1","directsecp256k1hdwallet_1","directsecp256k1wallet_1","paths_1","pubkey_1","registry_1","signer_1","signing_1","wallet_1","amino_1","__createBinding","m","k","k2","desc","__esModule","__setModuleDefault","v","__importStar","mod","result","isMsgVoteWeightedEncodeObject","isMsgVoteEncodeObject","isMsgUndelegateEncodeObject","isMsgTransferEncodeObject","isMsgSubmitProposalEncodeObject","isMsgSendEncodeObject","isMsgEditValidatorEncodeObject","isMsgDepositEncodeObject","isMsgDelegateEncodeObject","isMsgCreateValidatorEncodeObject","isMsgCancelUnbondingDelegationEncodeObject","isMsgBeginRedelegateEncodeObject","isAminoMsgWithdrawValidatorCommission","isAminoMsgWithdrawDelegatorReward","isAminoMsgVoteWeighted","isAminoMsgVote","isAminoMsgVerifyInvariant","isAminoMsgUnjail","isAminoMsgUndelegate","isAminoMsgTransfer","isAminoMsgSubmitProposal","isAminoMsgSubmitEvidence","isAminoMsgSetWithdrawAddress","isAminoMsgSend","isAminoMsgMultiSend","isAminoMsgFundCommunityPool","isAminoMsgEditValidator","isAminoMsgDeposit","isAminoMsgDelegate","isAminoMsgCreateVestingAccount","isAminoMsgCreateValidator","isAminoMsgBeginRedelegate","createVestingAminoConverters","createStakingAminoConverters","createSlashingAminoConverters","createIbcAminoConverters","createGroupAminoConverters","createGovAminoConverters","createFeegrantAminoConverters","createEvidenceAminoConverters","createDistributionAminoConverters","createCrysisAminoConverters","createBankAminoConverters","createAuthzAminoConverters","logs","GasPrice","calculateFee","fromTendermintEvent","AminoTypes","accountFromAny","TimeoutError","StargateClient","isDeliverTxSuccess","isDeliverTxFailure","BroadcastTxError","assertIsDeliverTxSuccess","assertIsDeliverTxFailure","SigningStargateClient","defaultRegistryTypes","createDefaultAminoConverters","isSearchTxQueryArray","QueryClient","decodeCosmosSdkDecFromProto","createProtobufRpcClient","createPagination","makeMultisignedTxBytes","makeMultisignedTx","setupTxExtension","setupStakingExtension","setupSlashingExtension","setupMintExtension","setupIbcExtension","setupGovExtension","setupFeegrantExtension","setupDistributionExtension","setupBankExtension","setupAuthzExtension","setupAuthExtension","isMsgWithdrawDelegatorRewardEncodeObject","accounts_1","aminotypes_1","events_1","fee_1","modules_1","multisignature_1","queryclient_1","search_1","signingstargateclient_1","stargateclient_1","proto_signing_1","findAttribute","parseRawLog","parseLogs","parseLog","parseEvent","parseAttribute","utils_1","isNonNullObject","key","type","attributes","map","msg_index","events","JSON","parse","eventType","attrKey","firstLogs","find","event","attr","BlockIdFlag","isTendermint37Client","isTendermint34Client","isComet38Client","connectComet","Tendermint37Client","tendermint37","Tendermint34Client","tendermint34","VoteType","SubscriptionEventType","Method","broadcastTxSyncSuccess","broadcastTxCommitSuccess","WebsocketClient","HttpClient","HttpBatchClient","Comet38Client","comet38","toSeconds","toRfc3339WithNanoseconds","fromSeconds","fromRfc3339WithNanoseconds","DateTime","rawSecp256k1PubkeyToRawAddress","rawEd25519PubkeyToRawAddress","pubkeyToRawAddress","pubkeyToAddress","addresses_1","dates_1","comet38_1","rpcclients_1","tendermint34_1","tendermint34_2","tendermint37_1","tendermintclient_1","types_1","__exportStar","createCyberAminoConverters","OfflineDappWallet","SigningCyberClient","CyberClient","cyberclient_1","signingcyberclient_1","aminomsgs_1","tx_1","pagination_1","abci_1","block_1","helpers_1","binary_1","OrderBy","BroadcastMode","orderByFromJSON","object","ORDER_BY_UNSPECIFIED","ORDER_BY_ASC","ORDER_BY_DESC","UNRECOGNIZED","orderByToJSON","broadcastModeFromJSON","BROADCAST_MODE_UNSPECIFIED","BROADCAST_MODE_BLOCK","BROADCAST_MODE_SYNC","BROADCAST_MODE_ASYNC","broadcastModeToJSON","createBaseBroadcastTxRequest","txBytes","mode","createBaseSimulateRequest","tx","createBaseGetBlockWithTxsRequest","height","BigInt","pagination","typeUrl","aminoType","is","$typeUrl","orderBy","isSDK","order_by","isAmino","encode","BinaryWriter","PageRequest","BinaryReader","tag","fromJSON","toJSON","fromPartial","fromAmino","toAmino","fromAminoMsg","toAminoMsg","fromProtoMsg","toProto","toProtoMsg","GlobalDecoderRegistry","register","registerAminoProtoMapping","txs","Tx","txResponses","TxResponse","tx_responses","PageResponse","tx_bytes","bytesFromBase64","base64FromBytes","txResponse","tx_response","gasInfo","GasInfo","Result","gas_info","blockId","BlockID","block","Block","block_id","coin_1","math_1","createBaseMsgDepositWithinBatch","depositorAddress","poolId","depositCoins","createBaseMsgWithdrawWithinBatch","withdrawerAddress","poolCoin","Coin","createBaseMsgSwapWithinBatch","swapRequesterAddress","swapTypeId","offerCoin","demandCoinDenom","offerCoinFee","orderPrice","poolCreatorAddress","poolTypeId","pool_creator_address","pool_type_id","deposit_coins","round","_","depositor_address","pool_id","withdrawer_address","pool_coin","swap_requester_address","swap_type_id","offer_coin","demand_coin_denom","offer_coin_fee","order_price","fromUserInput","atomics","fromAtomics","fromCallback","ModuleError","getCallback","getOptions","kPromise","kStatus","kOperations","kFinishClose","kCloseCallbacks","AbstractChainedBatch","db","attachResource","nextTick","put","options","code","_checkKey","_checkValue","sublevel","keyEncoding","valueEncoding","keyFormat","format","mappedKey","prefixKey","mappedValue","_put","del","_del","clear","_clear","close","_write","_close","detachResource","callbacks","cb","kCallback","kWorking","kHandleOne","kHandleMany","kAutoClose","kFinishWork","kReturnMany","kClosing","kHandleClose","kClosed","kKeyEncoding","kValueEncoding","kAbortOnClose","kLegacy","kKeys","kValues","kLimit","kCount","emptyOptions","warnedEnd","CommonIterator","legacy","limit","Infinity","abortOnClose","count","promise","Promise","resolve","reject","_next","nextv","_nextv","acc","onnext","all","_all","onnextv","items","seek","target","mapped","_seek","asyncIterator","item","AbstractIterator","super","IteratorDecodeError","entries","entry","warn","subject","cause","AbstractKeyIterator","AbstractValueIterator","supports","Transcoder","DefaultKeyIterator","DefaultValueIterator","DeferredIterator","DeferredKeyIterator","DeferredValueIterator","DefaultChainedBatch","rangeOptions","kLanded","kResources","kCloseResources","kUndefer","kDeferOpen","kOptions","kDefaultOptions","kTranscoder","AbstractLevel","manifest","passive","forward","Set","status","promises","getMany","deferredOpen","snapshots","permanence","keyIterator","valueIterator","iteratorNextv","iteratorAll","encodings","assign","opening","open","closing","closed","batch","formats","commonName","empty","createIfMissing","errorIfExists","maybeOpened","once","_open","maybeClosed","cancel","pending","sync","resource","defer","maybeError","valueFormat","_get","notFound","mappedKeys","_getMany","fill","operations","_chainedBatch","ke","ve","op","valueErr","_batch","_sublevel","AbstractSublevel","defaults","iterator","_iterator","_keys","_values","add","delete","filter","kUnfix","kIterator","AbstractSublevelIterator","unfix","AbstractSublevelKeyIterator","AbstractSublevelValueIterator","Iterator","kPrefix","kUpperBound","kPrefixRange","kParent","textEncoder","TextEncoder","separator","static","trim","reserved","parent","every","x","mergeManifests","prefix","upperBound","MultiFormat","Unfixer","concat","range","gte","gt","lte","lt","additionalMethods","supportsEncoding","cache","Map","prefixLength","char","def","kEncoded","mapEntry","kNut","kFactory","queueMicrotask","has","reverse","ieee754","customInspectSymbol","SlowBuffer","INSPECT_MAX_BYTES","K_MAX_LENGTH","createBuffer","setPrototypeOf","arg","encodingOrOffset","isEncoding","actual","ArrayBuffer","isView","arrayView","isInstance","fromArrayBuffer","byteOffset","fromArrayLike","fromArrayView","SharedArrayBuffer","b","checked","numberIsNaN","data","fromObject","toPrimitive","assertSize","array","mustMatch","loweredCase","utf8ToBytes","base64ToBytes","slowToString","hexSlice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","bidirectionalIndexOf","dir","arrayIndexOf","lastIndexOf","indexSize","arrLength","valLength","readUInt16BE","foundIndex","found","j","hexWrite","remaining","strLen","parsed","substr","blitBuffer","asciiWrite","byteArray","asciiToBytes","base64Write","ucs2Write","units","c","utf16leToBytes","fromByteArray","res","firstByte","codePoint","bytesPerSequence","secondByte","thirdByte","fourthByte","tempCodePoint","codePoints","MAX_ARGUMENTS_LENGTH","decodeCodePointsArray","kMaxLength","TYPED_ARRAY_SUPPORT","proto","foo","typedArraySupport","error","poolSize","allocUnsafeSlow","_isBuffer","compare","a","y","list","swap16","swap32","swap64","toLocaleString","equals","inspect","max","thisStart","thisEnd","thisCopy","targetCopy","includes","_arr","ret","hexSliceLookupTable","checkOffset","ext","checkInt","wrtBigUInt64LE","checkIntBI","wrtBigUInt64BE","checkIEEE754","writeFloat","littleEndian","noAssert","writeDouble","newBuf","readUintLE","readUIntLE","mul","readUintBE","readUIntBE","readUint8","readUInt8","readUint16LE","readUInt16LE","readUint16BE","readUint32LE","readUInt32LE","readUint32BE","readUInt32BE","readBigUInt64LE","defineBigIntMethod","validateNumber","first","boundsError","readBigUInt64BE","readIntLE","pow","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readBigInt64LE","readBigInt64BE","readFloatBE","readDoubleBE","writeUintLE","writeUIntLE","writeUintBE","writeUIntBE","writeUint8","writeUInt8","writeUint16LE","writeUInt16LE","writeUint16BE","writeUInt16BE","writeUint32LE","writeUInt32LE","writeUint32BE","writeUInt32BE","writeBigUInt64LE","writeBigUInt64BE","writeIntLE","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeBigInt64LE","writeBigInt64BE","writeFloatBE","writeDoubleBE","targetStart","copyWithin","errors","E","sym","getMessage","Base","addNumericalSeparator","ERR_OUT_OF_RANGE","checkBounds","ERR_INVALID_ARG_TYPE","ERR_BUFFER_OUT_OF_BOUNDS","msg","received","abs","INVALID_BASE64_RE","leadSurrogate","toByteArray","base64clean","alphabet","i16","BufferBigIntNotDefined","anySignal","signals","controller","globalThis","AbortController","onAbort","signal","removeEventListener","addEventListener","aborted","ALPHABET","ALPHABET_MAP","z","polymodStep","pre","prefixChk","chk","__decode","LIMIT","lowered","uppered","toUpperCase","wordChars","words","convert","inBits","outBits","pad","maxV","decodeUnsafe","toWordsUnsafe","toWords","fromWordsUnsafe","fromWords","isNumeric","mathceil","ceil","mathfloor","bignumberError","tooManyDigits","BASE","LOG_BASE","MAX_SAFE_INTEGER","POWS_TEN","SQRT_BASE","MAX","bitFloor","coeffToString","s","r","xc","yc","l","intCheck","isOdd","toExponential","toFixedPoint","zs","clone","configObject","div","convertBase","parseNumeric","pow2_53","random53bitInt","basePrefix","dotAfter","dotBefore","isInfinityOrNaN","whitespaceOrPlus","P","BigNumber","ONE","DECIMAL_PLACES","ROUNDING_MODE","TO_EXP_NEG","TO_EXP_POS","MIN_EXP","MAX_EXP","CRYPTO","MODULO_MODE","POW_PRECISION","FORMAT","groupSize","secondaryGroupSize","groupSeparator","decimalSeparator","fractionGroupSize","fractionGroupSeparator","suffix","alphabetHasNormalDecimalDigits","caseChanged","isNum","_isBigNumber","search","DEBUG","rm","c0","ne","maxOrMin","normalise","pop","sd","d","ni","rd","pows10","ROUND_UP","ROUND_DOWN","ROUND_CEIL","ROUND_FLOOR","ROUND_HALF_UP","ROUND_HALF_DOWN","ROUND_HALF_EVEN","ROUND_HALF_CEIL","ROUND_HALF_FLOOR","EUCLID","config","crypto","getRandomValues","randomBytes","EXPONENTIAL_AT","RANGE","isBigNumber","maximum","minimum","random","dp","rand","splice","sum","plus","decimal","toBaseOut","baseIn","baseOut","arrL","callerIsToString","multiply","base","temp","xlo","xhi","carry","klo","khi","aL","bL","cmp","subtract","more","prod","prodL","q","qc","rem","remL","rem0","xi","xL","yc0","yL","yz","NaN","isNaN","p1","p2","absoluteValue","comparedTo","decimalPlaces","dividedBy","dividedToIntegerBy","idiv","exponentiatedBy","half","isModExp","nIsBig","nIsNeg","nIsOdd","times","integerValue","isEqualTo","eq","isGreaterThan","isGreaterThanOrEqualTo","isLessThan","isLessThanOrEqualTo","isNegative","isPositive","isZero","minus","t","xLTy","xe","ye","modulo","multipliedBy","xcL","ycL","ylo","yhi","zc","sqrtBase","negated","precision","shiftedBy","squareRoot","sqrt","rep","toFixed","toFormat","g1","g2","intPart","fractionPart","isNeg","intDigits","RegExp","toFraction","md","d0","d1","d2","exp","n0","n1","toPrecision","toStringTag","for","parallel","deserialize","createKeyRange","DEFAULT_PREFIX","kIDB","kNamePrefix","kLocation","kVersion","kStore","kOnComplete","BrowserLevel","location","version","namePrefix","req","indexedDB","onerror","onsuccess","onupgradeneeded","ev","objectStoreNames","contains","createObjectStore","transaction","objectStore","onabort","oncomplete","store","tasks","stopPropagation","index","loop","commit","keyRange","destroy","deleteDatabase","kCache","kFinished","kCurrentOptions","kPosition","kFirst","maybeCommit","openKeyCursor","cursor","continue","complete","getAllKeys","getAll","direction","lower","upper","lowerExclusive","upperExclusive","IDBKeyRange","bound","lowerBound","formatThousandsRegExp","formatDecimalsRegExp","kb","mb","gb","tb","pb","parseRegExp","mag","thousandsSeparator","unitSeparator","fixedDecimals","unit","floatValue","results","exec","parseFloat","symbol","fromPromise","then","catch","proxyMarker","createEndpoint","releaseProxy","finalizer","throwMarker","transferHandlers","canHandle","serialize","port1","port2","MessageChannel","expose","port","createProxy","serialized","isError","ep","allowedOrigins","origin","allowedOrigin","isAllowedOrigin","path","argumentList","fromWireValue","returnValue","reduce","rawValue","proxy","transfers","transferCache","transfer","wireValue","transferables","toWireValue","postMessage","closeEndPoint","endpoint","isMessagePort","throwIfProxyReleased","isReleased","releaseEndpoint","requestResponseMessage","proxyCounter","WeakMap","proxyFinalizers","FinalizationRegistry","newCount","isProxyReleased","Proxy","_target","unregister","unregisterProxy","_thisArg","rawArgumentList","processArguments","construct","registerProxy","processed","handler","serializedValue","TallyParams","VotingParams","DepositParams","Vote","TallyResult","Proposal","Deposit","TextProposal","WeightedVoteOption","proposalStatusToJSON","proposalStatusFromJSON","ProposalStatus","voteOptionToJSON","voteOptionFromJSON","VoteOption","protobufPackage","any_1","timestamp_1","duration_1","VOTE_OPTION_UNSPECIFIED","VOTE_OPTION_YES","VOTE_OPTION_ABSTAIN","VOTE_OPTION_NO","VOTE_OPTION_NO_WITH_VETO","PROPOSAL_STATUS_UNSPECIFIED","PROPOSAL_STATUS_DEPOSIT_PERIOD","PROPOSAL_STATUS_VOTING_PERIOD","PROPOSAL_STATUS_PASSED","PROPOSAL_STATUS_REJECTED","PROPOSAL_STATUS_FAILED","createBaseDeposit","proposalId","depositor","amount","createBaseProposal","content","finalTallyResult","submitTime","Timestamp","depositEndTime","totalDeposit","votingStartTime","votingEndTime","createBaseVote","voter","option","createBaseDepositParams","minDeposit","maxDepositPeriod","Duration","createBaseVotingParams","votingPeriod","createBaseTallyParams","quorum","threshold","vetoThreshold","weight","title","description","Any","fromJsonTimestamp","fromTimestamp","toISOString","yes","abstain","no","noWithVeto","ValidatorUpdates","Pool","RedelegationResponse","RedelegationEntryResponse","DelegationResponse","Params","Redelegation","RedelegationEntry","UnbondingDelegationEntry","UnbondingDelegation","Delegation","DVVTriplets","DVVTriplet","DVPairs","DVPair","ValAddresses","Validator","Description","Commission","CommissionRates","HistoricalInfo","infractionToJSON","infractionFromJSON","Infraction","bondStatusToJSON","bondStatusFromJSON","BondStatus","types_2","BOND_STATUS_UNSPECIFIED","BOND_STATUS_UNBONDED","BOND_STATUS_UNBONDING","BOND_STATUS_BONDED","createBaseHistoricalInfo","header","Header","valset","createBaseCommission","commissionRates","updateTime","createBaseValidator","operatorAddress","consensusPubkey","jailed","tokens","delegatorShares","unbondingHeight","unbondingTime","commission","minSelfDelegation","unbondingOnHoldRefCount","unbondingIds","createBaseUnbondingDelegationEntry","creationHeight","completionTime","initialBalance","balance","unbondingId","createBaseRedelegationEntry","sharesDst","createBaseParams","maxValidators","maxEntries","historicalEntries","bondDenom","minCommissionRate","createBaseDelegationResponse","delegation","createBaseRedelegationEntryResponse","redelegationEntry","createBaseRedelegationResponse","redelegation","INFRACTION_UNSPECIFIED","INFRACTION_DOUBLE_SIGN","INFRACTION_DOWNTIME","rate","maxRate","maxChangeRate","moniker","identity","website","securityContact","details","end2","addresses","delegatorAddress","validatorAddress","pairs","validatorSrcAddress","validatorDstAddress","triplets","shares","notBondedTokens","bondedTokens","updates","ValidatorUpdate","ServiceClientImpl","TxDecodeAminoResponse","TxDecodeAminoRequest","TxEncodeAminoResponse","TxEncodeAminoRequest","TxEncodeResponse","TxEncodeRequest","TxDecodeResponse","TxDecodeRequest","GetBlockWithTxsResponse","GetBlockWithTxsRequest","GetTxResponse","GetTxRequest","SimulateResponse","SimulateRequest","BroadcastTxResponse","BroadcastTxRequest","GetTxsEventResponse","GetTxsEventRequest","createBaseGetTxsEventRequest","page","createBaseGetTxsEventResponse","total","createBaseTxDecodeRequest","createBaseTxEncodeResponse","createBaseTxEncodeAminoResponse","aminoBinary","createBaseTxDecodeAminoRequest","aminoJson","Simulate","GetTx","BroadcastTx","GetTxsEvent","GetBlockWithTxs","TxDecode","TxEncode","TxEncodeAmino","TxDecodeAmino","Acknowledgement","PacketId","PacketState","Packet","Counterparty","IdentifiedChannel","Channel","orderToJSON","orderFromJSON","Order","stateToJSON","stateFromJSON","client_1","STATE_UNINITIALIZED_UNSPECIFIED","STATE_INIT","STATE_TRYOPEN","STATE_OPEN","STATE_CLOSED","ORDER_NONE_UNSPECIFIED","ORDER_UNORDERED","ORDER_ORDERED","createBaseChannel","state","ordering","counterparty","connectionHops","createBaseIdentifiedChannel","portId","channelId","createBasePacket","sequence","sourcePort","sourceChannel","destinationPort","destinationChannel","timeoutHeight","Height","timeoutTimestamp","createBasePacketState","createBasePacketId","__self__","F","fetch","DOMException","support","searchParams","iterable","blob","Blob","formData","viewClasses","isArrayBufferView","normalizeName","normalizeValue","iteratorFor","done","Headers","headers","append","consumed","body","bodyUsed","fileReaderReady","onload","readBlobAsArrayBuffer","FileReader","readAsArrayBuffer","bufferClone","Body","_initBody","_bodyInit","_bodyText","isPrototypeOf","_bodyBlob","FormData","_bodyFormData","URLSearchParams","DataView","_bodyArrayBuffer","rejected","text","readAsText","chars","readArrayBufferAsText","oldValue","thisArg","methods","Request","upcased","url","credentials","referrer","form","decodeURIComponent","bodyInit","ok","statusText","redirectStatuses","redirect","init","xhr","XMLHttpRequest","abortXhr","rawHeaders","getAllResponseHeaders","responseURL","responseText","ontimeout","withCredentials","responseType","setRequestHeader","onreadystatechange","readyState","send","polyfill","ponyfill","ctx","wasm","heap","getObject","idx","heap_next","takeObject","dropObject","WASM_VECTOR_LEN","cachedUint8Memory0","getUint8Memory0","cachedTextEncoder","encodeString","encodeInto","written","passStringToWasm0","malloc","realloc","mem","cachedInt32Memory0","getInt32Memory0","addHeapObject","cachedTextDecoder","TextDecoder","ignoreBOM","fatal","getStringFromWasm0","debugString","debug","builtInMatches","stringify","CLOSURE_DTORS","__wbindgen_export_2","dtor","__wbg_adapter_26","arg0","arg1","arg2","_dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__hf3cea9750e4420ef","entry_point","handleError","f","__wbindgen_exn_store","__wbg_get_imports","wbg","__wbindgen_is_undefined","__wbg_log_af664d6e0fce87fe","__wbindgen_object_drop_ref","__wbg_jsCyberSearch_31ae9a5f5af464bc","__wbg_jsCyberLink_2bba38538259dfae","arg3","__wbg_jsGetPassportByNickname_66cc923b007c77b2","__wbg_jsGetIpfsTextContent_0dd3748b1688b10e","__wbg_jsAddContenToIpfs_3d1cb5924c163cfe","__wbg_jsEvalScriptFromIpfs_559b685caaa5f15f","arg4","__wbg_jsOpenAICompletions_45a2730c765a747c","__wbg_jsSearchByEmbedding_c6fa1395fdaec250","__wbg_jsCyberLinksFrom_358af52be69ceae6","__wbg_jsCyberLinksTo_0856ca22f5524370","__wbg_jsExecuteScriptCallback_5ea4658c68e04549","__wbindgen_string_get","ptr1","__wbindgen_malloc","__wbindgen_realloc","len1","__wbindgen_object_clone_ref","__wbindgen_string_new","__wbg_fetch_57429b87be3dcc33","__wbindgen_is_object","__wbg_crypto_70a96de3b6b73dac","__wbg_process_dd1577445152112e","__wbg_versions_58036bec3add9e6f","__wbg_node_6a9d28205ed5b0d8","__wbindgen_is_string","__wbg_require_f05d779769764e82","require","__wbg_msCrypto_adbc770ec9eca9c7","msCrypto","__wbg_randomFillSync_e950366c42764a07","randomFillSync","__wbg_getRandomValues_3774744e221a22ad","__wbg_new_abda76e883ba8a5f","__wbg_stack_658279fe44541cf6","__wbg_error_f851667af71bcfc6","deferred0_0","deferred0_1","__wbindgen_free","__wbindgen_cb_drop","cnt","__wbg_signal_bcb55e86063f8860","__wbg_new_668956ac1089f8cf","__wbg_abort_de75e4ab5136bcee","__wbg_new_143b41b4342650bb","__wbg_append_fac652007989b765","__wbg_newwithstrandinit_a4cd16dfaafcf625","__wbg_instanceof_Response_7ade9a5a066d1a55","__wbg_url_59cb32ef6a837521","__wbg_status_d2b2d0889f7e970f","__wbg_headers_2de03c88f895093b","__wbg_arrayBuffer_2693673868da65b7","__wbg_text_65fa1887e8f7b4ac","__wbg_fetch_621998933558ad27","__wbindgen_is_function","__wbg_self_742dd6eab3e9211e","__wbg_window_c409e731db53a0e2","__wbg_globalThis_b70c095388441f2d","__wbg_global_1c72617491ed7194","__wbg_newnoargs_c9e6043b8ad84109","Function","__wbg_next_f4bc0e96ea67da68","__wbg_value_2f4ef2036bfad28e","__wbg_iterator_7c7e58f62eb84700","__wbg_new_2b6fea4ea03b1b95","__wbg_call_557a2f2deacc4912","__wbg_call_587b30eea3e09332","__wbg_next_ec061e48a0e72a96","__wbg_done_b6abb27d42b63867","__wbg_get_f53c921291c381bd","Reflect","__wbg_has_40b8c976775c8ead","__wbg_set_07da13cc24b69217","__wbg_buffer_55ba7a6b1b92e2ac","__wbg_parse_76a8a18ca3f8730b","__wbg_stringify_d06ad2addc54d51e","__wbg_new_2b55e405e4af4986","state0","wasm_bindgen__convert__closures__invoke2_mut__h55069aa6b66204e3","__wbg_adapter_133","__wbg_resolve_ae38ad63c43ff98b","__wbg_then_8df675b8bb5d5e3c","__wbg_then_835b073a479138e5","__wbg_newwithbyteoffsetandlength_88d1d8be5df94b9b","__wbg_new_09938a7d020f049b","__wbg_newwithlength_89eeca401d8918c2","__wbg_subarray_d82be056deb4ad27","__wbg_length_0aab7ffd65ad19ed","__wbg_set_3698e3ca519b3c3c","__wbindgen_debug_string","__wbindgen_throw","__wbindgen_memory","__wbindgen_closure_wrapper2123","real","makeMutClosure","__wbg_finalize_init","__wbg_init","__wbindgen_wasm_module","__wbindgen_start","URL","__wbg_load","token","timezone","timezoneClip","dateFormat","date","utc","gmt","maskSlice","masks","D","H","M","L","getTimezoneOffset","W","targetThursday","getFullYear","getMonth","getDate","setDate","getDay","firstThursday","ds","setHours","getHours","weekDiff","getWeek","N","dow","getDayOfWeek","flags","dd","ddd","i18n","dayNames","dddd","mm","mmm","monthNames","mmmm","yy","yyyy","h","hh","HH","MM","ss","timeNames","tt","T","TT","Z","match","S","w","plural","ms","msAbs","isPlural","long","fmtLong","fmtShort","formatArgs","useColors","namespace","humanize","diff","color","lastC","save","namespaces","storage","setItem","removeItem","load","getItem","__nwjs","navigator","userAgent","document","documentElement","style","WebkitAppearance","firebug","exception","$1","localStorage","localstorage","warned","colors","formatters","createDebug","prevTime","namespacesCache","enabledCache","enableOverride","enabled","prev","coerce","unshift","formatter","selectColor","extend","delimiter","newDebug","toNamespace","regexp","default","disable","names","skips","enable","createAbortError","createDelay","clearTimeout","defaultClear","willResolve","timeoutId","settle","rejectFn","signalListener","delayPromise","createWithTimers","clearAndSet","delay","randomInteger","Denque","_capacity","capacity","_head","_tail","_fromArray","_capacityMask","_list","peekAt","peek","peekFront","peekBack","_growArray","_shrinkArray","removeOne","remove","removed","del_count","toArray","arg_len","arguments_index","leng","isEmpty","_copyArray","_nextPowerOf2","fullCopy","dest","newList","num","nextPow2","__spreadArray","to","pack","ar","BrowserInfo","os","NodeInfo","platform","SearchBotDeviceInfo","bot","BotInfo","ReactNativeInfo","SEARCHBOT_OS_REGEX","REQUIRED_VERSION_PARTS","userAgentRules","operatingSystemRules","detect","parseUserAgent","product","matchUserAgent","ua","matched","_a","browser","regex","uaMatch","matchedRule","versionParts","output","ii","createVersionParts","detectOS","searchBotMatch","props","ErrClass","getPrototypeOf","event_iterator_1","EventIterator","EventQueue","pullQueue","pushQueue","eventHandlers","isPaused","isStopped","resolution","placeholder","highWaterMark","highWater","stop","fail","rejection","removeCallback","lowWaterMark","lowWater","return","listen","queue","on","_ref","uri","defaultIsExtractableFile","extractFiles","isExtractableFile","files","addFile","paths","storedPaths","FileList","child","ReactNativeFile","File","hwm","top","btm","FixedFIFO","_cache","update","$protobuf","$Reader","$Writer","$util","$root","RPC","subscriptions","messages","ks","$oneOfFields","control","SubOpts","Message","ControlMessage","toObject","arrays","oneofs","_control","subscribe","topic","_subscribe","_topic","seqno","signature","_from","_data","_seqno","_signature","_key","ihave","iwant","graft","prune","ControlIHave","ControlIWant","ControlGraft","ControlPrune","messageIDs","topicID","_topicID","peers","backoff","PeerInfo","fromValue","_backoff","peerID","signedPeerRecord","_peerID","_signedPeerRecord","canUseWeakMap","HermesInternal","canUseWeakSet","WeakSet","canUseSymbol","canUseAsyncIteratorSymbol","createElement","isIPv4","isIPv6","isIP","MAX_IPV6_LENGTH","MAX_IPV4_LENGTH","parser","new","readAtomically","parseWith","peekChar","readChar","readGivenChar","readSeparator","sep","inner","readNumber","radix","maxDigits","allowZeroPrefix","maxBytes","digitCount","leadingChar","hasLeadingZero","maxValue","digit","readIPv4Addr","ix","readIPv6Addr","readGroups","groups","ipv4","group","headSize","headIp4","tailSize","readIPAddr","parseIPv4","parseIPv6","parseIP","BASE_MAP","LEADER","FACTOR","iFACTOR","psz","zeroes","b256","it3","it4","vch","pbegin","pend","b58","it1","it2","repeat","Encoder","baseEncode","Decoder","baseDecode","codePointAt","prefixCodePoint","or","decoder","ComposedDecoder","decoders","left","right","Codec","encoder","baseX","rfc4648","bitsPerChar","codes","SyntaxError","base58flickr","base10","base16","base16upper","base2","alphabetBytesToChars","alphabetCharsToBytes","base256emoji","byts","byt","base32upper","base32pad","base32padupper","base32hex","base32hexupper","base32hexpad","base32hexpadupper","base32z","base36","base36upper","base64pad","base64url","base64urlpad","base8","textDecoder","encode_1","oldOffset","INT","MSB","MSBALL","counter","REST$1","MSB$1","N1","N2","N3","N4","N5","N6","N7","N8","N9","encodingLength","encodeTo","int","digest","sizeOffset","digestOffset","multihash","Hasher","sha","subtle","link","toStringV0","baseCache","toStringV1","cid","asCID","toV0","DAG_PB_CODE","SHA_256_CODE","createV0","toV1","createV1","other","unknown","aa","bb","encodeCID","cidSymbol","remainder","decodeFirst","specs","inspectBytes","prefixSize","multihashSize","multihashBytes","digestBytes","digestSize","multihashCode","codec","initialBytes","parseCIDtoBytes","codeOffset","hashOffset","baseDecoder","LIBP2P_KEY_CODE","MARSHALLED_ED225519_PUBLIC_KEY_LENGTH","MARSHALLED_SECP256K1_PUBLIC_KEY_LENGTH","PeerIdImpl","privateKey","publicKey","toCID","toBytes","peerIdFromString","RSAPeerIdImpl","Ed25519PeerIdImpl","Secp256k1PeerIdImpl","startsWith","peerIdFromCID","logger","createDisabledLogger","MessageCache","gossip","msgs","msgIdToStrFn","history","notValidatedCount","historyCapacity","messageId","validated","msgIdStr","originatingPeers","iwantCounts","observeDuplicate","msgId","fromPeerIdStr","getWithIWantCount","getGossipIDs","topics","msgIdsByTopic","msgIds","validate","cacheEntry","FloodsubID","GossipsubIDv10","GossipsubIDv11","GossipsubMaxIHaveLength","shuffle","tmp","createCodec","ascii","hex","latin1","binary","messageIdToString","PUBLIC_KEY_BYTE_LENGTH","PRIVATE_KEY_BYTE_LENGTH","KEYS_BYTE_LENGTH","concatKeys","privateKeyRaw","win","nativeCrypto","derivedEmptyPasswordKey","alg","key_ops","kty","exporter","password","cipher","opts","algorithm","keyLength","nonceLength","saltLength","iterations","encrypt","salt","nonce","aesGcm","iv","cryptoKey","importKey","deriveParams","runtimeDerivedEmptyPassword","deriveKey","rawKey","ciphertext","decrypt","plaintext","encryptedKey","KeyType","__KeyTypeValues","PublicKey","PrivateKey","_codec","lengthDelimited","Data","Ed25519PublicKey","ensureKey","sig","verify","marshal","Ed25519PrivateKey","_publicKey","public","unmarshalEd25519PrivateKey","privateKeyBytes","publicKeyBytes","unmarshalEd25519PublicKey","generateKeyPair","utils","randomPrivateKey","getPublicKey","generateKeyPairFromSeed","seed","bigIntegerToUintBase64url","base64urlToBigInteger","BigInteger","bytesLength","types","pair","derivePublicFromPrivate","exportKey","jwKey","convertKey","pub","handle","fkey","setRsaPublicKey","jwk2pub","setRsaPrivateKey","jwk2priv","keySize","jwk","MAX_KEY_SIZE","RsaPublicKey","asn1","publicKeyToAsn1","toDer","getBytes","RSA","RsaPrivateKey","genSecret","dq","qi","privateKeyToAsn1","dP","dQ","qInv","ByteBuffer","fromDer","privateKeyFromAsn1","saltSize","prfAlgorithm","encryptRsaPrivateKey","unmarshalRsaPrivateKey","unmarshalRsaPublicKey","publicKeyFromAsn1","fromJwk","generateKey","modulusLength","publicExponent","validatePublicKey","ProjectivePoint","Secp256k1PublicKey","toRawBytes","Secp256k1PrivateKey","toDERRawBytes","unmarshalSecp256k1PrivateKey","unmarshalSecp256k1PublicKey","supportedKeys","rsa","ed25519","secp256k1","unsupportedKey","supported","typeToKey","decoded","SignaturePolicy","PublishConfigType","RejectReason","ValidateError","MessageStatus","rejectReasonFromAcceptance","acceptance","Ignore","Reject","ERR_INVALID_PEER_SCORE_PARAMS","defaultPeerScoreParams","topicScoreCap","appSpecificScore","appSpecificWeight","IPColocationFactorWeight","IPColocationFactorThreshold","IPColocationFactorWhitelist","behaviourPenaltyWeight","behaviourPenaltyThreshold","behaviourPenaltyDecay","decayInterval","decayToZero","retainScore","defaultTopicScoreParams","topicWeight","timeInMeshWeight","timeInMeshQuantum","timeInMeshCap","firstMessageDeliveriesWeight","firstMessageDeliveriesDecay","firstMessageDeliveriesCap","meshMessageDeliveriesWeight","meshMessageDeliveriesDecay","meshMessageDeliveriesCap","meshMessageDeliveriesThreshold","meshMessageDeliveriesWindow","meshMessageDeliveriesActivation","meshFailurePenaltyWeight","meshFailurePenaltyDecay","invalidMessageDeliveriesWeight","invalidMessageDeliveriesDecay","createPeerScoreParams","topicScoreParams","createTopicScoreParams","validateTopicScoreParams","defaultPeerScoreThresholds","gossipThreshold","publishThreshold","graylistThreshold","acceptPXThreshold","opportunisticGraftThreshold","createPeerScoreThresholds","computeScore","peer","pstats","params","peerIPs","score","tstats","topicParams","topicScore","inMesh","meshTime","firstMessageDeliveries","meshMessageDeliveriesActive","meshMessageDeliveries","deficit","meshFailurePenalty","invalidMessageDeliveries","p5","knownIPs","ip","peersInIP","numPeersInIP","surplus","behaviourPenalty","excess","DeliveryRecordStatus","MessageDeliveries","records","getRecord","ensureRecord","drec","firstSeenTsMs","now","expire","gc","removeItemsFromSet","superSet","ineed","cond","subset","MapDef","getDefault","getOrDefault","PeerScore","metrics","peerStats","scoreCache","deliveryRecords","_backgroundInterval","scoreCacheValidityMs","validatePeerScoreParams","setInterval","background","clearInterval","refreshScores","dumpPeerScoreStats","fromEntries","stats","messageFirstSeenTimestampMs","connected","tparams","graftTime","removeIPsForPeer","scoreFnCalls","inc","cacheUntil","scoreFnRuns","scoreCachedDelta","observe","addPenalty","penalty","penaltyLabel","onScorePenalty","addPeer","addIP","removeIP","peersWithIP","removePeer","getPtopicStats","validateMessage","deliverMessage","markFirstMessageDelivery","valid","markDuplicateMessageDelivery","rejectInvalidMessage","markInvalidMessageDelivery","rejectMessage","reason","Blacklisted","ignored","invalid","duplicateMessage","cap","validatedTime","deliveryDelayMs","isLateDelivery","onDuplicateMsgDelivery","ipsToRemove","ipToRemove","peerSet","topicStats","IWantTracer","gossipsubIWantFollowupMs","requestMsByMsg","requestMsByMsgExpire","requestMsByMsgSize","addPromise","expireByPeer","iwantPromiseStarted","getBrokenPromises","brokenPromises","iwantPromiseBroken","isDuplicate","trackMessage","iwantPromiseResolved","iwantPromiseResolvedFromDuplicate","iwantPromiseResolvedPeers","maxMs","iwantMessagePruned","requestMs","iwantPromiseDeliveryTime","SimpleTimeCache","validityMs","validUntilMs","MessageSource","InclusionReason","ChurnReason","ScorePenalty","IHaveIgnoreReason","ScoreThreshold","SignPrefix","msgIdFnStrictSign","sequenceNumber","seqnoBytes","padStart","msgIdFnStrictNoSign","computeScoreWeights","topicStrToLabel","byTopic","topicLabel","topicScores","p1w","p2w","p3w","p3bw","p4w","capF","ws","p5w","p6w","p7w","FIFO","splitLimit","calculateSize","AbortError","pushable","_pushable","getNext","onNext","ended","onEnd","drain","bufferNext","objectMode","bufferError","throw","readableLength","onEmpty","throwIfAborted","listener","race","abortableSource","getIterator","nextAbortHandler","abortHandler","abortMessage","abortCode","isKnownAborter","onReturnError","returnOnAbort","abortable","OutboundStream","rawStream","closeController","maxBufferSize","errCallback","protocol","InboundStream","defaultDecodeRpcLimits","maxSubscriptions","maxMessages","maxIhaveMessageIDs","maxIwantMessageIDs","maxControlMessages","maxPeerInfos","decodeRpc","decodeSubOpts","decodeMessage","decodeControlMessage","decodeControlIHave","decodeControlIWant","decodeControlGraft","decodeControlPrune","decodePeerInfo","getUint16","V","row","resolvable","createProtocol","convertToString","ipBuff","ipString","bytes2ip","bytes2str","bytes2port","address","bytes2mh","bytes2onion","bytes2mb","addrBytes","portBytes","Protocol","GossipStatusCode","GossipSub","globalSignaturePolicy","multicodecs","publishConfig","dataTransform","streamsInbound","streamsOutbound","outboundInflightQueue","direct","floodsubPeers","seenCache","acceptFromWhitelist","mesh","fanout","fanoutLastpub","peerhave","iasked","outbound","msgIdFn","fastMsgIdFn","fastMsgIdCache","publishedMessageIds","mcache","topicValidators","heartbeatTicks","gossipTracer","components","directPeerInitial","decodeRpcLimits","stopped","maxInboundStreams","maxOutboundStreams","allowedTopics","heartbeatTimer","fallbackToFloodsub","floodPublish","doPX","directPeers","Dlo","Dhi","Dscore","Dout","Dlazy","heartbeatInterval","second","fanoutTTL","minute","mcacheLength","mcacheGossip","seenTTL","prunePeers","pruneBackoff","unsubcribeBackoff","graftFloodThreshold","opportunisticGraftPeers","opportunisticGraftTicks","directConnectTicks","scoreParams","scoreThresholds","debugName","messageCache","metricsRegister","metricsTopicStrToLabel","maxMeshMessageDeliveriesWindowMs","topicParam","protocolsEnabled","gauge","help","labelNames","topicSubscriptionStatus","topicPeersCount","meshPeerCounts","meshPeerInclusionEventsFanout","meshPeerInclusionEventsRandom","meshPeerInclusionEventsSubscribed","meshPeerInclusionEventsOutbound","meshPeerInclusionEventsNotEnough","meshPeerInclusionEventsOpportunistic","meshPeerInclusionEventsUnknown","meshPeerChurnEventsDisconnected","meshPeerChurnEventsBadScore","meshPeerChurnEventsPrune","meshPeerChurnEventsExcess","meshPeerChurnEventsUnknown","peersPerProtocol","heartbeatDuration","histogram","buckets","heartbeatSkipped","acceptedMessagesTotal","ignoredMessagesTotal","rejectedMessagesTotal","unknownValidationResultsTotal","asyncValidationMcacheHit","asyncValidationDelayFromFirstSeenSec","asyncValidationUnknownFirstSeen","peerReadStreamError","rpcRecvBytes","rpcRecvCount","rpcRecvSubscription","rpcRecvMessage","rpcRecvControl","rpcRecvIHave","rpcRecvIWant","rpcRecvGraft","rpcRecvPrune","rpcDataError","rpcRecvError","rpcRecvNotAccepted","rpcSentBytes","rpcSentCount","rpcSentSubscription","rpcSentMessage","rpcSentControl","rpcSentIHave","rpcSentIWant","rpcSentGraft","rpcSentPrune","msgPublishCount","msgPublishPeersByTopic","directPeersPublishedTotal","floodsubPeersPublishedTotal","meshPeersPublishedTotal","fanoutPeersPublishedTotal","msgPublishBytes","msgPublishTime","msgForwardCount","msgForwardPeers","msgReceivedPreValidation","msgReceivedError","prevalidationInvalidTotal","prevalidationValidTotal","prevalidationDuplicateTotal","prevalidationUnknownTotal","msgReceivedInvalid","msgReceivedInvalidByTopic","duplicateMsgDeliveryDelay","maxMeshMessageDeliveriesWindowSec","duplicateMsgLateDelivery","duplicateMsgIgnored","peersByScoreThreshold","avgMinMax","scoreWeights","scorePerMesh","scoringPenalties","ihaveRcvIgnored","ihaveRcvMsgids","ihaveRcvNotSeenMsgids","iwantRcvMsgids","iwantRcvDonthaveMsgids","gossipPromiseExpireSec","iwantPromiseUntracked","connectedPeersBackoffSec","cacheSize","mcacheSize","mcacheNotValidatedCount","fastMsgIdCacheCollision","newConnectionCount","toTopic","topicStr","onJoin","onLeave","onAddToMesh","Fanout","Subscribed","Outbound","NotEnough","Opportunistic","onRemoveFromMesh","Dc","BadScore","Prune","Excess","onReportValidation","messageRecord","firstSeenTimestampMs","hit","Accept","onIhaveRcv","idonthave","onIwantRcv","iwantByTopic","iwantDonthave","onForwardMsg","tosendCount","onPublishMsg","tosendGroupCount","dataLen","floodsub","onMsgRecvPreValidation","onMsgRecvError","onPrevalidationResult","duplicate","onMsgRecvInvalid","onPublishDuplicateMsg","onPeerReadStreamError","onRpcRecvError","onRpcDataError","onRpcRecv","rpcBytes","onRpcSent","registerScores","scores","graylist","publish","registerScoreWeights","sw","wsTopic","registerScorePerMesh","scoreByPeer","peersPerTopicLabel","peersInMesh","meshScores","getMetrics","addCollect","onScrapeMetrics","getPeers","isStarted","started","signaturePolicy","peerId","Signing","author","Anonymous","getPublishConfigFromPeerId","connection","createOutboundStream","peerStore","multiaddrs","addrs","registrar","multicodec","onIncomingStream","topology","onConnect","onPeerConnected","onDisconnect","onPeerDisconnected","registrarTopologyIds","heartbeatTimeout","runHeartbeat","hearbeatStartMs","connect","unhandle","outboundStream","inboundStream","stream","remotePeer","remoteAddr","createInboundStream","newStream","maxOutboundBufferSize","sendSubscriptions","priorInboundStream","maxDataLength","maxInboundDataLength","pipePeerReadStream","addr","currentIP","multiaddr","tuple","tuples","ip4","ip6","multiaddrToIPStr","getMeshPeers","peersInTopic","getSubscribers","getTopics","awaitRpcHandler","handleReceivedRpc","handlePeerReadStreamError","acceptFrom","subOpt","handleReceivedSubscription","dispatchEvent","detail","handleReceivedMessagePromise","handleReceivedMessage","awaitRpcMessageHandler","handleControlMessage","topicSet","rpcMsg","validationResult","validateReceivedMessage","asyncValidation","emitSelf","propagationSource","forwardMessage","fastMsgIdStr","msgIdCached","SignaturePresent","SeqnoPresent","FromPresent","InvalidSeqno","InvalidSignature","InvalidPeerId","fromPeerId","rpcMsgPreSign","validateToRawMessage","inboundTransform","TransformFailed","topicValidator","errCode","getScore","toPeer","sendRpc","controlMsg","handleIHave","handleIWant","handleGraft","handlePrune","sent","iwantMessageIds","messagesAccepted","acceptUntil","LowScore","MaxIhave","MaxIasked","iask","iwantList","GraftBackoff","floodCutoff","addBackoff","makePrune","doAddBackoff","pxConnect","intervalMs","applyIwantPenalties","BrokenPromise","clearBackoff","toconnect","pi","consumePeerRecord","connectionManager","openConnection","getTopologies","unsubscribe","wasSubscribed","leave","toAdd","fanoutPeers","fanoutCount","getRandomGossipPeers","sendGraft","meshPeers","sendPrune","selectPeersToForward","excludePeers","tosend","selectPeersToPublish","newFanoutPeers","rawMsg","startMs","transformedData","outboundTransform","raw","originalData","buildRawMessage","ignoreDuplicatePublishError","recipients","willSendToSelf","allowPublishToZeroPeers","durationMs","reportMessageValidationResult","rejectReason","ctrl","piggybackControl","piggybackGossip","outRpc","tograft","toprune","noPX","pruning","emitGossip","peersToGossipByTopic","gossipIDsByTopic","peersToGossip","doEmitGossip","candidateToGossip","factor","peerMessageIDs","pushGossip","flush","controlIHaveMsgs","onUnsubscribe","backoffMs","xid","px","peerInfo","peerRecordEnvelope","timer","startTimer","heartbeat","finally","msToNextHeartbeat","directConnect","candidateMeshPeers","shuffledPeers","peerStreams","prunePeer","graftPeer","newMeshPeers","removeFirstNItemsFromSet","peersArray","sort","rotate","peersList","medianIndex","medianScore","lastpb","topicPeers","candidateFanoutPeers","sendGraftPrune","backoffSize","expiredMs","peerIdStr","peerIdStrs","swPeer","swPeerTopic","swTopic","computeAllPeersScoreWeights","gossipsub","deferred","piped","sink","NOISE_MSG_MAX_LENGTH_BYTES","DUMP_SESSION_KEYS","number","isSafeInteger","lengths","outputLen","blockLen","exists","checkFinished","destroyed","finished","u8a","createView","rotr","word","Hash","_cloneInto","hashCons","hashC","HMAC","iHash","oHash","digestInto","extract","ikm","HKDF_COUNTER","EMPTY_BUFFER","expand","prk","blocks","okm","HMACTmp","SHA2","padOffset","isLE","take","dataView","roundClean","setBigUint64","_32n","_u32_max","wh","wl","setUint32","oview","outLen","Maj","SHA256_K","IV","SHA256_W","SHA256","A","B","C","G","getUint32","W15","W2","s0","s1","T1","T2","pureJsCrypto","hashSHA256","getHKDF","ck","generateX25519KeyPair","secretKey","generateX25519KeyPairFromSeed","generateX25519SharedKey","getSharedSecret","chaCha20Poly1305Encrypt","ad","chacha","chaCha20Poly1305Decrypt","uint16BEEncode","setUint16","uint16BEDecode","base32","base58btc","Digest","CID","bases","peerIdFromBytes","peerIdFromKeys","NoiseExtensions","NoiseHandshakePayload","getPayload","localPeer","staticPublicKey","extensions","signedPayload","payload","signPayload","getHandshakePayload","libp2pPublicKey","identityKey","identitySig","webtransportCerthashes","createHandshakePayload","getPeerIdFromPayload","decodePayload","verifySignedPayload","noiseStaticKey","payloadPeerId","generatedPayload","isValidPublicKey","pk","writeDefaults","keyLogger","logLocalEphemeralKeys","logRemoteEphemeralKey","re","Nonce","increment","getUint64","assertValue","AbstractHandshake","encryptWithAd","cs","decryptWithAd","hasKey","isEmptyKey","createEmptyKey","encryptAndHash","mixHash","encryptedMessage","decryptAndHash","dh","derivedU8","getHash","mixKey","tempK","initializeKey","initializeSymmetric","protocolName","protocolNameBytes","hashProtocolName","tempk1","tempk2","cs1","cs2","writeMessageRegular","ns","readMessageRegular","XX","initializeInitiator","prologue","rs","psk","initializeResponder","writeMessageA","hs","writeMessageB","spk","writeMessageC","messageBuffer","readMessageA","readMessageB","valid1","valid2","readMessageC","initSession","initiator","mc","sendMessage","session","ephemeral","resultingBuffer","recvMessage","resultingPlaintext","resultingValid","XXHandshake","isInitiator","remoteExtensions","xx","staticKeypair","handshake","receivedMessageBuffer","decode0","decode1","decodedPayload","setRemoteNoiseExtension","decode2","getCS","getRemoteStaticKey","encryption","Noise","staticKeys","staticNoiseKey","prologueBytes","xxHandshakeSuccesses","registerCounter","xxHandshakeErrors","encryptedPackets","decryptedPackets","decryptErrors","registerMetrics","wrappedConnection","lengthEncoder","lengthDecoder","performHandshake","conn","createSecureConnection","performXXHandshake","propose","exchange","secure","user","duplexPair","network","unwrap","chunk","encryptStream","encrypted","decrypted","decryptStream","noise","ERR_INVALID_FRAME","ERR_UNREQUESTED_PING","ERR_NOT_MATCHING_PING","ERR_STREAM_ALREADY_EXISTS","ERR_DECODE_INVALID_VERSION","ERR_BOTH_CLIENTS","ERR_RECV_WINDOW_EXCEEDED","PROTOCOL_ERRORS","ERR_INVALID_CONFIG","ERR_MUXER_LOCAL_CLOSED","ERR_MUXER_REMOTE_CLOSED","INITIAL_STREAM_WINDOW","defaultConfig","enableKeepAlive","keepAliveInterval","initialStreamWindowSize","maxStreamWindowSize","maxMessageSize","FrameType","Flag","flagCodes","GoAwayCode","stringifyHeader","flag","streamID","twoPow24","frameInProgress","returnlessSource","readHeader","readData","readBytes","decodeHeader","consume","sublist","encodeHeader","frame","StreamState","thing","peekable","func","YamuxStream","_id","sendWindowCapacity","sendWindowCapacityUpdate","recvWindow","recvWindowCapacity","epochStart","getRTT","sendFrame","Finished","sendWindowUpdate","waitForSendWindowCapacity","toSend","getSendFlags","WindowUpdate","RST","FIN","_resolve","_reject","handleWindowUpdate","processFlags","available","recv","sourcePush","ACK","SYNSent","Established","remoteCloseWrite","Init","SYN","SYNReceived","rtt","delta","YAMUX_PROTOCOL_ID","Yamux","_init","createStreamMuxer","YamuxMuxer","nextStreamID","_streams","nextPingID","activePing","client","localGoAway","remoteGoAway","numInboundStreams","numOutboundStreams","onStreamEnd","verifyConfig","emitFrames","handleFrame","NormalTermination","InternalError","keepAliveLoop","streams","_newStream","sendPing","AbortSignal","timeout","sendGoAway","_closeMuxer","isClosed","closeStream","abortPromise","ping","Ping","handlePing","GoAway","handleGoAway","handleStreamMessage","handlePingResponse","pingId","incomingStream","handleData","yamux","abortableSink","abortableDuplex","duplex","arrayShuffle","newIndex","blobToIt","openFailedError","closeFailedError","putFailedError","getFailedError","deleteFailedError","hasFailedError","notFoundError","abortedError","MemoryBlockstore","sortAll","sorter","BaseBlockstore","puts","dels","putMany","deleteMany","query","it","filters","orders","queryKeys","_allKeys","cidToKey","keyToCid","convertPrefix","firstChar","base58","BlockstoreDatastoreAdapter","datastore","order","convertQuery","convertKeyQuery","cids","setImmediate","IDBBlockstore","upgrade","getKey","browserReadableStreamToIt","getReader","preventCancel","releaseLock","accessor","uintBoundaries","strict","readUint16","readUint32","readUint64","allowBigInt","decodeUint8","_minor","uint","decodeUint16","decodeUint32","decodeUint64","encodeUint","encodeUintValue","major","nuint","buint","encodedSize","compareTokens","tok1","tok2","decodeNegint8","negint","decodeNegint16","decodeNegint32","neg1b","pos1b","decodeNegint64","MIN_SAFE_INTEGER","encodeNegint","majorEncoded","toToken","decodeBytesCompact","minor","_options","decodeBytes8","decodeBytes16","decodeBytes32","decodeBytes64","tokenBytes","encodedBytes","encodeBytes","b1","b2","totLength","tok","retainStringBytes","byteValue","decodeStringCompact","decodeString8","decodeString16","decodeString32","decodeString64","_pos","decodeArrayCompact","decodeArray8","decodeArray16","decodeArray32","decodeArray64","decodeArrayIndefinite","allowIndefinite","encodeArray","decodeMapCompact","decodeMap8","decodeMap16","decodeMap32","decodeMap64","decodeMapIndefinite","encodeMap","decodeTagCompact","decodeTag8","decodeTag16","decodeTag32","decodeTag64","encodeTag","MINOR_FALSE","MINOR_TRUE","MINOR_NULL","MINOR_UNDEFINED","decodeUndefined","allowUndefined","coerceUndefinedToNull","null","decodeBreak","break","createToken","allowNaN","allowInfinity","decodeFloat16","readFloat16","decodeFloat32","readFloat32","decodeFloat64","readFloat64","encodeFloat","success","float64","encodeFloat16","ui8a","encodeFloat32","inp","setFloat64","setFloat32","valu32","exponent","mantissa","logicalExponent","mant","getFloat32","getFloat64","useBuffer","asU8A","fromArray","chunks","decodeErrPrefix","encodeErrPrefix","uintMinorPrefixBytes","assertEnoughData","need","defaultDecodeOptions","Tokeniser","encodedLength","DONE","BREAK","tokensToObject","tokeniser","terminal","tokenToArray","useMaps","rejectDuplicateMapKeys","tokenToMap","tags","tagged","tokenizer","typeofs","objectTypeNames","typeOf","objectType","objectTypeName","getObjectType","Bl","chunkSize","maxCursor","_initReuseChunk","topChunk","chunkPos","defaultEncodeOptions","mapSorter","e1","e2","keyToken1","keyToken2","tcmp","cborEncoders","quickEncodeToken","encoders","makeCborEncoders","Ref","simpleTokens","true","false","emptyMap","typeEncoders","_typ","_refStack","bigint","boolean","_obj","refStack","addBreakTokens","createCheck","objectToTokens","typ","isMap","sortMapEntries","customTypeEncoder","typeEncoder","tokensToEncoded","encodeCustom","quickBytes","JSONEncoder","inRecursive","recurs","elements","isa","_buf","_token","Tokenizer","modeStack","lastToken","ch","currentMode","skipWhitespace","expect","parseNumber","startPos","negative","swallow","numStr","parseString","readu4","u4","readUtf8Char","ch1","parseValue","invalidMinor","errorer","jump","quick","Token","toBase64url","fromBase64url","encodeSignature","encoded","protected","decodeSignature","encodeRecipient","recipient","encRec","encrypted_key","decodeRecipient","isDagJWS","jose","signatures","isDagJWE","toGeneral","protectedHeader","jwe","encodedJose","jws","encJwe","aad","unprotected","isEncodedJWE","BaseDatastore","dbOpenFailedError","dbDeleteFailedError","dbWriteFailedError","dbReadFailedError","SHARDING_FN","KeyTransformDatastore","transform","invert","ShardingDatastore","shard","_convertKey","_invertKey","shardKey","fun","withNamespaces","readShardFun","diskShard","tq","MountDatastore","mounts","_lookup","mount","isAncestorOf","mountpoint","batchMounts","lookup","qs","TieredDatastore","stores","pushables","batches","MemoryDatastore","pathSepS","pathSepB","pathSep","Key","clean","uint8Array","byte","nanoid","less","list1","list2","c1","c2","baseNamespace","namespaceType","namespaceValue","endsWith","isDecendantOf","isTopLevel","IDBDatastore","ops","delKey","yielded","LevelDatastore","Level","compression","_query","iteratorOpts","li","levelIteratorToIterator","encodeBase32","keyToTopic","b64url","PubSubDatastore","pubsub","validator","selector","subscriptionKeyFn","_pubsub","_datastore","_peerId","_validator","_selector","_handleSubscriptionKeyFn","_onMessage","errMsg","stringifiedTopic","_getLocal","routingKey","dsVal","evt","topicToKey","_storeIfSubscriptionIsBetter","isBetter","_isBetter","_storeRecord","_validateRecord","dsKey","currentRecord","_selectRecord","globalFetch","globalHeaders","buildResource","serverResolver","hostname","recordType","accept","getCacheKey","maxCache","_TXTcache","_servers","_request","_abortControllers","getServers","_getShuffledServers","newServers","setServers","servers","rrType","resolve4","resolve6","resolveTxt","cached","server","Answer","ttl","TTL","clearCache","PACKET_TYPES","PACKET_TYPES_REVERSE","ERROR_PACKET","withNativeBlob","withNativeArrayBuffer","encodeBlobAsBase64","fileReader","readAsDataURL","supportsBinary","decodeBase64Packet","binaryType","encoded1","encoded2","encoded3","encoded4","bufferLength","arraybuffer","mapBinary","encodedPacket","SEPARATOR","globalThisShim","pick","NATIVE_SET_TIMEOUT","NATIVE_CLEAR_TIMEOUT","installTimerFunctions","useNativeTimers","setTimeoutFn","clearTimeoutFn","TransportError","context","Transport","socket","onError","emitReserved","doOpen","doClose","onClose","packets","onOpen","onData","packet","onPacket","pause","onPause","yeast","encodeURIComponent","hasCORS","XHR","xdomain","hasXHR2","xd","xscheme","xs","extraHeaders","setDisableHeaderCheck","requestTimeout","onLoad","requestsCount","requests","cleanup","fromError","attachEvent","unloadHandler","WebSocket","MozWebSocket","isReactNative","transports","websocket","forceBase64","check","protocols","addEventListeners","onopen","autoUnref","_socket","unref","onclose","closeEvent","onmessage","lastPacket","schema","timestampRequests","timestampParam","b64","encodedQuery","polling","isSSL","poll","doPoll","encodedPayload","encodedPackets","decodedPacket","encodePayload","doWrite","sid","xhrStatus","pollXhr","host","authority","ipv6uri","pathNames","regx","queryKey","$0","$2","Socket","writeBuffer","prevBufferLen","agent","rememberUpgrade","addTrailingSlash","rejectUnauthorized","perMessageDeflate","transportOptions","closeOnBeforeunload","qry","upgrades","pingInterval","pingTimeout","pingTimeoutTimer","beforeunloadEventListener","transport","removeAllListeners","offlineEventListener","createTransport","EIO","priorWebsocketSuccess","setTransport","onDrain","probe","failed","onTransportOpen","upgrading","freezeTransport","onTransportClose","onupgrade","removeListener","onHandshake","resetPingTimeout","sendPacket","filterUpgrades","maxPayload","getWritablePackets","payloadSize","utf8Length","compress","cleanupAndClose","waitForUpgrade","filteredUpgrades","uint32SyncSafeToken","fileTypeFromBuffer","fileTypeFromTokenizer","_check","FileTypeParser","checkString","character","fileInfo","peekBuffer","mayBeLess","mime","ignore","id3HeaderLength","readToken","position","readBuffer","zipHeader","compressedSize","uncompressedSize","filenameLength","extraFieldLength","filename","mimeType","nextHeaderIndex","brandMajor","fileType","readTiffHeader","readField","msb","peekNumber","ic","readElement","lengthField","nrLength","readChildren","children","element","readChunkHeader","guid","typeId","jsonSize","readSum","tarHeaderChecksumMatches","bigEndian","tagId","numberOfTags","readTiffTag","ifdOffset","readTiffIFD","defaultJsonSerializer","isExtractableFileEnhanced","pipe","variables","operationName","jsonSerializer","accu","currentQuery","extractOperationName","operationDefinitions","definitions","definition","kind","resolveRequestDocument","parsedDocument","ClientError","extractMessage","resolveHeaders","oHeaders","HeadersInstanceToPlainObject","cleanQuery","createHttpMethodFetcher","fetchOptions","middleware","queryParams","params_","buildRequestConfig","urlResolved","initResolved","urlNew","initNew","GraphQLClient","requestConfig","rawRequest","queryOrOptions","requestHeaders","rawRequestOptions","parseRawRequestArgs","requestMiddleware","responseMiddleware","makeRequest","callOrIdentity","documentOrOptions","variablesAndRequestHeaders","requestOptions","parseRequestArgs","batchRequests","documentsOrOptions","batchRequestOptions","documents","parseBatchRequestArgs","queries","setHeaders","setHeader","setEndpoint","fetcher","isBatchingQuery","getResult","successfullyReceivedData","some","successfullyPassedErrorPolicy","errorPolicy","rest","contentType","Bucket","posAtParent","_popCount","_parent","_posAtParent","_children","place","_findNewBucketAndPos","bucket","_putAt","_findChild","_findPlace","_at","_delAt","leafCount","compactArray","childrenCount","onlyChild","eachLeafSeries","asyncMap","asyncReduce","asyncTransformBucket","mapNode","reduceNodes","prettyPrint","tableSize","hashValue","existingChild","_putObjectAt","newPlace","unset","_level","untake","nodes","mappedChildren","bitField","START_MASKS","STOP_MASKS","ConsumableBuffer","_value","_currentBytePos","_currentBitPos","availableBits","totalBits","pendingBits","_haveBits","taking","byteBitsToInt","maskFor","InfiniteHash","hashFn","_hashFn","_depth","_availableBits","_currentBufferIndex","_buffers","_produceMoreBits","availableForUntake","createHAMT","bucketOptions"],"sourceRoot":""}