/*! For license information please see 543.9321ad6b.chunk.js.LICENSE.txt */
!function(){var t,e,n={76005:function(t,e,n){"use strict";var r=n(88178);var i=n(48094);var o=n(71715);var a=n(92297);var s=n(33090);var u=n(57098);var c=n(88993);var f=n(98707);var l=n(4707);var h=n(82098)},44917:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toUtf8=e.fromUtf8=e.toRfc3339=e.fromRfc3339=e.toHex=e.fromHex=e.toBech32=e.normalizeBech32=e.fromBech32=e.toBase64=e.fromBase64=e.toAscii=e.fromAscii=void 0;var r=n(1718);Object.defineProperty(e,"fromAscii",{enumerable:!0,get:function(){return r.fromAscii}}),Object.defineProperty(e,"toAscii",{enumerable:!0,get:function(){return r.toAscii}});var i=n(18594);Object.defineProperty(e,"fromBase64",{enumerable:!0,get:function(){return i.fromBase64}}),Object.defineProperty(e,"toBase64",{enumerable:!0,get:function(){return i.toBase64}});var o=n(50714);Object.defineProperty(e,"fromBech32",{enumerable:!0,get:function(){return o.fromBech32}}),Object.defineProperty(e,"normalizeBech32",{enumerable:!0,get:function(){return o.normalizeBech32}}),Object.defineProperty(e,"toBech32",{enumerable:!0,get:function(){return o.toBech32}});var a=n(71028);Object.defineProperty(e,"fromHex",{enumerable:!0,get:function(){return a.fromHex}}),Object.defineProperty(e,"toHex",{enumerable:!0,get:function(){return a.toHex}});var s=n(71466);Object.defineProperty(e,"fromRfc3339",{enumerable:!0,get:function(){return s.fromRfc3339}}),Object.defineProperty(e,"toRfc3339",{enumerable:!0,get:function(){return s.toRfc3339}});var u=n(7290);Object.defineProperty(e,"fromUtf8",{enumerable:!0,get:function(){return u.fromUtf8}}),Object.defineProperty(e,"toUtf8",{enumerable:!0,get:function(){return u.toUtf8}})},51298:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Uint64=e.Uint53=e.Uint32=e.Int53=e.Decimal=void 0;var r=n(75173);Object.defineProperty(e,"Decimal",{enumerable:!0,get:function(){return r.Decimal}});var i=n(80887);Object.defineProperty(e,"Int53",{enumerable:!0,get:function(){return i.Int53}}),Object.defineProperty(e,"Uint32",{enumerable:!0,get:function(){return i.Uint32}}),Object.defineProperty(e,"Uint53",{enumerable:!0,get:function(){return i.Uint53}}),Object.defineProperty(e,"Uint64",{enumerable:!0,get:function(){return i.Uint64}})},69674:function(t){"use strict";for(var e="qpzry9x8gf2tvdw0s3jn54khce6mua7l",n={},r=0;r<e.length;r++){var i=e.charAt(r);if(void 0!==n[i])throw new TypeError(i+" is ambiguous");n[i]=r}function o(t){var e=t>>25;return(33554431&t)<<5^996825010&-(e>>0&1)^642813549&-(e>>1&1)^513874426&-(e>>2&1)^1027748829&-(e>>3&1)^705979059&-(e>>4&1)}function a(t){for(var e=1,n=0;n<t.length;++n){var r=t.charCodeAt(n);if(r<33||r>126)return"Invalid prefix ("+t+")";e=o(e)^r>>5}for(e=o(e),n=0;n<t.length;++n){var i=t.charCodeAt(n);e=o(e)^31&i}return e}function s(t,e){if(e=e||90,t.length<8)return t+" too short";if(t.length>e)return"Exceeds length limit";var r=t.toLowerCase(),i=t.toUpperCase();if(t!==r&&t!==i)return"Mixed-case string "+t;var s=(t=r).lastIndexOf("1");if(-1===s)return"No separator character for "+t;if(0===s)return"Missing prefix for "+t;var u=t.slice(0,s),c=t.slice(s+1);if(c.length<6)return"Data too short";var f=a(u);if("string"==typeof f)return f;for(var l=[],h=0;h<c.length;++h){var d=c.charAt(h),p=n[d];if(void 0===p)return"Unknown character "+d;f=o(f)^p,h+6>=c.length||l.push(p)}return 1!==f?"Invalid checksum for "+t:{prefix:u,words:l}}function u(t,e,n,r){for(var i=0,o=0,a=(1<<n)-1,s=[],u=0;u<t.length;++u)for(i=i<<e|t[u],o+=e;o>=n;)o-=n,s.push(i>>o&a);if(r)o>0&&s.push(i<<n-o&a);else{if(o>=e)return"Excess padding";if(i<<n-o&a)return"Non-zero padding"}return s}t.exports={decodeUnsafe:function(){var t=s.apply(null,arguments);if("object"==typeof t)return t},decode:function(t){var e=s.apply(null,arguments);if("object"==typeof e)return e;throw new Error(e)},encode:function(t,n,r){if(r=r||90,t.length+7+n.length>r)throw new TypeError("Exceeds length limit");var i=a(t=t.toLowerCase());if("string"==typeof i)throw new Error(i);for(var s=t+"1",u=0;u<n.length;++u){var c=n[u];if(c>>5!=0)throw new Error("Non 5-bit word");i=o(i)^c,s+=e.charAt(c)}for(u=0;u<6;++u)i=o(i);for(i^=1,u=0;u<6;++u){s+=e.charAt(i>>5*(5-u)&31)}return s},toWordsUnsafe:function(t){var e=u(t,8,5,!0);if(Array.isArray(e))return e},toWords:function(t){var e=u(t,8,5,!0);if(Array.isArray(e))return e;throw new Error(e)},fromWordsUnsafe:function(t){var e=u(t,5,8,!1);if(Array.isArray(e))return e},fromWords:function(t){var e=u(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}}},48287:function(t,e,n){"use strict";var r=n(96763),i=n(67526),o=n(251),a="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=c,e.SlowBuffer=function(t){+t!=t&&(t=0);return c.alloc(+t)},e.INSPECT_MAX_BYTES=50;var s=2147483647;function u(t){if(t>s)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,c.prototype),e}function c(t,e,n){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return h(t)}return f(t,e,n)}function f(t,e,n){if("string"==typeof t)return function(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!c.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var n=0|y(t,e),r=u(n),i=r.write(t,e);i!==n&&(r=r.slice(0,i));return r}(t,e);if(ArrayBuffer.isView(t))return function(t){if(H(t,Uint8Array)){var e=new Uint8Array(t);return p(e.buffer,e.byteOffset,e.byteLength)}return d(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(H(t,ArrayBuffer)||t&&H(t.buffer,ArrayBuffer))return p(t,e,n);if("undefined"!=typeof SharedArrayBuffer&&(H(t,SharedArrayBuffer)||t&&H(t.buffer,SharedArrayBuffer)))return p(t,e,n);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=t.valueOf&&t.valueOf();if(null!=r&&r!==t)return c.from(r,e,n);var i=function(t){if(c.isBuffer(t)){var e=0|g(t.length),n=u(e);return 0===n.length||t.copy(n,0,0,e),n}if(void 0!==t.length)return"number"!=typeof t.length||F(t.length)?u(0):d(t);if("Buffer"===t.type&&Array.isArray(t.data))return d(t.data)}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return c.from(t[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function l(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function h(t){return l(t),u(t<0?0:0|g(t))}function d(t){for(var e=t.length<0?0:0|g(t.length),n=u(e),r=0;r<e;r+=1)n[r]=255&t[r];return n}function p(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n),Object.setPrototypeOf(r,c.prototype),r}function g(t){if(t>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|t}function y(t,e){if(c.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||H(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var n=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return M(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return z(t).length;default:if(i)return r?-1:M(t).length;e=(""+e).toLowerCase(),i=!0}}function b(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return N(this,e,n);case"utf8":case"utf-8":return C(this,e,n);case"ascii":return x(this,e,n);case"latin1":case"binary":return I(this,e,n);case"base64":return k(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function m(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function w(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),F(n=+n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=c.from(e,r)),c.isBuffer(e))return 0===e.length?-1:_(t,e,n,r,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):_(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function _(t,e,n,r,i){var o,a=1,s=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,n/=2}function c(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(i){var f=-1;for(o=n;o<s;o++)if(c(t,o)===c(e,-1===f?0:o-f)){if(-1===f&&(f=o),o-f+1===u)return f*a}else-1!==f&&(o-=o-f),f=-1}else for(n+u>s&&(n=s-u),o=n;o>=0;o--){for(var l=!0,h=0;h<u;h++)if(c(t,o+h)!==c(e,h)){l=!1;break}if(l)return o}return-1}function v(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(F(s))return a;t[n+a]=s}return a}function E(t,e,n,r){return $(M(e,t.length-n),t,n,r)}function S(t,e,n,r){return $(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function O(t,e,n,r){return $(z(e),t,n,r)}function A(t,e,n,r){return $(function(t,e){for(var n,r,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)r=(n=t.charCodeAt(a))>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function k(t,e,n){return 0===e&&n===t.length?i.fromByteArray(t):i.fromByteArray(t.slice(e,n))}function C(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o,a,s,u,c=t[i],f=null,l=c>239?4:c>223?3:c>191?2:1;if(i+l<=n)switch(l){case 1:c<128&&(f=c);break;case 2:128==(192&(o=t[i+1]))&&(u=(31&c)<<6|63&o)>127&&(f=u);break;case 3:o=t[i+1],a=t[i+2],128==(192&o)&&128==(192&a)&&(u=(15&c)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(f=u);break;case 4:o=t[i+1],a=t[i+2],s=t[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(f=u)}null===f?(f=65533,l=1):f>65535&&(f-=65536,r.push(f>>>10&1023|55296),f=56320|1023&f),r.push(f),i+=l}return function(t){var e=t.length;if(e<=T)return String.fromCharCode.apply(String,t);var n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=T));return n}(r)}e.kMaxLength=s,c.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),c.TYPED_ARRAY_SUPPORT||void 0===r||"function"!=typeof r.error||r.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(t,e,n){return f(t,e,n)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(t,e,n){return function(t,e,n){return l(t),t<=0?u(t):void 0!==e?"string"==typeof n?u(t).fill(e,n):u(t).fill(e):u(t)}(t,e,n)},c.allocUnsafe=function(t){return h(t)},c.allocUnsafeSlow=function(t){return h(t)},c.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==c.prototype},c.compare=function(t,e){if(H(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),H(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var n=t.length,r=e.length,i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=c.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var o=t[n];if(H(o,Uint8Array))i+o.length>r.length?c.from(o).copy(r,i):Uint8Array.prototype.set.call(r,o,i);else{if(!c.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i)}i+=o.length}return r},c.byteLength=y,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)m(this,e,e+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)m(this,e,e+3),m(this,e+1,e+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)m(this,e,e+7),m(this,e+1,e+6),m(this,e+2,e+5),m(this,e+3,e+4);return this},c.prototype.toString=function(){var t=this.length;return 0===t?"":0===arguments.length?C(this,0,t):b.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(t+=" ... "),"<Buffer "+t+">"},a&&(c.prototype[a]=c.prototype.inspect),c.prototype.compare=function(t,e,n,r,i){if(H(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(e>>>=0),s=Math.min(o,a),u=this.slice(r,i),f=t.slice(e,n),l=0;l<s;++l)if(u[l]!==f[l]){o=u[l],a=f[l];break}return o<a?-1:a<o?1:0},c.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},c.prototype.indexOf=function(t,e,n){return w(this,t,e,n,!0)},c.prototype.lastIndexOf=function(t,e,n){return w(this,t,e,n,!1)},c.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return v(this,t,e,n);case"utf8":case"utf-8":return E(this,t,e,n);case"ascii":case"latin1":case"binary":return S(this,t,e,n);case"base64":return O(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var T=4096;function x(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function I(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function N(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=q[t[o]];return i}function B(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length-1;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function P(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function j(t,e,n,r,i,o){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function U(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(t,e,n,r,i){return e=+e,n>>>=0,i||U(t,0,n,4),o.write(t,e,n,r,23,4),n+4}function R(t,e,n,r,i){return e=+e,n>>>=0,i||U(t,0,n,8),o.write(t,e,n,r,52,8),n+8}c.prototype.slice=function(t,e){var n=this.length;(t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);var r=this.subarray(t,e);return Object.setPrototypeOf(r,c.prototype),r},c.prototype.readUintLE=c.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||P(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},c.prototype.readUintBE=c.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||P(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},c.prototype.readUint8=c.prototype.readUInt8=function(t,e){return t>>>=0,e||P(t,1,this.length),this[t]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(t,e){return t>>>=0,e||P(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(t,e){return t>>>=0,e||P(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(t,e){return t>>>=0,e||P(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(t,e){return t>>>=0,e||P(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||P(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},c.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||P(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},c.prototype.readInt8=function(t,e){return t>>>=0,e||P(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){t>>>=0,e||P(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(t,e){t>>>=0,e||P(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(t,e){return t>>>=0,e||P(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return t>>>=0,e||P(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,e){return t>>>=0,e||P(t,4,this.length),o.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return t>>>=0,e||P(t,4,this.length),o.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return t>>>=0,e||P(t,8,this.length),o.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return t>>>=0,e||P(t,8,this.length),o.read(this,t,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(t,e,n,r){(t=+t,e>>>=0,n>>>=0,r)||j(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(t,e,n,r){(t=+t,e>>>=0,n>>>=0,r)||j(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},c.prototype.writeUint8=c.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||j(this,t,e,1,255,0),this[e]=255&t,e+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||j(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||j(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||j(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||j(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},c.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e>>>=0,!r){var i=Math.pow(2,8*n-1);j(this,t,e,n,i-1,-i)}var o=0,a=1,s=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},c.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e>>>=0,!r){var i=Math.pow(2,8*n-1);j(this,t,e,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},c.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||j(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||j(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},c.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||j(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},c.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||j(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},c.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||j(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},c.prototype.writeFloatLE=function(t,e,n){return L(this,t,e,!0,n)},c.prototype.writeFloatBE=function(t,e,n){return L(this,t,e,!1,n)},c.prototype.writeDoubleLE=function(t,e,n){return R(this,t,e,!0,n)},c.prototype.writeDoubleBE=function(t,e,n){return R(this,t,e,!1,n)},c.prototype.copy=function(t,e,n,r){if(!c.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i=r-n;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,n,r):Uint8Array.prototype.set.call(t,this.subarray(n,r),e),i},c.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===t.length){var i=t.charCodeAt(0);("utf8"===r&&i<128||"latin1"===r)&&(t=i)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var a=c.isBuffer(t)?t:c.from(t,r),s=a.length;if(0===s)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(o=0;o<n-e;++o)this[o+e]=a[o%s]}return this};var D=/[^+/0-9A-Za-z-_]/g;function M(t,e){var n;e=e||1/0;for(var r=t.length,i=null,o=[],a=0;a<r;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function z(t){return i.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(D,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function $(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function H(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function F(t){return t!=t}var q=function(){for(var t="0123456789abcdef",e=new Array(256),n=0;n<16;++n)for(var r=16*n,i=0;i<16;++i)e[r+i]=t[n]+t[i];return e}()},25948:function(t,e,n){"use strict";n.d(e,{yD:function(){return x},Ay:function(){return P}});let r=null,i=null,o=0,a=null,s=!1;function u(t){return new Promise(((e,n)=>{t.onsuccess=()=>e(t.result),t.onerror=t=>n(t.error)}))}async function c(t,e,n){return a=n,await async function(t,e){return i=e,new Promise(((n,i)=>{const o=indexedDB.open(t,1);o.onupgradeneeded=function(t){const n=t.target.result;n.objectStoreNames.contains(e)||n.createObjectStore(e)},o.onsuccess=function(t){r=t.target.result,n(r)},o.onerror=function(t){i(t.error)}}))}(t,e),await async function(){return new Promise(((t,e)=>{const n=r.transaction(i,"readonly").objectStore(i),o=u(n.getAll()),a=u(n.getAllKeys());Promise.all([a,o]).then((e=>{const n=e[0].map((t=>new Uint8Array(t))),r=e[1];t([n,r])})).catch(e)}))}()}t=n.hmd(t);var f=n(96763);let l;const h=new Array(128).fill(void 0);function d(t){return h[t]}h.push(void 0,null,!0,!1);let p=h.length;function g(t){const e=d(t);return function(t){t<132||(h[t]=p,p=t)}(t),e}const y="undefined"!=typeof TextDecoder?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};"undefined"!=typeof TextDecoder&&y.decode();let b=null;function m(){return null!==b&&0!==b.byteLength||(b=new Uint8Array(l.memory.buffer)),b}function w(t,e){return t>>>=0,y.decode(m().subarray(t,t+e))}function _(t){p===h.length&&h.push(h.length+1);const e=p;return p=h[e],h[e]=t,e}function v(t,e,n){l.wasm_bindgen__convert__closures__invoke1_mut__hd17e34166836fd48(t,e,_(n))}let E=0;const S="undefined"!=typeof TextEncoder?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},O="function"==typeof S.encodeInto?function(t,e){return S.encodeInto(t,e)}:function(t,e){const n=S.encode(t);return e.set(n),{read:t.length,written:n.length}};function A(t,e,n){if(void 0===n){const n=S.encode(t),r=e(n.length,1)>>>0;return m().subarray(r,r+n.length).set(n),E=n.length,r}let r=t.length,i=e(r,1)>>>0;const o=m();let a=0;for(;a<r;a++){const e=t.charCodeAt(a);if(e>127)break;o[i+a]=e}if(a!==r){0!==a&&(t=t.slice(a)),i=n(i,r,r=a+3*t.length,1)>>>0;const e=m().subarray(i+a,i+r);a+=O(t,e).written}return E=a,i}let k=null;function C(){return null!==k&&0!==k.byteLength||(k=new Int32Array(l.memory.buffer)),k}function T(t,e){try{return t.apply(this,e)}catch(t){l.__wbindgen_exn_store(_(t))}}class x{static __wrap(t){t>>>=0;const e=Object.create(x.prototype);return e.__wbg_ptr=t,e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,t}free(){const t=this.__destroy_into_raw();l.__wbg_cozodb_free(t)}static new(){const t=l.cozodb_new();return x.__wrap(t)}static new_from_indexed_db(t,e,n){const r=A(t,l.__wbindgen_malloc,l.__wbindgen_realloc),i=E,o=A(e,l.__wbindgen_malloc,l.__wbindgen_realloc),a=E;return g(l.cozodb_new_from_indexed_db(r,i,o,a,_(n)))}run(t,e,n){const r=A(t,l.__wbindgen_malloc,l.__wbindgen_realloc),i=E,o=A(e,l.__wbindgen_malloc,l.__wbindgen_realloc),a=E;return g(l.cozodb_run(this.__wbg_ptr,r,i,o,a,n))}export_relations(t){let e,n;try{const o=l.__wbindgen_add_to_stack_pointer(-16),a=A(t,l.__wbindgen_malloc,l.__wbindgen_realloc),s=E;l.cozodb_export_relations(o,this.__wbg_ptr,a,s);var r=C()[o/4+0],i=C()[o/4+1];return e=r,n=i,w(r,i)}finally{l.__wbindgen_add_to_stack_pointer(16),l.__wbindgen_free(e,n,1)}}import_relations(t){let e,n;try{const o=l.__wbindgen_add_to_stack_pointer(-16),a=A(t,l.__wbindgen_malloc,l.__wbindgen_realloc),s=E;l.cozodb_import_relations(o,this.__wbg_ptr,a,s);var r=C()[o/4+0],i=C()[o/4+1];return e=r,n=i,w(r,i)}finally{l.__wbindgen_add_to_stack_pointer(16),l.__wbindgen_free(e,n,1)}}}function I(){const e={wbg:{}};return e.wbg.__wbindgen_object_drop_ref=function(t){g(t)},e.wbg.__wbg_log_b78d654f19d681e0=function(t,e){f.log(w(t,e))},e.wbg.__wbg_loadAllFromIndexedDb_05f8df9a19c8d344=function(t,e,n,r,i){return _(c(w(t,e),w(n,r),d(i)))},e.wbg.__wbg_flushPendingWrites_dd4341a0dafcf428=function(){return _(async function(t=6e4){let e=null;s&&await new Promise(((t,e)=>{const n=setInterval((()=>{s||(clearInterval(n),t())}),10)})),s=!0;const n=new Promise(((t,n)=>{const r=setInterval((()=>{o<=0&&(e&&clearTimeout(e),clearInterval(r),t())}),10)})),r=new Promise(((n,r)=>{e=setTimeout((()=>{r(new Error("waitForPendingWrites timed out!"))}),t)}));return Promise.race([n,r]).finally((()=>{s=!1}))}())},e.wbg.__wbindgen_string_new=function(t,e){return _(w(t,e))},e.wbg.__wbg_cozodb_new=function(t){return _(x.__wrap(t))},e.wbg.__wbindgen_cb_drop=function(t){const e=g(t).original;if(1==e.cnt--)return e.a=0,!0;return!1},e.wbg.__wbg_new_abda76e883ba8a5f=function(){return _(new Error)},e.wbg.__wbg_stack_658279fe44541cf6=function(t,e){const n=A(d(e).stack,l.__wbindgen_malloc,l.__wbindgen_realloc),r=E;C()[t/4+1]=r,C()[t/4+0]=n},e.wbg.__wbg_error_f851667af71bcfc6=function(t,e){let n,r;try{n=t,r=e,f.error(w(t,e))}finally{l.__wbindgen_free(n,r,1)}},e.wbg.__wbg_setWriteCounter_295838a9805b3542=function(t){o=t>>>0},e.wbg.__wbg_writeToIndexedDb_ec8ba47108ce4d3a=function(t,e){return _(async function(t,e){return new Promise(((n,s)=>{const c=r.transaction(i,"readwrite").objectStore(i);return u(e?c.put(e,t):c.delete(t)).then(n).catch(s).finally((()=>{o--,a&&a(o)}))}))}(d(t),d(e)))},e.wbg.__wbg_crypto_c48a774b022d20ac=function(t){return _(d(t).crypto)},e.wbg.__wbindgen_is_object=function(t){const e=d(t);return"object"==typeof e&&null!==e},e.wbg.__wbg_process_298734cf255a885d=function(t){return _(d(t).process)},e.wbg.__wbg_versions_e2e78e134e3e5d01=function(t){return _(d(t).versions)},e.wbg.__wbg_node_1cd7a5d853dbea79=function(t){return _(d(t).node)},e.wbg.__wbindgen_is_string=function(t){return"string"==typeof d(t)},e.wbg.__wbg_msCrypto_bcb970640f50a1e8=function(t){return _(d(t).msCrypto)},e.wbg.__wbg_require_8f08ceecec0f4fee=function(){return T((function(){return _(t.require)}),arguments)},e.wbg.__wbindgen_is_function=function(t){return"function"==typeof d(t)},e.wbg.__wbg_randomFillSync_dc1e9a60c158336d=function(){return T((function(t,e){d(t).randomFillSync(g(e))}),arguments)},e.wbg.__wbg_getRandomValues_37fa2ca9e4e07fab=function(){return T((function(t,e){d(t).getRandomValues(d(e))}),arguments)},e.wbg.__wbg_get_44be0491f933a435=function(t,e){return _(d(t)[e>>>0])},e.wbg.__wbg_length_fff51ee6522a1a18=function(t){return d(t).length},e.wbg.__wbg_newnoargs_581967eacc0e2604=function(t,e){return _(new Function(w(t,e)))},e.wbg.__wbg_call_cb65541d95d71282=function(){return T((function(t,e){return _(d(t).call(d(e)))}),arguments)},e.wbg.__wbindgen_object_clone_ref=function(t){return _(d(t))},e.wbg.__wbg_self_1ff1d729e9aae938=function(){return T((function(){return _(self.self)}),arguments)},e.wbg.__wbg_window_5f4faef6c12b79ec=function(){return T((function(){return _(window.window)}),arguments)},e.wbg.__wbg_globalThis_1d39714405582d3c=function(){return T((function(){return _(globalThis.globalThis)}),arguments)},e.wbg.__wbg_global_651f05c6a0944d1c=function(){return T((function(){return _(n.g.global)}),arguments)},e.wbg.__wbindgen_is_undefined=function(t){return void 0===d(t)},e.wbg.__wbg_isArray_4c24b343cb13cfb1=function(t){return Array.isArray(d(t))},e.wbg.__wbg_call_01734de55d61e11d=function(){return T((function(t,e,n){return _(d(t).call(d(e),d(n)))}),arguments)},e.wbg.__wbg_now_9c5990bda04c7e53=function(){return Date.now()},e.wbg.__wbg_new_43f1b47c28813cbd=function(t,e){try{var n={a:t,b:e};const r=new Promise(((t,e)=>{const r=n.a;n.a=0;try{return function(t,e,n,r){l.wasm_bindgen__convert__closures__invoke2_mut__h62fdc46dd4e23c5d(t,e,_(n),_(r))}(r,n.b,t,e)}finally{n.a=r}}));return _(r)}finally{n.a=n.b=0}},e.wbg.__wbg_resolve_53698b95aaf7fcf8=function(t){return _(Promise.resolve(d(t)))},e.wbg.__wbg_then_f7e06ee3c11698eb=function(t,e){return _(d(t).then(d(e)))},e.wbg.__wbg_then_b2267541e2a73865=function(t,e,n){return _(d(t).then(d(e),d(n)))},e.wbg.__wbg_buffer_085ec1f694018c4f=function(t){return _(d(t).buffer)},e.wbg.__wbg_newwithbyteoffsetandlength_6da8e527659b86aa=function(t,e,n){return _(new Uint8Array(d(t),e>>>0,n>>>0))},e.wbg.__wbg_new_8125e318e6245eed=function(t){return _(new Uint8Array(d(t)))},e.wbg.__wbg_set_5cf90238115182c3=function(t,e,n){d(t).set(d(e),n>>>0)},e.wbg.__wbg_length_72e2208bbc0efc61=function(t){return d(t).length},e.wbg.__wbg_instanceof_Uint8Array_d8d9cb2b8e8ac1d4=function(t){let e;try{e=d(t)instanceof Uint8Array}catch{e=!1}return e},e.wbg.__wbg_newwithlength_e5d69174d6984cd7=function(t){return _(new Uint8Array(t>>>0))},e.wbg.__wbg_subarray_13db269f57aa838d=function(t,e,n){return _(d(t).subarray(e>>>0,n>>>0))},e.wbg.__wbindgen_throw=function(t,e){throw new Error(w(t,e))},e.wbg.__wbindgen_memory=function(){return _(l.memory)},e.wbg.__wbindgen_closure_wrapper186=function(t,e,n){const r=function(t,e,n,r){const i={a:t,b:e,cnt:1,dtor:n},o=(...t)=>{i.cnt++;const e=i.a;i.a=0;try{return r(e,i.b,...t)}finally{0==--i.cnt?l.__wbindgen_export_0.get(i.dtor)(e,i.b):i.a=e}};return o.original=i,o}(t,e,87,v);return _(r)},e}function N(t,e){return l=t.exports,B.__wbindgen_wasm_module=e,k=null,b=null,l}async function B(t){if(void 0!==l)return l;void 0===t&&(t=new URL(n(58689),n.b));const e=I();("string"==typeof t||"function"==typeof Request&&t instanceof Request||"function"==typeof URL&&t instanceof URL)&&(t=fetch(t));const{instance:r,module:i}=await async function(t,e){if("function"==typeof Response&&t instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(t,e)}catch(e){if("application/wasm"==t.headers.get("Content-Type"))throw e;f.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",e)}const n=await t.arrayBuffer();return await WebAssembly.instantiate(n,e)}{const n=await WebAssembly.instantiate(t,e);return n instanceof WebAssembly.Instance?{instance:n,module:t}:n}}(await t,e);return N(r,i)}var P=B},26160:function(t,e,n){"use strict";var r=n(25948),i=n(2543),o=n.n(i);const a="CYBLOG_BROADCST_CHANNEL";var s=n(96763);const u=[];!function(t={}){let e={};function n(n,r,a=t){try{const t=a?.formatter?a?.formatter(r):r;!function(t,e=!0){for(u.push(t);e&&u.length>1e3;)u.shift()}({timestamp:new Date,level:n,message:t,stacktrace:a?.stacktrace,context:o().omit(a,["formatter","stacktrace"])});Object.keys(e).reduce(((t,n)=>{const r=e[n],i=a[n];return r&&i?t||"all"===r||0===r.length||r.some((t=>t===i)):t}),!1)&&function(t,e,n){const r=o().omit(n,["formatter","thread","module","unit","data"]),{thread:a="",module:u="",unit:c="",data:f=""}=n,l=(0,i.isEmpty)(r)?"":r;Array.isArray(e)?s[t](...e,l):n?.formatter?s[t](n?.formatter(e),l):s[t](`[${a}:${u}:${c}] ${e}`,f,l)}(n,r,a)}catch(t){s.log("cyblog error",t)}}new BroadcastChannel(a).onmessage=t=>{"params"===t.data.type&&(e={...e,...t.data.value})}}({thread:"main"});class c extends Error{constructor(t){const{message:e,code:n,display:r,severity:i}=t;super(e),this.code=n,this.display=r,this.severity=i}}var f=n(96763);const l=(t,e)=>`[${e.map((e=>{const n=e.column,r=t[n];return/<[a-z]+\d*;\d+>/i.test(e.type)?`[${r}]`:"Json"===e.type?`parse_json('${JSON.stringify(r)}')`:"String"===e.type?`"${i=r,i.replace(/\\/g,"\\\\").replace(/"/g,"\\''").replace(/'/g,"\\'").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/#/g,"\\!!")}"`:r;var i})).join(", ")}]`;var h="{\n    :create pin {\n        cid: String =>\n        type: Int\n    }\n}\n{\n    :create particle {\n        cid: String =>\n        mime: String,\n        text: String,\n        blocks: Int,\n        size: Int,\n        size_local: Int,\n        type: String\n    }\n}\n\n{\n    :create link {\n        from: String,\n        to: String,\n        neuron: String =>\n        timestamp: Int,\n        transaction_hash: String default ''\n    }\n}\n{\n    :create transaction {\n        hash: String,\n        index: Int,\n        neuron: String,\n        type: String =>\n        block_height: Int,\n        success: Bool,\n        timestamp: Int,\n        value: Json,\n        memo: String\n    }\n}\n\n{\n    :create sync_status {\n        owner_id: String,\n        id: String =>\n        entry_type: Int,\n        disabled: Bool,\n        timestamp_update: Int,\n        timestamp_read: Int,\n        unread_count: Int,\n        meta: Json\n    }\n}\n\n{\n    :create config {\n        key: String,\n        group_key: String =>\n        value: Json\n    }\n}\n\n{\n    :create sync_queue {\n        id: String,\n        job_type: Int =>\n        data: String default '',\n        status: Int default 0,\n        priority: Float default 0,\n    }\n}\n\n{\n    :create community {\n        owner_id: String,\n        neuron: String =>\n        particle: String,\n        name: String default '',\n        following: Bool,\n        follower: Bool\n    }\n}\n{\n    :create embeddings {\n        cid: String =>\n        vec: <F32; 384>\n    }\n}\n{\n    ::hnsw create embeddings:semantic{\n        fields: [vec],\n        dim: 384,\n        ef: 100,\n        m: 16\n    }\n}",d=n(71083),p=(t=>(t.BOSTROM="bostrom",t.SPACE_PUSSY="space-pussy",t.ETH="eth",t.OSMO="osmo",t.TERRA="terra",t.COSMOS="cosmoshub-4",t))(p||{});var g={bostrom:{CHAIN_ID:p.BOSTROM,BASE_DENOM:"boot",DENOM_LIQUID:"hydrogen",RPC_URL:"https://rpc.bostrom.cybernode.ai",LCD_URL:"https://lcd.bostrom.cybernode.ai",WEBSOCKET_URL:"wss://rpc.bostrom.cybernode.ai/websocket",INDEX_HTTPS:"https://index.bostrom.cybernode.ai/v1/graphql",INDEX_WEBSOCKET:"wss://index.bostrom.cybernode.ai/v1/graphql",BECH32_PREFIX:"bostrom",MEMO_KEPLR:"[bostrom] cyb.ai, using keplr"},"space-pussy":{CHAIN_ID:p.SPACE_PUSSY,BASE_DENOM:"pussy",DENOM_LIQUID:"liquidpussy",RPC_URL:"https://rpc.space-pussy.cybernode.ai/",LCD_URL:"https://lcd.space-pussy.cybernode.ai",WEBSOCKET_URL:"wss://rpc.space-pussy.cybernode.ai/websocket",INDEX_HTTPS:"https://index.space-pussy.cybernode.ai/v1/graphql",INDEX_WEBSOCKET:"wss://index.space-pussy.cybernode.ai/v1/graphql",BECH32_PREFIX:"pussy",MEMO_KEPLR:"[space-pussy] cyb.ai, using keplr"}};const y=!("undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope)&&localStorage.getItem("chainId")||"bostrom",b=g[y].LCD_URL,m=(g[y].RPC_URL,g[y].WEBSOCKET_URL,g[y].INDEX_HTTPS,g[y].INDEX_WEBSOCKET,g[y].BECH32_PREFIX),w=`${m}val`,_=`${w}oper`,{MEMO_KEPLR:v}=(g[y].BASE_DENOM,g[y].DENOM_LIQUID,g[y]);new RegExp(`^${m}[a-zA-Z0-9]{39}$`,"g"),new RegExp(`^${m}[a-zA-Z0-9]{59}$`,"g"),new RegExp(`^${_}valoper[a-zA-Z0-9]{39}$`,"g");n(22322),n(47095),n(62045).hp;n(69674),n(44917),n(76005);var E=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,S=Math.ceil,O=Math.floor,A="[BigNumber Error] ",k=A+"Number primitive has more than 15 significant digits: ",C=1e14,T=14,x=9007199254740991,I=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],N=1e7,B=1e9;function P(t){var e=0|t;return t>0||t===e?e:e-1}function j(t){for(var e,n,r=1,i=t.length,o=t[0]+"";r<i;){for(e=t[r++]+"",n=T-e.length;n--;e="0"+e);o+=e}for(i=o.length;48===o.charCodeAt(--i););return o.slice(0,i+1||1)}function U(t,e){var n,r,i=t.c,o=e.c,a=t.s,s=e.s,u=t.e,c=e.e;if(!a||!s)return null;if(n=i&&!i[0],r=o&&!o[0],n||r)return n?r?0:-s:a;if(a!=s)return a;if(n=a<0,r=u==c,!i||!o)return r?0:!i^n?1:-1;if(!r)return u>c^n?1:-1;for(s=(u=i.length)<(c=o.length)?u:c,a=0;a<s;a++)if(i[a]!=o[a])return i[a]>o[a]^n?1:-1;return u==c?0:u>c^n?1:-1}function L(t,e,n,r){if(t<e||t>n||t!==O(t))throw Error(A+(r||"Argument")+("number"==typeof t?t<e||t>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function R(t){var e=t.c.length-1;return P(t.e/T)==e&&t.c[e]%2!=0}function D(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function M(t,e,n){var r,i;if(e<0){for(i=n+".";++e;i+=n);t=i+t}else if(++e>(r=t.length)){for(i=n,e-=r;--e;i+=n);t+=i}else e<r&&(t=t.slice(0,e)+"."+t.slice(e));return t}(function t(e){var n,r,i,o,a,s,u,c,f,l,h=q.prototype={constructor:q,toString:null,valueOf:null},d=new q(1),p=20,g=4,y=-7,b=21,m=-1e7,w=1e7,_=!1,v=1,z=0,$={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},H="0123456789abcdefghijklmnopqrstuvwxyz",F=!0;function q(t,e){var n,o,a,s,u,c,f,l,h=this;if(!(h instanceof q))return new q(t,e);if(null==e){if(t&&!0===t._isBigNumber)return h.s=t.s,void(!t.c||t.e>w?h.c=h.e=null:t.e<m?h.c=[h.e=0]:(h.e=t.e,h.c=t.c.slice()));if((c="number"==typeof t)&&0*t==0){if(h.s=1/t<0?(t=-t,-1):1,t===~~t){for(s=0,u=t;u>=10;u/=10,s++);return void(s>w?h.c=h.e=null:(h.e=s,h.c=[t]))}l=String(t)}else{if(!E.test(l=String(t)))return i(h,l,c);h.s=45==l.charCodeAt(0)?(l=l.slice(1),-1):1}(s=l.indexOf("."))>-1&&(l=l.replace(".","")),(u=l.search(/e/i))>0?(s<0&&(s=u),s+=+l.slice(u+1),l=l.substring(0,u)):s<0&&(s=l.length)}else{if(L(e,2,H.length,"Base"),10==e&&F)return X(h=new q(t),p+h.e+1,g);if(l=String(t),c="number"==typeof t){if(0*t!=0)return i(h,l,c,e);if(h.s=1/t<0?(l=l.slice(1),-1):1,q.DEBUG&&l.replace(/^0\.0*|\./,"").length>15)throw Error(k+t)}else h.s=45===l.charCodeAt(0)?(l=l.slice(1),-1):1;for(n=H.slice(0,e),s=u=0,f=l.length;u<f;u++)if(n.indexOf(o=l.charAt(u))<0){if("."==o){if(u>s){s=f;continue}}else if(!a&&(l==l.toUpperCase()&&(l=l.toLowerCase())||l==l.toLowerCase()&&(l=l.toUpperCase()))){a=!0,u=-1,s=0;continue}return i(h,String(t),c,e)}c=!1,(s=(l=r(l,e,10,h.s)).indexOf("."))>-1?l=l.replace(".",""):s=l.length}for(u=0;48===l.charCodeAt(u);u++);for(f=l.length;48===l.charCodeAt(--f););if(l=l.slice(u,++f)){if(f-=u,c&&q.DEBUG&&f>15&&(t>x||t!==O(t)))throw Error(k+h.s*t);if((s=s-u-1)>w)h.c=h.e=null;else if(s<m)h.c=[h.e=0];else{if(h.e=s,h.c=[],u=(s+1)%T,s<0&&(u+=T),u<f){for(u&&h.c.push(+l.slice(0,u)),f-=T;u<f;)h.c.push(+l.slice(u,u+=T));u=T-(l=l.slice(u)).length}else u-=f;for(;u--;l+="0");h.c.push(+l)}}else h.c=[h.e=0]}function G(t,e,n,r){var i,o,a,s,u;if(null==n?n=g:L(n,0,8),!t.c)return t.toString();if(i=t.c[0],a=t.e,null==e)u=j(t.c),u=1==r||2==r&&(a<=y||a>=b)?D(u,a):M(u,a,"0");else if(o=(t=X(new q(t),e,n)).e,s=(u=j(t.c)).length,1==r||2==r&&(e<=o||o<=y)){for(;s<e;u+="0",s++);u=D(u,o)}else if(e-=a,u=M(u,o,"0"),o+1>s){if(--e>0)for(u+=".";e--;u+="0");}else if((e+=o-s)>0)for(o+1==s&&(u+=".");e--;u+="0");return t.s<0&&i?"-"+u:u}function W(t,e){for(var n,r=1,i=new q(t[0]);r<t.length;r++){if(!(n=new q(t[r])).s){i=n;break}e.call(i,n)&&(i=n)}return i}function V(t,e,n){for(var r=1,i=e.length;!e[--i];e.pop());for(i=e[0];i>=10;i/=10,r++);return(n=r+n*T-1)>w?t.c=t.e=null:n<m?t.c=[t.e=0]:(t.e=n,t.c=e),t}function X(t,e,n,r){var i,o,a,s,u,c,f,l=t.c,h=I;if(l){t:{for(i=1,s=l[0];s>=10;s/=10,i++);if((o=e-i)<0)o+=T,a=e,f=(u=l[c=0])/h[i-a-1]%10|0;else if((c=S((o+1)/T))>=l.length){if(!r)break t;for(;l.length<=c;l.push(0));u=f=0,i=1,a=(o%=T)-T+1}else{for(u=s=l[c],i=1;s>=10;s/=10,i++);f=(a=(o%=T)-T+i)<0?0:u/h[i-a-1]%10|0}if(r=r||e<0||null!=l[c+1]||(a<0?u:u%h[i-a-1]),r=n<4?(f||r)&&(0==n||n==(t.s<0?3:2)):f>5||5==f&&(4==n||r||6==n&&(o>0?a>0?u/h[i-a]:0:l[c-1])%10&1||n==(t.s<0?8:7)),e<1||!l[0])return l.length=0,r?(e-=t.e+1,l[0]=h[(T-e%T)%T],t.e=-e||0):l[0]=t.e=0,t;if(0==o?(l.length=c,s=1,c--):(l.length=c+1,s=h[T-o],l[c]=a>0?O(u/h[i-a]%h[a])*s:0),r)for(;;){if(0==c){for(o=1,a=l[0];a>=10;a/=10,o++);for(a=l[0]+=s,s=1;a>=10;a/=10,s++);o!=s&&(t.e++,l[0]==C&&(l[0]=1));break}if(l[c]+=s,l[c]!=C)break;l[c--]=0,s=1}for(o=l.length;0===l[--o];l.pop());}t.e>w?t.c=t.e=null:t.e<m&&(t.c=[t.e=0])}return t}function J(t){var e,n=t.e;return null===n?t.toString():(e=j(t.c),e=n<=y||n>=b?D(e,n):M(e,n,"0"),t.s<0?"-"+e:e)}return q.clone=t,q.ROUND_UP=0,q.ROUND_DOWN=1,q.ROUND_CEIL=2,q.ROUND_FLOOR=3,q.ROUND_HALF_UP=4,q.ROUND_HALF_DOWN=5,q.ROUND_HALF_EVEN=6,q.ROUND_HALF_CEIL=7,q.ROUND_HALF_FLOOR=8,q.EUCLID=9,q.config=q.set=function(t){var e,n;if(null!=t){if("object"!=typeof t)throw Error(A+"Object expected: "+t);if(t.hasOwnProperty(e="DECIMAL_PLACES")&&(L(n=t[e],0,B,e),p=n),t.hasOwnProperty(e="ROUNDING_MODE")&&(L(n=t[e],0,8,e),g=n),t.hasOwnProperty(e="EXPONENTIAL_AT")&&((n=t[e])&&n.pop?(L(n[0],-B,0,e),L(n[1],0,B,e),y=n[0],b=n[1]):(L(n,-B,B,e),y=-(b=n<0?-n:n))),t.hasOwnProperty(e="RANGE"))if((n=t[e])&&n.pop)L(n[0],-B,-1,e),L(n[1],1,B,e),m=n[0],w=n[1];else{if(L(n,-B,B,e),!n)throw Error(A+e+" cannot be zero: "+n);m=-(w=n<0?-n:n)}if(t.hasOwnProperty(e="CRYPTO")){if((n=t[e])!==!!n)throw Error(A+e+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw _=!n,Error(A+"crypto unavailable");_=n}else _=n}if(t.hasOwnProperty(e="MODULO_MODE")&&(L(n=t[e],0,9,e),v=n),t.hasOwnProperty(e="POW_PRECISION")&&(L(n=t[e],0,B,e),z=n),t.hasOwnProperty(e="FORMAT")){if("object"!=typeof(n=t[e]))throw Error(A+e+" not an object: "+n);$=n}if(t.hasOwnProperty(e="ALPHABET")){if("string"!=typeof(n=t[e])||/^.?$|[+\-.\s]|(.).*\1/.test(n))throw Error(A+e+" invalid: "+n);F="0123456789"==n.slice(0,10),H=n}}return{DECIMAL_PLACES:p,ROUNDING_MODE:g,EXPONENTIAL_AT:[y,b],RANGE:[m,w],CRYPTO:_,MODULO_MODE:v,POW_PRECISION:z,FORMAT:$,ALPHABET:H}},q.isBigNumber=function(t){if(!t||!0!==t._isBigNumber)return!1;if(!q.DEBUG)return!0;var e,n,r=t.c,i=t.e,o=t.s;t:if("[object Array]"=={}.toString.call(r)){if((1===o||-1===o)&&i>=-B&&i<=B&&i===O(i)){if(0===r[0]){if(0===i&&1===r.length)return!0;break t}if((e=(i+1)%T)<1&&(e+=T),String(r[0]).length==e){for(e=0;e<r.length;e++)if((n=r[e])<0||n>=C||n!==O(n))break t;if(0!==n)return!0}}}else if(null===r&&null===i&&(null===o||1===o||-1===o))return!0;throw Error(A+"Invalid BigNumber: "+t)},q.maximum=q.max=function(){return W(arguments,h.lt)},q.minimum=q.min=function(){return W(arguments,h.gt)},q.random=(o=9007199254740992,a=Math.random()*o&2097151?function(){return O(Math.random()*o)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(t){var e,n,r,i,o,s=0,u=[],c=new q(d);if(null==t?t=p:L(t,0,B),i=S(t/T),_)if(crypto.getRandomValues){for(e=crypto.getRandomValues(new Uint32Array(i*=2));s<i;)(o=131072*e[s]+(e[s+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),e[s]=n[0],e[s+1]=n[1]):(u.push(o%1e14),s+=2);s=i/2}else{if(!crypto.randomBytes)throw _=!1,Error(A+"crypto unavailable");for(e=crypto.randomBytes(i*=7);s<i;)(o=281474976710656*(31&e[s])+1099511627776*e[s+1]+4294967296*e[s+2]+16777216*e[s+3]+(e[s+4]<<16)+(e[s+5]<<8)+e[s+6])>=9e15?crypto.randomBytes(7).copy(e,s):(u.push(o%1e14),s+=7);s=i/7}if(!_)for(;s<i;)(o=a())<9e15&&(u[s++]=o%1e14);for(i=u[--s],t%=T,i&&t&&(o=I[T-t],u[s]=O(i/o)*o);0===u[s];u.pop(),s--);if(s<0)u=[r=0];else{for(r=-1;0===u[0];u.splice(0,1),r-=T);for(s=1,o=u[0];o>=10;o/=10,s++);s<T&&(r-=T-s)}return c.e=r,c.c=u,c}),q.sum=function(){for(var t=1,e=arguments,n=new q(e[0]);t<e.length;)n=n.plus(e[t++]);return n},r=function(){var t="0123456789";function e(t,e,n,r){for(var i,o,a=[0],s=0,u=t.length;s<u;){for(o=a.length;o--;a[o]*=e);for(a[0]+=r.indexOf(t.charAt(s++)),i=0;i<a.length;i++)a[i]>n-1&&(null==a[i+1]&&(a[i+1]=0),a[i+1]+=a[i]/n|0,a[i]%=n)}return a.reverse()}return function(r,i,o,a,s){var u,c,f,l,h,d,y,b,m=r.indexOf("."),w=p,_=g;for(m>=0&&(l=z,z=0,r=r.replace(".",""),d=(b=new q(i)).pow(r.length-m),z=l,b.c=e(M(j(d.c),d.e,"0"),10,o,t),b.e=b.c.length),f=l=(y=e(r,i,o,s?(u=H,t):(u=t,H))).length;0==y[--l];y.pop());if(!y[0])return u.charAt(0);if(m<0?--f:(d.c=y,d.e=f,d.s=a,y=(d=n(d,b,w,_,o)).c,h=d.r,f=d.e),m=y[c=f+w+1],l=o/2,h=h||c<0||null!=y[c+1],h=_<4?(null!=m||h)&&(0==_||_==(d.s<0?3:2)):m>l||m==l&&(4==_||h||6==_&&1&y[c-1]||_==(d.s<0?8:7)),c<1||!y[0])r=h?M(u.charAt(1),-w,u.charAt(0)):u.charAt(0);else{if(y.length=c,h)for(--o;++y[--c]>o;)y[c]=0,c||(++f,y=[1].concat(y));for(l=y.length;!y[--l];);for(m=0,r="";m<=l;r+=u.charAt(y[m++]));r=M(r,f,u.charAt(0))}return r}}(),n=function(){function t(t,e,n){var r,i,o,a,s=0,u=t.length,c=e%N,f=e/N|0;for(t=t.slice();u--;)s=((i=c*(o=t[u]%N)+(r=f*o+(a=t[u]/N|0)*c)%N*N+s)/n|0)+(r/N|0)+f*a,t[u]=i%n;return s&&(t=[s].concat(t)),t}function e(t,e,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(t[i]!=e[i]){o=t[i]>e[i]?1:-1;break}return o}function n(t,e,n,r){for(var i=0;n--;)t[n]-=i,i=t[n]<e[n]?1:0,t[n]=i*r+t[n]-e[n];for(;!t[0]&&t.length>1;t.splice(0,1));}return function(r,i,o,a,s){var u,c,f,l,h,d,p,g,y,b,m,w,_,v,E,S,A,k=r.s==i.s?1:-1,x=r.c,I=i.c;if(!(x&&x[0]&&I&&I[0]))return new q(r.s&&i.s&&(x?!I||x[0]!=I[0]:I)?x&&0==x[0]||!I?0*k:k/0:NaN);for(y=(g=new q(k)).c=[],k=o+(c=r.e-i.e)+1,s||(s=C,c=P(r.e/T)-P(i.e/T),k=k/T|0),f=0;I[f]==(x[f]||0);f++);if(I[f]>(x[f]||0)&&c--,k<0)y.push(1),l=!0;else{for(v=x.length,S=I.length,f=0,k+=2,(h=O(s/(I[0]+1)))>1&&(I=t(I,h,s),x=t(x,h,s),S=I.length,v=x.length),_=S,m=(b=x.slice(0,S)).length;m<S;b[m++]=0);A=I.slice(),A=[0].concat(A),E=I[0],I[1]>=s/2&&E++;do{if(h=0,(u=e(I,b,S,m))<0){if(w=b[0],S!=m&&(w=w*s+(b[1]||0)),(h=O(w/E))>1)for(h>=s&&(h=s-1),p=(d=t(I,h,s)).length,m=b.length;1==e(d,b,p,m);)h--,n(d,S<p?A:I,p,s),p=d.length,u=1;else 0==h&&(u=h=1),p=(d=I.slice()).length;if(p<m&&(d=[0].concat(d)),n(b,d,m,s),m=b.length,-1==u)for(;e(I,b,S,m)<1;)h++,n(b,S<m?A:I,m,s),m=b.length}else 0===u&&(h++,b=[0]);y[f++]=h,b[0]?b[m++]=x[_]||0:(b=[x[_]],m=1)}while((_++<v||null!=b[0])&&k--);l=null!=b[0],y[0]||y.splice(0,1)}if(s==C){for(f=1,k=y[0];k>=10;k/=10,f++);X(g,o+(g.e=f+c*T-1)+1,a,l)}else g.e=c,g.r=+l;return g}}(),s=/^(-?)0([xbo])(?=\w[\w.]*$)/i,u=/^([^.]+)\.$/,c=/^\.([^.]+)$/,f=/^-?(Infinity|NaN)$/,l=/^\s*\+(?=[\w.])|^\s+|\s+$/g,i=function(t,e,n,r){var i,o=n?e:e.replace(l,"");if(f.test(o))t.s=isNaN(o)?null:o<0?-1:1;else{if(!n&&(o=o.replace(s,(function(t,e,n){return i="x"==(n=n.toLowerCase())?16:"b"==n?2:8,r&&r!=i?t:e})),r&&(i=r,o=o.replace(u,"$1").replace(c,"0.$1")),e!=o))return new q(o,i);if(q.DEBUG)throw Error(A+"Not a"+(r?" base "+r:"")+" number: "+e);t.s=null}t.c=t.e=null},h.absoluteValue=h.abs=function(){var t=new q(this);return t.s<0&&(t.s=1),t},h.comparedTo=function(t,e){return U(this,new q(t,e))},h.decimalPlaces=h.dp=function(t,e){var n,r,i,o=this;if(null!=t)return L(t,0,B),null==e?e=g:L(e,0,8),X(new q(o),t+o.e+1,e);if(!(n=o.c))return null;if(r=((i=n.length-1)-P(this.e/T))*T,i=n[i])for(;i%10==0;i/=10,r--);return r<0&&(r=0),r},h.dividedBy=h.div=function(t,e){return n(this,new q(t,e),p,g)},h.dividedToIntegerBy=h.idiv=function(t,e){return n(this,new q(t,e),0,1)},h.exponentiatedBy=h.pow=function(t,e){var n,r,i,o,a,s,u,c,f=this;if((t=new q(t)).c&&!t.isInteger())throw Error(A+"Exponent not an integer: "+J(t));if(null!=e&&(e=new q(e)),a=t.e>14,!f.c||!f.c[0]||1==f.c[0]&&!f.e&&1==f.c.length||!t.c||!t.c[0])return c=new q(Math.pow(+J(f),a?t.s*(2-R(t)):+J(t))),e?c.mod(e):c;if(s=t.s<0,e){if(e.c?!e.c[0]:!e.s)return new q(NaN);(r=!s&&f.isInteger()&&e.isInteger())&&(f=f.mod(e))}else{if(t.e>9&&(f.e>0||f.e<-1||(0==f.e?f.c[0]>1||a&&f.c[1]>=24e7:f.c[0]<8e13||a&&f.c[0]<=9999975e7)))return o=f.s<0&&R(t)?-0:0,f.e>-1&&(o=1/o),new q(s?1/o:o);z&&(o=S(z/T+2))}for(a?(n=new q(.5),s&&(t.s=1),u=R(t)):u=(i=Math.abs(+J(t)))%2,c=new q(d);;){if(u){if(!(c=c.times(f)).c)break;o?c.c.length>o&&(c.c.length=o):r&&(c=c.mod(e))}if(i){if(0===(i=O(i/2)))break;u=i%2}else if(X(t=t.times(n),t.e+1,1),t.e>14)u=R(t);else{if(0===(i=+J(t)))break;u=i%2}f=f.times(f),o?f.c&&f.c.length>o&&(f.c.length=o):r&&(f=f.mod(e))}return r?c:(s&&(c=d.div(c)),e?c.mod(e):o?X(c,z,g,undefined):c)},h.integerValue=function(t){var e=new q(this);return null==t?t=g:L(t,0,8),X(e,e.e+1,t)},h.isEqualTo=h.eq=function(t,e){return 0===U(this,new q(t,e))},h.isFinite=function(){return!!this.c},h.isGreaterThan=h.gt=function(t,e){return U(this,new q(t,e))>0},h.isGreaterThanOrEqualTo=h.gte=function(t,e){return 1===(e=U(this,new q(t,e)))||0===e},h.isInteger=function(){return!!this.c&&P(this.e/T)>this.c.length-2},h.isLessThan=h.lt=function(t,e){return U(this,new q(t,e))<0},h.isLessThanOrEqualTo=h.lte=function(t,e){return-1===(e=U(this,new q(t,e)))||0===e},h.isNaN=function(){return!this.s},h.isNegative=function(){return this.s<0},h.isPositive=function(){return this.s>0},h.isZero=function(){return!!this.c&&0==this.c[0]},h.minus=function(t,e){var n,r,i,o,a=this,s=a.s;if(e=(t=new q(t,e)).s,!s||!e)return new q(NaN);if(s!=e)return t.s=-e,a.plus(t);var u=a.e/T,c=t.e/T,f=a.c,l=t.c;if(!u||!c){if(!f||!l)return f?(t.s=-e,t):new q(l?a:NaN);if(!f[0]||!l[0])return l[0]?(t.s=-e,t):new q(f[0]?a:3==g?-0:0)}if(u=P(u),c=P(c),f=f.slice(),s=u-c){for((o=s<0)?(s=-s,i=f):(c=u,i=l),i.reverse(),e=s;e--;i.push(0));i.reverse()}else for(r=(o=(s=f.length)<(e=l.length))?s:e,s=e=0;e<r;e++)if(f[e]!=l[e]){o=f[e]<l[e];break}if(o&&(i=f,f=l,l=i,t.s=-t.s),(e=(r=l.length)-(n=f.length))>0)for(;e--;f[n++]=0);for(e=C-1;r>s;){if(f[--r]<l[r]){for(n=r;n&&!f[--n];f[n]=e);--f[n],f[r]+=C}f[r]-=l[r]}for(;0==f[0];f.splice(0,1),--c);return f[0]?V(t,f,c):(t.s=3==g?-1:1,t.c=[t.e=0],t)},h.modulo=h.mod=function(t,e){var r,i,o=this;return t=new q(t,e),!o.c||!t.s||t.c&&!t.c[0]?new q(NaN):!t.c||o.c&&!o.c[0]?new q(o):(9==v?(i=t.s,t.s=1,r=n(o,t,0,3),t.s=i,r.s*=i):r=n(o,t,0,v),(t=o.minus(r.times(t))).c[0]||1!=v||(t.s=o.s),t)},h.multipliedBy=h.times=function(t,e){var n,r,i,o,a,s,u,c,f,l,h,d,p,g,y,b=this,m=b.c,w=(t=new q(t,e)).c;if(!(m&&w&&m[0]&&w[0]))return!b.s||!t.s||m&&!m[0]&&!w||w&&!w[0]&&!m?t.c=t.e=t.s=null:(t.s*=b.s,m&&w?(t.c=[0],t.e=0):t.c=t.e=null),t;for(r=P(b.e/T)+P(t.e/T),t.s*=b.s,(u=m.length)<(l=w.length)&&(p=m,m=w,w=p,i=u,u=l,l=i),i=u+l,p=[];i--;p.push(0));for(g=C,y=N,i=l;--i>=0;){for(n=0,h=w[i]%y,d=w[i]/y|0,o=i+(a=u);o>i;)n=((c=h*(c=m[--a]%y)+(s=d*c+(f=m[a]/y|0)*h)%y*y+p[o]+n)/g|0)+(s/y|0)+d*f,p[o--]=c%g;p[o]=n}return n?++r:p.splice(0,1),V(t,p,r)},h.negated=function(){var t=new q(this);return t.s=-t.s||null,t},h.plus=function(t,e){var n,r=this,i=r.s;if(e=(t=new q(t,e)).s,!i||!e)return new q(NaN);if(i!=e)return t.s=-e,r.minus(t);var o=r.e/T,a=t.e/T,s=r.c,u=t.c;if(!o||!a){if(!s||!u)return new q(i/0);if(!s[0]||!u[0])return u[0]?t:new q(s[0]?r:0*i)}if(o=P(o),a=P(a),s=s.slice(),i=o-a){for(i>0?(a=o,n=u):(i=-i,n=s),n.reverse();i--;n.push(0));n.reverse()}for((i=s.length)-(e=u.length)<0&&(n=u,u=s,s=n,e=i),i=0;e;)i=(s[--e]=s[e]+u[e]+i)/C|0,s[e]=C===s[e]?0:s[e]%C;return i&&(s=[i].concat(s),++a),V(t,s,a)},h.precision=h.sd=function(t,e){var n,r,i,o=this;if(null!=t&&t!==!!t)return L(t,1,B),null==e?e=g:L(e,0,8),X(new q(o),t,e);if(!(n=o.c))return null;if(r=(i=n.length-1)*T+1,i=n[i]){for(;i%10==0;i/=10,r--);for(i=n[0];i>=10;i/=10,r++);}return t&&o.e+1>r&&(r=o.e+1),r},h.shiftedBy=function(t){return L(t,-9007199254740991,x),this.times("1e"+t)},h.squareRoot=h.sqrt=function(){var t,e,r,i,o,a=this,s=a.c,u=a.s,c=a.e,f=p+4,l=new q("0.5");if(1!==u||!s||!s[0])return new q(!u||u<0&&(!s||s[0])?NaN:s?a:1/0);if(0==(u=Math.sqrt(+J(a)))||u==1/0?(((e=j(s)).length+c)%2==0&&(e+="0"),u=Math.sqrt(+e),c=P((c+1)/2)-(c<0||c%2),r=new q(e=u==1/0?"5e"+c:(e=u.toExponential()).slice(0,e.indexOf("e")+1)+c)):r=new q(u+""),r.c[0])for((u=(c=r.e)+f)<3&&(u=0);;)if(o=r,r=l.times(o.plus(n(a,o,f,1))),j(o.c).slice(0,u)===(e=j(r.c)).slice(0,u)){if(r.e<c&&--u,"9999"!=(e=e.slice(u-3,u+1))&&(i||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(X(r,r.e+p+2,1),t=!r.times(r).eq(a));break}if(!i&&(X(o,o.e+p+2,0),o.times(o).eq(a))){r=o;break}f+=4,u+=4,i=1}return X(r,r.e+p+1,g,t)},h.toExponential=function(t,e){return null!=t&&(L(t,0,B),t++),G(this,t,e,1)},h.toFixed=function(t,e){return null!=t&&(L(t,0,B),t=t+this.e+1),G(this,t,e)},h.toFormat=function(t,e,n){var r,i=this;if(null==n)null!=t&&e&&"object"==typeof e?(n=e,e=null):t&&"object"==typeof t?(n=t,t=e=null):n=$;else if("object"!=typeof n)throw Error(A+"Argument not an object: "+n);if(r=i.toFixed(t,e),i.c){var o,a=r.split("."),s=+n.groupSize,u=+n.secondaryGroupSize,c=n.groupSeparator||"",f=a[0],l=a[1],h=i.s<0,d=h?f.slice(1):f,p=d.length;if(u&&(o=s,s=u,u=o,p-=o),s>0&&p>0){for(o=p%s||s,f=d.substr(0,o);o<p;o+=s)f+=c+d.substr(o,s);u>0&&(f+=c+d.slice(o)),h&&(f="-"+f)}r=l?f+(n.decimalSeparator||"")+((u=+n.fractionGroupSize)?l.replace(new RegExp("\\d{"+u+"}\\B","g"),"$&"+(n.fractionGroupSeparator||"")):l):f}return(n.prefix||"")+r+(n.suffix||"")},h.toFraction=function(t){var e,r,i,o,a,s,u,c,f,l,h,p,y=this,b=y.c;if(null!=t&&(!(u=new q(t)).isInteger()&&(u.c||1!==u.s)||u.lt(d)))throw Error(A+"Argument "+(u.isInteger()?"out of range: ":"not an integer: ")+J(u));if(!b)return new q(y);for(e=new q(d),f=r=new q(d),i=c=new q(d),p=j(b),a=e.e=p.length-y.e-1,e.c[0]=I[(s=a%T)<0?T+s:s],t=!t||u.comparedTo(e)>0?a>0?e:f:u,s=w,w=1/0,u=new q(p),c.c[0]=0;l=n(u,e,0,1),1!=(o=r.plus(l.times(i))).comparedTo(t);)r=i,i=o,f=c.plus(l.times(o=f)),c=o,e=u.minus(l.times(o=e)),u=o;return o=n(t.minus(r),i,0,1),c=c.plus(o.times(f)),r=r.plus(o.times(i)),c.s=f.s=y.s,h=n(f,i,a*=2,g).minus(y).abs().comparedTo(n(c,r,a,g).minus(y).abs())<1?[f,i]:[c,r],w=s,h},h.toNumber=function(){return+J(this)},h.toPrecision=function(t,e){return null!=t&&L(t,1,B),G(this,t,e,2)},h.toString=function(t){var e,n=this,i=n.s,o=n.e;return null===o?i?(e="Infinity",i<0&&(e="-"+e)):e="NaN":(null==t?e=o<=y||o>=b?D(j(n.c),o):M(j(n.c),o,"0"):10===t&&F?e=M(j((n=X(new q(n),p+o+1,g)).c),n.e,"0"):(L(t,2,H.length,"Base"),e=r(M(j(n.c),o,"0"),10,t,i,!0)),i<0&&n.c[0]&&(e="-"+e)),e},h.valueOf=h.toJSON=function(){return J(this)},h._isBigNumber=!0,h[Symbol.toStringTag]="BigNumber",h[Symbol.for("nodejs.util.inspect.custom")]=h.valueOf,null!=e&&q.set(e),q})();n.p,n.p,n.p,n(96763),n(62045).hp;n(96763);var z=(t=>(t[t.ZERO=0]="ZERO",t[t.LOW=.1]="LOW",t[t.MEDIUM=.5]="MEDIUM",t[t.HIGH=.9]="HIGH",t[t.URGENT=1]="URGENT",t))(z||{});const $=t=>t.replace(/[A-Z]/g,(t=>`_${t.toLowerCase()}`));function H(t){if(!t||"object"!=typeof t)return t;const e={};return Object.keys(t).forEach((n=>{if(Object.prototype.hasOwnProperty.call(t,n)){const r=$(n);let i=t[n];Array.isArray(i)?i=i.map((t=>H(t))):"object"==typeof i&&(i=H(i)),e[r]=i}})),e}function F(t){return t.map((t=>H(t)))}var q=(t=>(t[t.transactions=1]="transactions",t[t.particle=2]="particle",t[t.chat=3]="chat",t))(q||{}),G=(t=>(t[t.particle=0]="particle",t[t.embedding=1]="embedding",t))(G||{}),W=n(96763);const V=async t=>{W.log(" [initial]fetch initial particles...");const e=(await(async(t=0,e=50)=>{try{return(await(0,d.A)({method:"get",url:`${b}/cyber/rank/v1beta1/rank/top`,params:{"pagination.page":t,"pagination.perPage":e}})).data}catch(t){return{}}})(0,400)).result.map((({particle:t})=>({id:t,data:"",jobType:G.particle,priority:z.LOW})));await t(F(e))};var X=async t=>{const e=await t.getDbVersion();if(W.log(`* db version - ${e}`),e<1.2){W.log("⚡️ Migrating to 1.1"),W.log("    add job_type field to sync_queue");const e=await t.runCommand("\n        ?[id,status,priority, job_type, data] := *sync_queue{id,status,priority}, job_type=0, data='';\n        :replace sync_queue {\n            id: String,\n            job_type: Int default 0 =>\n            data: String default '',\n            status: Int default 0,\n            priority: Float default 0,\n        }\n    ");W.log(`       ok: ${e.ok}`);try{W.log("    create embeddings relation");const e=await t.runCommand("\n        :create embeddings {\n            cid: String =>\n            vec: <F32; 384>\n        }\n      ");W.log(`       ok: ${e.ok}`)}catch(t){W.log("* embeddings already exist")}try{W.log("    create embeddings:semantic index");const e=await t.runCommand("\n        ::hnsw create embeddings:semantic{\n            fields: [vec],\n            dim: 384,\n            ef: 100,\n            m: 16\n        }\n    ");W.log(`       ok: ${e.ok}`)}catch(t){W.log("* embeddings semantics already exist")}W.log("    fill queue to calculate embeddings for all particles");const n=await t.runCommand('\n        ?[id, data, job_type, status, priority] := *particle{cid, text, mime}, mime="text/plain", job_type=1, status=0, priority=0.5, id = cid, data=text\n\n        :put sync_queue {\n            id,\n            job_type =>\n            data,\n            status,\n            priority,\n        }\n    ');return W.log(`       ok: ${n.ok}`),await t.setDbVersion(Z),!0}return!1},J=n(96763);const Y="cyb-cozo-idb",K="cozodb",Z=1.2;let Q=!1;var tt=function(){let t,e,n,i={};const o=((t={})=>{const e=new BroadcastChannel(a);function n(n,r,i){const o={...t,...i};i?.error&&(o.error=JSON.stringify(i.error)),e.postMessage({type:"log",value:{level:n,message:r,context:o}})}return{info:function(t,e){return n("info",t,e)},error:function(t,e){return n("error",t,e)},warn:function(t,e){return n("warn",t,e)},trace:function(t,e){return n("warn",t,e)}}})({thread:"cozo"});async function s(e){n=e,await(0,r.Ay)(),await(async()=>{t=await r.yD.new_from_indexed_db(Y,K,n),await d()})(),await g()}const u=async()=>{const t=await(async()=>(await y("::relations")).rows.map((t=>t[0])))(),n=await Promise.all(t.map((async t=>[t,await(async t=>{const e=(({rows:t,headers:e})=>t.map((t=>{const n={};return t.forEach(((t,r)=>{const i=e[r];n[i]=t})),n})))(await y(`::columns ${t}`));return{keys:e.filter((t=>t.is_key)).map((t=>t.column)),values:e.filter((t=>!t.is_key)).map((t=>t.column)),columns:e.reduce(((t,e)=>(t[e.column]=e,t)),{})}})(t)])));return i=Object.fromEntries(n),o.info("cozoDb schema initialized: ",{data:[i,t,n]}),e=function(t){const e=t,n=(t,n="put",r=[])=>{const{keys:i,values:o}=e[t],a=o.length>0,s=r.length>0?r.filter((t=>o.includes(t))):o;return a?`:${n} ${t} {${i} => ${s}}`:`:${n} ${t} {${i}}`},r=(e,n,r=[])=>{const i=t[e],o=r.length>0?Object.keys(i.columns).reduce(((t,e)=>(r.includes(e)&&(t[e]=i.columns[e]),t)),{}):i.columns,a=Object.keys(o),s=Object.values(o);return`?[${a.join(", ")}] <- [${n.map((t=>l(t,s))).join(", ")}]`};return{generateModifyCommand:n,generateAtomCommand:r,generatePut:(t,e)=>{const i=Object.keys(e[0]);return`${r(t,e,i)}\r\n${n(t,"put")}`},generateGet:(e,n=[],r=[],i=[],o={})=>{const a=t[e],s=n.length>0?n:Object.keys(a.columns),u=[...s,...i],c=r.length>0?`, ${r.join(", ")} `:"",f=o.orderBy?`:order ${o.orderBy}`:"",l=o.limit?`:limit ${o.limit}`:"",h=o.limit?`:offset ${o.offset}`:"";return`?[${s.join(", ")}] := *${e}{${u.join(", ")}} ${c} ${f} ${l} ${h}`},generateUpdate:(t,e)=>{const i=Object.keys(e[0]);return`${r(t,e,i)}\r\n${n(t,"update",i)}`},generateRm:(t,n)=>{const{keys:i}=e[t],o=r(t,n,i),a=((t,e)=>`:rm ${t} {${e}}`)(t,i);return`${o}\r\n${a}`}}}(i),o.info("cozoDb schema initialized: ",{data:[i,t,n]}),i},d=async()=>{if(await u(),Q=0===Object.keys(i).length,Q){o.info("   cozoDb - apply DB schema",h);await y(h);await u(),await p(Z),await V((async t=>{J.log(" [initial]save initial particles..."),await b("sync_queue",t)}))}},p=async t=>await b("config",[{key:"DB_VERSION",group_key:"system",value:t}]),g=async()=>{i.transaction.values.includes("block_height")||(o.info("💀 HARD RESET experemental db..."),await async function(t,e){return new Promise(((n,r)=>{const i=indexedDB.open(t);i.onerror=t=>{r(new Error(`Database error: ${i.error?.message}`))},i.onsuccess=o=>{const a=i.result,s=a.transaction(e,"readwrite"),u=s.objectStore(e).clear();u.onsuccess=()=>{f.log(`Store cleared ${t}/${e}`),n()},u.onerror=()=>{r(new Error(`Error clearing the store: ${u.error?.message}`))},s.oncomplete=()=>{a.close()}}}))}(Y,K),await s(n),await p(Z))},y=async(e,n=!1)=>{if(!t)throw new Error("DB is not initialized");const r=await t.run(e,"",n),i=JSON.parse(r);if(!i.ok)throw J.log("----\x3e runCommand error ",e,i),new c(i);return i},b=async(t,n)=>{if(0===n.length)throw new c({code:"-1",message:`cant PUT [] into ${t}`,display:"",severity:"",ok:!1});return y(e.generatePut(t,n))},m=async(t,n=[],r=[],i=[],o={})=>y(e.generateGet(t,n,r,i,o),!0);return{init:s,put:b,get:m,rm:async(t,n)=>y(e.generateRm(t,n)),update:async(t,n)=>y(e.generateUpdate(t,n)),runCommand:y,getCommandFactory:()=>e,importRelations:e=>JSON.parse(t.import_relations(e)),exportRelations:e=>JSON.parse(t.export_relations(JSON.stringify({relations:e}))),getDbVersion:async()=>{const t=await m("config",["value"],['key = "DB_VERSION"'],["key"]);return t.rows?.[0]?.[0]||0},setDbVersion:p,loadDbSchema:u}}(),et=n(96763);const nt=Symbol("Comlink.proxy"),rt=Symbol("Comlink.endpoint"),it=Symbol("Comlink.releaseProxy"),ot=Symbol("Comlink.finalizer"),at=Symbol("Comlink.thrown"),st=t=>"object"==typeof t&&null!==t||"function"==typeof t,ut=new Map([["proxy",{canHandle:t=>st(t)&&t[nt],serialize(t){const{port1:e,port2:n}=new MessageChannel;return ct(t,e),[n,[n]]},deserialize(t){return t.start(),gt(t,[],e);var e}}],["throw",{canHandle:t=>st(t)&&at in t,serialize({value:t}){let e;return e=t instanceof Error?{isError:!0,value:{message:t.message,name:t.name,stack:t.stack}}:{isError:!1,value:t},[e,[]]},deserialize(t){if(t.isError)throw Object.assign(new Error(t.value.message),t.value);throw t.value}}]]);function ct(t,e=globalThis,n=["*"]){e.addEventListener("message",(function r(i){if(!i||!i.data)return;if(!function(t,e){for(const n of t){if(e===n||"*"===n)return!0;if(n instanceof RegExp&&n.test(e))return!0}return!1}(n,i.origin))return void et.warn(`Invalid origin '${i.origin}' for comlink proxy`);const{id:o,type:a,path:s}=Object.assign({path:[]},i.data),u=(i.data.argumentList||[]).map(_t);let c;try{const e=s.slice(0,-1).reduce(((t,e)=>t[e]),t),n=s.reduce(((t,e)=>t[e]),t);switch(a){case"GET":c=n;break;case"SET":e[s.slice(-1)[0]]=_t(i.data.value),c=!0;break;case"APPLY":c=n.apply(e,u);break;case"CONSTRUCT":c=mt(new n(...u));break;case"ENDPOINT":{const{port1:e,port2:n}=new MessageChannel;ct(t,n),c=function(t,e){return bt.set(t,e),t}(e,[e])}break;case"RELEASE":c=void 0;break;default:return}}catch(t){c={value:t,[at]:0}}Promise.resolve(c).catch((t=>({value:t,[at]:0}))).then((n=>{const[i,s]=wt(n);e.postMessage(Object.assign(Object.assign({},i),{id:o}),s),"RELEASE"===a&&(e.removeEventListener("message",r),ft(e),ot in t&&"function"==typeof t[ot]&&t[ot]())})).catch((t=>{const[n,r]=wt({value:new TypeError("Unserializable return value"),[at]:0});e.postMessage(Object.assign(Object.assign({},n),{id:o}),r)}))})),e.start&&e.start()}function ft(t){(function(t){return"MessagePort"===t.constructor.name})(t)&&t.close()}function lt(t){if(t)throw new Error("Proxy has been released and is not useable")}function ht(t){return vt(t,{type:"RELEASE"}).then((()=>{ft(t)}))}const dt=new WeakMap,pt="FinalizationRegistry"in globalThis&&new FinalizationRegistry((t=>{const e=(dt.get(t)||0)-1;dt.set(t,e),0===e&&ht(t)}));function gt(t,e=[],n=function(){}){let r=!1;const i=new Proxy(n,{get(n,o){if(lt(r),o===it)return()=>{!function(t){pt&&pt.unregister(t)}(i),ht(t),r=!0};if("then"===o){if(0===e.length)return{then:()=>i};const n=vt(t,{type:"GET",path:e.map((t=>t.toString()))}).then(_t);return n.then.bind(n)}return gt(t,[...e,o])},set(n,i,o){lt(r);const[a,s]=wt(o);return vt(t,{type:"SET",path:[...e,i].map((t=>t.toString())),value:a},s).then(_t)},apply(n,i,o){lt(r);const a=e[e.length-1];if(a===rt)return vt(t,{type:"ENDPOINT"}).then(_t);if("bind"===a)return gt(t,e.slice(0,-1));const[s,u]=yt(o);return vt(t,{type:"APPLY",path:e.map((t=>t.toString())),argumentList:s},u).then(_t)},construct(n,i){lt(r);const[o,a]=yt(i);return vt(t,{type:"CONSTRUCT",path:e.map((t=>t.toString())),argumentList:o},a).then(_t)}});return function(t,e){const n=(dt.get(e)||0)+1;dt.set(e,n),pt&&pt.register(t,e,t)}(i,t),i}function yt(t){const e=t.map(wt);return[e.map((t=>t[0])),(n=e.map((t=>t[1])),Array.prototype.concat.apply([],n))];var n}const bt=new WeakMap;function mt(t){return Object.assign(t,{[nt]:!0})}function wt(t){for(const[e,n]of ut)if(n.canHandle(t)){const[r,i]=n.serialize(t);return[{type:"HANDLER",name:e,value:r},i]}return[{type:"RAW",value:t},bt.get(t)||[]]}function _t(t){switch(t.type){case"HANDLER":return ut.get(t.name).deserialize(t.value);case"RAW":return t.value}}function vt(t,e,n){return new Promise((r=>{const i=new Array(4).fill(0).map((()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16))).join("-");t.addEventListener("message",(function e(n){n.data&&n.data.id&&n.data.id===i&&(t.removeEventListener("message",e),r(n.data))})),t.start&&t.start(),t.postMessage(Object.assign({id:i},e),n)}))}function Et(t){return{async*[Symbol.asyncIterator](){let e=!1;for(;!e;){const n=new Promise((n=>{t.onmessage=t=>{null===t.data?(e=!0,n(null)):n(t.data)}})),r=await n;null!==r&&(yield r)}}}}const St={canHandle:t=>t&&t.result&&"function"==typeof t.result[Symbol.asyncIterator],serialize(t){if(void 0===t)return[null,[]];const{result:e,...n}=t,{port1:r,port2:i}=new MessageChannel;return e&&(async()=>{for await(const t of e)r.postMessage(t);r.postMessage(null),r.close()})(),[{...n,port:i},[i]]},deserialize(t){if(!t)return;const{port:e,...n}=t;return{...n,result:Et(e)}}};var Ot=n(93776),At=n(64423),kt=n(65606),Ct=n(96763);"undefined"!=typeof SharedWorker&&kt.env.IS_DEV;function Tt(){ut.set("IPFSContent",St),ut.set("observable",{canHandle:t=>t instanceof Ot.c,deserialize:t=>new Ot.c((e=>{const n=ut.get("proxy").deserialize(t);n.subscribe(mt({next:t=>e.next(t),error:t=>e.error(t),complete:()=>e.complete()})).then((t=>e.add((()=>{t.unsubscribe(),n[it]()}))))})),serialize:t=>ut.get("proxy").serialize({subscribe:e=>t.subscribe({next:t=>e.next(t).then(),error:t=>e.error(t).then(),complete:()=>e.complete().then()})})}),ut.set("subscription",{canHandle:t=>t instanceof At.yU,deserialize:t=>new At.yU((()=>{const e=ut.get("proxy").deserialize(t);e.unsubscribe().then((()=>{e[it]()}))})),serialize:t=>ut.get("proxy").serialize({unsubscribe:()=>t.unsubscribe()})})}function xt(t){const e={log:{original:Ct.log},error:{original:Ct.error},warn:{original:Ct.warn}},n=n=>{const{original:r}=e[n];e[n].original=Ct[n],Ct[n]=(...e)=>{r.apply(Ct,e);const i=e.map((t=>function(t){try{return JSON.stringify(t)}catch(e){return String(t)}}(t)));t.postMessage({type:"console",method:n,args:i})}};Object.keys(e).forEach((t=>n(t)))}var It=n(72972);n(96763);"function"==typeof Symbol&&Symbol.observable;var Nt=function(){return Math.random().toString(36).substring(7).split("").join(".")};Nt(),Nt();function Bt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce((function(t,e){return function(){return t(e.apply(void 0,arguments))}}))}n(96763),n(65606);var Pt,jt=(Pt=function(t,e){return Pt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},Pt(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Pt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ut=function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Lt=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},Rt=Object.defineProperty,Dt=Object.defineProperties,Mt=Object.getOwnPropertyDescriptors,zt=Object.getOwnPropertySymbols,$t=Object.prototype.hasOwnProperty,Ht=Object.prototype.propertyIsEnumerable,Ft=function(t,e,n){return e in t?Rt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},qt=function(t,e){for(var n in e||(e={}))$t.call(e,n)&&Ft(t,n,e[n]);if(zt)for(var r=0,i=zt(e);r<i.length;r++){n=i[r];Ht.call(e,n)&&Ft(t,n,e[n])}return t},Gt=function(t,e){return Dt(t,Mt(e))},Wt=function(t,e,n){return new Promise((function(r,i){var o=function(t){try{s(n.next(t))}catch(t){i(t)}},a=function(t){try{s(n.throw(t))}catch(t){i(t)}},s=function(t){return t.done?r(t.value):Promise.resolve(t.value).then(o,a)};s((n=n.apply(t,e)).next())}))};"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__,"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;(function(t){function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}jt(e,t),Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.prototype.concat.apply(this,e)},e.prototype.prepend=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return 1===t.length&&Array.isArray(t[0])?new(e.bind.apply(e,Lt([void 0],t[0].concat(this)))):new(e.bind.apply(e,Lt([void 0],t.concat(this))))}})(Array),function(t){function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}jt(e,t),Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.prototype.concat.apply(this,e)},e.prototype.prepend=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return 1===t.length&&Array.isArray(t[0])?new(e.bind.apply(e,Lt([void 0],t[0].concat(this)))):new(e.bind.apply(e,Lt([void 0],t.concat(this))))}}(Array);function Vt(t){return(0,It.a6)(t)?(0,It.Ay)(t,(function(){})):t}function Xt(t,e){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(e){var i=e.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return qt(qt({type:t,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:t,payload:n[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(e){return e.type===t},n}function Jt(t){var e,n={},r=[],i={addCase:function(t,e){var r="string"==typeof t?t:t.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=e,i},addMatcher:function(t,e){return r.push({matcher:t,reducer:e}),i},addDefaultCase:function(t){return e=t,i}};return t(i),[n,r,e]}function Yt(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof t.initialState?t.initialState:Vt(t.initialState),i=t.reducers||{},o=Object.keys(i),a={},s={},u={};function c(){var e="function"==typeof t.extraReducers?Jt(t.extraReducers):[t.extraReducers],n=e[0],i=void 0===n?{}:n,o=e[1],a=void 0===o?[]:o,u=e[2],c=void 0===u?void 0:u,f=qt(qt({},i),s);return function(t,e,n,r){void 0===n&&(n=[]);var i,o="function"==typeof e?Jt(e):[e,n,r],a=o[0],s=o[1],u=o[2];if("function"==typeof t)i=function(){return Vt(t())};else{var c=Vt(t);i=function(){return c}}function f(t,e){void 0===t&&(t=i());var n=Lt([a[e.type]],s.filter((function(t){return(0,t.matcher)(e)})).map((function(t){return t.reducer})));return 0===n.filter((function(t){return!!t})).length&&(n=[u]),n.reduce((function(t,n){if(n){var r;if((0,It.Qx)(t))return void 0===(r=n(t,e))?t:r;if((0,It.a6)(t))return(0,It.Ay)(t,(function(t){return n(t,e)}));if(void 0===(r=n(t,e))){if(null===t)return t;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return t}),t)}return f.getInitialState=i,f}(r,(function(t){for(var e in f)t.addCase(e,f[e]);for(var n=0,r=a;n<r.length;n++){var i=r[n];t.addMatcher(i.matcher,i.reducer)}c&&t.addDefaultCase(c)}))}return o.forEach((function(t){var n,r,o=i[t],c=function(t,e){return t+"/"+e}(e,t);"reducer"in o?(n=o.reducer,r=o.prepare):n=o,a[t]=n,s[c]=n,u[t]=r?Xt(c,r):Xt(c)})),{name:e,reducer:function(t,e){return n||(n=c()),n(t,e)},actions:u,caseReducers:a,getInitialState:function(){return n||(n=c()),n.getInitialState()}}}var Kt=function(t){void 0===t&&(t=21);for(var e="",n=t;n--;)e+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return e},Zt=["name","message","stack","code"],Qt=function(t,e){this.payload=t,this.meta=e},te=function(t,e){this.payload=t,this.meta=e},ee=function(t){if("object"==typeof t&&null!==t){for(var e={},n=0,r=Zt;n<r.length;n++){var i=r[n];"string"==typeof t[i]&&(e[i]=t[i])}return e}return{message:String(t)}},ne=function(){function t(t,e,n){var r=Xt(t+"/fulfilled",(function(t,e,n,r){return{payload:t,meta:Gt(qt({},r||{}),{arg:n,requestId:e,requestStatus:"fulfilled"})}})),i=Xt(t+"/pending",(function(t,e,n){return{payload:void 0,meta:Gt(qt({},n||{}),{arg:e,requestId:t,requestStatus:"pending"})}})),o=Xt(t+"/rejected",(function(t,e,r,i,o){return{payload:i,error:(n&&n.serializeError||ee)(t||"Rejected"),meta:Gt(qt({},o||{}),{arg:r,requestId:e,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==t?void 0:t.name),condition:"ConditionError"===(null==t?void 0:t.name)})}})),a="undefined"!=typeof AbortController?AbortController:function(){function t(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return t.prototype.abort=function(){0},t}();return Object.assign((function(t){return function(s,u,c){var f,l=(null==n?void 0:n.idGenerator)?n.idGenerator(t):Kt(),h=new a;function d(t){f=t,h.abort()}var p=function(){return Wt(this,null,(function(){var a,p,g,y,b,m;return Ut(this,(function(w){switch(w.label){case 0:return w.trys.push([0,4,,5]),y=null==(a=null==n?void 0:n.condition)?void 0:a.call(n,t,{getState:u,extra:c}),null===(_=y)||"object"!=typeof _||"function"!=typeof _.then?[3,2]:[4,y];case 1:y=w.sent(),w.label=2;case 2:if(!1===y||h.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return!0,b=new Promise((function(t,e){return h.signal.addEventListener("abort",(function(){return e({name:"AbortError",message:f||"Aborted"})}))})),s(i(l,t,null==(p=null==n?void 0:n.getPendingMeta)?void 0:p.call(n,{requestId:l,arg:t},{getState:u,extra:c}))),[4,Promise.race([b,Promise.resolve(e(t,{dispatch:s,getState:u,extra:c,requestId:l,signal:h.signal,abort:d,rejectWithValue:function(t,e){return new Qt(t,e)},fulfillWithValue:function(t,e){return new te(t,e)}})).then((function(e){if(e instanceof Qt)throw e;return e instanceof te?r(e.payload,l,t,e.meta):r(e,l,t)}))])];case 3:return g=w.sent(),[3,5];case 4:return m=w.sent(),g=m instanceof Qt?o(null,l,t,m.payload,m.meta):o(m,l,t),[3,5];case 5:return n&&!n.dispatchConditionRejection&&o.match(g)&&g.meta.condition||s(g),[2,g]}var _}))}))}();return Object.assign(p,{abort:d,requestId:l,arg:t,unwrap:function(){return p.then(re)}})}}),{pending:i,rejected:o,fulfilled:r,typePrefix:t})}return t.withTypes=function(){return t},t}();function re(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}Object.assign;var ie="listenerMiddleware";Xt(ie+"/add"),Xt(ie+"/removeAll"),Xt(ie+"/remove");"function"==typeof queueMicrotask&&queueMicrotask.bind("undefined"!=typeof window?window:void 0!==n.g?n.g:globalThis);var oe,ae=function(t){return function(e){setTimeout(e,t)}};"undefined"!=typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:ae(10);(0,It.rF)();var se=n(22325);function ue(t){return Boolean(t.match(/^Qm[a-zA-Z0-9]{44}$/g))}var ce=n(96763);const fe={list:{isLoading:!1,data:[],error:void 0},chats:{},summary:{unreadCount:{total:0,particles:0,neurons:0}}};function le(t){t.entryType===q.chat&&t.meta.to&&(t.entryType=q.particle);const{meta:e}=t,n={timestamp:new Date(e.timestamp).toISOString(),transactionHash:t.transactionHash||t.hash||t.meta.transaction_hash||t.meta.hash||t.meta.transactionHash,memo:t.memo||e.memo,senseChatId:t.id,unreadCount:t.unreadCount||0};switch(t.entryType){case q.chat:case q.transactions:{const e=t.meta,{type:r}=e;let i=t.ownerId;if("cosmos.bank.v1beta1.MsgSend"===r){i=e.value.fromAddress}else if("cosmos.bank.v1beta1.MsgMultiSend"===r){i=e.value.inputs[0].address}Object.assign(n,{type:r,from:i,meta:t.meta.value});break}case q.particle:{const e=t.meta;Object.assign(n,{type:"cyber.graph.v1beta1.MsgCyberlink",from:e.neuron,meta:e,fromLog:!0});break}default:return{}}return n}const he=ne("sense/getSenseList",(async t=>(await t.getList()).map(le))),de=ne("sense/getSenseChat",(async({id:t,senseApi:e})=>{if(ue(t)){return(await e.getLinks(t)).map((e=>{if(0!==e.timestamp)return le({...e,id:t,entryType:q.particle,meta:e})})).filter(Boolean)}return(await e.getFriendItems(t)).map((e=>{const n=e.to?q.particle:q.chat;return le({...e,entryType:n,id:t,meta:e})}))})),pe=ne("sense/markAsRead",(async({id:t,senseApi:e})=>e.markAsRead(t))),ge={id:"",isLoading:!1,data:[],error:void 0,unreadCount:0};function ye(t,e){return t.data.slice(-5).some((t=>t.transactionHash===e.transactionHash))}const be=Yt({name:"sense",initialState:fe,reducers:{updateSenseList:{reducer:(t,e)=>{e.payload.forEach((e=>{const{senseChatId:n}=e;t.chats[n]||(t.chats[n]={...ge});const r=t.chats[n];Object.assign(r,{id:n,unreadCount:e.unreadCount||0}),ye(r,e)||(r.data=r.data.concat(e))})),be.caseReducers.orderSenseList(t)},prepare:t=>({payload:t.map(le)})},addSenseItem(t,e){const{id:n,item:r}=e.payload;t.chats[n].data.push({...r,meta:r.meta,status:"pending"});const i=t.list.data.filter((t=>t!==n));i.unshift(n),t.list.data=i},updateSenseItem(t,e){const{chatId:n,txHash:r,isSuccess:i}=e.payload,o=t.chats[n].data.find((t=>t.transactionHash===r));o&&(i?delete o.status:o.status="error")},orderSenseList(t){const e=Object.keys(t.chats).reduce(((e,n)=>{const r=t.chats[n];if(!r.data.length)return e;const i=r.data[r.data.length-1];return e.push({id:n,lastMsg:i}),e}),[]).sort(((t,e)=>Date.parse(e.lastMsg.timestamp)-Date.parse(t.lastMsg.timestamp)));t.list.data=e.map((t=>t.id))},reset:()=>fe},extraReducers:t=>{t.addCase(he.pending,(t=>{t.list.isLoading=!0})),t.addCase(he.fulfilled,((t,e)=>{t.list.isLoading=!1;const n=[];e.payload.forEach((e=>{const{senseChatId:r}=e;t.chats[r]||(t.chats[r]={...ge});const i=t.chats[r];Object.assign(i,{id:r,unreadCount:e.unreadCount||0}),ye(i,e)||(i.data=i.data.concat(e)),n.push(r)})),t.list.data=n})),t.addCase(he.rejected,((t,e)=>{ce.error(e),t.list.isLoading=!1,t.list.error=e.error.message})),t.addCase(de.pending,((t,e)=>{const{id:n}=e.meta.arg;t.chats[n]||(t.chats[n]={...ge}),t.chats[n].isLoading=!0})),t.addCase(de.fulfilled,((t,e)=>{const{id:n}=e.meta.arg,r=t.chats[n];r.isLoading=!1,r.id=n,r.data=e.payload})),t.addCase(de.rejected,((t,e)=>{ce.error(e);const n=t.chats[e.meta.arg.id];n.isLoading=!1,n.error=e.error.message})),t.addCase(pe.fulfilled,((t,e)=>{const{id:n}=e.meta.arg,r=t.chats[n],i=ue(n),{unreadCount:o}=r;t.summary.unreadCount.total-=o,i?t.summary.unreadCount.particles-=o:t.summary.unreadCount.neurons-=o,r.unreadCount=0}))}}),{addSenseItem:me,updateSenseItem:we,updateSenseList:_e,reset:ve}=((0,se.Mz)((t=>t.sense.chats),(t=>{let e=0,n=0;Object.values(t).forEach((({id:t,unreadCount:r})=>{ue(t)?e+=r:n+=r}));return{total:e+n,particles:e,neurons:n}})),be.actions);be.reducer;const Ee={POCKET:"pocket",POCKET_ACCOUNT:"pocketAccount"};function Se(t){const{defaultAccount:e,accounts:n}=t;e&&localStorage.setItem(Ee.POCKET,JSON.stringify({[e.name]:e.account})),n&&localStorage.setItem(Ee.POCKET_ACCOUNT,JSON.stringify(n))}const Oe=Yt({name:"pocket",initialState:{actionBar:{tweet:"tweet"},isInitialized:!1,defaultAccount:{name:null,account:null},accounts:null},reducers:{setDefaultAccount:(t,{payload:{name:e,account:n}})=>{t.defaultAccount={name:e,account:n||t.accounts?.[e]||null},Se(t)},setAccounts:(t,{payload:e})=>{t.accounts=e,Se(t)},setInitialized:t=>{t.isInitialized=!0},setStageTweetActionBar:(t,{payload:e})=>{t.actionBar.tweet=e},deleteAddress:(t,{payload:e})=>{t.accounts&&Object.keys(t.accounts).forEach((n=>{Object.keys(t.accounts[n]).forEach((r=>{if(t.accounts[n][r].bech32===e){if(delete t.accounts[n][r],0===Object.keys(t.accounts[n]).length&&delete t.accounts[n],t.defaultAccount?.account?.cyber?.bech32===e){const e=Object.entries(t.accounts).find((([,t])=>t.cyber?.bech32));t.defaultAccount=e?{name:e[0],account:e[1]}:{name:null,account:null}}Se(t)}}))}))}}}),{setDefaultAccount:Ae,setAccounts:ke,setStageTweetActionBar:Ce,deleteAddress:Te}=Oe.actions;Oe.reducer;var xe=class{constructor(){this.channel=new BroadcastChannel("cyb-broadcast-channel")}postServiceStatus(t,e,n){this.channel.postMessage({type:"service_status",value:{name:t,status:e,message:n}})}postSyncEntryProgress(t,e){this.channel.postMessage({type:"sync_entry",value:{entry:t,state:e}})}postMlSyncEntryProgress(t,e){this.channel.postMessage({type:"sync_ml_entry",value:{entry:t,state:e}})}postSenseUpdate(t){t.length>0&&this.channel.postMessage(_e(t))}postSetDefaultAccount(t,e){this.channel.postMessage(Ae({name:t,account:e}))}post(t){this.channel.postMessage(t)}},Ie=n(96763);const Ne=(()=>{let t=!1;const e=new xe,n=t=>e.postServiceStatus("db",t);return{isInitialized:async()=>t,init:async()=>{if(n("starting"),t)return Ie.log("cozo db - already initialized!"),n("started"),Promise.resolve();Ie.time("🔋 cozo db initialized"),await tt.init((t=>{}));return await X(tt)&&await tt.loadDbSchema(),Ie.timeEnd("🔋 cozo db initialized"),t=!0,setTimeout((()=>{n("started")}),0),Promise.resolve()},runCommand:async(t,e)=>tt.runCommand(t,e),executeRmCommand:async(t,e)=>tt.rm(t,e),executePutCommand:async(t,e)=>tt.put(t,e),executeBatchPutCommand:async(t,e,n=e.length,r)=>{const{getCommandFactory:i,runCommand:o}=tt,a=i(),s=a.generateModifyCommand(t,"put");for(let i=0;i<e.length;i+=n){const u=e.slice(i,i+n),c=a.generateAtomCommand(t,u);await o([c,s].join("\r\n")),r&&r(i+u.length)}return{ok:!0}},executeUpdateCommand:async(t,e)=>tt.update(t,e),executeGetCommand:async(t,e,n,r,i={})=>tt.get(t,e,n,r,i),importRelations:async t=>tt.importRelations(t),exportRelations:async t=>tt.exportRelations(t)}})();var Be,Pe;Be=self,Pe=Ne,Tt(),void 0!==Be.onconnect?Be.onconnect=t=>{const e=t.ports[0];xt(e),ct(Pe,e)}:ct(Pe)},251:function(t,e){e.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,f=-7,l=n?i-1:0,h=n?-1:1,d=t[e+l];for(l+=h,o=d&(1<<-f)-1,d>>=-f,f+=s;f>0;o=256*o+t[e+l],l+=h,f-=8);for(a=o&(1<<-f)-1,o>>=-f,f+=r;f>0;a=256*a+t[e+l],l+=h,f-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=c}return(d?-1:1)*a*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var a,s,u,c=8*o-i-1,f=(1<<c)-1,l=f>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=f):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),(e+=a+l>=1?h/u:h*Math.pow(2,1-l))*u>=2&&(a++,u/=2),a+l>=f?(s=0,a=f):a+l>=1?(s=(e*u-1)*Math.pow(2,i),a+=l):(s=e*Math.pow(2,l-1)*Math.pow(2,i),a=0));i>=8;t[n+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;t[n+d]=255&a,d+=p,a/=256,c-=8);t[n+d-p]|=128*g}},22322:function(t,e,n){"use strict";const r=n(25623)(n(34001)).Data,i=["raw","directory","file","metadata","symlink","hamt-sharded-directory"],o=["directory","hamt-sharded-directory"];function a(t,e){if(!(this instanceof a))return new a(t,e);if(-1===i.indexOf(t))throw new Error("Type: "+t+" is not valid");this.type=t,this.data=e,this.blockSizes=[],"file"===this.type&&(this.mode=parseInt("0644",8)),"directory"!==this.type&&"hamt-sharded-directory"!==this.type||(this.mode=parseInt("0755",8)),this.addBlockSize=t=>{this.blockSizes.push(t)},this.removeBlockSize=t=>{this.blockSizes.splice(t,1)},this.fileSize=()=>{if(o.indexOf(this.type)>=0)return;let t=0;return this.blockSizes.forEach((e=>{t+=e})),e&&(t+=e.length),t},this.marshal=()=>{let t;switch(this.type){case"raw":t=r.DataType.Raw;break;case"directory":t=r.DataType.Directory;break;case"file":t=r.DataType.File;break;case"metadata":t=r.DataType.Metadata;break;case"symlink":t=r.DataType.Symlink;break;case"hamt-sharded-directory":t=r.DataType.HAMTShard;break;default:throw new Error(`Unkown type: "${this.type}"`)}let e=this.data;this.data&&this.data.length||(e=void 0);let n=this.blockSizes;return this.blockSizes&&this.blockSizes.length||(n=void 0),"directory"!==this.type&&"hamt-sharded-directory"!==this.type||this.mode!==parseInt("0755",8)||delete this.mode,"file"===this.type&&this.mode===parseInt("0644",8)&&delete this.mode,r.encode({Type:t,Data:e,filesize:this.fileSize(),blocksizes:n,hashType:this.hashType,fanout:this.fanout,mode:this.mode,mtime:this.mtime})}}a.unmarshal=t=>{const e=r.decode(t);e.Data||(e.Data=void 0);const n=new a(i[e.Type],e.Data);return n.blockSizes=e.blocksizes,e.mode&&(n.mode=e.mode),e.mtime&&(n.mtime=e.mtime),n},t.exports=a},37056:function(t,e,n){"use strict";const r=n(55935),i=r.cloneLinks,o=r.cloneData,a=r.toDAGLink,s=n(52747),u=n(49919),c=n(87975);t.exports=function(t,e,n){const r=i(t),f=o(t);!function(t,e){if(s.isDAGLink(t))return e(null,t);if(u.isDAGNode(t))return a(t,{},e);try{e(null,new s(t.name,t.size,t.multihash||t.hash||t.cid))}catch(t){return e(t)}}(e,((t,e)=>{if(t)return n(t);r.push(e),c(f,r,n)}))}},47290:function(t,e,n){"use strict";const r=n(55935),i=r.cloneLinks,o=r.cloneData,a=n(87975);t.exports=function(t,e){const n=o(t),r=i(t);a(n,r,e)}},87975:function(t,e,n){"use strict";var r=n(62045).hp;const i=n(63259),{serialize:o}=n(67063),a=n(55935).linkSort,s=n(49919),u=n(52747);t.exports=function(t,e,n){if("function"==typeof t?(n=t,t=void 0):"string"==typeof t&&(t=r.from(t)),"function"==typeof e&&(n=e,e=[]),!r.isBuffer(t))return n(new Error("Passed 'data' is not a buffer or a string!"));e=e.map((t=>u.isDAGLink(t)?t:u.util.createDagLinkFromB58EncodedHash(t))),e=i(e,a),o({data:t,links:e},((r,i)=>r?n(r):n(null,new s(t,e,i.length))))}},49919:function(t,e,n){"use strict";var r=n(62045).hp;const i=n(94148),o=n(45998);(e=t.exports=o(class{constructor(t,e,n){0!==n&&i(n,"A DAGNode requires it's serialized size"),this._data=t||r.alloc(0),this._links=e||[],this._serializedSize=n}toJSON(){return this._json||(this._json=Object.freeze({data:this.data,links:this.links.map((t=>t.toJSON())),size:this.size})),Object.assign({},this._json)}toString(){return`DAGNode <data: "${this.data.toString("base64")}", links: ${this.links.length}, size: ${this.size}>`}get data(){return this._data}set data(t){throw new Error("Can't set property: 'data' is immutable")}get links(){return this._links}set links(t){throw new Error("Can't set property: 'links' is immutable")}get size(){return void 0===this._size&&(this._size=this.links.reduce(((t,e)=>t+e.size),this._serializedSize)),this._size}set size(t){throw new Error("Can't set property: 'size' is immutable")}},{className:"DAGNode",symbolName:"@ipld/js-ipld-dag-pb/dagnode"})).create=n(87975),e.clone=n(47290),e.addLink=n(37056),e.rmLink=n(76594)},76594:function(t,e,n){"use strict";var r=n(62045).hp;const i=n(55935),o=i.cloneLinks,a=i.cloneData,s=n(87975),u=n(26613);t.exports=function(t,e,n){const i=a(t);let c=o(t);if("string"==typeof e)c=c.filter((t=>t.name!==e));else{if(!r.isBuffer(e)&&!u.isCID(e))return n(new Error("second arg needs to be a name or CID"),null);c=c.filter((t=>!t.cid.equals(e)))}s(i,c,n)}},47095:function(t,e,n){"use strict";n(49919),n(52747),n(72081),n(67063)},67063:function(t,e,n){"use strict";var r=n(62045).hp;const i=n(26613),o=n(25623)(n(6291)),a=n(72081),s=n(52747),u=n(49919),c=n(46266),f=n(25172),l=n(71281);function h(t,e){let n,{data:r,links:i=[]}=t;!u.isDAGNode(t)&&i&&(i=i.map((t=>s.isDAGLink(t)?t:s.util.createDagLinkFromB58EncodedHash(t))));try{n=o.PBNode.encode(function(t){const e={};t.data&&t.data.length>0?e.Data=t.data:e.Data=null;t.links&&t.links.length>0?e.Links=t.links.map((t=>({Hash:t.cid.buffer,Name:t.name,Tsize:t.size}))):e.Links=null;return e}({data:r,links:i}))}catch(t){return e(t)}e(null,n)}(e=t.exports).serialize=h,e.deserialize=function(t,e){const n=o.PBNode.decode(t),i=n.Links.map((t=>new s(t.Name,t.Tsize,t.Hash))),a=null==n.Data?r.alloc(0):n.Data;l((()=>e(null,new u(a,i,t.length))))},e.cid=function(t,e,n){"function"==typeof e&&(n=e,e={});const o=(e=e||{}).hashAlg||a.defaultHashAlg;let s=e.version;void 0===s&&(s="sha2-256"===o?0:1),f([e=>{if(r.isBuffer(t))return e(null,t);h(t,e)},(t,e)=>c(t,o,e),(t,e)=>e(null,new i(s,a.multicodec,t))],n)}},64423:function(t,e,n){"use strict";n.d(e,{Uv:function(){return u},yU:function(){return s}});var r=n(15215),i=n(61209),o=n(58909),a=n(6174),s=function(){function t(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}var e;return t.prototype.unsubscribe=function(){var t,e,n,a,s;if(!this.closed){this.closed=!0;var u=this._parentage;if(u)if(this._parentage=null,Array.isArray(u))try{for(var f=(0,r.Ju)(u),l=f.next();!l.done;l=f.next()){l.value.remove(this)}}catch(e){t={error:e}}finally{try{l&&!l.done&&(e=f.return)&&e.call(f)}finally{if(t)throw t.error}}else u.remove(this);var h=this.initialTeardown;if((0,i.T)(h))try{h()}catch(t){s=t instanceof o.Z?t.errors:[t]}var d=this._finalizers;if(d){this._finalizers=null;try{for(var p=(0,r.Ju)(d),g=p.next();!g.done;g=p.next()){var y=g.value;try{c(y)}catch(t){s=null!=s?s:[],t instanceof o.Z?s=(0,r.fX)((0,r.fX)([],(0,r.zs)(s)),(0,r.zs)(t.errors)):s.push(t)}}}catch(t){n={error:t}}finally{try{g&&!g.done&&(a=p.return)&&a.call(p)}finally{if(n)throw n.error}}}if(s)throw new o.Z(s)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)c(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}},t.prototype._hasParent=function(t){var e=this._parentage;return e===t||Array.isArray(e)&&e.includes(t)},t.prototype._addParent=function(t){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t},t.prototype._removeParent=function(t){var e=this._parentage;e===t?this._parentage=null:Array.isArray(e)&&(0,a.o)(e,t)},t.prototype.remove=function(e){var n=this._finalizers;n&&(0,a.o)(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=((e=new t).closed=!0,e),t}();s.EMPTY;function u(t){return t instanceof s||t&&"closed"in t&&(0,i.T)(t.remove)&&(0,i.T)(t.add)&&(0,i.T)(t.unsubscribe)}function c(t){(0,i.T)(t)?t():t.unsubscribe()}},83141:function(t,e,n){"use strict";var r=n(92861).Buffer,i=r.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(r.isEncoding===i||!i(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=u,this.end=c,e=4;break;case"utf8":this.fillLast=s,e=4;break;case"base64":this.text=f,this.end=l,e=3;break;default:return this.write=h,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(e)}function a(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function s(t){var e=this.lastTotal-this.lastNeed,n=function(t,e,n){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�"}}(this,t);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function u(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function c(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function f(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function l(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function h(t){return t.toString(this.encoding)}function d(t){return t&&t.length?this.write(t):""}e.StringDecoder=o,o.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},o.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e},o.prototype.text=function(t,e){var n=function(t,e,n){var r=e.length-1;if(r<n)return 0;var i=a(e[r]);if(i>=0)return i>0&&(t.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if(i=a(e[r]),i>=0)return i>0&&(t.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if(i=a(e[r]),i>=0)return i>0&&(2===i?i=0:t.lastNeed=i-3),i;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var r=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)},o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},15215:function(t,e,n){"use strict";n.d(e,{C6:function(){return i},Ju:function(){return o},fX:function(){return s},zs:function(){return a}});var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}Object.create;function o(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function a(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function s(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}Object.create},58689:function(t,e,n){"use strict";t.exports=n.p+"cyb_cozo_lib_wasm_bg.c4ccba3cd9.wasm"},85471:function(){},43281:function(){},66178:function(){},47790:function(){},73776:function(){},98285:function(){},38664:function(){},61626:function(){},21638:function(){},92668:function(){},8460:function(){},92382:function(){},77667:function(){},76447:function(){},63779:function(){},77199:function(){}},r={};function i(t){var e=r[t];if(void 0!==e)return e.exports;var o=r[t]={id:t,loaded:!1,exports:{}};return n[t].call(o.exports,o,o.exports,i),o.loaded=!0,o.exports}i.m=n,i.x=function(){var t=i.O(void 0,[667],(function(){return i(26160)}));return t=i.O(t)},i.amdO={},t=[],i.O=function(e,n,r,o){if(!n){var a=1/0;for(f=0;f<t.length;f++){n=t[f][0],r=t[f][1],o=t[f][2];for(var s=!0,u=0;u<n.length;u++)(!1&o||a>=o)&&Object.keys(i.O).every((function(t){return i.O[t](n[u])}))?n.splice(u--,1):(s=!1,o<a&&(a=o));if(s){t.splice(f--,1);var c=r();void 0!==c&&(e=c)}}return e}o=o||0;for(var f=t.length;f>0&&t[f-1][2]>o;f--)t[f]=t[f-1];t[f]=[n,r,o]},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,{a:e}),e},i.d=function(t,e){for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.f={},i.e=function(t){return Promise.all(Object.keys(i.f).reduce((function(e,n){return i.f[n](t,e),e}),[]))},i.u=function(t){return t+".3917b962.js"},i.miniCssF=function(t){},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.hmd=function(t){return(t=Object.create(t)).children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t},i.p="/",function(){i.b=self.location+"";var t={543:1};i.f.i=function(e,n){t[e]||importScripts(i.p+i.u(e))};var e=self.webpackChunkcyb=self.webpackChunkcyb||[],n=e.push.bind(e);e.push=function(e){var r=e[0],o=e[1],a=e[2];for(var s in o)i.o(o,s)&&(i.m[s]=o[s]);for(a&&a(i);r.length;)t[r.pop()]=1;n(e)}}(),e=i.x,i.x=function(){return i.e(667).then(e)};i.x()}();
//# sourceMappingURL=543.9321ad6b.chunk.js.map