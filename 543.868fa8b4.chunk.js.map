{"version":3,"file":"543.868fa8b4.chunk.js","mappings":"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","sources":["webpack://cyb/webpack/runtime/chunk loaded","webpack://cyb/webpack/runtime/startup chunk dependencies","webpack://cyb/./node_modules/@cosmjs/crypto/build/index.js","webpack://cyb/./node_modules/@cosmjs/encoding/build/index.js","webpack://cyb/./node_modules/@cosmjs/math/build/index.js","webpack://cyb/./node_modules/bech32/index.js","webpack://cyb/./node_modules/buffer/index.js","webpack://cyb/./node_modules/cyb-cozo-lib-wasm/indexeddb.js","webpack://cyb/./node_modules/cyb-cozo-lib-wasm/cyb_cozo_lib_wasm.js","webpack://cyb/./src/utils/logging/constants.ts","webpack://cyb/./src/utils/logging/cyblog.ts","webpack://cyb/./src/services/CozoDb/types/types.ts","webpack://cyb/./src/services/CozoDb/utils.ts","webpack://cyb/./src/utils/string.ts","webpack://cyb/./src/services/CozoDb/migrations/schema.cozo","webpack://cyb/./src/types/networks.ts","webpack://cyb/./src/constants/defaultNetworks.ts","webpack://cyb/./src/constants/config.ts","webpack://cyb/./src/constants/patterns.ts","webpack://cyb/./node_modules/bignumber.js/bignumber.mjs","webpack://cyb/./src/services/QueueManager/types.ts","webpack://cyb/./src/utils/dto.ts","webpack://cyb/./src/services/CozoDb/types/entities.ts","webpack://cyb/./src/services/CozoDb/migrations/migrations.ts","webpack://cyb/./src/utils/search/utils.ts","webpack://cyb/./src/services/CozoDb/cozoDb.ts","webpack://cyb/./src/services/CozoDb/cozoDbCommandFactory.ts","webpack://cyb/./node_modules/comlink/dist/esm/comlink.mjs","webpack://cyb/./src/services/backend/workers/serializers.ts","webpack://cyb/./src/services/backend/workers/factoryMethods.ts","webpack://cyb/./node_modules/redux/es/redux.js","webpack://cyb/./node_modules/@reduxjs/toolkit/dist/redux-toolkit.esm.js","webpack://cyb/./src/features/particle/utils.tsx","webpack://cyb/./src/features/sense/redux/sense.redux.ts","webpack://cyb/./src/constants/localStorageKeys.ts","webpack://cyb/./src/redux/features/pocket.ts","webpack://cyb/./src/utils/config.ts","webpack://cyb/./src/services/backend/channels/BroadcastChannelSender.ts","webpack://cyb/./src/services/backend/channels/consts.ts","webpack://cyb/./src/services/backend/workers/db/worker.ts","webpack://cyb/./node_modules/ieee754/index.js","webpack://cyb/./node_modules/ipfs-unixfs/src/index.js","webpack://cyb/./node_modules/ipld-dag-pb/src/dag-node/addLink.js","webpack://cyb/./node_modules/ipld-dag-pb/src/dag-node/clone.js","webpack://cyb/./node_modules/ipld-dag-pb/src/dag-node/create.js","webpack://cyb/./node_modules/ipld-dag-pb/src/dag-node/index.js","webpack://cyb/./node_modules/ipld-dag-pb/src/dag-node/rmLink.js","webpack://cyb/./node_modules/ipld-dag-pb/src/index.js","webpack://cyb/./node_modules/ipld-dag-pb/src/util.js","webpack://cyb/./node_modules/rxjs/dist/esm5/internal/Subscription.js","webpack://cyb/./node_modules/string_decoder/lib/string_decoder.js","webpack://cyb/./node_modules/tslib/tslib.es6.js","webpack://cyb/webpack/bootstrap","webpack://cyb/webpack/runtime/amd options","webpack://cyb/webpack/runtime/compat get default export","webpack://cyb/webpack/runtime/define property getters","webpack://cyb/webpack/runtime/ensure chunk","webpack://cyb/webpack/runtime/get javascript chunk filename","webpack://cyb/webpack/runtime/get mini-css chunk filename","webpack://cyb/webpack/runtime/global","webpack://cyb/webpack/runtime/harmony module decorator","webpack://cyb/webpack/runtime/hasOwnProperty shorthand","webpack://cyb/webpack/runtime/make namespace object","webpack://cyb/webpack/runtime/node module decorator","webpack://cyb/webpack/runtime/publicPath","webpack://cyb/webpack/runtime/importScripts chunk loading","webpack://cyb/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","var next = __webpack_require__.x;\n__webpack_require__.x = function() {\n\treturn __webpack_require__.e(667).then(next);\n};","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.stringToPath = exports.Slip10RawIndex = exports.slip10CurveFromString = exports.Slip10Curve = exports.Slip10 = exports.pathToString = exports.sha512 = exports.Sha512 = exports.sha256 = exports.Sha256 = exports.Secp256k1Signature = exports.ExtendedSecp256k1Signature = exports.Secp256k1 = exports.ripemd160 = exports.Ripemd160 = exports.Random = exports.Xchacha20poly1305Ietf = exports.xchacha20NonceLength = exports.isArgon2idOptions = exports.Ed25519Keypair = exports.Ed25519 = exports.Argon2id = exports.keccak256 = exports.Keccak256 = exports.Hmac = exports.EnglishMnemonic = exports.Bip39 = void 0;\nvar bip39_1 = require(\"./bip39\");\nObject.defineProperty(exports, \"Bip39\", { enumerable: true, get: function () { return bip39_1.Bip39; } });\nObject.defineProperty(exports, \"EnglishMnemonic\", { enumerable: true, get: function () { return bip39_1.EnglishMnemonic; } });\nvar hmac_1 = require(\"./hmac\");\nObject.defineProperty(exports, \"Hmac\", { enumerable: true, get: function () { return hmac_1.Hmac; } });\nvar keccak_1 = require(\"./keccak\");\nObject.defineProperty(exports, \"Keccak256\", { enumerable: true, get: function () { return keccak_1.Keccak256; } });\nObject.defineProperty(exports, \"keccak256\", { enumerable: true, get: function () { return keccak_1.keccak256; } });\nvar libsodium_1 = require(\"./libsodium\");\nObject.defineProperty(exports, \"Argon2id\", { enumerable: true, get: function () { return libsodium_1.Argon2id; } });\nObject.defineProperty(exports, \"Ed25519\", { enumerable: true, get: function () { return libsodium_1.Ed25519; } });\nObject.defineProperty(exports, \"Ed25519Keypair\", { enumerable: true, get: function () { return libsodium_1.Ed25519Keypair; } });\nObject.defineProperty(exports, \"isArgon2idOptions\", { enumerable: true, get: function () { return libsodium_1.isArgon2idOptions; } });\nObject.defineProperty(exports, \"xchacha20NonceLength\", { enumerable: true, get: function () { return libsodium_1.xchacha20NonceLength; } });\nObject.defineProperty(exports, \"Xchacha20poly1305Ietf\", { enumerable: true, get: function () { return libsodium_1.Xchacha20poly1305Ietf; } });\nvar random_1 = require(\"./random\");\nObject.defineProperty(exports, \"Random\", { enumerable: true, get: function () { return random_1.Random; } });\nvar ripemd_1 = require(\"./ripemd\");\nObject.defineProperty(exports, \"Ripemd160\", { enumerable: true, get: function () { return ripemd_1.Ripemd160; } });\nObject.defineProperty(exports, \"ripemd160\", { enumerable: true, get: function () { return ripemd_1.ripemd160; } });\nvar secp256k1_1 = require(\"./secp256k1\");\nObject.defineProperty(exports, \"Secp256k1\", { enumerable: true, get: function () { return secp256k1_1.Secp256k1; } });\nvar secp256k1signature_1 = require(\"./secp256k1signature\");\nObject.defineProperty(exports, \"ExtendedSecp256k1Signature\", { enumerable: true, get: function () { return secp256k1signature_1.ExtendedSecp256k1Signature; } });\nObject.defineProperty(exports, \"Secp256k1Signature\", { enumerable: true, get: function () { return secp256k1signature_1.Secp256k1Signature; } });\nvar sha_1 = require(\"./sha\");\nObject.defineProperty(exports, \"Sha256\", { enumerable: true, get: function () { return sha_1.Sha256; } });\nObject.defineProperty(exports, \"sha256\", { enumerable: true, get: function () { return sha_1.sha256; } });\nObject.defineProperty(exports, \"Sha512\", { enumerable: true, get: function () { return sha_1.Sha512; } });\nObject.defineProperty(exports, \"sha512\", { enumerable: true, get: function () { return sha_1.sha512; } });\nvar slip10_1 = require(\"./slip10\");\nObject.defineProperty(exports, \"pathToString\", { enumerable: true, get: function () { return slip10_1.pathToString; } });\nObject.defineProperty(exports, \"Slip10\", { enumerable: true, get: function () { return slip10_1.Slip10; } });\nObject.defineProperty(exports, \"Slip10Curve\", { enumerable: true, get: function () { return slip10_1.Slip10Curve; } });\nObject.defineProperty(exports, \"slip10CurveFromString\", { enumerable: true, get: function () { return slip10_1.slip10CurveFromString; } });\nObject.defineProperty(exports, \"Slip10RawIndex\", { enumerable: true, get: function () { return slip10_1.Slip10RawIndex; } });\nObject.defineProperty(exports, \"stringToPath\", { enumerable: true, get: function () { return slip10_1.stringToPath; } });\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.toUtf8 = exports.fromUtf8 = exports.toRfc3339 = exports.fromRfc3339 = exports.toHex = exports.fromHex = exports.toBech32 = exports.normalizeBech32 = exports.fromBech32 = exports.toBase64 = exports.fromBase64 = exports.toAscii = exports.fromAscii = void 0;\nvar ascii_1 = require(\"./ascii\");\nObject.defineProperty(exports, \"fromAscii\", { enumerable: true, get: function () { return ascii_1.fromAscii; } });\nObject.defineProperty(exports, \"toAscii\", { enumerable: true, get: function () { return ascii_1.toAscii; } });\nvar base64_1 = require(\"./base64\");\nObject.defineProperty(exports, \"fromBase64\", { enumerable: true, get: function () { return base64_1.fromBase64; } });\nObject.defineProperty(exports, \"toBase64\", { enumerable: true, get: function () { return base64_1.toBase64; } });\nvar bech32_1 = require(\"./bech32\");\nObject.defineProperty(exports, \"fromBech32\", { enumerable: true, get: function () { return bech32_1.fromBech32; } });\nObject.defineProperty(exports, \"normalizeBech32\", { enumerable: true, get: function () { return bech32_1.normalizeBech32; } });\nObject.defineProperty(exports, \"toBech32\", { enumerable: true, get: function () { return bech32_1.toBech32; } });\nvar hex_1 = require(\"./hex\");\nObject.defineProperty(exports, \"fromHex\", { enumerable: true, get: function () { return hex_1.fromHex; } });\nObject.defineProperty(exports, \"toHex\", { enumerable: true, get: function () { return hex_1.toHex; } });\nvar rfc3339_1 = require(\"./rfc3339\");\nObject.defineProperty(exports, \"fromRfc3339\", { enumerable: true, get: function () { return rfc3339_1.fromRfc3339; } });\nObject.defineProperty(exports, \"toRfc3339\", { enumerable: true, get: function () { return rfc3339_1.toRfc3339; } });\nvar utf8_1 = require(\"./utf8\");\nObject.defineProperty(exports, \"fromUtf8\", { enumerable: true, get: function () { return utf8_1.fromUtf8; } });\nObject.defineProperty(exports, \"toUtf8\", { enumerable: true, get: function () { return utf8_1.toUtf8; } });\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Uint64 = exports.Uint53 = exports.Uint32 = exports.Int53 = exports.Decimal = void 0;\nvar decimal_1 = require(\"./decimal\");\nObject.defineProperty(exports, \"Decimal\", { enumerable: true, get: function () { return decimal_1.Decimal; } });\nvar integers_1 = require(\"./integers\");\nObject.defineProperty(exports, \"Int53\", { enumerable: true, get: function () { return integers_1.Int53; } });\nObject.defineProperty(exports, \"Uint32\", { enumerable: true, get: function () { return integers_1.Uint32; } });\nObject.defineProperty(exports, \"Uint53\", { enumerable: true, get: function () { return integers_1.Uint53; } });\nObject.defineProperty(exports, \"Uint64\", { enumerable: true, get: function () { return integers_1.Uint64; } });\n//# sourceMappingURL=index.js.map","'use strict'\nvar ALPHABET = 'qpzry9x8gf2tvdw0s3jn54khce6mua7l'\n\n// pre-compute lookup table\nvar ALPHABET_MAP = {}\nfor (var z = 0; z < ALPHABET.length; z++) {\n  var x = ALPHABET.charAt(z)\n\n  if (ALPHABET_MAP[x] !== undefined) throw new TypeError(x + ' is ambiguous')\n  ALPHABET_MAP[x] = z\n}\n\nfunction polymodStep (pre) {\n  var b = pre >> 25\n  return ((pre & 0x1FFFFFF) << 5) ^\n    (-((b >> 0) & 1) & 0x3b6a57b2) ^\n    (-((b >> 1) & 1) & 0x26508e6d) ^\n    (-((b >> 2) & 1) & 0x1ea119fa) ^\n    (-((b >> 3) & 1) & 0x3d4233dd) ^\n    (-((b >> 4) & 1) & 0x2a1462b3)\n}\n\nfunction prefixChk (prefix) {\n  var chk = 1\n  for (var i = 0; i < prefix.length; ++i) {\n    var c = prefix.charCodeAt(i)\n    if (c < 33 || c > 126) return 'Invalid prefix (' + prefix + ')'\n\n    chk = polymodStep(chk) ^ (c >> 5)\n  }\n  chk = polymodStep(chk)\n\n  for (i = 0; i < prefix.length; ++i) {\n    var v = prefix.charCodeAt(i)\n    chk = polymodStep(chk) ^ (v & 0x1f)\n  }\n  return chk\n}\n\nfunction encode (prefix, words, LIMIT) {\n  LIMIT = LIMIT || 90\n  if ((prefix.length + 7 + words.length) > LIMIT) throw new TypeError('Exceeds length limit')\n\n  prefix = prefix.toLowerCase()\n\n  // determine chk mod\n  var chk = prefixChk(prefix)\n  if (typeof chk === 'string') throw new Error(chk)\n\n  var result = prefix + '1'\n  for (var i = 0; i < words.length; ++i) {\n    var x = words[i]\n    if ((x >> 5) !== 0) throw new Error('Non 5-bit word')\n\n    chk = polymodStep(chk) ^ x\n    result += ALPHABET.charAt(x)\n  }\n\n  for (i = 0; i < 6; ++i) {\n    chk = polymodStep(chk)\n  }\n  chk ^= 1\n\n  for (i = 0; i < 6; ++i) {\n    var v = (chk >> ((5 - i) * 5)) & 0x1f\n    result += ALPHABET.charAt(v)\n  }\n\n  return result\n}\n\nfunction __decode (str, LIMIT) {\n  LIMIT = LIMIT || 90\n  if (str.length < 8) return str + ' too short'\n  if (str.length > LIMIT) return 'Exceeds length limit'\n\n  // don't allow mixed case\n  var lowered = str.toLowerCase()\n  var uppered = str.toUpperCase()\n  if (str !== lowered && str !== uppered) return 'Mixed-case string ' + str\n  str = lowered\n\n  var split = str.lastIndexOf('1')\n  if (split === -1) return 'No separator character for ' + str\n  if (split === 0) return 'Missing prefix for ' + str\n\n  var prefix = str.slice(0, split)\n  var wordChars = str.slice(split + 1)\n  if (wordChars.length < 6) return 'Data too short'\n\n  var chk = prefixChk(prefix)\n  if (typeof chk === 'string') return chk\n\n  var words = []\n  for (var i = 0; i < wordChars.length; ++i) {\n    var c = wordChars.charAt(i)\n    var v = ALPHABET_MAP[c]\n    if (v === undefined) return 'Unknown character ' + c\n    chk = polymodStep(chk) ^ v\n\n    // not in the checksum?\n    if (i + 6 >= wordChars.length) continue\n    words.push(v)\n  }\n\n  if (chk !== 1) return 'Invalid checksum for ' + str\n  return { prefix: prefix, words: words }\n}\n\nfunction decodeUnsafe () {\n  var res = __decode.apply(null, arguments)\n  if (typeof res === 'object') return res\n}\n\nfunction decode (str) {\n  var res = __decode.apply(null, arguments)\n  if (typeof res === 'object') return res\n\n  throw new Error(res)\n}\n\nfunction convert (data, inBits, outBits, pad) {\n  var value = 0\n  var bits = 0\n  var maxV = (1 << outBits) - 1\n\n  var result = []\n  for (var i = 0; i < data.length; ++i) {\n    value = (value << inBits) | data[i]\n    bits += inBits\n\n    while (bits >= outBits) {\n      bits -= outBits\n      result.push((value >> bits) & maxV)\n    }\n  }\n\n  if (pad) {\n    if (bits > 0) {\n      result.push((value << (outBits - bits)) & maxV)\n    }\n  } else {\n    if (bits >= inBits) return 'Excess padding'\n    if ((value << (outBits - bits)) & maxV) return 'Non-zero padding'\n  }\n\n  return result\n}\n\nfunction toWordsUnsafe (bytes) {\n  var res = convert(bytes, 8, 5, true)\n  if (Array.isArray(res)) return res\n}\n\nfunction toWords (bytes) {\n  var res = convert(bytes, 8, 5, true)\n  if (Array.isArray(res)) return res\n\n  throw new Error(res)\n}\n\nfunction fromWordsUnsafe (words) {\n  var res = convert(words, 5, 8, false)\n  if (Array.isArray(res)) return res\n}\n\nfunction fromWords (words) {\n  var res = convert(words, 5, 8, false)\n  if (Array.isArray(res)) return res\n\n  throw new Error(res)\n}\n\nmodule.exports = {\n  decodeUnsafe: decodeUnsafe,\n  decode: decode,\n  encode: encode,\n  toWordsUnsafe: toWordsUnsafe,\n  toWords: toWords,\n  fromWordsUnsafe: fromWordsUnsafe,\n  fromWords: fromWords\n}\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar customInspectSymbol =\n  (typeof Symbol === 'function' && typeof Symbol['for'] === 'function') // eslint-disable-line dot-notation\n    ? Symbol['for']('nodejs.util.inspect.custom') // eslint-disable-line dot-notation\n    : null\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\nvar K_MAX_LENGTH = 0x7fffffff\nexports.kMaxLength = K_MAX_LENGTH\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Print warning and recommend using `buffer` v4.x which has an Object\n *               implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * We report that the browser does not support typed arrays if the are not subclassable\n * using __proto__. Firefox 4-29 lacks support for adding new properties to `Uint8Array`\n * (See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438). IE 10 lacks support\n * for __proto__ and has a buggy typed array implementation.\n */\nBuffer.TYPED_ARRAY_SUPPORT = typedArraySupport()\n\nif (!Buffer.TYPED_ARRAY_SUPPORT && typeof console !== 'undefined' &&\n    typeof console.error === 'function') {\n  console.error(\n    'This browser lacks typed array (Uint8Array) support which is required by ' +\n    '`buffer` v5.x. Use `buffer` v4.x if you require old browser support.'\n  )\n}\n\nfunction typedArraySupport () {\n  // Can typed array instances can be augmented?\n  try {\n    var arr = new Uint8Array(1)\n    var proto = { foo: function () { return 42 } }\n    Object.setPrototypeOf(proto, Uint8Array.prototype)\n    Object.setPrototypeOf(arr, proto)\n    return arr.foo() === 42\n  } catch (e) {\n    return false\n  }\n}\n\nObject.defineProperty(Buffer.prototype, 'parent', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.buffer\n  }\n})\n\nObject.defineProperty(Buffer.prototype, 'offset', {\n  enumerable: true,\n  get: function () {\n    if (!Buffer.isBuffer(this)) return undefined\n    return this.byteOffset\n  }\n})\n\nfunction createBuffer (length) {\n  if (length > K_MAX_LENGTH) {\n    throw new RangeError('The value \"' + length + '\" is invalid for option \"size\"')\n  }\n  // Return an augmented `Uint8Array` instance\n  var buf = new Uint8Array(length)\n  Object.setPrototypeOf(buf, Buffer.prototype)\n  return buf\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new TypeError(\n        'The \"string\" argument must be of type string. Received type number'\n      )\n    }\n    return allocUnsafe(arg)\n  }\n  return from(arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\nfunction from (value, encodingOrOffset, length) {\n  if (typeof value === 'string') {\n    return fromString(value, encodingOrOffset)\n  }\n\n  if (ArrayBuffer.isView(value)) {\n    return fromArrayView(value)\n  }\n\n  if (value == null) {\n    throw new TypeError(\n      'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n      'or Array-like Object. Received type ' + (typeof value)\n    )\n  }\n\n  if (isInstance(value, ArrayBuffer) ||\n      (value && isInstance(value.buffer, ArrayBuffer))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof SharedArrayBuffer !== 'undefined' &&\n      (isInstance(value, SharedArrayBuffer) ||\n      (value && isInstance(value.buffer, SharedArrayBuffer)))) {\n    return fromArrayBuffer(value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'number') {\n    throw new TypeError(\n      'The \"value\" argument must not be of type number. Received type number'\n    )\n  }\n\n  var valueOf = value.valueOf && value.valueOf()\n  if (valueOf != null && valueOf !== value) {\n    return Buffer.from(valueOf, encodingOrOffset, length)\n  }\n\n  var b = fromObject(value)\n  if (b) return b\n\n  if (typeof Symbol !== 'undefined' && Symbol.toPrimitive != null &&\n      typeof value[Symbol.toPrimitive] === 'function') {\n    return Buffer.from(\n      value[Symbol.toPrimitive]('string'), encodingOrOffset, length\n    )\n  }\n\n  throw new TypeError(\n    'The first argument must be one of type string, Buffer, ArrayBuffer, Array, ' +\n    'or Array-like Object. Received type ' + (typeof value)\n  )\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(value, encodingOrOffset, length)\n}\n\n// Note: Change prototype *after* Buffer.from is defined to workaround Chrome bug:\n// https://github.com/feross/buffer/pull/148\nObject.setPrototypeOf(Buffer.prototype, Uint8Array.prototype)\nObject.setPrototypeOf(Buffer, Uint8Array)\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be of type number')\n  } else if (size < 0) {\n    throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n  }\n}\n\nfunction alloc (size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpreted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(size).fill(fill, encoding)\n      : createBuffer(size).fill(fill)\n  }\n  return createBuffer(size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(size, fill, encoding)\n}\n\nfunction allocUnsafe (size) {\n  assertSize(size)\n  return createBuffer(size < 0 ? 0 : checked(size) | 0)\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(size)\n}\n\nfunction fromString (string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('Unknown encoding: ' + encoding)\n  }\n\n  var length = byteLength(string, encoding) | 0\n  var buf = createBuffer(length)\n\n  var actual = buf.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    buf = buf.slice(0, actual)\n  }\n\n  return buf\n}\n\nfunction fromArrayLike (array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  var buf = createBuffer(length)\n  for (var i = 0; i < length; i += 1) {\n    buf[i] = array[i] & 255\n  }\n  return buf\n}\n\nfunction fromArrayView (arrayView) {\n  if (isInstance(arrayView, Uint8Array)) {\n    var copy = new Uint8Array(arrayView)\n    return fromArrayBuffer(copy.buffer, copy.byteOffset, copy.byteLength)\n  }\n  return fromArrayLike(arrayView)\n}\n\nfunction fromArrayBuffer (array, byteOffset, length) {\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\"offset\" is outside of buffer bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\"length\" is outside of buffer bounds')\n  }\n\n  var buf\n  if (byteOffset === undefined && length === undefined) {\n    buf = new Uint8Array(array)\n  } else if (length === undefined) {\n    buf = new Uint8Array(array, byteOffset)\n  } else {\n    buf = new Uint8Array(array, byteOffset, length)\n  }\n\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(buf, Buffer.prototype)\n\n  return buf\n}\n\nfunction fromObject (obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    var buf = createBuffer(len)\n\n    if (buf.length === 0) {\n      return buf\n    }\n\n    obj.copy(buf, 0, 0, len)\n    return buf\n  }\n\n  if (obj.length !== undefined) {\n    if (typeof obj.length !== 'number' || numberIsNaN(obj.length)) {\n      return createBuffer(0)\n    }\n    return fromArrayLike(obj)\n  }\n\n  if (obj.type === 'Buffer' && Array.isArray(obj.data)) {\n    return fromArrayLike(obj.data)\n  }\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < K_MAX_LENGTH` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= K_MAX_LENGTH) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + K_MAX_LENGTH.toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return b != null && b._isBuffer === true &&\n    b !== Buffer.prototype // so Buffer.isBuffer(Buffer.prototype) will be false\n}\n\nBuffer.compare = function compare (a, b) {\n  if (isInstance(a, Uint8Array)) a = Buffer.from(a, a.offset, a.byteLength)\n  if (isInstance(b, Uint8Array)) b = Buffer.from(b, b.offset, b.byteLength)\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError(\n      'The \"buf1\", \"buf2\" arguments must be one of type Buffer or Uint8Array'\n    )\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!Array.isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (isInstance(buf, Uint8Array)) {\n      if (pos + buf.length > buffer.length) {\n        Buffer.from(buf).copy(buffer, pos)\n      } else {\n        Uint8Array.prototype.set.call(\n          buffer,\n          buf,\n          pos\n        )\n      }\n    } else if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    } else {\n      buf.copy(buffer, pos)\n    }\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (ArrayBuffer.isView(string) || isInstance(string, ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    throw new TypeError(\n      'The \"string\" argument must be one of type string, Buffer, or ArrayBuffer. ' +\n      'Received type ' + typeof string\n    )\n  }\n\n  var len = string.length\n  var mustMatch = (arguments.length > 2 && arguments[2] === true)\n  if (!mustMatch && len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) {\n          return mustMatch ? -1 : utf8ToBytes(string).length // assume utf8\n        }\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coercion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// This property is used by `Buffer.isBuffer` (and the `is-buffer` npm package)\n// to detect a Buffer instance. It's not possible to use `instanceof Buffer`\n// reliably in a browserify context because there could be multiple different\n// copies of the 'buffer' package in use. This method works even for Buffer\n// instances that were created from another copy of the `buffer` package.\n// See: https://github.com/feross/buffer/issues/154\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.toLocaleString = Buffer.prototype.toString\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  str = this.toString('hex', 0, max).replace(/(.{2})/g, '$1 ').trim()\n  if (this.length > max) str += ' ... '\n  return '<Buffer ' + str + '>'\n}\nif (customInspectSymbol) {\n  Buffer.prototype[customInspectSymbol] = Buffer.prototype.inspect\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (isInstance(target, Uint8Array)) {\n    target = Buffer.from(target, target.offset, target.byteLength)\n  }\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError(\n      'The \"target\" argument must be one of type Buffer or Uint8Array. ' +\n      'Received type ' + (typeof target)\n    )\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset // Coerce to Number.\n  if (numberIsNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [val], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  var strLen = string.length\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (numberIsNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset >>> 0\n    if (isFinite(length)) {\n      length = length >>> 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return asciiWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF)\n      ? 4\n      : (firstByte > 0xDF)\n          ? 3\n          : (firstByte > 0xBF)\n              ? 2\n              : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += hexSliceLookupTable[buf[i]]\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  // If bytes.length is odd, the last 8 bits must be ignored (same as node.js)\n  for (var i = 0; i < bytes.length - 1; i += 2) {\n    res += String.fromCharCode(bytes[i] + (bytes[i + 1] * 256))\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf = this.subarray(start, end)\n  // Return an augmented `Uint8Array` instance\n  Object.setPrototypeOf(newBuf, Buffer.prototype)\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUintLE =\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUintBE =\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUint8 =\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUint16LE =\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUint16BE =\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUint32LE =\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUint32BE =\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  offset = offset >>> 0\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUintLE =\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUintBE =\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  byteLength = byteLength >>> 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUint8 =\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeUint16LE =\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint16BE =\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeUint32LE =\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset + 3] = (value >>> 24)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 1] = (value >>> 8)\n  this[offset] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeUint32BE =\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    var limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    var limit = Math.pow(2, (8 * byteLength) - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  this[offset] = (value >>> 8)\n  this[offset + 1] = (value & 0xff)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  this[offset] = (value & 0xff)\n  this[offset + 1] = (value >>> 8)\n  this[offset + 2] = (value >>> 16)\n  this[offset + 3] = (value >>> 24)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  this[offset] = (value >>> 24)\n  this[offset + 1] = (value >>> 16)\n  this[offset + 2] = (value >>> 8)\n  this[offset + 3] = (value & 0xff)\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!Buffer.isBuffer(target)) throw new TypeError('argument should be a Buffer')\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('Index out of range')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n\n  if (this === target && typeof Uint8Array.prototype.copyWithin === 'function') {\n    // Use built-in when available, missing from IE11\n    this.copyWithin(targetStart, start, end)\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, end),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if ((encoding === 'utf8' && code < 128) ||\n          encoding === 'latin1') {\n        // Fast path: If `val` fits into a single byte, use that numeric value.\n        val = code\n      }\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  } else if (typeof val === 'boolean') {\n    val = Number(val)\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : Buffer.from(val, encoding)\n    var len = bytes.length\n    if (len === 0) {\n      throw new TypeError('The value \"' + val +\n        '\" is invalid for argument \"value\"')\n    }\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node takes equal signs as end of the Base64 encoding\n  str = str.split('=')[0]\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = str.trim().replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\n// ArrayBuffer or Uint8Array objects from other contexts (i.e. iframes) do not pass\n// the `instanceof` check but they should be treated as of that type.\n// See: https://github.com/feross/buffer/issues/166\nfunction isInstance (obj, type) {\n  return obj instanceof type ||\n    (obj != null && obj.constructor != null && obj.constructor.name != null &&\n      obj.constructor.name === type.name)\n}\nfunction numberIsNaN (obj) {\n  // For IE11 support\n  return obj !== obj // eslint-disable-line no-self-compare\n}\n\n// Create lookup table for `toString('hex')`\n// See: https://github.com/feross/buffer/issues/219\nvar hexSliceLookupTable = (function () {\n  var alphabet = '0123456789abcdef'\n  var table = new Array(256)\n  for (var i = 0; i < 16; ++i) {\n    var i16 = i * 16\n    for (var j = 0; j < 16; ++j) {\n      table[i16 + j] = alphabet[i] + alphabet[j]\n    }\n  }\n  return table\n})()\n","let db = null;\nlet cozoDbStore = null;\nlet writeCounter = 0;\nlet writeCallback = null;\n\nlet cmdFlag = false;\n\nexport function setWriteCounter(count) {\n  writeCounter = count;\n}\n\nfunction storeRequestToPromise(req) {\n  return new Promise((resolve, reject) => {\n    req.onsuccess = () => resolve(req.result);\n    req.onerror = (e) => reject(e.error);\n  });\n}\n\nasync function openDatabase(dbName, storeName) {\n  cozoDbStore = storeName;\n\n  return new Promise((resolve, reject) => {\n    const request = indexedDB.open(dbName, 1);\n    request.onupgradeneeded = function (event) {\n      const db = event.target.result;\n      if (!db.objectStoreNames.contains(storeName)) {\n        db.createObjectStore(storeName);\n      }\n    };\n\n    request.onsuccess = function (event) {\n      db = event.target.result;\n      resolve(db);\n    };\n    request.onerror = function (event) {\n      reject(event.error);\n    };\n  });\n}\n\nasync function readStore() {\n  return new Promise((resolve, reject) => {\n    const transaction = db.transaction(cozoDbStore, \"readonly\");\n    const store = transaction.objectStore(cozoDbStore);\n\n    const itemsPromise = storeRequestToPromise(store.getAll());\n    const keysPromise = storeRequestToPromise(store.getAllKeys());\n\n    Promise.all([keysPromise, itemsPromise])\n      .then((results) => {\n        const keys = results[0].map((item) => new Uint8Array(item));\n        const items = results[1];\n        resolve([keys, items]);\n      })\n      .catch(reject);\n  });\n}\n\nexport async function flushPendingWrites(timeoutDuration = 60000) {\n  let timeout = null;\n\n  // allow only one command runnig at a time\n  if (cmdFlag) {\n    await new Promise((resolve, reject) => {\n      const interval = setInterval(() => {\n        if (!cmdFlag) {\n          clearInterval(interval);\n          resolve();\n        }\n      }, 10);\n    });\n  }\n\n  cmdFlag = true;\n\n  const waitPromise = new Promise((resolve, reject) => {\n    const interval = setInterval(() => {\n      if (writeCounter <= 0) {\n        if (timeout) {\n          clearTimeout(timeout);\n        }\n        clearInterval(interval);\n        resolve();\n      }\n    }, 10);\n  });\n\n  const timeoutPromise = new Promise((_, reject) => {\n    timeout = setTimeout(() => {\n      reject(new Error(\"waitForPendingWrites timed out!\"));\n    }, timeoutDuration);\n  });\n\n  // wait until all pending writes are done\n  return Promise.race([waitPromise, timeoutPromise]).finally(() => {\n    cmdFlag = false;\n  });\n}\n\nexport async function loadAllFromIndexedDb(dbName, storeName, onWriteCallback) {\n  writeCallback = onWriteCallback;\n  await openDatabase(dbName, storeName);\n  return await readStore();\n}\n\nexport async function writeToIndexedDb(key, value) {\n  return new Promise((resolve, reject) => {\n    const transaction = db.transaction(cozoDbStore, \"readwrite\");\n    const store = transaction.objectStore(cozoDbStore);\n    const request = value ? store.put(value, key) : store.delete(key);\n    return storeRequestToPromise(request)\n      .then(resolve)\n      .catch(reject)\n      .finally(() => {\n        writeCounter--;\n        writeCallback && writeCallback(writeCounter);\n      });\n  });\n}\n","import { loadAllFromIndexedDb, flushPendingWrites, writeToIndexedDb, setWriteCounter } from './indexeddb.js';\n\nlet wasm;\n\nconst heap = new Array(128).fill(undefined);\n\nheap.push(undefined, null, true, false);\n\nfunction getObject(idx) { return heap[idx]; }\n\nlet heap_next = heap.length;\n\nfunction dropObject(idx) {\n    if (idx < 132) return;\n    heap[idx] = heap_next;\n    heap_next = idx;\n}\n\nfunction takeObject(idx) {\n    const ret = getObject(idx);\n    dropObject(idx);\n    return ret;\n}\n\nconst cachedTextDecoder = (typeof TextDecoder !== 'undefined' ? new TextDecoder('utf-8', { ignoreBOM: true, fatal: true }) : { decode: () => { throw Error('TextDecoder not available') } } );\n\nif (typeof TextDecoder !== 'undefined') { cachedTextDecoder.decode(); };\n\nlet cachedUint8Memory0 = null;\n\nfunction getUint8Memory0() {\n    if (cachedUint8Memory0 === null || cachedUint8Memory0.byteLength === 0) {\n        cachedUint8Memory0 = new Uint8Array(wasm.memory.buffer);\n    }\n    return cachedUint8Memory0;\n}\n\nfunction getStringFromWasm0(ptr, len) {\n    ptr = ptr >>> 0;\n    return cachedTextDecoder.decode(getUint8Memory0().subarray(ptr, ptr + len));\n}\n\nfunction addHeapObject(obj) {\n    if (heap_next === heap.length) heap.push(heap.length + 1);\n    const idx = heap_next;\n    heap_next = heap[idx];\n\n    heap[idx] = obj;\n    return idx;\n}\n\nfunction makeMutClosure(arg0, arg1, dtor, f) {\n    const state = { a: arg0, b: arg1, cnt: 1, dtor };\n    const real = (...args) => {\n        // First up with a closure we increment the internal reference\n        // count. This ensures that the Rust closure environment won't\n        // be deallocated while we're invoking it.\n        state.cnt++;\n        const a = state.a;\n        state.a = 0;\n        try {\n            return f(a, state.b, ...args);\n        } finally {\n            if (--state.cnt === 0) {\n                wasm.__wbindgen_export_0.get(state.dtor)(a, state.b);\n\n            } else {\n                state.a = a;\n            }\n        }\n    };\n    real.original = state;\n\n    return real;\n}\nfunction __wbg_adapter_22(arg0, arg1, arg2) {\n    wasm.wasm_bindgen__convert__closures__invoke1_mut__hd17e34166836fd48(arg0, arg1, addHeapObject(arg2));\n}\n\nlet WASM_VECTOR_LEN = 0;\n\nconst cachedTextEncoder = (typeof TextEncoder !== 'undefined' ? new TextEncoder('utf-8') : { encode: () => { throw Error('TextEncoder not available') } } );\n\nconst encodeString = (typeof cachedTextEncoder.encodeInto === 'function'\n    ? function (arg, view) {\n    return cachedTextEncoder.encodeInto(arg, view);\n}\n    : function (arg, view) {\n    const buf = cachedTextEncoder.encode(arg);\n    view.set(buf);\n    return {\n        read: arg.length,\n        written: buf.length\n    };\n});\n\nfunction passStringToWasm0(arg, malloc, realloc) {\n\n    if (realloc === undefined) {\n        const buf = cachedTextEncoder.encode(arg);\n        const ptr = malloc(buf.length, 1) >>> 0;\n        getUint8Memory0().subarray(ptr, ptr + buf.length).set(buf);\n        WASM_VECTOR_LEN = buf.length;\n        return ptr;\n    }\n\n    let len = arg.length;\n    let ptr = malloc(len, 1) >>> 0;\n\n    const mem = getUint8Memory0();\n\n    let offset = 0;\n\n    for (; offset < len; offset++) {\n        const code = arg.charCodeAt(offset);\n        if (code > 0x7F) break;\n        mem[ptr + offset] = code;\n    }\n\n    if (offset !== len) {\n        if (offset !== 0) {\n            arg = arg.slice(offset);\n        }\n        ptr = realloc(ptr, len, len = offset + arg.length * 3, 1) >>> 0;\n        const view = getUint8Memory0().subarray(ptr + offset, ptr + len);\n        const ret = encodeString(arg, view);\n\n        offset += ret.written;\n    }\n\n    WASM_VECTOR_LEN = offset;\n    return ptr;\n}\n\nlet cachedInt32Memory0 = null;\n\nfunction getInt32Memory0() {\n    if (cachedInt32Memory0 === null || cachedInt32Memory0.byteLength === 0) {\n        cachedInt32Memory0 = new Int32Array(wasm.memory.buffer);\n    }\n    return cachedInt32Memory0;\n}\n\nfunction handleError(f, args) {\n    try {\n        return f.apply(this, args);\n    } catch (e) {\n        wasm.__wbindgen_exn_store(addHeapObject(e));\n    }\n}\nfunction __wbg_adapter_76(arg0, arg1, arg2, arg3) {\n    wasm.wasm_bindgen__convert__closures__invoke2_mut__h62fdc46dd4e23c5d(arg0, arg1, addHeapObject(arg2), addHeapObject(arg3));\n}\n\n/**\n*/\nexport class CozoDb {\n\n    static __wrap(ptr) {\n        ptr = ptr >>> 0;\n        const obj = Object.create(CozoDb.prototype);\n        obj.__wbg_ptr = ptr;\n\n        return obj;\n    }\n\n    __destroy_into_raw() {\n        const ptr = this.__wbg_ptr;\n        this.__wbg_ptr = 0;\n\n        return ptr;\n    }\n\n    free() {\n        const ptr = this.__destroy_into_raw();\n        wasm.__wbg_cozodb_free(ptr);\n    }\n    /**\n    * @returns {CozoDb}\n    */\n    static new() {\n        const ret = wasm.cozodb_new();\n        return CozoDb.__wrap(ret);\n    }\n    /**\n    * Create CozoDb from IndexedDB\n    * @param {string} db_name\n    * @param {string} store_name\n    * @param {any} on_write_callback\n    * @returns {Promise<CozoDb>}\n    */\n    static new_from_indexed_db(db_name, store_name, on_write_callback) {\n        const ptr0 = passStringToWasm0(db_name, wasm.__wbindgen_malloc, wasm.__wbindgen_realloc);\n        const len0 = WASM_VECTOR_LEN;\n        const ptr1 = passStringToWasm0(store_name, wasm.__wbindgen_malloc, wasm.__wbindgen_realloc);\n        const len1 = WASM_VECTOR_LEN;\n        const ret = wasm.cozodb_new_from_indexed_db(ptr0, len0, ptr1, len1, addHeapObject(on_write_callback));\n        return takeObject(ret);\n    }\n    /**\n    * @param {string} script\n    * @param {string} params\n    * @param {boolean} immutable\n    * @returns {Promise<string>}\n    */\n    run(script, params, immutable) {\n        const ptr0 = passStringToWasm0(script, wasm.__wbindgen_malloc, wasm.__wbindgen_realloc);\n        const len0 = WASM_VECTOR_LEN;\n        const ptr1 = passStringToWasm0(params, wasm.__wbindgen_malloc, wasm.__wbindgen_realloc);\n        const len1 = WASM_VECTOR_LEN;\n        const ret = wasm.cozodb_run(this.__wbg_ptr, ptr0, len0, ptr1, len1, immutable);\n        return takeObject(ret);\n    }\n    /**\n    * @param {string} data\n    * @returns {string}\n    */\n    export_relations(data) {\n        let deferred2_0;\n        let deferred2_1;\n        try {\n            const retptr = wasm.__wbindgen_add_to_stack_pointer(-16);\n            const ptr0 = passStringToWasm0(data, wasm.__wbindgen_malloc, wasm.__wbindgen_realloc);\n            const len0 = WASM_VECTOR_LEN;\n            wasm.cozodb_export_relations(retptr, this.__wbg_ptr, ptr0, len0);\n            var r0 = getInt32Memory0()[retptr / 4 + 0];\n            var r1 = getInt32Memory0()[retptr / 4 + 1];\n            deferred2_0 = r0;\n            deferred2_1 = r1;\n            return getStringFromWasm0(r0, r1);\n        } finally {\n            wasm.__wbindgen_add_to_stack_pointer(16);\n            wasm.__wbindgen_free(deferred2_0, deferred2_1, 1);\n        }\n    }\n    /**\n    * @param {string} data\n    * @returns {string}\n    */\n    import_relations(data) {\n        let deferred2_0;\n        let deferred2_1;\n        try {\n            const retptr = wasm.__wbindgen_add_to_stack_pointer(-16);\n            const ptr0 = passStringToWasm0(data, wasm.__wbindgen_malloc, wasm.__wbindgen_realloc);\n            const len0 = WASM_VECTOR_LEN;\n            wasm.cozodb_import_relations(retptr, this.__wbg_ptr, ptr0, len0);\n            var r0 = getInt32Memory0()[retptr / 4 + 0];\n            var r1 = getInt32Memory0()[retptr / 4 + 1];\n            deferred2_0 = r0;\n            deferred2_1 = r1;\n            return getStringFromWasm0(r0, r1);\n        } finally {\n            wasm.__wbindgen_add_to_stack_pointer(16);\n            wasm.__wbindgen_free(deferred2_0, deferred2_1, 1);\n        }\n    }\n}\n\nasync function __wbg_load(module, imports) {\n    if (typeof Response === 'function' && module instanceof Response) {\n        if (typeof WebAssembly.instantiateStreaming === 'function') {\n            try {\n                return await WebAssembly.instantiateStreaming(module, imports);\n\n            } catch (e) {\n                if (module.headers.get('Content-Type') != 'application/wasm') {\n                    console.warn(\"`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\\n\", e);\n\n                } else {\n                    throw e;\n                }\n            }\n        }\n\n        const bytes = await module.arrayBuffer();\n        return await WebAssembly.instantiate(bytes, imports);\n\n    } else {\n        const instance = await WebAssembly.instantiate(module, imports);\n\n        if (instance instanceof WebAssembly.Instance) {\n            return { instance, module };\n\n        } else {\n            return instance;\n        }\n    }\n}\n\nfunction __wbg_get_imports() {\n    const imports = {};\n    imports.wbg = {};\n    imports.wbg.__wbindgen_object_drop_ref = function(arg0) {\n        takeObject(arg0);\n    };\n    imports.wbg.__wbg_log_b78d654f19d681e0 = function(arg0, arg1) {\n        console.log(getStringFromWasm0(arg0, arg1));\n    };\n    imports.wbg.__wbg_loadAllFromIndexedDb_05f8df9a19c8d344 = function(arg0, arg1, arg2, arg3, arg4) {\n        const ret = loadAllFromIndexedDb(getStringFromWasm0(arg0, arg1), getStringFromWasm0(arg2, arg3), getObject(arg4));\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_flushPendingWrites_dd4341a0dafcf428 = function() {\n        const ret = flushPendingWrites();\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbindgen_string_new = function(arg0, arg1) {\n        const ret = getStringFromWasm0(arg0, arg1);\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_cozodb_new = function(arg0) {\n        const ret = CozoDb.__wrap(arg0);\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbindgen_cb_drop = function(arg0) {\n        const obj = takeObject(arg0).original;\n        if (obj.cnt-- == 1) {\n            obj.a = 0;\n            return true;\n        }\n        const ret = false;\n        return ret;\n    };\n    imports.wbg.__wbg_new_abda76e883ba8a5f = function() {\n        const ret = new Error();\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_stack_658279fe44541cf6 = function(arg0, arg1) {\n        const ret = getObject(arg1).stack;\n        const ptr1 = passStringToWasm0(ret, wasm.__wbindgen_malloc, wasm.__wbindgen_realloc);\n        const len1 = WASM_VECTOR_LEN;\n        getInt32Memory0()[arg0 / 4 + 1] = len1;\n        getInt32Memory0()[arg0 / 4 + 0] = ptr1;\n    };\n    imports.wbg.__wbg_error_f851667af71bcfc6 = function(arg0, arg1) {\n        let deferred0_0;\n        let deferred0_1;\n        try {\n            deferred0_0 = arg0;\n            deferred0_1 = arg1;\n            console.error(getStringFromWasm0(arg0, arg1));\n        } finally {\n            wasm.__wbindgen_free(deferred0_0, deferred0_1, 1);\n        }\n    };\n    imports.wbg.__wbg_setWriteCounter_295838a9805b3542 = function(arg0) {\n        setWriteCounter(arg0 >>> 0);\n    };\n    imports.wbg.__wbg_writeToIndexedDb_ec8ba47108ce4d3a = function(arg0, arg1) {\n        const ret = writeToIndexedDb(getObject(arg0), getObject(arg1));\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_crypto_c48a774b022d20ac = function(arg0) {\n        const ret = getObject(arg0).crypto;\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbindgen_is_object = function(arg0) {\n        const val = getObject(arg0);\n        const ret = typeof(val) === 'object' && val !== null;\n        return ret;\n    };\n    imports.wbg.__wbg_process_298734cf255a885d = function(arg0) {\n        const ret = getObject(arg0).process;\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_versions_e2e78e134e3e5d01 = function(arg0) {\n        const ret = getObject(arg0).versions;\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_node_1cd7a5d853dbea79 = function(arg0) {\n        const ret = getObject(arg0).node;\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbindgen_is_string = function(arg0) {\n        const ret = typeof(getObject(arg0)) === 'string';\n        return ret;\n    };\n    imports.wbg.__wbg_msCrypto_bcb970640f50a1e8 = function(arg0) {\n        const ret = getObject(arg0).msCrypto;\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_require_8f08ceecec0f4fee = function() { return handleError(function () {\n        const ret = module.require;\n        return addHeapObject(ret);\n    }, arguments) };\n    imports.wbg.__wbindgen_is_function = function(arg0) {\n        const ret = typeof(getObject(arg0)) === 'function';\n        return ret;\n    };\n    imports.wbg.__wbg_randomFillSync_dc1e9a60c158336d = function() { return handleError(function (arg0, arg1) {\n        getObject(arg0).randomFillSync(takeObject(arg1));\n    }, arguments) };\n    imports.wbg.__wbg_getRandomValues_37fa2ca9e4e07fab = function() { return handleError(function (arg0, arg1) {\n        getObject(arg0).getRandomValues(getObject(arg1));\n    }, arguments) };\n    imports.wbg.__wbg_get_44be0491f933a435 = function(arg0, arg1) {\n        const ret = getObject(arg0)[arg1 >>> 0];\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_length_fff51ee6522a1a18 = function(arg0) {\n        const ret = getObject(arg0).length;\n        return ret;\n    };\n    imports.wbg.__wbg_newnoargs_581967eacc0e2604 = function(arg0, arg1) {\n        const ret = new Function(getStringFromWasm0(arg0, arg1));\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_call_cb65541d95d71282 = function() { return handleError(function (arg0, arg1) {\n        const ret = getObject(arg0).call(getObject(arg1));\n        return addHeapObject(ret);\n    }, arguments) };\n    imports.wbg.__wbindgen_object_clone_ref = function(arg0) {\n        const ret = getObject(arg0);\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_self_1ff1d729e9aae938 = function() { return handleError(function () {\n        const ret = self.self;\n        return addHeapObject(ret);\n    }, arguments) };\n    imports.wbg.__wbg_window_5f4faef6c12b79ec = function() { return handleError(function () {\n        const ret = window.window;\n        return addHeapObject(ret);\n    }, arguments) };\n    imports.wbg.__wbg_globalThis_1d39714405582d3c = function() { return handleError(function () {\n        const ret = globalThis.globalThis;\n        return addHeapObject(ret);\n    }, arguments) };\n    imports.wbg.__wbg_global_651f05c6a0944d1c = function() { return handleError(function () {\n        const ret = global.global;\n        return addHeapObject(ret);\n    }, arguments) };\n    imports.wbg.__wbindgen_is_undefined = function(arg0) {\n        const ret = getObject(arg0) === undefined;\n        return ret;\n    };\n    imports.wbg.__wbg_isArray_4c24b343cb13cfb1 = function(arg0) {\n        const ret = Array.isArray(getObject(arg0));\n        return ret;\n    };\n    imports.wbg.__wbg_call_01734de55d61e11d = function() { return handleError(function (arg0, arg1, arg2) {\n        const ret = getObject(arg0).call(getObject(arg1), getObject(arg2));\n        return addHeapObject(ret);\n    }, arguments) };\n    imports.wbg.__wbg_now_9c5990bda04c7e53 = function() {\n        const ret = Date.now();\n        return ret;\n    };\n    imports.wbg.__wbg_new_43f1b47c28813cbd = function(arg0, arg1) {\n        try {\n            var state0 = {a: arg0, b: arg1};\n            var cb0 = (arg0, arg1) => {\n                const a = state0.a;\n                state0.a = 0;\n                try {\n                    return __wbg_adapter_76(a, state0.b, arg0, arg1);\n                } finally {\n                    state0.a = a;\n                }\n            };\n            const ret = new Promise(cb0);\n            return addHeapObject(ret);\n        } finally {\n            state0.a = state0.b = 0;\n        }\n    };\n    imports.wbg.__wbg_resolve_53698b95aaf7fcf8 = function(arg0) {\n        const ret = Promise.resolve(getObject(arg0));\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_then_f7e06ee3c11698eb = function(arg0, arg1) {\n        const ret = getObject(arg0).then(getObject(arg1));\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_then_b2267541e2a73865 = function(arg0, arg1, arg2) {\n        const ret = getObject(arg0).then(getObject(arg1), getObject(arg2));\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_buffer_085ec1f694018c4f = function(arg0) {\n        const ret = getObject(arg0).buffer;\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_newwithbyteoffsetandlength_6da8e527659b86aa = function(arg0, arg1, arg2) {\n        const ret = new Uint8Array(getObject(arg0), arg1 >>> 0, arg2 >>> 0);\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_new_8125e318e6245eed = function(arg0) {\n        const ret = new Uint8Array(getObject(arg0));\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_set_5cf90238115182c3 = function(arg0, arg1, arg2) {\n        getObject(arg0).set(getObject(arg1), arg2 >>> 0);\n    };\n    imports.wbg.__wbg_length_72e2208bbc0efc61 = function(arg0) {\n        const ret = getObject(arg0).length;\n        return ret;\n    };\n    imports.wbg.__wbg_instanceof_Uint8Array_d8d9cb2b8e8ac1d4 = function(arg0) {\n        let result;\n        try {\n            result = getObject(arg0) instanceof Uint8Array;\n        } catch {\n            result = false;\n        }\n        const ret = result;\n        return ret;\n    };\n    imports.wbg.__wbg_newwithlength_e5d69174d6984cd7 = function(arg0) {\n        const ret = new Uint8Array(arg0 >>> 0);\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_subarray_13db269f57aa838d = function(arg0, arg1, arg2) {\n        const ret = getObject(arg0).subarray(arg1 >>> 0, arg2 >>> 0);\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbindgen_throw = function(arg0, arg1) {\n        throw new Error(getStringFromWasm0(arg0, arg1));\n    };\n    imports.wbg.__wbindgen_memory = function() {\n        const ret = wasm.memory;\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbindgen_closure_wrapper186 = function(arg0, arg1, arg2) {\n        const ret = makeMutClosure(arg0, arg1, 87, __wbg_adapter_22);\n        return addHeapObject(ret);\n    };\n\n    return imports;\n}\n\nfunction __wbg_init_memory(imports, maybe_memory) {\n\n}\n\nfunction __wbg_finalize_init(instance, module) {\n    wasm = instance.exports;\n    __wbg_init.__wbindgen_wasm_module = module;\n    cachedInt32Memory0 = null;\n    cachedUint8Memory0 = null;\n\n\n    return wasm;\n}\n\nfunction initSync(module) {\n    if (wasm !== undefined) return wasm;\n\n    const imports = __wbg_get_imports();\n\n    __wbg_init_memory(imports);\n\n    if (!(module instanceof WebAssembly.Module)) {\n        module = new WebAssembly.Module(module);\n    }\n\n    const instance = new WebAssembly.Instance(module, imports);\n\n    return __wbg_finalize_init(instance, module);\n}\n\nasync function __wbg_init(input) {\n    if (wasm !== undefined) return wasm;\n\n    if (typeof input === 'undefined') {\n        input = new URL('cyb_cozo_lib_wasm_bg.wasm', import.meta.url);\n    }\n    const imports = __wbg_get_imports();\n\n    if (typeof input === 'string' || (typeof Request === 'function' && input instanceof Request) || (typeof URL === 'function' && input instanceof URL)) {\n        input = fetch(input);\n    }\n\n    __wbg_init_memory(imports);\n\n    const { instance, module } = await __wbg_load(await input, imports);\n\n    return __wbg_finalize_init(instance, module);\n}\n\nexport { initSync }\nexport default __wbg_init;\n","export const CYBLOG_LOG_SHOW = 'cyblog_show';\n\nexport const CYBLOG_BROADCAST_CHANNEL_NAME = 'CYBLOG_BROADCST_CHANNEL';\n\nexport const CYBLOG_CONSOLE_PARAMS_DEFAULT = {\n  thread: 'all',\n  unit: 'all',\n  module: 'all',\n};\n","import _, { isEmpty } from 'lodash';\nimport { ConsoleLogParams, LogContext, LogItem, LogLevel } from './types';\nimport { CYBLOG_BROADCAST_CHANNEL_NAME } from './constants';\n\nconst logList: LogItem[] = [];\n\nfunction createCybLog<T>(defaultContext: Partial<LogContext<T>> = {}) {\n  function appendLog(logItem: LogItem, truncate = true) {\n    logList.push(logItem);\n\n    while (truncate && logList.length > 1000) {\n      logList.shift(); // Remove the first element to keep the list size <= 1000\n    }\n  }\n  let consoleLogParams = {} as ConsoleLogParams;\n\n  const channel = new BroadcastChannel(CYBLOG_BROADCAST_CHANNEL_NAME);\n\n  channel.onmessage = (event) => {\n    if (event.data.type === 'params') {\n      consoleLogParams = { ...consoleLogParams, ...event.data.value };\n    }\n  };\n\n  const getConsoleLogParams = () => consoleLogParams;\n\n  function consoleLog<T>(\n    level: LogLevel,\n    message: T,\n    context: Partial<LogContext<T>>\n  ) {\n    const ctx = _.omit(context, [\n      'formatter',\n      'thread',\n      'module',\n      'unit',\n      'data',\n    ]);\n    const { thread = '', module = '', unit = '', data = '' } = context;\n    const ctxItem = isEmpty(ctx) ? '' : ctx;\n\n    if (Array.isArray(message)) {\n      console[level](...message, ctxItem);\n      return;\n    }\n\n    if (context?.formatter) {\n      console[level](context?.formatter(message), ctxItem);\n      return;\n    }\n\n    console[level](`[${thread}:${module}:${unit}] ${message}`, data, ctxItem);\n  }\n\n  // eslint-disable-next-line import/no-unused-modules\n  function log<T>(\n    level: LogLevel,\n    message: string | T,\n    context: LogContext<any> = defaultContext\n  ) {\n    try {\n      const formattedMessage = context?.formatter\n        ? context?.formatter(message)\n        : message;\n\n      const logEntry = {\n        timestamp: new Date(),\n        level,\n        message: formattedMessage,\n        stacktrace: context?.stacktrace,\n        context: _.omit(context, ['formatter', 'stacktrace']),\n      };\n\n      appendLog(logEntry);\n      // !!localStorage.getItem(LOCAL_STORAGE_USE_CONSOLE_LOG_KEY) &&\n      const showConsoleLog = Object.keys(consoleLogParams).reduce(\n        (acc: boolean, key: string) => {\n          const params = consoleLogParams[key];\n          const contextItem = context[key];\n          if (params && contextItem) {\n            return (\n              acc ||\n              params === 'all' ||\n              params.length === 0 ||\n              params.some((p) => p === contextItem)\n            );\n          }\n          return acc;\n        },\n        false\n      );\n\n      if (showConsoleLog) {\n        consoleLog(level, message, context);\n      }\n    } catch (error) {\n      console.log('cyblog error', error);\n    }\n  }\n\n  function info<T>(message: T, context?: LogContext<string | T>) {\n    return log('info', message, context);\n  }\n\n  function error<T>(message: T, context?: LogContext<string | T>) {\n    return log('error', message, context);\n  }\n\n  function warn<T>(message: T, context?: LogContext<string | T>) {\n    return log('warn', message, context);\n  }\n\n  function trace<T>(message: T, context?: LogContext<string | T>) {\n    return log('warn', message, context);\n  }\n\n  function normalizeLog() {\n    return logList.map((logItem) => {\n      const { context, ...rest } = logItem;\n      const {\n        unit = '',\n        module = '',\n        thread = '',\n        data = '',\n        error = '',\n        stacktrace = '',\n      } = context || {};\n      return {\n        ...rest,\n        unit,\n        module,\n        thread,\n        data, //: JSON.stringify(data),\n        error,\n        stacktrace,\n      };\n    });\n  }\n\n  return {\n    log,\n    info,\n    error,\n    warn,\n    trace,\n    logList,\n    getLogs: () => normalizeLog(),\n    clear: () => logList.splice(0, logList.length),\n    getConsoleLogParams,\n  };\n}\n\nexport const createCyblogChannel = (\n  defaultContext: Partial<LogContext<T>> = {}\n) => {\n  const channel = new BroadcastChannel(CYBLOG_BROADCAST_CHANNEL_NAME);\n\n  function postLogToChannel<T>(\n    level: LogLevel,\n    message: T,\n    context?: LogContext<string | T>\n  ) {\n    const ctx = { ...defaultContext, ...context };\n    if (context?.error) {\n      ctx.error = JSON.stringify(context.error);\n    }\n    channel.postMessage({\n      type: 'log',\n      value: { level, message, context: ctx },\n    });\n  }\n\n  function info<T>(message: T, context?: LogContext<string | T>) {\n    return postLogToChannel('info', message, context);\n  }\n\n  function error<T>(message: T, context?: LogContext<string | T>) {\n    return postLogToChannel('error', message, context);\n  }\n\n  function warn<T>(message: T, context?: LogContext<string | T>) {\n    return postLogToChannel('warn', message, context);\n  }\n\n  function trace<T>(message: T, context?: LogContext<string | T>) {\n    return postLogToChannel('warn', message, context);\n  }\n\n  return { info, error, warn, trace };\n};\n\nconst cyblog = createCybLog({ thread: 'main' });\n\nexport type LogFunc = (message: T, context?: LogContext<string | T>) => void;\n\nexport type CyblogChannel = ReturnType<typeof createCyblogChannel>;\n\nexport default cyblog;\n","type ColumnType = 'String' | 'Int' | 'Bool' | 'Float' | 'Json';\n\nexport interface Column {\n  column: string;\n  type: ColumnType;\n  is_key?: boolean;\n  index: number;\n  is_default: boolean;\n}\n\nexport interface TableSchema {\n  keys: string[];\n  values: string[];\n  columns: Record<string, Column>;\n}\n\nexport type DBValue = string | number | boolean;\n\nexport interface IDBResult {\n  headers: string[];\n  rows: Array<Array<DBValue>>;\n  ok: true;\n}\n\ninterface IDBResultError {\n  code: string;\n  display: string;\n  message: string;\n  severity: string;\n  ok: false;\n}\n\nexport class DBResultError extends Error implements Omit<IDBResultError, 'ok'> {\n  code: string;\n\n  display: string;\n\n  severity: string;\n\n  constructor(error: IDBResultError) {\n    const { message, code, display, severity } = error;\n    super(message);\n    this.code = code;\n    this.display = display;\n    this.severity = severity;\n  }\n}\n\nexport type DBSchema = Record<string, TableSchema>;\n\nexport type IndexedDbWriteMessage = {\n  type: 'indexeddb_write';\n  value: number;\n};\n\nexport type GetCommandOptions = {\n  limit?: number;\n  offset?: number;\n  orderBy?: string[];\n};\n","/* eslint-disable @typescript-eslint/no-explicit-any */\n/* eslint-disable import/no-unused-modules */\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nimport { entityToDto, snakeToCamel } from 'src/utils/dto';\n\nimport { Column, IDBResult } from './types/types';\nimport { DbEntity } from './types/entities';\nimport { serializeString } from 'src/utils/string';\n\nexport function dbResultToDtoList<T>(dbResult: IDBResult): T[] {\n  const { headers, rows } = dbResult;\n\n  // const camelCaseHeadersMap = headers.reduce(\n  //   (acc: Record<string, any>, header) => {\n  //     acc[header] = snakeToCamel(header);\n  //     return acc;\n  //   },\n  //   {}\n  // );\n\n  return rows.map((row) => {\n    const obj: Record<string, any> = {};\n    headers.forEach((header, index) => {\n      // obj[camelCaseHeadersMap[header]] = row[index];\n      obj[header] = row[index];\n    });\n\n    return entityToDto(obj) as T;\n  });\n}\n\nexport async function clearIndexedDBStore(\n  dbName: string,\n  storeName: string\n): Promise<void> {\n  return new Promise((resolve, reject) => {\n    // Open a connection to the database\n    const request = indexedDB.open(dbName);\n\n    request.onerror = (event) => {\n      reject(new Error(`Database error: ${request.error?.message}`));\n    };\n\n    request.onsuccess = (event) => {\n      const db = request.result;\n\n      // Start a transaction and get the store\n      const transaction = db.transaction(storeName, 'readwrite');\n      const store = transaction.objectStore(storeName);\n\n      // Clear the store\n      const clearRequest = store.clear();\n\n      clearRequest.onsuccess = () => {\n        console.log(`Store cleared ${dbName}/${storeName}`);\n        resolve();\n      };\n\n      clearRequest.onerror = () => {\n        reject(\n          new Error(`Error clearing the store: ${clearRequest.error?.message}`)\n        );\n      };\n\n      // Close the database when the transaction is complete\n      transaction.oncomplete = () => {\n        db.close();\n      };\n    };\n  });\n}\nexport const toListOfObjects = <T extends Record<string, any>>({\n  rows,\n  headers,\n}: IDBResult): T[] => {\n  return rows.map((row) => {\n    const obj: Record<string, any> = {};\n    row.forEach((value, index) => {\n      const key = headers[index];\n      obj[key] = value;\n    });\n    return obj as T;\n  });\n};\nexport const entityToArray = (\n  obj: Partial<DbEntity>,\n  columns: Column[]\n): string => {\n  return `[${columns\n    .map((col) => {\n      const key = col.column as keyof DbEntity;\n      const value = obj[key];\n\n      if (/<[a-z]+\\d*;\\d+>/i.test(col.type)) {\n        return `[${value}]`;\n      }\n      return col.type === 'Json'\n        ? `parse_json('${JSON.stringify(value)}')`\n        : col.type === 'String'\n        ? `\"${serializeString(value)}\"`\n        : value;\n    })\n    .join(', ')}]`;\n};\n","export function shortenString(string: string, length = 300) {\n  return string.length > length ? `${string.slice(0, length)}...` : string;\n}\n\nexport function replaceQuotes(string: string) {\n  return string.replace(/\"/g, \"'\");\n}\n\nexport function serializeString(input: string): string {\n  return input\n    .replace(/\\\\/g, '\\\\\\\\') // Escape backslashes\n    .replace(/\"/g, \"\\\\''\") // Escape double quotes\n    .replace(/'/g, \"\\\\'\") // Escape single quotes\n    .replace(/\\n/g, '\\\\n') // Escape newlines\n    .replace(/\\r/g, '\\\\r') // Escape carriage returns\n    .replace(/#/g, '\\\\!!'); // Escape  - that's comment in cozo\n}\n\nexport function deserializeString(serialized: string): string {\n  return serialized\n    .replace(/\\\\r/g, '\\r') // Unescape carriage returns\n    .replace(/\\\\n/g, '\\n') // Unescape newlines\n    .replace(/\\\\'/g, \"'\") // Unescape single quotes\n    .replace(/\\\\''/g, '\"') // Unescape double quotes\n    .replace(/\\\\\\\\/g, '\\\\') // Unescape backslashes\n    .replace(/\\\\!!/g, '#'); // Unescape # cozo comment\n}\n\nconst specialCharsRegexe = /\\\\u\\{[a-fA-F0-9]+\\}/g;\n\nexport function removeBrokenUnicode(string: string): string {\n  return string.replace(specialCharsRegexe, '');\n}\n\nexport function removeMarkdownFormatting(markdown: string): string {\n  // Remove headers\n  let text = markdown.replace(/^#{1,6}\\s+/gm, '');\n\n  // Remove emphasis (bold, italic, strikethrough)\n  text = text.replace(/(\\*\\*|__)(.*?)\\1/g, '$2');\n  text = text.replace(/(\\*|_)(.*?)\\1/g, '$2');\n  text = text.replace(/(~~)(.*?)\\1/g, '$2');\n\n  // Remove inline code and code blocks\n  text = text.replace(/`{1,3}[^`](.*?)`{1,3}/g, '$1');\n  text = text.replace(/```[\\s\\S]*?```/g, '');\n\n  // Remove blockquotes\n  text = text.replace(/^\\s{0,3}>\\s?/gm, '');\n\n  // Remove links\n  text = text.replace(/\\[(.*?)\\]\\(.*?\\)/g, '$1');\n\n  // Remove images\n  text = text.replace(/!\\[(.*?)\\]\\(.*?\\)/g, '$1');\n\n  // Remove horizontal rules\n  text = text.replace(/^-{3,}$/gm, '');\n\n  // Remove unordered lists\n  text = text.replace(/^\\s*[-+*]\\s+/gm, '');\n\n  // Remove ordered lists\n  text = text.replace(/^\\s*\\d+\\.\\s+/gm, '');\n\n  // Remove extra spaces and new lines\n  text = text.replace(/\\n{2,}/g, '\\n\\n');\n  text = text.replace(/^\\s+|\\s+$/g, '');\n\n  return text;\n}\n","export default \"{\\n    :create pin {\\n        cid: String =>\\n        type: Int\\n    }\\n}\\n{\\n    :create particle {\\n        cid: String =>\\n        mime: String,\\n        text: String,\\n        blocks: Int,\\n        size: Int,\\n        size_local: Int,\\n        type: String\\n    }\\n}\\n\\n{\\n    :create link {\\n        from: String,\\n        to: String,\\n        neuron: String =>\\n        timestamp: Int,\\n        transaction_hash: String default ''\\n    }\\n}\\n{\\n    :create transaction {\\n        hash: String,\\n        index: Int,\\n        neuron: String,\\n        type: String =>\\n        block_height: Int,\\n        success: Bool,\\n        timestamp: Int,\\n        value: Json,\\n        memo: String\\n    }\\n}\\n\\n{\\n    :create sync_status {\\n        owner_id: String,\\n        id: String =>\\n        entry_type: Int,\\n        disabled: Bool,\\n        timestamp_update: Int,\\n        timestamp_read: Int,\\n        unread_count: Int,\\n        meta: Json\\n    }\\n}\\n\\n{\\n    :create config {\\n        key: String,\\n        group_key: String =>\\n        value: Json\\n    }\\n}\\n\\n{\\n    :create sync_queue {\\n        id: String,\\n        job_type: Int =>\\n        data: String default '',\\n        status: Int default 0,\\n        priority: Float default 0,\\n    }\\n}\\n\\n{\\n    :create community {\\n        owner_id: String,\\n        neuron: String =>\\n        particle: String,\\n        name: String default '',\\n        following: Bool,\\n        follower: Bool\\n    }\\n}\\n{\\n    :create embeddings {\\n        cid: String =>\\n        vec: <F32; 384>\\n    }\\n}\\n{\\n    ::hnsw create embeddings:semantic{\\n        fields: [vec],\\n        dim: 384,\\n        ef: 100,\\n        m: 16\\n    }\\n}\";","export const enum Networks {\n  BOSTROM = 'bostrom',\n  LOCAL_BOSTROM = 'localbostrom',\n  SPACE_PUSSY = 'space-pussy',\n  ETH = 'eth',\n  OSMO = 'osmo',\n  TERRA = 'terra',\n  COSMOS = 'cosmoshub-4',\n}\n\nexport type NetworkConfig = {\n  CHAIN_ID: Networks;\n  BASE_DENOM: string;\n  DENOM_LIQUID: string;\n  RPC_URL: string;\n  LCD_URL: string;\n  WEBSOCKET_URL: string;\n  INDEX_HTTPS: string;\n  INDEX_WEBSOCKET: string;\n  BECH32_PREFIX: string;\n  MEMO_KEPLR: string;\n};\n\nexport type NetworksList = {\n  [key in Networks]: NetworkConfig;\n};\n","import { NetworkConfig, Networks } from 'src/types/networks';\n\ntype NetworksList = {\n  [key in Networks]: NetworkConfig;\n};\n\nconst defaultNetworks: NetworksList = {\n  bostrom: {\n    CHAIN_ID: Networks.BOSTROM,\n    BASE_DENOM: 'boot',\n    DENOM_LIQUID: 'hydrogen',\n    RPC_URL: 'https://rpc.bostrom.cybernode.ai',\n    LCD_URL: 'https://lcd.bostrom.cybernode.ai',\n    WEBSOCKET_URL: 'wss://rpc.bostrom.cybernode.ai/websocket',\n    INDEX_HTTPS: 'https://index.bostrom.cybernode.ai/v1/graphql',\n    INDEX_WEBSOCKET: 'wss://index.bostrom.cybernode.ai/v1/graphql',\n    BECH32_PREFIX: 'bostrom',\n    MEMO_KEPLR: '[bostrom] cyb.ai, using keplr',\n  },\n  localbostrom: {\n    CHAIN_ID: Networks.LOCAL_BOSTROM,\n    BASE_DENOM: 'boot',\n    DENOM_LIQUID: 'hydrogen',\n    RPC_URL: 'https://rpc.bostrom.moon.cybernode.ai',\n    LCD_URL: 'https://lcd.bostrom.moon.cybernode.ai',\n    WEBSOCKET_URL: 'wss://rpc.bostrom.moon.cybernode.ai/websocket',\n    INDEX_HTTPS: 'https://index.bostrom.moon.cybernode.ai/v1/graphql',\n    INDEX_WEBSOCKET: 'wss://index.bostrom.moon.cybernode.ai/v1/graphql',\n    BECH32_PREFIX: 'bostrom',\n    MEMO_KEPLR: '[bostrom] cyb.ai, using keplr',\n  },\n\n  'space-pussy': {\n    CHAIN_ID: Networks.SPACE_PUSSY,\n    BASE_DENOM: 'pussy',\n    DENOM_LIQUID: 'liquidpussy',\n    RPC_URL: 'https://rpc.space-pussy.cybernode.ai/',\n    LCD_URL: 'https://lcd.space-pussy.cybernode.ai',\n    WEBSOCKET_URL: 'wss://rpc.space-pussy.cybernode.ai/websocket',\n    INDEX_HTTPS: 'https://index.space-pussy.cybernode.ai/v1/graphql',\n    INDEX_WEBSOCKET: 'wss://index.space-pussy.cybernode.ai/v1/graphql',\n    BECH32_PREFIX: 'pussy',\n    MEMO_KEPLR: '[space-pussy] cyb.ai, using keplr',\n  },\n};\n\nexport default defaultNetworks;\n","import { Networks } from 'src/types/networks';\nimport defaultNetworks from './defaultNetworks';\n\n// FIXME: seems temp\nexport function isWorker() {\n  return (\n    typeof WorkerGlobalScope !== 'undefined' &&\n    self instanceof WorkerGlobalScope\n  );\n}\n\nconst LOCALSTORAGE_CHAIN_ID = !isWorker() && localStorage.getItem('chainId');\n\nconst DEFAULT_CHAIN_ID: Networks.BOSTROM | Networks.SPACE_PUSSY =\n  LOCALSTORAGE_CHAIN_ID || process.env.CHAIN_ID || Networks.BOSTROM;\n\nexport const CHAIN_ID = DEFAULT_CHAIN_ID;\n\nexport const LCD_URL =\n  process.env.LCD_URL || defaultNetworks[DEFAULT_CHAIN_ID].LCD_URL;\n\nexport const RPC_URL =\n  process.env.RPC_URL || defaultNetworks[DEFAULT_CHAIN_ID].RPC_URL;\n\nexport const WEBSOCKET_URL =\n  process.env.WEBSOCKET_URL || defaultNetworks[DEFAULT_CHAIN_ID].WEBSOCKET_URL;\n\nexport const INDEX_HTTPS =\n  process.env.INDEX_HTTPS || defaultNetworks[DEFAULT_CHAIN_ID].INDEX_HTTPS;\n\nexport const INDEX_WEBSOCKET =\n  process.env.INDEX_WEBSOCKET ||\n  defaultNetworks[DEFAULT_CHAIN_ID].INDEX_WEBSOCKET;\n\nexport const BECH32_PREFIX =\n  process.env.BECH32_PREFIX || defaultNetworks[DEFAULT_CHAIN_ID].BECH32_PREFIX;\n\nconst BECH32_PREFIX_VAL = `${BECH32_PREFIX}val`;\n\nexport const BECH32_PREFIX_VALOPER = `${BECH32_PREFIX_VAL}oper`;\n\nexport const BECH32_PREFIX_VAL_CONS = `${BECH32_PREFIX_VAL}cons`;\n\nexport const BASE_DENOM =\n  process.env.BASE_DENOM || defaultNetworks[DEFAULT_CHAIN_ID].BASE_DENOM;\n\nexport const DENOM_LIQUID =\n  process.env.DENOM_LIQUID || defaultNetworks[DEFAULT_CHAIN_ID].DENOM_LIQUID;\n\nexport const CYBER_GATEWAY =\n  process.env.CYBER_GATEWAY || 'https://gateway.ipfs.cybernode.ai';\n\nexport const DIVISOR_CYBER_G = 10 ** 9;\n\nexport const DEFAULT_GAS_LIMITS = 200000;\n\nexport const COIN_DECIMALS_RESOURCE = 3;\n\nexport const { MEMO_KEPLR } = defaultNetworks[DEFAULT_CHAIN_ID];\n","import { BECH32_PREFIX, BECH32_PREFIX_VALOPER } from './config';\n\nexport const PATTERN_CYBER = new RegExp(\n  `^${BECH32_PREFIX}[a-zA-Z0-9]{39}$`,\n  'g'\n);\n\nexport const PATTERN_SPACE_PUSSY = /^pussy[a-zA-Z0-9]{39}$/g;\n\nexport const PATTERN_IPFS_HASH = /^Qm[a-zA-Z0-9]{44}$/g;\n\nexport const PATTERN_CYBER_CONTRACT = new RegExp(\n  `^${BECH32_PREFIX}[a-zA-Z0-9]{59}$`,\n  'g'\n);\n\nexport const PATTERN_CYBER_VALOPER = new RegExp(\n  `^${BECH32_PREFIX_VALOPER}valoper[a-zA-Z0-9]{39}$`,\n  'g'\n);\n\nexport const PATTERN_COSMOS = /^cosmos[a-zA-Z0-9]{39}$/g;\n\nexport const PATTERN_OSMOS = /^osmo[a-zA-Z0-9]{39}$/g;\n\nexport const PATTERN_TERRA = /^terra[a-zA-Z0-9]{39}$/g;\n\nexport const PATTERN_ETH = /^0x[a-fA-F0-9]{40}$/g;\n\nexport const PATTERN_TX = /[0-9a-fA-F]{64}$/g;\n\nexport const PATTERN_BLOCK = /^[0-9]+$/g;\n\nexport const PATTERN_HTTP = /^https:\\/\\/|^http:\\/\\//g;\n\nexport const PATTERN_HTML = /<\\/?[\\w\\d]+>/gi;\n","/*\r\n *      bignumber.js v9.1.1\r\n *      A JavaScript library for arbitrary-precision arithmetic.\r\n *      https://github.com/MikeMcl/bignumber.js\r\n *      Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>\r\n *      MIT Licensed.\r\n *\r\n *      BigNumber.prototype methods     |  BigNumber methods\r\n *                                      |\r\n *      absoluteValue            abs    |  clone\r\n *      comparedTo                      |  config               set\r\n *      decimalPlaces            dp     |      DECIMAL_PLACES\r\n *      dividedBy                div    |      ROUNDING_MODE\r\n *      dividedToIntegerBy       idiv   |      EXPONENTIAL_AT\r\n *      exponentiatedBy          pow    |      RANGE\r\n *      integerValue                    |      CRYPTO\r\n *      isEqualTo                eq     |      MODULO_MODE\r\n *      isFinite                        |      POW_PRECISION\r\n *      isGreaterThan            gt     |      FORMAT\r\n *      isGreaterThanOrEqualTo   gte    |      ALPHABET\r\n *      isInteger                       |  isBigNumber\r\n *      isLessThan               lt     |  maximum              max\r\n *      isLessThanOrEqualTo      lte    |  minimum              min\r\n *      isNaN                           |  random\r\n *      isNegative                      |  sum\r\n *      isPositive                      |\r\n *      isZero                          |\r\n *      minus                           |\r\n *      modulo                   mod    |\r\n *      multipliedBy             times  |\r\n *      negated                         |\r\n *      plus                            |\r\n *      precision                sd     |\r\n *      shiftedBy                       |\r\n *      squareRoot               sqrt   |\r\n *      toExponential                   |\r\n *      toFixed                         |\r\n *      toFormat                        |\r\n *      toFraction                      |\r\n *      toJSON                          |\r\n *      toNumber                        |\r\n *      toPrecision                     |\r\n *      toString                        |\r\n *      valueOf                         |\r\n *\r\n */\r\n\r\n\r\nvar\r\n  isNumeric = /^-?(?:\\d+(?:\\.\\d*)?|\\.\\d+)(?:e[+-]?\\d+)?$/i,\r\n  mathceil = Math.ceil,\r\n  mathfloor = Math.floor,\r\n\r\n  bignumberError = '[BigNumber Error] ',\r\n  tooManyDigits = bignumberError + 'Number primitive has more than 15 significant digits: ',\r\n\r\n  BASE = 1e14,\r\n  LOG_BASE = 14,\r\n  MAX_SAFE_INTEGER = 0x1fffffffffffff,         // 2^53 - 1\r\n  // MAX_INT32 = 0x7fffffff,                   // 2^31 - 1\r\n  POWS_TEN = [1, 10, 100, 1e3, 1e4, 1e5, 1e6, 1e7, 1e8, 1e9, 1e10, 1e11, 1e12, 1e13],\r\n  SQRT_BASE = 1e7,\r\n\r\n  // EDITABLE\r\n  // The limit on the value of DECIMAL_PLACES, TO_EXP_NEG, TO_EXP_POS, MIN_EXP, MAX_EXP, and\r\n  // the arguments to toExponential, toFixed, toFormat, and toPrecision.\r\n  MAX = 1E9;                                   // 0 to MAX_INT32\r\n\r\n\r\n/*\r\n * Create and return a BigNumber constructor.\r\n */\r\nfunction clone(configObject) {\r\n  var div, convertBase, parseNumeric,\r\n    P = BigNumber.prototype = { constructor: BigNumber, toString: null, valueOf: null },\r\n    ONE = new BigNumber(1),\r\n\r\n\r\n    //----------------------------- EDITABLE CONFIG DEFAULTS -------------------------------\r\n\r\n\r\n    // The default values below must be integers within the inclusive ranges stated.\r\n    // The values can also be changed at run-time using BigNumber.set.\r\n\r\n    // The maximum number of decimal places for operations involving division.\r\n    DECIMAL_PLACES = 20,                     // 0 to MAX\r\n\r\n    // The rounding mode used when rounding to the above decimal places, and when using\r\n    // toExponential, toFixed, toFormat and toPrecision, and round (default value).\r\n    // UP         0 Away from zero.\r\n    // DOWN       1 Towards zero.\r\n    // CEIL       2 Towards +Infinity.\r\n    // FLOOR      3 Towards -Infinity.\r\n    // HALF_UP    4 Towards nearest neighbour. If equidistant, up.\r\n    // HALF_DOWN  5 Towards nearest neighbour. If equidistant, down.\r\n    // HALF_EVEN  6 Towards nearest neighbour. If equidistant, towards even neighbour.\r\n    // HALF_CEIL  7 Towards nearest neighbour. If equidistant, towards +Infinity.\r\n    // HALF_FLOOR 8 Towards nearest neighbour. If equidistant, towards -Infinity.\r\n    ROUNDING_MODE = 4,                       // 0 to 8\r\n\r\n    // EXPONENTIAL_AT : [TO_EXP_NEG , TO_EXP_POS]\r\n\r\n    // The exponent value at and beneath which toString returns exponential notation.\r\n    // Number type: -7\r\n    TO_EXP_NEG = -7,                         // 0 to -MAX\r\n\r\n    // The exponent value at and above which toString returns exponential notation.\r\n    // Number type: 21\r\n    TO_EXP_POS = 21,                         // 0 to MAX\r\n\r\n    // RANGE : [MIN_EXP, MAX_EXP]\r\n\r\n    // The minimum exponent value, beneath which underflow to zero occurs.\r\n    // Number type: -324  (5e-324)\r\n    MIN_EXP = -1e7,                          // -1 to -MAX\r\n\r\n    // The maximum exponent value, above which overflow to Infinity occurs.\r\n    // Number type:  308  (1.7976931348623157e+308)\r\n    // For MAX_EXP > 1e7, e.g. new BigNumber('1e100000000').plus(1) may be slow.\r\n    MAX_EXP = 1e7,                           // 1 to MAX\r\n\r\n    // Whether to use cryptographically-secure random number generation, if available.\r\n    CRYPTO = false,                          // true or false\r\n\r\n    // The modulo mode used when calculating the modulus: a mod n.\r\n    // The quotient (q = a / n) is calculated according to the corresponding rounding mode.\r\n    // The remainder (r) is calculated as: r = a - n * q.\r\n    //\r\n    // UP        0 The remainder is positive if the dividend is negative, else is negative.\r\n    // DOWN      1 The remainder has the same sign as the dividend.\r\n    //             This modulo mode is commonly known as 'truncated division' and is\r\n    //             equivalent to (a % n) in JavaScript.\r\n    // FLOOR     3 The remainder has the same sign as the divisor (Python %).\r\n    // HALF_EVEN 6 This modulo mode implements the IEEE 754 remainder function.\r\n    // EUCLID    9 Euclidian division. q = sign(n) * floor(a / abs(n)).\r\n    //             The remainder is always positive.\r\n    //\r\n    // The truncated division, floored division, Euclidian division and IEEE 754 remainder\r\n    // modes are commonly used for the modulus operation.\r\n    // Although the other rounding modes can also be used, they may not give useful results.\r\n    MODULO_MODE = 1,                         // 0 to 9\r\n\r\n    // The maximum number of significant digits of the result of the exponentiatedBy operation.\r\n    // If POW_PRECISION is 0, there will be unlimited significant digits.\r\n    POW_PRECISION = 0,                       // 0 to MAX\r\n\r\n    // The format specification used by the BigNumber.prototype.toFormat method.\r\n    FORMAT = {\r\n      prefix: '',\r\n      groupSize: 3,\r\n      secondaryGroupSize: 0,\r\n      groupSeparator: ',',\r\n      decimalSeparator: '.',\r\n      fractionGroupSize: 0,\r\n      fractionGroupSeparator: '\\xA0',        // non-breaking space\r\n      suffix: ''\r\n    },\r\n\r\n    // The alphabet used for base conversion. It must be at least 2 characters long, with no '+',\r\n    // '-', '.', whitespace, or repeated character.\r\n    // '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_'\r\n    ALPHABET = '0123456789abcdefghijklmnopqrstuvwxyz',\r\n    alphabetHasNormalDecimalDigits = true;\r\n\r\n\r\n  //------------------------------------------------------------------------------------------\r\n\r\n\r\n  // CONSTRUCTOR\r\n\r\n\r\n  /*\r\n   * The BigNumber constructor and exported function.\r\n   * Create and return a new instance of a BigNumber object.\r\n   *\r\n   * v {number|string|BigNumber} A numeric value.\r\n   * [b] {number} The base of v. Integer, 2 to ALPHABET.length inclusive.\r\n   */\r\n  function BigNumber(v, b) {\r\n    var alphabet, c, caseChanged, e, i, isNum, len, str,\r\n      x = this;\r\n\r\n    // Enable constructor call without `new`.\r\n    if (!(x instanceof BigNumber)) return new BigNumber(v, b);\r\n\r\n    if (b == null) {\r\n\r\n      if (v && v._isBigNumber === true) {\r\n        x.s = v.s;\r\n\r\n        if (!v.c || v.e > MAX_EXP) {\r\n          x.c = x.e = null;\r\n        } else if (v.e < MIN_EXP) {\r\n          x.c = [x.e = 0];\r\n        } else {\r\n          x.e = v.e;\r\n          x.c = v.c.slice();\r\n        }\r\n\r\n        return;\r\n      }\r\n\r\n      if ((isNum = typeof v == 'number') && v * 0 == 0) {\r\n\r\n        // Use `1 / n` to handle minus zero also.\r\n        x.s = 1 / v < 0 ? (v = -v, -1) : 1;\r\n\r\n        // Fast path for integers, where n < 2147483648 (2**31).\r\n        if (v === ~~v) {\r\n          for (e = 0, i = v; i >= 10; i /= 10, e++);\r\n\r\n          if (e > MAX_EXP) {\r\n            x.c = x.e = null;\r\n          } else {\r\n            x.e = e;\r\n            x.c = [v];\r\n          }\r\n\r\n          return;\r\n        }\r\n\r\n        str = String(v);\r\n      } else {\r\n\r\n        if (!isNumeric.test(str = String(v))) return parseNumeric(x, str, isNum);\r\n\r\n        x.s = str.charCodeAt(0) == 45 ? (str = str.slice(1), -1) : 1;\r\n      }\r\n\r\n      // Decimal point?\r\n      if ((e = str.indexOf('.')) > -1) str = str.replace('.', '');\r\n\r\n      // Exponential form?\r\n      if ((i = str.search(/e/i)) > 0) {\r\n\r\n        // Determine exponent.\r\n        if (e < 0) e = i;\r\n        e += +str.slice(i + 1);\r\n        str = str.substring(0, i);\r\n      } else if (e < 0) {\r\n\r\n        // Integer.\r\n        e = str.length;\r\n      }\r\n\r\n    } else {\r\n\r\n      // '[BigNumber Error] Base {not a primitive number|not an integer|out of range}: {b}'\r\n      intCheck(b, 2, ALPHABET.length, 'Base');\r\n\r\n      // Allow exponential notation to be used with base 10 argument, while\r\n      // also rounding to DECIMAL_PLACES as with other bases.\r\n      if (b == 10 && alphabetHasNormalDecimalDigits) {\r\n        x = new BigNumber(v);\r\n        return round(x, DECIMAL_PLACES + x.e + 1, ROUNDING_MODE);\r\n      }\r\n\r\n      str = String(v);\r\n\r\n      if (isNum = typeof v == 'number') {\r\n\r\n        // Avoid potential interpretation of Infinity and NaN as base 44+ values.\r\n        if (v * 0 != 0) return parseNumeric(x, str, isNum, b);\r\n\r\n        x.s = 1 / v < 0 ? (str = str.slice(1), -1) : 1;\r\n\r\n        // '[BigNumber Error] Number primitive has more than 15 significant digits: {n}'\r\n        if (BigNumber.DEBUG && str.replace(/^0\\.0*|\\./, '').length > 15) {\r\n          throw Error\r\n           (tooManyDigits + v);\r\n        }\r\n      } else {\r\n        x.s = str.charCodeAt(0) === 45 ? (str = str.slice(1), -1) : 1;\r\n      }\r\n\r\n      alphabet = ALPHABET.slice(0, b);\r\n      e = i = 0;\r\n\r\n      // Check that str is a valid base b number.\r\n      // Don't use RegExp, so alphabet can contain special characters.\r\n      for (len = str.length; i < len; i++) {\r\n        if (alphabet.indexOf(c = str.charAt(i)) < 0) {\r\n          if (c == '.') {\r\n\r\n            // If '.' is not the first character and it has not be found before.\r\n            if (i > e) {\r\n              e = len;\r\n              continue;\r\n            }\r\n          } else if (!caseChanged) {\r\n\r\n            // Allow e.g. hexadecimal 'FF' as well as 'ff'.\r\n            if (str == str.toUpperCase() && (str = str.toLowerCase()) ||\r\n                str == str.toLowerCase() && (str = str.toUpperCase())) {\r\n              caseChanged = true;\r\n              i = -1;\r\n              e = 0;\r\n              continue;\r\n            }\r\n          }\r\n\r\n          return parseNumeric(x, String(v), isNum, b);\r\n        }\r\n      }\r\n\r\n      // Prevent later check for length on converted number.\r\n      isNum = false;\r\n      str = convertBase(str, b, 10, x.s);\r\n\r\n      // Decimal point?\r\n      if ((e = str.indexOf('.')) > -1) str = str.replace('.', '');\r\n      else e = str.length;\r\n    }\r\n\r\n    // Determine leading zeros.\r\n    for (i = 0; str.charCodeAt(i) === 48; i++);\r\n\r\n    // Determine trailing zeros.\r\n    for (len = str.length; str.charCodeAt(--len) === 48;);\r\n\r\n    if (str = str.slice(i, ++len)) {\r\n      len -= i;\r\n\r\n      // '[BigNumber Error] Number primitive has more than 15 significant digits: {n}'\r\n      if (isNum && BigNumber.DEBUG &&\r\n        len > 15 && (v > MAX_SAFE_INTEGER || v !== mathfloor(v))) {\r\n          throw Error\r\n           (tooManyDigits + (x.s * v));\r\n      }\r\n\r\n       // Overflow?\r\n      if ((e = e - i - 1) > MAX_EXP) {\r\n\r\n        // Infinity.\r\n        x.c = x.e = null;\r\n\r\n      // Underflow?\r\n      } else if (e < MIN_EXP) {\r\n\r\n        // Zero.\r\n        x.c = [x.e = 0];\r\n      } else {\r\n        x.e = e;\r\n        x.c = [];\r\n\r\n        // Transform base\r\n\r\n        // e is the base 10 exponent.\r\n        // i is where to slice str to get the first element of the coefficient array.\r\n        i = (e + 1) % LOG_BASE;\r\n        if (e < 0) i += LOG_BASE;  // i < 1\r\n\r\n        if (i < len) {\r\n          if (i) x.c.push(+str.slice(0, i));\r\n\r\n          for (len -= LOG_BASE; i < len;) {\r\n            x.c.push(+str.slice(i, i += LOG_BASE));\r\n          }\r\n\r\n          i = LOG_BASE - (str = str.slice(i)).length;\r\n        } else {\r\n          i -= len;\r\n        }\r\n\r\n        for (; i--; str += '0');\r\n        x.c.push(+str);\r\n      }\r\n    } else {\r\n\r\n      // Zero.\r\n      x.c = [x.e = 0];\r\n    }\r\n  }\r\n\r\n\r\n  // CONSTRUCTOR PROPERTIES\r\n\r\n\r\n  BigNumber.clone = clone;\r\n\r\n  BigNumber.ROUND_UP = 0;\r\n  BigNumber.ROUND_DOWN = 1;\r\n  BigNumber.ROUND_CEIL = 2;\r\n  BigNumber.ROUND_FLOOR = 3;\r\n  BigNumber.ROUND_HALF_UP = 4;\r\n  BigNumber.ROUND_HALF_DOWN = 5;\r\n  BigNumber.ROUND_HALF_EVEN = 6;\r\n  BigNumber.ROUND_HALF_CEIL = 7;\r\n  BigNumber.ROUND_HALF_FLOOR = 8;\r\n  BigNumber.EUCLID = 9;\r\n\r\n\r\n  /*\r\n   * Configure infrequently-changing library-wide settings.\r\n   *\r\n   * Accept an object with the following optional properties (if the value of a property is\r\n   * a number, it must be an integer within the inclusive range stated):\r\n   *\r\n   *   DECIMAL_PLACES   {number}           0 to MAX\r\n   *   ROUNDING_MODE    {number}           0 to 8\r\n   *   EXPONENTIAL_AT   {number|number[]}  -MAX to MAX  or  [-MAX to 0, 0 to MAX]\r\n   *   RANGE            {number|number[]}  -MAX to MAX (not zero)  or  [-MAX to -1, 1 to MAX]\r\n   *   CRYPTO           {boolean}          true or false\r\n   *   MODULO_MODE      {number}           0 to 9\r\n   *   POW_PRECISION       {number}           0 to MAX\r\n   *   ALPHABET         {string}           A string of two or more unique characters which does\r\n   *                                       not contain '.'.\r\n   *   FORMAT           {object}           An object with some of the following properties:\r\n   *     prefix                 {string}\r\n   *     groupSize              {number}\r\n   *     secondaryGroupSize     {number}\r\n   *     groupSeparator         {string}\r\n   *     decimalSeparator       {string}\r\n   *     fractionGroupSize      {number}\r\n   *     fractionGroupSeparator {string}\r\n   *     suffix                 {string}\r\n   *\r\n   * (The values assigned to the above FORMAT object properties are not checked for validity.)\r\n   *\r\n   * E.g.\r\n   * BigNumber.config({ DECIMAL_PLACES : 20, ROUNDING_MODE : 4 })\r\n   *\r\n   * Ignore properties/parameters set to null or undefined, except for ALPHABET.\r\n   *\r\n   * Return an object with the properties current values.\r\n   */\r\n  BigNumber.config = BigNumber.set = function (obj) {\r\n    var p, v;\r\n\r\n    if (obj != null) {\r\n\r\n      if (typeof obj == 'object') {\r\n\r\n        // DECIMAL_PLACES {number} Integer, 0 to MAX inclusive.\r\n        // '[BigNumber Error] DECIMAL_PLACES {not a primitive number|not an integer|out of range}: {v}'\r\n        if (obj.hasOwnProperty(p = 'DECIMAL_PLACES')) {\r\n          v = obj[p];\r\n          intCheck(v, 0, MAX, p);\r\n          DECIMAL_PLACES = v;\r\n        }\r\n\r\n        // ROUNDING_MODE {number} Integer, 0 to 8 inclusive.\r\n        // '[BigNumber Error] ROUNDING_MODE {not a primitive number|not an integer|out of range}: {v}'\r\n        if (obj.hasOwnProperty(p = 'ROUNDING_MODE')) {\r\n          v = obj[p];\r\n          intCheck(v, 0, 8, p);\r\n          ROUNDING_MODE = v;\r\n        }\r\n\r\n        // EXPONENTIAL_AT {number|number[]}\r\n        // Integer, -MAX to MAX inclusive or\r\n        // [integer -MAX to 0 inclusive, 0 to MAX inclusive].\r\n        // '[BigNumber Error] EXPONENTIAL_AT {not a primitive number|not an integer|out of range}: {v}'\r\n        if (obj.hasOwnProperty(p = 'EXPONENTIAL_AT')) {\r\n          v = obj[p];\r\n          if (v && v.pop) {\r\n            intCheck(v[0], -MAX, 0, p);\r\n            intCheck(v[1], 0, MAX, p);\r\n            TO_EXP_NEG = v[0];\r\n            TO_EXP_POS = v[1];\r\n          } else {\r\n            intCheck(v, -MAX, MAX, p);\r\n            TO_EXP_NEG = -(TO_EXP_POS = v < 0 ? -v : v);\r\n          }\r\n        }\r\n\r\n        // RANGE {number|number[]} Non-zero integer, -MAX to MAX inclusive or\r\n        // [integer -MAX to -1 inclusive, integer 1 to MAX inclusive].\r\n        // '[BigNumber Error] RANGE {not a primitive number|not an integer|out of range|cannot be zero}: {v}'\r\n        if (obj.hasOwnProperty(p = 'RANGE')) {\r\n          v = obj[p];\r\n          if (v && v.pop) {\r\n            intCheck(v[0], -MAX, -1, p);\r\n            intCheck(v[1], 1, MAX, p);\r\n            MIN_EXP = v[0];\r\n            MAX_EXP = v[1];\r\n          } else {\r\n            intCheck(v, -MAX, MAX, p);\r\n            if (v) {\r\n              MIN_EXP = -(MAX_EXP = v < 0 ? -v : v);\r\n            } else {\r\n              throw Error\r\n               (bignumberError + p + ' cannot be zero: ' + v);\r\n            }\r\n          }\r\n        }\r\n\r\n        // CRYPTO {boolean} true or false.\r\n        // '[BigNumber Error] CRYPTO not true or false: {v}'\r\n        // '[BigNumber Error] crypto unavailable'\r\n        if (obj.hasOwnProperty(p = 'CRYPTO')) {\r\n          v = obj[p];\r\n          if (v === !!v) {\r\n            if (v) {\r\n              if (typeof crypto != 'undefined' && crypto &&\r\n               (crypto.getRandomValues || crypto.randomBytes)) {\r\n                CRYPTO = v;\r\n              } else {\r\n                CRYPTO = !v;\r\n                throw Error\r\n                 (bignumberError + 'crypto unavailable');\r\n              }\r\n            } else {\r\n              CRYPTO = v;\r\n            }\r\n          } else {\r\n            throw Error\r\n             (bignumberError + p + ' not true or false: ' + v);\r\n          }\r\n        }\r\n\r\n        // MODULO_MODE {number} Integer, 0 to 9 inclusive.\r\n        // '[BigNumber Error] MODULO_MODE {not a primitive number|not an integer|out of range}: {v}'\r\n        if (obj.hasOwnProperty(p = 'MODULO_MODE')) {\r\n          v = obj[p];\r\n          intCheck(v, 0, 9, p);\r\n          MODULO_MODE = v;\r\n        }\r\n\r\n        // POW_PRECISION {number} Integer, 0 to MAX inclusive.\r\n        // '[BigNumber Error] POW_PRECISION {not a primitive number|not an integer|out of range}: {v}'\r\n        if (obj.hasOwnProperty(p = 'POW_PRECISION')) {\r\n          v = obj[p];\r\n          intCheck(v, 0, MAX, p);\r\n          POW_PRECISION = v;\r\n        }\r\n\r\n        // FORMAT {object}\r\n        // '[BigNumber Error] FORMAT not an object: {v}'\r\n        if (obj.hasOwnProperty(p = 'FORMAT')) {\r\n          v = obj[p];\r\n          if (typeof v == 'object') FORMAT = v;\r\n          else throw Error\r\n           (bignumberError + p + ' not an object: ' + v);\r\n        }\r\n\r\n        // ALPHABET {string}\r\n        // '[BigNumber Error] ALPHABET invalid: {v}'\r\n        if (obj.hasOwnProperty(p = 'ALPHABET')) {\r\n          v = obj[p];\r\n\r\n          // Disallow if less than two characters,\r\n          // or if it contains '+', '-', '.', whitespace, or a repeated character.\r\n          if (typeof v == 'string' && !/^.?$|[+\\-.\\s]|(.).*\\1/.test(v)) {\r\n            alphabetHasNormalDecimalDigits = v.slice(0, 10) == '0123456789';\r\n            ALPHABET = v;\r\n          } else {\r\n            throw Error\r\n             (bignumberError + p + ' invalid: ' + v);\r\n          }\r\n        }\r\n\r\n      } else {\r\n\r\n        // '[BigNumber Error] Object expected: {v}'\r\n        throw Error\r\n         (bignumberError + 'Object expected: ' + obj);\r\n      }\r\n    }\r\n\r\n    return {\r\n      DECIMAL_PLACES: DECIMAL_PLACES,\r\n      ROUNDING_MODE: ROUNDING_MODE,\r\n      EXPONENTIAL_AT: [TO_EXP_NEG, TO_EXP_POS],\r\n      RANGE: [MIN_EXP, MAX_EXP],\r\n      CRYPTO: CRYPTO,\r\n      MODULO_MODE: MODULO_MODE,\r\n      POW_PRECISION: POW_PRECISION,\r\n      FORMAT: FORMAT,\r\n      ALPHABET: ALPHABET\r\n    };\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if v is a BigNumber instance, otherwise return false.\r\n   *\r\n   * If BigNumber.DEBUG is true, throw if a BigNumber instance is not well-formed.\r\n   *\r\n   * v {any}\r\n   *\r\n   * '[BigNumber Error] Invalid BigNumber: {v}'\r\n   */\r\n  BigNumber.isBigNumber = function (v) {\r\n    if (!v || v._isBigNumber !== true) return false;\r\n    if (!BigNumber.DEBUG) return true;\r\n\r\n    var i, n,\r\n      c = v.c,\r\n      e = v.e,\r\n      s = v.s;\r\n\r\n    out: if ({}.toString.call(c) == '[object Array]') {\r\n\r\n      if ((s === 1 || s === -1) && e >= -MAX && e <= MAX && e === mathfloor(e)) {\r\n\r\n        // If the first element is zero, the BigNumber value must be zero.\r\n        if (c[0] === 0) {\r\n          if (e === 0 && c.length === 1) return true;\r\n          break out;\r\n        }\r\n\r\n        // Calculate number of digits that c[0] should have, based on the exponent.\r\n        i = (e + 1) % LOG_BASE;\r\n        if (i < 1) i += LOG_BASE;\r\n\r\n        // Calculate number of digits of c[0].\r\n        //if (Math.ceil(Math.log(c[0] + 1) / Math.LN10) == i) {\r\n        if (String(c[0]).length == i) {\r\n\r\n          for (i = 0; i < c.length; i++) {\r\n            n = c[i];\r\n            if (n < 0 || n >= BASE || n !== mathfloor(n)) break out;\r\n          }\r\n\r\n          // Last element cannot be zero, unless it is the only element.\r\n          if (n !== 0) return true;\r\n        }\r\n      }\r\n\r\n    // Infinity/NaN\r\n    } else if (c === null && e === null && (s === null || s === 1 || s === -1)) {\r\n      return true;\r\n    }\r\n\r\n    throw Error\r\n      (bignumberError + 'Invalid BigNumber: ' + v);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber whose value is the maximum of the arguments.\r\n   *\r\n   * arguments {number|string|BigNumber}\r\n   */\r\n  BigNumber.maximum = BigNumber.max = function () {\r\n    return maxOrMin(arguments, P.lt);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber whose value is the minimum of the arguments.\r\n   *\r\n   * arguments {number|string|BigNumber}\r\n   */\r\n  BigNumber.minimum = BigNumber.min = function () {\r\n    return maxOrMin(arguments, P.gt);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber with a random value equal to or greater than 0 and less than 1,\r\n   * and with dp, or DECIMAL_PLACES if dp is omitted, decimal places (or less if trailing\r\n   * zeros are produced).\r\n   *\r\n   * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp}'\r\n   * '[BigNumber Error] crypto unavailable'\r\n   */\r\n  BigNumber.random = (function () {\r\n    var pow2_53 = 0x20000000000000;\r\n\r\n    // Return a 53 bit integer n, where 0 <= n < 9007199254740992.\r\n    // Check if Math.random() produces more than 32 bits of randomness.\r\n    // If it does, assume at least 53 bits are produced, otherwise assume at least 30 bits.\r\n    // 0x40000000 is 2^30, 0x800000 is 2^23, 0x1fffff is 2^21 - 1.\r\n    var random53bitInt = (Math.random() * pow2_53) & 0x1fffff\r\n     ? function () { return mathfloor(Math.random() * pow2_53); }\r\n     : function () { return ((Math.random() * 0x40000000 | 0) * 0x800000) +\r\n       (Math.random() * 0x800000 | 0); };\r\n\r\n    return function (dp) {\r\n      var a, b, e, k, v,\r\n        i = 0,\r\n        c = [],\r\n        rand = new BigNumber(ONE);\r\n\r\n      if (dp == null) dp = DECIMAL_PLACES;\r\n      else intCheck(dp, 0, MAX);\r\n\r\n      k = mathceil(dp / LOG_BASE);\r\n\r\n      if (CRYPTO) {\r\n\r\n        // Browsers supporting crypto.getRandomValues.\r\n        if (crypto.getRandomValues) {\r\n\r\n          a = crypto.getRandomValues(new Uint32Array(k *= 2));\r\n\r\n          for (; i < k;) {\r\n\r\n            // 53 bits:\r\n            // ((Math.pow(2, 32) - 1) * Math.pow(2, 21)).toString(2)\r\n            // 11111 11111111 11111111 11111111 11100000 00000000 00000000\r\n            // ((Math.pow(2, 32) - 1) >>> 11).toString(2)\r\n            //                                     11111 11111111 11111111\r\n            // 0x20000 is 2^21.\r\n            v = a[i] * 0x20000 + (a[i + 1] >>> 11);\r\n\r\n            // Rejection sampling:\r\n            // 0 <= v < 9007199254740992\r\n            // Probability that v >= 9e15, is\r\n            // 7199254740992 / 9007199254740992 ~= 0.0008, i.e. 1 in 1251\r\n            if (v >= 9e15) {\r\n              b = crypto.getRandomValues(new Uint32Array(2));\r\n              a[i] = b[0];\r\n              a[i + 1] = b[1];\r\n            } else {\r\n\r\n              // 0 <= v <= 8999999999999999\r\n              // 0 <= (v % 1e14) <= 99999999999999\r\n              c.push(v % 1e14);\r\n              i += 2;\r\n            }\r\n          }\r\n          i = k / 2;\r\n\r\n        // Node.js supporting crypto.randomBytes.\r\n        } else if (crypto.randomBytes) {\r\n\r\n          // buffer\r\n          a = crypto.randomBytes(k *= 7);\r\n\r\n          for (; i < k;) {\r\n\r\n            // 0x1000000000000 is 2^48, 0x10000000000 is 2^40\r\n            // 0x100000000 is 2^32, 0x1000000 is 2^24\r\n            // 11111 11111111 11111111 11111111 11111111 11111111 11111111\r\n            // 0 <= v < 9007199254740992\r\n            v = ((a[i] & 31) * 0x1000000000000) + (a[i + 1] * 0x10000000000) +\r\n               (a[i + 2] * 0x100000000) + (a[i + 3] * 0x1000000) +\r\n               (a[i + 4] << 16) + (a[i + 5] << 8) + a[i + 6];\r\n\r\n            if (v >= 9e15) {\r\n              crypto.randomBytes(7).copy(a, i);\r\n            } else {\r\n\r\n              // 0 <= (v % 1e14) <= 99999999999999\r\n              c.push(v % 1e14);\r\n              i += 7;\r\n            }\r\n          }\r\n          i = k / 7;\r\n        } else {\r\n          CRYPTO = false;\r\n          throw Error\r\n           (bignumberError + 'crypto unavailable');\r\n        }\r\n      }\r\n\r\n      // Use Math.random.\r\n      if (!CRYPTO) {\r\n\r\n        for (; i < k;) {\r\n          v = random53bitInt();\r\n          if (v < 9e15) c[i++] = v % 1e14;\r\n        }\r\n      }\r\n\r\n      k = c[--i];\r\n      dp %= LOG_BASE;\r\n\r\n      // Convert trailing digits to zeros according to dp.\r\n      if (k && dp) {\r\n        v = POWS_TEN[LOG_BASE - dp];\r\n        c[i] = mathfloor(k / v) * v;\r\n      }\r\n\r\n      // Remove trailing elements which are zero.\r\n      for (; c[i] === 0; c.pop(), i--);\r\n\r\n      // Zero?\r\n      if (i < 0) {\r\n        c = [e = 0];\r\n      } else {\r\n\r\n        // Remove leading elements which are zero and adjust exponent accordingly.\r\n        for (e = -1 ; c[0] === 0; c.splice(0, 1), e -= LOG_BASE);\r\n\r\n        // Count the digits of the first element of c to determine leading zeros, and...\r\n        for (i = 1, v = c[0]; v >= 10; v /= 10, i++);\r\n\r\n        // adjust the exponent accordingly.\r\n        if (i < LOG_BASE) e -= LOG_BASE - i;\r\n      }\r\n\r\n      rand.e = e;\r\n      rand.c = c;\r\n      return rand;\r\n    };\r\n  })();\r\n\r\n\r\n   /*\r\n   * Return a BigNumber whose value is the sum of the arguments.\r\n   *\r\n   * arguments {number|string|BigNumber}\r\n   */\r\n  BigNumber.sum = function () {\r\n    var i = 1,\r\n      args = arguments,\r\n      sum = new BigNumber(args[0]);\r\n    for (; i < args.length;) sum = sum.plus(args[i++]);\r\n    return sum;\r\n  };\r\n\r\n\r\n  // PRIVATE FUNCTIONS\r\n\r\n\r\n  // Called by BigNumber and BigNumber.prototype.toString.\r\n  convertBase = (function () {\r\n    var decimal = '0123456789';\r\n\r\n    /*\r\n     * Convert string of baseIn to an array of numbers of baseOut.\r\n     * Eg. toBaseOut('255', 10, 16) returns [15, 15].\r\n     * Eg. toBaseOut('ff', 16, 10) returns [2, 5, 5].\r\n     */\r\n    function toBaseOut(str, baseIn, baseOut, alphabet) {\r\n      var j,\r\n        arr = [0],\r\n        arrL,\r\n        i = 0,\r\n        len = str.length;\r\n\r\n      for (; i < len;) {\r\n        for (arrL = arr.length; arrL--; arr[arrL] *= baseIn);\r\n\r\n        arr[0] += alphabet.indexOf(str.charAt(i++));\r\n\r\n        for (j = 0; j < arr.length; j++) {\r\n\r\n          if (arr[j] > baseOut - 1) {\r\n            if (arr[j + 1] == null) arr[j + 1] = 0;\r\n            arr[j + 1] += arr[j] / baseOut | 0;\r\n            arr[j] %= baseOut;\r\n          }\r\n        }\r\n      }\r\n\r\n      return arr.reverse();\r\n    }\r\n\r\n    // Convert a numeric string of baseIn to a numeric string of baseOut.\r\n    // If the caller is toString, we are converting from base 10 to baseOut.\r\n    // If the caller is BigNumber, we are converting from baseIn to base 10.\r\n    return function (str, baseIn, baseOut, sign, callerIsToString) {\r\n      var alphabet, d, e, k, r, x, xc, y,\r\n        i = str.indexOf('.'),\r\n        dp = DECIMAL_PLACES,\r\n        rm = ROUNDING_MODE;\r\n\r\n      // Non-integer.\r\n      if (i >= 0) {\r\n        k = POW_PRECISION;\r\n\r\n        // Unlimited precision.\r\n        POW_PRECISION = 0;\r\n        str = str.replace('.', '');\r\n        y = new BigNumber(baseIn);\r\n        x = y.pow(str.length - i);\r\n        POW_PRECISION = k;\r\n\r\n        // Convert str as if an integer, then restore the fraction part by dividing the\r\n        // result by its base raised to a power.\r\n\r\n        y.c = toBaseOut(toFixedPoint(coeffToString(x.c), x.e, '0'),\r\n         10, baseOut, decimal);\r\n        y.e = y.c.length;\r\n      }\r\n\r\n      // Convert the number as integer.\r\n\r\n      xc = toBaseOut(str, baseIn, baseOut, callerIsToString\r\n       ? (alphabet = ALPHABET, decimal)\r\n       : (alphabet = decimal, ALPHABET));\r\n\r\n      // xc now represents str as an integer and converted to baseOut. e is the exponent.\r\n      e = k = xc.length;\r\n\r\n      // Remove trailing zeros.\r\n      for (; xc[--k] == 0; xc.pop());\r\n\r\n      // Zero?\r\n      if (!xc[0]) return alphabet.charAt(0);\r\n\r\n      // Does str represent an integer? If so, no need for the division.\r\n      if (i < 0) {\r\n        --e;\r\n      } else {\r\n        x.c = xc;\r\n        x.e = e;\r\n\r\n        // The sign is needed for correct rounding.\r\n        x.s = sign;\r\n        x = div(x, y, dp, rm, baseOut);\r\n        xc = x.c;\r\n        r = x.r;\r\n        e = x.e;\r\n      }\r\n\r\n      // xc now represents str converted to baseOut.\r\n\r\n      // THe index of the rounding digit.\r\n      d = e + dp + 1;\r\n\r\n      // The rounding digit: the digit to the right of the digit that may be rounded up.\r\n      i = xc[d];\r\n\r\n      // Look at the rounding digits and mode to determine whether to round up.\r\n\r\n      k = baseOut / 2;\r\n      r = r || d < 0 || xc[d + 1] != null;\r\n\r\n      r = rm < 4 ? (i != null || r) && (rm == 0 || rm == (x.s < 0 ? 3 : 2))\r\n            : i > k || i == k &&(rm == 4 || r || rm == 6 && xc[d - 1] & 1 ||\r\n             rm == (x.s < 0 ? 8 : 7));\r\n\r\n      // If the index of the rounding digit is not greater than zero, or xc represents\r\n      // zero, then the result of the base conversion is zero or, if rounding up, a value\r\n      // such as 0.00001.\r\n      if (d < 1 || !xc[0]) {\r\n\r\n        // 1^-dp or 0\r\n        str = r ? toFixedPoint(alphabet.charAt(1), -dp, alphabet.charAt(0)) : alphabet.charAt(0);\r\n      } else {\r\n\r\n        // Truncate xc to the required number of decimal places.\r\n        xc.length = d;\r\n\r\n        // Round up?\r\n        if (r) {\r\n\r\n          // Rounding up may mean the previous digit has to be rounded up and so on.\r\n          for (--baseOut; ++xc[--d] > baseOut;) {\r\n            xc[d] = 0;\r\n\r\n            if (!d) {\r\n              ++e;\r\n              xc = [1].concat(xc);\r\n            }\r\n          }\r\n        }\r\n\r\n        // Determine trailing zeros.\r\n        for (k = xc.length; !xc[--k];);\r\n\r\n        // E.g. [4, 11, 15] becomes 4bf.\r\n        for (i = 0, str = ''; i <= k; str += alphabet.charAt(xc[i++]));\r\n\r\n        // Add leading zeros, decimal point and trailing zeros as required.\r\n        str = toFixedPoint(str, e, alphabet.charAt(0));\r\n      }\r\n\r\n      // The caller will add the sign.\r\n      return str;\r\n    };\r\n  })();\r\n\r\n\r\n  // Perform division in the specified base. Called by div and convertBase.\r\n  div = (function () {\r\n\r\n    // Assume non-zero x and k.\r\n    function multiply(x, k, base) {\r\n      var m, temp, xlo, xhi,\r\n        carry = 0,\r\n        i = x.length,\r\n        klo = k % SQRT_BASE,\r\n        khi = k / SQRT_BASE | 0;\r\n\r\n      for (x = x.slice(); i--;) {\r\n        xlo = x[i] % SQRT_BASE;\r\n        xhi = x[i] / SQRT_BASE | 0;\r\n        m = khi * xlo + xhi * klo;\r\n        temp = klo * xlo + ((m % SQRT_BASE) * SQRT_BASE) + carry;\r\n        carry = (temp / base | 0) + (m / SQRT_BASE | 0) + khi * xhi;\r\n        x[i] = temp % base;\r\n      }\r\n\r\n      if (carry) x = [carry].concat(x);\r\n\r\n      return x;\r\n    }\r\n\r\n    function compare(a, b, aL, bL) {\r\n      var i, cmp;\r\n\r\n      if (aL != bL) {\r\n        cmp = aL > bL ? 1 : -1;\r\n      } else {\r\n\r\n        for (i = cmp = 0; i < aL; i++) {\r\n\r\n          if (a[i] != b[i]) {\r\n            cmp = a[i] > b[i] ? 1 : -1;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n\r\n      return cmp;\r\n    }\r\n\r\n    function subtract(a, b, aL, base) {\r\n      var i = 0;\r\n\r\n      // Subtract b from a.\r\n      for (; aL--;) {\r\n        a[aL] -= i;\r\n        i = a[aL] < b[aL] ? 1 : 0;\r\n        a[aL] = i * base + a[aL] - b[aL];\r\n      }\r\n\r\n      // Remove leading zeros.\r\n      for (; !a[0] && a.length > 1; a.splice(0, 1));\r\n    }\r\n\r\n    // x: dividend, y: divisor.\r\n    return function (x, y, dp, rm, base) {\r\n      var cmp, e, i, more, n, prod, prodL, q, qc, rem, remL, rem0, xi, xL, yc0,\r\n        yL, yz,\r\n        s = x.s == y.s ? 1 : -1,\r\n        xc = x.c,\r\n        yc = y.c;\r\n\r\n      // Either NaN, Infinity or 0?\r\n      if (!xc || !xc[0] || !yc || !yc[0]) {\r\n\r\n        return new BigNumber(\r\n\r\n         // Return NaN if either NaN, or both Infinity or 0.\r\n         !x.s || !y.s || (xc ? yc && xc[0] == yc[0] : !yc) ? NaN :\r\n\r\n          // Return 0 if x is 0 or y is Infinity, or return Infinity as y is 0.\r\n          xc && xc[0] == 0 || !yc ? s * 0 : s / 0\r\n       );\r\n      }\r\n\r\n      q = new BigNumber(s);\r\n      qc = q.c = [];\r\n      e = x.e - y.e;\r\n      s = dp + e + 1;\r\n\r\n      if (!base) {\r\n        base = BASE;\r\n        e = bitFloor(x.e / LOG_BASE) - bitFloor(y.e / LOG_BASE);\r\n        s = s / LOG_BASE | 0;\r\n      }\r\n\r\n      // Result exponent may be one less then the current value of e.\r\n      // The coefficients of the BigNumbers from convertBase may have trailing zeros.\r\n      for (i = 0; yc[i] == (xc[i] || 0); i++);\r\n\r\n      if (yc[i] > (xc[i] || 0)) e--;\r\n\r\n      if (s < 0) {\r\n        qc.push(1);\r\n        more = true;\r\n      } else {\r\n        xL = xc.length;\r\n        yL = yc.length;\r\n        i = 0;\r\n        s += 2;\r\n\r\n        // Normalise xc and yc so highest order digit of yc is >= base / 2.\r\n\r\n        n = mathfloor(base / (yc[0] + 1));\r\n\r\n        // Not necessary, but to handle odd bases where yc[0] == (base / 2) - 1.\r\n        // if (n > 1 || n++ == 1 && yc[0] < base / 2) {\r\n        if (n > 1) {\r\n          yc = multiply(yc, n, base);\r\n          xc = multiply(xc, n, base);\r\n          yL = yc.length;\r\n          xL = xc.length;\r\n        }\r\n\r\n        xi = yL;\r\n        rem = xc.slice(0, yL);\r\n        remL = rem.length;\r\n\r\n        // Add zeros to make remainder as long as divisor.\r\n        for (; remL < yL; rem[remL++] = 0);\r\n        yz = yc.slice();\r\n        yz = [0].concat(yz);\r\n        yc0 = yc[0];\r\n        if (yc[1] >= base / 2) yc0++;\r\n        // Not necessary, but to prevent trial digit n > base, when using base 3.\r\n        // else if (base == 3 && yc0 == 1) yc0 = 1 + 1e-15;\r\n\r\n        do {\r\n          n = 0;\r\n\r\n          // Compare divisor and remainder.\r\n          cmp = compare(yc, rem, yL, remL);\r\n\r\n          // If divisor < remainder.\r\n          if (cmp < 0) {\r\n\r\n            // Calculate trial digit, n.\r\n\r\n            rem0 = rem[0];\r\n            if (yL != remL) rem0 = rem0 * base + (rem[1] || 0);\r\n\r\n            // n is how many times the divisor goes into the current remainder.\r\n            n = mathfloor(rem0 / yc0);\r\n\r\n            //  Algorithm:\r\n            //  product = divisor multiplied by trial digit (n).\r\n            //  Compare product and remainder.\r\n            //  If product is greater than remainder:\r\n            //    Subtract divisor from product, decrement trial digit.\r\n            //  Subtract product from remainder.\r\n            //  If product was less than remainder at the last compare:\r\n            //    Compare new remainder and divisor.\r\n            //    If remainder is greater than divisor:\r\n            //      Subtract divisor from remainder, increment trial digit.\r\n\r\n            if (n > 1) {\r\n\r\n              // n may be > base only when base is 3.\r\n              if (n >= base) n = base - 1;\r\n\r\n              // product = divisor * trial digit.\r\n              prod = multiply(yc, n, base);\r\n              prodL = prod.length;\r\n              remL = rem.length;\r\n\r\n              // Compare product and remainder.\r\n              // If product > remainder then trial digit n too high.\r\n              // n is 1 too high about 5% of the time, and is not known to have\r\n              // ever been more than 1 too high.\r\n              while (compare(prod, rem, prodL, remL) == 1) {\r\n                n--;\r\n\r\n                // Subtract divisor from product.\r\n                subtract(prod, yL < prodL ? yz : yc, prodL, base);\r\n                prodL = prod.length;\r\n                cmp = 1;\r\n              }\r\n            } else {\r\n\r\n              // n is 0 or 1, cmp is -1.\r\n              // If n is 0, there is no need to compare yc and rem again below,\r\n              // so change cmp to 1 to avoid it.\r\n              // If n is 1, leave cmp as -1, so yc and rem are compared again.\r\n              if (n == 0) {\r\n\r\n                // divisor < remainder, so n must be at least 1.\r\n                cmp = n = 1;\r\n              }\r\n\r\n              // product = divisor\r\n              prod = yc.slice();\r\n              prodL = prod.length;\r\n            }\r\n\r\n            if (prodL < remL) prod = [0].concat(prod);\r\n\r\n            // Subtract product from remainder.\r\n            subtract(rem, prod, remL, base);\r\n            remL = rem.length;\r\n\r\n             // If product was < remainder.\r\n            if (cmp == -1) {\r\n\r\n              // Compare divisor and new remainder.\r\n              // If divisor < new remainder, subtract divisor from remainder.\r\n              // Trial digit n too low.\r\n              // n is 1 too low about 5% of the time, and very rarely 2 too low.\r\n              while (compare(yc, rem, yL, remL) < 1) {\r\n                n++;\r\n\r\n                // Subtract divisor from remainder.\r\n                subtract(rem, yL < remL ? yz : yc, remL, base);\r\n                remL = rem.length;\r\n              }\r\n            }\r\n          } else if (cmp === 0) {\r\n            n++;\r\n            rem = [0];\r\n          } // else cmp === 1 and n will be 0\r\n\r\n          // Add the next digit, n, to the result array.\r\n          qc[i++] = n;\r\n\r\n          // Update the remainder.\r\n          if (rem[0]) {\r\n            rem[remL++] = xc[xi] || 0;\r\n          } else {\r\n            rem = [xc[xi]];\r\n            remL = 1;\r\n          }\r\n        } while ((xi++ < xL || rem[0] != null) && s--);\r\n\r\n        more = rem[0] != null;\r\n\r\n        // Leading zero?\r\n        if (!qc[0]) qc.splice(0, 1);\r\n      }\r\n\r\n      if (base == BASE) {\r\n\r\n        // To calculate q.e, first get the number of digits of qc[0].\r\n        for (i = 1, s = qc[0]; s >= 10; s /= 10, i++);\r\n\r\n        round(q, dp + (q.e = i + e * LOG_BASE - 1) + 1, rm, more);\r\n\r\n      // Caller is convertBase.\r\n      } else {\r\n        q.e = e;\r\n        q.r = +more;\r\n      }\r\n\r\n      return q;\r\n    };\r\n  })();\r\n\r\n\r\n  /*\r\n   * Return a string representing the value of BigNumber n in fixed-point or exponential\r\n   * notation rounded to the specified decimal places or significant digits.\r\n   *\r\n   * n: a BigNumber.\r\n   * i: the index of the last digit required (i.e. the digit that may be rounded up).\r\n   * rm: the rounding mode.\r\n   * id: 1 (toExponential) or 2 (toPrecision).\r\n   */\r\n  function format(n, i, rm, id) {\r\n    var c0, e, ne, len, str;\r\n\r\n    if (rm == null) rm = ROUNDING_MODE;\r\n    else intCheck(rm, 0, 8);\r\n\r\n    if (!n.c) return n.toString();\r\n\r\n    c0 = n.c[0];\r\n    ne = n.e;\r\n\r\n    if (i == null) {\r\n      str = coeffToString(n.c);\r\n      str = id == 1 || id == 2 && (ne <= TO_EXP_NEG || ne >= TO_EXP_POS)\r\n       ? toExponential(str, ne)\r\n       : toFixedPoint(str, ne, '0');\r\n    } else {\r\n      n = round(new BigNumber(n), i, rm);\r\n\r\n      // n.e may have changed if the value was rounded up.\r\n      e = n.e;\r\n\r\n      str = coeffToString(n.c);\r\n      len = str.length;\r\n\r\n      // toPrecision returns exponential notation if the number of significant digits\r\n      // specified is less than the number of digits necessary to represent the integer\r\n      // part of the value in fixed-point notation.\r\n\r\n      // Exponential notation.\r\n      if (id == 1 || id == 2 && (i <= e || e <= TO_EXP_NEG)) {\r\n\r\n        // Append zeros?\r\n        for (; len < i; str += '0', len++);\r\n        str = toExponential(str, e);\r\n\r\n      // Fixed-point notation.\r\n      } else {\r\n        i -= ne;\r\n        str = toFixedPoint(str, e, '0');\r\n\r\n        // Append zeros?\r\n        if (e + 1 > len) {\r\n          if (--i > 0) for (str += '.'; i--; str += '0');\r\n        } else {\r\n          i += e - len;\r\n          if (i > 0) {\r\n            if (e + 1 == len) str += '.';\r\n            for (; i--; str += '0');\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return n.s < 0 && c0 ? '-' + str : str;\r\n  }\r\n\r\n\r\n  // Handle BigNumber.max and BigNumber.min.\r\n  function maxOrMin(args, method) {\r\n    var n,\r\n      i = 1,\r\n      m = new BigNumber(args[0]);\r\n\r\n    for (; i < args.length; i++) {\r\n      n = new BigNumber(args[i]);\r\n\r\n      // If any number is NaN, return NaN.\r\n      if (!n.s) {\r\n        m = n;\r\n        break;\r\n      } else if (method.call(m, n)) {\r\n        m = n;\r\n      }\r\n    }\r\n\r\n    return m;\r\n  }\r\n\r\n\r\n  /*\r\n   * Strip trailing zeros, calculate base 10 exponent and check against MIN_EXP and MAX_EXP.\r\n   * Called by minus, plus and times.\r\n   */\r\n  function normalise(n, c, e) {\r\n    var i = 1,\r\n      j = c.length;\r\n\r\n     // Remove trailing zeros.\r\n    for (; !c[--j]; c.pop());\r\n\r\n    // Calculate the base 10 exponent. First get the number of digits of c[0].\r\n    for (j = c[0]; j >= 10; j /= 10, i++);\r\n\r\n    // Overflow?\r\n    if ((e = i + e * LOG_BASE - 1) > MAX_EXP) {\r\n\r\n      // Infinity.\r\n      n.c = n.e = null;\r\n\r\n    // Underflow?\r\n    } else if (e < MIN_EXP) {\r\n\r\n      // Zero.\r\n      n.c = [n.e = 0];\r\n    } else {\r\n      n.e = e;\r\n      n.c = c;\r\n    }\r\n\r\n    return n;\r\n  }\r\n\r\n\r\n  // Handle values that fail the validity test in BigNumber.\r\n  parseNumeric = (function () {\r\n    var basePrefix = /^(-?)0([xbo])(?=\\w[\\w.]*$)/i,\r\n      dotAfter = /^([^.]+)\\.$/,\r\n      dotBefore = /^\\.([^.]+)$/,\r\n      isInfinityOrNaN = /^-?(Infinity|NaN)$/,\r\n      whitespaceOrPlus = /^\\s*\\+(?=[\\w.])|^\\s+|\\s+$/g;\r\n\r\n    return function (x, str, isNum, b) {\r\n      var base,\r\n        s = isNum ? str : str.replace(whitespaceOrPlus, '');\r\n\r\n      // No exception on Infinity or NaN.\r\n      if (isInfinityOrNaN.test(s)) {\r\n        x.s = isNaN(s) ? null : s < 0 ? -1 : 1;\r\n      } else {\r\n        if (!isNum) {\r\n\r\n          // basePrefix = /^(-?)0([xbo])(?=\\w[\\w.]*$)/i\r\n          s = s.replace(basePrefix, function (m, p1, p2) {\r\n            base = (p2 = p2.toLowerCase()) == 'x' ? 16 : p2 == 'b' ? 2 : 8;\r\n            return !b || b == base ? p1 : m;\r\n          });\r\n\r\n          if (b) {\r\n            base = b;\r\n\r\n            // E.g. '1.' to '1', '.1' to '0.1'\r\n            s = s.replace(dotAfter, '$1').replace(dotBefore, '0.$1');\r\n          }\r\n\r\n          if (str != s) return new BigNumber(s, base);\r\n        }\r\n\r\n        // '[BigNumber Error] Not a number: {n}'\r\n        // '[BigNumber Error] Not a base {b} number: {n}'\r\n        if (BigNumber.DEBUG) {\r\n          throw Error\r\n            (bignumberError + 'Not a' + (b ? ' base ' + b : '') + ' number: ' + str);\r\n        }\r\n\r\n        // NaN\r\n        x.s = null;\r\n      }\r\n\r\n      x.c = x.e = null;\r\n    }\r\n  })();\r\n\r\n\r\n  /*\r\n   * Round x to sd significant digits using rounding mode rm. Check for over/under-flow.\r\n   * If r is truthy, it is known that there are more digits after the rounding digit.\r\n   */\r\n  function round(x, sd, rm, r) {\r\n    var d, i, j, k, n, ni, rd,\r\n      xc = x.c,\r\n      pows10 = POWS_TEN;\r\n\r\n    // if x is not Infinity or NaN...\r\n    if (xc) {\r\n\r\n      // rd is the rounding digit, i.e. the digit after the digit that may be rounded up.\r\n      // n is a base 1e14 number, the value of the element of array x.c containing rd.\r\n      // ni is the index of n within x.c.\r\n      // d is the number of digits of n.\r\n      // i is the index of rd within n including leading zeros.\r\n      // j is the actual index of rd within n (if < 0, rd is a leading zero).\r\n      out: {\r\n\r\n        // Get the number of digits of the first element of xc.\r\n        for (d = 1, k = xc[0]; k >= 10; k /= 10, d++);\r\n        i = sd - d;\r\n\r\n        // If the rounding digit is in the first element of xc...\r\n        if (i < 0) {\r\n          i += LOG_BASE;\r\n          j = sd;\r\n          n = xc[ni = 0];\r\n\r\n          // Get the rounding digit at index j of n.\r\n          rd = n / pows10[d - j - 1] % 10 | 0;\r\n        } else {\r\n          ni = mathceil((i + 1) / LOG_BASE);\r\n\r\n          if (ni >= xc.length) {\r\n\r\n            if (r) {\r\n\r\n              // Needed by sqrt.\r\n              for (; xc.length <= ni; xc.push(0));\r\n              n = rd = 0;\r\n              d = 1;\r\n              i %= LOG_BASE;\r\n              j = i - LOG_BASE + 1;\r\n            } else {\r\n              break out;\r\n            }\r\n          } else {\r\n            n = k = xc[ni];\r\n\r\n            // Get the number of digits of n.\r\n            for (d = 1; k >= 10; k /= 10, d++);\r\n\r\n            // Get the index of rd within n.\r\n            i %= LOG_BASE;\r\n\r\n            // Get the index of rd within n, adjusted for leading zeros.\r\n            // The number of leading zeros of n is given by LOG_BASE - d.\r\n            j = i - LOG_BASE + d;\r\n\r\n            // Get the rounding digit at index j of n.\r\n            rd = j < 0 ? 0 : n / pows10[d - j - 1] % 10 | 0;\r\n          }\r\n        }\r\n\r\n        r = r || sd < 0 ||\r\n\r\n        // Are there any non-zero digits after the rounding digit?\r\n        // The expression  n % pows10[d - j - 1]  returns all digits of n to the right\r\n        // of the digit at j, e.g. if n is 908714 and j is 2, the expression gives 714.\r\n         xc[ni + 1] != null || (j < 0 ? n : n % pows10[d - j - 1]);\r\n\r\n        r = rm < 4\r\n         ? (rd || r) && (rm == 0 || rm == (x.s < 0 ? 3 : 2))\r\n         : rd > 5 || rd == 5 && (rm == 4 || r || rm == 6 &&\r\n\r\n          // Check whether the digit to the left of the rounding digit is odd.\r\n          ((i > 0 ? j > 0 ? n / pows10[d - j] : 0 : xc[ni - 1]) % 10) & 1 ||\r\n           rm == (x.s < 0 ? 8 : 7));\r\n\r\n        if (sd < 1 || !xc[0]) {\r\n          xc.length = 0;\r\n\r\n          if (r) {\r\n\r\n            // Convert sd to decimal places.\r\n            sd -= x.e + 1;\r\n\r\n            // 1, 0.1, 0.01, 0.001, 0.0001 etc.\r\n            xc[0] = pows10[(LOG_BASE - sd % LOG_BASE) % LOG_BASE];\r\n            x.e = -sd || 0;\r\n          } else {\r\n\r\n            // Zero.\r\n            xc[0] = x.e = 0;\r\n          }\r\n\r\n          return x;\r\n        }\r\n\r\n        // Remove excess digits.\r\n        if (i == 0) {\r\n          xc.length = ni;\r\n          k = 1;\r\n          ni--;\r\n        } else {\r\n          xc.length = ni + 1;\r\n          k = pows10[LOG_BASE - i];\r\n\r\n          // E.g. 56700 becomes 56000 if 7 is the rounding digit.\r\n          // j > 0 means i > number of leading zeros of n.\r\n          xc[ni] = j > 0 ? mathfloor(n / pows10[d - j] % pows10[j]) * k : 0;\r\n        }\r\n\r\n        // Round up?\r\n        if (r) {\r\n\r\n          for (; ;) {\r\n\r\n            // If the digit to be rounded up is in the first element of xc...\r\n            if (ni == 0) {\r\n\r\n              // i will be the length of xc[0] before k is added.\r\n              for (i = 1, j = xc[0]; j >= 10; j /= 10, i++);\r\n              j = xc[0] += k;\r\n              for (k = 1; j >= 10; j /= 10, k++);\r\n\r\n              // if i != k the length has increased.\r\n              if (i != k) {\r\n                x.e++;\r\n                if (xc[0] == BASE) xc[0] = 1;\r\n              }\r\n\r\n              break;\r\n            } else {\r\n              xc[ni] += k;\r\n              if (xc[ni] != BASE) break;\r\n              xc[ni--] = 0;\r\n              k = 1;\r\n            }\r\n          }\r\n        }\r\n\r\n        // Remove trailing zeros.\r\n        for (i = xc.length; xc[--i] === 0; xc.pop());\r\n      }\r\n\r\n      // Overflow? Infinity.\r\n      if (x.e > MAX_EXP) {\r\n        x.c = x.e = null;\r\n\r\n      // Underflow? Zero.\r\n      } else if (x.e < MIN_EXP) {\r\n        x.c = [x.e = 0];\r\n      }\r\n    }\r\n\r\n    return x;\r\n  }\r\n\r\n\r\n  function valueOf(n) {\r\n    var str,\r\n      e = n.e;\r\n\r\n    if (e === null) return n.toString();\r\n\r\n    str = coeffToString(n.c);\r\n\r\n    str = e <= TO_EXP_NEG || e >= TO_EXP_POS\r\n      ? toExponential(str, e)\r\n      : toFixedPoint(str, e, '0');\r\n\r\n    return n.s < 0 ? '-' + str : str;\r\n  }\r\n\r\n\r\n  // PROTOTYPE/INSTANCE METHODS\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber whose value is the absolute value of this BigNumber.\r\n   */\r\n  P.absoluteValue = P.abs = function () {\r\n    var x = new BigNumber(this);\r\n    if (x.s < 0) x.s = 1;\r\n    return x;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return\r\n   *   1 if the value of this BigNumber is greater than the value of BigNumber(y, b),\r\n   *   -1 if the value of this BigNumber is less than the value of BigNumber(y, b),\r\n   *   0 if they have the same value,\r\n   *   or null if the value of either is NaN.\r\n   */\r\n  P.comparedTo = function (y, b) {\r\n    return compare(this, new BigNumber(y, b));\r\n  };\r\n\r\n\r\n  /*\r\n   * If dp is undefined or null or true or false, return the number of decimal places of the\r\n   * value of this BigNumber, or null if the value of this BigNumber is Infinity or NaN.\r\n   *\r\n   * Otherwise, if dp is a number, return a new BigNumber whose value is the value of this\r\n   * BigNumber rounded to a maximum of dp decimal places using rounding mode rm, or\r\n   * ROUNDING_MODE if rm is omitted.\r\n   *\r\n   * [dp] {number} Decimal places: integer, 0 to MAX inclusive.\r\n   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp|rm}'\r\n   */\r\n  P.decimalPlaces = P.dp = function (dp, rm) {\r\n    var c, n, v,\r\n      x = this;\r\n\r\n    if (dp != null) {\r\n      intCheck(dp, 0, MAX);\r\n      if (rm == null) rm = ROUNDING_MODE;\r\n      else intCheck(rm, 0, 8);\r\n\r\n      return round(new BigNumber(x), dp + x.e + 1, rm);\r\n    }\r\n\r\n    if (!(c = x.c)) return null;\r\n    n = ((v = c.length - 1) - bitFloor(this.e / LOG_BASE)) * LOG_BASE;\r\n\r\n    // Subtract the number of trailing zeros of the last number.\r\n    if (v = c[v]) for (; v % 10 == 0; v /= 10, n--);\r\n    if (n < 0) n = 0;\r\n\r\n    return n;\r\n  };\r\n\r\n\r\n  /*\r\n   *  n / 0 = I\r\n   *  n / N = N\r\n   *  n / I = 0\r\n   *  0 / n = 0\r\n   *  0 / 0 = N\r\n   *  0 / N = N\r\n   *  0 / I = 0\r\n   *  N / n = N\r\n   *  N / 0 = N\r\n   *  N / N = N\r\n   *  N / I = N\r\n   *  I / n = I\r\n   *  I / 0 = I\r\n   *  I / N = N\r\n   *  I / I = N\r\n   *\r\n   * Return a new BigNumber whose value is the value of this BigNumber divided by the value of\r\n   * BigNumber(y, b), rounded according to DECIMAL_PLACES and ROUNDING_MODE.\r\n   */\r\n  P.dividedBy = P.div = function (y, b) {\r\n    return div(this, new BigNumber(y, b), DECIMAL_PLACES, ROUNDING_MODE);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber whose value is the integer part of dividing the value of this\r\n   * BigNumber by the value of BigNumber(y, b).\r\n   */\r\n  P.dividedToIntegerBy = P.idiv = function (y, b) {\r\n    return div(this, new BigNumber(y, b), 0, 1);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a BigNumber whose value is the value of this BigNumber exponentiated by n.\r\n   *\r\n   * If m is present, return the result modulo m.\r\n   * If n is negative round according to DECIMAL_PLACES and ROUNDING_MODE.\r\n   * If POW_PRECISION is non-zero and m is not present, round to POW_PRECISION using ROUNDING_MODE.\r\n   *\r\n   * The modular power operation works efficiently when x, n, and m are integers, otherwise it\r\n   * is equivalent to calculating x.exponentiatedBy(n).modulo(m) with a POW_PRECISION of 0.\r\n   *\r\n   * n {number|string|BigNumber} The exponent. An integer.\r\n   * [m] {number|string|BigNumber} The modulus.\r\n   *\r\n   * '[BigNumber Error] Exponent not an integer: {n}'\r\n   */\r\n  P.exponentiatedBy = P.pow = function (n, m) {\r\n    var half, isModExp, i, k, more, nIsBig, nIsNeg, nIsOdd, y,\r\n      x = this;\r\n\r\n    n = new BigNumber(n);\r\n\r\n    // Allow NaN and Infinity, but not other non-integers.\r\n    if (n.c && !n.isInteger()) {\r\n      throw Error\r\n        (bignumberError + 'Exponent not an integer: ' + valueOf(n));\r\n    }\r\n\r\n    if (m != null) m = new BigNumber(m);\r\n\r\n    // Exponent of MAX_SAFE_INTEGER is 15.\r\n    nIsBig = n.e > 14;\r\n\r\n    // If x is NaN, Infinity, 0 or 1, or n is Infinity, NaN or 0.\r\n    if (!x.c || !x.c[0] || x.c[0] == 1 && !x.e && x.c.length == 1 || !n.c || !n.c[0]) {\r\n\r\n      // The sign of the result of pow when x is negative depends on the evenness of n.\r\n      // If +n overflows to Infinity, the evenness of n would be not be known.\r\n      y = new BigNumber(Math.pow(+valueOf(x), nIsBig ? n.s * (2 - isOdd(n)) : +valueOf(n)));\r\n      return m ? y.mod(m) : y;\r\n    }\r\n\r\n    nIsNeg = n.s < 0;\r\n\r\n    if (m) {\r\n\r\n      // x % m returns NaN if abs(m) is zero, or m is NaN.\r\n      if (m.c ? !m.c[0] : !m.s) return new BigNumber(NaN);\r\n\r\n      isModExp = !nIsNeg && x.isInteger() && m.isInteger();\r\n\r\n      if (isModExp) x = x.mod(m);\r\n\r\n    // Overflow to Infinity: >=2**1e10 or >=1.0000024**1e15.\r\n    // Underflow to 0: <=0.79**1e10 or <=0.9999975**1e15.\r\n    } else if (n.e > 9 && (x.e > 0 || x.e < -1 || (x.e == 0\r\n      // [1, 240000000]\r\n      ? x.c[0] > 1 || nIsBig && x.c[1] >= 24e7\r\n      // [80000000000000]  [99999750000000]\r\n      : x.c[0] < 8e13 || nIsBig && x.c[0] <= 9999975e7))) {\r\n\r\n      // If x is negative and n is odd, k = -0, else k = 0.\r\n      k = x.s < 0 && isOdd(n) ? -0 : 0;\r\n\r\n      // If x >= 1, k = Infinity.\r\n      if (x.e > -1) k = 1 / k;\r\n\r\n      // If n is negative return 0, else return Infinity.\r\n      return new BigNumber(nIsNeg ? 1 / k : k);\r\n\r\n    } else if (POW_PRECISION) {\r\n\r\n      // Truncating each coefficient array to a length of k after each multiplication\r\n      // equates to truncating significant digits to POW_PRECISION + [28, 41],\r\n      // i.e. there will be a minimum of 28 guard digits retained.\r\n      k = mathceil(POW_PRECISION / LOG_BASE + 2);\r\n    }\r\n\r\n    if (nIsBig) {\r\n      half = new BigNumber(0.5);\r\n      if (nIsNeg) n.s = 1;\r\n      nIsOdd = isOdd(n);\r\n    } else {\r\n      i = Math.abs(+valueOf(n));\r\n      nIsOdd = i % 2;\r\n    }\r\n\r\n    y = new BigNumber(ONE);\r\n\r\n    // Performs 54 loop iterations for n of 9007199254740991.\r\n    for (; ;) {\r\n\r\n      if (nIsOdd) {\r\n        y = y.times(x);\r\n        if (!y.c) break;\r\n\r\n        if (k) {\r\n          if (y.c.length > k) y.c.length = k;\r\n        } else if (isModExp) {\r\n          y = y.mod(m);    //y = y.minus(div(y, m, 0, MODULO_MODE).times(m));\r\n        }\r\n      }\r\n\r\n      if (i) {\r\n        i = mathfloor(i / 2);\r\n        if (i === 0) break;\r\n        nIsOdd = i % 2;\r\n      } else {\r\n        n = n.times(half);\r\n        round(n, n.e + 1, 1);\r\n\r\n        if (n.e > 14) {\r\n          nIsOdd = isOdd(n);\r\n        } else {\r\n          i = +valueOf(n);\r\n          if (i === 0) break;\r\n          nIsOdd = i % 2;\r\n        }\r\n      }\r\n\r\n      x = x.times(x);\r\n\r\n      if (k) {\r\n        if (x.c && x.c.length > k) x.c.length = k;\r\n      } else if (isModExp) {\r\n        x = x.mod(m);    //x = x.minus(div(x, m, 0, MODULO_MODE).times(m));\r\n      }\r\n    }\r\n\r\n    if (isModExp) return y;\r\n    if (nIsNeg) y = ONE.div(y);\r\n\r\n    return m ? y.mod(m) : k ? round(y, POW_PRECISION, ROUNDING_MODE, more) : y;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber whose value is the value of this BigNumber rounded to an integer\r\n   * using rounding mode rm, or ROUNDING_MODE if rm is omitted.\r\n   *\r\n   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {rm}'\r\n   */\r\n  P.integerValue = function (rm) {\r\n    var n = new BigNumber(this);\r\n    if (rm == null) rm = ROUNDING_MODE;\r\n    else intCheck(rm, 0, 8);\r\n    return round(n, n.e + 1, rm);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is equal to the value of BigNumber(y, b),\r\n   * otherwise return false.\r\n   */\r\n  P.isEqualTo = P.eq = function (y, b) {\r\n    return compare(this, new BigNumber(y, b)) === 0;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is a finite number, otherwise return false.\r\n   */\r\n  P.isFinite = function () {\r\n    return !!this.c;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is greater than the value of BigNumber(y, b),\r\n   * otherwise return false.\r\n   */\r\n  P.isGreaterThan = P.gt = function (y, b) {\r\n    return compare(this, new BigNumber(y, b)) > 0;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is greater than or equal to the value of\r\n   * BigNumber(y, b), otherwise return false.\r\n   */\r\n  P.isGreaterThanOrEqualTo = P.gte = function (y, b) {\r\n    return (b = compare(this, new BigNumber(y, b))) === 1 || b === 0;\r\n\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is an integer, otherwise return false.\r\n   */\r\n  P.isInteger = function () {\r\n    return !!this.c && bitFloor(this.e / LOG_BASE) > this.c.length - 2;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is less than the value of BigNumber(y, b),\r\n   * otherwise return false.\r\n   */\r\n  P.isLessThan = P.lt = function (y, b) {\r\n    return compare(this, new BigNumber(y, b)) < 0;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is less than or equal to the value of\r\n   * BigNumber(y, b), otherwise return false.\r\n   */\r\n  P.isLessThanOrEqualTo = P.lte = function (y, b) {\r\n    return (b = compare(this, new BigNumber(y, b))) === -1 || b === 0;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is NaN, otherwise return false.\r\n   */\r\n  P.isNaN = function () {\r\n    return !this.s;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is negative, otherwise return false.\r\n   */\r\n  P.isNegative = function () {\r\n    return this.s < 0;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is positive, otherwise return false.\r\n   */\r\n  P.isPositive = function () {\r\n    return this.s > 0;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return true if the value of this BigNumber is 0 or -0, otherwise return false.\r\n   */\r\n  P.isZero = function () {\r\n    return !!this.c && this.c[0] == 0;\r\n  };\r\n\r\n\r\n  /*\r\n   *  n - 0 = n\r\n   *  n - N = N\r\n   *  n - I = -I\r\n   *  0 - n = -n\r\n   *  0 - 0 = 0\r\n   *  0 - N = N\r\n   *  0 - I = -I\r\n   *  N - n = N\r\n   *  N - 0 = N\r\n   *  N - N = N\r\n   *  N - I = N\r\n   *  I - n = I\r\n   *  I - 0 = I\r\n   *  I - N = N\r\n   *  I - I = N\r\n   *\r\n   * Return a new BigNumber whose value is the value of this BigNumber minus the value of\r\n   * BigNumber(y, b).\r\n   */\r\n  P.minus = function (y, b) {\r\n    var i, j, t, xLTy,\r\n      x = this,\r\n      a = x.s;\r\n\r\n    y = new BigNumber(y, b);\r\n    b = y.s;\r\n\r\n    // Either NaN?\r\n    if (!a || !b) return new BigNumber(NaN);\r\n\r\n    // Signs differ?\r\n    if (a != b) {\r\n      y.s = -b;\r\n      return x.plus(y);\r\n    }\r\n\r\n    var xe = x.e / LOG_BASE,\r\n      ye = y.e / LOG_BASE,\r\n      xc = x.c,\r\n      yc = y.c;\r\n\r\n    if (!xe || !ye) {\r\n\r\n      // Either Infinity?\r\n      if (!xc || !yc) return xc ? (y.s = -b, y) : new BigNumber(yc ? x : NaN);\r\n\r\n      // Either zero?\r\n      if (!xc[0] || !yc[0]) {\r\n\r\n        // Return y if y is non-zero, x if x is non-zero, or zero if both are zero.\r\n        return yc[0] ? (y.s = -b, y) : new BigNumber(xc[0] ? x :\r\n\r\n         // IEEE 754 (2008) 6.3: n - n = -0 when rounding to -Infinity\r\n         ROUNDING_MODE == 3 ? -0 : 0);\r\n      }\r\n    }\r\n\r\n    xe = bitFloor(xe);\r\n    ye = bitFloor(ye);\r\n    xc = xc.slice();\r\n\r\n    // Determine which is the bigger number.\r\n    if (a = xe - ye) {\r\n\r\n      if (xLTy = a < 0) {\r\n        a = -a;\r\n        t = xc;\r\n      } else {\r\n        ye = xe;\r\n        t = yc;\r\n      }\r\n\r\n      t.reverse();\r\n\r\n      // Prepend zeros to equalise exponents.\r\n      for (b = a; b--; t.push(0));\r\n      t.reverse();\r\n    } else {\r\n\r\n      // Exponents equal. Check digit by digit.\r\n      j = (xLTy = (a = xc.length) < (b = yc.length)) ? a : b;\r\n\r\n      for (a = b = 0; b < j; b++) {\r\n\r\n        if (xc[b] != yc[b]) {\r\n          xLTy = xc[b] < yc[b];\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    // x < y? Point xc to the array of the bigger number.\r\n    if (xLTy) t = xc, xc = yc, yc = t, y.s = -y.s;\r\n\r\n    b = (j = yc.length) - (i = xc.length);\r\n\r\n    // Append zeros to xc if shorter.\r\n    // No need to add zeros to yc if shorter as subtract only needs to start at yc.length.\r\n    if (b > 0) for (; b--; xc[i++] = 0);\r\n    b = BASE - 1;\r\n\r\n    // Subtract yc from xc.\r\n    for (; j > a;) {\r\n\r\n      if (xc[--j] < yc[j]) {\r\n        for (i = j; i && !xc[--i]; xc[i] = b);\r\n        --xc[i];\r\n        xc[j] += BASE;\r\n      }\r\n\r\n      xc[j] -= yc[j];\r\n    }\r\n\r\n    // Remove leading zeros and adjust exponent accordingly.\r\n    for (; xc[0] == 0; xc.splice(0, 1), --ye);\r\n\r\n    // Zero?\r\n    if (!xc[0]) {\r\n\r\n      // Following IEEE 754 (2008) 6.3,\r\n      // n - n = +0  but  n - n = -0  when rounding towards -Infinity.\r\n      y.s = ROUNDING_MODE == 3 ? -1 : 1;\r\n      y.c = [y.e = 0];\r\n      return y;\r\n    }\r\n\r\n    // No need to check for Infinity as +x - +y != Infinity && -x - -y != Infinity\r\n    // for finite x and y.\r\n    return normalise(y, xc, ye);\r\n  };\r\n\r\n\r\n  /*\r\n   *   n % 0 =  N\r\n   *   n % N =  N\r\n   *   n % I =  n\r\n   *   0 % n =  0\r\n   *  -0 % n = -0\r\n   *   0 % 0 =  N\r\n   *   0 % N =  N\r\n   *   0 % I =  0\r\n   *   N % n =  N\r\n   *   N % 0 =  N\r\n   *   N % N =  N\r\n   *   N % I =  N\r\n   *   I % n =  N\r\n   *   I % 0 =  N\r\n   *   I % N =  N\r\n   *   I % I =  N\r\n   *\r\n   * Return a new BigNumber whose value is the value of this BigNumber modulo the value of\r\n   * BigNumber(y, b). The result depends on the value of MODULO_MODE.\r\n   */\r\n  P.modulo = P.mod = function (y, b) {\r\n    var q, s,\r\n      x = this;\r\n\r\n    y = new BigNumber(y, b);\r\n\r\n    // Return NaN if x is Infinity or NaN, or y is NaN or zero.\r\n    if (!x.c || !y.s || y.c && !y.c[0]) {\r\n      return new BigNumber(NaN);\r\n\r\n    // Return x if y is Infinity or x is zero.\r\n    } else if (!y.c || x.c && !x.c[0]) {\r\n      return new BigNumber(x);\r\n    }\r\n\r\n    if (MODULO_MODE == 9) {\r\n\r\n      // Euclidian division: q = sign(y) * floor(x / abs(y))\r\n      // r = x - qy    where  0 <= r < abs(y)\r\n      s = y.s;\r\n      y.s = 1;\r\n      q = div(x, y, 0, 3);\r\n      y.s = s;\r\n      q.s *= s;\r\n    } else {\r\n      q = div(x, y, 0, MODULO_MODE);\r\n    }\r\n\r\n    y = x.minus(q.times(y));\r\n\r\n    // To match JavaScript %, ensure sign of zero is sign of dividend.\r\n    if (!y.c[0] && MODULO_MODE == 1) y.s = x.s;\r\n\r\n    return y;\r\n  };\r\n\r\n\r\n  /*\r\n   *  n * 0 = 0\r\n   *  n * N = N\r\n   *  n * I = I\r\n   *  0 * n = 0\r\n   *  0 * 0 = 0\r\n   *  0 * N = N\r\n   *  0 * I = N\r\n   *  N * n = N\r\n   *  N * 0 = N\r\n   *  N * N = N\r\n   *  N * I = N\r\n   *  I * n = I\r\n   *  I * 0 = N\r\n   *  I * N = N\r\n   *  I * I = I\r\n   *\r\n   * Return a new BigNumber whose value is the value of this BigNumber multiplied by the value\r\n   * of BigNumber(y, b).\r\n   */\r\n  P.multipliedBy = P.times = function (y, b) {\r\n    var c, e, i, j, k, m, xcL, xlo, xhi, ycL, ylo, yhi, zc,\r\n      base, sqrtBase,\r\n      x = this,\r\n      xc = x.c,\r\n      yc = (y = new BigNumber(y, b)).c;\r\n\r\n    // Either NaN, Infinity or 0?\r\n    if (!xc || !yc || !xc[0] || !yc[0]) {\r\n\r\n      // Return NaN if either is NaN, or one is 0 and the other is Infinity.\r\n      if (!x.s || !y.s || xc && !xc[0] && !yc || yc && !yc[0] && !xc) {\r\n        y.c = y.e = y.s = null;\r\n      } else {\r\n        y.s *= x.s;\r\n\r\n        // Return Infinity if either is Infinity.\r\n        if (!xc || !yc) {\r\n          y.c = y.e = null;\r\n\r\n        // Return 0 if either is 0.\r\n        } else {\r\n          y.c = [0];\r\n          y.e = 0;\r\n        }\r\n      }\r\n\r\n      return y;\r\n    }\r\n\r\n    e = bitFloor(x.e / LOG_BASE) + bitFloor(y.e / LOG_BASE);\r\n    y.s *= x.s;\r\n    xcL = xc.length;\r\n    ycL = yc.length;\r\n\r\n    // Ensure xc points to longer array and xcL to its length.\r\n    if (xcL < ycL) zc = xc, xc = yc, yc = zc, i = xcL, xcL = ycL, ycL = i;\r\n\r\n    // Initialise the result array with zeros.\r\n    for (i = xcL + ycL, zc = []; i--; zc.push(0));\r\n\r\n    base = BASE;\r\n    sqrtBase = SQRT_BASE;\r\n\r\n    for (i = ycL; --i >= 0;) {\r\n      c = 0;\r\n      ylo = yc[i] % sqrtBase;\r\n      yhi = yc[i] / sqrtBase | 0;\r\n\r\n      for (k = xcL, j = i + k; j > i;) {\r\n        xlo = xc[--k] % sqrtBase;\r\n        xhi = xc[k] / sqrtBase | 0;\r\n        m = yhi * xlo + xhi * ylo;\r\n        xlo = ylo * xlo + ((m % sqrtBase) * sqrtBase) + zc[j] + c;\r\n        c = (xlo / base | 0) + (m / sqrtBase | 0) + yhi * xhi;\r\n        zc[j--] = xlo % base;\r\n      }\r\n\r\n      zc[j] = c;\r\n    }\r\n\r\n    if (c) {\r\n      ++e;\r\n    } else {\r\n      zc.splice(0, 1);\r\n    }\r\n\r\n    return normalise(y, zc, e);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber whose value is the value of this BigNumber negated,\r\n   * i.e. multiplied by -1.\r\n   */\r\n  P.negated = function () {\r\n    var x = new BigNumber(this);\r\n    x.s = -x.s || null;\r\n    return x;\r\n  };\r\n\r\n\r\n  /*\r\n   *  n + 0 = n\r\n   *  n + N = N\r\n   *  n + I = I\r\n   *  0 + n = n\r\n   *  0 + 0 = 0\r\n   *  0 + N = N\r\n   *  0 + I = I\r\n   *  N + n = N\r\n   *  N + 0 = N\r\n   *  N + N = N\r\n   *  N + I = N\r\n   *  I + n = I\r\n   *  I + 0 = I\r\n   *  I + N = N\r\n   *  I + I = I\r\n   *\r\n   * Return a new BigNumber whose value is the value of this BigNumber plus the value of\r\n   * BigNumber(y, b).\r\n   */\r\n  P.plus = function (y, b) {\r\n    var t,\r\n      x = this,\r\n      a = x.s;\r\n\r\n    y = new BigNumber(y, b);\r\n    b = y.s;\r\n\r\n    // Either NaN?\r\n    if (!a || !b) return new BigNumber(NaN);\r\n\r\n    // Signs differ?\r\n     if (a != b) {\r\n      y.s = -b;\r\n      return x.minus(y);\r\n    }\r\n\r\n    var xe = x.e / LOG_BASE,\r\n      ye = y.e / LOG_BASE,\r\n      xc = x.c,\r\n      yc = y.c;\r\n\r\n    if (!xe || !ye) {\r\n\r\n      // Return Infinity if either Infinity.\r\n      if (!xc || !yc) return new BigNumber(a / 0);\r\n\r\n      // Either zero?\r\n      // Return y if y is non-zero, x if x is non-zero, or zero if both are zero.\r\n      if (!xc[0] || !yc[0]) return yc[0] ? y : new BigNumber(xc[0] ? x : a * 0);\r\n    }\r\n\r\n    xe = bitFloor(xe);\r\n    ye = bitFloor(ye);\r\n    xc = xc.slice();\r\n\r\n    // Prepend zeros to equalise exponents. Faster to use reverse then do unshifts.\r\n    if (a = xe - ye) {\r\n      if (a > 0) {\r\n        ye = xe;\r\n        t = yc;\r\n      } else {\r\n        a = -a;\r\n        t = xc;\r\n      }\r\n\r\n      t.reverse();\r\n      for (; a--; t.push(0));\r\n      t.reverse();\r\n    }\r\n\r\n    a = xc.length;\r\n    b = yc.length;\r\n\r\n    // Point xc to the longer array, and b to the shorter length.\r\n    if (a - b < 0) t = yc, yc = xc, xc = t, b = a;\r\n\r\n    // Only start adding at yc.length - 1 as the further digits of xc can be ignored.\r\n    for (a = 0; b;) {\r\n      a = (xc[--b] = xc[b] + yc[b] + a) / BASE | 0;\r\n      xc[b] = BASE === xc[b] ? 0 : xc[b] % BASE;\r\n    }\r\n\r\n    if (a) {\r\n      xc = [a].concat(xc);\r\n      ++ye;\r\n    }\r\n\r\n    // No need to check for zero, as +x + +y != 0 && -x + -y != 0\r\n    // ye = MAX_EXP + 1 possible\r\n    return normalise(y, xc, ye);\r\n  };\r\n\r\n\r\n  /*\r\n   * If sd is undefined or null or true or false, return the number of significant digits of\r\n   * the value of this BigNumber, or null if the value of this BigNumber is Infinity or NaN.\r\n   * If sd is true include integer-part trailing zeros in the count.\r\n   *\r\n   * Otherwise, if sd is a number, return a new BigNumber whose value is the value of this\r\n   * BigNumber rounded to a maximum of sd significant digits using rounding mode rm, or\r\n   * ROUNDING_MODE if rm is omitted.\r\n   *\r\n   * sd {number|boolean} number: significant digits: integer, 1 to MAX inclusive.\r\n   *                     boolean: whether to count integer-part trailing zeros: true or false.\r\n   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {sd|rm}'\r\n   */\r\n  P.precision = P.sd = function (sd, rm) {\r\n    var c, n, v,\r\n      x = this;\r\n\r\n    if (sd != null && sd !== !!sd) {\r\n      intCheck(sd, 1, MAX);\r\n      if (rm == null) rm = ROUNDING_MODE;\r\n      else intCheck(rm, 0, 8);\r\n\r\n      return round(new BigNumber(x), sd, rm);\r\n    }\r\n\r\n    if (!(c = x.c)) return null;\r\n    v = c.length - 1;\r\n    n = v * LOG_BASE + 1;\r\n\r\n    if (v = c[v]) {\r\n\r\n      // Subtract the number of trailing zeros of the last element.\r\n      for (; v % 10 == 0; v /= 10, n--);\r\n\r\n      // Add the number of digits of the first element.\r\n      for (v = c[0]; v >= 10; v /= 10, n++);\r\n    }\r\n\r\n    if (sd && x.e + 1 > n) n = x.e + 1;\r\n\r\n    return n;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a new BigNumber whose value is the value of this BigNumber shifted by k places\r\n   * (powers of 10). Shift to the right if n > 0, and to the left if n < 0.\r\n   *\r\n   * k {number} Integer, -MAX_SAFE_INTEGER to MAX_SAFE_INTEGER inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {k}'\r\n   */\r\n  P.shiftedBy = function (k) {\r\n    intCheck(k, -MAX_SAFE_INTEGER, MAX_SAFE_INTEGER);\r\n    return this.times('1e' + k);\r\n  };\r\n\r\n\r\n  /*\r\n   *  sqrt(-n) =  N\r\n   *  sqrt(N) =  N\r\n   *  sqrt(-I) =  N\r\n   *  sqrt(I) =  I\r\n   *  sqrt(0) =  0\r\n   *  sqrt(-0) = -0\r\n   *\r\n   * Return a new BigNumber whose value is the square root of the value of this BigNumber,\r\n   * rounded according to DECIMAL_PLACES and ROUNDING_MODE.\r\n   */\r\n  P.squareRoot = P.sqrt = function () {\r\n    var m, n, r, rep, t,\r\n      x = this,\r\n      c = x.c,\r\n      s = x.s,\r\n      e = x.e,\r\n      dp = DECIMAL_PLACES + 4,\r\n      half = new BigNumber('0.5');\r\n\r\n    // Negative/NaN/Infinity/zero?\r\n    if (s !== 1 || !c || !c[0]) {\r\n      return new BigNumber(!s || s < 0 && (!c || c[0]) ? NaN : c ? x : 1 / 0);\r\n    }\r\n\r\n    // Initial estimate.\r\n    s = Math.sqrt(+valueOf(x));\r\n\r\n    // Math.sqrt underflow/overflow?\r\n    // Pass x to Math.sqrt as integer, then adjust the exponent of the result.\r\n    if (s == 0 || s == 1 / 0) {\r\n      n = coeffToString(c);\r\n      if ((n.length + e) % 2 == 0) n += '0';\r\n      s = Math.sqrt(+n);\r\n      e = bitFloor((e + 1) / 2) - (e < 0 || e % 2);\r\n\r\n      if (s == 1 / 0) {\r\n        n = '5e' + e;\r\n      } else {\r\n        n = s.toExponential();\r\n        n = n.slice(0, n.indexOf('e') + 1) + e;\r\n      }\r\n\r\n      r = new BigNumber(n);\r\n    } else {\r\n      r = new BigNumber(s + '');\r\n    }\r\n\r\n    // Check for zero.\r\n    // r could be zero if MIN_EXP is changed after the this value was created.\r\n    // This would cause a division by zero (x/t) and hence Infinity below, which would cause\r\n    // coeffToString to throw.\r\n    if (r.c[0]) {\r\n      e = r.e;\r\n      s = e + dp;\r\n      if (s < 3) s = 0;\r\n\r\n      // Newton-Raphson iteration.\r\n      for (; ;) {\r\n        t = r;\r\n        r = half.times(t.plus(div(x, t, dp, 1)));\r\n\r\n        if (coeffToString(t.c).slice(0, s) === (n = coeffToString(r.c)).slice(0, s)) {\r\n\r\n          // The exponent of r may here be one less than the final result exponent,\r\n          // e.g 0.0009999 (e-4) --> 0.001 (e-3), so adjust s so the rounding digits\r\n          // are indexed correctly.\r\n          if (r.e < e) --s;\r\n          n = n.slice(s - 3, s + 1);\r\n\r\n          // The 4th rounding digit may be in error by -1 so if the 4 rounding digits\r\n          // are 9999 or 4999 (i.e. approaching a rounding boundary) continue the\r\n          // iteration.\r\n          if (n == '9999' || !rep && n == '4999') {\r\n\r\n            // On the first iteration only, check to see if rounding up gives the\r\n            // exact result as the nines may infinitely repeat.\r\n            if (!rep) {\r\n              round(t, t.e + DECIMAL_PLACES + 2, 0);\r\n\r\n              if (t.times(t).eq(x)) {\r\n                r = t;\r\n                break;\r\n              }\r\n            }\r\n\r\n            dp += 4;\r\n            s += 4;\r\n            rep = 1;\r\n          } else {\r\n\r\n            // If rounding digits are null, 0{0,4} or 50{0,3}, check for exact\r\n            // result. If not, then there are further digits and m will be truthy.\r\n            if (!+n || !+n.slice(1) && n.charAt(0) == '5') {\r\n\r\n              // Truncate to the first rounding digit.\r\n              round(r, r.e + DECIMAL_PLACES + 2, 1);\r\n              m = !r.times(r).eq(x);\r\n            }\r\n\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return round(r, r.e + DECIMAL_PLACES + 1, ROUNDING_MODE, m);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a string representing the value of this BigNumber in exponential notation and\r\n   * rounded using ROUNDING_MODE to dp fixed decimal places.\r\n   *\r\n   * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\r\n   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp|rm}'\r\n   */\r\n  P.toExponential = function (dp, rm) {\r\n    if (dp != null) {\r\n      intCheck(dp, 0, MAX);\r\n      dp++;\r\n    }\r\n    return format(this, dp, rm, 1);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a string representing the value of this BigNumber in fixed-point notation rounding\r\n   * to dp fixed decimal places using rounding mode rm, or ROUNDING_MODE if rm is omitted.\r\n   *\r\n   * Note: as with JavaScript's number type, (-0).toFixed(0) is '0',\r\n   * but e.g. (-0.00001).toFixed(0) is '-0'.\r\n   *\r\n   * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\r\n   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp|rm}'\r\n   */\r\n  P.toFixed = function (dp, rm) {\r\n    if (dp != null) {\r\n      intCheck(dp, 0, MAX);\r\n      dp = dp + this.e + 1;\r\n    }\r\n    return format(this, dp, rm);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a string representing the value of this BigNumber in fixed-point notation rounded\r\n   * using rm or ROUNDING_MODE to dp decimal places, and formatted according to the properties\r\n   * of the format or FORMAT object (see BigNumber.set).\r\n   *\r\n   * The formatting object may contain some or all of the properties shown below.\r\n   *\r\n   * FORMAT = {\r\n   *   prefix: '',\r\n   *   groupSize: 3,\r\n   *   secondaryGroupSize: 0,\r\n   *   groupSeparator: ',',\r\n   *   decimalSeparator: '.',\r\n   *   fractionGroupSize: 0,\r\n   *   fractionGroupSeparator: '\\xA0',      // non-breaking space\r\n   *   suffix: ''\r\n   * };\r\n   *\r\n   * [dp] {number} Decimal places. Integer, 0 to MAX inclusive.\r\n   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n   * [format] {object} Formatting options. See FORMAT pbject above.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {dp|rm}'\r\n   * '[BigNumber Error] Argument not an object: {format}'\r\n   */\r\n  P.toFormat = function (dp, rm, format) {\r\n    var str,\r\n      x = this;\r\n\r\n    if (format == null) {\r\n      if (dp != null && rm && typeof rm == 'object') {\r\n        format = rm;\r\n        rm = null;\r\n      } else if (dp && typeof dp == 'object') {\r\n        format = dp;\r\n        dp = rm = null;\r\n      } else {\r\n        format = FORMAT;\r\n      }\r\n    } else if (typeof format != 'object') {\r\n      throw Error\r\n        (bignumberError + 'Argument not an object: ' + format);\r\n    }\r\n\r\n    str = x.toFixed(dp, rm);\r\n\r\n    if (x.c) {\r\n      var i,\r\n        arr = str.split('.'),\r\n        g1 = +format.groupSize,\r\n        g2 = +format.secondaryGroupSize,\r\n        groupSeparator = format.groupSeparator || '',\r\n        intPart = arr[0],\r\n        fractionPart = arr[1],\r\n        isNeg = x.s < 0,\r\n        intDigits = isNeg ? intPart.slice(1) : intPart,\r\n        len = intDigits.length;\r\n\r\n      if (g2) i = g1, g1 = g2, g2 = i, len -= i;\r\n\r\n      if (g1 > 0 && len > 0) {\r\n        i = len % g1 || g1;\r\n        intPart = intDigits.substr(0, i);\r\n        for (; i < len; i += g1) intPart += groupSeparator + intDigits.substr(i, g1);\r\n        if (g2 > 0) intPart += groupSeparator + intDigits.slice(i);\r\n        if (isNeg) intPart = '-' + intPart;\r\n      }\r\n\r\n      str = fractionPart\r\n       ? intPart + (format.decimalSeparator || '') + ((g2 = +format.fractionGroupSize)\r\n        ? fractionPart.replace(new RegExp('\\\\d{' + g2 + '}\\\\B', 'g'),\r\n         '$&' + (format.fractionGroupSeparator || ''))\r\n        : fractionPart)\r\n       : intPart;\r\n    }\r\n\r\n    return (format.prefix || '') + str + (format.suffix || '');\r\n  };\r\n\r\n\r\n  /*\r\n   * Return an array of two BigNumbers representing the value of this BigNumber as a simple\r\n   * fraction with an integer numerator and an integer denominator.\r\n   * The denominator will be a positive non-zero value less than or equal to the specified\r\n   * maximum denominator. If a maximum denominator is not specified, the denominator will be\r\n   * the lowest value necessary to represent the number exactly.\r\n   *\r\n   * [md] {number|string|BigNumber} Integer >= 1, or Infinity. The maximum denominator.\r\n   *\r\n   * '[BigNumber Error] Argument {not an integer|out of range} : {md}'\r\n   */\r\n  P.toFraction = function (md) {\r\n    var d, d0, d1, d2, e, exp, n, n0, n1, q, r, s,\r\n      x = this,\r\n      xc = x.c;\r\n\r\n    if (md != null) {\r\n      n = new BigNumber(md);\r\n\r\n      // Throw if md is less than one or is not an integer, unless it is Infinity.\r\n      if (!n.isInteger() && (n.c || n.s !== 1) || n.lt(ONE)) {\r\n        throw Error\r\n          (bignumberError + 'Argument ' +\r\n            (n.isInteger() ? 'out of range: ' : 'not an integer: ') + valueOf(n));\r\n      }\r\n    }\r\n\r\n    if (!xc) return new BigNumber(x);\r\n\r\n    d = new BigNumber(ONE);\r\n    n1 = d0 = new BigNumber(ONE);\r\n    d1 = n0 = new BigNumber(ONE);\r\n    s = coeffToString(xc);\r\n\r\n    // Determine initial denominator.\r\n    // d is a power of 10 and the minimum max denominator that specifies the value exactly.\r\n    e = d.e = s.length - x.e - 1;\r\n    d.c[0] = POWS_TEN[(exp = e % LOG_BASE) < 0 ? LOG_BASE + exp : exp];\r\n    md = !md || n.comparedTo(d) > 0 ? (e > 0 ? d : n1) : n;\r\n\r\n    exp = MAX_EXP;\r\n    MAX_EXP = 1 / 0;\r\n    n = new BigNumber(s);\r\n\r\n    // n0 = d1 = 0\r\n    n0.c[0] = 0;\r\n\r\n    for (; ;)  {\r\n      q = div(n, d, 0, 1);\r\n      d2 = d0.plus(q.times(d1));\r\n      if (d2.comparedTo(md) == 1) break;\r\n      d0 = d1;\r\n      d1 = d2;\r\n      n1 = n0.plus(q.times(d2 = n1));\r\n      n0 = d2;\r\n      d = n.minus(q.times(d2 = d));\r\n      n = d2;\r\n    }\r\n\r\n    d2 = div(md.minus(d0), d1, 0, 1);\r\n    n0 = n0.plus(d2.times(n1));\r\n    d0 = d0.plus(d2.times(d1));\r\n    n0.s = n1.s = x.s;\r\n    e = e * 2;\r\n\r\n    // Determine which fraction is closer to x, n0/d0 or n1/d1\r\n    r = div(n1, d1, e, ROUNDING_MODE).minus(x).abs().comparedTo(\r\n        div(n0, d0, e, ROUNDING_MODE).minus(x).abs()) < 1 ? [n1, d1] : [n0, d0];\r\n\r\n    MAX_EXP = exp;\r\n\r\n    return r;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return the value of this BigNumber converted to a number primitive.\r\n   */\r\n  P.toNumber = function () {\r\n    return +valueOf(this);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a string representing the value of this BigNumber rounded to sd significant digits\r\n   * using rounding mode rm or ROUNDING_MODE. If sd is less than the number of digits\r\n   * necessary to represent the integer part of the value in fixed-point notation, then use\r\n   * exponential notation.\r\n   *\r\n   * [sd] {number} Significant digits. Integer, 1 to MAX inclusive.\r\n   * [rm] {number} Rounding mode. Integer, 0 to 8 inclusive.\r\n   *\r\n   * '[BigNumber Error] Argument {not a primitive number|not an integer|out of range}: {sd|rm}'\r\n   */\r\n  P.toPrecision = function (sd, rm) {\r\n    if (sd != null) intCheck(sd, 1, MAX);\r\n    return format(this, sd, rm, 2);\r\n  };\r\n\r\n\r\n  /*\r\n   * Return a string representing the value of this BigNumber in base b, or base 10 if b is\r\n   * omitted. If a base is specified, including base 10, round according to DECIMAL_PLACES and\r\n   * ROUNDING_MODE. If a base is not specified, and this BigNumber has a positive exponent\r\n   * that is equal to or greater than TO_EXP_POS, or a negative exponent equal to or less than\r\n   * TO_EXP_NEG, return exponential notation.\r\n   *\r\n   * [b] {number} Integer, 2 to ALPHABET.length inclusive.\r\n   *\r\n   * '[BigNumber Error] Base {not a primitive number|not an integer|out of range}: {b}'\r\n   */\r\n  P.toString = function (b) {\r\n    var str,\r\n      n = this,\r\n      s = n.s,\r\n      e = n.e;\r\n\r\n    // Infinity or NaN?\r\n    if (e === null) {\r\n      if (s) {\r\n        str = 'Infinity';\r\n        if (s < 0) str = '-' + str;\r\n      } else {\r\n        str = 'NaN';\r\n      }\r\n    } else {\r\n      if (b == null) {\r\n        str = e <= TO_EXP_NEG || e >= TO_EXP_POS\r\n         ? toExponential(coeffToString(n.c), e)\r\n         : toFixedPoint(coeffToString(n.c), e, '0');\r\n      } else if (b === 10 && alphabetHasNormalDecimalDigits) {\r\n        n = round(new BigNumber(n), DECIMAL_PLACES + e + 1, ROUNDING_MODE);\r\n        str = toFixedPoint(coeffToString(n.c), n.e, '0');\r\n      } else {\r\n        intCheck(b, 2, ALPHABET.length, 'Base');\r\n        str = convertBase(toFixedPoint(coeffToString(n.c), e, '0'), 10, b, s, true);\r\n      }\r\n\r\n      if (s < 0 && n.c[0]) str = '-' + str;\r\n    }\r\n\r\n    return str;\r\n  };\r\n\r\n\r\n  /*\r\n   * Return as toString, but do not accept a base argument, and include the minus sign for\r\n   * negative zero.\r\n   */\r\n  P.valueOf = P.toJSON = function () {\r\n    return valueOf(this);\r\n  };\r\n\r\n\r\n  P._isBigNumber = true;\r\n\r\n  P[Symbol.toStringTag] = 'BigNumber';\r\n\r\n  // Node.js v10.12.0+\r\n  P[Symbol.for('nodejs.util.inspect.custom')] = P.valueOf;\r\n\r\n  if (configObject != null) BigNumber.set(configObject);\r\n\r\n  return BigNumber;\r\n}\r\n\r\n\r\n// PRIVATE HELPER FUNCTIONS\r\n\r\n// These functions don't need access to variables,\r\n// e.g. DECIMAL_PLACES, in the scope of the `clone` function above.\r\n\r\n\r\nfunction bitFloor(n) {\r\n  var i = n | 0;\r\n  return n > 0 || n === i ? i : i - 1;\r\n}\r\n\r\n\r\n// Return a coefficient array as a string of base 10 digits.\r\nfunction coeffToString(a) {\r\n  var s, z,\r\n    i = 1,\r\n    j = a.length,\r\n    r = a[0] + '';\r\n\r\n  for (; i < j;) {\r\n    s = a[i++] + '';\r\n    z = LOG_BASE - s.length;\r\n    for (; z--; s = '0' + s);\r\n    r += s;\r\n  }\r\n\r\n  // Determine trailing zeros.\r\n  for (j = r.length; r.charCodeAt(--j) === 48;);\r\n\r\n  return r.slice(0, j + 1 || 1);\r\n}\r\n\r\n\r\n// Compare the value of BigNumbers x and y.\r\nfunction compare(x, y) {\r\n  var a, b,\r\n    xc = x.c,\r\n    yc = y.c,\r\n    i = x.s,\r\n    j = y.s,\r\n    k = x.e,\r\n    l = y.e;\r\n\r\n  // Either NaN?\r\n  if (!i || !j) return null;\r\n\r\n  a = xc && !xc[0];\r\n  b = yc && !yc[0];\r\n\r\n  // Either zero?\r\n  if (a || b) return a ? b ? 0 : -j : i;\r\n\r\n  // Signs differ?\r\n  if (i != j) return i;\r\n\r\n  a = i < 0;\r\n  b = k == l;\r\n\r\n  // Either Infinity?\r\n  if (!xc || !yc) return b ? 0 : !xc ^ a ? 1 : -1;\r\n\r\n  // Compare exponents.\r\n  if (!b) return k > l ^ a ? 1 : -1;\r\n\r\n  j = (k = xc.length) < (l = yc.length) ? k : l;\r\n\r\n  // Compare digit by digit.\r\n  for (i = 0; i < j; i++) if (xc[i] != yc[i]) return xc[i] > yc[i] ^ a ? 1 : -1;\r\n\r\n  // Compare lengths.\r\n  return k == l ? 0 : k > l ^ a ? 1 : -1;\r\n}\r\n\r\n\r\n/*\r\n * Check that n is a primitive number, an integer, and in range, otherwise throw.\r\n */\r\nfunction intCheck(n, min, max, name) {\r\n  if (n < min || n > max || n !== mathfloor(n)) {\r\n    throw Error\r\n     (bignumberError + (name || 'Argument') + (typeof n == 'number'\r\n       ? n < min || n > max ? ' out of range: ' : ' not an integer: '\r\n       : ' not a primitive number: ') + String(n));\r\n  }\r\n}\r\n\r\n\r\n// Assumes finite n.\r\nfunction isOdd(n) {\r\n  var k = n.c.length - 1;\r\n  return bitFloor(n.e / LOG_BASE) == k && n.c[k] % 2 != 0;\r\n}\r\n\r\n\r\nfunction toExponential(str, e) {\r\n  return (str.length > 1 ? str.charAt(0) + '.' + str.slice(1) : str) +\r\n   (e < 0 ? 'e' : 'e+') + e;\r\n}\r\n\r\n\r\nfunction toFixedPoint(str, e, z) {\r\n  var len, zs;\r\n\r\n  // Negative exponent?\r\n  if (e < 0) {\r\n\r\n    // Prepend zeros.\r\n    for (zs = z + '.'; ++e; zs += z);\r\n    str = zs + str;\r\n\r\n  // Positive exponent\r\n  } else {\r\n    len = str.length;\r\n\r\n    // Append zeros.\r\n    if (++e > len) {\r\n      for (zs = z, e -= len; --e; zs += z);\r\n      str += zs;\r\n    } else if (e < len) {\r\n      str = str.slice(0, e) + '.' + str.slice(e);\r\n    }\r\n  }\r\n\r\n  return str;\r\n}\r\n\r\n\r\n// EXPORT\r\n\r\n\r\nexport var BigNumber = clone();\r\n\r\nexport default BigNumber;\r\n","import { Option } from 'src/types';\nimport { IPFSContent, IpfsContentSource } from '../ipfs/types';\n\n/* eslint-disable import/no-unused-modules */\nexport type QueueItemStatus =\n  | 'pending'\n  | 'executing'\n  | 'timeout'\n  | 'completed'\n  | 'cancelled'\n  | 'error'\n  | 'not_found';\n\nexport type QueueSourceSettings = {\n  timeout: number;\n  maxConcurrentExecutions: number;\n};\n\nexport type QueueSource = IpfsContentSource;\n\nexport type QueueSettings = Record<QueueSource, QueueSourceSettings>;\n\nexport interface IQueueStrategy {\n  settings: QueueSettings;\n  order: QueueSource[];\n  getNextSource(source: QueueSource): QueueSource | undefined;\n}\n\nexport type QueueStats = {\n  status: QueueItemStatus;\n  count: number;\n};\n\nexport enum QueuePriority {\n  ZERO = 0,\n  LOW = 0.1,\n  MEDIUM = 0.5,\n  HIGH = 0.9,\n  URGENT = 1,\n}\nexport type QueueItemOptions = {\n  parent?: string;\n  priority?: QueuePriority | number;\n  viewPortPriority?: number;\n  initialSource?: QueueSource;\n  postProcessing?: boolean;\n};\n\nexport type QueueItemCallback = (\n  cid: string,\n  status: QueueItemStatus,\n  source: QueueSource,\n  result?: Option<IPFSContent>\n) => void;\n\nexport type QueueItem = {\n  cid: string;\n  source: QueueSource;\n  status: QueueItemStatus;\n  callbacks: QueueItemCallback[];\n  controller?: AbortController;\n  executionTime?: number;\n} & Omit<QueueItemOptions, 'initialSource'>;\n\nexport type QueueItemResult = {\n  item: QueueItem;\n  status: QueueItemStatus;\n  source: QueueSource;\n  result?: Option<IPFSContent>;\n};\n\nexport type QueueItemAsyncResult = Omit<QueueItemResult, 'item'>;\n\nexport type QueueItemPostProcessor = (\n  content: Option<IPFSContent>\n) => Promise<Option<IPFSContent>>;\n\nexport type FetchParticleAsync = (\n  cid: string,\n  options?: QueueItemOptions\n) => Promise<QueueItemAsyncResult>;\n","import { EntityToDto, DtoToEntity } from 'src/types/dto';\nimport { deserializeString } from './string';\n\nexport const snakeToCamel = (str: string) =>\n  str.replace(/([-_][a-z])/g, (group) =>\n    group.toUpperCase().replace('-', '').replace('_', '')\n  );\n\nexport const camelToSnake = (str: string) =>\n  str.replace(/[A-Z]/g, (letter) => `_${letter.toLowerCase()}`);\n// Function to transform a DB entity to a DTO\n\n// eslint-disable-next-line import/no-unused-modules\nexport function entityToDto<T extends Record<string, any>>(\n  dbEntity: T\n): EntityToDto<T> {\n  if (!dbEntity || typeof dbEntity !== 'object') {\n    return dbEntity;\n  }\n  const dto: Record<string, any> = {}; // Specify the type for dto\n  Object.keys(dbEntity).forEach((key) => {\n    if (Object.prototype.hasOwnProperty.call(dbEntity, key)) {\n      const camelCaseKey = snakeToCamel(key);\n      let value = dbEntity[key];\n      if (Array.isArray(dbEntity[key])) {\n        value = dbEntity[key].map((item) => entityToDto(item));\n      } else if (typeof dbEntity[key] === 'object') {\n        value = entityToDto(dbEntity[key]);\n      } else if (typeof dbEntity[key] === 'string') {\n        value = deserializeString(value);\n      }\n      dto[camelCaseKey] = value;\n    }\n  });\n  return dto as EntityToDto<T>;\n}\n\n// eslint-disable-next-line import/no-unused-modules\nexport function dtoToEntity<T extends Record<string, any>>(\n  dto: T\n): DtoToEntity<T> {\n  // in case of recursive calls\n  if (!dto || typeof dto !== 'object') {\n    return dto;\n  }\n  const dbEntity: any = {};\n\n  Object.keys(dto).forEach((key) => {\n    if (Object.prototype.hasOwnProperty.call(dto, key)) {\n      const snakeCaseKey = camelToSnake(key);\n      let value = dto[key];\n      if (Array.isArray(value)) {\n        value = value.map((item) => dtoToEntity(item));\n      } else if (typeof value === 'object') {\n        value = dtoToEntity(value);\n      }\n      //  else if (typeof value === 'string') {\n      //   value = replaceQuotes(value);\n      // }\n      dbEntity[snakeCaseKey] = value;\n    }\n  });\n  return dbEntity as DtoToEntity<T>; // Replace T with the appropriate DB Entity type if known\n}\n\nexport function dtoListToEntity<T extends Record<string, any>>(\n  array: T[]\n): DtoToEntity<T>[] {\n  return array.map((dto) => dtoToEntity(dto));\n}\n\nexport function entityListToDto<T extends Record<string, any>>(\n  array: T[]\n): EntityToDto<T>[] {\n  return array.map((dto) => entityToDto(dto));\n}\n\nexport function removeUndefinedFields(entity: Record<string, any>) {\n  Object.keys(entity).forEach((key) => {\n    if (entity[key] === undefined) {\n      delete entity[key];\n    }\n  });\n  return entity;\n}\n","import { PinType } from 'ipfs-core-types/src/pin';\nimport { QueuePriority } from 'src/services/QueueManager/types';\nimport { Transaction } from 'src/services/backend/services/indexer/types';\nimport {\n  SenseChatExtension,\n  SenseLinkMeta,\n  SenseListItemtMeta,\n  SenseTransactionMeta,\n} from 'src/services/backend/types/sense';\nimport { IpfsContentType } from 'src/services/ipfs/types';\nimport { NeuronAddress, ParticleCid, TransactionHash } from 'src/types/base';\nimport { DtoToEntity } from 'src/types/dto';\n\ntype PinEntryType = Exclude<PinType, 'all'>;\n// example of db optimization for classifiers\n\nexport const PinTypeMap: Record<PinEntryType, number> = {\n  indirect: -1,\n  direct: 0,\n  recursive: 1,\n};\n\nexport enum EntryType {\n  transactions = 1,\n  particle = 2,\n  chat = 3,\n}\n\n// Transaction if formed by frontend\n// Should be replaced after sync\n\nexport type PinDbEntity = {\n  cid: string;\n  type: keyof typeof PinTypeMap;\n};\n\nexport type TransactionDbEntity = {\n  hash: string;\n  index: number;\n  type: string;\n  timestamp: number;\n  block_height: number;\n  value: Transaction['value'];\n  success: boolean;\n  memo: string;\n  neuron: NeuronAddress;\n};\n\ntype SyncItemMeta = DtoToEntity<\n  (SenseLinkMeta | SenseTransactionMeta) & SenseChatExtension\n>;\n\nexport type SyncStatusDbEntity = {\n  entry_type: EntryType;\n  id: NeuronAddress | ParticleCid;\n  owner_id: NeuronAddress;\n  timestamp_update: number;\n  timestamp_read: number;\n  disabled: boolean;\n  unread_count: number;\n  meta: SyncItemMeta;\n};\n\nexport type ParticleDbEntity = {\n  id: ParticleCid;\n  size: number;\n  size_local: number;\n  blocks: number;\n  mime: string;\n  type: IpfsContentType;\n  text: string;\n};\n\nexport type LinkDbEntity = {\n  from: ParticleCid;\n  to: ParticleCid;\n  neuron: NeuronAddress;\n  timestamp: number;\n  transaction_hash: string;\n};\n\nexport type ConfigDbEntity = {\n  key: string;\n  group_key: string;\n  value: NonNullable<unknown>;\n};\n\nexport enum SyncQueueStatus {\n  pending = 0,\n  executing = 1,\n  done = 2,\n  error = -1,\n}\n\nexport enum SyncQueueJobType {\n  particle = 0,\n  embedding = 1,\n}\n\nexport type SyncQueueKey = {\n  id: string;\n  job_type: SyncQueueJobType;\n};\n\nexport type SyncQueueDbEntity = SyncQueueKey & {\n  data: string;\n  status: SyncQueueStatus;\n  priority: QueuePriority | number;\n};\n\nexport type CommunityDbEntity = {\n  ownerId: NeuronAddress;\n  particle: ParticleCid;\n  neuron: NeuronAddress;\n  name: string;\n  following: boolean;\n  follower: boolean;\n};\n\nexport type EmbeddinsDbEntity = {\n  cid: ParticleCid;\n  vec: number[];\n};\n\nexport type DbEntity =\n  | TransactionDbEntity\n  | ParticleDbEntity\n  | SyncStatusDbEntity\n  | ConfigDbEntity\n  | SyncQueueDbEntity\n  | EmbeddinsDbEntity;\n","import { getRelevance } from 'src/utils/search/utils';\nimport { QueuePriority } from 'src/services/QueueManager/types';\nimport { dtoListToEntity } from 'src/utils/dto';\nimport { ParticleCid } from 'src/types/base';\nimport { DB_VERSION, type CybCozoDb } from '../cozoDb';\nimport { DbEntity, SyncQueueJobType } from '../types/entities';\nimport { SyncQueueDto } from '../types/dto';\n\nexport const fetchInitialEmbeddings = async (\n  saveSyncQueue: (syncItems: Partial<DbEntity>[]) => Promise<void>\n) => {\n  console.log(' [initial]fetch initial particles...');\n  const relevanceParticles = await getRelevance(0, 400);\n\n  const items = relevanceParticles.result.map(\n    ({ particle }: { particle: ParticleCid }) => ({\n      id: particle,\n      data: '',\n      jobType: SyncQueueJobType.particle,\n      priority: QueuePriority.LOW,\n    })\n  ) as SyncQueueDto[];\n\n  await saveSyncQueue(dtoListToEntity(items));\n};\n\nconst migrate = async (db: CybCozoDb) => {\n  const version = await db.getDbVersion();\n  console.log(`* db version - ${version}`);\n  if (version < 1.2) {\n    //\n    console.log(' Migrating to 1.1');\n    console.log('    add job_type field to sync_queue');\n    const res1 = await db.runCommand(`\n        ?[id,status,priority, job_type, data] := *sync_queue{id,status,priority}, job_type=0, data='';\n        :replace sync_queue {\n            id: String,\n            job_type: Int default 0 =>\n            data: String default '',\n            status: Int default 0,\n            priority: Float default 0,\n        }\n    `);\n    console.log(`       ok: ${res1.ok}`);\n    try {\n      console.log('    create embeddings relation');\n      const res2 = await db.runCommand(`\n        :create embeddings {\n            cid: String =>\n            vec: <F32; 384>\n        }\n      `);\n\n      console.log(`       ok: ${res2.ok}`);\n    } catch (e) {\n      console.log('* embeddings already exist');\n    }\n\n    try {\n      console.log('    create embeddings:semantic index');\n      const res3 = await db.runCommand(`\n        ::hnsw create embeddings:semantic{\n            fields: [vec],\n            dim: 384,\n            ef: 100,\n            m: 16\n        }\n    `);\n      console.log(`       ok: ${res3.ok}`);\n    } catch (e) {\n      console.log('* embeddings semantics already exist');\n    }\n    console.log('    fill queue to calculate embeddings for all particles');\n    const res4 = await db.runCommand(`\n        ?[id, data, job_type, status, priority] := *particle{cid, text, mime}, mime=\"text/plain\", job_type=1, status=0, priority=0.5, id = cid, data=text\n\n        :put sync_queue {\n            id,\n            job_type =>\n            data,\n            status,\n            priority,\n        }\n    `);\n    console.log(`       ok: ${res4.ok}`);\n    await db.setDbVersion(DB_VERSION);\n\n    return true;\n  }\n\n  return false;\n};\n\nexport default migrate;\n","import axios from 'axios';\n\nimport { CyberClient } from '@cybercongress/cyber-js';\nimport { LCD_URL } from 'src/constants/config';\nimport { ParticleCid } from 'src/types/base';\nimport { PATTERN_IPFS_HASH } from 'src/constants/patterns';\n\nimport { getIpfsHash } from '../ipfs/helpers';\nimport { encodeSlash } from '../utils';\n\n// TODO: move rank to features/rank\nexport const formatNumber = (number, toFixed) => {\n  let formatted = +number;\n\n  if (toFixed) {\n    formatted = +formatted.toFixed(toFixed);\n  }\n\n  return formatted.toLocaleString('en').replace(/,/g, ' ');\n};\n\nexport const getRankGrade = (rank) => {\n  let from;\n  let to;\n  let value;\n\n  if (rank > 0.00000276) {\n    from = 0.00000276;\n    to = 0.01;\n    value = 1;\n  } else if (rank > 0.00000254879356777504 && rank <= 0.00000276) {\n    from = 0.00000254879356777504;\n    to = 0.00000276;\n    value = 2;\n  } else if (rank > 0.00000233758713555007 && rank <= 0.00000254879356777504) {\n    from = 0.00000233758713555007;\n    to = 0.00000254879356777504;\n    value = 3;\n  } else if (rank > 0.00000191517427110014 && rank <= 0.00000233758713555007) {\n    from = 0.00000191517427110014;\n    to = 0.00000233758713555007;\n    value = 4;\n  } else if (rank > 0.00000128155497442525 && rank <= 0.00000191517427110014) {\n    from = 0.00000128155497442525;\n    to = 0.00000191517427110014;\n    value = 5;\n  } else if (rank > 0.00000022552281330043 && rank <= 0.00000128155497442525) {\n    from = 0.00000022552281330043;\n    to = 0.00000128155497442525;\n    value = 6;\n  } else if (rank > 0 && rank <= 0.00000022552281330043) {\n    from = 0;\n    to = 0.00000022552281330043;\n    value = 7;\n  } else {\n    from = 'n/a';\n    to = 'n/a';\n    value = 'n/a';\n  }\n\n  return {\n    from,\n    to,\n    value,\n  };\n};\n\nexport const getRelevance = async (page = 0, limit = 50) => {\n  try {\n    const response = await axios({\n      method: 'get',\n      url: `${LCD_URL}/cyber/rank/v1beta1/rank/top`,\n      params: {\n        'pagination.page': page,\n        'pagination.perPage': limit,\n      },\n    });\n    return response.data;\n  } catch (error) {\n    return {};\n  }\n};\n\nexport const keybaseCheck = async (identity) => {\n  try {\n    const response = await axios({\n      method: 'get',\n      url: `https://keybase.io/_/api/1.0/user/lookup.json?key_suffix=${identity}&fields=basics`,\n    });\n    return response.data;\n  } catch (e) {\n    console.log(e);\n    return null;\n  }\n};\n\nexport const keybaseAvatar = async (identity) => {\n  try {\n    const response = await axios({\n      method: 'get',\n      url: `https://keybase.io/_/api/1.0/user/lookup.json?key_suffix=${identity}&fields=pictures`,\n    });\n    return response.data;\n  } catch (e) {\n    console.log(e);\n    return null;\n  }\n};\n\nexport const authAccounts = async (address) => {\n  try {\n    const response = await axios({\n      method: 'get',\n      url: `${LCD_URL}/cosmos/auth/v1beta1/accounts/${address}`,\n    });\n    return response.data;\n  } catch (error) {\n    console.log(error);\n    return null;\n  }\n};\n\n// Access-Control-Allow-Origin\nexport const getCredit = async (address) => {\n  try {\n    const headers = {\n      'Content-Type': 'application/json',\n    };\n    const fromData = {\n      denom: 'boot',\n      address,\n    };\n    const response = await axios({\n      method: 'post',\n      // url: 'http://localhost:8000/credit',\n      url: 'https://titan.cybernode.ai/credit',\n      headers,\n      data: JSON.stringify(fromData),\n    });\n\n    return response;\n  } catch (error) {\n    return null;\n  }\n};\n\nexport const getSearchQuery = async (query: ParticleCid | string) =>\n  query.match(PATTERN_IPFS_HASH) ? query : getIpfsHash(encodeSlash(query));\n\nexport const searchByHash = async (\n  client: CyberClient,\n  hash: string,\n  page: number\n) => {\n  try {\n    const results = await client.search(hash, page);\n\n    return results;\n  } catch (error) {\n    // TODO: handle\n    console.error(error);\n    return undefined;\n  }\n};\n\n// don't add funcs more\n","import initCozoDb, { CozoDb } from 'cyb-cozo-lib-wasm';\nimport { createCyblogChannel } from 'src/utils/logging/cyblog';\n\nimport {\n  IDBResult,\n  Column,\n  DBSchema,\n  TableSchema,\n  GetCommandOptions,\n  DBResultError,\n} from './types/types';\nimport { DbEntity } from './types/entities';\n\nimport { clearIndexedDBStore, toListOfObjects } from './utils';\n\nimport { createCozoDbCommandFactory } from './cozoDbCommandFactory';\n\nimport initializeScript from './migrations/schema.cozo';\nimport { fetchInitialEmbeddings } from './migrations/migrations';\n\nexport const DB_NAME = 'cyb-cozo-idb';\n\nconst DB_STORE_NAME = 'cozodb';\n\nexport const DB_VERSION = 1.2;\n\ntype OnWrite = (writesCount: number) => void;\n\nlet shouldInitialize = false;\n\nfunction createCozoDb() {\n  let db: CozoDb | undefined;\n\n  let dbSchema: DBSchema = {};\n  let commandFactory: ReturnType<typeof createCozoDbCommandFactory> | undefined;\n  let onIndexedDbWrite: OnWrite | undefined;\n\n  const cyblogCh = createCyblogChannel({ thread: 'cozo' });\n\n  const loadCozoDb = async () => {\n    db = await CozoDb.new_from_indexed_db(\n      DB_NAME,\n      DB_STORE_NAME,\n      onIndexedDbWrite\n    );\n    await initDbSchema();\n  };\n\n  async function init(onWrite?: OnWrite): Promise<void> {\n    onIndexedDbWrite = onWrite;\n    await initCozoDb();\n    await loadCozoDb();\n\n    await performHardReset();\n  }\n\n  const getRelations = async (): Promise<string[]> => {\n    const result = await runCommand('::relations');\n\n    return result.rows.map((row) => row[0] as string);\n  };\n\n  const createSchema = async (tableName: string) => {\n    const columnResult = await runCommand(`::columns ${tableName}`);\n\n    const fields = toListOfObjects<Column>(columnResult);\n    const keys = fields.filter((c) => c.is_key).map((c) => c.column);\n    const values = fields.filter((c) => !c.is_key).map((c) => c.column);\n\n    // map -> column name: {...column props}\n    const columns = fields.reduce((obj, field) => {\n      obj[field.column] = field;\n      return obj;\n    }, {} as Record<string, Column>);\n\n    // schema of the table, with some pre-calc\n    const tableSchema: TableSchema = {\n      keys,\n      values,\n      columns,\n    };\n    return tableSchema;\n  };\n\n  const loadDbSchema = async () => {\n    const relations = await getRelations();\n    const schemasMap = await Promise.all(\n      relations.map(async (table) => {\n        const tableSchema = await createSchema(table);\n        return [table, tableSchema];\n      })\n    );\n    dbSchema = Object.fromEntries(schemasMap);\n    cyblogCh.info('cozoDb schema initialized: ', {\n      data: [dbSchema, relations, schemasMap],\n    });\n\n    commandFactory = createCozoDbCommandFactory(dbSchema);\n\n    cyblogCh.info('cozoDb schema initialized: ', {\n      data: [dbSchema, relations, schemasMap],\n    });\n\n    return dbSchema;\n  };\n\n  const initDbSchema = async (): Promise<void> => {\n    await loadDbSchema();\n\n    shouldInitialize = Object.keys(dbSchema).length === 0;\n    if (shouldInitialize) {\n      cyblogCh.info('   cozoDb - apply DB schema', initializeScript);\n      const result = await runCommand(initializeScript);\n\n      await loadDbSchema();\n\n      // if initialized set initial version\n      await setDbVersion(DB_VERSION);\n\n      await fetchInitialEmbeddings(async (items: Partial<DbEntity>[]) => {\n        console.log(' [initial]save initial particles...');\n        await put('sync_queue', items);\n      });\n    }\n  };\n\n  const getDbVersion = async () => {\n    const versionData = await get(\n      'config',\n      ['value'],\n      ['key = \"DB_VERSION\"'],\n      ['key']\n    );\n\n    return (versionData.rows?.[0]?.[0] as number) || 0;\n  };\n\n  const setDbVersion = async (version: number) => {\n    const result = await put('config', [\n      {\n        key: 'DB_VERSION',\n        group_key: 'system',\n        value: version,\n      },\n    ]);\n\n    // console.log('CozoDb >>> setDbVersion', version, result);\n    return result;\n  };\n\n  const performHardReset = async () => {\n    // if (!dbSchema.community) {\n    //   const result = await runCommand(communityScript);\n    //   console.log('CozoDb >>> migration: creating community relation....');\n    //   dbSchema.community = await createSchema('community');\n    // }\n    if (!dbSchema.transaction.values.includes('block_height')) {\n      cyblogCh.info(' HARD RESET experemental db...');\n      await clearIndexedDBStore(DB_NAME, DB_STORE_NAME);\n      await init(onIndexedDbWrite);\n      await setDbVersion(DB_VERSION);\n\n      // await setDbVersion(DB_VERSION);\n    }\n    // const version = await getVersion();\n    // console.log(`DB Version ${version}`);\n  };\n\n  const runCommand = async (\n    command: string,\n    immutable = false\n  ): Promise<IDBResult> => {\n    if (!db) {\n      throw new Error('DB is not initialized');\n    }\n    const resultStr = await db.run(command, '', immutable);\n    const result = JSON.parse(resultStr);\n\n    if (!result.ok) {\n      console.log('----> runCommand error ', command, result);\n      throw new DBResultError(result);\n    }\n\n    return result;\n  };\n\n  const put = async (\n    tableName: string,\n    array: Partial<DbEntity>[]\n  ): Promise<IDBResult> => {\n    if (array.length === 0) {\n      throw new DBResultError({\n        code: '-1',\n        message: `cant PUT [] into ${tableName}`,\n        display: '',\n        severity: '',\n        ok: false,\n      });\n    }\n    return runCommand(commandFactory!.generatePut(tableName, array));\n  };\n\n  const rm = async (\n    tableName: string,\n    keyValues: Partial<DbEntity>[]\n  ): Promise<IDBResult> =>\n    runCommand(commandFactory!.generateRm(tableName, keyValues));\n\n  const update = async (\n    tableName: string,\n    array: Partial<DbEntity>[]\n  ): Promise<IDBResult> =>\n    runCommand(commandFactory!.generateUpdate(tableName, array));\n\n  const get = async (\n    tableName: string,\n    selectFields: string[] = [],\n    conditions: string[] = [],\n    conditionFields: string[] = [],\n    options: GetCommandOptions = {}\n  ): Promise<IDBResult> =>\n    runCommand(\n      commandFactory!.generateGet(\n        tableName,\n        selectFields,\n        conditions,\n        conditionFields,\n        options\n      ),\n      true\n    );\n\n  const importRelations = (content: string) =>\n    JSON.parse(db!.import_relations(content));\n\n  const exportRelations = (relations: string[]) =>\n    JSON.parse(db!.export_relations(JSON.stringify({ relations })));\n\n  return {\n    init,\n    put,\n    get,\n    rm,\n    update,\n    runCommand,\n    getCommandFactory: () => commandFactory,\n    importRelations,\n    exportRelations,\n    getDbVersion,\n    setDbVersion,\n    loadDbSchema,\n  };\n}\n\n// const cozoDb = createCozoDb();\n\nexport type CybCozoDb = ReturnType<typeof createCozoDb>;\n\nexport default createCozoDb();\n","import { Column, DBSchema, GetCommandOptions } from './types/types';\nimport { DbEntity } from './types/entities';\nimport { entityToArray } from './utils';\n\nexport function createCozoDbCommandFactory(dbSchema: DBSchema) {\n  const schema = dbSchema;\n\n  const generateRmCommand = (tableName: string, keys: string[]): string => {\n    return `:rm ${tableName} {${keys}}`;\n  };\n\n  const generateModifyCommand = (\n    tableName: string,\n    command: 'put' | 'update' = 'put',\n    fieldNames: string[] = []\n  ): string => {\n    const { keys, values } = schema[tableName];\n    const hasValues = values.length > 0;\n\n    const actualValues =\n      fieldNames.length > 0\n        ? fieldNames.filter((f) => values.includes(f))\n        : values;\n\n    return !hasValues\n      ? `:${command} ${tableName} {${keys}}`\n      : `:${command} ${tableName} {${keys} => ${actualValues}}`;\n  };\n\n  const generateAtomCommand = (\n    tableName: string,\n    items: Partial<DbEntity>[],\n    fieldNames: string[] = []\n  ): string => {\n    const tableSchema = dbSchema[tableName];\n\n    const selectedColumns =\n      fieldNames.length > 0\n        ? Object.keys(tableSchema.columns).reduce((acc, key) => {\n            if (fieldNames.includes(key)) {\n              acc[key] = tableSchema.columns[key];\n            }\n            return acc;\n          }, {} as Record<string, Column>)\n        : tableSchema.columns;\n\n    const colKeys = Object.keys(selectedColumns);\n    const colValues = Object.values(selectedColumns) as Column[];\n\n    return `?[${colKeys.join(', ')}] <- [${items\n      .map((item) => entityToArray(item, colValues))\n      .join(', ')}]`;\n  };\n\n  const generatePut = (tableName: string, array: Partial<DbEntity>[]) => {\n    const fields = Object.keys(array[0]);\n    const atomCommand = generateAtomCommand(tableName, array, fields);\n    const putCommand = generateModifyCommand(tableName, 'put');\n    return `${atomCommand}\\r\\n${putCommand}`;\n  };\n\n  const generateRm = (tableName: string, keyValues: Partial<DbEntity>[]) => {\n    const { keys } = schema[tableName];\n\n    const atomCommand = generateAtomCommand(tableName, keyValues, keys);\n    const rmCommand = generateRmCommand(tableName, keys);\n    return `${atomCommand}\\r\\n${rmCommand}`;\n  };\n\n  const generateUpdate = (tableName: string, array: Partial<DbEntity>[]) => {\n    // align fields by first entity\n    const fields = Object.keys(array[0]);\n    const atomCommand = generateAtomCommand(tableName, array, fields);\n    const updateCommand = generateModifyCommand(tableName, 'update', fields);\n    return `${atomCommand}\\r\\n${updateCommand}`;\n  };\n\n  const generateGet = (\n    tableName: string,\n    selectFields: string[] = [],\n    conditions: string[] = [],\n    conditionFields: string[] = [],\n    options: GetCommandOptions = {}\n  ) => {\n    const tableSchema = dbSchema[tableName];\n\n    const queryFields =\n      selectFields.length > 0 ? selectFields : Object.keys(tableSchema.columns);\n\n    const requiredFields = [...queryFields, ...conditionFields];\n\n    const conditionsStr =\n      conditions.length > 0 ? `, ${conditions.join(', ')} ` : '';\n\n    const orderByStr = options.orderBy ? `:order ${options.orderBy}` : '';\n    const limitStr = options.limit ? `:limit ${options.limit}` : '';\n    const offsetStr = options.limit ? `:offset ${options.offset}` : '';\n    return `?[${queryFields.join(', ')}] := *${tableName}{${requiredFields.join(\n      ', '\n    )}} ${conditionsStr} ${orderByStr} ${limitStr} ${offsetStr}`;\n  };\n\n  return {\n    generateModifyCommand,\n    generateAtomCommand,\n    generatePut,\n    generateGet,\n    generateUpdate,\n    generateRm,\n  };\n}\n","/**\n * @license\n * Copyright 2019 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\nconst proxyMarker = Symbol(\"Comlink.proxy\");\nconst createEndpoint = Symbol(\"Comlink.endpoint\");\nconst releaseProxy = Symbol(\"Comlink.releaseProxy\");\nconst finalizer = Symbol(\"Comlink.finalizer\");\nconst throwMarker = Symbol(\"Comlink.thrown\");\nconst isObject = (val) => (typeof val === \"object\" && val !== null) || typeof val === \"function\";\n/**\n * Internal transfer handle to handle objects marked to proxy.\n */\nconst proxyTransferHandler = {\n    canHandle: (val) => isObject(val) && val[proxyMarker],\n    serialize(obj) {\n        const { port1, port2 } = new MessageChannel();\n        expose(obj, port1);\n        return [port2, [port2]];\n    },\n    deserialize(port) {\n        port.start();\n        return wrap(port);\n    },\n};\n/**\n * Internal transfer handler to handle thrown exceptions.\n */\nconst throwTransferHandler = {\n    canHandle: (value) => isObject(value) && throwMarker in value,\n    serialize({ value }) {\n        let serialized;\n        if (value instanceof Error) {\n            serialized = {\n                isError: true,\n                value: {\n                    message: value.message,\n                    name: value.name,\n                    stack: value.stack,\n                },\n            };\n        }\n        else {\n            serialized = { isError: false, value };\n        }\n        return [serialized, []];\n    },\n    deserialize(serialized) {\n        if (serialized.isError) {\n            throw Object.assign(new Error(serialized.value.message), serialized.value);\n        }\n        throw serialized.value;\n    },\n};\n/**\n * Allows customizing the serialization of certain values.\n */\nconst transferHandlers = new Map([\n    [\"proxy\", proxyTransferHandler],\n    [\"throw\", throwTransferHandler],\n]);\nfunction isAllowedOrigin(allowedOrigins, origin) {\n    for (const allowedOrigin of allowedOrigins) {\n        if (origin === allowedOrigin || allowedOrigin === \"*\") {\n            return true;\n        }\n        if (allowedOrigin instanceof RegExp && allowedOrigin.test(origin)) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction expose(obj, ep = globalThis, allowedOrigins = [\"*\"]) {\n    ep.addEventListener(\"message\", function callback(ev) {\n        if (!ev || !ev.data) {\n            return;\n        }\n        if (!isAllowedOrigin(allowedOrigins, ev.origin)) {\n            console.warn(`Invalid origin '${ev.origin}' for comlink proxy`);\n            return;\n        }\n        const { id, type, path } = Object.assign({ path: [] }, ev.data);\n        const argumentList = (ev.data.argumentList || []).map(fromWireValue);\n        let returnValue;\n        try {\n            const parent = path.slice(0, -1).reduce((obj, prop) => obj[prop], obj);\n            const rawValue = path.reduce((obj, prop) => obj[prop], obj);\n            switch (type) {\n                case \"GET\" /* MessageType.GET */:\n                    {\n                        returnValue = rawValue;\n                    }\n                    break;\n                case \"SET\" /* MessageType.SET */:\n                    {\n                        parent[path.slice(-1)[0]] = fromWireValue(ev.data.value);\n                        returnValue = true;\n                    }\n                    break;\n                case \"APPLY\" /* MessageType.APPLY */:\n                    {\n                        returnValue = rawValue.apply(parent, argumentList);\n                    }\n                    break;\n                case \"CONSTRUCT\" /* MessageType.CONSTRUCT */:\n                    {\n                        const value = new rawValue(...argumentList);\n                        returnValue = proxy(value);\n                    }\n                    break;\n                case \"ENDPOINT\" /* MessageType.ENDPOINT */:\n                    {\n                        const { port1, port2 } = new MessageChannel();\n                        expose(obj, port2);\n                        returnValue = transfer(port1, [port1]);\n                    }\n                    break;\n                case \"RELEASE\" /* MessageType.RELEASE */:\n                    {\n                        returnValue = undefined;\n                    }\n                    break;\n                default:\n                    return;\n            }\n        }\n        catch (value) {\n            returnValue = { value, [throwMarker]: 0 };\n        }\n        Promise.resolve(returnValue)\n            .catch((value) => {\n            return { value, [throwMarker]: 0 };\n        })\n            .then((returnValue) => {\n            const [wireValue, transferables] = toWireValue(returnValue);\n            ep.postMessage(Object.assign(Object.assign({}, wireValue), { id }), transferables);\n            if (type === \"RELEASE\" /* MessageType.RELEASE */) {\n                // detach and deactive after sending release response above.\n                ep.removeEventListener(\"message\", callback);\n                closeEndPoint(ep);\n                if (finalizer in obj && typeof obj[finalizer] === \"function\") {\n                    obj[finalizer]();\n                }\n            }\n        })\n            .catch((error) => {\n            // Send Serialization Error To Caller\n            const [wireValue, transferables] = toWireValue({\n                value: new TypeError(\"Unserializable return value\"),\n                [throwMarker]: 0,\n            });\n            ep.postMessage(Object.assign(Object.assign({}, wireValue), { id }), transferables);\n        });\n    });\n    if (ep.start) {\n        ep.start();\n    }\n}\nfunction isMessagePort(endpoint) {\n    return endpoint.constructor.name === \"MessagePort\";\n}\nfunction closeEndPoint(endpoint) {\n    if (isMessagePort(endpoint))\n        endpoint.close();\n}\nfunction wrap(ep, target) {\n    return createProxy(ep, [], target);\n}\nfunction throwIfProxyReleased(isReleased) {\n    if (isReleased) {\n        throw new Error(\"Proxy has been released and is not useable\");\n    }\n}\nfunction releaseEndpoint(ep) {\n    return requestResponseMessage(ep, {\n        type: \"RELEASE\" /* MessageType.RELEASE */,\n    }).then(() => {\n        closeEndPoint(ep);\n    });\n}\nconst proxyCounter = new WeakMap();\nconst proxyFinalizers = \"FinalizationRegistry\" in globalThis &&\n    new FinalizationRegistry((ep) => {\n        const newCount = (proxyCounter.get(ep) || 0) - 1;\n        proxyCounter.set(ep, newCount);\n        if (newCount === 0) {\n            releaseEndpoint(ep);\n        }\n    });\nfunction registerProxy(proxy, ep) {\n    const newCount = (proxyCounter.get(ep) || 0) + 1;\n    proxyCounter.set(ep, newCount);\n    if (proxyFinalizers) {\n        proxyFinalizers.register(proxy, ep, proxy);\n    }\n}\nfunction unregisterProxy(proxy) {\n    if (proxyFinalizers) {\n        proxyFinalizers.unregister(proxy);\n    }\n}\nfunction createProxy(ep, path = [], target = function () { }) {\n    let isProxyReleased = false;\n    const proxy = new Proxy(target, {\n        get(_target, prop) {\n            throwIfProxyReleased(isProxyReleased);\n            if (prop === releaseProxy) {\n                return () => {\n                    unregisterProxy(proxy);\n                    releaseEndpoint(ep);\n                    isProxyReleased = true;\n                };\n            }\n            if (prop === \"then\") {\n                if (path.length === 0) {\n                    return { then: () => proxy };\n                }\n                const r = requestResponseMessage(ep, {\n                    type: \"GET\" /* MessageType.GET */,\n                    path: path.map((p) => p.toString()),\n                }).then(fromWireValue);\n                return r.then.bind(r);\n            }\n            return createProxy(ep, [...path, prop]);\n        },\n        set(_target, prop, rawValue) {\n            throwIfProxyReleased(isProxyReleased);\n            // FIXME: ES6 Proxy Handler `set` methods are supposed to return a\n            // boolean. To show good will, we return true asynchronously \\_()_/\n            const [value, transferables] = toWireValue(rawValue);\n            return requestResponseMessage(ep, {\n                type: \"SET\" /* MessageType.SET */,\n                path: [...path, prop].map((p) => p.toString()),\n                value,\n            }, transferables).then(fromWireValue);\n        },\n        apply(_target, _thisArg, rawArgumentList) {\n            throwIfProxyReleased(isProxyReleased);\n            const last = path[path.length - 1];\n            if (last === createEndpoint) {\n                return requestResponseMessage(ep, {\n                    type: \"ENDPOINT\" /* MessageType.ENDPOINT */,\n                }).then(fromWireValue);\n            }\n            // We just pretend that `bind()` didnt happen.\n            if (last === \"bind\") {\n                return createProxy(ep, path.slice(0, -1));\n            }\n            const [argumentList, transferables] = processArguments(rawArgumentList);\n            return requestResponseMessage(ep, {\n                type: \"APPLY\" /* MessageType.APPLY */,\n                path: path.map((p) => p.toString()),\n                argumentList,\n            }, transferables).then(fromWireValue);\n        },\n        construct(_target, rawArgumentList) {\n            throwIfProxyReleased(isProxyReleased);\n            const [argumentList, transferables] = processArguments(rawArgumentList);\n            return requestResponseMessage(ep, {\n                type: \"CONSTRUCT\" /* MessageType.CONSTRUCT */,\n                path: path.map((p) => p.toString()),\n                argumentList,\n            }, transferables).then(fromWireValue);\n        },\n    });\n    registerProxy(proxy, ep);\n    return proxy;\n}\nfunction myFlat(arr) {\n    return Array.prototype.concat.apply([], arr);\n}\nfunction processArguments(argumentList) {\n    const processed = argumentList.map(toWireValue);\n    return [processed.map((v) => v[0]), myFlat(processed.map((v) => v[1]))];\n}\nconst transferCache = new WeakMap();\nfunction transfer(obj, transfers) {\n    transferCache.set(obj, transfers);\n    return obj;\n}\nfunction proxy(obj) {\n    return Object.assign(obj, { [proxyMarker]: true });\n}\nfunction windowEndpoint(w, context = globalThis, targetOrigin = \"*\") {\n    return {\n        postMessage: (msg, transferables) => w.postMessage(msg, targetOrigin, transferables),\n        addEventListener: context.addEventListener.bind(context),\n        removeEventListener: context.removeEventListener.bind(context),\n    };\n}\nfunction toWireValue(value) {\n    for (const [name, handler] of transferHandlers) {\n        if (handler.canHandle(value)) {\n            const [serializedValue, transferables] = handler.serialize(value);\n            return [\n                {\n                    type: \"HANDLER\" /* WireValueType.HANDLER */,\n                    name,\n                    value: serializedValue,\n                },\n                transferables,\n            ];\n        }\n    }\n    return [\n        {\n            type: \"RAW\" /* WireValueType.RAW */,\n            value,\n        },\n        transferCache.get(value) || [],\n    ];\n}\nfunction fromWireValue(value) {\n    switch (value.type) {\n        case \"HANDLER\" /* WireValueType.HANDLER */:\n            return transferHandlers.get(value.name).deserialize(value.value);\n        case \"RAW\" /* WireValueType.RAW */:\n            return value.value;\n    }\n}\nfunction requestResponseMessage(ep, msg, transfers) {\n    return new Promise((resolve) => {\n        const id = generateUUID();\n        ep.addEventListener(\"message\", function l(ev) {\n            if (!ev.data || !ev.data.id || ev.data.id !== id) {\n                return;\n            }\n            ep.removeEventListener(\"message\", l);\n            resolve(ev.data);\n        });\n        if (ep.start) {\n            ep.start();\n        }\n        ep.postMessage(Object.assign({ id }, msg), transfers);\n    });\n}\nfunction generateUUID() {\n    return new Array(4)\n        .fill(0)\n        .map(() => Math.floor(Math.random() * Number.MAX_SAFE_INTEGER).toString(16))\n        .join(\"-\");\n}\n\nexport { createEndpoint, expose, finalizer, proxy, proxyMarker, releaseProxy, transfer, transferHandlers, windowEndpoint, wrap };\n//# sourceMappingURL=comlink.mjs.map\n","import type { TransferHandler } from 'comlink';\nimport { IPFSContent } from 'src/services/ipfs/types';\n\nexport type IPFSContentTransferable = Omit<IPFSContent, 'result'> & {\n  port: MessagePort;\n};\n\nfunction createAsyncIterable(port: MessagePort): AsyncIterable<Uint8Array> {\n  return {\n    async *[Symbol.asyncIterator](): AsyncGenerator<\n      Uint8Array,\n      void,\n      undefined\n    > {\n      let done = false;\n      while (!done) {\n        // eslint-disable-next-line no-loop-func\n        const promise = new Promise<Uint8Array | null>((resolve) => {\n          // resolve = res;\n          port.onmessage = (event: MessageEvent) => {\n            if (event.data === null) {\n              done = true;\n              resolve(null);\n            } else {\n              resolve(event.data);\n            }\n          };\n        });\n        // eslint-disable-next-line no-await-in-loop\n        const value = await promise;\n        // eslint-disable-next-line no-await-in-loop\n        if (value !== null) {\n          yield value;\n        }\n      }\n    },\n  };\n}\n\nconst IPFSContentTransferHandler: TransferHandler<\n  IPFSContent | undefined,\n  IPFSContentTransferable | null\n> = {\n  canHandle: (obj: IPFSContent | undefined) =>\n    obj && obj.result && typeof obj.result[Symbol.asyncIterator] === 'function',\n  serialize(obj: IPFSContent) {\n    if (obj === undefined) {\n      return [null, []];\n    }\n    const { result, ...rest } = obj;\n    const { port1, port2 } = new MessageChannel();\n    if (result) {\n      (async () => {\n        // eslint-disable-next-line no-restricted-syntax\n        for await (const value of result) {\n          port1.postMessage(value);\n        }\n        port1.postMessage(null); // Send  \"end\" message\n\n        port1.close();\n      })();\n    }\n    return [{ ...rest, port: port2 }, [port2]];\n  },\n  deserialize(serializedObj: IPFSContentTransferable | null) {\n    if (!serializedObj) {\n      return undefined;\n    }\n    const { port, ...rest } = serializedObj;\n\n    return {\n      ...rest,\n      result: createAsyncIterable(port),\n    };\n  },\n};\n\nexport {\n  IPFSContentTransferHandler,\n  // serializeIPFSContent,\n  // deserializeIPFSContent,\n};\n","import {\n  wrap,\n  Remote,\n  proxy,\n  releaseProxy,\n  expose,\n  transferHandlers,\n} from 'comlink';\nimport { IPFSContentTransferHandler } from './serializers';\nimport { Observable, Observer, Subscribable, Subscription } from 'rxjs'; // v7.8.0\ntype WorkerType = SharedWorker | Worker;\n\nconst isSharedWorkersSupported = typeof SharedWorker !== 'undefined';\n\nconst isSharedWorkerUsed = isSharedWorkersSupported && !process.env.IS_DEV;\n\n// apply serializers for custom types\nfunction installTransferHandlers() {\n  transferHandlers.set('IPFSContent', IPFSContentTransferHandler);\n  transferHandlers.set('observable', {\n    canHandle: (value: unknown): value is Observable<unknown> => {\n      return value instanceof Observable;\n    },\n    deserialize: (value: MessagePort) => {\n      return new Observable<unknown>((observer) => {\n        const remote = transferHandlers\n          .get('proxy')!\n          .deserialize(value) as Remote<Subscribable<unknown>>;\n\n        remote\n          .subscribe(\n            proxy({\n              next: (next: unknown) => observer.next(next),\n              error: (error: unknown) => observer.error(error),\n              complete: () => observer.complete(),\n            })\n          )\n          .then((subscription) =>\n            observer.add(() => {\n              subscription.unsubscribe();\n              remote[releaseProxy]();\n            })\n          );\n      });\n    },\n    serialize: (value: Observable<unknown>) => {\n      return transferHandlers.get('proxy')!.serialize({\n        subscribe: (observer: Remote<Observer<unknown>>) =>\n          value.subscribe({\n            next: (next: unknown) => observer.next(next).then(),\n            error: (error: unknown) => observer.error(error).then(),\n            complete: () => observer.complete().then(),\n          }),\n      });\n    },\n  });\n\n  transferHandlers.set('subscription', {\n    canHandle: (value: unknown): value is Subscription => {\n      return value instanceof Subscription;\n    },\n    deserialize: (value: MessagePort) => {\n      return new Subscription(() => {\n        const remote = transferHandlers\n          .get('proxy')!\n          .deserialize(value) as Remote<Subscription>;\n\n        remote.unsubscribe().then(() => {\n          remote[releaseProxy]();\n        });\n      });\n    },\n    serialize: (value: Subscription) => {\n      return transferHandlers.get('proxy')!.serialize({\n        unsubscribe: () => value.unsubscribe(),\n      });\n    },\n  });\n}\n\nfunction safeStringify(obj: any): string {\n  try {\n    return JSON.stringify(obj);\n  } catch (error) {\n    return String(obj);\n  }\n}\n\n// Override console.log to send logs to main thread\nfunction overrideLogging(worker: Worker | MessagePort) {\n  const consoleLogMap = {\n    log: { original: console.log },\n    error: { original: console.error },\n    warn: { original: console.warn },\n  };\n  const replaceConsoleLog = (method: keyof typeof consoleLogMap) => {\n    const { original } = consoleLogMap[method];\n\n    consoleLogMap[method].original = console[method];\n\n    console[method] = (...args) => {\n      original.apply(console, args);\n      const serializableArgs = args.map((arg) => safeStringify(arg));\n\n      worker.postMessage({ type: 'console', method, args: serializableArgs });\n    };\n  };\n\n  Object.keys(consoleLogMap).forEach((method) =>\n    replaceConsoleLog(method as keyof typeof consoleLogMap)\n  );\n}\n\n// Install handlers for logging from worker\nfunction installLoggingHandler(worker: Worker | MessagePort, name: string) {\n  // Add event listener\n  worker.addEventListener('message', (event) => {\n    if (event.data.type === 'console') {\n      const { method, args } = event.data;\n\n      console[method](name, ...args);\n    }\n  });\n}\n\n// Create Shared Worker with fallback to usual Worker(in case of DEV too)\nexport function createWorkerApi<T>(\n  workerUrl: URL,\n  workerName: string\n): { worker: WorkerType; workerApiProxy: Remote<T> } {\n  installTransferHandlers();\n  //&& !process.env.IS_DEV\n  if (isSharedWorkerUsed) {\n    const worker = new SharedWorker(workerUrl, { name: workerName });\n    installLoggingHandler(worker.port, workerName);\n    return { worker, workerApiProxy: wrap<T>(worker.port) };\n  }\n\n  const worker = new Worker(workerUrl);\n  // installLoggingHandler(worker, workerName);\n  return { worker, workerApiProxy: wrap<T>(worker) };\n}\n\nexport function exposeWorkerApi<T>(worker: WorkerType, api: T) {\n  installTransferHandlers();\n  if (typeof worker.onconnect !== 'undefined') {\n    worker.onconnect = (e) => {\n      const port = e.ports[0];\n      overrideLogging(port);\n\n      expose(api, port);\n    };\n  } else {\n    // overrideLogging(worker);\n    expose(api);\n  }\n}\n","import _objectSpread from '@babel/runtime/helpers/esm/objectSpread2';\n\n/**\n * Adapted from React: https://github.com/facebook/react/blob/master/packages/shared/formatProdErrorMessage.js\n *\n * Do not require this module directly! Use normal throw error calls. These messages will be replaced with error codes\n * during build.\n * @param {number} code\n */\nfunction formatProdErrorMessage(code) {\n  return \"Minified Redux error #\" + code + \"; visit https://redux.js.org/Errors?code=\" + code + \" for the full message or \" + 'use the non-minified dev environment for full errors. ';\n}\n\n// Inlined version of the `symbol-observable` polyfill\nvar $$observable = (function () {\n  return typeof Symbol === 'function' && Symbol.observable || '@@observable';\n})();\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nvar randomString = function randomString() {\n  return Math.random().toString(36).substring(7).split('').join('.');\n};\n\nvar ActionTypes = {\n  INIT: \"@@redux/INIT\" + randomString(),\n  REPLACE: \"@@redux/REPLACE\" + randomString(),\n  PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {\n    return \"@@redux/PROBE_UNKNOWN_ACTION\" + randomString();\n  }\n};\n\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\nfunction isPlainObject(obj) {\n  if (typeof obj !== 'object' || obj === null) return false;\n  var proto = obj;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(obj) === proto;\n}\n\n// Inlined / shortened version of `kindOf` from https://github.com/jonschlinkert/kind-of\nfunction miniKindOf(val) {\n  if (val === void 0) return 'undefined';\n  if (val === null) return 'null';\n  var type = typeof val;\n\n  switch (type) {\n    case 'boolean':\n    case 'string':\n    case 'number':\n    case 'symbol':\n    case 'function':\n      {\n        return type;\n      }\n  }\n\n  if (Array.isArray(val)) return 'array';\n  if (isDate(val)) return 'date';\n  if (isError(val)) return 'error';\n  var constructorName = ctorName(val);\n\n  switch (constructorName) {\n    case 'Symbol':\n    case 'Promise':\n    case 'WeakMap':\n    case 'WeakSet':\n    case 'Map':\n    case 'Set':\n      return constructorName;\n  } // other\n\n\n  return type.slice(8, -1).toLowerCase().replace(/\\s/g, '');\n}\n\nfunction ctorName(val) {\n  return typeof val.constructor === 'function' ? val.constructor.name : null;\n}\n\nfunction isError(val) {\n  return val instanceof Error || typeof val.message === 'string' && val.constructor && typeof val.constructor.stackTraceLimit === 'number';\n}\n\nfunction isDate(val) {\n  if (val instanceof Date) return true;\n  return typeof val.toDateString === 'function' && typeof val.getDate === 'function' && typeof val.setDate === 'function';\n}\n\nfunction kindOf(val) {\n  var typeOfVal = typeof val;\n\n  if (process.env.NODE_ENV !== 'production') {\n    typeOfVal = miniKindOf(val);\n  }\n\n  return typeOfVal;\n}\n\n/**\n * @deprecated\n *\n * **We recommend using the `configureStore` method\n * of the `@reduxjs/toolkit` package**, which replaces `createStore`.\n *\n * Redux Toolkit is our recommended approach for writing Redux logic today,\n * including store setup, reducers, data fetching, and more.\n *\n * **For more details, please read this Redux docs page:**\n * **https://redux.js.org/introduction/why-rtk-is-redux-today**\n *\n * `configureStore` from Redux Toolkit is an improved version of `createStore` that\n * simplifies setup and helps avoid common bugs.\n *\n * You should not be using the `redux` core package by itself today, except for learning purposes.\n * The `createStore` method from the core `redux` package will not be removed, but we encourage\n * all users to migrate to using Redux Toolkit for all Redux code.\n *\n * If you want to use `createStore` without this visual deprecation warning, use\n * the `legacy_createStore` import instead:\n *\n * `import { legacy_createStore as createStore} from 'redux'`\n *\n */\n\nfunction createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(0) : 'It looks like you are passing several store enhancers to ' + 'createStore(). This is not supported. Instead, compose them ' + 'together to a single function. See https://redux.js.org/tutorials/fundamentals/part-4-store#creating-a-store-with-enhancers for an example.');\n  }\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(1) : \"Expected the enhancer to be a function. Instead, received: '\" + kindOf(enhancer) + \"'\");\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(2) : \"Expected the root reducer to be a function. Instead, received: '\" + kindOf(reducer) + \"'\");\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n  /**\n   * This makes a shallow copy of currentListeners so we can use\n   * nextListeners as a temporary list while dispatching.\n   *\n   * This prevents any bugs around consumers calling\n   * subscribe/unsubscribe in the middle of a dispatch.\n   */\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n\n\n  function getState() {\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(3) : 'You may not call store.getState() while the reducer is executing. ' + 'The reducer has already received the state as an argument. ' + 'Pass it down from the top reducer instead of reading it from the store.');\n    }\n\n    return currentState;\n  }\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n\n\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(4) : \"Expected the listener to be a function. Instead, received: '\" + kindOf(listener) + \"'\");\n    }\n\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(5) : 'You may not call store.subscribe() while the reducer is executing. ' + 'If you would like to be notified after the store has been updated, subscribe from a ' + 'component and invoke store.getState() in the callback to access the latest state. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n    }\n\n    var isSubscribed = true;\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      if (isDispatching) {\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(6) : 'You may not unsubscribe from a store listener while the reducer is executing. ' + 'See https://redux.js.org/api/store#subscribelistener for more details.');\n      }\n\n      isSubscribed = false;\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n      currentListeners = null;\n    };\n  }\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing what changed. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n\n\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(7) : \"Actions must be plain objects. Instead, the actual type was: '\" + kindOf(action) + \"'. You may need to add middleware to your store setup to handle dispatching other values, such as 'redux-thunk' to handle dispatching functions. See https://redux.js.org/tutorials/fundamentals/part-4-store#middleware and https://redux.js.org/tutorials/fundamentals/part-6-async-logic#using-the-redux-thunk-middleware for examples.\");\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(8) : 'Actions may not have an undefined \"type\" property. You may have misspelled an action type string constant.');\n    }\n\n    if (isDispatching) {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(9) : 'Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n\n\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(10) : \"Expected the nextReducer to be a function. Instead, received: '\" + kindOf(nextReducer));\n    }\n\n    currentReducer = nextReducer; // This action has a similiar effect to ActionTypes.INIT.\n    // Any reducers that existed in both the new and old rootReducer\n    // will receive the previous state. This effectively populates\n    // the new state tree with any relevant data from the old one.\n\n    dispatch({\n      type: ActionTypes.REPLACE\n    });\n  }\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n\n\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object' || observer === null) {\n          throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(11) : \"Expected the observer to be an object. Instead, received: '\" + kindOf(observer) + \"'\");\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return {\n          unsubscribe: unsubscribe\n        };\n      }\n    }, _ref[$$observable] = function () {\n      return this;\n    }, _ref;\n  } // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n\n\n  dispatch({\n    type: ActionTypes.INIT\n  });\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[$$observable] = observable, _ref2;\n}\n/**\n * Creates a Redux store that holds the state tree.\n *\n * **We recommend using `configureStore` from the\n * `@reduxjs/toolkit` package**, which replaces `createStore`:\n * **https://redux.js.org/introduction/why-rtk-is-redux-today**\n *\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\n\nvar legacy_createStore = createStore;\n\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n\n\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n  } catch (e) {} // eslint-disable-line no-empty\n\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!isPlainObject(inputState)) {\n    return \"The \" + argumentName + \" has unexpected type of \\\"\" + kindOf(inputState) + \"\\\". Expected argument to be an object with the following \" + (\"keys: \\\"\" + reducerKeys.join('\", \"') + \"\\\"\");\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n  if (action && action.type === ActionTypes.REPLACE) return;\n\n  if (unexpectedKeys.length > 0) {\n    return \"Unexpected \" + (unexpectedKeys.length > 1 ? 'keys' : 'key') + \" \" + (\"\\\"\" + unexpectedKeys.join('\", \"') + \"\\\" found in \" + argumentName + \". \") + \"Expected to find one of the known reducer keys instead: \" + (\"\\\"\" + reducerKeys.join('\", \"') + \"\\\". Unexpected keys will be ignored.\");\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, {\n      type: ActionTypes.INIT\n    });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(12) : \"The slice reducer for key \\\"\" + key + \"\\\" returned undefined during initialization. \" + \"If the state passed to the reducer is undefined, you must \" + \"explicitly return the initial state. The initial state may \" + \"not be undefined. If you don't want to set a value for this reducer, \" + \"you can use null instead of undefined.\");\n    }\n\n    if (typeof reducer(undefined, {\n      type: ActionTypes.PROBE_UNKNOWN_ACTION()\n    }) === 'undefined') {\n      throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(13) : \"The slice reducer for key \\\"\" + key + \"\\\" returned undefined when probed with a random type. \" + (\"Don't try to handle '\" + ActionTypes.INIT + \"' or other actions in \\\"redux/*\\\" \") + \"namespace. They are considered private. Instead, you must return the \" + \"current state for any unknown actions, unless it is undefined, \" + \"in which case you must return the initial state, regardless of the \" + \"action type. The initial state may not be undefined, but can be null.\");\n    }\n  });\n}\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\n\n\nfunction combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof reducers[key] === 'undefined') {\n        warning(\"No reducer provided for key \\\"\" + key + \"\\\"\");\n      }\n    }\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n\n  var finalReducerKeys = Object.keys(finalReducers); // This is used to make sure we don't warn about the same\n  // keys multiple times.\n\n  var unexpectedKeyCache;\n\n  if (process.env.NODE_ENV !== 'production') {\n    unexpectedKeyCache = {};\n  }\n\n  var shapeAssertionError;\n\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination(state, action) {\n    if (state === void 0) {\n      state = {};\n    }\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      var warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache);\n\n      if (warningMessage) {\n        warning(warningMessage);\n      }\n    }\n\n    var hasChanged = false;\n    var nextState = {};\n\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n\n      if (typeof nextStateForKey === 'undefined') {\n        var actionType = action && action.type;\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(14) : \"When called with an action of type \" + (actionType ? \"\\\"\" + String(actionType) + \"\\\"\" : '(unknown type)') + \", the slice reducer for key \\\"\" + _key + \"\\\" returned undefined. \" + \"To ignore an action, you must explicitly return the previous state. \" + \"If you want this reducer to hold no value, you can return null instead of undefined.\");\n      }\n\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n\n    hasChanged = hasChanged || finalReducerKeys.length !== Object.keys(state).length;\n    return hasChanged ? nextState : state;\n  };\n}\n\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(this, arguments));\n  };\n}\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass an action creator as the first argument,\n * and get a dispatch wrapped function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\n\n\nfunction bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(16) : \"bindActionCreators expected an object or a function, but instead received: '\" + kindOf(actionCreators) + \"'. \" + \"Did you write \\\"import ActionCreators from\\\" instead of \\\"import * as ActionCreators from\\\"?\");\n  }\n\n  var boundActionCreators = {};\n\n  for (var key in actionCreators) {\n    var actionCreator = actionCreators[key];\n\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n\n  return boundActionCreators;\n}\n\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\nfunction compose() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(void 0, arguments));\n    };\n  });\n}\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\n\nfunction applyMiddleware() {\n  for (var _len = arguments.length, middlewares = new Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function () {\n      var store = createStore.apply(void 0, arguments);\n\n      var _dispatch = function dispatch() {\n        throw new Error(process.env.NODE_ENV === \"production\" ? formatProdErrorMessage(15) : 'Dispatching while constructing your middleware is not allowed. ' + 'Other middleware would not be applied to this dispatch.');\n      };\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch() {\n          return _dispatch.apply(void 0, arguments);\n        }\n      };\n      var chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = compose.apply(void 0, chain)(store.dispatch);\n      return _objectSpread(_objectSpread({}, store), {}, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n\nexport { ActionTypes as __DO_NOT_USE__ActionTypes, applyMiddleware, bindActionCreators, combineReducers, compose, createStore, legacy_createStore };\n","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\r\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\r\n        to[j] = from[i];\r\n    return to;\r\n};\r\nvar __defProp = Object.defineProperty;\r\nvar __defProps = Object.defineProperties;\r\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\r\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\r\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\r\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\r\nvar __defNormalProp = function (obj, key, value) { return key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value: value }) : obj[key] = value; };\r\nvar __spreadValues = function (a, b) {\r\n    for (var prop in b || (b = {}))\r\n        if (__hasOwnProp.call(b, prop))\r\n            __defNormalProp(a, prop, b[prop]);\r\n    if (__getOwnPropSymbols)\r\n        for (var _i = 0, _c = __getOwnPropSymbols(b); _i < _c.length; _i++) {\r\n            var prop = _c[_i];\r\n            if (__propIsEnum.call(b, prop))\r\n                __defNormalProp(a, prop, b[prop]);\r\n        }\r\n    return a;\r\n};\r\nvar __spreadProps = function (a, b) { return __defProps(a, __getOwnPropDescs(b)); };\r\nvar __async = function (__this, __arguments, generator) {\r\n    return new Promise(function (resolve, reject) {\r\n        var fulfilled = function (value) {\r\n            try {\r\n                step(generator.next(value));\r\n            }\r\n            catch (e) {\r\n                reject(e);\r\n            }\r\n        };\r\n        var rejected = function (value) {\r\n            try {\r\n                step(generator.throw(value));\r\n            }\r\n            catch (e) {\r\n                reject(e);\r\n            }\r\n        };\r\n        var step = function (x) { return x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected); };\r\n        step((generator = generator.apply(__this, __arguments)).next());\r\n    });\r\n};\r\n// src/index.ts\r\nimport { enableES5 } from \"immer\";\r\nexport * from \"redux\";\r\nimport { default as default2, current as current2, freeze, original, isDraft as isDraft4 } from \"immer\";\r\nimport { createSelector as createSelector2 } from \"reselect\";\r\n// src/createDraftSafeSelector.ts\r\nimport { current, isDraft } from \"immer\";\r\nimport { createSelector } from \"reselect\";\r\nvar createDraftSafeSelector = function () {\r\n    var args = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        args[_i] = arguments[_i];\r\n    }\r\n    var selector = createSelector.apply(void 0, args);\r\n    var wrappedSelector = function (value) {\r\n        var rest = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            rest[_i - 1] = arguments[_i];\r\n        }\r\n        return selector.apply(void 0, __spreadArray([isDraft(value) ? current(value) : value], rest));\r\n    };\r\n    return wrappedSelector;\r\n};\r\n// src/configureStore.ts\r\nimport { createStore, compose as compose2, applyMiddleware, combineReducers } from \"redux\";\r\n// src/devtoolsExtension.ts\r\nimport { compose } from \"redux\";\r\nvar composeWithDevTools = typeof window !== \"undefined\" && window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ : function () {\r\n    if (arguments.length === 0)\r\n        return void 0;\r\n    if (typeof arguments[0] === \"object\")\r\n        return compose;\r\n    return compose.apply(null, arguments);\r\n};\r\nvar devToolsEnhancer = typeof window !== \"undefined\" && window.__REDUX_DEVTOOLS_EXTENSION__ ? window.__REDUX_DEVTOOLS_EXTENSION__ : function () {\r\n    return function (noop2) {\r\n        return noop2;\r\n    };\r\n};\r\n// src/isPlainObject.ts\r\nfunction isPlainObject(value) {\r\n    if (typeof value !== \"object\" || value === null)\r\n        return false;\r\n    var proto = Object.getPrototypeOf(value);\r\n    if (proto === null)\r\n        return true;\r\n    var baseProto = proto;\r\n    while (Object.getPrototypeOf(baseProto) !== null) {\r\n        baseProto = Object.getPrototypeOf(baseProto);\r\n    }\r\n    return proto === baseProto;\r\n}\r\n// src/getDefaultMiddleware.ts\r\nimport thunkMiddleware from \"redux-thunk\";\r\n// src/utils.ts\r\nimport createNextState, { isDraftable } from \"immer\";\r\nfunction getTimeMeasureUtils(maxDelay, fnName) {\r\n    var elapsed = 0;\r\n    return {\r\n        measureTime: function (fn) {\r\n            var started = Date.now();\r\n            try {\r\n                return fn();\r\n            }\r\n            finally {\r\n                var finished = Date.now();\r\n                elapsed += finished - started;\r\n            }\r\n        },\r\n        warnIfExceeded: function () {\r\n            if (elapsed > maxDelay) {\r\n                console.warn(fnName + \" took \" + elapsed + \"ms, which is more than the warning threshold of \" + maxDelay + \"ms. \\nIf your state or actions are very large, you may want to disable the middleware as it might cause too much of a slowdown in development mode. See https://redux-toolkit.js.org/api/getDefaultMiddleware for instructions.\\nIt is disabled in production builds, so you don't need to worry about that.\");\r\n            }\r\n        }\r\n    };\r\n}\r\nvar MiddlewareArray = /** @class */ (function (_super) {\r\n    __extends(MiddlewareArray, _super);\r\n    function MiddlewareArray() {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        var _this = _super.apply(this, args) || this;\r\n        Object.setPrototypeOf(_this, MiddlewareArray.prototype);\r\n        return _this;\r\n    }\r\n    Object.defineProperty(MiddlewareArray, Symbol.species, {\r\n        get: function () {\r\n            return MiddlewareArray;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    MiddlewareArray.prototype.concat = function () {\r\n        var arr = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            arr[_i] = arguments[_i];\r\n        }\r\n        return _super.prototype.concat.apply(this, arr);\r\n    };\r\n    MiddlewareArray.prototype.prepend = function () {\r\n        var arr = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            arr[_i] = arguments[_i];\r\n        }\r\n        if (arr.length === 1 && Array.isArray(arr[0])) {\r\n            return new (MiddlewareArray.bind.apply(MiddlewareArray, __spreadArray([void 0], arr[0].concat(this))))();\r\n        }\r\n        return new (MiddlewareArray.bind.apply(MiddlewareArray, __spreadArray([void 0], arr.concat(this))))();\r\n    };\r\n    return MiddlewareArray;\r\n}(Array));\r\nvar EnhancerArray = /** @class */ (function (_super) {\r\n    __extends(EnhancerArray, _super);\r\n    function EnhancerArray() {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        var _this = _super.apply(this, args) || this;\r\n        Object.setPrototypeOf(_this, EnhancerArray.prototype);\r\n        return _this;\r\n    }\r\n    Object.defineProperty(EnhancerArray, Symbol.species, {\r\n        get: function () {\r\n            return EnhancerArray;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    EnhancerArray.prototype.concat = function () {\r\n        var arr = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            arr[_i] = arguments[_i];\r\n        }\r\n        return _super.prototype.concat.apply(this, arr);\r\n    };\r\n    EnhancerArray.prototype.prepend = function () {\r\n        var arr = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            arr[_i] = arguments[_i];\r\n        }\r\n        if (arr.length === 1 && Array.isArray(arr[0])) {\r\n            return new (EnhancerArray.bind.apply(EnhancerArray, __spreadArray([void 0], arr[0].concat(this))))();\r\n        }\r\n        return new (EnhancerArray.bind.apply(EnhancerArray, __spreadArray([void 0], arr.concat(this))))();\r\n    };\r\n    return EnhancerArray;\r\n}(Array));\r\nfunction freezeDraftable(val) {\r\n    return isDraftable(val) ? createNextState(val, function () {\r\n    }) : val;\r\n}\r\n// src/immutableStateInvariantMiddleware.ts\r\nvar isProduction = process.env.NODE_ENV === \"production\";\r\nvar prefix = \"Invariant failed\";\r\nfunction invariant(condition, message) {\r\n    if (condition) {\r\n        return;\r\n    }\r\n    if (isProduction) {\r\n        throw new Error(prefix);\r\n    }\r\n    throw new Error(prefix + \": \" + (message || \"\"));\r\n}\r\nfunction stringify(obj, serializer, indent, decycler) {\r\n    return JSON.stringify(obj, getSerialize(serializer, decycler), indent);\r\n}\r\nfunction getSerialize(serializer, decycler) {\r\n    var stack = [], keys = [];\r\n    if (!decycler)\r\n        decycler = function (_, value) {\r\n            if (stack[0] === value)\r\n                return \"[Circular ~]\";\r\n            return \"[Circular ~.\" + keys.slice(0, stack.indexOf(value)).join(\".\") + \"]\";\r\n        };\r\n    return function (key, value) {\r\n        if (stack.length > 0) {\r\n            var thisPos = stack.indexOf(this);\r\n            ~thisPos ? stack.splice(thisPos + 1) : stack.push(this);\r\n            ~thisPos ? keys.splice(thisPos, Infinity, key) : keys.push(key);\r\n            if (~stack.indexOf(value))\r\n                value = decycler.call(this, key, value);\r\n        }\r\n        else\r\n            stack.push(value);\r\n        return serializer == null ? value : serializer.call(this, key, value);\r\n    };\r\n}\r\nfunction isImmutableDefault(value) {\r\n    return typeof value !== \"object\" || value == null || Object.isFrozen(value);\r\n}\r\nfunction trackForMutations(isImmutable, ignorePaths, obj) {\r\n    var trackedProperties = trackProperties(isImmutable, ignorePaths, obj);\r\n    return {\r\n        detectMutations: function () {\r\n            return detectMutations(isImmutable, ignorePaths, trackedProperties, obj);\r\n        }\r\n    };\r\n}\r\nfunction trackProperties(isImmutable, ignorePaths, obj, path) {\r\n    if (ignorePaths === void 0) { ignorePaths = []; }\r\n    if (path === void 0) { path = \"\"; }\r\n    var tracked = { value: obj };\r\n    if (!isImmutable(obj)) {\r\n        tracked.children = {};\r\n        for (var key in obj) {\r\n            var childPath = path ? path + \".\" + key : key;\r\n            if (ignorePaths.length && ignorePaths.indexOf(childPath) !== -1) {\r\n                continue;\r\n            }\r\n            tracked.children[key] = trackProperties(isImmutable, ignorePaths, obj[key], childPath);\r\n        }\r\n    }\r\n    return tracked;\r\n}\r\nfunction detectMutations(isImmutable, ignoredPaths, trackedProperty, obj, sameParentRef, path) {\r\n    if (ignoredPaths === void 0) { ignoredPaths = []; }\r\n    if (sameParentRef === void 0) { sameParentRef = false; }\r\n    if (path === void 0) { path = \"\"; }\r\n    var prevObj = trackedProperty ? trackedProperty.value : void 0;\r\n    var sameRef = prevObj === obj;\r\n    if (sameParentRef && !sameRef && !Number.isNaN(obj)) {\r\n        return { wasMutated: true, path: path };\r\n    }\r\n    if (isImmutable(prevObj) || isImmutable(obj)) {\r\n        return { wasMutated: false };\r\n    }\r\n    var keysToDetect = {};\r\n    for (var key in trackedProperty.children) {\r\n        keysToDetect[key] = true;\r\n    }\r\n    for (var key in obj) {\r\n        keysToDetect[key] = true;\r\n    }\r\n    var hasIgnoredPaths = ignoredPaths.length > 0;\r\n    var _loop_1 = function (key) {\r\n        var nestedPath = path ? path + \".\" + key : key;\r\n        if (hasIgnoredPaths) {\r\n            var hasMatches = ignoredPaths.some(function (ignored) {\r\n                if (ignored instanceof RegExp) {\r\n                    return ignored.test(nestedPath);\r\n                }\r\n                return nestedPath === ignored;\r\n            });\r\n            if (hasMatches) {\r\n                return \"continue\";\r\n            }\r\n        }\r\n        var result = detectMutations(isImmutable, ignoredPaths, trackedProperty.children[key], obj[key], sameRef, nestedPath);\r\n        if (result.wasMutated) {\r\n            return { value: result };\r\n        }\r\n    };\r\n    for (var key in keysToDetect) {\r\n        var state_1 = _loop_1(key);\r\n        if (typeof state_1 === \"object\")\r\n            return state_1.value;\r\n    }\r\n    return { wasMutated: false };\r\n}\r\nfunction createImmutableStateInvariantMiddleware(options) {\r\n    if (options === void 0) { options = {}; }\r\n    if (process.env.NODE_ENV === \"production\") {\r\n        return function () { return function (next) { return function (action) { return next(action); }; }; };\r\n    }\r\n    var _c = options.isImmutable, isImmutable = _c === void 0 ? isImmutableDefault : _c, ignoredPaths = options.ignoredPaths, _d = options.warnAfter, warnAfter = _d === void 0 ? 32 : _d, ignore = options.ignore;\r\n    ignoredPaths = ignoredPaths || ignore;\r\n    var track = trackForMutations.bind(null, isImmutable, ignoredPaths);\r\n    return function (_c) {\r\n        var getState = _c.getState;\r\n        var state = getState();\r\n        var tracker = track(state);\r\n        var result;\r\n        return function (next) { return function (action) {\r\n            var measureUtils = getTimeMeasureUtils(warnAfter, \"ImmutableStateInvariantMiddleware\");\r\n            measureUtils.measureTime(function () {\r\n                state = getState();\r\n                result = tracker.detectMutations();\r\n                tracker = track(state);\r\n                invariant(!result.wasMutated, \"A state mutation was detected between dispatches, in the path '\" + (result.path || \"\") + \"'.  This may cause incorrect behavior. (https://redux.js.org/style-guide/style-guide#do-not-mutate-state)\");\r\n            });\r\n            var dispatchedAction = next(action);\r\n            measureUtils.measureTime(function () {\r\n                state = getState();\r\n                result = tracker.detectMutations();\r\n                tracker = track(state);\r\n                result.wasMutated && invariant(!result.wasMutated, \"A state mutation was detected inside a dispatch, in the path: \" + (result.path || \"\") + \". Take a look at the reducer(s) handling the action \" + stringify(action) + \". (https://redux.js.org/style-guide/style-guide#do-not-mutate-state)\");\r\n            });\r\n            measureUtils.warnIfExceeded();\r\n            return dispatchedAction;\r\n        }; };\r\n    };\r\n}\r\n// src/serializableStateInvariantMiddleware.ts\r\nfunction isPlain(val) {\r\n    var type = typeof val;\r\n    return val == null || type === \"string\" || type === \"boolean\" || type === \"number\" || Array.isArray(val) || isPlainObject(val);\r\n}\r\nfunction findNonSerializableValue(value, path, isSerializable, getEntries, ignoredPaths, cache) {\r\n    if (path === void 0) { path = \"\"; }\r\n    if (isSerializable === void 0) { isSerializable = isPlain; }\r\n    if (ignoredPaths === void 0) { ignoredPaths = []; }\r\n    var foundNestedSerializable;\r\n    if (!isSerializable(value)) {\r\n        return {\r\n            keyPath: path || \"<root>\",\r\n            value: value\r\n        };\r\n    }\r\n    if (typeof value !== \"object\" || value === null) {\r\n        return false;\r\n    }\r\n    if (cache == null ? void 0 : cache.has(value))\r\n        return false;\r\n    var entries = getEntries != null ? getEntries(value) : Object.entries(value);\r\n    var hasIgnoredPaths = ignoredPaths.length > 0;\r\n    var _loop_2 = function (key, nestedValue) {\r\n        var nestedPath = path ? path + \".\" + key : key;\r\n        if (hasIgnoredPaths) {\r\n            var hasMatches = ignoredPaths.some(function (ignored) {\r\n                if (ignored instanceof RegExp) {\r\n                    return ignored.test(nestedPath);\r\n                }\r\n                return nestedPath === ignored;\r\n            });\r\n            if (hasMatches) {\r\n                return \"continue\";\r\n            }\r\n        }\r\n        if (!isSerializable(nestedValue)) {\r\n            return { value: {\r\n                    keyPath: nestedPath,\r\n                    value: nestedValue\r\n                } };\r\n        }\r\n        if (typeof nestedValue === \"object\") {\r\n            foundNestedSerializable = findNonSerializableValue(nestedValue, nestedPath, isSerializable, getEntries, ignoredPaths, cache);\r\n            if (foundNestedSerializable) {\r\n                return { value: foundNestedSerializable };\r\n            }\r\n        }\r\n    };\r\n    for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\r\n        var _c = entries_1[_i], key = _c[0], nestedValue = _c[1];\r\n        var state_2 = _loop_2(key, nestedValue);\r\n        if (typeof state_2 === \"object\")\r\n            return state_2.value;\r\n    }\r\n    if (cache && isNestedFrozen(value))\r\n        cache.add(value);\r\n    return false;\r\n}\r\nfunction isNestedFrozen(value) {\r\n    if (!Object.isFrozen(value))\r\n        return false;\r\n    for (var _i = 0, _c = Object.values(value); _i < _c.length; _i++) {\r\n        var nestedValue = _c[_i];\r\n        if (typeof nestedValue !== \"object\" || nestedValue === null)\r\n            continue;\r\n        if (!isNestedFrozen(nestedValue))\r\n            return false;\r\n    }\r\n    return true;\r\n}\r\nfunction createSerializableStateInvariantMiddleware(options) {\r\n    if (options === void 0) { options = {}; }\r\n    if (process.env.NODE_ENV === \"production\") {\r\n        return function () { return function (next) { return function (action) { return next(action); }; }; };\r\n    }\r\n    var _c = options.isSerializable, isSerializable = _c === void 0 ? isPlain : _c, getEntries = options.getEntries, _d = options.ignoredActions, ignoredActions = _d === void 0 ? [] : _d, _e = options.ignoredActionPaths, ignoredActionPaths = _e === void 0 ? [\"meta.arg\", \"meta.baseQueryMeta\"] : _e, _f = options.ignoredPaths, ignoredPaths = _f === void 0 ? [] : _f, _g = options.warnAfter, warnAfter = _g === void 0 ? 32 : _g, _h = options.ignoreState, ignoreState = _h === void 0 ? false : _h, _j = options.ignoreActions, ignoreActions = _j === void 0 ? false : _j, _k = options.disableCache, disableCache = _k === void 0 ? false : _k;\r\n    var cache = !disableCache && WeakSet ? new WeakSet() : void 0;\r\n    return function (storeAPI) { return function (next) { return function (action) {\r\n        var result = next(action);\r\n        var measureUtils = getTimeMeasureUtils(warnAfter, \"SerializableStateInvariantMiddleware\");\r\n        if (!ignoreActions && !(ignoredActions.length && ignoredActions.indexOf(action.type) !== -1)) {\r\n            measureUtils.measureTime(function () {\r\n                var foundActionNonSerializableValue = findNonSerializableValue(action, \"\", isSerializable, getEntries, ignoredActionPaths, cache);\r\n                if (foundActionNonSerializableValue) {\r\n                    var keyPath = foundActionNonSerializableValue.keyPath, value = foundActionNonSerializableValue.value;\r\n                    console.error(\"A non-serializable value was detected in an action, in the path: `\" + keyPath + \"`. Value:\", value, \"\\nTake a look at the logic that dispatched this action: \", action, \"\\n(See https://redux.js.org/faq/actions#why-should-type-be-a-string-or-at-least-serializable-why-should-my-action-types-be-constants)\", \"\\n(To allow non-serializable values see: https://redux-toolkit.js.org/usage/usage-guide#working-with-non-serializable-data)\");\r\n                }\r\n            });\r\n        }\r\n        if (!ignoreState) {\r\n            measureUtils.measureTime(function () {\r\n                var state = storeAPI.getState();\r\n                var foundStateNonSerializableValue = findNonSerializableValue(state, \"\", isSerializable, getEntries, ignoredPaths, cache);\r\n                if (foundStateNonSerializableValue) {\r\n                    var keyPath = foundStateNonSerializableValue.keyPath, value = foundStateNonSerializableValue.value;\r\n                    console.error(\"A non-serializable value was detected in the state, in the path: `\" + keyPath + \"`. Value:\", value, \"\\nTake a look at the reducer(s) handling this action type: \" + action.type + \".\\n(See https://redux.js.org/faq/organizing-state#can-i-put-functions-promises-or-other-non-serializable-items-in-my-store-state)\");\r\n                }\r\n            });\r\n            measureUtils.warnIfExceeded();\r\n        }\r\n        return result;\r\n    }; }; };\r\n}\r\n// src/getDefaultMiddleware.ts\r\nfunction isBoolean(x) {\r\n    return typeof x === \"boolean\";\r\n}\r\nfunction curryGetDefaultMiddleware() {\r\n    return function curriedGetDefaultMiddleware(options) {\r\n        return getDefaultMiddleware(options);\r\n    };\r\n}\r\nfunction getDefaultMiddleware(options) {\r\n    if (options === void 0) { options = {}; }\r\n    var _c = options.thunk, thunk = _c === void 0 ? true : _c, _d = options.immutableCheck, immutableCheck = _d === void 0 ? true : _d, _e = options.serializableCheck, serializableCheck = _e === void 0 ? true : _e;\r\n    var middlewareArray = new MiddlewareArray();\r\n    if (thunk) {\r\n        if (isBoolean(thunk)) {\r\n            middlewareArray.push(thunkMiddleware);\r\n        }\r\n        else {\r\n            middlewareArray.push(thunkMiddleware.withExtraArgument(thunk.extraArgument));\r\n        }\r\n    }\r\n    if (process.env.NODE_ENV !== \"production\") {\r\n        if (immutableCheck) {\r\n            var immutableOptions = {};\r\n            if (!isBoolean(immutableCheck)) {\r\n                immutableOptions = immutableCheck;\r\n            }\r\n            middlewareArray.unshift(createImmutableStateInvariantMiddleware(immutableOptions));\r\n        }\r\n        if (serializableCheck) {\r\n            var serializableOptions = {};\r\n            if (!isBoolean(serializableCheck)) {\r\n                serializableOptions = serializableCheck;\r\n            }\r\n            middlewareArray.push(createSerializableStateInvariantMiddleware(serializableOptions));\r\n        }\r\n    }\r\n    return middlewareArray;\r\n}\r\n// src/configureStore.ts\r\nvar IS_PRODUCTION = process.env.NODE_ENV === \"production\";\r\nfunction configureStore(options) {\r\n    var curriedGetDefaultMiddleware = curryGetDefaultMiddleware();\r\n    var _c = options || {}, _d = _c.reducer, reducer = _d === void 0 ? void 0 : _d, _e = _c.middleware, middleware = _e === void 0 ? curriedGetDefaultMiddleware() : _e, _f = _c.devTools, devTools = _f === void 0 ? true : _f, _g = _c.preloadedState, preloadedState = _g === void 0 ? void 0 : _g, _h = _c.enhancers, enhancers = _h === void 0 ? void 0 : _h;\r\n    var rootReducer;\r\n    if (typeof reducer === \"function\") {\r\n        rootReducer = reducer;\r\n    }\r\n    else if (isPlainObject(reducer)) {\r\n        rootReducer = combineReducers(reducer);\r\n    }\r\n    else {\r\n        throw new Error('\"reducer\" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');\r\n    }\r\n    var finalMiddleware = middleware;\r\n    if (typeof finalMiddleware === \"function\") {\r\n        finalMiddleware = finalMiddleware(curriedGetDefaultMiddleware);\r\n        if (!IS_PRODUCTION && !Array.isArray(finalMiddleware)) {\r\n            throw new Error(\"when using a middleware builder function, an array of middleware must be returned\");\r\n        }\r\n    }\r\n    if (!IS_PRODUCTION && finalMiddleware.some(function (item) { return typeof item !== \"function\"; })) {\r\n        throw new Error(\"each middleware provided to configureStore must be a function\");\r\n    }\r\n    var middlewareEnhancer = applyMiddleware.apply(void 0, finalMiddleware);\r\n    var finalCompose = compose2;\r\n    if (devTools) {\r\n        finalCompose = composeWithDevTools(__spreadValues({\r\n            trace: !IS_PRODUCTION\r\n        }, typeof devTools === \"object\" && devTools));\r\n    }\r\n    var defaultEnhancers = new EnhancerArray(middlewareEnhancer);\r\n    var storeEnhancers = defaultEnhancers;\r\n    if (Array.isArray(enhancers)) {\r\n        storeEnhancers = __spreadArray([middlewareEnhancer], enhancers);\r\n    }\r\n    else if (typeof enhancers === \"function\") {\r\n        storeEnhancers = enhancers(defaultEnhancers);\r\n    }\r\n    var composedEnhancer = finalCompose.apply(void 0, storeEnhancers);\r\n    return createStore(rootReducer, preloadedState, composedEnhancer);\r\n}\r\n// src/createAction.ts\r\nfunction createAction(type, prepareAction) {\r\n    function actionCreator() {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        if (prepareAction) {\r\n            var prepared = prepareAction.apply(void 0, args);\r\n            if (!prepared) {\r\n                throw new Error(\"prepareAction did not return an object\");\r\n            }\r\n            return __spreadValues(__spreadValues({\r\n                type: type,\r\n                payload: prepared.payload\r\n            }, \"meta\" in prepared && { meta: prepared.meta }), \"error\" in prepared && { error: prepared.error });\r\n        }\r\n        return { type: type, payload: args[0] };\r\n    }\r\n    actionCreator.toString = function () { return \"\" + type; };\r\n    actionCreator.type = type;\r\n    actionCreator.match = function (action) { return action.type === type; };\r\n    return actionCreator;\r\n}\r\nfunction isAction(action) {\r\n    return isPlainObject(action) && \"type\" in action;\r\n}\r\nfunction isFSA(action) {\r\n    return isAction(action) && typeof action.type === \"string\" && Object.keys(action).every(isValidKey);\r\n}\r\nfunction isValidKey(key) {\r\n    return [\"type\", \"payload\", \"error\", \"meta\"].indexOf(key) > -1;\r\n}\r\nfunction getType(actionCreator) {\r\n    return \"\" + actionCreator;\r\n}\r\n// src/createReducer.ts\r\nimport createNextState2, { isDraft as isDraft2, isDraftable as isDraftable2 } from \"immer\";\r\n// src/mapBuilders.ts\r\nfunction executeReducerBuilderCallback(builderCallback) {\r\n    var actionsMap = {};\r\n    var actionMatchers = [];\r\n    var defaultCaseReducer;\r\n    var builder = {\r\n        addCase: function (typeOrActionCreator, reducer) {\r\n            if (process.env.NODE_ENV !== \"production\") {\r\n                if (actionMatchers.length > 0) {\r\n                    throw new Error(\"`builder.addCase` should only be called before calling `builder.addMatcher`\");\r\n                }\r\n                if (defaultCaseReducer) {\r\n                    throw new Error(\"`builder.addCase` should only be called before calling `builder.addDefaultCase`\");\r\n                }\r\n            }\r\n            var type = typeof typeOrActionCreator === \"string\" ? typeOrActionCreator : typeOrActionCreator.type;\r\n            if (type in actionsMap) {\r\n                throw new Error(\"addCase cannot be called with two reducers for the same action type\");\r\n            }\r\n            actionsMap[type] = reducer;\r\n            return builder;\r\n        },\r\n        addMatcher: function (matcher, reducer) {\r\n            if (process.env.NODE_ENV !== \"production\") {\r\n                if (defaultCaseReducer) {\r\n                    throw new Error(\"`builder.addMatcher` should only be called before calling `builder.addDefaultCase`\");\r\n                }\r\n            }\r\n            actionMatchers.push({ matcher: matcher, reducer: reducer });\r\n            return builder;\r\n        },\r\n        addDefaultCase: function (reducer) {\r\n            if (process.env.NODE_ENV !== \"production\") {\r\n                if (defaultCaseReducer) {\r\n                    throw new Error(\"`builder.addDefaultCase` can only be called once\");\r\n                }\r\n            }\r\n            defaultCaseReducer = reducer;\r\n            return builder;\r\n        }\r\n    };\r\n    builderCallback(builder);\r\n    return [actionsMap, actionMatchers, defaultCaseReducer];\r\n}\r\n// src/createReducer.ts\r\nfunction isStateFunction(x) {\r\n    return typeof x === \"function\";\r\n}\r\nvar hasWarnedAboutObjectNotation = false;\r\nfunction createReducer(initialState, mapOrBuilderCallback, actionMatchers, defaultCaseReducer) {\r\n    if (actionMatchers === void 0) { actionMatchers = []; }\r\n    if (process.env.NODE_ENV !== \"production\") {\r\n        if (typeof mapOrBuilderCallback === \"object\") {\r\n            if (!hasWarnedAboutObjectNotation) {\r\n                hasWarnedAboutObjectNotation = true;\r\n                console.warn(\"The object notation for `createReducer` is deprecated, and will be removed in RTK 2.0. Please use the 'builder callback' notation instead: https://redux-toolkit.js.org/api/createReducer\");\r\n            }\r\n        }\r\n    }\r\n    var _c = typeof mapOrBuilderCallback === \"function\" ? executeReducerBuilderCallback(mapOrBuilderCallback) : [mapOrBuilderCallback, actionMatchers, defaultCaseReducer], actionsMap = _c[0], finalActionMatchers = _c[1], finalDefaultCaseReducer = _c[2];\r\n    var getInitialState;\r\n    if (isStateFunction(initialState)) {\r\n        getInitialState = function () { return freezeDraftable(initialState()); };\r\n    }\r\n    else {\r\n        var frozenInitialState_1 = freezeDraftable(initialState);\r\n        getInitialState = function () { return frozenInitialState_1; };\r\n    }\r\n    function reducer(state, action) {\r\n        if (state === void 0) { state = getInitialState(); }\r\n        var caseReducers = __spreadArray([\r\n            actionsMap[action.type]\r\n        ], finalActionMatchers.filter(function (_c) {\r\n            var matcher = _c.matcher;\r\n            return matcher(action);\r\n        }).map(function (_c) {\r\n            var reducer2 = _c.reducer;\r\n            return reducer2;\r\n        }));\r\n        if (caseReducers.filter(function (cr) { return !!cr; }).length === 0) {\r\n            caseReducers = [finalDefaultCaseReducer];\r\n        }\r\n        return caseReducers.reduce(function (previousState, caseReducer) {\r\n            if (caseReducer) {\r\n                if (isDraft2(previousState)) {\r\n                    var draft = previousState;\r\n                    var result = caseReducer(draft, action);\r\n                    if (result === void 0) {\r\n                        return previousState;\r\n                    }\r\n                    return result;\r\n                }\r\n                else if (!isDraftable2(previousState)) {\r\n                    var result = caseReducer(previousState, action);\r\n                    if (result === void 0) {\r\n                        if (previousState === null) {\r\n                            return previousState;\r\n                        }\r\n                        throw Error(\"A case reducer on a non-draftable value must not return undefined\");\r\n                    }\r\n                    return result;\r\n                }\r\n                else {\r\n                    return createNextState2(previousState, function (draft) {\r\n                        return caseReducer(draft, action);\r\n                    });\r\n                }\r\n            }\r\n            return previousState;\r\n        }, state);\r\n    }\r\n    reducer.getInitialState = getInitialState;\r\n    return reducer;\r\n}\r\n// src/createSlice.ts\r\nvar hasWarnedAboutObjectNotation2 = false;\r\nfunction getType2(slice, actionKey) {\r\n    return slice + \"/\" + actionKey;\r\n}\r\nfunction createSlice(options) {\r\n    var name = options.name;\r\n    if (!name) {\r\n        throw new Error(\"`name` is a required option for createSlice\");\r\n    }\r\n    if (typeof process !== \"undefined\" && process.env.NODE_ENV === \"development\") {\r\n        if (options.initialState === void 0) {\r\n            console.error(\"You must provide an `initialState` value that is not `undefined`. You may have misspelled `initialState`\");\r\n        }\r\n    }\r\n    var initialState = typeof options.initialState == \"function\" ? options.initialState : freezeDraftable(options.initialState);\r\n    var reducers = options.reducers || {};\r\n    var reducerNames = Object.keys(reducers);\r\n    var sliceCaseReducersByName = {};\r\n    var sliceCaseReducersByType = {};\r\n    var actionCreators = {};\r\n    reducerNames.forEach(function (reducerName) {\r\n        var maybeReducerWithPrepare = reducers[reducerName];\r\n        var type = getType2(name, reducerName);\r\n        var caseReducer;\r\n        var prepareCallback;\r\n        if (\"reducer\" in maybeReducerWithPrepare) {\r\n            caseReducer = maybeReducerWithPrepare.reducer;\r\n            prepareCallback = maybeReducerWithPrepare.prepare;\r\n        }\r\n        else {\r\n            caseReducer = maybeReducerWithPrepare;\r\n        }\r\n        sliceCaseReducersByName[reducerName] = caseReducer;\r\n        sliceCaseReducersByType[type] = caseReducer;\r\n        actionCreators[reducerName] = prepareCallback ? createAction(type, prepareCallback) : createAction(type);\r\n    });\r\n    function buildReducer() {\r\n        if (process.env.NODE_ENV !== \"production\") {\r\n            if (typeof options.extraReducers === \"object\") {\r\n                if (!hasWarnedAboutObjectNotation2) {\r\n                    hasWarnedAboutObjectNotation2 = true;\r\n                    console.warn(\"The object notation for `createSlice.extraReducers` is deprecated, and will be removed in RTK 2.0. Please use the 'builder callback' notation instead: https://redux-toolkit.js.org/api/createSlice\");\r\n                }\r\n            }\r\n        }\r\n        var _c = typeof options.extraReducers === \"function\" ? executeReducerBuilderCallback(options.extraReducers) : [options.extraReducers], _d = _c[0], extraReducers = _d === void 0 ? {} : _d, _e = _c[1], actionMatchers = _e === void 0 ? [] : _e, _f = _c[2], defaultCaseReducer = _f === void 0 ? void 0 : _f;\r\n        var finalCaseReducers = __spreadValues(__spreadValues({}, extraReducers), sliceCaseReducersByType);\r\n        return createReducer(initialState, function (builder) {\r\n            for (var key in finalCaseReducers) {\r\n                builder.addCase(key, finalCaseReducers[key]);\r\n            }\r\n            for (var _i = 0, actionMatchers_1 = actionMatchers; _i < actionMatchers_1.length; _i++) {\r\n                var m = actionMatchers_1[_i];\r\n                builder.addMatcher(m.matcher, m.reducer);\r\n            }\r\n            if (defaultCaseReducer) {\r\n                builder.addDefaultCase(defaultCaseReducer);\r\n            }\r\n        });\r\n    }\r\n    var _reducer;\r\n    return {\r\n        name: name,\r\n        reducer: function (state, action) {\r\n            if (!_reducer)\r\n                _reducer = buildReducer();\r\n            return _reducer(state, action);\r\n        },\r\n        actions: actionCreators,\r\n        caseReducers: sliceCaseReducersByName,\r\n        getInitialState: function () {\r\n            if (!_reducer)\r\n                _reducer = buildReducer();\r\n            return _reducer.getInitialState();\r\n        }\r\n    };\r\n}\r\n// src/entities/entity_state.ts\r\nfunction getInitialEntityState() {\r\n    return {\r\n        ids: [],\r\n        entities: {}\r\n    };\r\n}\r\nfunction createInitialStateFactory() {\r\n    function getInitialState(additionalState) {\r\n        if (additionalState === void 0) { additionalState = {}; }\r\n        return Object.assign(getInitialEntityState(), additionalState);\r\n    }\r\n    return { getInitialState: getInitialState };\r\n}\r\n// src/entities/state_selectors.ts\r\nfunction createSelectorsFactory() {\r\n    function getSelectors(selectState) {\r\n        var selectIds = function (state) { return state.ids; };\r\n        var selectEntities = function (state) { return state.entities; };\r\n        var selectAll = createDraftSafeSelector(selectIds, selectEntities, function (ids, entities) { return ids.map(function (id) { return entities[id]; }); });\r\n        var selectId = function (_, id) { return id; };\r\n        var selectById = function (entities, id) { return entities[id]; };\r\n        var selectTotal = createDraftSafeSelector(selectIds, function (ids) { return ids.length; });\r\n        if (!selectState) {\r\n            return {\r\n                selectIds: selectIds,\r\n                selectEntities: selectEntities,\r\n                selectAll: selectAll,\r\n                selectTotal: selectTotal,\r\n                selectById: createDraftSafeSelector(selectEntities, selectId, selectById)\r\n            };\r\n        }\r\n        var selectGlobalizedEntities = createDraftSafeSelector(selectState, selectEntities);\r\n        return {\r\n            selectIds: createDraftSafeSelector(selectState, selectIds),\r\n            selectEntities: selectGlobalizedEntities,\r\n            selectAll: createDraftSafeSelector(selectState, selectAll),\r\n            selectTotal: createDraftSafeSelector(selectState, selectTotal),\r\n            selectById: createDraftSafeSelector(selectGlobalizedEntities, selectId, selectById)\r\n        };\r\n    }\r\n    return { getSelectors: getSelectors };\r\n}\r\n// src/entities/state_adapter.ts\r\nimport createNextState3, { isDraft as isDraft3 } from \"immer\";\r\nfunction createSingleArgumentStateOperator(mutator) {\r\n    var operator = createStateOperator(function (_, state) { return mutator(state); });\r\n    return function operation(state) {\r\n        return operator(state, void 0);\r\n    };\r\n}\r\nfunction createStateOperator(mutator) {\r\n    return function operation(state, arg) {\r\n        function isPayloadActionArgument(arg2) {\r\n            return isFSA(arg2);\r\n        }\r\n        var runMutator = function (draft) {\r\n            if (isPayloadActionArgument(arg)) {\r\n                mutator(arg.payload, draft);\r\n            }\r\n            else {\r\n                mutator(arg, draft);\r\n            }\r\n        };\r\n        if (isDraft3(state)) {\r\n            runMutator(state);\r\n            return state;\r\n        }\r\n        else {\r\n            return createNextState3(state, runMutator);\r\n        }\r\n    };\r\n}\r\n// src/entities/utils.ts\r\nfunction selectIdValue(entity, selectId) {\r\n    var key = selectId(entity);\r\n    if (process.env.NODE_ENV !== \"production\" && key === void 0) {\r\n        console.warn(\"The entity passed to the `selectId` implementation returned undefined.\", \"You should probably provide your own `selectId` implementation.\", \"The entity that was passed:\", entity, \"The `selectId` implementation:\", selectId.toString());\r\n    }\r\n    return key;\r\n}\r\nfunction ensureEntitiesArray(entities) {\r\n    if (!Array.isArray(entities)) {\r\n        entities = Object.values(entities);\r\n    }\r\n    return entities;\r\n}\r\nfunction splitAddedUpdatedEntities(newEntities, selectId, state) {\r\n    newEntities = ensureEntitiesArray(newEntities);\r\n    var added = [];\r\n    var updated = [];\r\n    for (var _i = 0, newEntities_1 = newEntities; _i < newEntities_1.length; _i++) {\r\n        var entity = newEntities_1[_i];\r\n        var id = selectIdValue(entity, selectId);\r\n        if (id in state.entities) {\r\n            updated.push({ id: id, changes: entity });\r\n        }\r\n        else {\r\n            added.push(entity);\r\n        }\r\n    }\r\n    return [added, updated];\r\n}\r\n// src/entities/unsorted_state_adapter.ts\r\nfunction createUnsortedStateAdapter(selectId) {\r\n    function addOneMutably(entity, state) {\r\n        var key = selectIdValue(entity, selectId);\r\n        if (key in state.entities) {\r\n            return;\r\n        }\r\n        state.ids.push(key);\r\n        state.entities[key] = entity;\r\n    }\r\n    function addManyMutably(newEntities, state) {\r\n        newEntities = ensureEntitiesArray(newEntities);\r\n        for (var _i = 0, newEntities_2 = newEntities; _i < newEntities_2.length; _i++) {\r\n            var entity = newEntities_2[_i];\r\n            addOneMutably(entity, state);\r\n        }\r\n    }\r\n    function setOneMutably(entity, state) {\r\n        var key = selectIdValue(entity, selectId);\r\n        if (!(key in state.entities)) {\r\n            state.ids.push(key);\r\n        }\r\n        state.entities[key] = entity;\r\n    }\r\n    function setManyMutably(newEntities, state) {\r\n        newEntities = ensureEntitiesArray(newEntities);\r\n        for (var _i = 0, newEntities_3 = newEntities; _i < newEntities_3.length; _i++) {\r\n            var entity = newEntities_3[_i];\r\n            setOneMutably(entity, state);\r\n        }\r\n    }\r\n    function setAllMutably(newEntities, state) {\r\n        newEntities = ensureEntitiesArray(newEntities);\r\n        state.ids = [];\r\n        state.entities = {};\r\n        addManyMutably(newEntities, state);\r\n    }\r\n    function removeOneMutably(key, state) {\r\n        return removeManyMutably([key], state);\r\n    }\r\n    function removeManyMutably(keys, state) {\r\n        var didMutate = false;\r\n        keys.forEach(function (key) {\r\n            if (key in state.entities) {\r\n                delete state.entities[key];\r\n                didMutate = true;\r\n            }\r\n        });\r\n        if (didMutate) {\r\n            state.ids = state.ids.filter(function (id) { return id in state.entities; });\r\n        }\r\n    }\r\n    function removeAllMutably(state) {\r\n        Object.assign(state, {\r\n            ids: [],\r\n            entities: {}\r\n        });\r\n    }\r\n    function takeNewKey(keys, update, state) {\r\n        var original2 = state.entities[update.id];\r\n        var updated = Object.assign({}, original2, update.changes);\r\n        var newKey = selectIdValue(updated, selectId);\r\n        var hasNewKey = newKey !== update.id;\r\n        if (hasNewKey) {\r\n            keys[update.id] = newKey;\r\n            delete state.entities[update.id];\r\n        }\r\n        state.entities[newKey] = updated;\r\n        return hasNewKey;\r\n    }\r\n    function updateOneMutably(update, state) {\r\n        return updateManyMutably([update], state);\r\n    }\r\n    function updateManyMutably(updates, state) {\r\n        var newKeys = {};\r\n        var updatesPerEntity = {};\r\n        updates.forEach(function (update) {\r\n            if (update.id in state.entities) {\r\n                updatesPerEntity[update.id] = {\r\n                    id: update.id,\r\n                    changes: __spreadValues(__spreadValues({}, updatesPerEntity[update.id] ? updatesPerEntity[update.id].changes : null), update.changes)\r\n                };\r\n            }\r\n        });\r\n        updates = Object.values(updatesPerEntity);\r\n        var didMutateEntities = updates.length > 0;\r\n        if (didMutateEntities) {\r\n            var didMutateIds = updates.filter(function (update) { return takeNewKey(newKeys, update, state); }).length > 0;\r\n            if (didMutateIds) {\r\n                state.ids = Object.keys(state.entities);\r\n            }\r\n        }\r\n    }\r\n    function upsertOneMutably(entity, state) {\r\n        return upsertManyMutably([entity], state);\r\n    }\r\n    function upsertManyMutably(newEntities, state) {\r\n        var _c = splitAddedUpdatedEntities(newEntities, selectId, state), added = _c[0], updated = _c[1];\r\n        updateManyMutably(updated, state);\r\n        addManyMutably(added, state);\r\n    }\r\n    return {\r\n        removeAll: createSingleArgumentStateOperator(removeAllMutably),\r\n        addOne: createStateOperator(addOneMutably),\r\n        addMany: createStateOperator(addManyMutably),\r\n        setOne: createStateOperator(setOneMutably),\r\n        setMany: createStateOperator(setManyMutably),\r\n        setAll: createStateOperator(setAllMutably),\r\n        updateOne: createStateOperator(updateOneMutably),\r\n        updateMany: createStateOperator(updateManyMutably),\r\n        upsertOne: createStateOperator(upsertOneMutably),\r\n        upsertMany: createStateOperator(upsertManyMutably),\r\n        removeOne: createStateOperator(removeOneMutably),\r\n        removeMany: createStateOperator(removeManyMutably)\r\n    };\r\n}\r\n// src/entities/sorted_state_adapter.ts\r\nfunction createSortedStateAdapter(selectId, sort) {\r\n    var _c = createUnsortedStateAdapter(selectId), removeOne = _c.removeOne, removeMany = _c.removeMany, removeAll = _c.removeAll;\r\n    function addOneMutably(entity, state) {\r\n        return addManyMutably([entity], state);\r\n    }\r\n    function addManyMutably(newEntities, state) {\r\n        newEntities = ensureEntitiesArray(newEntities);\r\n        var models = newEntities.filter(function (model) { return !(selectIdValue(model, selectId) in state.entities); });\r\n        if (models.length !== 0) {\r\n            merge(models, state);\r\n        }\r\n    }\r\n    function setOneMutably(entity, state) {\r\n        return setManyMutably([entity], state);\r\n    }\r\n    function setManyMutably(newEntities, state) {\r\n        newEntities = ensureEntitiesArray(newEntities);\r\n        if (newEntities.length !== 0) {\r\n            merge(newEntities, state);\r\n        }\r\n    }\r\n    function setAllMutably(newEntities, state) {\r\n        newEntities = ensureEntitiesArray(newEntities);\r\n        state.entities = {};\r\n        state.ids = [];\r\n        addManyMutably(newEntities, state);\r\n    }\r\n    function updateOneMutably(update, state) {\r\n        return updateManyMutably([update], state);\r\n    }\r\n    function updateManyMutably(updates, state) {\r\n        var appliedUpdates = false;\r\n        for (var _i = 0, updates_1 = updates; _i < updates_1.length; _i++) {\r\n            var update = updates_1[_i];\r\n            var entity = state.entities[update.id];\r\n            if (!entity) {\r\n                continue;\r\n            }\r\n            appliedUpdates = true;\r\n            Object.assign(entity, update.changes);\r\n            var newId = selectId(entity);\r\n            if (update.id !== newId) {\r\n                delete state.entities[update.id];\r\n                state.entities[newId] = entity;\r\n            }\r\n        }\r\n        if (appliedUpdates) {\r\n            resortEntities(state);\r\n        }\r\n    }\r\n    function upsertOneMutably(entity, state) {\r\n        return upsertManyMutably([entity], state);\r\n    }\r\n    function upsertManyMutably(newEntities, state) {\r\n        var _c = splitAddedUpdatedEntities(newEntities, selectId, state), added = _c[0], updated = _c[1];\r\n        updateManyMutably(updated, state);\r\n        addManyMutably(added, state);\r\n    }\r\n    function areArraysEqual(a, b) {\r\n        if (a.length !== b.length) {\r\n            return false;\r\n        }\r\n        for (var i = 0; i < a.length && i < b.length; i++) {\r\n            if (a[i] === b[i]) {\r\n                continue;\r\n            }\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n    function merge(models, state) {\r\n        models.forEach(function (model) {\r\n            state.entities[selectId(model)] = model;\r\n        });\r\n        resortEntities(state);\r\n    }\r\n    function resortEntities(state) {\r\n        var allEntities = Object.values(state.entities);\r\n        allEntities.sort(sort);\r\n        var newSortedIds = allEntities.map(selectId);\r\n        var ids = state.ids;\r\n        if (!areArraysEqual(ids, newSortedIds)) {\r\n            state.ids = newSortedIds;\r\n        }\r\n    }\r\n    return {\r\n        removeOne: removeOne,\r\n        removeMany: removeMany,\r\n        removeAll: removeAll,\r\n        addOne: createStateOperator(addOneMutably),\r\n        updateOne: createStateOperator(updateOneMutably),\r\n        upsertOne: createStateOperator(upsertOneMutably),\r\n        setOne: createStateOperator(setOneMutably),\r\n        setMany: createStateOperator(setManyMutably),\r\n        setAll: createStateOperator(setAllMutably),\r\n        addMany: createStateOperator(addManyMutably),\r\n        updateMany: createStateOperator(updateManyMutably),\r\n        upsertMany: createStateOperator(upsertManyMutably)\r\n    };\r\n}\r\n// src/entities/create_adapter.ts\r\nfunction createEntityAdapter(options) {\r\n    if (options === void 0) { options = {}; }\r\n    var _c = __spreadValues({\r\n        sortComparer: false,\r\n        selectId: function (instance) { return instance.id; }\r\n    }, options), selectId = _c.selectId, sortComparer = _c.sortComparer;\r\n    var stateFactory = createInitialStateFactory();\r\n    var selectorsFactory = createSelectorsFactory();\r\n    var stateAdapter = sortComparer ? createSortedStateAdapter(selectId, sortComparer) : createUnsortedStateAdapter(selectId);\r\n    return __spreadValues(__spreadValues(__spreadValues({\r\n        selectId: selectId,\r\n        sortComparer: sortComparer\r\n    }, stateFactory), selectorsFactory), stateAdapter);\r\n}\r\n// src/nanoid.ts\r\nvar urlAlphabet = \"ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW\";\r\nvar nanoid = function (size) {\r\n    if (size === void 0) { size = 21; }\r\n    var id = \"\";\r\n    var i = size;\r\n    while (i--) {\r\n        id += urlAlphabet[Math.random() * 64 | 0];\r\n    }\r\n    return id;\r\n};\r\n// src/createAsyncThunk.ts\r\nvar commonProperties = [\r\n    \"name\",\r\n    \"message\",\r\n    \"stack\",\r\n    \"code\"\r\n];\r\nvar RejectWithValue = /** @class */ (function () {\r\n    function RejectWithValue(payload, meta) {\r\n        this.payload = payload;\r\n        this.meta = meta;\r\n    }\r\n    return RejectWithValue;\r\n}());\r\nvar FulfillWithMeta = /** @class */ (function () {\r\n    function FulfillWithMeta(payload, meta) {\r\n        this.payload = payload;\r\n        this.meta = meta;\r\n    }\r\n    return FulfillWithMeta;\r\n}());\r\nvar miniSerializeError = function (value) {\r\n    if (typeof value === \"object\" && value !== null) {\r\n        var simpleError = {};\r\n        for (var _i = 0, commonProperties_1 = commonProperties; _i < commonProperties_1.length; _i++) {\r\n            var property = commonProperties_1[_i];\r\n            if (typeof value[property] === \"string\") {\r\n                simpleError[property] = value[property];\r\n            }\r\n        }\r\n        return simpleError;\r\n    }\r\n    return { message: String(value) };\r\n};\r\nvar createAsyncThunk = (function () {\r\n    function createAsyncThunk2(typePrefix, payloadCreator, options) {\r\n        var fulfilled = createAction(typePrefix + \"/fulfilled\", function (payload, requestId, arg, meta) { return ({\r\n            payload: payload,\r\n            meta: __spreadProps(__spreadValues({}, meta || {}), {\r\n                arg: arg,\r\n                requestId: requestId,\r\n                requestStatus: \"fulfilled\"\r\n            })\r\n        }); });\r\n        var pending = createAction(typePrefix + \"/pending\", function (requestId, arg, meta) { return ({\r\n            payload: void 0,\r\n            meta: __spreadProps(__spreadValues({}, meta || {}), {\r\n                arg: arg,\r\n                requestId: requestId,\r\n                requestStatus: \"pending\"\r\n            })\r\n        }); });\r\n        var rejected = createAction(typePrefix + \"/rejected\", function (error, requestId, arg, payload, meta) { return ({\r\n            payload: payload,\r\n            error: (options && options.serializeError || miniSerializeError)(error || \"Rejected\"),\r\n            meta: __spreadProps(__spreadValues({}, meta || {}), {\r\n                arg: arg,\r\n                requestId: requestId,\r\n                rejectedWithValue: !!payload,\r\n                requestStatus: \"rejected\",\r\n                aborted: (error == null ? void 0 : error.name) === \"AbortError\",\r\n                condition: (error == null ? void 0 : error.name) === \"ConditionError\"\r\n            })\r\n        }); });\r\n        var displayedWarning = false;\r\n        var AC = typeof AbortController !== \"undefined\" ? AbortController : /** @class */ (function () {\r\n            function class_1() {\r\n                this.signal = {\r\n                    aborted: false,\r\n                    addEventListener: function () {\r\n                    },\r\n                    dispatchEvent: function () {\r\n                        return false;\r\n                    },\r\n                    onabort: function () {\r\n                    },\r\n                    removeEventListener: function () {\r\n                    },\r\n                    reason: void 0,\r\n                    throwIfAborted: function () {\r\n                    }\r\n                };\r\n            }\r\n            class_1.prototype.abort = function () {\r\n                if (process.env.NODE_ENV !== \"production\") {\r\n                    if (!displayedWarning) {\r\n                        displayedWarning = true;\r\n                        console.info(\"This platform does not implement AbortController. \\nIf you want to use the AbortController to react to `abort` events, please consider importing a polyfill like 'abortcontroller-polyfill/dist/abortcontroller-polyfill-only'.\");\r\n                    }\r\n                }\r\n            };\r\n            return class_1;\r\n        }());\r\n        function actionCreator(arg) {\r\n            return function (dispatch, getState, extra) {\r\n                var requestId = (options == null ? void 0 : options.idGenerator) ? options.idGenerator(arg) : nanoid();\r\n                var abortController = new AC();\r\n                var abortReason;\r\n                var started = false;\r\n                function abort(reason) {\r\n                    abortReason = reason;\r\n                    abortController.abort();\r\n                }\r\n                var promise2 = function () {\r\n                    return __async(this, null, function () {\r\n                        var _a, _b, finalAction, conditionResult, abortedPromise, err_1, skipDispatch;\r\n                        return __generator(this, function (_c) {\r\n                            switch (_c.label) {\r\n                                case 0:\r\n                                    _c.trys.push([0, 4, , 5]);\r\n                                    conditionResult = (_a = options == null ? void 0 : options.condition) == null ? void 0 : _a.call(options, arg, { getState: getState, extra: extra });\r\n                                    if (!isThenable(conditionResult)) return [3 /*break*/, 2];\r\n                                    return [4 /*yield*/, conditionResult];\r\n                                case 1:\r\n                                    conditionResult = _c.sent();\r\n                                    _c.label = 2;\r\n                                case 2:\r\n                                    if (conditionResult === false || abortController.signal.aborted) {\r\n                                        throw {\r\n                                            name: \"ConditionError\",\r\n                                            message: \"Aborted due to condition callback returning false.\"\r\n                                        };\r\n                                    }\r\n                                    started = true;\r\n                                    abortedPromise = new Promise(function (_, reject) { return abortController.signal.addEventListener(\"abort\", function () { return reject({\r\n                                        name: \"AbortError\",\r\n                                        message: abortReason || \"Aborted\"\r\n                                    }); }); });\r\n                                    dispatch(pending(requestId, arg, (_b = options == null ? void 0 : options.getPendingMeta) == null ? void 0 : _b.call(options, { requestId: requestId, arg: arg }, { getState: getState, extra: extra })));\r\n                                    return [4 /*yield*/, Promise.race([\r\n                                            abortedPromise,\r\n                                            Promise.resolve(payloadCreator(arg, {\r\n                                                dispatch: dispatch,\r\n                                                getState: getState,\r\n                                                extra: extra,\r\n                                                requestId: requestId,\r\n                                                signal: abortController.signal,\r\n                                                abort: abort,\r\n                                                rejectWithValue: function (value, meta) {\r\n                                                    return new RejectWithValue(value, meta);\r\n                                                },\r\n                                                fulfillWithValue: function (value, meta) {\r\n                                                    return new FulfillWithMeta(value, meta);\r\n                                                }\r\n                                            })).then(function (result) {\r\n                                                if (result instanceof RejectWithValue) {\r\n                                                    throw result;\r\n                                                }\r\n                                                if (result instanceof FulfillWithMeta) {\r\n                                                    return fulfilled(result.payload, requestId, arg, result.meta);\r\n                                                }\r\n                                                return fulfilled(result, requestId, arg);\r\n                                            })\r\n                                        ])];\r\n                                case 3:\r\n                                    finalAction = _c.sent();\r\n                                    return [3 /*break*/, 5];\r\n                                case 4:\r\n                                    err_1 = _c.sent();\r\n                                    finalAction = err_1 instanceof RejectWithValue ? rejected(null, requestId, arg, err_1.payload, err_1.meta) : rejected(err_1, requestId, arg);\r\n                                    return [3 /*break*/, 5];\r\n                                case 5:\r\n                                    skipDispatch = options && !options.dispatchConditionRejection && rejected.match(finalAction) && finalAction.meta.condition;\r\n                                    if (!skipDispatch) {\r\n                                        dispatch(finalAction);\r\n                                    }\r\n                                    return [2 /*return*/, finalAction];\r\n                            }\r\n                        });\r\n                    });\r\n                }();\r\n                return Object.assign(promise2, {\r\n                    abort: abort,\r\n                    requestId: requestId,\r\n                    arg: arg,\r\n                    unwrap: function () {\r\n                        return promise2.then(unwrapResult);\r\n                    }\r\n                });\r\n            };\r\n        }\r\n        return Object.assign(actionCreator, {\r\n            pending: pending,\r\n            rejected: rejected,\r\n            fulfilled: fulfilled,\r\n            typePrefix: typePrefix\r\n        });\r\n    }\r\n    createAsyncThunk2.withTypes = function () { return createAsyncThunk2; };\r\n    return createAsyncThunk2;\r\n})();\r\nfunction unwrapResult(action) {\r\n    if (action.meta && action.meta.rejectedWithValue) {\r\n        throw action.payload;\r\n    }\r\n    if (action.error) {\r\n        throw action.error;\r\n    }\r\n    return action.payload;\r\n}\r\nfunction isThenable(value) {\r\n    return value !== null && typeof value === \"object\" && typeof value.then === \"function\";\r\n}\r\n// src/tsHelpers.ts\r\nvar hasMatchFunction = function (v) {\r\n    return v && typeof v.match === \"function\";\r\n};\r\n// src/matchers.ts\r\nvar matches = function (matcher, action) {\r\n    if (hasMatchFunction(matcher)) {\r\n        return matcher.match(action);\r\n    }\r\n    else {\r\n        return matcher(action);\r\n    }\r\n};\r\nfunction isAnyOf() {\r\n    var matchers = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        matchers[_i] = arguments[_i];\r\n    }\r\n    return function (action) {\r\n        return matchers.some(function (matcher) { return matches(matcher, action); });\r\n    };\r\n}\r\nfunction isAllOf() {\r\n    var matchers = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        matchers[_i] = arguments[_i];\r\n    }\r\n    return function (action) {\r\n        return matchers.every(function (matcher) { return matches(matcher, action); });\r\n    };\r\n}\r\nfunction hasExpectedRequestMetadata(action, validStatus) {\r\n    if (!action || !action.meta)\r\n        return false;\r\n    var hasValidRequestId = typeof action.meta.requestId === \"string\";\r\n    var hasValidRequestStatus = validStatus.indexOf(action.meta.requestStatus) > -1;\r\n    return hasValidRequestId && hasValidRequestStatus;\r\n}\r\nfunction isAsyncThunkArray(a) {\r\n    return typeof a[0] === \"function\" && \"pending\" in a[0] && \"fulfilled\" in a[0] && \"rejected\" in a[0];\r\n}\r\nfunction isPending() {\r\n    var asyncThunks = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        asyncThunks[_i] = arguments[_i];\r\n    }\r\n    if (asyncThunks.length === 0) {\r\n        return function (action) { return hasExpectedRequestMetadata(action, [\"pending\"]); };\r\n    }\r\n    if (!isAsyncThunkArray(asyncThunks)) {\r\n        return isPending()(asyncThunks[0]);\r\n    }\r\n    return function (action) {\r\n        var matchers = asyncThunks.map(function (asyncThunk) { return asyncThunk.pending; });\r\n        var combinedMatcher = isAnyOf.apply(void 0, matchers);\r\n        return combinedMatcher(action);\r\n    };\r\n}\r\nfunction isRejected() {\r\n    var asyncThunks = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        asyncThunks[_i] = arguments[_i];\r\n    }\r\n    if (asyncThunks.length === 0) {\r\n        return function (action) { return hasExpectedRequestMetadata(action, [\"rejected\"]); };\r\n    }\r\n    if (!isAsyncThunkArray(asyncThunks)) {\r\n        return isRejected()(asyncThunks[0]);\r\n    }\r\n    return function (action) {\r\n        var matchers = asyncThunks.map(function (asyncThunk) { return asyncThunk.rejected; });\r\n        var combinedMatcher = isAnyOf.apply(void 0, matchers);\r\n        return combinedMatcher(action);\r\n    };\r\n}\r\nfunction isRejectedWithValue() {\r\n    var asyncThunks = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        asyncThunks[_i] = arguments[_i];\r\n    }\r\n    var hasFlag = function (action) {\r\n        return action && action.meta && action.meta.rejectedWithValue;\r\n    };\r\n    if (asyncThunks.length === 0) {\r\n        return function (action) {\r\n            var combinedMatcher = isAllOf(isRejected.apply(void 0, asyncThunks), hasFlag);\r\n            return combinedMatcher(action);\r\n        };\r\n    }\r\n    if (!isAsyncThunkArray(asyncThunks)) {\r\n        return isRejectedWithValue()(asyncThunks[0]);\r\n    }\r\n    return function (action) {\r\n        var combinedMatcher = isAllOf(isRejected.apply(void 0, asyncThunks), hasFlag);\r\n        return combinedMatcher(action);\r\n    };\r\n}\r\nfunction isFulfilled() {\r\n    var asyncThunks = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        asyncThunks[_i] = arguments[_i];\r\n    }\r\n    if (asyncThunks.length === 0) {\r\n        return function (action) { return hasExpectedRequestMetadata(action, [\"fulfilled\"]); };\r\n    }\r\n    if (!isAsyncThunkArray(asyncThunks)) {\r\n        return isFulfilled()(asyncThunks[0]);\r\n    }\r\n    return function (action) {\r\n        var matchers = asyncThunks.map(function (asyncThunk) { return asyncThunk.fulfilled; });\r\n        var combinedMatcher = isAnyOf.apply(void 0, matchers);\r\n        return combinedMatcher(action);\r\n    };\r\n}\r\nfunction isAsyncThunkAction() {\r\n    var asyncThunks = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        asyncThunks[_i] = arguments[_i];\r\n    }\r\n    if (asyncThunks.length === 0) {\r\n        return function (action) { return hasExpectedRequestMetadata(action, [\"pending\", \"fulfilled\", \"rejected\"]); };\r\n    }\r\n    if (!isAsyncThunkArray(asyncThunks)) {\r\n        return isAsyncThunkAction()(asyncThunks[0]);\r\n    }\r\n    return function (action) {\r\n        var matchers = [];\r\n        for (var _i = 0, asyncThunks_1 = asyncThunks; _i < asyncThunks_1.length; _i++) {\r\n            var asyncThunk = asyncThunks_1[_i];\r\n            matchers.push(asyncThunk.pending, asyncThunk.rejected, asyncThunk.fulfilled);\r\n        }\r\n        var combinedMatcher = isAnyOf.apply(void 0, matchers);\r\n        return combinedMatcher(action);\r\n    };\r\n}\r\n// src/listenerMiddleware/utils.ts\r\nvar assertFunction = function (func, expected) {\r\n    if (typeof func !== \"function\") {\r\n        throw new TypeError(expected + \" is not a function\");\r\n    }\r\n};\r\nvar noop = function () {\r\n};\r\nvar catchRejection = function (promise2, onError) {\r\n    if (onError === void 0) { onError = noop; }\r\n    promise2.catch(onError);\r\n    return promise2;\r\n};\r\nvar addAbortSignalListener = function (abortSignal, callback) {\r\n    abortSignal.addEventListener(\"abort\", callback, { once: true });\r\n    return function () { return abortSignal.removeEventListener(\"abort\", callback); };\r\n};\r\nvar abortControllerWithReason = function (abortController, reason) {\r\n    var signal = abortController.signal;\r\n    if (signal.aborted) {\r\n        return;\r\n    }\r\n    if (!(\"reason\" in signal)) {\r\n        Object.defineProperty(signal, \"reason\", {\r\n            enumerable: true,\r\n            value: reason,\r\n            configurable: true,\r\n            writable: true\r\n        });\r\n    }\r\n    ;\r\n    abortController.abort(reason);\r\n};\r\n// src/listenerMiddleware/exceptions.ts\r\nvar task = \"task\";\r\nvar listener = \"listener\";\r\nvar completed = \"completed\";\r\nvar cancelled = \"cancelled\";\r\nvar taskCancelled = \"task-\" + cancelled;\r\nvar taskCompleted = \"task-\" + completed;\r\nvar listenerCancelled = listener + \"-\" + cancelled;\r\nvar listenerCompleted = listener + \"-\" + completed;\r\nvar TaskAbortError = /** @class */ (function () {\r\n    function TaskAbortError(code) {\r\n        this.code = code;\r\n        this.name = \"TaskAbortError\";\r\n        this.message = task + \" \" + cancelled + \" (reason: \" + code + \")\";\r\n    }\r\n    return TaskAbortError;\r\n}());\r\n// src/listenerMiddleware/task.ts\r\nvar validateActive = function (signal) {\r\n    if (signal.aborted) {\r\n        throw new TaskAbortError(signal.reason);\r\n    }\r\n};\r\nfunction raceWithSignal(signal, promise2) {\r\n    var cleanup = noop;\r\n    return new Promise(function (resolve, reject) {\r\n        var notifyRejection = function () { return reject(new TaskAbortError(signal.reason)); };\r\n        if (signal.aborted) {\r\n            notifyRejection();\r\n            return;\r\n        }\r\n        cleanup = addAbortSignalListener(signal, notifyRejection);\r\n        promise2.finally(function () { return cleanup(); }).then(resolve, reject);\r\n    }).finally(function () {\r\n        cleanup = noop;\r\n    });\r\n}\r\nvar runTask = function (task2, cleanUp) { return __async(void 0, null, function () {\r\n    var value, error_1;\r\n    return __generator(this, function (_c) {\r\n        switch (_c.label) {\r\n            case 0:\r\n                _c.trys.push([0, 3, 4, 5]);\r\n                return [4 /*yield*/, Promise.resolve()];\r\n            case 1:\r\n                _c.sent();\r\n                return [4 /*yield*/, task2()];\r\n            case 2:\r\n                value = _c.sent();\r\n                return [2 /*return*/, {\r\n                        status: \"ok\",\r\n                        value: value\r\n                    }];\r\n            case 3:\r\n                error_1 = _c.sent();\r\n                return [2 /*return*/, {\r\n                        status: error_1 instanceof TaskAbortError ? \"cancelled\" : \"rejected\",\r\n                        error: error_1\r\n                    }];\r\n            case 4:\r\n                cleanUp == null ? void 0 : cleanUp();\r\n                return [7 /*endfinally*/];\r\n            case 5: return [2 /*return*/];\r\n        }\r\n    });\r\n}); };\r\nvar createPause = function (signal) {\r\n    return function (promise2) {\r\n        return catchRejection(raceWithSignal(signal, promise2).then(function (output) {\r\n            validateActive(signal);\r\n            return output;\r\n        }));\r\n    };\r\n};\r\nvar createDelay = function (signal) {\r\n    var pause = createPause(signal);\r\n    return function (timeoutMs) {\r\n        return pause(new Promise(function (resolve) { return setTimeout(resolve, timeoutMs); }));\r\n    };\r\n};\r\n// src/listenerMiddleware/index.ts\r\nvar assign = Object.assign;\r\nvar INTERNAL_NIL_TOKEN = {};\r\nvar alm = \"listenerMiddleware\";\r\nvar createFork = function (parentAbortSignal) {\r\n    var linkControllers = function (controller) { return addAbortSignalListener(parentAbortSignal, function () { return abortControllerWithReason(controller, parentAbortSignal.reason); }); };\r\n    return function (taskExecutor) {\r\n        assertFunction(taskExecutor, \"taskExecutor\");\r\n        var childAbortController = new AbortController();\r\n        linkControllers(childAbortController);\r\n        var result = runTask(function () { return __async(void 0, null, function () {\r\n            var result2;\r\n            return __generator(this, function (_c) {\r\n                switch (_c.label) {\r\n                    case 0:\r\n                        validateActive(parentAbortSignal);\r\n                        validateActive(childAbortController.signal);\r\n                        return [4 /*yield*/, taskExecutor({\r\n                                pause: createPause(childAbortController.signal),\r\n                                delay: createDelay(childAbortController.signal),\r\n                                signal: childAbortController.signal\r\n                            })];\r\n                    case 1:\r\n                        result2 = _c.sent();\r\n                        validateActive(childAbortController.signal);\r\n                        return [2 /*return*/, result2];\r\n                }\r\n            });\r\n        }); }, function () { return abortControllerWithReason(childAbortController, taskCompleted); });\r\n        return {\r\n            result: createPause(parentAbortSignal)(result),\r\n            cancel: function () {\r\n                abortControllerWithReason(childAbortController, taskCancelled);\r\n            }\r\n        };\r\n    };\r\n};\r\nvar createTakePattern = function (startListening, signal) {\r\n    var take = function (predicate, timeout) { return __async(void 0, null, function () {\r\n        var unsubscribe, tuplePromise, promises, output;\r\n        return __generator(this, function (_c) {\r\n            switch (_c.label) {\r\n                case 0:\r\n                    validateActive(signal);\r\n                    unsubscribe = function () {\r\n                    };\r\n                    tuplePromise = new Promise(function (resolve, reject) {\r\n                        var stopListening = startListening({\r\n                            predicate: predicate,\r\n                            effect: function (action, listenerApi) {\r\n                                listenerApi.unsubscribe();\r\n                                resolve([\r\n                                    action,\r\n                                    listenerApi.getState(),\r\n                                    listenerApi.getOriginalState()\r\n                                ]);\r\n                            }\r\n                        });\r\n                        unsubscribe = function () {\r\n                            stopListening();\r\n                            reject();\r\n                        };\r\n                    });\r\n                    promises = [\r\n                        tuplePromise\r\n                    ];\r\n                    if (timeout != null) {\r\n                        promises.push(new Promise(function (resolve) { return setTimeout(resolve, timeout, null); }));\r\n                    }\r\n                    _c.label = 1;\r\n                case 1:\r\n                    _c.trys.push([1, , 3, 4]);\r\n                    return [4 /*yield*/, raceWithSignal(signal, Promise.race(promises))];\r\n                case 2:\r\n                    output = _c.sent();\r\n                    validateActive(signal);\r\n                    return [2 /*return*/, output];\r\n                case 3:\r\n                    unsubscribe();\r\n                    return [7 /*endfinally*/];\r\n                case 4: return [2 /*return*/];\r\n            }\r\n        });\r\n    }); };\r\n    return function (predicate, timeout) { return catchRejection(take(predicate, timeout)); };\r\n};\r\nvar getListenerEntryPropsFrom = function (options) {\r\n    var type = options.type, actionCreator = options.actionCreator, matcher = options.matcher, predicate = options.predicate, effect = options.effect;\r\n    if (type) {\r\n        predicate = createAction(type).match;\r\n    }\r\n    else if (actionCreator) {\r\n        type = actionCreator.type;\r\n        predicate = actionCreator.match;\r\n    }\r\n    else if (matcher) {\r\n        predicate = matcher;\r\n    }\r\n    else if (predicate) {\r\n    }\r\n    else {\r\n        throw new Error(\"Creating or removing a listener requires one of the known fields for matching an action\");\r\n    }\r\n    assertFunction(effect, \"options.listener\");\r\n    return { predicate: predicate, type: type, effect: effect };\r\n};\r\nvar createListenerEntry = function (options) {\r\n    var _c = getListenerEntryPropsFrom(options), type = _c.type, predicate = _c.predicate, effect = _c.effect;\r\n    var id = nanoid();\r\n    var entry = {\r\n        id: id,\r\n        effect: effect,\r\n        type: type,\r\n        predicate: predicate,\r\n        pending: new Set(),\r\n        unsubscribe: function () {\r\n            throw new Error(\"Unsubscribe not initialized\");\r\n        }\r\n    };\r\n    return entry;\r\n};\r\nvar cancelActiveListeners = function (entry) {\r\n    entry.pending.forEach(function (controller) {\r\n        abortControllerWithReason(controller, listenerCancelled);\r\n    });\r\n};\r\nvar createClearListenerMiddleware = function (listenerMap) {\r\n    return function () {\r\n        listenerMap.forEach(cancelActiveListeners);\r\n        listenerMap.clear();\r\n    };\r\n};\r\nvar safelyNotifyError = function (errorHandler, errorToNotify, errorInfo) {\r\n    try {\r\n        errorHandler(errorToNotify, errorInfo);\r\n    }\r\n    catch (errorHandlerError) {\r\n        setTimeout(function () {\r\n            throw errorHandlerError;\r\n        }, 0);\r\n    }\r\n};\r\nvar addListener = createAction(alm + \"/add\");\r\nvar clearAllListeners = createAction(alm + \"/removeAll\");\r\nvar removeListener = createAction(alm + \"/remove\");\r\nvar defaultErrorHandler = function () {\r\n    var args = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        args[_i] = arguments[_i];\r\n    }\r\n    console.error.apply(console, __spreadArray([alm + \"/error\"], args));\r\n};\r\nfunction createListenerMiddleware(middlewareOptions) {\r\n    var _this = this;\r\n    if (middlewareOptions === void 0) { middlewareOptions = {}; }\r\n    var listenerMap = new Map();\r\n    var extra = middlewareOptions.extra, _c = middlewareOptions.onError, onError = _c === void 0 ? defaultErrorHandler : _c;\r\n    assertFunction(onError, \"onError\");\r\n    var insertEntry = function (entry) {\r\n        entry.unsubscribe = function () { return listenerMap.delete(entry.id); };\r\n        listenerMap.set(entry.id, entry);\r\n        return function (cancelOptions) {\r\n            entry.unsubscribe();\r\n            if (cancelOptions == null ? void 0 : cancelOptions.cancelActive) {\r\n                cancelActiveListeners(entry);\r\n            }\r\n        };\r\n    };\r\n    var findListenerEntry = function (comparator) {\r\n        for (var _i = 0, _c = Array.from(listenerMap.values()); _i < _c.length; _i++) {\r\n            var entry = _c[_i];\r\n            if (comparator(entry)) {\r\n                return entry;\r\n            }\r\n        }\r\n        return void 0;\r\n    };\r\n    var startListening = function (options) {\r\n        var entry = findListenerEntry(function (existingEntry) { return existingEntry.effect === options.effect; });\r\n        if (!entry) {\r\n            entry = createListenerEntry(options);\r\n        }\r\n        return insertEntry(entry);\r\n    };\r\n    var stopListening = function (options) {\r\n        var _c = getListenerEntryPropsFrom(options), type = _c.type, effect = _c.effect, predicate = _c.predicate;\r\n        var entry = findListenerEntry(function (entry2) {\r\n            var matchPredicateOrType = typeof type === \"string\" ? entry2.type === type : entry2.predicate === predicate;\r\n            return matchPredicateOrType && entry2.effect === effect;\r\n        });\r\n        if (entry) {\r\n            entry.unsubscribe();\r\n            if (options.cancelActive) {\r\n                cancelActiveListeners(entry);\r\n            }\r\n        }\r\n        return !!entry;\r\n    };\r\n    var notifyListener = function (entry, action, api, getOriginalState) { return __async(_this, null, function () {\r\n        var internalTaskController, take, listenerError_1;\r\n        return __generator(this, function (_c) {\r\n            switch (_c.label) {\r\n                case 0:\r\n                    internalTaskController = new AbortController();\r\n                    take = createTakePattern(startListening, internalTaskController.signal);\r\n                    _c.label = 1;\r\n                case 1:\r\n                    _c.trys.push([1, 3, 4, 5]);\r\n                    entry.pending.add(internalTaskController);\r\n                    return [4 /*yield*/, Promise.resolve(entry.effect(action, assign({}, api, {\r\n                            getOriginalState: getOriginalState,\r\n                            condition: function (predicate, timeout) { return take(predicate, timeout).then(Boolean); },\r\n                            take: take,\r\n                            delay: createDelay(internalTaskController.signal),\r\n                            pause: createPause(internalTaskController.signal),\r\n                            extra: extra,\r\n                            signal: internalTaskController.signal,\r\n                            fork: createFork(internalTaskController.signal),\r\n                            unsubscribe: entry.unsubscribe,\r\n                            subscribe: function () {\r\n                                listenerMap.set(entry.id, entry);\r\n                            },\r\n                            cancelActiveListeners: function () {\r\n                                entry.pending.forEach(function (controller, _, set) {\r\n                                    if (controller !== internalTaskController) {\r\n                                        abortControllerWithReason(controller, listenerCancelled);\r\n                                        set.delete(controller);\r\n                                    }\r\n                                });\r\n                            }\r\n                        })))];\r\n                case 2:\r\n                    _c.sent();\r\n                    return [3 /*break*/, 5];\r\n                case 3:\r\n                    listenerError_1 = _c.sent();\r\n                    if (!(listenerError_1 instanceof TaskAbortError)) {\r\n                        safelyNotifyError(onError, listenerError_1, {\r\n                            raisedBy: \"effect\"\r\n                        });\r\n                    }\r\n                    return [3 /*break*/, 5];\r\n                case 4:\r\n                    abortControllerWithReason(internalTaskController, listenerCompleted);\r\n                    entry.pending.delete(internalTaskController);\r\n                    return [7 /*endfinally*/];\r\n                case 5: return [2 /*return*/];\r\n            }\r\n        });\r\n    }); };\r\n    var clearListenerMiddleware = createClearListenerMiddleware(listenerMap);\r\n    var middleware = function (api) { return function (next) { return function (action) {\r\n        if (!isAction(action)) {\r\n            return next(action);\r\n        }\r\n        if (addListener.match(action)) {\r\n            return startListening(action.payload);\r\n        }\r\n        if (clearAllListeners.match(action)) {\r\n            clearListenerMiddleware();\r\n            return;\r\n        }\r\n        if (removeListener.match(action)) {\r\n            return stopListening(action.payload);\r\n        }\r\n        var originalState = api.getState();\r\n        var getOriginalState = function () {\r\n            if (originalState === INTERNAL_NIL_TOKEN) {\r\n                throw new Error(alm + \": getOriginalState can only be called synchronously\");\r\n            }\r\n            return originalState;\r\n        };\r\n        var result;\r\n        try {\r\n            result = next(action);\r\n            if (listenerMap.size > 0) {\r\n                var currentState = api.getState();\r\n                var listenerEntries = Array.from(listenerMap.values());\r\n                for (var _i = 0, listenerEntries_1 = listenerEntries; _i < listenerEntries_1.length; _i++) {\r\n                    var entry = listenerEntries_1[_i];\r\n                    var runListener = false;\r\n                    try {\r\n                        runListener = entry.predicate(action, currentState, originalState);\r\n                    }\r\n                    catch (predicateError) {\r\n                        runListener = false;\r\n                        safelyNotifyError(onError, predicateError, {\r\n                            raisedBy: \"predicate\"\r\n                        });\r\n                    }\r\n                    if (!runListener) {\r\n                        continue;\r\n                    }\r\n                    notifyListener(entry, action, api, getOriginalState);\r\n                }\r\n            }\r\n        }\r\n        finally {\r\n            originalState = INTERNAL_NIL_TOKEN;\r\n        }\r\n        return result;\r\n    }; }; };\r\n    return {\r\n        middleware: middleware,\r\n        startListening: startListening,\r\n        stopListening: stopListening,\r\n        clearListeners: clearListenerMiddleware\r\n    };\r\n}\r\n// src/autoBatchEnhancer.ts\r\nvar SHOULD_AUTOBATCH = \"RTK_autoBatch\";\r\nvar prepareAutoBatched = function () { return function (payload) {\r\n    var _c;\r\n    return ({\r\n        payload: payload,\r\n        meta: (_c = {}, _c[SHOULD_AUTOBATCH] = true, _c)\r\n    });\r\n}; };\r\nvar promise;\r\nvar queueMicrotaskShim = typeof queueMicrotask === \"function\" ? queueMicrotask.bind(typeof window !== \"undefined\" ? window : typeof global !== \"undefined\" ? global : globalThis) : function (cb) { return (promise || (promise = Promise.resolve())).then(cb).catch(function (err) { return setTimeout(function () {\r\n    throw err;\r\n}, 0); }); };\r\nvar createQueueWithTimer = function (timeout) {\r\n    return function (notify) {\r\n        setTimeout(notify, timeout);\r\n    };\r\n};\r\nvar rAF = typeof window !== \"undefined\" && window.requestAnimationFrame ? window.requestAnimationFrame : createQueueWithTimer(10);\r\nvar autoBatchEnhancer = function (options) {\r\n    if (options === void 0) { options = { type: \"raf\" }; }\r\n    return function (next) { return function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        var store = next.apply(void 0, args);\r\n        var notifying = true;\r\n        var shouldNotifyAtEndOfTick = false;\r\n        var notificationQueued = false;\r\n        var listeners = new Set();\r\n        var queueCallback = options.type === \"tick\" ? queueMicrotaskShim : options.type === \"raf\" ? rAF : options.type === \"callback\" ? options.queueNotification : createQueueWithTimer(options.timeout);\r\n        var notifyListeners = function () {\r\n            notificationQueued = false;\r\n            if (shouldNotifyAtEndOfTick) {\r\n                shouldNotifyAtEndOfTick = false;\r\n                listeners.forEach(function (l) { return l(); });\r\n            }\r\n        };\r\n        return Object.assign({}, store, {\r\n            subscribe: function (listener2) {\r\n                var wrappedListener = function () { return notifying && listener2(); };\r\n                var unsubscribe = store.subscribe(wrappedListener);\r\n                listeners.add(listener2);\r\n                return function () {\r\n                    unsubscribe();\r\n                    listeners.delete(listener2);\r\n                };\r\n            },\r\n            dispatch: function (action) {\r\n                var _a;\r\n                try {\r\n                    notifying = !((_a = action == null ? void 0 : action.meta) == null ? void 0 : _a[SHOULD_AUTOBATCH]);\r\n                    shouldNotifyAtEndOfTick = !notifying;\r\n                    if (shouldNotifyAtEndOfTick) {\r\n                        if (!notificationQueued) {\r\n                            notificationQueued = true;\r\n                            queueCallback(notifyListeners);\r\n                        }\r\n                    }\r\n                    return store.dispatch(action);\r\n                }\r\n                finally {\r\n                    notifying = true;\r\n                }\r\n            }\r\n        });\r\n    }; };\r\n};\r\n// src/index.ts\r\nenableES5();\r\nexport { EnhancerArray, MiddlewareArray, SHOULD_AUTOBATCH, TaskAbortError, addListener, autoBatchEnhancer, clearAllListeners, configureStore, createAction, createAsyncThunk, createDraftSafeSelector, createEntityAdapter, createImmutableStateInvariantMiddleware, createListenerMiddleware, default2 as createNextState, createReducer, createSelector2 as createSelector, createSerializableStateInvariantMiddleware, createSlice, current2 as current, findNonSerializableValue, freeze, getDefaultMiddleware, getType, isAction, isAllOf, isAnyOf, isAsyncThunkAction, isDraft4 as isDraft, isFSA as isFluxStandardAction, isFulfilled, isImmutableDefault, isPending, isPlain, isPlainObject, isRejected, isRejectedWithValue, miniSerializeError, nanoid, original, prepareAutoBatched, removeListener, unwrapResult };\r\n//# sourceMappingURL=redux-toolkit.esm.js.map","export function isParticle(value: string) {\n  // copied from src/utils/config.ts , to prevent crash in worker, need refactor\n  // import { PATTERN_IPFS_HASH } from 'src/utils/config';\n  return Boolean(value.match(/^Qm[a-zA-Z0-9]{44}$/g));\n}\n","import {\n  createAsyncThunk,\n  createSelector,\n  createSlice,\n  PayloadAction,\n} from '@reduxjs/toolkit';\nimport { SenseApi } from 'src/contexts/backend/services/senseApi';\nimport {\n  SenseItemLinkMeta,\n  SenseListItem,\n  SenseListItemTransactionMeta,\n} from 'src/services/backend/types/sense';\nimport { EntryType } from 'src/services/CozoDb/types/entities';\nimport {\n  MsgMultiSendValue,\n  MsgSendValue,\n} from 'src/services/backend/services/indexer/types';\nimport { RootState } from 'src/redux/store';\n// Add this import for generating unique thread IDs\nimport { SenseItemId } from '../types/sense';\nimport { isParticle } from '../../particle/utils';\nimport { isWorker } from 'src/constants/config';\n\n// similar to blockchain/tx/message type\nexport type SenseItem = {\n  id: SenseItemId;\n  transactionHash: string;\n\n  // add normal type\n  type: string;\n\n  meta: SenseListItem['meta'];\n  timestamp: string;\n  memo: string | undefined;\n  from: string;\n\n  // for optimistic update\n  status?: 'pending' | 'error';\n  fromLog?: boolean;\n};\n\ntype Chat = {\n  id: SenseItemId;\n  isLoading: boolean;\n  error: string | undefined;\n  data: SenseItem[];\n  unreadCount: number;\n};\n\ntype SliceState = {\n  list: {\n    isLoading: boolean;\n    data: string[];\n    error: string | undefined;\n  };\n  chats: {\n    [key in SenseItemId]?: Chat;\n  };\n  summary: {\n    unreadCount: {\n      total: number;\n      particles: number;\n      neurons: number;\n    };\n  };\n  llm: {\n    // Change from messages array to threads array\n    threads: LLMThread[];\n    currentThreadId: string | null; // Keep track of the currently selected thread\n  };\n};\n\nconst initialState: SliceState = {\n  list: {\n    isLoading: false,\n    data: [],\n    error: undefined,\n  },\n  chats: {},\n  summary: {\n    unreadCount: {\n      total: 0,\n      particles: 0,\n      neurons: 0,\n    },\n  },\n  llm: {\n    // Change from messages array to threads array\n    threads: !isWorker()\n      ? (JSON.parse(localStorage.getItem('llmThreads') || '[]') as LLMThread[])\n      : [],\n    currentThreadId: null, // Keep track of the currently selected thread\n  },\n};\n\nfunction formatApiData(item: SenseListItem): SenseItem {\n  if (item.entryType === EntryType.chat && item.meta.to) {\n    item.entryType = EntryType.particle;\n  }\n\n  const { meta } = item;\n\n  const formatted: SenseItem = {\n    timestamp: new Date(meta.timestamp).toISOString(),\n\n    // lol\n    transactionHash:\n      item.transactionHash ||\n      item.hash ||\n      item.meta.transaction_hash ||\n      item.meta.hash ||\n      item.meta.transactionHash,\n\n    memo: item.memo || meta.memo,\n\n    senseChatId: item.id,\n    // not good\n    unreadCount: item.unreadCount || 0,\n  };\n\n  switch (item.entryType) {\n    case EntryType.chat:\n    case EntryType.transactions: {\n      const meta = item.meta as SenseListItemTransactionMeta;\n      const { type } = meta;\n\n      let from = item.ownerId;\n\n      if (type === 'cosmos.bank.v1beta1.MsgSend') {\n        const value = meta.value as MsgSendValue;\n        from = value.fromAddress;\n      } else if (type === 'cosmos.bank.v1beta1.MsgMultiSend') {\n        const value = meta.value as MsgMultiSendValue;\n\n        from = value.inputs[0].address;\n      }\n\n      Object.assign(formatted, {\n        type,\n        from,\n        meta: item.meta.value,\n      });\n\n      break;\n    }\n\n    case EntryType.particle: {\n      const meta = item.meta as SenseItemLinkMeta;\n\n      Object.assign(formatted, {\n        type: 'cyber.graph.v1beta1.MsgCyberlink',\n        from: meta.neuron,\n        meta,\n        fromLog: true,\n      });\n\n      break;\n    }\n\n    default:\n      // sholdn't be\n      debugger;\n      return {};\n  }\n\n  return formatted;\n}\n\nconst getSenseList = createAsyncThunk(\n  'sense/getSenseList',\n  async (senseApi: SenseApi) => {\n    const data = await senseApi!.getList();\n    return data.map(formatApiData);\n  }\n);\n\nconst getSenseChat = createAsyncThunk(\n  'sense/getSenseChat',\n  async ({ id, senseApi }: { id: SenseItemId; senseApi: SenseApi }) => {\n    const particle = isParticle(id);\n\n    if (particle) {\n      const links = await senseApi!.getLinks(id);\n      const formattedLinks = links.map((item) => {\n        if (item.timestamp === 0) {\n          // FIXME:\n          return;\n        }\n        return formatApiData({\n          ...item,\n          id,\n          entryType: EntryType.particle,\n          meta: item,\n        });\n      });\n\n      return formattedLinks.filter(Boolean);\n    }\n\n    const data = await senseApi!.getFriendItems(id);\n    const formattedData = data.map((item) => {\n      const entryType = item.to ? EntryType.particle : EntryType.chat;\n      return formatApiData({\n        ...item,\n        entryType,\n        id,\n        meta: item,\n      });\n    });\n\n    return formattedData;\n  }\n);\n\nconst markAsRead = createAsyncThunk(\n  'sense/markAsRead',\n  async ({ id, senseApi }: { id: SenseItemId; senseApi: SenseApi }) => {\n    return senseApi!.markAsRead(id);\n  }\n);\n\nconst newChatStructure: Chat = {\n  id: '',\n  isLoading: false,\n  data: [],\n  error: undefined,\n  unreadCount: 0,\n};\n\nfunction checkIfMessageExists(chat: Chat, newMessage: SenseItem) {\n  const lastMessages = chat.data.slice(-5);\n\n  const isMessageExists = lastMessages.some((msg) => {\n    return msg.transactionHash === newMessage.transactionHash;\n  });\n\n  return isMessageExists;\n}\n\n// Add LLM types\nexport interface LLMMessage {\n  text: string;\n  sender: 'user' | 'llm';\n  timestamp: number;\n}\n\nexport interface LLMThread {\n  id: string;\n  title?: string;\n  dateUpdated: number;\n  messages: LLMMessage[];\n}\n\nconst slice = createSlice({\n  name: 'sense',\n  initialState,\n  reducers: {\n    // backend may push this action\n    updateSenseList: {\n      reducer: (state, action: PayloadAction<SenseItem[]>) => {\n        const data = action.payload;\n\n        data.forEach((message) => {\n          const { senseChatId: id } = message;\n\n          if (!state.chats[id]) {\n            state.chats[id] = { ...newChatStructure };\n          }\n\n          const chat = state.chats[id]!;\n\n          Object.assign(chat, {\n            id,\n            // fix ts\n            unreadCount: message.unreadCount || 0,\n          });\n\n          if (!checkIfMessageExists(chat, message)) {\n            chat.data = chat.data.concat(message);\n          }\n        });\n\n        slice.caseReducers.orderSenseList(state);\n      },\n      prepare: (data: SenseListItem[]) => {\n        return {\n          payload: data.map(formatApiData),\n        };\n      },\n    },\n    // optimistic update\n    addSenseItem(\n      state,\n      action: PayloadAction<{ id: SenseItemId; item: SenseItem }>\n    ) {\n      const { id, item } = action.payload;\n      const chat = state.chats[id]!;\n\n      chat.data.push({\n        ...item,\n        meta: item.meta,\n        status: 'pending',\n      });\n\n      const newList = state.list.data.filter((item) => item !== id);\n      newList.unshift(id);\n      state.list.data = newList;\n    },\n    // optimistic confirm/error\n    updateSenseItem(\n      state,\n      action: PayloadAction<{\n        chatId: SenseItemId;\n        txHash: string;\n        isSuccess: boolean;\n      }>\n    ) {\n      const { chatId, txHash, isSuccess } = action.payload;\n      const chat = state.chats[chatId]!;\n\n      const item = chat.data.find((item) => item.transactionHash === txHash);\n\n      if (item) {\n        if (isSuccess) {\n          delete item.status;\n        } else {\n          item.status = 'error';\n        }\n      }\n    },\n    orderSenseList(state) {\n      const chatsLastMessage = Object.keys(state.chats).reduce<\n        {\n          id: string;\n          lastMsg: SenseItem;\n        }[]\n      >((acc, id) => {\n        const chat = state.chats[id]!;\n\n        // may be loading this moment, no data\n        if (!chat.data.length) {\n          return acc;\n        }\n\n        const lastMsg = chat.data[chat.data.length - 1];\n        acc.push({ id, lastMsg });\n\n        return acc;\n      }, []);\n\n      const sorted = chatsLastMessage.sort((a, b) => {\n        return (\n          Date.parse(b.lastMsg.timestamp) - Date.parse(a.lastMsg.timestamp)\n        );\n      });\n\n      state.list.data = sorted.map((i) => i.id);\n    },\n    reset() {\n      return initialState;\n    },\n    // LLM reducers\n    createLLMThread(\n      state,\n      action: PayloadAction<{ id: string; title?: string }>\n    ) {\n      const newThread: LLMThread = {\n        id: action.payload.id,\n        messages: [],\n        dateUpdated: Date.now(),\n        title:\n          action.payload.title ||\n          `Conversation ${state.llm.threads.length + 1}`,\n      };\n      state.llm.threads.push(newThread);\n      state.llm.currentThreadId = action.payload.id;\n      localStorage.setItem('llmThreads', JSON.stringify(state.llm.threads));\n    },\n\n    selectLLMThread(state, action: PayloadAction<{ id: string }>) {\n      state.llm.currentThreadId = action.payload.id;\n    },\n\n    addLLMMessageToThread(\n      state,\n      action: PayloadAction<{ threadId: string; message: LLMMessage }>\n    ) {\n      const thread = state.llm.threads.find(\n        (t) => t.id === action.payload.threadId\n      );\n      if (thread) {\n        thread.messages.push(action.payload.message);\n        thread.dateUpdated = action.payload.message.timestamp;\n        localStorage.setItem('llmThreads', JSON.stringify(state.llm.threads));\n      }\n    },\n\n    // Add action to replace the last message (for updating \"waiting...\" message)\n    replaceLastLLMMessageInThread(\n      state,\n      action: PayloadAction<{ threadId: string; message: LLMMessage }>\n    ) {\n      const thread = state.llm.threads.find(\n        (t) => t.id === action.payload.threadId\n      );\n      if (thread && thread.messages.length > 0) {\n        thread.messages[thread.messages.length - 1] = action.payload.message;\n        localStorage.setItem('llmThreads', JSON.stringify(state.llm.threads));\n      }\n    },\n\n    deleteLLMThread(state, action: PayloadAction<{ id: string }>) {\n      const newT = state.llm.threads.filter(\n        (thread) => thread.id !== action.payload.id\n      );\n\n      console.log('newT', newT);\n\n      state.llm.threads = newT;\n\n      if (state.llm.currentThreadId === action.payload.id) {\n        state.llm.currentThreadId = null;\n      }\n\n      // Object.assign(state.llm, {\n      //   threads: newT,\n      // });\n\n      localStorage.setItem('llmThreads', JSON.stringify(state.llm.threads));\n    },\n\n    clearLLMThreads(state) {\n      state.llm.threads = [];\n      state.llm.currentThreadId = null;\n      localStorage.removeItem('llmThreads');\n    },\n  },\n\n  extraReducers: (builder) => {\n    builder.addCase(getSenseList.pending, (state) => {\n      state.list.isLoading = true;\n    });\n\n    builder.addCase(getSenseList.fulfilled, (state, action) => {\n      state.list.isLoading = false;\n\n      const newList: SliceState['list']['data'] = [];\n\n      action.payload.forEach((message) => {\n        const { senseChatId: id } = message;\n\n        if (!state.chats[id]) {\n          state.chats[id] = { ...newChatStructure };\n        }\n\n        const chat = state.chats[id]!;\n\n        Object.assign(chat, {\n          id,\n          // fix\n          unreadCount: message.unreadCount || 0,\n        });\n\n        if (!checkIfMessageExists(chat, message)) {\n          chat.data = chat.data.concat(message);\n        }\n\n        newList.push(id);\n      });\n\n      state.list.data = newList;\n    });\n    builder.addCase(getSenseList.rejected, (state, action) => {\n      console.error(action);\n\n      state.list.isLoading = false;\n      state.list.error = action.error.message;\n    });\n\n    builder.addCase(getSenseChat.pending, (state, action) => {\n      const { id } = action.meta.arg;\n\n      if (!state.chats[id]) {\n        state.chats[id] = { ...newChatStructure };\n      }\n\n      // don't understand why ts warning\n      state.chats[id].isLoading = true;\n    });\n\n    builder.addCase(getSenseChat.fulfilled, (state, action) => {\n      const { id } = action.meta.arg;\n      const chat = state.chats[id]!;\n      chat.isLoading = false;\n\n      chat.id = id;\n\n      chat.data = action.payload;\n    });\n    builder.addCase(getSenseChat.rejected, (state, action) => {\n      console.error(action);\n\n      const chat = state.chats[action.meta.arg.id]!;\n      chat.isLoading = false;\n      chat.error = action.error.message;\n    });\n\n    // maybe add .pending, .rejected\n    // can be optimistic\n    builder.addCase(markAsRead.fulfilled, (state, action) => {\n      const { id } = action.meta.arg;\n      const chat = state.chats[id]!;\n\n      const particle = isParticle(id);\n\n      const { unreadCount } = chat;\n\n      state.summary.unreadCount.total -= unreadCount;\n      if (particle) {\n        state.summary.unreadCount.particles -= unreadCount;\n      } else {\n        state.summary.unreadCount.neurons -= unreadCount;\n      }\n\n      chat.unreadCount = 0;\n    });\n  },\n});\n\nconst selectUnreadCounts = createSelector(\n  (state: RootState) => state.sense.chats,\n  (chats) => {\n    let unreadCountParticle = 0;\n    let unreadCountNeuron = 0;\n\n    Object.values(chats).forEach(({ id, unreadCount }) => {\n      const particle = isParticle(id);\n\n      if (particle) {\n        unreadCountParticle += unreadCount;\n      } else {\n        unreadCountNeuron += unreadCount;\n      }\n    });\n\n    const total = unreadCountParticle + unreadCountNeuron;\n\n    return {\n      total,\n      particles: unreadCountParticle,\n      neurons: unreadCountNeuron,\n    };\n  }\n);\n\nexport const {\n  addSenseItem,\n  updateSenseItem,\n  updateSenseList,\n  reset,\n  createLLMThread,\n  deleteLLMThread,\n  selectLLMThread,\n  addLLMMessageToThread,\n  replaceLastLLMMessageInThread,\n  clearLLMThreads,\n} = slice.actions;\n\nexport { getSenseList, getSenseChat, markAsRead };\n\n// selectors\nexport { selectUnreadCounts };\n\nexport default slice.reducer;\n","export const localStorageKeys = {\n  pocket: {\n    POCKET: 'pocket',\n    POCKET_ACCOUNT: 'pocketAccount',\n  },\n  MENU_SHOW: 'menuShow',\n  settings: {\n    adviserAudio: 'adviserAudio',\n    adviserVoice: 'adviserVoice',\n  },\n};\n","import { Dispatch } from 'redux';\nimport { localStorageKeys } from 'src/constants/localStorageKeys';\n\nimport {\n  Account,\n  AccountValue,\n  Accounts,\n  DefaultAccount,\n} from 'src/types/defaultAccount';\nimport { PayloadAction, createSlice } from '@reduxjs/toolkit';\nimport { POCKET } from '../../utils/config';\nimport { RootState } from '../store';\n\ntype SliceState = {\n  actionBar: {\n    tweet: string;\n  };\n  defaultAccount: DefaultAccount;\n  accounts: null | Accounts;\n  isInitialized: boolean;\n};\n\nconst initialState: SliceState = {\n  actionBar: {\n    tweet: POCKET.STAGE_TWEET_ACTION_BAR.TWEET, // stage for tweet ActionBar: 'addAvatar' 'follow' 'tweet'\n  },\n  isInitialized: false,\n  defaultAccount: {\n    name: null,\n    account: null,\n  },\n  accounts: null,\n};\n\nconst checkAddress = (obj, network, address) =>\n  Object.keys(obj).some((k) => {\n    if (obj[k][network]) {\n      return obj[k][network].bech32 === address;\n    }\n  });\n\nfunction saveToLocalStorage(state: SliceState) {\n  const { defaultAccount, accounts } = state;\n\n  defaultAccount &&\n    localStorage.setItem(\n      localStorageKeys.pocket.POCKET,\n      JSON.stringify({\n        [defaultAccount.name]: defaultAccount.account,\n      })\n    );\n  accounts &&\n    localStorage.setItem(\n      localStorageKeys.pocket.POCKET_ACCOUNT,\n      JSON.stringify(accounts)\n    );\n}\n\nconst slice = createSlice({\n  name: 'pocket',\n  initialState,\n  reducers: {\n    setDefaultAccount: (\n      state,\n      {\n        payload: { name, account },\n      }: PayloadAction<{ name: string; account?: Account }>\n    ) => {\n      state.defaultAccount = {\n        name,\n        account: account || state.accounts?.[name] || null,\n      };\n\n      saveToLocalStorage(state);\n    },\n    setAccounts: (state, { payload }: PayloadAction<Accounts>) => {\n      state.accounts = payload;\n\n      saveToLocalStorage(state);\n    },\n    setInitialized: (state) => {\n      state.isInitialized = true;\n    },\n    setStageTweetActionBar: (state, { payload }: PayloadAction<string>) => {\n      state.actionBar.tweet = payload;\n    },\n\n    // bullshit\n    deleteAddress: (state, { payload }: PayloadAction<string>) => {\n      if (state.accounts) {\n        Object.keys(state.accounts).forEach((accountKey) => {\n          Object.keys(state.accounts[accountKey]).forEach((networkKey) => {\n            if (state.accounts[accountKey][networkKey].bech32 === payload) {\n              delete state.accounts[accountKey][networkKey];\n\n              if (Object.keys(state.accounts[accountKey]).length === 0) {\n                delete state.accounts[accountKey];\n              }\n\n              if (state.defaultAccount?.account?.cyber?.bech32 === payload) {\n                const entries = Object.entries(state.accounts);\n\n                const entryCyber = entries.find(\n                  ([, value]) => value.cyber?.bech32\n                );\n\n                if (entryCyber) {\n                  state.defaultAccount = {\n                    name: entryCyber[0],\n                    account: entryCyber[1],\n                  };\n                } else {\n                  state.defaultAccount = {\n                    name: null,\n                    account: null,\n                  };\n                }\n              }\n\n              saveToLocalStorage(state);\n            }\n          });\n        });\n      }\n    },\n  },\n});\n\nexport const selectCurrentAddress = (store: RootState) =>\n  store.pocket.defaultAccount.account?.cyber?.bech32;\n\nexport const {\n  setDefaultAccount,\n  setAccounts,\n  setStageTweetActionBar,\n  deleteAddress,\n} = slice.actions;\n\nexport default slice.reducer;\n\n// refactor this\nexport const initPocket = () => (dispatch: Dispatch) => {\n  let defaultAccounts = null;\n  let defaultAccountsKeys = null;\n  let accountsTemp: Accounts | null = null;\n\n  const localStoragePocketAccount = localStorage.getItem(\n    localStorageKeys.pocket.POCKET_ACCOUNT\n  );\n  const localStoragePocket = localStorage.getItem(\n    localStorageKeys.pocket.POCKET\n  );\n  if (localStoragePocket !== null) {\n    const localStoragePocketData = JSON.parse(localStoragePocket);\n    const keyPocket = Object.keys(localStoragePocketData)[0];\n    const accountPocket = Object.values(localStoragePocketData)[0];\n    defaultAccounts = accountPocket;\n    defaultAccountsKeys = keyPocket;\n  }\n  if (localStoragePocketAccount !== null) {\n    const localStoragePocketAccountData = JSON.parse(localStoragePocketAccount);\n    if (localStoragePocket === null) {\n      const keys0 = Object.keys(localStoragePocketAccountData)[0];\n      localStorage.setItem(\n        localStorageKeys.pocket.POCKET,\n        JSON.stringify({ [keys0]: localStoragePocketAccountData[keys0] })\n      );\n      defaultAccounts = localStoragePocketAccountData[keys0];\n      defaultAccountsKeys = keys0;\n    } else if (defaultAccountsKeys !== null) {\n      accountsTemp = {\n        [defaultAccountsKeys]:\n          localStoragePocketAccountData[defaultAccountsKeys] || undefined,\n        ...localStoragePocketAccountData,\n      };\n    }\n  } else {\n    localStorage.removeItem(localStorageKeys.pocket.POCKET);\n    localStorage.removeItem(localStorageKeys.pocket.POCKET_ACCOUNT);\n  }\n\n  defaultAccountsKeys &&\n    defaultAccounts &&\n    dispatch(\n      setDefaultAccount({\n        name: defaultAccountsKeys,\n        account: defaultAccounts,\n      })\n    );\n\n  accountsTemp &&\n    Object.keys(accountsTemp).forEach((key) => {\n      if (!accountsTemp[key] || Object.keys(accountsTemp[key]).length === 0) {\n        delete accountsTemp[key];\n      }\n    });\n\n  accountsTemp && dispatch(setAccounts(accountsTemp));\n\n  dispatch(slice.actions.setInitialized());\n};\n\nconst defaultNameAccount = () => {\n  let key = 'Account 1';\n  let count = 1;\n\n  const localStorageCount = localStorage.getItem('count');\n\n  if (localStorageCount !== null) {\n    const dataCount = JSON.parse(localStorageCount);\n    count = parseFloat(dataCount);\n    key = `Account ${count}`;\n  }\n\n  localStorage.setItem('count', JSON.stringify(count + 1));\n\n  return key;\n};\n\nexport const addAddressPocket =\n  (accounts: AccountValue) => (dispatch: Dispatch) => {\n    const key = accounts.name || defaultNameAccount();\n\n    let dataPocketAccount = null;\n    let valueObj = {};\n    let pocketAccount: Accounts = {};\n\n    const localStorageStory = localStorage.getItem(\n      localStorageKeys.pocket.POCKET_ACCOUNT\n    );\n\n    if (localStorageStory !== null) {\n      dataPocketAccount = JSON.parse(localStorageStory);\n      valueObj = Object.values(dataPocketAccount);\n    }\n\n    const isAdded = !checkAddress(valueObj, 'cyber', accounts.bech32);\n\n    if (!isAdded) {\n      return;\n    }\n\n    const cyberAccounts: Account = {\n      cyber: accounts,\n    };\n\n    if (localStorageStory !== null) {\n      pocketAccount = { [key]: cyberAccounts, ...dataPocketAccount };\n    } else {\n      pocketAccount = { [key]: cyberAccounts };\n    }\n\n    if (Object.keys(pocketAccount).length > 0) {\n      dispatch(setAccounts(pocketAccount));\n      if (accounts.keys !== 'read-only') {\n        dispatch(setDefaultAccount({ name: key, account: cyberAccounts }));\n      }\n    }\n  };\n","const LEDGER = {\n  STAGE_INIT: 0,\n  STAGE_SELECTION: 1,\n  STAGE_LEDGER_INIT: 2,\n  STAGE_READY: 3,\n  STAGE_WAIT: 4,\n  STAGE_GENERATED: 5,\n  STAGE_SUBMITTED: 6,\n  STAGE_CONFIRMING: 7,\n  STAGE_CONFIRMED: 8,\n  STAGE_ERROR: 15,\n  HDPATH: [44, 118, 0, 0, 0],\n};\n\nconst GENESIS_SUPPLY = 1000000000000000;\nconst TOTAL_GOL_GENESIS_SUPPLY = 50000000000000;\n\nconst POCKET = {\n  STAGE_TWEET_ACTION_BAR: {\n    ADD_AVATAR: 'addAvatar',\n    FOLLOW: 'follow',\n    TWEET: 'tweet',\n  },\n};\n\nexport { LEDGER, GENESIS_SUPPLY, TOTAL_GOL_GENESIS_SUPPLY, POCKET };\n","import { updateSenseList } from 'src/features/sense/redux/sense.redux';\nimport { setDefaultAccount } from 'src/redux/features/pocket';\nimport { Account } from 'src/types/defaultAccount';\nimport { SenseListItem } from '../types/sense';\nimport {\n  BroadcastChannelMessage,\n  ServiceName,\n  ServiceStatus,\n  SyncEntryName,\n  SyncProgress,\n} from '../types/services';\nimport { CYB_BROADCAST_CHANNEL } from './consts';\n\nclass BroadcastChannelSender {\n  private channel: BroadcastChannel;\n\n  constructor() {\n    this.channel = new BroadcastChannel(CYB_BROADCAST_CHANNEL);\n  }\n\n  public postServiceStatus(\n    name: ServiceName,\n    status: ServiceStatus,\n    message?: string\n  ) {\n    this.channel.postMessage({\n      type: 'service_status',\n      value: { name, status, message },\n    });\n  }\n\n  public postSyncEntryProgress(entry: SyncEntryName, state: SyncProgress) {\n    // console.log('postSyncEntryProgress', entry, state);\n    this.channel.postMessage({ type: 'sync_entry', value: { entry, state } });\n  }\n\n  public postMlSyncEntryProgress(entry: string, state: SyncProgress) {\n    // console.log('postMlSyncEntryProgress', entry, state);\n    this.channel.postMessage({\n      type: 'sync_ml_entry',\n      value: { entry, state },\n    });\n  }\n\n  public postSenseUpdate(senseList: SenseListItem[]) {\n    // console.log('postSenseUpdate', senseList);\n    if (senseList.length > 0) {\n      this.channel.postMessage(updateSenseList(senseList));\n    }\n  }\n\n  public postSetDefaultAccount(name: string, account?: Account) {\n    this.channel.postMessage(\n      setDefaultAccount({\n        name,\n        account,\n      })\n    );\n  }\n\n  post(msg: BroadcastChannelMessage) {\n    this.channel.postMessage(msg);\n  }\n}\n\nexport default BroadcastChannelSender;\n","export const CYB_BROADCAST_CHANNEL = 'cyb-broadcast-channel';\nexport const CYB_QUEUE_CHANNEL = 'cyb-queue-channel';\n","import cozoDb from 'src/services/CozoDb/cozoDb';\nimport { DbEntity } from 'src/services/CozoDb/types/entities';\nimport { GetCommandOptions } from 'src/services/CozoDb/types/types';\n\nimport { exposeWorkerApi } from '../factoryMethods';\nimport BroadcastChannelSender from '../../channels/BroadcastChannelSender';\nimport { ServiceStatus } from '../../types/services';\nimport migrate from 'src/services/CozoDb/migrations/migrations';\n\nconst createDbWorkerApi = () => {\n  let isInitialized = false;\n  const channel = new BroadcastChannelSender();\n\n  const postServiceStatus = (status: ServiceStatus) =>\n    channel.postServiceStatus('db', status);\n\n  const init = async () => {\n    postServiceStatus('starting');\n\n    if (isInitialized) {\n      console.log('cozo db - already initialized!');\n      postServiceStatus('started');\n      return Promise.resolve();\n    }\n\n    // callback to sync writes count worker -> main thread\n    const onWriteCallback = (writesCount: number) => {};\n    // channel.post({ type: 'indexeddb_write', value: writesCount });\n    console.time(' cozo db initialized');\n\n    await cozoDb.init(onWriteCallback);\n    const reinitializeDbSchema = await migrate(cozoDb);\n    if (reinitializeDbSchema) {\n      await cozoDb.loadDbSchema();\n    }\n    console.timeEnd(' cozo db initialized');\n\n    isInitialized = true;\n\n    setTimeout(() => {\n      postServiceStatus('started');\n    }, 0);\n    return Promise.resolve();\n  };\n\n  const runCommand = async (command: string, immutable?: boolean) =>\n    cozoDb.runCommand(command, immutable);\n\n  const executePutCommand = async (\n    tableName: string,\n    array: Partial<DbEntity>[]\n  ) => cozoDb.put(tableName, array);\n\n  const executeRmCommand = async (\n    tableName: string,\n    keyValues: Partial<DbEntity>[]\n  ) => cozoDb.rm(tableName, keyValues);\n\n  const executeUpdateCommand = async (\n    tableName: string,\n    array: Partial<DbEntity>[]\n  ) => cozoDb.update(tableName, array);\n\n  const executeGetCommand = async (\n    tableName: string,\n    selectFields?: string[],\n    conditions?: string[],\n    conditionFields?: string[],\n    options: GetCommandOptions = {}\n  ) =>\n    cozoDb.get(tableName, selectFields, conditions, conditionFields, options);\n\n  const importRelations = async (content: string) =>\n    cozoDb.importRelations(content);\n\n  const exportRelations = async (relations: string[]) =>\n    cozoDb.exportRelations(relations);\n\n  const executeBatchPutCommand = async (\n    tableName: string,\n    array: Partial<DbEntity>[],\n    batchSize: number = array.length,\n    onProgress?: (count: number) => void\n  ) => {\n    const { getCommandFactory, runCommand } = cozoDb;\n\n    const commandFactory = getCommandFactory();\n    const putCommand = commandFactory!.generateModifyCommand(tableName, 'put');\n    for (let i = 0; i < array.length; i += batchSize) {\n      const batch = array.slice(i, i + batchSize);\n\n      const atomCommand = commandFactory!.generateAtomCommand(tableName, batch);\n\n      // eslint-disable-next-line no-await-in-loop\n      await runCommand([atomCommand, putCommand].join('\\r\\n'));\n\n      onProgress && onProgress(i + batch.length);\n    }\n    return { ok: true };\n  };\n\n  return {\n    isInitialized: async () => isInitialized,\n    init,\n    runCommand,\n    executeRmCommand,\n    executePutCommand,\n    executeBatchPutCommand,\n    executeUpdateCommand,\n    executeGetCommand,\n    importRelations,\n    exportRelations,\n  };\n};\nconst cozoDbWorker = createDbWorkerApi();\n\nexport type CozoDbWorker = typeof cozoDbWorker;\n\n// Expose the API to the main thread as shared/regular worker\nexposeWorkerApi(self, cozoDbWorker);\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","'use strict'\n\nconst protons = require('protons')\nconst pb = protons(require('./unixfs.proto'))\n// encode/decode\nconst unixfsData = pb.Data\n// const unixfsMetadata = pb.MetaData // encode/decode\n\nconst types = [\n  'raw',\n  'directory',\n  'file',\n  'metadata',\n  'symlink',\n  'hamt-sharded-directory'\n]\n\nconst dirTypes = [\n  'directory',\n  'hamt-sharded-directory'\n]\n\nfunction Data (type, data) {\n  if (!(this instanceof Data)) {\n    return new Data(type, data)\n  }\n  if (types.indexOf(type) === -1) {\n    throw new Error('Type: ' + type + ' is not valid')\n  }\n\n  this.type = type\n  this.data = data\n  this.blockSizes = []\n\n  if (this.type === 'file') {\n    this.mode = parseInt('0644', 8)\n  }\n\n  if (this.type === 'directory' || this.type === 'hamt-sharded-directory') {\n    this.mode = parseInt('0755', 8)\n  }\n\n  this.addBlockSize = (size) => {\n    this.blockSizes.push(size)\n  }\n\n  this.removeBlockSize = (index) => {\n    this.blockSizes.splice(index, 1)\n  }\n\n  // data.length + blockSizes\n  this.fileSize = () => {\n    if (dirTypes.indexOf(this.type) >= 0) {\n      // dirs don't have file size\n      return undefined\n    }\n\n    let sum = 0\n    this.blockSizes.forEach((size) => {\n      sum += size\n    })\n    if (data) {\n      sum += data.length\n    }\n    return sum\n  }\n\n  // encode to protobuf\n  this.marshal = () => {\n    let type\n\n    switch (this.type) {\n      case 'raw': type = unixfsData.DataType.Raw; break\n      case 'directory': type = unixfsData.DataType.Directory; break\n      case 'file': type = unixfsData.DataType.File; break\n      case 'metadata': type = unixfsData.DataType.Metadata; break\n      case 'symlink': type = unixfsData.DataType.Symlink; break\n      case 'hamt-sharded-directory': type = unixfsData.DataType.HAMTShard; break\n      default:\n        throw new Error(`Unkown type: \"${this.type}\"`)\n    }\n\n    let data = this.data\n\n    if (!this.data || !this.data.length) {\n      data = undefined\n    }\n\n    let blockSizes = this.blockSizes\n\n    if (!this.blockSizes || !this.blockSizes.length) {\n      blockSizes = undefined\n    }\n\n    if ((this.type === 'directory' || this.type === 'hamt-sharded-directory') && this.mode === parseInt('0755', 8)) {\n      delete this.mode\n    }\n\n    if (this.type === 'file' && this.mode === parseInt('0644', 8)) {\n      delete this.mode\n    }\n\n    return unixfsData.encode({\n      Type: type,\n      Data: data,\n      filesize: this.fileSize(),\n      blocksizes: blockSizes,\n      hashType: this.hashType,\n      fanout: this.fanout,\n      mode: this.mode,\n      mtime: this.mtime\n    })\n  }\n}\n\n// decode from protobuf https://github.com/ipfs/go-ipfs/blob/master/unixfs/format.go#L24\nData.unmarshal = (marsheled) => {\n  const decoded = unixfsData.decode(marsheled)\n  if (!decoded.Data) {\n    decoded.Data = undefined\n  }\n  const obj = new Data(types[decoded.Type], decoded.Data)\n  obj.blockSizes = decoded.blocksizes\n\n  if (decoded.mode) {\n    obj.mode = decoded.mode\n  }\n\n  if (decoded.mtime) {\n    obj.mtime = decoded.mtime\n  }\n\n  return obj\n}\n\nexports = module.exports = Data\n","'use strict'\n\nconst dagNodeUtil = require('./util')\nconst cloneLinks = dagNodeUtil.cloneLinks\nconst cloneData = dagNodeUtil.cloneData\nconst toDAGLink = dagNodeUtil.toDAGLink\nconst DAGLink = require('../dag-link')\nconst DAGNode = require('./index')\nconst create = require('./create')\n\nfunction asDAGLink (link, callback) {\n  if (DAGLink.isDAGLink(link)) {\n    // It's a DAGLink instance\n    // no need to do anything\n\n    return callback(null, link)\n  }\n\n  if (DAGNode.isDAGNode(link)) {\n    // It's a DAGNode instance\n    // convert to link\n    return toDAGLink(link, {}, callback)\n  }\n\n  // It's a Object with name, multihash/hash/cid and size\n  try {\n    callback(null, new DAGLink(link.name, link.size, link.multihash || link.hash || link.cid))\n  } catch (err) {\n    return callback(err)\n  }\n}\n\nfunction addLink (node, link, callback) {\n  const links = cloneLinks(node)\n  const data = cloneData(node)\n\n  asDAGLink(link, (error, link) => {\n    if (error) {\n      return callback(error)\n    }\n\n    links.push(link)\n    create(data, links, callback)\n  })\n}\n\nmodule.exports = addLink\n","'use strict'\n\nconst dagNodeUtil = require('./util')\nconst cloneLinks = dagNodeUtil.cloneLinks\nconst cloneData = dagNodeUtil.cloneData\nconst create = require('./create')\n\nfunction clone (dagNode, callback) {\n  const data = cloneData(dagNode)\n  const links = cloneLinks(dagNode)\n  create(data, links, callback)\n}\n\nmodule.exports = clone\n","'use strict'\n\nconst sort = require('stable')\nconst {\n  serialize\n} = require('../util.js')\nconst dagNodeUtil = require('./util.js')\nconst linkSort = dagNodeUtil.linkSort\nconst DAGNode = require('./index.js')\nconst DAGLink = require('../dag-link')\n\nfunction create (data, links, callback) {\n  if (typeof data === 'function') {\n    callback = data\n    data = undefined\n  } else if (typeof data === 'string') {\n    data = Buffer.from(data)\n  }\n  if (typeof links === 'function') {\n    callback = links\n    links = []\n  }\n\n  if (!Buffer.isBuffer(data)) {\n    return callback(new Error('Passed \\'data\\' is not a buffer or a string!'))\n  }\n\n  links = links.map((link) => {\n    return DAGLink.isDAGLink(link) ? link : DAGLink.util.createDagLinkFromB58EncodedHash(link)\n  })\n  links = sort(links, linkSort)\n\n  serialize({\n    data, links\n  }, (err, buffer) => {\n    if (err) {\n      return callback(err)\n    }\n\n    return callback(null, new DAGNode(data, links, buffer.length))\n  })\n}\n\nmodule.exports = create\n","'use strict'\n\nconst assert = require('assert')\nconst withIs = require('class-is')\n\nclass DAGNode {\n  constructor (data, links, serializedSize) {\n    if (serializedSize !== 0) {\n      assert(serializedSize, 'A DAGNode requires it\\'s serialized size')\n    }\n\n    this._data = data || Buffer.alloc(0)\n    this._links = links || []\n    this._serializedSize = serializedSize\n  }\n\n  toJSON () {\n    if (!this._json) {\n      this._json = Object.freeze({\n        data: this.data,\n        links: this.links.map((l) => l.toJSON()),\n        size: this.size\n      })\n    }\n\n    return Object.assign({}, this._json)\n  }\n\n  toString () {\n    return `DAGNode <data: \"${this.data.toString('base64')}\", links: ${this.links.length}, size: ${this.size}>`\n  }\n\n  get data () {\n    return this._data\n  }\n\n  set data (data) {\n    throw new Error(\"Can't set property: 'data' is immutable\")\n  }\n\n  get links () {\n    return this._links\n  }\n\n  set links (links) {\n    throw new Error(\"Can't set property: 'links' is immutable\")\n  }\n\n  get size () {\n    if (this._size === undefined) {\n      this._size = this.links.reduce((sum, l) => sum + l.size, this._serializedSize)\n    }\n\n    return this._size\n  }\n\n  set size (size) {\n    throw new Error(\"Can't set property: 'size' is immutable\")\n  }\n}\n\nexports = module.exports = withIs(DAGNode, { className: 'DAGNode', symbolName: '@ipld/js-ipld-dag-pb/dagnode' })\nexports.create = require('./create')\nexports.clone = require('./clone')\nexports.addLink = require('./addLink')\nexports.rmLink = require('./rmLink')\n","'use strict'\n\nconst dagNodeUtil = require('./util')\nconst cloneLinks = dagNodeUtil.cloneLinks\nconst cloneData = dagNodeUtil.cloneData\nconst create = require('./create')\nconst CID = require('cids')\n\nfunction rmLink (dagNode, nameOrCid, callback) {\n  const data = cloneData(dagNode)\n  let links = cloneLinks(dagNode)\n\n  if (typeof nameOrCid === 'string') {\n    links = links.filter((link) => link.name !== nameOrCid)\n  } else if (Buffer.isBuffer(nameOrCid) || CID.isCID(nameOrCid)) {\n    links = links.filter((link) => !link.cid.equals(nameOrCid))\n  } else {\n    return callback(new Error('second arg needs to be a name or CID'), null)\n  }\n\n  create(data, links, callback)\n}\n\nmodule.exports = rmLink\n","'use strict'\n\nexports.DAGNode = require('./dag-node')\nexports.DAGLink = require('./dag-link')\n\n/*\n * Functions to fulfil IPLD Format interface\n * https://github.com/ipld/interface-ipld-format\n */\nexports.resolver = require('./resolver')\nexports.util = require('./util')\n","'use strict'\n\nconst CID = require('cids')\nconst protons = require('protons')\nconst proto = protons(require('./dag.proto.js'))\nconst resolver = require('./resolver')\nconst DAGLink = require('./dag-link')\nconst DAGNode = require('./dag-node')\nconst multihashing = require('multihashing-async')\nconst waterfall = require('async/waterfall')\nconst setImmediate = require('async/setImmediate')\n\nexports = module.exports\n\n/**\n * @callback CidCallback\n * @param {?Error} error - Error if getting the CID failed\n * @param {?CID} cid - CID if call was successful\n */\n/**\n * Get the CID of the DAG-Node.\n *\n * @param {Object} dagNode - Internal representation\n * @param {Object} [options] - Options to create the CID\n * @param {number} [options.version] - CID version number. Defaults to zero if hashAlg == 'sha2-256'; otherwise, 1.\n * @param {string} [options.hashAlg] - Defaults to hashAlg for the resolver\n * @param {CidCallback} callback - Callback that handles the return value\n * @returns {void}\n */\nfunction cid (dagNode, options, callback) {\n  if (typeof options === 'function') {\n    callback = options\n    options = {}\n  }\n  options = options || {}\n  const hashAlg = options.hashAlg || resolver.defaultHashAlg\n  let version = options.version\n  if (typeof version === 'undefined') {\n    version = hashAlg === 'sha2-256' ? 0 : 1\n  }\n  waterfall([\n    (cb) => {\n      if (Buffer.isBuffer(dagNode)) {\n        return cb(null, dagNode)\n      }\n\n      serialize(dagNode, cb)\n    },\n    (serialized, cb) => multihashing(serialized, hashAlg, cb),\n    (mh, cb) => cb(null, new CID(version, resolver.multicodec, mh))\n  ], callback)\n}\n\nfunction serialize (node, callback) {\n  let serialized\n  let {\n    data,\n    links = []\n  } = node\n\n  // If the node is not an instance of a DAGNode, the link.hash might be a Base58 encoded string; decode it\n  if (!DAGNode.isDAGNode(node) && links) {\n    links = links.map((link) => {\n      return DAGLink.isDAGLink(link) ? link : DAGLink.util.createDagLinkFromB58EncodedHash(link)\n    })\n  }\n\n  try {\n    serialized = proto.PBNode.encode(toProtoBuf({\n      data, links\n    }))\n  } catch (err) {\n    return callback(err)\n  }\n\n  callback(null, serialized)\n}\n\nfunction deserialize (buffer, callback) {\n  const pbn = proto.PBNode.decode(buffer)\n\n  const links = pbn.Links.map((link) => {\n    return new DAGLink(link.Name, link.Tsize, link.Hash)\n  })\n\n  const data = pbn.Data == null ? Buffer.alloc(0) : pbn.Data\n\n  setImmediate(() => callback(null, new DAGNode(data, links, buffer.length)))\n}\n\nfunction toProtoBuf (node) {\n  const pbn = {}\n\n  if (node.data && node.data.length > 0) {\n    pbn.Data = node.data\n  } else {\n    // NOTE: this has to be null in order to match go-ipfs serialization `null !== new Buffer(0)`\n    pbn.Data = null\n  }\n\n  if (node.links && node.links.length > 0) {\n    pbn.Links = node.links\n      .map((link) => ({\n        Hash: link.cid.buffer,\n        Name: link.name,\n        Tsize: link.size\n      }))\n  } else {\n    pbn.Links = null\n  }\n\n  return pbn\n}\n\nexports.serialize = serialize\nexports.deserialize = deserialize\nexports.cid = cid\n","import { __read, __spreadArray, __values } from \"tslib\";\nimport { isFunction } from './util/isFunction';\nimport { UnsubscriptionError } from './util/UnsubscriptionError';\nimport { arrRemove } from './util/arrRemove';\nvar Subscription = (function () {\n    function Subscription(initialTeardown) {\n        this.initialTeardown = initialTeardown;\n        this.closed = false;\n        this._parentage = null;\n        this._finalizers = null;\n    }\n    Subscription.prototype.unsubscribe = function () {\n        var e_1, _a, e_2, _b;\n        var errors;\n        if (!this.closed) {\n            this.closed = true;\n            var _parentage = this._parentage;\n            if (_parentage) {\n                this._parentage = null;\n                if (Array.isArray(_parentage)) {\n                    try {\n                        for (var _parentage_1 = __values(_parentage), _parentage_1_1 = _parentage_1.next(); !_parentage_1_1.done; _parentage_1_1 = _parentage_1.next()) {\n                            var parent_1 = _parentage_1_1.value;\n                            parent_1.remove(this);\n                        }\n                    }\n                    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                    finally {\n                        try {\n                            if (_parentage_1_1 && !_parentage_1_1.done && (_a = _parentage_1.return)) _a.call(_parentage_1);\n                        }\n                        finally { if (e_1) throw e_1.error; }\n                    }\n                }\n                else {\n                    _parentage.remove(this);\n                }\n            }\n            var initialFinalizer = this.initialTeardown;\n            if (isFunction(initialFinalizer)) {\n                try {\n                    initialFinalizer();\n                }\n                catch (e) {\n                    errors = e instanceof UnsubscriptionError ? e.errors : [e];\n                }\n            }\n            var _finalizers = this._finalizers;\n            if (_finalizers) {\n                this._finalizers = null;\n                try {\n                    for (var _finalizers_1 = __values(_finalizers), _finalizers_1_1 = _finalizers_1.next(); !_finalizers_1_1.done; _finalizers_1_1 = _finalizers_1.next()) {\n                        var finalizer = _finalizers_1_1.value;\n                        try {\n                            execFinalizer(finalizer);\n                        }\n                        catch (err) {\n                            errors = errors !== null && errors !== void 0 ? errors : [];\n                            if (err instanceof UnsubscriptionError) {\n                                errors = __spreadArray(__spreadArray([], __read(errors)), __read(err.errors));\n                            }\n                            else {\n                                errors.push(err);\n                            }\n                        }\n                    }\n                }\n                catch (e_2_1) { e_2 = { error: e_2_1 }; }\n                finally {\n                    try {\n                        if (_finalizers_1_1 && !_finalizers_1_1.done && (_b = _finalizers_1.return)) _b.call(_finalizers_1);\n                    }\n                    finally { if (e_2) throw e_2.error; }\n                }\n            }\n            if (errors) {\n                throw new UnsubscriptionError(errors);\n            }\n        }\n    };\n    Subscription.prototype.add = function (teardown) {\n        var _a;\n        if (teardown && teardown !== this) {\n            if (this.closed) {\n                execFinalizer(teardown);\n            }\n            else {\n                if (teardown instanceof Subscription) {\n                    if (teardown.closed || teardown._hasParent(this)) {\n                        return;\n                    }\n                    teardown._addParent(this);\n                }\n                (this._finalizers = (_a = this._finalizers) !== null && _a !== void 0 ? _a : []).push(teardown);\n            }\n        }\n    };\n    Subscription.prototype._hasParent = function (parent) {\n        var _parentage = this._parentage;\n        return _parentage === parent || (Array.isArray(_parentage) && _parentage.includes(parent));\n    };\n    Subscription.prototype._addParent = function (parent) {\n        var _parentage = this._parentage;\n        this._parentage = Array.isArray(_parentage) ? (_parentage.push(parent), _parentage) : _parentage ? [_parentage, parent] : parent;\n    };\n    Subscription.prototype._removeParent = function (parent) {\n        var _parentage = this._parentage;\n        if (_parentage === parent) {\n            this._parentage = null;\n        }\n        else if (Array.isArray(_parentage)) {\n            arrRemove(_parentage, parent);\n        }\n    };\n    Subscription.prototype.remove = function (teardown) {\n        var _finalizers = this._finalizers;\n        _finalizers && arrRemove(_finalizers, teardown);\n        if (teardown instanceof Subscription) {\n            teardown._removeParent(this);\n        }\n    };\n    Subscription.EMPTY = (function () {\n        var empty = new Subscription();\n        empty.closed = true;\n        return empty;\n    })();\n    return Subscription;\n}());\nexport { Subscription };\nexport var EMPTY_SUBSCRIPTION = Subscription.EMPTY;\nexport function isSubscription(value) {\n    return (value instanceof Subscription ||\n        (value && 'closed' in value && isFunction(value.remove) && isFunction(value.add) && isFunction(value.unsubscribe)));\n}\nfunction execFinalizer(finalizer) {\n    if (isFunction(finalizer)) {\n        finalizer();\n    }\n    else {\n        finalizer.unsubscribe();\n    }\n}\n//# sourceMappingURL=Subscription.js.map","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\n/*</replacement>*/\n\nvar isEncoding = Buffer.isEncoding || function (encoding) {\n  encoding = '' + encoding;\n  switch (encoding && encoding.toLowerCase()) {\n    case 'hex':case 'utf8':case 'utf-8':case 'ascii':case 'binary':case 'base64':case 'ucs2':case 'ucs-2':case 'utf16le':case 'utf-16le':case 'raw':\n      return true;\n    default:\n      return false;\n  }\n};\n\nfunction _normalizeEncoding(enc) {\n  if (!enc) return 'utf8';\n  var retried;\n  while (true) {\n    switch (enc) {\n      case 'utf8':\n      case 'utf-8':\n        return 'utf8';\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return 'utf16le';\n      case 'latin1':\n      case 'binary':\n        return 'latin1';\n      case 'base64':\n      case 'ascii':\n      case 'hex':\n        return enc;\n      default:\n        if (retried) return; // undefined\n        enc = ('' + enc).toLowerCase();\n        retried = true;\n    }\n  }\n};\n\n// Do not cache `Buffer.isEncoding` when checking encoding names as some\n// modules monkey-patch it to support additional encodings\nfunction normalizeEncoding(enc) {\n  var nenc = _normalizeEncoding(enc);\n  if (typeof nenc !== 'string' && (Buffer.isEncoding === isEncoding || !isEncoding(enc))) throw new Error('Unknown encoding: ' + enc);\n  return nenc || enc;\n}\n\n// StringDecoder provides an interface for efficiently splitting a series of\n// buffers into a series of JS strings without breaking apart multi-byte\n// characters.\nexports.StringDecoder = StringDecoder;\nfunction StringDecoder(encoding) {\n  this.encoding = normalizeEncoding(encoding);\n  var nb;\n  switch (this.encoding) {\n    case 'utf16le':\n      this.text = utf16Text;\n      this.end = utf16End;\n      nb = 4;\n      break;\n    case 'utf8':\n      this.fillLast = utf8FillLast;\n      nb = 4;\n      break;\n    case 'base64':\n      this.text = base64Text;\n      this.end = base64End;\n      nb = 3;\n      break;\n    default:\n      this.write = simpleWrite;\n      this.end = simpleEnd;\n      return;\n  }\n  this.lastNeed = 0;\n  this.lastTotal = 0;\n  this.lastChar = Buffer.allocUnsafe(nb);\n}\n\nStringDecoder.prototype.write = function (buf) {\n  if (buf.length === 0) return '';\n  var r;\n  var i;\n  if (this.lastNeed) {\n    r = this.fillLast(buf);\n    if (r === undefined) return '';\n    i = this.lastNeed;\n    this.lastNeed = 0;\n  } else {\n    i = 0;\n  }\n  if (i < buf.length) return r ? r + this.text(buf, i) : this.text(buf, i);\n  return r || '';\n};\n\nStringDecoder.prototype.end = utf8End;\n\n// Returns only complete characters in a Buffer\nStringDecoder.prototype.text = utf8Text;\n\n// Attempts to complete a partial non-UTF-8 character using bytes from a Buffer\nStringDecoder.prototype.fillLast = function (buf) {\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, buf.length);\n  this.lastNeed -= buf.length;\n};\n\n// Checks the type of a UTF-8 byte, whether it's ASCII, a leading byte, or a\n// continuation byte. If an invalid byte is detected, -2 is returned.\nfunction utf8CheckByte(byte) {\n  if (byte <= 0x7F) return 0;else if (byte >> 5 === 0x06) return 2;else if (byte >> 4 === 0x0E) return 3;else if (byte >> 3 === 0x1E) return 4;\n  return byte >> 6 === 0x02 ? -1 : -2;\n}\n\n// Checks at most 3 bytes at the end of a Buffer in order to detect an\n// incomplete multi-byte UTF-8 character. The total number of bytes (2, 3, or 4)\n// needed to complete the UTF-8 character (if applicable) are returned.\nfunction utf8CheckIncomplete(self, buf, i) {\n  var j = buf.length - 1;\n  if (j < i) return 0;\n  var nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 1;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 2;\n    return nb;\n  }\n  if (--j < i || nb === -2) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) {\n      if (nb === 2) nb = 0;else self.lastNeed = nb - 3;\n    }\n    return nb;\n  }\n  return 0;\n}\n\n// Validates as many continuation bytes for a multi-byte UTF-8 character as\n// needed or are available. If we see a non-continuation byte where we expect\n// one, we \"replace\" the validated continuation bytes we've seen so far with\n// a single UTF-8 replacement character ('\\ufffd'), to match v8's UTF-8 decoding\n// behavior. The continuation byte check is included three times in the case\n// where all of the continuation bytes for a character exist in the same buffer.\n// It is also done this way as a slight performance increase instead of using a\n// loop.\nfunction utf8CheckExtraBytes(self, buf, p) {\n  if ((buf[0] & 0xC0) !== 0x80) {\n    self.lastNeed = 0;\n    return '\\ufffd';\n  }\n  if (self.lastNeed > 1 && buf.length > 1) {\n    if ((buf[1] & 0xC0) !== 0x80) {\n      self.lastNeed = 1;\n      return '\\ufffd';\n    }\n    if (self.lastNeed > 2 && buf.length > 2) {\n      if ((buf[2] & 0xC0) !== 0x80) {\n        self.lastNeed = 2;\n        return '\\ufffd';\n      }\n    }\n  }\n}\n\n// Attempts to complete a multi-byte UTF-8 character using bytes from a Buffer.\nfunction utf8FillLast(buf) {\n  var p = this.lastTotal - this.lastNeed;\n  var r = utf8CheckExtraBytes(this, buf, p);\n  if (r !== undefined) return r;\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, p, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, p, 0, buf.length);\n  this.lastNeed -= buf.length;\n}\n\n// Returns all complete UTF-8 characters in a Buffer. If the Buffer ended on a\n// partial character, the character's bytes are buffered until the required\n// number of bytes are available.\nfunction utf8Text(buf, i) {\n  var total = utf8CheckIncomplete(this, buf, i);\n  if (!this.lastNeed) return buf.toString('utf8', i);\n  this.lastTotal = total;\n  var end = buf.length - (total - this.lastNeed);\n  buf.copy(this.lastChar, 0, end);\n  return buf.toString('utf8', i, end);\n}\n\n// For UTF-8, a replacement character is added when ending on a partial\n// character.\nfunction utf8End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + '\\ufffd';\n  return r;\n}\n\n// UTF-16LE typically needs two bytes per character, but even if we have an even\n// number of bytes available, we need to check if we end on a leading/high\n// surrogate. In that case, we need to wait for the next two bytes in order to\n// decode the last character properly.\nfunction utf16Text(buf, i) {\n  if ((buf.length - i) % 2 === 0) {\n    var r = buf.toString('utf16le', i);\n    if (r) {\n      var c = r.charCodeAt(r.length - 1);\n      if (c >= 0xD800 && c <= 0xDBFF) {\n        this.lastNeed = 2;\n        this.lastTotal = 4;\n        this.lastChar[0] = buf[buf.length - 2];\n        this.lastChar[1] = buf[buf.length - 1];\n        return r.slice(0, -1);\n      }\n    }\n    return r;\n  }\n  this.lastNeed = 1;\n  this.lastTotal = 2;\n  this.lastChar[0] = buf[buf.length - 1];\n  return buf.toString('utf16le', i, buf.length - 1);\n}\n\n// For UTF-16LE we do not explicitly append special replacement characters if we\n// end on a partial character, we simply let v8 handle that.\nfunction utf16End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) {\n    var end = this.lastTotal - this.lastNeed;\n    return r + this.lastChar.toString('utf16le', 0, end);\n  }\n  return r;\n}\n\nfunction base64Text(buf, i) {\n  var n = (buf.length - i) % 3;\n  if (n === 0) return buf.toString('base64', i);\n  this.lastNeed = 3 - n;\n  this.lastTotal = 3;\n  if (n === 1) {\n    this.lastChar[0] = buf[buf.length - 1];\n  } else {\n    this.lastChar[0] = buf[buf.length - 2];\n    this.lastChar[1] = buf[buf.length - 1];\n  }\n  return buf.toString('base64', i, buf.length - n);\n}\n\nfunction base64End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + this.lastChar.toString('base64', 0, 3 - this.lastNeed);\n  return r;\n}\n\n// Pass bytes on through for single-byte encodings (e.g. ascii, latin1, hex)\nfunction simpleWrite(buf) {\n  return buf.toString(this.encoding);\n}\n\nfunction simpleEnd(buf) {\n  return buf && buf.length ? this.write(buf) : '';\n}","/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\r\n    function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\r\n    var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\r\n    var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\r\n    var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\r\n    var _, done = false;\r\n    for (var i = decorators.length - 1; i >= 0; i--) {\r\n        var context = {};\r\n        for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\r\n        for (var p in contextIn.access) context.access[p] = contextIn.access[p];\r\n        context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\r\n        var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\r\n        if (kind === \"accessor\") {\r\n            if (result === void 0) continue;\r\n            if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\r\n            if (_ = accept(result.get)) descriptor.get = _;\r\n            if (_ = accept(result.set)) descriptor.set = _;\r\n            if (_ = accept(result.init)) initializers.push(_);\r\n        }\r\n        else if (_ = accept(result)) {\r\n            if (kind === \"field\") initializers.push(_);\r\n            else descriptor[key] = _;\r\n        }\r\n    }\r\n    if (target) Object.defineProperty(target, contextIn.name, descriptor);\r\n    done = true;\r\n};\r\n\r\nexport function __runInitializers(thisArg, initializers, value) {\r\n    var useValue = arguments.length > 2;\r\n    for (var i = 0; i < initializers.length; i++) {\r\n        value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\r\n    }\r\n    return useValue ? value : void 0;\r\n};\r\n\r\nexport function __propKey(x) {\r\n    return typeof x === \"symbol\" ? x : \"\".concat(x);\r\n};\r\n\r\nexport function __setFunctionName(f, name, prefix) {\r\n    if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\r\n    return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\r\n};\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n// the startup function\n__webpack_require__.x = function() {\n\t// Load entry module and return exports\n\t// This entry module depends on other loaded chunks and execution need to be delayed\n\tvar __webpack_exports__ = __webpack_require__.O(undefined, [667], function() { return __webpack_require__(26160); })\n\t__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n\treturn __webpack_exports__;\n};\n\n","__webpack_require__.amdO = {};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = function(chunkId) {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce(function(promises, key) {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks and sibling chunks for the entrypoint\n__webpack_require__.u = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".\" + \"3917b962\" + \".js\";\n};","// This function allow to reference async chunks and sibling chunks for the entrypoint\n__webpack_require__.miniCssF = function(chunkId) {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.hmd = function(module) {\n\tmodule = Object.create(module);\n\tif (!module.children) module.children = [];\n\tObject.defineProperty(module, 'exports', {\n\t\tenumerable: true,\n\t\tset: function() {\n\t\t\tthrow new Error('ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: ' + module.id);\n\t\t}\n\t});\n\treturn module;\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.p = \"/\";","__webpack_require__.b = self.location + \"\";\n\n// object to store loaded chunks\n// \"1\" means \"already loaded\"\nvar installedChunks = {\n\t543: 1\n};\n\n// importScripts chunk loading\nvar installChunk = function(data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\tfor(var moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) runtime(__webpack_require__);\n\twhile(chunkIds.length)\n\t\tinstalledChunks[chunkIds.pop()] = 1;\n\tparentChunkLoadingFunction(data);\n};\n__webpack_require__.f.i = function(chunkId, promises) {\n\t// \"1\" is the signal for \"already loaded\"\n\tif(!installedChunks[chunkId]) {\n\t\tif(true) { // all chunks have JS\n\t\t\timportScripts(__webpack_require__.p + __webpack_require__.u(chunkId));\n\t\t}\n\t}\n};\n\nvar chunkLoadingGlobal = self[\"webpackChunkcyb\"] = self[\"webpackChunkcyb\"] || [];\nvar parentChunkLoadingFunction = chunkLoadingGlobal.push.bind(chunkLoadingGlobal);\nchunkLoadingGlobal.push = installChunk;\n\n// no HMR\n\n// no HMR manifest","// run startup\nvar __webpack_exports__ = __webpack_require__.x();\n"],"names":["deferred","next","bip39_1","hmac_1","keccak_1","libsodium_1","random_1","ripemd_1","secp256k1_1","secp256k1signature_1","sha_1","slip10_1","Object","defineProperty","exports","value","toUtf8","fromUtf8","toRfc3339","fromRfc3339","toHex","fromHex","toBech32","normalizeBech32","fromBech32","toBase64","fromBase64","toAscii","fromAscii","ascii_1","enumerable","get","base64_1","bech32_1","hex_1","rfc3339_1","utf8_1","Uint64","Uint53","Uint32","Int53","Decimal","decimal_1","integers_1","ALPHABET","ALPHABET_MAP","z","length","x","charAt","undefined","TypeError","polymodStep","pre","b","prefixChk","prefix","chk","i","c","charCodeAt","v","__decode","str","LIMIT","lowered","toLowerCase","uppered","toUpperCase","split","lastIndexOf","slice","wordChars","words","push","convert","data","inBits","outBits","pad","bits","maxV","result","module","decodeUnsafe","res","apply","arguments","decode","Error","encode","toWordsUnsafe","bytes","Array","isArray","toWords","fromWordsUnsafe","fromWords","base64","ieee754","customInspectSymbol","Symbol","Buffer","SlowBuffer","alloc","INSPECT_MAX_BYTES","K_MAX_LENGTH","createBuffer","RangeError","buf","Uint8Array","setPrototypeOf","prototype","arg","encodingOrOffset","allocUnsafe","from","string","encoding","isEncoding","byteLength","actual","write","fromString","ArrayBuffer","isView","arrayView","isInstance","copy","fromArrayBuffer","buffer","byteOffset","fromArrayLike","fromArrayView","SharedArrayBuffer","valueOf","obj","isBuffer","len","checked","numberIsNaN","type","fromObject","toPrimitive","assertSize","size","array","toString","mustMatch","loweredCase","utf8ToBytes","base64ToBytes","slowToString","start","end","this","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","n","m","bidirectionalIndexOf","val","dir","arrayIndexOf","indexOf","call","arr","indexSize","arrLength","valLength","String","read","readUInt16BE","foundIndex","found","j","hexWrite","offset","Number","remaining","strLen","parsed","parseInt","substr","utf8Write","blitBuffer","asciiWrite","byteArray","asciiToBytes","base64Write","ucs2Write","units","hi","lo","utf16leToBytes","fromByteArray","Math","min","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","codePoints","MAX_ARGUMENTS_LENGTH","fromCharCode","decodeCodePointsArray","kMaxLength","TYPED_ARRAY_SUPPORT","proto","foo","e","typedArraySupport","console","error","poolSize","fill","allocUnsafeSlow","_isBuffer","compare","a","y","concat","list","pos","set","swap16","swap32","swap64","toLocaleString","equals","inspect","max","replace","trim","target","thisStart","thisEnd","thisCopy","targetCopy","includes","isFinite","toJSON","_arr","ret","out","hexSliceLookupTable","checkOffset","ext","checkInt","checkIEEE754","writeFloat","littleEndian","noAssert","writeDouble","newBuf","subarray","readUintLE","readUIntLE","mul","readUintBE","readUIntBE","readUint8","readUInt8","readUint16LE","readUInt16LE","readUint16BE","readUint32LE","readUInt32LE","readUint32BE","readUInt32BE","readIntLE","pow","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUintLE","writeUIntLE","writeUintBE","writeUIntBE","writeUint8","writeUInt8","writeUint16LE","writeUInt16LE","writeUint16BE","writeUInt16BE","writeUint32LE","writeUInt32LE","writeUint32BE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","copyWithin","code","INVALID_BASE64_RE","Infinity","leadSurrogate","toByteArray","base64clean","src","dst","constructor","name","alphabet","table","i16","db","cozoDbStore","writeCounter","writeCallback","cmdFlag","storeRequestToPromise","req","Promise","resolve","reject","onsuccess","onerror","async","loadAllFromIndexedDb","dbName","storeName","onWriteCallback","request","indexedDB","open","onupgradeneeded","event","objectStoreNames","contains","createObjectStore","openDatabase","store","transaction","objectStore","itemsPromise","getAll","keysPromise","getAllKeys","all","then","results","keys","map","item","items","catch","readStore","wasm","heap","getObject","idx","heap_next","takeObject","dropObject","cachedTextDecoder","TextDecoder","ignoreBOM","fatal","cachedUint8Memory0","getUint8Memory0","memory","getStringFromWasm0","ptr","addHeapObject","__wbg_adapter_22","arg0","arg1","arg2","wasm_bindgen__convert__closures__invoke1_mut__hd17e34166836fd48","WASM_VECTOR_LEN","cachedTextEncoder","TextEncoder","encodeString","encodeInto","view","written","passStringToWasm0","malloc","realloc","mem","cachedInt32Memory0","getInt32Memory0","Int32Array","handleError","f","args","__wbindgen_exn_store","CozoDb","static","create","__wbg_ptr","__destroy_into_raw","free","__wbg_cozodb_free","cozodb_new","__wrap","db_name","store_name","on_write_callback","ptr0","__wbindgen_malloc","__wbindgen_realloc","len0","ptr1","len1","cozodb_new_from_indexed_db","run","script","params","immutable","cozodb_run","export_relations","deferred2_0","deferred2_1","retptr","__wbindgen_add_to_stack_pointer","cozodb_export_relations","r0","r1","__wbindgen_free","import_relations","cozodb_import_relations","__wbg_get_imports","imports","wbg","__wbindgen_object_drop_ref","__wbg_log_b78d654f19d681e0","log","__wbg_loadAllFromIndexedDb_05f8df9a19c8d344","arg3","arg4","__wbg_flushPendingWrites_dd4341a0dafcf428","timeoutDuration","timeout","interval","setInterval","clearInterval","waitPromise","clearTimeout","timeoutPromise","_","setTimeout","race","finally","flushPendingWrites","__wbindgen_string_new","__wbg_cozodb_new","__wbindgen_cb_drop","original","cnt","__wbg_new_abda76e883ba8a5f","__wbg_stack_658279fe44541cf6","stack","__wbg_error_f851667af71bcfc6","deferred0_0","deferred0_1","__wbg_setWriteCounter_295838a9805b3542","__wbg_writeToIndexedDb_ec8ba47108ce4d3a","key","put","delete","writeToIndexedDb","__wbg_crypto_c48a774b022d20ac","crypto","__wbindgen_is_object","__wbg_process_298734cf255a885d","process","__wbg_versions_e2e78e134e3e5d01","versions","__wbg_node_1cd7a5d853dbea79","node","__wbindgen_is_string","__wbg_msCrypto_bcb970640f50a1e8","msCrypto","__wbg_require_8f08ceecec0f4fee","require","__wbindgen_is_function","__wbg_randomFillSync_dc1e9a60c158336d","randomFillSync","__wbg_getRandomValues_37fa2ca9e4e07fab","getRandomValues","__wbg_get_44be0491f933a435","__wbg_length_fff51ee6522a1a18","__wbg_newnoargs_581967eacc0e2604","Function","__wbg_call_cb65541d95d71282","__wbindgen_object_clone_ref","__wbg_self_1ff1d729e9aae938","self","__wbg_window_5f4faef6c12b79ec","window","__wbg_globalThis_1d39714405582d3c","globalThis","__wbg_global_651f05c6a0944d1c","g","global","__wbindgen_is_undefined","__wbg_isArray_4c24b343cb13cfb1","__wbg_call_01734de55d61e11d","__wbg_now_9c5990bda04c7e53","Date","now","__wbg_new_43f1b47c28813cbd","state0","wasm_bindgen__convert__closures__invoke2_mut__h62fdc46dd4e23c5d","__wbg_adapter_76","__wbg_resolve_53698b95aaf7fcf8","__wbg_then_f7e06ee3c11698eb","__wbg_then_b2267541e2a73865","__wbg_buffer_085ec1f694018c4f","__wbg_newwithbyteoffsetandlength_6da8e527659b86aa","__wbg_new_8125e318e6245eed","__wbg_set_5cf90238115182c3","__wbg_length_72e2208bbc0efc61","__wbg_instanceof_Uint8Array_d8d9cb2b8e8ac1d4","__wbg_newwithlength_e5d69174d6984cd7","__wbg_subarray_13db269f57aa838d","__wbindgen_throw","__wbindgen_memory","__wbindgen_closure_wrapper186","dtor","state","real","__wbindgen_export_0","makeMutClosure","__wbg_finalize_init","instance","__wbg_init","__wbindgen_wasm_module","input","URL","Request","fetch","Response","WebAssembly","instantiateStreaming","headers","warn","arrayBuffer","instantiate","Instance","__wbg_load","CYBLOG_BROADCAST_CHANNEL_NAME","logList","defaultContext","consoleLogParams","level","message","context","formattedMessage","formatter","logItem","truncate","shift","appendLog","timestamp","stacktrace","reduce","acc","contextItem","some","p","ctx","thread","unit","ctxItem","isEmpty","consoleLog","BroadcastChannel","onmessage","createCybLog","DBResultError","display","severity","super","entityToArray","columns","col","column","test","JSON","stringify","join","Networks","bostrom","CHAIN_ID","BOSTROM","BASE_DENOM","DENOM_LIQUID","RPC_URL","LCD_URL","WEBSOCKET_URL","INDEX_HTTPS","INDEX_WEBSOCKET","BECH32_PREFIX","MEMO_KEPLR","localbostrom","LOCAL_BOSTROM","SPACE_PUSSY","isWorker","WorkerGlobalScope","DEFAULT_CHAIN_ID","localStorage","getItem","BECH32_PREFIX_VAL","BECH32_PREFIX_VALOPER","RegExp","isNumeric","mathceil","ceil","mathfloor","floor","bignumberError","tooManyDigits","BASE","LOG_BASE","MAX_SAFE_INTEGER","POWS_TEN","SQRT_BASE","MAX","bitFloor","coeffToString","s","r","xc","yc","k","l","intCheck","isOdd","toExponential","toFixedPoint","zs","clone","configObject","div","convertBase","parseNumeric","pow2_53","random53bitInt","basePrefix","dotAfter","dotBefore","isInfinityOrNaN","whitespaceOrPlus","P","BigNumber","ONE","DECIMAL_PLACES","ROUNDING_MODE","TO_EXP_NEG","TO_EXP_POS","MIN_EXP","MAX_EXP","CRYPTO","MODULO_MODE","POW_PRECISION","FORMAT","groupSize","secondaryGroupSize","groupSeparator","decimalSeparator","fractionGroupSize","fractionGroupSeparator","suffix","alphabetHasNormalDecimalDigits","caseChanged","isNum","_isBigNumber","search","substring","round","DEBUG","format","rm","id","c0","ne","maxOrMin","method","normalise","pop","sd","d","ni","rd","pows10","ROUND_UP","ROUND_DOWN","ROUND_CEIL","ROUND_FLOOR","ROUND_HALF_UP","ROUND_HALF_DOWN","ROUND_HALF_EVEN","ROUND_HALF_CEIL","ROUND_HALF_FLOOR","EUCLID","config","hasOwnProperty","randomBytes","EXPONENTIAL_AT","RANGE","isBigNumber","maximum","lt","minimum","gt","random","dp","rand","Uint32Array","splice","sum","plus","decimal","toBaseOut","baseIn","baseOut","arrL","reverse","sign","callerIsToString","multiply","base","temp","xlo","xhi","carry","klo","khi","aL","bL","cmp","subtract","more","prod","prodL","q","qc","rem","remL","rem0","xi","xL","yc0","yL","yz","NaN","isNaN","p1","p2","absoluteValue","abs","comparedTo","decimalPlaces","dividedBy","dividedToIntegerBy","idiv","exponentiatedBy","half","isModExp","nIsBig","nIsNeg","nIsOdd","isInteger","mod","times","integerValue","isEqualTo","eq","isGreaterThan","isGreaterThanOrEqualTo","gte","isLessThan","isLessThanOrEqualTo","lte","isNegative","isPositive","isZero","minus","t","xLTy","xe","ye","modulo","multipliedBy","xcL","ycL","ylo","yhi","zc","sqrtBase","negated","precision","shiftedBy","squareRoot","sqrt","rep","toFixed","toFormat","g1","g2","intPart","fractionPart","isNeg","intDigits","toFraction","md","d0","d1","d2","exp","n0","n1","toNumber","toPrecision","toStringTag","for","QueuePriority","camelToSnake","letter","dtoToEntity","dto","dbEntity","forEach","snakeCaseKey","dtoListToEntity","EntryType","SyncQueueJobType","fetchInitialEmbeddings","saveSyncQueue","page","url","getRelevance","particle","jobType","priority","LOW","version","getDbVersion","res1","runCommand","ok","res2","res3","res4","setDbVersion","DB_VERSION","DB_NAME","DB_STORE_NAME","shouldInitialize","commandFactory","onIndexedDbWrite","dbSchema","cyblogCh","channel","postLogToChannel","postMessage","info","trace","createCyblogChannel","init","onWrite","new_from_indexed_db","initDbSchema","loadCozoDb","performHardReset","loadDbSchema","relations","rows","row","getRelations","schemasMap","tableName","fields","index","toListOfObjects","filter","is_key","values","field","createSchema","fromEntries","schema","generateModifyCommand","command","fieldNames","hasValues","actualValues","generateAtomCommand","tableSchema","selectedColumns","colKeys","colValues","generatePut","generateGet","selectFields","conditions","conditionFields","options","queryFields","requiredFields","conditionsStr","orderByStr","orderBy","limitStr","offsetStr","generateUpdate","generateRm","keyValues","atomCommand","rmCommand","generateRmCommand","createCozoDbCommandFactory","group_key","clearRequest","clear","oncomplete","close","clearIndexedDBStore","resultStr","parse","update","getCommandFactory","importRelations","content","exportRelations","versionData","proxyMarker","createEndpoint","releaseProxy","finalizer","throwMarker","isObject","transferHandlers","Map","canHandle","serialize","port1","port2","MessageChannel","expose","deserialize","port","createProxy","serialized","isError","assign","ep","allowedOrigins","addEventListener","callback","ev","origin","allowedOrigin","isAllowedOrigin","path","argumentList","fromWireValue","returnValue","parent","prop","rawValue","proxy","transfers","transferCache","transfer","wireValue","transferables","toWireValue","removeEventListener","closeEndPoint","endpoint","isMessagePort","throwIfProxyReleased","isReleased","releaseEndpoint","requestResponseMessage","proxyCounter","WeakMap","proxyFinalizers","FinalizationRegistry","newCount","isProxyReleased","Proxy","_target","unregister","unregisterProxy","bind","_thisArg","rawArgumentList","last","processArguments","construct","register","registerProxy","processed","handler","serializedValue","msg","createAsyncIterable","asyncIterator","done","promise","IPFSContentTransferHandler","rest","serializedObj","SharedWorker","env","IS_DEV","installTransferHandlers","Observable","observer","remote","subscribe","complete","subscription","add","unsubscribe","Subscription","overrideLogging","worker","consoleLogMap","replaceConsoleLog","serializableArgs","safeStringify","observable","randomString","compose","_len","funcs","_key","extendStatics","__extends","__proto__","__","__generator","thisArg","body","label","sent","trys","ops","verb","iterator","op","step","__spreadArray","to","il","__defProp","__defProps","defineProperties","__getOwnPropDescs","getOwnPropertyDescriptors","__getOwnPropSymbols","getOwnPropertySymbols","__hasOwnProp","__propIsEnum","propertyIsEnumerable","__defNormalProp","configurable","writable","__spreadValues","_i","_c","__spreadProps","__async","__this","__arguments","generator","fulfilled","rejected","throw","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","__REDUX_DEVTOOLS_EXTENSION__","_super","MiddlewareArray","_this","species","prepend","EnhancerArray","freezeDraftable","createAction","prepareAction","actionCreator","prepared","payload","meta","match","action","executeReducerBuilderCallback","builderCallback","defaultCaseReducer","actionsMap","actionMatchers","builder","addCase","typeOrActionCreator","reducer","addMatcher","matcher","addDefaultCase","createSlice","_reducer","initialState","reducers","reducerNames","sliceCaseReducersByName","sliceCaseReducersByType","actionCreators","buildReducer","extraReducers","_d","_e","_f","finalCaseReducers","mapOrBuilderCallback","getInitialState","finalActionMatchers","finalDefaultCaseReducer","frozenInitialState_1","caseReducers","cr","previousState","caseReducer","draft","createReducer","actionMatchers_1","reducerName","prepareCallback","maybeReducerWithPrepare","actionKey","getType2","prepare","actions","nanoid","commonProperties","RejectWithValue","FulfillWithMeta","miniSerializeError","simpleError","commonProperties_1","property","createAsyncThunk","createAsyncThunk2","typePrefix","payloadCreator","requestId","requestStatus","pending","serializeError","rejectedWithValue","aborted","condition","AC","AbortController","class_1","signal","dispatchEvent","onabort","reason","throwIfAborted","abort","dispatch","getState","extra","abortReason","idGenerator","abortController","promise2","_a","_b","finalAction","conditionResult","abortedPromise","err_1","getPendingMeta","rejectWithValue","fulfillWithValue","dispatchConditionRejection","unwrap","unwrapResult","withTypes","alm","queueMicrotask","createQueueWithTimer","notify","requestAnimationFrame","isParticle","Boolean","isLoading","chats","summary","unreadCount","total","particles","neurons","llm","threads","currentThreadId","formatApiData","entryType","chat","formatted","toISOString","transactionHash","hash","transaction_hash","memo","senseChatId","transactions","ownerId","fromAddress","inputs","address","neuron","fromLog","getSenseList","senseApi","getList","getSenseChat","getLinks","getFriendItems","markAsRead","newChatStructure","checkIfMessageExists","newMessage","updateSenseList","orderSenseList","addSenseItem","status","newList","unshift","updateSenseItem","chatId","txHash","isSuccess","find","sorted","lastMsg","sort","reset","createLLMThread","newThread","messages","dateUpdated","title","setItem","selectLLMThread","addLLMMessageToThread","threadId","replaceLastLLMMessageInThread","deleteLLMThread","newT","clearLLMThreads","removeItem","sense","unreadCountParticle","unreadCountNeuron","POCKET","POCKET_ACCOUNT","saveToLocalStorage","defaultAccount","accounts","account","actionBar","tweet","isInitialized","setDefaultAccount","setAccounts","setInitialized","setStageTweetActionBar","deleteAddress","accountKey","networkKey","bech32","cyber","entryCyber","entries","postServiceStatus","postSyncEntryProgress","entry","postMlSyncEntryProgress","postSenseUpdate","senseList","postSetDefaultAccount","post","cozoDbWorker","time","cozoDb","writesCount","timeEnd","executeRmCommand","executePutCommand","executeBatchPutCommand","batchSize","onProgress","putCommand","batch","executeUpdateCommand","executeGetCommand","createDbWorkerApi","api","onconnect","ports","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","rt","LN2","unixfsData","protons","Data","types","dirTypes","blockSizes","mode","addBlockSize","removeBlockSize","fileSize","marshal","DataType","Raw","Directory","File","Metadata","Symlink","HAMTShard","Type","filesize","blocksizes","hashType","fanout","mtime","unmarshal","marsheled","decoded","dagNodeUtil","cloneLinks","cloneData","toDAGLink","DAGLink","DAGNode","link","links","isDAGLink","isDAGNode","multihash","cid","err","asDAGLink","dagNode","linkSort","util","createDagLinkFromB58EncodedHash","assert","withIs","serializedSize","_data","_links","_serializedSize","_json","freeze","_size","className","symbolName","addLink","rmLink","CID","nameOrCid","isCID","resolver","multihashing","waterfall","setImmediate","PBNode","pbn","Links","Hash","Name","Tsize","toProtoBuf","hashAlg","defaultHashAlg","cb","mh","multicodec","initialTeardown","closed","_parentage","_finalizers","empty","e_1","e_2","errors","_parentage_1","_parentage_1_1","remove","e_1_1","return","initialFinalizer","_finalizers_1","_finalizers_1_1","execFinalizer","e_2_1","teardown","_hasParent","_addParent","_removeParent","EMPTY","isSubscription","StringDecoder","nb","enc","nenc","retried","_normalizeEncoding","normalizeEncoding","text","utf16Text","utf16End","fillLast","utf8FillLast","base64Text","base64End","simpleWrite","simpleEnd","lastNeed","lastTotal","lastChar","utf8CheckByte","byte","utf8CheckExtraBytes","utf8CheckIncomplete","__values","o","__read","ar","pack","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","loaded","__webpack_modules__","__webpack_exports__","O","amdO","chunkIds","fn","notFulfilled","every","getter","__esModule","definition","chunkId","promises","u","miniCssF","hmd","children","nmd","paths","location","installedChunks","importScripts","chunkLoadingGlobal","parentChunkLoadingFunction","moreModules","runtime"],"sourceRoot":""}