/*! For license information please see 644.2e2b2aee.js.LICENSE.txt */
(self.webpackChunkcyb=self.webpackChunkcyb||[]).push([[644],{42450:function(e,t,r){"use strict";e.exports=r(10077)},96945:function(e){"use strict";var t=Object.prototype.hasOwnProperty,r="~";function n(){}function i(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function s(e,t,n,s,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new i(n,s||e,o),c=r?r+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],a]:e._events[c].push(a):(e._events[c]=a,e._eventsCount++),e}function o(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function a(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),a.prototype.eventNames=function(){var e,n,i=[];if(0===this._eventsCount)return i;for(n in e=this._events)t.call(e,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},a.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,s=n.length,o=new Array(s);i<s;i++)o[i]=n[i].fn;return o},a.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},a.prototype.emit=function(e,t,n,i,s,o){var a=r?r+e:e;if(!this._events[a])return!1;var c,u,l=this._events[a],h=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),h){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,n),!0;case 4:return l.fn.call(l.context,t,n,i),!0;case 5:return l.fn.call(l.context,t,n,i,s),!0;case 6:return l.fn.call(l.context,t,n,i,s,o),!0}for(u=1,c=new Array(h-1);u<h;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var d,f=l.length;for(u=0;u<f;u++)switch(l[u].once&&this.removeListener(e,l[u].fn,void 0,!0),h){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,t);break;case 3:l[u].fn.call(l[u].context,t,n);break;case 4:l[u].fn.call(l[u].context,t,n,i);break;default:if(!c)for(d=1,c=new Array(h-1);d<h;d++)c[d-1]=arguments[d];l[u].fn.apply(l[u].context,c)}}return!0},a.prototype.on=function(e,t,r){return s(this,e,t,r,!1)},a.prototype.once=function(e,t,r){return s(this,e,t,r,!0)},a.prototype.removeListener=function(e,t,n,i){var s=r?r+e:e;if(!this._events[s])return this;if(!t)return o(this,s),this;var a=this._events[s];if(a.fn)a.fn!==t||i&&!a.once||n&&a.context!==n||o(this,s);else{for(var c=0,u=[],l=a.length;c<l;c++)(a[c].fn!==t||i&&!a[c].once||n&&a[c].context!==n)&&u.push(a[c]);u.length?this._events[s]=1===u.length?u[0]:u:o(this,s)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&o(this,t)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,e.exports=a},36026:function(e){"use strict";var t=Object.prototype.hasOwnProperty,r="~";function n(){}function i(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function s(e,t,n,s,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new i(n,s||e,o),c=r?r+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],a]:e._events[c].push(a):(e._events[c]=a,e._eventsCount++),e}function o(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function a(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),a.prototype.eventNames=function(){var e,n,i=[];if(0===this._eventsCount)return i;for(n in e=this._events)t.call(e,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},a.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,s=n.length,o=new Array(s);i<s;i++)o[i]=n[i].fn;return o},a.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},a.prototype.emit=function(e,t,n,i,s,o){var a=r?r+e:e;if(!this._events[a])return!1;var c,u,l=this._events[a],h=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),h){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,n),!0;case 4:return l.fn.call(l.context,t,n,i),!0;case 5:return l.fn.call(l.context,t,n,i,s),!0;case 6:return l.fn.call(l.context,t,n,i,s,o),!0}for(u=1,c=new Array(h-1);u<h;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var d,f=l.length;for(u=0;u<f;u++)switch(l[u].once&&this.removeListener(e,l[u].fn,void 0,!0),h){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,t);break;case 3:l[u].fn.call(l[u].context,t,n);break;case 4:l[u].fn.call(l[u].context,t,n,i);break;default:if(!c)for(d=1,c=new Array(h-1);d<h;d++)c[d-1]=arguments[d];l[u].fn.apply(l[u].context,c)}}return!0},a.prototype.on=function(e,t,r){return s(this,e,t,r,!1)},a.prototype.once=function(e,t,r){return s(this,e,t,r,!0)},a.prototype.removeListener=function(e,t,n,i){var s=r?r+e:e;if(!this._events[s])return this;if(!t)return o(this,s),this;var a=this._events[s];if(a.fn)a.fn!==t||i&&!a.once||n&&a.context!==n||o(this,s);else{for(var c=0,u=[],l=a.length;c<l;c++)(a[c].fn!==t||i&&!a[c].once||n&&a[c].context!==n)&&u.push(a[c]);u.length?this._events[s]=1===u.length?u[0]:u:o(this,s)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&o(this,t)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,e.exports=a},9886:function(e,t,r){"use strict";const n=r(26869),i=r(94676),{names:s}=r(22465),{toString:o}=r(26467),{fromString:a}=r(81848),{concat:c}=r(47),u={};for(const e in s){const t=e;u[s[t]]=t}function l(e){if(!(e instanceof Uint8Array))throw new Error("multihash must be a Uint8Array");if(e.length<2)throw new Error("multihash too short. must be > 2 bytes.");const t=i.decode(e);if(!f(t))throw new Error(`multihash unknown function code: 0x${t.toString(16)}`);e=e.slice(i.decode.bytes);const r=i.decode(e);if(r<0)throw new Error(`multihash invalid length: ${r}`);if((e=e.slice(i.decode.bytes)).length!==r)throw new Error(`multihash length inconsistent: 0x${o(e,"base16")}`);return{code:t,name:u[t],length:r,digest:e}}function h(e){let t=e;if("string"==typeof e){if(void 0===s[e])throw new Error(`Unrecognized hash function named: ${e}`);t=s[e]}if("number"!=typeof t)throw new Error(`Hash function code should be a number. Got: ${t}`);if(void 0===u[t]&&!d(t))throw new Error(`Unrecognized function code: ${t}`);return t}function d(e){return e>0&&e<16}function f(e){return!!d(e)||!!u[e]}function p(e){l(e)}Object.freeze(u),e.exports={names:s,codes:u,toHexString:function(e){if(!(e instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return o(e,"base16")},fromHexString:function(e){return a(e,"base16")},toB58String:function(e){if(!(e instanceof Uint8Array))throw new Error("must be passed a Uint8Array");return o(n.encode("base58btc",e)).slice(1)},fromB58String:function(e){const t=e instanceof Uint8Array?o(e):e;return n.decode("z"+t)},decode:l,encode:function(e,t,r){if(!e||void 0===t)throw new Error("multihash encode requires at least two args: digest, code");const n=h(t);if(!(e instanceof Uint8Array))throw new Error("digest should be a Uint8Array");if(null==r&&(r=e.length),r&&e.length!==r)throw new Error("digest length should be equal to specified length.");const s=i.encode(n),o=i.encode(r);return c([s,o,e],s.length+o.length+e.length)},coerceCode:h,isAppCode:d,validate:p,prefix:function(e){return p(e),e.subarray(0,2)},isValidCode:f}},90309:function(e,t,r){e.exports={encode:r(3582),decode:r(17221),encodingLength:r(22375)}},63573:function(e,t){"use strict";const r=Math.exp;e.exports=function(e){if("number"!=typeof e)throw new Error("must provide a timespan to the moving average constructor");if(e<=0)throw new Error("must provide a timespan > 0 to the moving average constructor");let t,n,i=0,s=0,o=0,a={};return a.push=function(a,c){if(n){const u=1-r(-(a-n)/e),l=c-t;t=u*c+(1-u)*t,i=(1-u)*(i+l*(u*l)),s=Math.sqrt(i),o=t+u*l}else t=c;n=a},a.movingAverage=function(){return t},a.variance=function(){return i},a.deviation=function(){return s},a.forecast=function(){return o},a}},45001:function(e){"use strict";function t(e,t){t=t||{};this._capacity=t.capacity,this._head=0,this._tail=0,Array.isArray(e)?this._fromArray(e):(this._capacityMask=3,this._list=new Array(4))}t.prototype.peekAt=function(e){var t=e;if(t===(0|t)){var r=this.size();if(!(t>=r||t<-r))return t<0&&(t+=r),t=this._head+t&this._capacityMask,this._list[t]}},t.prototype.get=function(e){return this.peekAt(e)},t.prototype.peek=function(){if(this._head!==this._tail)return this._list[this._head]},t.prototype.peekFront=function(){return this.peek()},t.prototype.peekBack=function(){return this.peekAt(-1)},Object.defineProperty(t.prototype,"length",{get:function(){return this.size()}}),t.prototype.size=function(){return this._head===this._tail?0:this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)},t.prototype.unshift=function(e){if(0===arguments.length)return this.size();var t=this._list.length;return this._head=this._head-1+t&this._capacityMask,this._list[this._head]=e,this._tail===this._head&&this._growArray(),this._capacity&&this.size()>this._capacity&&this.pop(),this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)},t.prototype.shift=function(){var e=this._head;if(e!==this._tail){var t=this._list[e];return this._list[e]=void 0,this._head=e+1&this._capacityMask,e<2&&this._tail>1e4&&this._tail<=this._list.length>>>2&&this._shrinkArray(),t}},t.prototype.push=function(e){if(0===arguments.length)return this.size();var t=this._tail;return this._list[t]=e,this._tail=t+1&this._capacityMask,this._tail===this._head&&this._growArray(),this._capacity&&this.size()>this._capacity&&this.shift(),this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)},t.prototype.pop=function(){var e=this._tail;if(e!==this._head){var t=this._list.length;this._tail=e-1+t&this._capacityMask;var r=this._list[this._tail];return this._list[this._tail]=void 0,this._head<2&&e>1e4&&e<=t>>>2&&this._shrinkArray(),r}},t.prototype.removeOne=function(e){var t=e;if(t===(0|t)&&this._head!==this._tail){var r=this.size(),n=this._list.length;if(!(t>=r||t<-r)){t<0&&(t+=r),t=this._head+t&this._capacityMask;var i,s=this._list[t];if(e<r/2){for(i=e;i>0;i--)this._list[t]=this._list[t=t-1+n&this._capacityMask];this._list[t]=void 0,this._head=this._head+1+n&this._capacityMask}else{for(i=r-1-e;i>0;i--)this._list[t]=this._list[t=t+1+n&this._capacityMask];this._list[t]=void 0,this._tail=this._tail-1+n&this._capacityMask}return s}}},t.prototype.remove=function(e,t){var r,n=e,i=t;if(n===(0|n)&&this._head!==this._tail){var s=this.size(),o=this._list.length;if(!(n>=s||n<-s||t<1)){if(n<0&&(n+=s),1===t||!t)return(r=new Array(1))[0]=this.removeOne(n),r;if(0===n&&n+t>=s)return r=this.toArray(),this.clear(),r;var a;for(n+t>s&&(t=s-n),r=new Array(t),a=0;a<t;a++)r[a]=this._list[this._head+n+a&this._capacityMask];if(n=this._head+n&this._capacityMask,e+t===s){for(this._tail=this._tail-t+o&this._capacityMask,a=t;a>0;a--)this._list[n=n+1+o&this._capacityMask]=void 0;return r}if(0===e){for(this._head=this._head+t+o&this._capacityMask,a=t-1;a>0;a--)this._list[n=n+1+o&this._capacityMask]=void 0;return r}if(n<s/2){for(this._head=this._head+e+t+o&this._capacityMask,a=e;a>0;a--)this.unshift(this._list[n=n-1+o&this._capacityMask]);for(n=this._head-1+o&this._capacityMask;i>0;)this._list[n=n-1+o&this._capacityMask]=void 0,i--;e<0&&(this._tail=n)}else{for(this._tail=n,n=n+t+o&this._capacityMask,a=s-(t+e);a>0;a--)this.push(this._list[n++]);for(n=this._tail;i>0;)this._list[n=n+1+o&this._capacityMask]=void 0,i--}return this._head<2&&this._tail>1e4&&this._tail<=o>>>2&&this._shrinkArray(),r}}},t.prototype.splice=function(e,t){var r=e;if(r===(0|r)){var n=this.size();if(r<0&&(r+=n),!(r>n)){if(arguments.length>2){var i,s,o,a=arguments.length,c=this._list.length,u=2;if(!n||r<n/2){for(s=new Array(r),i=0;i<r;i++)s[i]=this._list[this._head+i&this._capacityMask];for(0===t?(o=[],r>0&&(this._head=this._head+r+c&this._capacityMask)):(o=this.remove(r,t),this._head=this._head+r+c&this._capacityMask);a>u;)this.unshift(arguments[--a]);for(i=r;i>0;i--)this.unshift(s[i-1])}else{var l=(s=new Array(n-(r+t))).length;for(i=0;i<l;i++)s[i]=this._list[this._head+r+t+i&this._capacityMask];for(0===t?(o=[],r!=n&&(this._tail=this._head+r+c&this._capacityMask)):(o=this.remove(r,t),this._tail=this._tail-l+c&this._capacityMask);u<a;)this.push(arguments[u++]);for(i=0;i<l;i++)this.push(s[i])}return o}return this.remove(r,t)}}},t.prototype.clear=function(){this._list=new Array(this._list.length),this._head=0,this._tail=0},t.prototype.isEmpty=function(){return this._head===this._tail},t.prototype.toArray=function(){return this._copyArray(!1)},t.prototype._fromArray=function(e){var t=e.length,r=this._nextPowerOf2(t);this._list=new Array(r),this._capacityMask=r-1,this._tail=t;for(var n=0;n<t;n++)this._list[n]=e[n]},t.prototype._copyArray=function(e,t){var r=this._list,n=r.length,i=this.length;if((t|=i)==i&&this._head<this._tail)return this._list.slice(this._head,this._tail);var s,o=new Array(t),a=0;if(e||this._head>this._tail){for(s=this._head;s<n;s++)o[a++]=r[s];for(s=0;s<this._tail;s++)o[a++]=r[s]}else for(s=this._head;s<this._tail;s++)o[a++]=r[s];return o},t.prototype._growArray=function(){if(0!=this._head){var e=this._copyArray(!0,this._list.length<<1);this._tail=this._list.length,this._head=0,this._list=e}else this._tail=this._list.length,this._list.length<<=1;this._capacityMask=this._capacityMask<<1|1},t.prototype._shrinkArray=function(){this._list.length>>>=1,this._capacityMask>>>=1},t.prototype._nextPowerOf2=function(e){var t=1<<Math.log(e)/Math.log(2)+1;return Math.max(t,4)},e.exports=t},90507:function(e,t,r){"use strict";const n=r(8231);n.EventIterator,n.EventIterator},70248:function(e){e.exports=function(e){if(!e)throw Error("hashlru must have a max value, of type number, greater than 0");var t=0,r=Object.create(null),n=Object.create(null);function i(i,s){r[i]=s,++t>=e&&(t=0,n=r,r=Object.create(null))}return{has:function(e){return void 0!==r[e]||void 0!==n[e]},remove:function(e){void 0!==r[e]&&(r[e]=void 0),void 0!==n[e]&&(n[e]=void 0)},get:function(e){var t=r[e];return void 0!==t?t:void 0!==(t=n[e])?(i(e,t),t):void 0},set:function(e,t){void 0!==r[e]?r[e]=t:i(e,t)},clear:function(){r=Object.create(null),n=Object.create(null)}}}},85923:function(e){"use strict";var t=Object.prototype.hasOwnProperty,r="~";function n(){}function i(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function s(e,t,n,s,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new i(n,s||e,o),c=r?r+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],a]:e._events[c].push(a):(e._events[c]=a,e._eventsCount++),e}function o(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function a(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),a.prototype.eventNames=function(){var e,n,i=[];if(0===this._eventsCount)return i;for(n in e=this._events)t.call(e,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},a.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,s=n.length,o=new Array(s);i<s;i++)o[i]=n[i].fn;return o},a.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},a.prototype.emit=function(e,t,n,i,s,o){var a=r?r+e:e;if(!this._events[a])return!1;var c,u,l=this._events[a],h=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),h){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,n),!0;case 4:return l.fn.call(l.context,t,n,i),!0;case 5:return l.fn.call(l.context,t,n,i,s),!0;case 6:return l.fn.call(l.context,t,n,i,s,o),!0}for(u=1,c=new Array(h-1);u<h;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var d,f=l.length;for(u=0;u<f;u++)switch(l[u].once&&this.removeListener(e,l[u].fn,void 0,!0),h){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,t);break;case 3:l[u].fn.call(l[u].context,t,n);break;case 4:l[u].fn.call(l[u].context,t,n,i);break;default:if(!c)for(d=1,c=new Array(h-1);d<h;d++)c[d-1]=arguments[d];l[u].fn.apply(l[u].context,c)}}return!0},a.prototype.on=function(e,t,r){return s(this,e,t,r,!1)},a.prototype.once=function(e,t,r){return s(this,e,t,r,!0)},a.prototype.removeListener=function(e,t,n,i){var s=r?r+e:e;if(!this._events[s])return this;if(!t)return o(this,s),this;var a=this._events[s];if(a.fn)a.fn!==t||i&&!a.once||n&&a.context!==n||o(this,s);else{for(var c=0,u=[],l=a.length;c<l;c++)(a[c].fn!==t||i&&!a[c].once||n&&a[c].context!==n)&&u.push(a[c]);u.length?this._events[s]=1===u.length?u[0]:u:o(this,s)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&o(this,t)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,e.exports=a},28050:function(e,t,r){const n=r(62800),i=r(8786),s=r(97391),o=r(51385),{RateLimiterClusterMaster:a,RateLimiterClusterMasterPM2:c,RateLimiterCluster:u}=r(8746),l=r(69559),h=r(12566),d=r(52034),f=r(20143),p=r(36596),b=r(42527),y=r(72621);e.exports={RateLimiterRedis:n,RateLimiterMongo:i,RateLimiterMySQL:s,RateLimiterPostgres:o,RateLimiterMemory:l,RateLimiterMemcache:h,RateLimiterClusterMaster:a,RateLimiterClusterMasterPM2:c,RateLimiterCluster:u,RLWrapperBlackAndWhite:d,RateLimiterUnion:f,RateLimiterQueue:p,BurstyRateLimiter:b,RateLimiterRes:y}},80645:function(e,t){t.read=function(e,t,r,n,i){var s,o,a=8*i-n-1,c=(1<<a)-1,u=c>>1,l=-7,h=r?i-1:0,d=r?-1:1,f=e[t+h];for(h+=d,s=f&(1<<-l)-1,f>>=-l,l+=a;l>0;s=256*s+e[t+h],h+=d,l-=8);for(o=s&(1<<-l)-1,s>>=-l,l+=n;l>0;o=256*o+e[t+h],h+=d,l-=8);if(0===s)s=1-u;else{if(s===c)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,n),s-=u}return(f?-1:1)*o*Math.pow(2,s-n)},t.write=function(e,t,r,n,i,s){var o,a,c,u=8*s-i-1,l=(1<<u)-1,h=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:s-1,p=n?1:-1,b=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),(t+=o+h>=1?d/c:d*Math.pow(2,1-h))*c>=2&&(o++,c/=2),o+h>=l?(a=0,o=l):o+h>=1?(a=(t*c-1)*Math.pow(2,i),o+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;e[r+f]=255&a,f+=p,a/=256,i-=8);for(o=o<<i|a,u+=i;u>0;e[r+f]=255&o,f+=p,o/=256,u-=8);e[r+f-p]|=128*b}},17745:function(e,t,r){"use strict";const{URLWithLegacySupport:n,format:i,URLSearchParams:s,defaultBase:o}=r(82049),a=r(15939);e.exports={URL:n,URLSearchParams:s,format:i,relative:a,defaultBase:o}},24094:function(e,t,r){r(69065),r(69065),r(11876)},69065:function(e){e.exports=e=>async function*(){const t=/\r?\n/,r=new TextDecoder("utf8");let n="";for await(let i of e){"string"==typeof i&&(i=(new TextEncoder).encode(i)),n+=r.decode(i,{stream:!0});const e=n.split(t);n=e.pop();for(let t=0;t<e.length;t++)yield JSON.parse(e[t])}n+=r.decode(),n&&(yield JSON.parse(n))}()},11876:function(e){e.exports=e=>async function*(){for await(const t of e)yield JSON.stringify(t)+"\n"}()},72287:function(e){"use strict";var t=Object.prototype.hasOwnProperty,r="~";function n(){}function i(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function s(e,t,n,s,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new i(n,s||e,o),c=r?r+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],a]:e._events[c].push(a):(e._events[c]=a,e._eventsCount++),e}function o(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function a(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),a.prototype.eventNames=function(){var e,n,i=[];if(0===this._eventsCount)return i;for(n in e=this._events)t.call(e,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},a.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,s=n.length,o=new Array(s);i<s;i++)o[i]=n[i].fn;return o},a.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},a.prototype.emit=function(e,t,n,i,s,o){var a=r?r+e:e;if(!this._events[a])return!1;var c,u,l=this._events[a],h=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),h){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,n),!0;case 4:return l.fn.call(l.context,t,n,i),!0;case 5:return l.fn.call(l.context,t,n,i,s),!0;case 6:return l.fn.call(l.context,t,n,i,s,o),!0}for(u=1,c=new Array(h-1);u<h;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var d,f=l.length;for(u=0;u<f;u++)switch(l[u].once&&this.removeListener(e,l[u].fn,void 0,!0),h){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,t);break;case 3:l[u].fn.call(l[u].context,t,n);break;case 4:l[u].fn.call(l[u].context,t,n,i);break;default:if(!c)for(d=1,c=new Array(h-1);d<h;d++)c[d-1]=arguments[d];l[u].fn.apply(l[u].context,c)}}return!0},a.prototype.on=function(e,t,r){return s(this,e,t,r,!1)},a.prototype.once=function(e,t,r){return s(this,e,t,r,!0)},a.prototype.removeListener=function(e,t,n,i){var s=r?r+e:e;if(!this._events[s])return this;if(!t)return o(this,s),this;var a=this._events[s];if(a.fn)a.fn!==t||i&&!a.once||n&&a.context!==n||o(this,s);else{for(var c=0,u=[],l=a.length;c<l;c++)(a[c].fn!==t||i&&!a[c].once||n&&a[c].context!==n)&&u.push(a[c]);u.length?this._events[s]=1===u.length?u[0]:u:o(this,s)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&o(this,t)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,e.exports=a},60644:function(e,t,r){const n=r(91240),i=r(9400),s=r(44862),o=r(49489),{RateLimiterClusterMaster:a,RateLimiterClusterMasterPM2:c,RateLimiterCluster:u}=r(76190),l=r(86823),h=r(50653),d=r(39121),f=r(14574),p=r(90126),b=r(66354),y=r(19853);e.exports={RateLimiterRedis:n,RateLimiterMongo:i,RateLimiterMySQL:s,RateLimiterPostgres:o,RateLimiterMemory:l,RateLimiterMemcache:h,RateLimiterClusterMaster:a,RateLimiterClusterMasterPM2:c,RateLimiterCluster:u,RLWrapperBlackAndWhite:d,RateLimiterUnion:f,RateLimiterQueue:p,BurstyRateLimiter:b,RateLimiterRes:y}},70942:function(e,t,r){"use strict";const n=r(49727),{hasOwnProperty:i}=Object.prototype,{propertyIsEnumerable:s}=Object,o=(e,t,r)=>Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0}),a=this,c={concatArrays:!1,ignoreUndefined:!1},u=e=>{const t=[];for(const r in e)i.call(e,r)&&t.push(r);if(Object.getOwnPropertySymbols){const r=Object.getOwnPropertySymbols(e);for(const n of r)s.call(e,n)&&t.push(n)}return t};function l(e){return Array.isArray(e)?function(e){const t=e.slice(0,0);return u(e).forEach((r=>{o(t,r,l(e[r]))})),t}(e):n(e)?function(e){const t=null===Object.getPrototypeOf(e)?Object.create(null):{};return u(e).forEach((r=>{o(t,r,l(e[r]))})),t}(e):e}const h=(e,t,r,n)=>(r.forEach((r=>{void 0===t[r]&&n.ignoreUndefined||(r in e&&e[r]!==Object.getPrototypeOf(e)?o(e,r,f(e[r],t[r],n)):o(e,r,l(t[r])))})),e),d=(e,t,r)=>{let n=e.slice(0,0),s=0;return[e,t].forEach((t=>{const a=[];for(let r=0;r<t.length;r++)i.call(t,r)&&(a.push(String(r)),o(n,s++,t===e?t[r]:l(t[r])));n=h(n,t,u(t).filter((e=>!a.includes(e))),r)})),n};function f(e,t,r){return r.concatArrays&&Array.isArray(e)&&Array.isArray(t)?d(e,t,r):n(t)&&n(e)?h(e,t,u(t),r):l(t)}e.exports=function(...e){const t=f(l(c),this!==a&&this||{},c);let r={_:{}};for(const i of e)if(void 0!==i){if(!n(i))throw new TypeError("`"+i+"` is not an Option Object");r=f(r,{_:i},t)}return r._}},79221:function(e,t,r){"use strict";r(70942)},78939:function(e){"use strict";var t=Object.prototype.hasOwnProperty,r="~";function n(){}function i(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function s(e,t,n,s,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new i(n,s||e,o),c=r?r+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],a]:e._events[c].push(a):(e._events[c]=a,e._eventsCount++),e}function o(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function a(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),a.prototype.eventNames=function(){var e,n,i=[];if(0===this._eventsCount)return i;for(n in e=this._events)t.call(e,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},a.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,s=n.length,o=new Array(s);i<s;i++)o[i]=n[i].fn;return o},a.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},a.prototype.emit=function(e,t,n,i,s,o){var a=r?r+e:e;if(!this._events[a])return!1;var c,u,l=this._events[a],h=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),h){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,n),!0;case 4:return l.fn.call(l.context,t,n,i),!0;case 5:return l.fn.call(l.context,t,n,i,s),!0;case 6:return l.fn.call(l.context,t,n,i,s,o),!0}for(u=1,c=new Array(h-1);u<h;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var d,f=l.length;for(u=0;u<f;u++)switch(l[u].once&&this.removeListener(e,l[u].fn,void 0,!0),h){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,t);break;case 3:l[u].fn.call(l[u].context,t,n);break;case 4:l[u].fn.call(l[u].context,t,n,i);break;default:if(!c)for(d=1,c=new Array(h-1);d<h;d++)c[d-1]=arguments[d];l[u].fn.apply(l[u].context,c)}}return!0},a.prototype.on=function(e,t,r){return s(this,e,t,r,!1)},a.prototype.once=function(e,t,r){return s(this,e,t,r,!0)},a.prototype.removeListener=function(e,t,n,i){var s=r?r+e:e;if(!this._events[s])return this;if(!t)return o(this,s),this;var a=this._events[s];if(a.fn)a.fn!==t||i&&!a.once||n&&a.context!==n||o(this,s);else{for(var c=0,u=[],l=a.length;c<l;c++)(a[c].fn!==t||i&&!a[c].once||n&&a[c].context!==n)&&u.push(a[c]);u.length?this._events[s]=1===u.length?u[0]:u:o(this,s)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&o(this,t)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,e.exports=a},50202:function(e,t,r){"use strict";var n=r(63700),i=/[\/\?<>\\:\*\|"]/g,s=/[\x00-\x1f\x80-\x9f]/g,o=/^\.+$/,a=/^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\..*)?$/i,c=/[\. ]+$/;function u(e,t){if("string"!=typeof e)throw new Error("Input must be string");var r=e.replace(i,t).replace(s,t).replace(o,t).replace(a,t).replace(c,t);return n(r,255)}e.exports=function(e,t){var r=t&&t.replacement||"",n=u(e,r);return""===r?n:u(n,"")}},10715:function(e,t,r){"use strict";const{AbortController:n}=globalThis,i=r(82916);class s extends n{constructor(e){super(),this._ms=e,this._timer=i((()=>this.abort()),e),Object.setPrototypeOf(this,s.prototype)}abort(){return this._timer.clear(),super.abort()}clear(){this._timer.clear()}reset(){this._timer.clear(),this._timer=i((()=>this.abort()),this._ms)}}e.exports={TimeoutController:s}},79297:function(e){!function(){e.exports=y;var t=86400,r=3200,n=146097*r/400,i=t*n,s=1e3*i,o=864e13,a=4294967296,c=1e6,u="000000000",l=Math.trunc||function(e){var t=e-e%1;return 0==t&&(e<0||0===e&&1/e!=1/0)?-0:t},h=y.prototype,d=(y.fromDate=function(e){return new y(+e)},y.fromInt64BE=_(0,1,2,3,0,4),y.fromInt64LE=_(3,2,1,0,4,0),y.fromString=function(e){var t,r=new y;e=(e+="").replace(/^\s*[+\-]?\d+/,(function(e){var t=1970+((e=+e)-1970)%400;return r.year=e-t,t})).replace(/(?:Z|([+\-]\d{2}):?(\d{2}))$/,(function(e,r,n){return r<0&&(n*=-1),t=6e4*(60*+r+ +n),""})).replace(/\.\d+$/,(function(e){return r.nano=+(e+u).substr(1,9),""})).split(/\D+/);if(1<e.length?e[1]--:e[1]=0,r.time=t=Date.UTC.apply(Date,e)-(t||0),isNaN(t))throw new TypeError("Invalid Date");return m(r)},y.fromTimeT=function(e){return E(e,0)},h.year=0,h.time=0,h.nano=0,h.addNano=function(e){return this.nano+=+e||0,this},h.getNano=function(){var e=m(this);return(e.time%1e3*c+ +e.nano+1e9)%1e9},h.getTimeT=function(){var e=m(this),i=Math.floor(e.time/1e3);return(e=e.year)&&(i+=e*n*t/r),i},h.getYear=function(){return this.toDate().getUTCFullYear()+this.year},h.toDate=function(){return g(m(this).time)},h.toJSON=function(){return this.toString().replace(/0{1,6}Z$/,"Z")},h.toString=function(e){var t=this,r=t.toDate(),n={H:function(){return D(r.getUTCHours())},L:function(){return S(r.getUTCMilliseconds(),3)},M:function(){return D(r.getUTCMinutes())},N:function(){return S(t.getNano(),9)},S:function(){return D(r.getUTCSeconds())},Y:function(){var e=t.getYear();return 999999<e?"+"+e:9999<e?"+"+S(e,6):0<=e?S(e,4):-999999<=e?"-"+S(-e,6):e},a:function(){return p[r.getUTCDay()]},b:function(){return f[r.getUTCMonth()]},d:function(){return D(r.getUTCDate())},e:function(){return function(e){return(9<e?"":" ")+(0|e)}(r.getUTCDate())},m:function(){return D(r.getUTCMonth()+1)}};return function e(t){return t.replace(/%./g,(function(t){var r=t[1],i=b[r];r=n[r];return i?e(i):r?r():t}))}(e||d)},h.writeInt64BE=w(0,1,2,3,0,4),h.writeInt64LE=w(3,2,1,0,4,0),"%Y-%m-%dT%H:%M:%S.%NZ"),f=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],p=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],b={"%":"%",F:"%Y-%m-%d",n:"\n",R:"%H:%M",T:"%H:%M:%S",t:"\t",X:"%T",Z:"GMT",z:"+0000"};return y;function y(e,t,r){var n=this;if(!(n instanceof y))return new y(e,t,r);n.time=+e||0,n.nano=+t||0,n.year=+r||0,m(n)}function m(e){var t,n,i,a=e.year,u=e.time,h=e.nano,d=((h<0||c<=h)&&(h-=(n=Math.floor(h/c))*c,u+=n,n=1),a%r);return(u<-o||o<u||d)&&((t=l(u/s))&&(a+=t*r,u-=t*s),(i=g(u)).setUTCFullYear(d+i.getUTCFullYear()),i=(u=+i)+(t=l((a-=d)/r))*s,t&&-o<=i&&i<=o&&(a-=t*r,u=i),n=1),n&&(e.year=a,e.time=u,e.nano=h),e}function g(e){var t=new Date(0);return t.setTime(e),t}function E(e,t){e=+e||0;var n=l((t=(0|t)*a)/i)+l(e/i);return(e=l((t=t%i+e%i)/i))&&(n+=e,t-=e*i),new y(1e3*t,0,n*r)}function w(e,i,s,o,c,u){return function(e,i){var s=m(this);v(e=e||new Array(8),i|=0);var o=Math.floor(s.time/1e3),d=(s=s.year*(n*t/r),l(s/a)+l(o/a));s=s%a+o%a;return(o=Math.floor(s/a))&&(d+=o,s-=o*a),h(e,i+c,d),h(e,i+u,s),e};function h(t,r,n){t[r+e]=n>>24&255,t[r+i]=n>>16&255,t[r+s]=n>>8&255,t[r+o]=255&n}}function _(e,t,r,n,i,s){return function(e,t){v(e,t|=0);var r=o(e,t+i);return E(o(e,t+s),r)};function o(i,s){return 16777216*i[s+e]+(i[s+t]<<16|i[s+r]<<8|i[s+n])}}function v(e,t){if(null==(e=e&&e.length))throw new TypeError("Invalid Buffer");if(e<t+8)throw new RangeError("Out of range")}function D(e){return(9<e?"":"0")+(0|e)}function S(e,t){return(u+(0|e)).substr(-t)}}()},95577:function(e,t,r){"use strict";r.d(t,{Jz:function(){return n},_q:function(){return o},nh:function(){return s}});var n,i,s,o,a=r(46888);!function(e){e.RSA="RSA",e.Ed25519="Ed25519",e.Secp256k1="Secp256k1"}(n||(n={})),function(e){e[e.RSA=0]="RSA",e[e.Ed25519=1]="Ed25519",e[e.Secp256k1=2]="Secp256k1"}(i||(i={})),function(e){e.codec=()=>(0,a.Ji)(i)}(n||(n={})),function(e){let t;e.codec=()=>(null==t&&(t=(0,a.yw)(((e,t,r={})=>{!1!==r.lengthDelimited&&t.fork(),null!=e.Type&&(t.uint32(8),n.codec().encode(e.Type,t)),null!=e.Data&&(t.uint32(18),t.bytes(e.Data)),!1!==r.lengthDelimited&&t.ldelim()}),((e,t)=>{const r={},i=null==t?e.len:e.pos+t;for(;e.pos<i;){const t=e.uint32();switch(t>>>3){case 1:r.Type=n.codec().decode(e);break;case 2:r.Data=e.bytes();break;default:e.skipType(7&t)}}return r}))),t),e.encode=t=>(0,a.LE)(t,e.codec()),e.decode=t=>(0,a.C6)(t,e.codec())}(s||(s={})),function(e){let t;e.codec=()=>(null==t&&(t=(0,a.yw)(((e,t,r={})=>{!1!==r.lengthDelimited&&t.fork(),null!=e.Type&&(t.uint32(8),n.codec().encode(e.Type,t)),null!=e.Data&&(t.uint32(18),t.bytes(e.Data)),!1!==r.lengthDelimited&&t.ldelim()}),((e,t)=>{const r={},i=null==t?e.len:e.pos+t;for(;e.pos<i;){const t=e.uint32();switch(t>>>3){case 1:r.Type=n.codec().decode(e);break;case 2:r.Data=e.bytes();break;default:e.skipType(7&t)}}return r}))),t),e.encode=t=>(0,a.LE)(t,e.codec()),e.decode=t=>(0,a.C6)(t,e.codec())}(o||(o={}))},98900:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(49541),i=r(3909);function s(e){if(isNaN(e)||e<=0)throw new n.sv("random bytes length must be a Number bigger than 0","ERR_INVALID_LENGTH");return(0,i.O6)(e)}},17610:function(e,t,r){"use strict";var n=r(68603),i=r(46406);function s(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}const o=s("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),a=s("ascii","a",(e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}),(e=>{e=e.substring(1);const t=(0,i.E)(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}));n.gh.base16,n.gh},2018:function(e,t,r){"use strict";r.d(t,{BB:function(){return s},mL:function(){return i},oQ:function(){return n}});new Uint8Array(0);const n=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},i=e=>(new TextEncoder).encode(e),s=e=>(new TextDecoder).decode(e)},46023:function(e,t,r){"use strict";r(17663),r(1465),r(2018),r(46232),r(92937);new WeakMap;class n{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:e,multihash:t}=this;if(e!==DAG_PB_CODE)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==SHA_256_CODE)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return n.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:e,digest:t}=this.multihash,r=Digest.create(e,t);return n.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return n.equals(this,e)}static equals(e,t){const r=t;return r&&e.code===r.code&&e.version===r.version&&Digest.equals(e.multihash,r.multihash)}toString(e){return format(this,e)}toJSON(){return{"/":format(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(null==e)return null;const t=e;if(t instanceof n)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){const{version:e,code:r,multihash:i,bytes:s}=t;return new n(e,r,i,s||encodeCID(e,r,i.bytes))}if(!0===t[cidSymbol]){const{version:e,multihash:r,code:i}=t,s=Digest.decode(r);return n.create(e,i,s)}return null}static create(e,t,r){if("number"!=typeof t)throw new Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:if(t!==DAG_PB_CODE)throw new Error(`Version 0 CID must use dag-pb (code: ${DAG_PB_CODE}) block encoding`);return new n(e,t,r,r.bytes);case 1:{const i=encodeCID(e,t,r.bytes);return new n(e,t,r,i)}default:throw new Error("Invalid version")}}static createV0(e){return n.create(0,DAG_PB_CODE,e)}static createV1(e,t){return n.create(1,e,t)}static decode(e){const[t,r]=n.decodeFirst(e);if(r.length)throw new Error("Incorrect length");return t}static decodeFirst(e){const t=n.inspectBytes(e),r=t.size-t.multihashSize,i=coerce(e.subarray(r,r+t.multihashSize));if(i.byteLength!==t.multihashSize)throw new Error("Incorrect length");const s=i.subarray(t.multihashSize-t.digestSize),o=new Digest.Digest(t.multihashCode,t.digestSize,s,i);return[0===t.version?n.createV0(o):n.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0;const r=()=>{const[r,n]=varint.decode(e.subarray(t));return n,r};let n=r(),i=DAG_PB_CODE;if(18===n?(0,0):r(),0!==n&&1!==n)throw new RangeError(`Invalid CID version ${n}`);const s=t,o=r(),a=r(),c=t+a;return{version:n,codec:i,multihashCode:o,digestSize:a,multihashSize:c-s,size:c}}static parse(e,t){const[r,i]=parseCIDtoBytes(e,t),s=n.decode(i);if(0===s.version&&"Q"!==e[0])throw Error("Version 0 CID string must not include multibase prefix");return baseCache(s).set(r,e),s}}Symbol.for("@ipld/js-cid/CID")},46232:function(e,t,r){"use strict";r.d(t,{Ue:function(){return i}});r(2018);var n=r(92937);const i=(e,t)=>{const r=t.byteLength,i=n.P$(e),o=i+n.P$(r),a=new Uint8Array(o+r);return n.mL(e,a,0),n.mL(r,a,i),a.set(t,o),new s(e,r,t,a)};class s{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}},78227:function(e,t,r){"use strict";r.r(t),r.d(t,{identity:function(){return o}});var n=r(2018),i=r(46232);const s=n.oQ,o={code:0,name:"identity",encode:s,digest:e=>i.Ue(0,s(e))}},92937:function(e,t,r){"use strict";r.d(t,{mL:function(){return w},P$:function(){return _}});var n=function e(t,r,n){r=r||[];var a=n=n||0;for(;t>=o;)r[n++]=255&t|i,t/=128;for(;t&s;)r[n++]=255&t|i,t>>>=7;return r[n]=0|t,e.bytes=n-a+1,r},i=128,s=-128,o=Math.pow(2,31);var a=function e(t,r){var n,i=0,s=0,o=r=r||0,a=t.length;do{if(o>=a)throw e.bytes=0,new RangeError("Could not decode varint");n=t[o++],i+=s<28?(n&u)<<s:(n&u)*Math.pow(2,s),s+=7}while(n>=c);return e.bytes=o-r,i},c=128,u=127;var l=Math.pow(2,7),h=Math.pow(2,14),d=Math.pow(2,21),f=Math.pow(2,28),p=Math.pow(2,35),b=Math.pow(2,42),y=Math.pow(2,49),m=Math.pow(2,56),g=Math.pow(2,63),E={encode:n,decode:a,encodingLength:function(e){return e<l?1:e<h?2:e<d?3:e<f?4:e<p?5:e<b?6:e<y?7:e<m?8:e<g?9:10}};const w=(e,t,r=0)=>(E.encode(e,t,r),t),_=e=>E.encodingLength(e)},86412:function(e,t,r){"use strict";var n=r(28375),i=r(39860);function s(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}const o=s("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),a=s("ascii","a",(e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}),(e=>{e=e.substring(1);const t=(0,i.E)(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t})),c={utf8:o,"utf-8":o,hex:n.gh.base16,latin1:a,ascii:a,binary:a,...n.gh};t.Z=c},6329:function(e,t,r){"use strict";r(91893),r(36638),r(90212);const n=Boolean(globalThis.process?.env?.DUMP_SESSION_KEYS);r(33869),r(4101),r(1751),r(10013);(e=>{const t=(r=2,globalThis.Buffer?globalThis.Buffer.allocUnsafe(r):new Uint8Array(r));var r;return new DataView(t.buffer,t.byteOffset,t.byteLength).setUint16(0,e,!1),t}).bytes=2;r(49541),r(3068),r(97450),r(3832),r(9393);var i=r(27484);r(81012),r(24956),r(43108),r(22378);r(41854),r(86170);var s=r(5681),o=(r(97565),r(48882));r(85107),r(82094),r(55443),r(43846);Symbol.for("nodejs.util.inspect.custom"),Object.values(o.gh).map((e=>e.decoder)).reduce(((e,t)=>e.or(t)),o.gh.identity.decoder);class a{type;multihash;privateKey;publicKey;string;constructor(e){this.type=e.type,this.multihash=e.multihash,this.privateKey=e.privateKey,Object.defineProperty(this,"string",{enumerable:!1,writable:!0})}get[Symbol.toStringTag](){return`PeerId(${this.toString()})`}[s.N]=!0;toString(){return null==this.string&&(this.string=base58btc.encode(this.multihash.bytes).slice(1)),this.string}toCID(){return CID.createV1(LIBP2P_KEY_CODE,this.multihash)}toBytes(){return this.multihash.bytes}toJSON(){return this.toString()}equals(e){if(e instanceof Uint8Array)return uint8ArrayEquals(this.multihash.bytes,e);if("string"==typeof e)return function(e,t){if(t??baseDecoder,"1"===e.charAt(0)||"Q"===e.charAt(0)){const t=Digest.decode(base58btc.decode(`z${e}`));return e.startsWith("12D")?new Ed25519PeerIdImpl({multihash:t}):e.startsWith("16U")?new Secp256k1PeerIdImpl({multihash:t}):new RSAPeerIdImpl({multihash:t})}return function(e){try{const t=Digest.decode(e);if(t.code===identity.code){if(t.digest.length===MARSHALLED_ED225519_PUBLIC_KEY_LENGTH)return new Ed25519PeerIdImpl({multihash:t});if(t.digest.length===MARSHALLED_SECP256K1_PUBLIC_KEY_LENGTH)return new Secp256k1PeerIdImpl({multihash:t})}if(t.code===sha256.code)return new RSAPeerIdImpl({multihash:t})}catch{return function(e){if(null==e||null==e.multihash||null==e.version||1===e.version&&e.code!==LIBP2P_KEY_CODE)throw new Error("Supplied PeerID CID is invalid");const t=e.multihash;if(t.code===sha256.code)return new RSAPeerIdImpl({multihash:e.multihash});if(t.code===identity.code){if(t.digest.length===MARSHALLED_ED225519_PUBLIC_KEY_LENGTH)return new Ed25519PeerIdImpl({multihash:e.multihash});if(t.digest.length===MARSHALLED_SECP256K1_PUBLIC_KEY_LENGTH)return new Secp256k1PeerIdImpl({multihash:e.multihash})}throw new Error("Supplied PeerID CID is invalid")}(CID.decode(e))}throw new Error("Supplied PeerID CID is invalid")}(baseDecoder.decode(e))}(e).equals(this);if(null!=e?.multihash?.bytes)return uint8ArrayEquals(this.multihash.bytes,e.multihash.bytes);throw new Error("not valid Id")}[inspect](){return`PeerId(${this.toString()})`}}var c,u,l=r(46888);!function(e){let t;e.codec=()=>(null==t&&(t=(0,l.yw)(((e,t,r={})=>{if(!1!==r.lengthDelimited&&t.fork(),null!=e.webtransportCerthashes)for(const r of e.webtransportCerthashes)t.uint32(10),t.bytes(r);!1!==r.lengthDelimited&&t.ldelim()}),((e,t)=>{const r={webtransportCerthashes:[]},n=null==t?e.len:e.pos+t;for(;e.pos<n;){const t=e.uint32();if(t>>>3==1)r.webtransportCerthashes.push(e.bytes());else e.skipType(7&t)}return r}))),t),e.encode=t=>(0,l.LE)(t,e.codec()),e.decode=t=>(0,l.C6)(t,e.codec())}(c||(c={})),function(e){let t;e.codec=()=>(null==t&&(t=(0,l.yw)(((e,t,r={})=>{!1!==r.lengthDelimited&&t.fork(),(!0===r.writeDefaults||null!=e.identityKey&&e.identityKey.byteLength>0)&&(t.uint32(10),t.bytes(e.identityKey??new Uint8Array(0))),(!0===r.writeDefaults||null!=e.identitySig&&e.identitySig.byteLength>0)&&(t.uint32(18),t.bytes(e.identitySig??new Uint8Array(0))),null!=e.extensions&&(t.uint32(34),c.codec().encode(e.extensions,t,{writeDefaults:!1})),!1!==r.lengthDelimited&&t.ldelim()}),((e,t)=>{const r={identityKey:new Uint8Array(0),identitySig:new Uint8Array(0)},n=null==t?e.len:e.pos+t;for(;e.pos<n;){const t=e.uint32();switch(t>>>3){case 1:r.identityKey=e.bytes();break;case 2:r.identitySig=e.bytes();break;case 4:r.extensions=c.codec().decode(e,e.uint32());break;default:e.skipType(7&t)}}return r}))),t),e.encode=t=>(0,l.LE)(t,e.codec()),e.decode=t=>(0,l.C6)(t,e.codec())}(u||(u={}));r(94239);const h=(0,r(17594).kg)("libp2p:noise");let d;d=n?h:Object.assign((()=>{}),{enabled:!1,trace:()=>{},error:()=>{}})},22378:function(e,t,r){"use strict";r.d(t,{Jz:function(){return n},_q:function(){return o},nh:function(){return s}});var n,i,s,o,a=r(46888);!function(e){e.RSA="RSA",e.Ed25519="Ed25519",e.Secp256k1="Secp256k1"}(n||(n={})),function(e){e[e.RSA=0]="RSA",e[e.Ed25519=1]="Ed25519",e[e.Secp256k1=2]="Secp256k1"}(i||(i={})),function(e){e.codec=()=>(0,a.Ji)(i)}(n||(n={})),function(e){let t;e.codec=()=>(null==t&&(t=(0,a.yw)(((e,t,r={})=>{!1!==r.lengthDelimited&&t.fork(),null!=e.Type&&(t.uint32(8),n.codec().encode(e.Type,t)),null!=e.Data&&(t.uint32(18),t.bytes(e.Data)),!1!==r.lengthDelimited&&t.ldelim()}),((e,t)=>{const r={},i=null==t?e.len:e.pos+t;for(;e.pos<i;){const t=e.uint32();switch(t>>>3){case 1:r.Type=n.codec().decode(e);break;case 2:r.Data=e.bytes();break;default:e.skipType(7&t)}}return r}))),t),e.encode=t=>(0,a.LE)(t,e.codec()),e.decode=t=>(0,a.C6)(t,e.codec())}(s||(s={})),function(e){let t;e.codec=()=>(null==t&&(t=(0,a.yw)(((e,t,r={})=>{!1!==r.lengthDelimited&&t.fork(),null!=e.Type&&(t.uint32(8),n.codec().encode(e.Type,t)),null!=e.Data&&(t.uint32(18),t.bytes(e.Data)),!1!==r.lengthDelimited&&t.ldelim()}),((e,t)=>{const r={},i=null==t?e.len:e.pos+t;for(;e.pos<i;){const t=e.uint32();switch(t>>>3){case 1:r.Type=n.codec().decode(e);break;case 2:r.Data=e.bytes();break;default:e.skipType(7&t)}}return r}))),t),e.encode=t=>(0,a.LE)(t,e.codec()),e.decode=t=>(0,a.C6)(t,e.codec())}(o||(o={}))},69350:function(e,t,r){"use strict";r.r(t),r.d(t,{base32:function(){return i},base32hex:function(){return c},base32hexpad:function(){return l},base32hexpadupper:function(){return h},base32hexupper:function(){return u},base32pad:function(){return o},base32padupper:function(){return a},base32upper:function(){return s},base32z:function(){return d}});var n=r(20038);const i=(0,n.ET)({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),s=(0,n.ET)({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),o=(0,n.ET)({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),a=(0,n.ET)({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),c=(0,n.ET)({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),u=(0,n.ET)({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),l=(0,n.ET)({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),h=(0,n.ET)({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),d=(0,n.ET)({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})},97565:function(e,t,r){"use strict";r.r(t),r.d(t,{base58btc:function(){return i},base58flickr:function(){return s}});var n=r(20038);const i=(0,n.kU)({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),s=(0,n.kU)({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})},18160:function(e,t,r){"use strict";r.d(t,{BB:function(){return s},mL:function(){return i},oQ:function(){return n}});new Uint8Array(0);const n=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},i=e=>(new TextEncoder).encode(e),s=e=>(new TextDecoder).decode(e)},85107:function(e,t,r){"use strict";r(69350),r(97565),r(18160),r(82094),r(52762);new WeakMap;class n{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:e,multihash:t}=this;if(e!==DAG_PB_CODE)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==SHA_256_CODE)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return n.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:e,digest:t}=this.multihash,r=Digest.create(e,t);return n.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return n.equals(this,e)}static equals(e,t){const r=t;return r&&e.code===r.code&&e.version===r.version&&Digest.equals(e.multihash,r.multihash)}toString(e){return format(this,e)}toJSON(){return{"/":format(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(null==e)return null;const t=e;if(t instanceof n)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){const{version:e,code:r,multihash:i,bytes:s}=t;return new n(e,r,i,s||encodeCID(e,r,i.bytes))}if(!0===t[cidSymbol]){const{version:e,multihash:r,code:i}=t,s=Digest.decode(r);return n.create(e,i,s)}return null}static create(e,t,r){if("number"!=typeof t)throw new Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:if(t!==DAG_PB_CODE)throw new Error(`Version 0 CID must use dag-pb (code: ${DAG_PB_CODE}) block encoding`);return new n(e,t,r,r.bytes);case 1:{const i=encodeCID(e,t,r.bytes);return new n(e,t,r,i)}default:throw new Error("Invalid version")}}static createV0(e){return n.create(0,DAG_PB_CODE,e)}static createV1(e,t){return n.create(1,e,t)}static decode(e){const[t,r]=n.decodeFirst(e);if(r.length)throw new Error("Incorrect length");return t}static decodeFirst(e){const t=n.inspectBytes(e),r=t.size-t.multihashSize,i=coerce(e.subarray(r,r+t.multihashSize));if(i.byteLength!==t.multihashSize)throw new Error("Incorrect length");const s=i.subarray(t.multihashSize-t.digestSize),o=new Digest.Digest(t.multihashCode,t.digestSize,s,i);return[0===t.version?n.createV0(o):n.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0;const r=()=>{const[r,n]=varint.decode(e.subarray(t));return n,r};let n=r(),i=DAG_PB_CODE;if(18===n?(0,0):r(),0!==n&&1!==n)throw new RangeError(`Invalid CID version ${n}`);const s=t,o=r(),a=r(),c=t+a;return{version:n,codec:i,multihashCode:o,digestSize:a,multihashSize:c-s,size:c}}static parse(e,t){const[r,i]=parseCIDtoBytes(e,t),s=n.decode(i);if(0===s.version&&"Q"!==e[0])throw Error("Version 0 CID string must not include multibase prefix");return baseCache(s).set(r,e),s}}Symbol.for("@ipld/js-cid/CID")},82094:function(e,t,r){"use strict";r.d(t,{Ue:function(){return i}});r(18160);var n=r(52762);const i=(e,t)=>{const r=t.byteLength,i=n.P$(e),o=i+n.P$(r),a=new Uint8Array(o+r);return n.mL(e,a,0),n.mL(r,a,i),a.set(t,o),new s(e,r,t,a)};class s{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}},55443:function(e,t,r){"use strict";r.r(t),r.d(t,{identity:function(){return o}});var n=r(18160),i=r(82094);const s=n.oQ,o={code:0,name:"identity",encode:s,digest:e=>i.Ue(0,s(e))}},43846:function(e,t,r){"use strict";r.r(t),r.d(t,{sha256:function(){return s},sha512:function(){return o}});var n=r(66838);const i=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),s=(0,n.D)({name:"sha2-256",code:18,encode:i("SHA-256")}),o=(0,n.D)({name:"sha2-512",code:19,encode:i("SHA-512")})},52762:function(e,t,r){"use strict";r.d(t,{mL:function(){return w},P$:function(){return _}});var n=function e(t,r,n){r=r||[];var a=n=n||0;for(;t>=o;)r[n++]=255&t|i,t/=128;for(;t&s;)r[n++]=255&t|i,t>>>=7;return r[n]=0|t,e.bytes=n-a+1,r},i=128,s=-128,o=Math.pow(2,31);var a=function e(t,r){var n,i=0,s=0,o=r=r||0,a=t.length;do{if(o>=a)throw e.bytes=0,new RangeError("Could not decode varint");n=t[o++],i+=s<28?(n&u)<<s:(n&u)*Math.pow(2,s),s+=7}while(n>=c);return e.bytes=o-r,i},c=128,u=127;var l=Math.pow(2,7),h=Math.pow(2,14),d=Math.pow(2,21),f=Math.pow(2,28),p=Math.pow(2,35),b=Math.pow(2,42),y=Math.pow(2,49),m=Math.pow(2,56),g=Math.pow(2,63),E={encode:n,decode:a,encodingLength:function(e){return e<l?1:e<h?2:e<d?3:e<f?4:e<p?5:e<b?6:e<y?7:e<m?8:e<g?9:10}};const w=(e,t,r=0)=>(E.encode(e,t,r),t),_=e=>E.encodingLength(e)},48430:function(e,t,r){"use strict";var n=r(48882),i=r(81613);function s(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}const o=s("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),a=s("ascii","a",(e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}),(e=>{e=e.substring(1);const t=(0,i.E)(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t})),c={utf8:o,"utf-8":o,hex:n.gh.base16,latin1:a,ascii:a,binary:a,...n.gh};t.Z=c},16397:function(e,t,r){"use strict";r(49541);var n=r(11227),i=r(10468),s=r(10360),o=r(40917);n.formatters.b=e=>null==e?"undefined":s.i.baseEncode(e),n.formatters.t=e=>null==e?"undefined":i.pJ.baseEncode(e),n.formatters.m=e=>null==e?"undefined":o.US.baseEncode(e),n.formatters.p=e=>null==e?"undefined":e.toString(),n.formatters.c=e=>null==e?"undefined":e.toString(),n.formatters.k=e=>null==e?"undefined":e.toString(),n.formatters.a=e=>null==e?"undefined":e.toString();class a extends Error{constructor(e,t){super(e??"The operation was aborted"),this.type="aborted",this.code=t??"ABORT_ERR"}}r(90212);class c extends Error{type;code;constructor(e,t){super(e??"The operation was aborted"),this.type="aborted",this.code=t??"ABORT_ERR"}}new Set(["ERR_INVALID_FRAME","ERR_UNREQUESTED_PING","ERR_NOT_MATCHING_PING","ERR_STREAM_ALREADY_EXISTS","ERR_DECODE_INVALID_VERSION","ERR_BOTH_CLIENTS","ERR_RECV_WINDOW_EXCEEDED"]),function(e){let t=function(e){const t=()=>{};return t.enabled=!1,t.color="",t.diff=0,t.log=()=>{},t.namespace=e,t.destroy=()=>!0,t.extend=()=>t,t}(`${e}:trace`);n.enabled(`${e}:trace`)&&null!=n.names.map((e=>e.toString())).find((e=>e.includes(":trace")))&&(t=n(`${e}:trace`)),Object.assign(n(e),{error:n(`${e}:error`),trace:t})}("libp2p:yamux");var u,l;r(62308);!function(e){e[e.Data=0]="Data",e[e.WindowUpdate=1]="WindowUpdate",e[e.Ping=2]="Ping",e[e.GoAway=3]="GoAway"}(u||(u={})),function(e){e[e.SYN=1]="SYN",e[e.ACK=2]="ACK",e[e.FIN=4]="FIN",e[e.RST=8]="RST"}(l||(l={}));Object.values(l).filter((e=>"string"!=typeof e));var h;!function(e){e[e.NormalTermination=0]="NormalTermination",e[e.ProtocolError=1]="ProtocolError",e[e.InternalError=2]="InternalError"}(h||(h={}));var d;r(6146);!function(e){e[e.Init=0]="Init",e[e.SYNSent=1]="SYNSent",e[e.SYNReceived=2]="SYNReceived",e[e.Established=3]="Established",e[e.Finished=4]="Finished"}(d||(d={}))},90560:function(e,t,r){"use strict";r.d(t,{code:function(){return o}});r(64936);var n=r(38161);const i=42;const s={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,rejectDuplicateMapKeys:!0,tags:[]};s.tags[i]=function(e){if(0!==e[0])throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return n.k0.decode(e.subarray(1))};const o=113},75845:function(e,t,r){"use strict";r(23247);var n=r(85521),i=r(87425),s=(r(49541),r(5681)),o=(r(51926),r(88763));r(44223),r(52477),r(95272),r(27588);Symbol.for("nodejs.util.inspect.custom"),Object.values(o.gh).map((e=>e.decoder)).reduce(((e,t)=>e.or(t)),o.gh.identity.decoder);class a{type;multihash;privateKey;publicKey;string;constructor(e){this.type=e.type,this.multihash=e.multihash,this.privateKey=e.privateKey,Object.defineProperty(this,"string",{enumerable:!1,writable:!0})}get[Symbol.toStringTag](){return`PeerId(${this.toString()})`}[s.N]=!0;toString(){return null==this.string&&(this.string=base58btc.encode(this.multihash.bytes).slice(1)),this.string}toCID(){return CID.createV1(LIBP2P_KEY_CODE,this.multihash)}toBytes(){return this.multihash.bytes}toJSON(){return this.toString()}equals(e){if(e instanceof Uint8Array)return uint8ArrayEquals(this.multihash.bytes,e);if("string"==typeof e)return function(e,t){if(t??baseDecoder,"1"===e.charAt(0)||"Q"===e.charAt(0)){const t=Digest.decode(base58btc.decode(`z${e}`));return e.startsWith("12D")?new Ed25519PeerIdImpl({multihash:t}):e.startsWith("16U")?new Secp256k1PeerIdImpl({multihash:t}):new RSAPeerIdImpl({multihash:t})}return function(e){try{const t=Digest.decode(e);if(t.code===identity.code){if(t.digest.length===MARSHALLED_ED225519_PUBLIC_KEY_LENGTH)return new Ed25519PeerIdImpl({multihash:t});if(t.digest.length===MARSHALLED_SECP256K1_PUBLIC_KEY_LENGTH)return new Secp256k1PeerIdImpl({multihash:t})}if(t.code===sha256.code)return new RSAPeerIdImpl({multihash:t})}catch{return function(e){if(null==e||null==e.multihash||null==e.version||1===e.version&&e.code!==LIBP2P_KEY_CODE)throw new Error("Supplied PeerID CID is invalid");const t=e.multihash;if(t.code===sha256.code)return new RSAPeerIdImpl({multihash:e.multihash});if(t.code===identity.code){if(t.digest.length===MARSHALLED_ED225519_PUBLIC_KEY_LENGTH)return new Ed25519PeerIdImpl({multihash:e.multihash});if(t.digest.length===MARSHALLED_SECP256K1_PUBLIC_KEY_LENGTH)return new Secp256k1PeerIdImpl({multihash:e.multihash})}throw new Error("Supplied PeerID CID is invalid")}(CID.decode(e))}throw new Error("Supplied PeerID CID is invalid")}(baseDecoder.decode(e))}(e).equals(this);if(null!=e?.multihash?.bytes)return uint8ArrayEquals(this.multihash.bytes,e.multihash.bytes);throw new Error("not valid Id")}[inspect](){return`PeerId(${this.toString()})`}}r(76237),r(82199);(0,i.kg)("libp2p:bootstrap");class c extends(null){static tag=null;timer;list;timeout;components;_init;constructor(e,t={list:[]}){if(null==t.list||0===t.list.length)throw new Error("Bootstrap requires a list of peer addresses");super(),this.components=e,this.timeout=t.timeout??1e3,this.list=[];for(const e of t.list){if(!P2P.matches(e)){log.error("Invalid multiaddr");continue}const t=multiaddr(e),r=t.getPeerId();if(null==r){log.error("Invalid bootstrap multiaddr without peer id");continue}const n={id:peerIdFromString(r),multiaddrs:[t],protocols:[]};this.list.push(n)}this._init=t}[n.O]=this;[Symbol.toStringTag]="@libp2p/bootstrap";isStarted(){return Boolean(this.timer)}start(){this.isStarted()||(log("Starting bootstrap node discovery, discovering peers after %s ms",this.timeout),this.timer=setTimeout((()=>{this._discoverBootstrapPeers().catch((e=>{log.error(e)}))}),this.timeout))}async _discoverBootstrapPeers(){if(null!=this.timer)for(const e of this.list){if(await this.components.peerStore.merge(e.id,{tags:{[this._init.tagName??"bootstrap"]:{value:this._init.tagValue??50,ttl:this._init.tagTTL??12e4}}}),null==this.timer)return;this.safeDispatchEvent("peer",{detail:e})}}stop(){null!=this.timer&&clearTimeout(this.timer),this.timer=void 0}}},813:function(e,t,r){"use strict";r(9839),r(15179),r(51926);var n=r(88763);r(44223),r(52477),r(57050),r(77408),r(49784),r(49736);var i=r(47500);(0,i.Ev)("ip4"),(0,i.Ev)("ip6"),(0,i.Ev)("ipcidr");const s=Object.values(n.gh).map((e=>e.decoder));!function(){let e=s[0].or(s[1]);s.slice(2).forEach((t=>e=e.or(t)))}()},82199:function(e,t,r){"use strict";r(49541),r(51926),r(44223),r(49784),r(57050),r(813);var n=r(47500);r(68020);Symbol.for("nodejs.util.inspect.custom"),(0,n.Ev)("dns").code,(0,n.Ev)("dns4").code,(0,n.Ev)("dns6").code,(0,n.Ev)("dnsaddr").code,new Map,Symbol.for("@multiformats/js-multiaddr/multiaddr")},47500:function(e,t,r){"use strict";r.d(t,{Ev:function(){return o}});const n=-1,i={},s={};function o(e){if("number"==typeof e){if(null!=s[e])return s[e];throw new Error(`no protocol with code: ${e}`)}if("string"==typeof e){if(null!=i[e])return i[e];throw new Error(`no protocol with name: ${e}`)}throw new Error("invalid protocol id type: "+typeof e)}[[4,32,"ip4"],[6,16,"tcp"],[33,16,"dccp"],[41,128,"ip6"],[42,n,"ip6zone"],[43,8,"ipcidr"],[53,n,"dns",!0],[54,n,"dns4",!0],[55,n,"dns6",!0],[56,n,"dnsaddr",!0],[132,16,"sctp"],[273,16,"udp"],[275,0,"p2p-webrtc-star"],[276,0,"p2p-webrtc-direct"],[277,0,"p2p-stardust"],[280,0,"webrtc-direct"],[281,0,"webrtc"],[290,0,"p2p-circuit"],[301,0,"udt"],[302,0,"utp"],[400,n,"unix",!1,!0],[421,n,"ipfs"],[421,n,"p2p"],[443,0,"https"],[444,96,"onion"],[445,296,"onion3"],[446,n,"garlic64"],[448,0,"tls"],[449,n,"sni"],[460,0,"quic"],[461,0,"quic-v1"],[465,0,"webtransport"],[466,n,"certhash"],[477,0,"ws"],[478,0,"wss"],[479,0,"p2p-websocket-star"],[480,0,"http"],[777,n,"memory"]].forEach((e=>{const t=function(e,t,r,n,i){return{code:e,size:t,name:r,resolvable:Boolean(n),path:Boolean(i)}}(...e);s[t.code]=t,i[t.name]=t}))},15179:function(e,t,r){"use strict";r.r(t),r.d(t,{base32:function(){return i},base32hex:function(){return c},base32hexpad:function(){return l},base32hexpadupper:function(){return h},base32hexupper:function(){return u},base32pad:function(){return o},base32padupper:function(){return a},base32upper:function(){return s},base32z:function(){return d}});var n=r(89366);const i=(0,n.ET)({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),s=(0,n.ET)({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),o=(0,n.ET)({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),a=(0,n.ET)({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),c=(0,n.ET)({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),u=(0,n.ET)({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),l=(0,n.ET)({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),h=(0,n.ET)({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),d=(0,n.ET)({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})},51926:function(e,t,r){"use strict";r.r(t),r.d(t,{base58btc:function(){return i},base58flickr:function(){return s}});var n=r(89366);const i=(0,n.kU)({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),s=(0,n.kU)({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})},32329:function(e,t,r){"use strict";r.d(t,{BB:function(){return s},mL:function(){return i},oQ:function(){return n}});new Uint8Array(0);const n=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},i=e=>(new TextEncoder).encode(e),s=e=>(new TextDecoder).decode(e)},44223:function(e,t,r){"use strict";r(15179),r(51926),r(32329),r(52477),r(87593);new WeakMap;class n{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:e,multihash:t}=this;if(e!==DAG_PB_CODE)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==SHA_256_CODE)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return n.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:e,digest:t}=this.multihash,r=Digest.create(e,t);return n.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return n.equals(this,e)}static equals(e,t){const r=t;return r&&e.code===r.code&&e.version===r.version&&Digest.equals(e.multihash,r.multihash)}toString(e){return format(this,e)}toJSON(){return{"/":format(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(null==e)return null;const t=e;if(t instanceof n)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){const{version:e,code:r,multihash:i,bytes:s}=t;return new n(e,r,i,s||encodeCID(e,r,i.bytes))}if(!0===t[cidSymbol]){const{version:e,multihash:r,code:i}=t,s=Digest.decode(r);return n.create(e,i,s)}return null}static create(e,t,r){if("number"!=typeof t)throw new Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:if(t!==DAG_PB_CODE)throw new Error(`Version 0 CID must use dag-pb (code: ${DAG_PB_CODE}) block encoding`);return new n(e,t,r,r.bytes);case 1:{const i=encodeCID(e,t,r.bytes);return new n(e,t,r,i)}default:throw new Error("Invalid version")}}static createV0(e){return n.create(0,DAG_PB_CODE,e)}static createV1(e,t){return n.create(1,e,t)}static decode(e){const[t,r]=n.decodeFirst(e);if(r.length)throw new Error("Incorrect length");return t}static decodeFirst(e){const t=n.inspectBytes(e),r=t.size-t.multihashSize,i=coerce(e.subarray(r,r+t.multihashSize));if(i.byteLength!==t.multihashSize)throw new Error("Incorrect length");const s=i.subarray(t.multihashSize-t.digestSize),o=new Digest.Digest(t.multihashCode,t.digestSize,s,i);return[0===t.version?n.createV0(o):n.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0;const r=()=>{const[r,n]=varint.decode(e.subarray(t));return n,r};let n=r(),i=DAG_PB_CODE;if(18===n?(0,0):r(),0!==n&&1!==n)throw new RangeError(`Invalid CID version ${n}`);const s=t,o=r(),a=r(),c=t+a;return{version:n,codec:i,multihashCode:o,digestSize:a,multihashSize:c-s,size:c}}static parse(e,t){const[r,i]=parseCIDtoBytes(e,t),s=n.decode(i);if(0===s.version&&"Q"!==e[0])throw Error("Version 0 CID string must not include multibase prefix");return baseCache(s).set(r,e),s}}Symbol.for("@ipld/js-cid/CID")},52477:function(e,t,r){"use strict";r.d(t,{Ue:function(){return i}});r(32329);var n=r(87593);const i=(e,t)=>{const r=t.byteLength,i=n.P$(e),o=i+n.P$(r),a=new Uint8Array(o+r);return n.mL(e,a,0),n.mL(r,a,i),a.set(t,o),new s(e,r,t,a)};class s{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}},95272:function(e,t,r){"use strict";r.r(t),r.d(t,{identity:function(){return o}});var n=r(32329),i=r(52477);const s=n.oQ,o={code:0,name:"identity",encode:s,digest:e=>i.Ue(0,s(e))}},27588:function(e,t,r){"use strict";r.r(t),r.d(t,{sha256:function(){return s},sha512:function(){return o}});var n=r(44641);const i=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),s=(0,n.D)({name:"sha2-256",code:18,encode:i("SHA-256")}),o=(0,n.D)({name:"sha2-512",code:19,encode:i("SHA-512")})},87593:function(e,t,r){"use strict";r.d(t,{mL:function(){return w},P$:function(){return _}});var n=function e(t,r,n){r=r||[];var a=n=n||0;for(;t>=o;)r[n++]=255&t|i,t/=128;for(;t&s;)r[n++]=255&t|i,t>>>=7;return r[n]=0|t,e.bytes=n-a+1,r},i=128,s=-128,o=Math.pow(2,31);var a=function e(t,r){var n,i=0,s=0,o=r=r||0,a=t.length;do{if(o>=a)throw e.bytes=0,new RangeError("Could not decode varint");n=t[o++],i+=s<28?(n&u)<<s:(n&u)*Math.pow(2,s),s+=7}while(n>=c);return e.bytes=o-r,i},c=128,u=127;var l=Math.pow(2,7),h=Math.pow(2,14),d=Math.pow(2,21),f=Math.pow(2,28),p=Math.pow(2,35),b=Math.pow(2,42),y=Math.pow(2,49),m=Math.pow(2,56),g=Math.pow(2,63),E={encode:n,decode:a,encodingLength:function(e){return e<l?1:e<h?2:e<d?3:e<f?4:e<p?5:e<b?6:e<y?7:e<m?8:e<g?9:10}};const w=(e,t,r=0)=>(E.encode(e,t,r),t),_=e=>E.encodingLength(e)},27710:function(e,t,r){"use strict";r.d(t,{J:function(){return n}});const n=Symbol.for("@libp2p/content-routing")},49541:function(e,t,r){"use strict";r.d(t,{sv:function(){return i}});class n extends Error{code;type;constructor(e="The operation was aborted"){super(e),this.code=n.code,this.type=n.type}static code=null;static type=null}class i extends Error{code;props;constructor(e,t,r){super(e),this.code=t,this.name=r?.name??"CodeError",this.props=r??{}}}class s extends Error{code;constructor(e="Unexpected Peer"){super(e),this.code=s.code}static code=null}class o extends Error{code;constructor(e="Invalid crypto exchange"){super(e),this.code=o.code}static code=null}class a extends Error{code;constructor(e="Invalid crypto transmission"){super(e),this.code=a.code}static code=null}},23247:function(e,t,r){"use strict";class n extends EventTarget{#e=new Map;listenerCount(e){const t=this.#e.get(e);return null==t?0:t.length}addEventListener(e,t,r){super.addEventListener(e,t,r);let n=this.#e.get(e);null==n&&([],this.#e.set(e,n)),n.push({callback:t,once:(!0!==r&&!1!==r&&r?.once)??!1})}removeEventListener(e,t,r){super.removeEventListener(e.toString(),t??null,r);let n=this.#e.get(e);null!=n&&(n.filter((({callback:e})=>e!==t)),this.#e.set(e,n))}dispatchEvent(e){const t=super.dispatchEvent(e);let r=this.#e.get(e.type);return null==r||(r.filter((({once:e})=>!e)),this.#e.set(e.type,r)),t}safeDispatchEvent(e,t){return this.dispatchEvent(new CustomEvent(e,t))}}class i extends Event{detail;constructor(e,t){super(e,t),this.detail=t?.detail}}globalThis.CustomEvent},40480:function(e,t,r){"use strict";class n extends Map{metric;constructor(e){super();const{name:t,metrics:r}=e;this.metric=r.registerMetric(t),this.updateComponentMetric()}set(e,t){return super.set(e,t),this.updateComponentMetric(),this}delete(e){const t=super.delete(e);return this.updateComponentMetric(),t}clear(){super.clear(),this.updateComponentMetric()}updateComponentMetric(){this.metric.update(this.size)}}},85521:function(e,t,r){"use strict";r.d(t,{O:function(){return n}});const n=Symbol.for("@libp2p/peer-discovery")},5681:function(e,t,r){"use strict";r.d(t,{N:function(){return n}});const n=Symbol.for("@libp2p/peer-id")},77309:function(e,t,r){"use strict";r.d(t,{z:function(){return n}});const n=Symbol.for("@libp2p/peer-routing")},92679:function(e,t,r){"use strict";var n;!function(e){e.Accept="accept",e.Ignore="ignore",e.Reject="reject"}(n||(n={}))},6146:function(e,t,r){"use strict";class n extends Error{constructor(e,t){super(e??"The operation was aborted"),this.type="aborted",this.code=t??"ABORT_ERR"}}class i extends Error{type;code;constructor(e,t){super(e??"The operation was aborted"),this.type="aborted",this.code=t??"ABORT_ERR"}}r(62308),r(49541)},55265:function(e,t,r){"use strict";r.d(t,{NA:function(){return n},P7:function(){return i}});const n=Symbol.for("@libp2p/transport");var i;!function(e){e[e.FATAL_ALL=0]="FATAL_ALL",e[e.NO_FATAL=1]="NO_FATAL"}(i||(i={}))},49796:function(e,t,r){"use strict";r(49541);var n=r(54080),i=r(5681),s=(r(1562),r(68723));r(63579),r(80394),r(38923),r(13341);Symbol.for("nodejs.util.inspect.custom"),Object.values(s.gh).map((e=>e.decoder)).reduce(((e,t)=>e.or(t)),s.gh.identity.decoder);class o{type;multihash;privateKey;publicKey;string;constructor(e){this.type=e.type,this.multihash=e.multihash,this.privateKey=e.privateKey,Object.defineProperty(this,"string",{enumerable:!1,writable:!0})}get[Symbol.toStringTag](){return`PeerId(${this.toString()})`}[i.N]=!0;toString(){return null==this.string&&(this.string=base58btc.encode(this.multihash.bytes).slice(1)),this.string}toCID(){return CID.createV1(LIBP2P_KEY_CODE,this.multihash)}toBytes(){return this.multihash.bytes}toJSON(){return this.toString()}equals(e){if(e instanceof Uint8Array)return uint8ArrayEquals(this.multihash.bytes,e);if("string"==typeof e)return function(e,t){if(t??baseDecoder,"1"===e.charAt(0)||"Q"===e.charAt(0)){const t=Digest.decode(base58btc.decode(`z${e}`));return e.startsWith("12D")?new Ed25519PeerIdImpl({multihash:t}):e.startsWith("16U")?new Secp256k1PeerIdImpl({multihash:t}):new RSAPeerIdImpl({multihash:t})}return function(e){try{const t=Digest.decode(e);if(t.code===identity.code){if(t.digest.length===MARSHALLED_ED225519_PUBLIC_KEY_LENGTH)return new Ed25519PeerIdImpl({multihash:t});if(t.digest.length===MARSHALLED_SECP256K1_PUBLIC_KEY_LENGTH)return new Secp256k1PeerIdImpl({multihash:t})}if(t.code===sha256.code)return new RSAPeerIdImpl({multihash:t})}catch{return function(e){if(null==e||null==e.multihash||null==e.version||1===e.version&&e.code!==LIBP2P_KEY_CODE)throw new Error("Supplied PeerID CID is invalid");const t=e.multihash;if(t.code===sha256.code)return new RSAPeerIdImpl({multihash:e.multihash});if(t.code===identity.code){if(t.digest.length===MARSHALLED_ED225519_PUBLIC_KEY_LENGTH)return new Ed25519PeerIdImpl({multihash:e.multihash});if(t.digest.length===MARSHALLED_SECP256K1_PUBLIC_KEY_LENGTH)return new Secp256k1PeerIdImpl({multihash:e.multihash})}throw new Error("Supplied PeerID CID is invalid")}(CID.decode(e))}throw new Error("Supplied PeerID CID is invalid")}(baseDecoder.decode(e))}(e).equals(this);if(null!=e?.multihash?.bytes)return uint8ArrayEquals(this.multihash.bytes,e.multihash.bytes);throw new Error("not valid Id")}[inspect](){return`PeerId(${this.toString()})`}}r(47674),r(24094),r(96945),r(71198);new WeakMap;var a,c,u,l,h,d,f,p,b,y,m,g,E,w,_,v,D,S,I,A,C,R=function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},T=function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};class P extends Error{}c=new WeakMap,u=new WeakMap,l=new WeakMap,h=new WeakMap,d=new WeakMap,f=new WeakMap,p=new WeakMap,b=new WeakMap,y=new WeakMap,new WeakMap,m=new WeakMap,g=new WeakMap,E=new WeakMap,new WeakMap,a=new WeakSet,w=function(){return T(this,u,"f")||T(this,l,"f")<T(this,h,"f")},_=function(){return T(this,m,"f")<T(this,g,"f")},v=function(){T(this,a,"m",A).call(this),T(this,a,"m",I).call(this),R(this,b,void 0,"f")},D=function(){const e=Date.now();if(void 0===T(this,p,"f")){const t=T(this,f,"f")-e;if(!(t<0))return void 0===T(this,b,"f")&&R(this,b,setTimeout((()=>{T(this,a,"m",v).call(this)}),t),"f"),!0;R(this,l,T(this,c,"f")?T(this,m,"f"):0,"f")}return!1},S=function(){if(0===T(this,y,"f").size)return T(this,p,"f")&&clearInterval(T(this,p,"f")),R(this,p,void 0,"f"),this.emit("empty"),0===T(this,m,"f")&&this.emit("idle"),!1;if(!T(this,E,"f")){const e=!T(this,a,"a",D);if(T(this,a,"a",w)&&T(this,a,"a",_)){const t=T(this,y,"f").dequeue();return!!t&&(this.emit("active"),t(),e&&T(this,a,"m",I).call(this),!0)}}return!1},I=function(){T(this,u,"f")||void 0!==T(this,p,"f")||(R(this,p,setInterval((()=>{T(this,a,"m",A).call(this)}),T(this,d,"f")),"f"),R(this,f,Date.now()+T(this,d,"f"),"f"))},A=function(){0===T(this,l,"f")&&0===T(this,m,"f")&&T(this,p,"f")&&(clearInterval(T(this,p,"f")),R(this,p,void 0,"f")),R(this,l,T(this,c,"f")?T(this,m,"f"):0,"f"),T(this,a,"m",C).call(this)},C=function(){for(;T(this,a,"m",S).call(this););};(0,n.kg)("ipni-content-routing")},45831:function(e,t,r){"use strict";r(9839),r(17023),r(1562);var n=r(68723);r(63579),r(80394),r(57050),r(77408),r(49784),r(49736);var i=r(31958);(0,i.Ev)("ip4"),(0,i.Ev)("ip6"),(0,i.Ev)("ipcidr");const s=Object.values(n.gh).map((e=>e.decoder));!function(){let e=s[0].or(s[1]);s.slice(2).forEach((t=>e=e.or(t)))}()},47674:function(e,t,r){"use strict";r(49541),r(1562),r(63579),r(49784),r(57050),r(45831);var n=r(31958);r(80280);Symbol.for("nodejs.util.inspect.custom"),(0,n.Ev)("dns").code,(0,n.Ev)("dns4").code,(0,n.Ev)("dns6").code,(0,n.Ev)("dnsaddr").code,new Map,Symbol.for("@multiformats/js-multiaddr/multiaddr")},31958:function(e,t,r){"use strict";r.d(t,{Ev:function(){return o}});const n=-1,i={},s={};function o(e){if("number"==typeof e){if(null!=s[e])return s[e];throw new Error(`no protocol with code: ${e}`)}if("string"==typeof e){if(null!=i[e])return i[e];throw new Error(`no protocol with name: ${e}`)}throw new Error("invalid protocol id type: "+typeof e)}[[4,32,"ip4"],[6,16,"tcp"],[33,16,"dccp"],[41,128,"ip6"],[42,n,"ip6zone"],[43,8,"ipcidr"],[53,n,"dns",!0],[54,n,"dns4",!0],[55,n,"dns6",!0],[56,n,"dnsaddr",!0],[132,16,"sctp"],[273,16,"udp"],[275,0,"p2p-webrtc-star"],[276,0,"p2p-webrtc-direct"],[277,0,"p2p-stardust"],[280,0,"webrtc-direct"],[281,0,"webrtc"],[290,0,"p2p-circuit"],[301,0,"udt"],[302,0,"utp"],[400,n,"unix",!1,!0],[421,n,"ipfs"],[421,n,"p2p"],[443,0,"https"],[444,96,"onion"],[445,296,"onion3"],[446,n,"garlic64"],[448,0,"tls"],[449,n,"sni"],[460,0,"quic"],[461,0,"quic-v1"],[465,0,"webtransport"],[466,n,"certhash"],[477,0,"ws"],[478,0,"wss"],[479,0,"p2p-websocket-star"],[480,0,"http"],[777,n,"memory"]].forEach((e=>{const t=function(e,t,r,n,i){return{code:e,size:t,name:r,resolvable:Boolean(n),path:Boolean(i)}}(...e);s[t.code]=t,i[t.name]=t}))},17023:function(e,t,r){"use strict";r.r(t),r.d(t,{base32:function(){return i},base32hex:function(){return c},base32hexpad:function(){return l},base32hexpadupper:function(){return h},base32hexupper:function(){return u},base32pad:function(){return o},base32padupper:function(){return a},base32upper:function(){return s},base32z:function(){return d}});var n=r(65784);const i=(0,n.ET)({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),s=(0,n.ET)({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),o=(0,n.ET)({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),a=(0,n.ET)({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),c=(0,n.ET)({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),u=(0,n.ET)({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),l=(0,n.ET)({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),h=(0,n.ET)({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),d=(0,n.ET)({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})},1562:function(e,t,r){"use strict";r.r(t),r.d(t,{base58btc:function(){return i},base58flickr:function(){return s}});var n=r(65784);const i=(0,n.kU)({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),s=(0,n.kU)({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})},29540:function(e,t,r){"use strict";r.d(t,{BB:function(){return s},mL:function(){return i},oQ:function(){return n}});new Uint8Array(0);const n=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},i=e=>(new TextEncoder).encode(e),s=e=>(new TextDecoder).decode(e)},63579:function(e,t,r){"use strict";r(17023),r(1562),r(29540),r(80394),r(75710);new WeakMap;class n{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:e,multihash:t}=this;if(e!==DAG_PB_CODE)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==SHA_256_CODE)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return n.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:e,digest:t}=this.multihash,r=Digest.create(e,t);return n.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return n.equals(this,e)}static equals(e,t){const r=t;return r&&e.code===r.code&&e.version===r.version&&Digest.equals(e.multihash,r.multihash)}toString(e){return format(this,e)}toJSON(){return{"/":format(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(null==e)return null;const t=e;if(t instanceof n)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){const{version:e,code:r,multihash:i,bytes:s}=t;return new n(e,r,i,s||encodeCID(e,r,i.bytes))}if(!0===t[cidSymbol]){const{version:e,multihash:r,code:i}=t,s=Digest.decode(r);return n.create(e,i,s)}return null}static create(e,t,r){if("number"!=typeof t)throw new Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:if(t!==DAG_PB_CODE)throw new Error(`Version 0 CID must use dag-pb (code: ${DAG_PB_CODE}) block encoding`);return new n(e,t,r,r.bytes);case 1:{const i=encodeCID(e,t,r.bytes);return new n(e,t,r,i)}default:throw new Error("Invalid version")}}static createV0(e){return n.create(0,DAG_PB_CODE,e)}static createV1(e,t){return n.create(1,e,t)}static decode(e){const[t,r]=n.decodeFirst(e);if(r.length)throw new Error("Incorrect length");return t}static decodeFirst(e){const t=n.inspectBytes(e),r=t.size-t.multihashSize,i=coerce(e.subarray(r,r+t.multihashSize));if(i.byteLength!==t.multihashSize)throw new Error("Incorrect length");const s=i.subarray(t.multihashSize-t.digestSize),o=new Digest.Digest(t.multihashCode,t.digestSize,s,i);return[0===t.version?n.createV0(o):n.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0;const r=()=>{const[r,n]=varint.decode(e.subarray(t));return n,r};let n=r(),i=DAG_PB_CODE;if(18===n?(0,0):r(),0!==n&&1!==n)throw new RangeError(`Invalid CID version ${n}`);const s=t,o=r(),a=r(),c=t+a;return{version:n,codec:i,multihashCode:o,digestSize:a,multihashSize:c-s,size:c}}static parse(e,t){const[r,i]=parseCIDtoBytes(e,t),s=n.decode(i);if(0===s.version&&"Q"!==e[0])throw Error("Version 0 CID string must not include multibase prefix");return baseCache(s).set(r,e),s}}Symbol.for("@ipld/js-cid/CID")},80394:function(e,t,r){"use strict";r.d(t,{Ue:function(){return i}});r(29540);var n=r(75710);const i=(e,t)=>{const r=t.byteLength,i=n.P$(e),o=i+n.P$(r),a=new Uint8Array(o+r);return n.mL(e,a,0),n.mL(r,a,i),a.set(t,o),new s(e,r,t,a)};class s{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}},38923:function(e,t,r){"use strict";r.r(t),r.d(t,{identity:function(){return o}});var n=r(29540),i=r(80394);const s=n.oQ,o={code:0,name:"identity",encode:s,digest:e=>i.Ue(0,s(e))}},13341:function(e,t,r){"use strict";r.r(t),r.d(t,{sha256:function(){return s},sha512:function(){return o}});var n=r(67411);const i=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),s=(0,n.D)({name:"sha2-256",code:18,encode:i("SHA-256")}),o=(0,n.D)({name:"sha2-512",code:19,encode:i("SHA-512")})},75710:function(e,t,r){"use strict";r.d(t,{mL:function(){return w},P$:function(){return _}});var n=function e(t,r,n){r=r||[];var a=n=n||0;for(;t>=o;)r[n++]=255&t|i,t/=128;for(;t&s;)r[n++]=255&t|i,t>>>=7;return r[n]=0|t,e.bytes=n-a+1,r},i=128,s=-128,o=Math.pow(2,31);var a=function e(t,r){var n,i=0,s=0,o=r=r||0,a=t.length;do{if(o>=a)throw e.bytes=0,new RangeError("Could not decode varint");n=t[o++],i+=s<28?(n&u)<<s:(n&u)*Math.pow(2,s),s+=7}while(n>=c);return e.bytes=o-r,i},c=128,u=127;var l=Math.pow(2,7),h=Math.pow(2,14),d=Math.pow(2,21),f=Math.pow(2,28),p=Math.pow(2,35),b=Math.pow(2,42),y=Math.pow(2,49),m=Math.pow(2,56),g=Math.pow(2,63),E={encode:n,decode:a,encodingLength:function(e){return e<l?1:e<h?2:e<d?3:e<f?4:e<p?5:e<b?6:e<y?7:e<m?8:e<g?9:10}};const w=(e,t,r=0)=>(E.encode(e,t,r),t),_=e=>E.encodingLength(e)},90391:function(e,t,r){"use strict";var n=r(27710),i=(r(49541),r(23247),r(85521)),s=r(77309),o=r(11227),a=r(85322),c=r(69620),u=r(8063);function l(e){let t=function(e){const t=()=>{};return t.enabled=!1,t.color="",t.diff=0,t.log=()=>{},t.namespace=e,t.destroy=()=>!0,t.extend=()=>t,t}(`${e}:trace`);return o.enabled(`${e}:trace`)&&null!=o.names.map((e=>e.toString())).find((e=>e.includes(":trace")))&&(t=o(`${e}:trace`)),Object.assign(o(e),{error:o(`${e}:error`),trace:t})}o.formatters.b=e=>null==e?"undefined":c.base58btc.baseEncode(e),o.formatters.t=e=>null==e?"undefined":a.base32.baseEncode(e),o.formatters.m=e=>null==e?"undefined":u.base64.baseEncode(e),o.formatters.p=e=>null==e?"undefined":e.toString(),o.formatters.c=e=>null==e?"undefined":e.toString(),o.formatters.k=e=>null==e?"undefined":e.toString(),o.formatters.a=e=>null==e?"undefined":e.toString();class h extends Error{type;code;constructor(e,t){super(e??"The operation was aborted"),this.type="aborted",this.code=t??"ABORT_ERR"}}r(53749);const d=1e3;Number(3e5),Number(Number(d)),Number(5e3),Number(3e5),Number(3e4),Number(3e4);r(69849),r(90212);var f=r(5681),p=r(24005);r(18616),r(7188),r(87222),r(28769);Symbol.for("nodejs.util.inspect.custom"),Object.values(p.gh).map((e=>e.decoder)).reduce(((e,t)=>e.or(t)),p.gh.identity.decoder);class b{type;multihash;privateKey;publicKey;string;constructor(e){this.type=e.type,this.multihash=e.multihash,this.privateKey=e.privateKey,Object.defineProperty(this,"string",{enumerable:!1,writable:!0})}get[Symbol.toStringTag](){return`PeerId(${this.toString()})`}[f.N]=!0;toString(){return null==this.string&&(this.string=base58btc.encode(this.multihash.bytes).slice(1)),this.string}toCID(){return CID.createV1(LIBP2P_KEY_CODE,this.multihash)}toBytes(){return this.multihash.bytes}toJSON(){return this.toString()}equals(e){if(e instanceof Uint8Array)return uint8ArrayEquals(this.multihash.bytes,e);if("string"==typeof e)return function(e,t){if(t??baseDecoder,"1"===e.charAt(0)||"Q"===e.charAt(0)){const t=Digest.decode(base58btc.decode(`z${e}`));return e.startsWith("12D")?new Ed25519PeerIdImpl({multihash:t}):e.startsWith("16U")?new Secp256k1PeerIdImpl({multihash:t}):new RSAPeerIdImpl({multihash:t})}return function(e){try{const t=Digest.decode(e);if(t.code===identity.code){if(t.digest.length===MARSHALLED_ED225519_PUBLIC_KEY_LENGTH)return new Ed25519PeerIdImpl({multihash:t});if(t.digest.length===MARSHALLED_SECP256K1_PUBLIC_KEY_LENGTH)return new Secp256k1PeerIdImpl({multihash:t})}if(t.code===sha256.code)return new RSAPeerIdImpl({multihash:t})}catch{return function(e){if(null==e||null==e.multihash||null==e.version||1===e.version&&e.code!==LIBP2P_KEY_CODE)throw new Error("Supplied PeerID CID is invalid");const t=e.multihash;if(t.code===sha256.code)return new RSAPeerIdImpl({multihash:e.multihash});if(t.code===identity.code){if(t.digest.length===MARSHALLED_ED225519_PUBLIC_KEY_LENGTH)return new Ed25519PeerIdImpl({multihash:e.multihash});if(t.digest.length===MARSHALLED_SECP256K1_PUBLIC_KEY_LENGTH)return new Secp256k1PeerIdImpl({multihash:e.multihash})}throw new Error("Supplied PeerID CID is invalid")}(CID.decode(e))}throw new Error("Supplied PeerID CID is invalid")}(baseDecoder.decode(e))}(e).equals(this);if(null!=e?.multihash?.bytes)return uint8ArrayEquals(this.multihash.bytes,e.multihash.bytes);throw new Error("not valid Id")}[inspect](){return`PeerId(${this.toString()})`}}r(18047);var y,m=r(46888);!function(e){let t;e.codec=()=>(null==t&&(t=(0,m.yw)(((e,t,r={})=>{!1!==r.lengthDelimited&&t.fork(),null!=e.key&&e.key.byteLength>0&&(t.uint32(10),t.bytes(e.key)),null!=e.value&&e.value.byteLength>0&&(t.uint32(18),t.bytes(e.value)),null!=e.timeReceived&&""!==e.timeReceived&&(t.uint32(42),t.string(e.timeReceived)),!1!==r.lengthDelimited&&t.ldelim()}),((e,t)=>{const r={key:new Uint8Array(0),value:new Uint8Array(0),timeReceived:""},n=null==t?e.len:e.pos+t;for(;e.pos<n;){const t=e.uint32();switch(t>>>3){case 1:r.key=e.bytes();break;case 2:r.value=e.bytes();break;case 5:r.timeReceived=e.string();break;default:e.skipType(7&t)}}return r}))),t),e.encode=t=>(0,m.LE)(t,e.codec()),e.decode=t=>(0,m.C6)(t,e.codec())}(y||(y={}));var g=r(93025);const E=g.v.MessageType;g.v.ConnectionType,Object.keys(E);r(41354);r(482);var w=r(94061),_=r(8681);function v(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}const D=v("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),S=v("ascii","a",(e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}),(e=>{e=e.substring(1);const t=(0,_.E)(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}));w.gh.base16,w.gh;const I="/",A=(new TextEncoder).encode(I);A[0];class C{_buf;constructor(e,t){if("string"==typeof e)this._buf=uint8ArrayFromString(e);else{if(!(e instanceof Uint8Array))throw new Error("Invalid key, should be String of Uint8Array");this._buf=e}if(null==t&&!0,t&&this.clean(),0===this._buf.byteLength||this._buf[0]!==pathSep)throw new Error("Invalid key")}toString(e="utf8"){return uint8ArrayToString(this._buf,e)}uint8Array(){return this._buf}get[Symbol.toStringTag](){return`Key(${this.toString()})`}static withNamespaces(e){return new C(e.join(I))}static random(){return new C(nanoid().replace(/-/g,""))}static asKey(e){return e instanceof Uint8Array||"string"==typeof e?new C(e):"function"==typeof e.uint8Array?new C(e.uint8Array()):null}clean(){if(null!=this._buf&&0!==this._buf.byteLength||(this._buf=A),this._buf[0]!==pathSep){const e=new Uint8Array(this._buf.byteLength+1);e.fill(pathSep,0,1),e.set(this._buf,1),this._buf=e}for(;this._buf.byteLength>1&&this._buf[this._buf.byteLength-1]===pathSep;)this._buf=this._buf.subarray(0,-1)}less(e){const t=this.list(),r=e.list();for(let e=0;e<t.length;e++){if(r.length<e+1)return!1;const n=t[e],i=r[e];if(n<i)return!0;if(n>i)return!1}return t.length<r.length}reverse(){return C.withNamespaces(this.list().slice().reverse())}namespaces(){return this.list()}baseNamespace(){const e=this.namespaces();return e[e.length-1]}list(){return this.toString().split(I).slice(1)}type(){return function(e){const t=e.split(":");if(t.length<2)return"";return t.slice(0,-1).join(":")}(this.baseNamespace())}name(){return function(e){const t=e.split(":");return t[t.length-1]}(this.baseNamespace())}instance(e){return new C(this.toString()+":"+e)}path(){let e=this.parent().toString();return e.endsWith(I)||I,this.type(),new C(e)}parent(){const e=this.list();return 1===e.length?new C(I):new C(e.slice(0,-1).join(I))}child(e){return this.toString()===I?e:e.toString()===I?this:new C(this.toString()+e.toString(),!1)}isAncestorOf(e){return e.toString()!==this.toString()&&e.toString().startsWith(this.toString())}isDecendantOf(e){return e.toString()!==this.toString()&&this.toString().startsWith(e.toString())}isTopLevel(){return 1===this.list().length}concat(...e){return C.withNamespaces([...this.namespaces(),...(e.map((e=>e.namespaces())),[].concat(...t))]);var t}}(0,r(28517).m)("/pk/");class R extends Error{constructor(e,t){super(e??"The operation was aborted"),this.type="aborted",this.code=t??"ABORT_ERR"}}r(91893);r(67038),r(21894);r(3068),r(97450),r(3832);var T=r(9961);r(33062);const P={"P-256":256,"P-384":384,"P-521":521};Object.keys(P).join(" / ");r(25041);r(51288);r(17405),r(54817);r(45809),r(68038);r(70248),r(36026),r(71198);new WeakMap;var L,k,O,N,x,M,U,B,V,F,K,z,$,W,G,j,H,q,Y,Q,J,Z=function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},X=function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};class ee extends Error{}k=new WeakMap,O=new WeakMap,N=new WeakMap,x=new WeakMap,M=new WeakMap,U=new WeakMap,B=new WeakMap,V=new WeakMap,F=new WeakMap,new WeakMap,K=new WeakMap,z=new WeakMap,$=new WeakMap,new WeakMap,L=new WeakSet,W=function(){return X(this,O,"f")||X(this,N,"f")<X(this,x,"f")},G=function(){return X(this,K,"f")<X(this,z,"f")},j=function(){X(this,L,"m",Q).call(this),X(this,L,"m",Y).call(this),Z(this,V,void 0,"f")},H=function(){const e=Date.now();if(void 0===X(this,B,"f")){const t=X(this,U,"f")-e;if(!(t<0))return void 0===X(this,V,"f")&&Z(this,V,setTimeout((()=>{X(this,L,"m",j).call(this)}),t),"f"),!0;Z(this,N,X(this,k,"f")?X(this,K,"f"):0,"f")}return!1},q=function(){if(0===X(this,F,"f").size)return X(this,B,"f")&&clearInterval(X(this,B,"f")),Z(this,B,void 0,"f"),this.emit("empty"),0===X(this,K,"f")&&this.emit("idle"),!1;if(!X(this,$,"f")){const e=!X(this,L,"a",H);if(X(this,L,"a",W)&&X(this,L,"a",G)){const t=X(this,F,"f").dequeue();return!!t&&(this.emit("active"),t(),e&&X(this,L,"m",Y).call(this),!0)}}return!1},Y=function(){X(this,O,"f")||void 0!==X(this,B,"f")||(Z(this,B,setInterval((()=>{X(this,L,"m",Q).call(this)}),X(this,M,"f")),"f"),Z(this,U,Date.now()+X(this,M,"f"),"f"))},Q=function(){0===X(this,N,"f")&&0===X(this,K,"f")&&X(this,B,"f")&&(clearInterval(X(this,B,"f")),Z(this,B,void 0,"f")),Z(this,N,X(this,k,"f")?X(this,K,"f"):0,"f"),X(this,L,"m",J).call(this)},J=function(){for(;X(this,L,"m",q).call(this););};r(57050);l("libp2p:kad-dht:providers");r(17187),r(67483);BigInt("0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF");r(90954);l("libp2p:kad-dht:rpc:handlers:add-provider");l("libp2p:kad-dht:rpc:handlers:find-node");l("libp2p:kad-dht:rpc:handlers:get-providers");l("libp2p:kad-dht:rpc:handlers:get-value");l("libp2p:kad-dht:rpc:handlers:ping");l("libp2p:kad-dht");class te extends(null){wan;lan;components;contentRouting;peerRouting;constructor(e,t={}){super(),this.components=e,this.wan=new DefaultKadDHT(e,{protocolPrefix:"/ipfs",...t,lan:!1}),this.lan=new DefaultKadDHT(e,{protocolPrefix:"/ipfs",...t,clientMode:!1,lan:!0}),this.contentRouting=new DHTContentRouting(this),this.peerRouting=new DHTPeerRouting(this),this.wan.addEventListener("peer",(e=>{this.dispatchEvent(new CustomEvent("peer",{detail:e.detail}))})),this.lan.addEventListener("peer",(e=>{this.dispatchEvent(new CustomEvent("peer",{detail:e.detail}))})),null==t.clientMode&&e.events.addEventListener("self:peer:update",(e=>{dual_kad_dht_log("received update of self-peer info");const t=e.detail.peer.addresses.some((({multiaddr:e})=>{const t=function(e){const t=e.stringTuples();for(const e of t)if(290===e[0])return!1;if(54===t[0][0]||55===t[0][0]||56===t[0][0])return dual_kad_dht_log("%m is public %s",e,!0),!0;if(4===t[0][0]||41===t[0][0]){const r=isPrivate(`${t[0][1]}`),n=null==r||!r;return dual_kad_dht_log("%m is public %s",e,n),n}return!1}(e);return dual_kad_dht_log("%m is public %s",e,t),t}));this.getMode().then((async e=>{t&&"client"===e?await this.setMode("server"):"server"!==e||t||await this.setMode("client")})).catch((e=>{dual_kad_dht_log.error("error setting dht server mode",e)}))}))}[Symbol.toStringTag]="@libp2p/dual-kad-dht";get[n.J](){return this.contentRouting}get[s.z](){return this.peerRouting}get[i.O](){return this}isStarted(){return this.wan.isStarted()&&this.lan.isStarted()}async getMode(){return this.wan.getMode()}async setMode(e){await this.wan.setMode(e)}async start(){await Promise.all([this.lan.start(),this.wan.start()])}async stop(){await Promise.all([this.lan.stop(),this.wan.stop()])}async*put(e,t,r={}){for await(const n of merge(this.lan.put(e,t,r),this.wan.put(e,t,r)))yield n}async*get(e,t={}){let r=!1,n=!1;for await(const r of merge(this.lan.get(e,t),this.wan.get(e,t)))yield r,"DIAL_PEER"===r.name&&!0,"VALUE"===r.name&&(!0,null!=r.value&&!0),"SEND_QUERY"===r.name&&!0;if(!r)throw new CodeError("No peers found in routing table!","ERR_NO_PEERS_IN_ROUTING_TABLE");n||(yield queryErrorEvent({from:this.components.peerId,error:new CodeError("Not found","ERR_NOT_FOUND")},t))}async*provide(e,t={}){let r=0,n=0;const i=[],s=[this.lan];"server"===await this.wan.getMode()&&s.push(this.wan);for await(const r of merge(...s.map((r=>r.provide(e,t)))))yield r,"SEND_QUERY"===r.name&&0,"QUERY_ERROR"===r.name&&i.push(r.error),"PEER_RESPONSE"===r.name&&"ADD_PROVIDER"===r.messageName&&(dual_kad_dht_log("sent provider record for %s to %p",e,r.from));if(0===n){if(i.length>0)throw new CodeError(`Failed to provide to ${i.length} of ${r} peers`,"ERR_PROVIDES_FAILED",{errors:i});throw new CodeError("Failed to provide - no peers found","ERR_PROVIDES_FAILED")}}async*findProviders(e,t={}){yield*merge(this.lan.findProviders(e,t),this.wan.findProviders(e,t))}async*findPeer(e,t={}){let r=!1;for await(const r of merge(this.lan.findPeer(e,t),this.wan.findPeer(e,t)))yield r,"SEND_QUERY"!==r.name&&"FINAL_PEER"!==r.name||!0;if(!r)throw new CodeError("Peer lookup failed","ERR_LOOKUP_FAILED")}async*getClosestPeers(e,t={}){yield*merge(this.lan.getClosestPeers(e,t),this.wan.getClosestPeers(e,t))}async refreshRoutingTable(){await Promise.all([this.lan.refreshRoutingTable(),this.wan.refreshRoutingTable()])}}var re,ne;!function(e){e[e.SEND_QUERY=0]="SEND_QUERY",e[e.PEER_RESPONSE=1]="PEER_RESPONSE",e[e.FINAL_PEER=2]="FINAL_PEER",e[e.QUERY_ERROR=3]="QUERY_ERROR",e[e.PROVIDER=4]="PROVIDER",e[e.VALUE=5]="VALUE",e[e.ADD_PEER=6]="ADD_PEER",e[e.DIAL_PEER=7]="DIAL_PEER"}(re||(re={})),function(e){e[e.PUT_VALUE=0]="PUT_VALUE",e[e.GET_VALUE=1]="GET_VALUE",e[e.ADD_PROVIDER=2]="ADD_PROVIDER",e[e.GET_PROVIDERS=3]="GET_PROVIDERS",e[e.FIND_NODE=4]="FIND_NODE",e[e.PING=5]="PING"}(ne||(ne={}))},25041:function(e,t,r){"use strict";r.d(t,{U:function(){return a}});var n=r(66648),i=r(28517),s=r(21894);const o={alg:"A128GCM",ext:!0,k:"scm9jmO_4BJAgdwWGVulLg",key_ops:["encrypt","decrypt"],kty:"oct"};function a(e){const t=e?.algorithm??"AES-GCM";let r=e?.keyLength??16;const a=e?.nonceLength??12,c=e?.digest??"SHA-256",u=e?.saltLength??16,l=e?.iterations??32767,h=s.Z.get();r*=8;return{encrypt:async function(e,s){const d=h.getRandomValues(new Uint8Array(u)),f=h.getRandomValues(new Uint8Array(a)),p={name:t,iv:f};let b;if("string"==typeof s&&(s=(0,i.m)(s)),0===s.length){b=await h.subtle.importKey("jwk",o,{name:"AES-GCM"},!0,["encrypt"]);try{const e={name:"PBKDF2",salt:d,iterations:l,hash:{name:c}},n=await h.subtle.importKey("raw",s,{name:"PBKDF2"},!1,["deriveKey"]);b=await h.subtle.deriveKey(e,n,{name:t,length:r},!0,["encrypt"])}catch{b=await h.subtle.importKey("jwk",o,{name:"AES-GCM"},!0,["encrypt"])}}else{const e={name:"PBKDF2",salt:d,iterations:l,hash:{name:c}},n=await h.subtle.importKey("raw",s,{name:"PBKDF2"},!1,["deriveKey"]);b=await h.subtle.deriveKey(e,n,{name:t,length:r},!0,["encrypt"])}const y=await h.subtle.encrypt(p,b,e);return(0,n.z)([d,p.iv,new Uint8Array(y)])},decrypt:async function(e,n){const s=e.subarray(0,u),d=e.subarray(u,u+a),f=e.subarray(u+a),p={name:t,iv:d};let b;if("string"==typeof n&&(n=(0,i.m)(n)),0===n.length)try{const e={name:"PBKDF2",salt:s,iterations:l,hash:{name:c}},i=await h.subtle.importKey("raw",n,{name:"PBKDF2"},!1,["deriveKey"]);b=await h.subtle.deriveKey(e,i,{name:t,length:r},!0,["decrypt"])}catch{b=await h.subtle.importKey("jwk",o,{name:"AES-GCM"},!0,["decrypt"])}else{const e={name:"PBKDF2",salt:s,iterations:l,hash:{name:c}},i=await h.subtle.importKey("raw",n,{name:"PBKDF2"},!1,["deriveKey"]);b=await h.subtle.deriveKey(e,i,{name:t,length:r},!0,["decrypt"])}const y=await h.subtle.decrypt(p,b,f);return new Uint8Array(y)}}}},51288:function(e,t,r){"use strict";r.d(t,{KeyType:function(){return n},PrivateKey:function(){return o},PublicKey:function(){return s}});var n,i,s,o,a=r(46888);!function(e){e.RSA="RSA",e.Ed25519="Ed25519",e.Secp256k1="Secp256k1"}(n||(n={})),function(e){e[e.RSA=0]="RSA",e[e.Ed25519=1]="Ed25519",e[e.Secp256k1=2]="Secp256k1"}(i||(i={})),function(e){e.codec=()=>(0,a.Ji)(i)}(n||(n={})),function(e){let t;e.codec=()=>(null==t&&(t=(0,a.yw)(((e,t,r={})=>{!1!==r.lengthDelimited&&t.fork(),null!=e.Type&&(t.uint32(8),n.codec().encode(e.Type,t)),null!=e.Data&&(t.uint32(18),t.bytes(e.Data)),!1!==r.lengthDelimited&&t.ldelim()}),((e,t)=>{const r={},i=null==t?e.len:e.pos+t;for(;e.pos<i;){const t=e.uint32();switch(t>>>3){case 1:r.Type=n.codec().decode(e);break;case 2:r.Data=e.bytes();break;default:e.skipType(7&t)}}return r}))),t),e.encode=t=>(0,a.LE)(t,e.codec()),e.decode=t=>(0,a.C6)(t,e.codec())}(s||(s={})),function(e){let t;e.codec=()=>(null==t&&(t=(0,a.yw)(((e,t,r={})=>{!1!==r.lengthDelimited&&t.fork(),null!=e.Type&&(t.uint32(8),n.codec().encode(e.Type,t)),null!=e.Data&&(t.uint32(18),t.bytes(e.Data)),!1!==r.lengthDelimited&&t.ldelim()}),((e,t)=>{const r={},i=null==t?e.len:e.pos+t;for(;e.pos<i;){const t=e.uint32();switch(t>>>3){case 1:r.Type=n.codec().decode(e);break;case 2:r.Data=e.bytes();break;default:e.skipType(7&t)}}return r}))),t),e.encode=t=>(0,a.LE)(t,e.codec()),e.decode=t=>(0,a.C6)(t,e.codec())}(o||(o={}))},68038:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(49541),i=r(90519);function s(e){if(isNaN(e)||e<=0)throw new n.sv("random bytes length must be a Number bigger than 0","ERR_INVALID_LENGTH");return(0,i.O6)(e)}},33062:function(e,t,r){"use strict";r.d(t,{YO:function(){return a},rT:function(){return c}});r(97116),r(15764);var n=r(3832),i=r(66648),s=r(28517),o=r(41354);function a(e,t){let r=Uint8Array.from(e.abs().toByteArray());if(r=0===r[0]?r.subarray(1):r,null!=t){if(r.length>t)throw new Error("byte array longer than desired length");r=(0,i.z)([new Uint8Array(t-r.length),r])}return(0,o.B)(r,"base64url")}function c(e){const t=function(e,t){let r=(0,s.m)(e,"base64urlpad");if(null!=t){if(r.length>t)throw new Error("byte array longer than desired length");r=(0,i.z)([new Uint8Array(t-r.length),r])}return r}(e);return new n.jsbn.BigInteger((0,o.B)(t,"base16"),16)}},56708:function(e,t,r){"use strict";r(9839),r(85322),r(69620);var n=r(24005);r(18616),r(7188),r(57050),r(72078);r(16978),r(49736);var i=r(4525);(0,i.Ev)("ip4"),(0,i.Ev)("ip6"),(0,i.Ev)("ipcidr");const s=Object.values(n.gh).map((e=>e.decoder));!function(){let e=s[0].or(s[1]);s.slice(2).forEach((t=>e=e.or(t)))}()},18047:function(e,t,r){"use strict";r(49541),r(69620),r(18616),r(16978),r(57050),r(56708);var n=r(4525);r(83640);Symbol.for("nodejs.util.inspect.custom"),(0,n.Ev)("dns").code,(0,n.Ev)("dns4").code,(0,n.Ev)("dns6").code,(0,n.Ev)("dnsaddr").code,new Map,Symbol.for("@multiformats/js-multiaddr/multiaddr")},4525:function(e,t,r){"use strict";r.d(t,{Ev:function(){return o}});const n=-1,i={},s={};function o(e){if("number"==typeof e){if(null!=s[e])return s[e];throw new Error(`no protocol with code: ${e}`)}if("string"==typeof e){if(null!=i[e])return i[e];throw new Error(`no protocol with name: ${e}`)}throw new Error("invalid protocol id type: "+typeof e)}[[4,32,"ip4"],[6,16,"tcp"],[33,16,"dccp"],[41,128,"ip6"],[42,n,"ip6zone"],[43,8,"ipcidr"],[53,n,"dns",!0],[54,n,"dns4",!0],[55,n,"dns6",!0],[56,n,"dnsaddr",!0],[132,16,"sctp"],[273,16,"udp"],[275,0,"p2p-webrtc-star"],[276,0,"p2p-webrtc-direct"],[277,0,"p2p-stardust"],[280,0,"webrtc-direct"],[281,0,"webrtc"],[290,0,"p2p-circuit"],[301,0,"udt"],[302,0,"utp"],[400,n,"unix",!1,!0],[421,n,"ipfs"],[421,n,"p2p"],[443,0,"https"],[444,96,"onion"],[445,296,"onion3"],[446,n,"garlic64"],[448,0,"tls"],[449,n,"sni"],[460,0,"quic"],[461,0,"quic-v1"],[465,0,"webtransport"],[466,n,"certhash"],[477,0,"ws"],[478,0,"wss"],[479,0,"p2p-websocket-star"],[480,0,"http"],[777,n,"memory"]].forEach((e=>{const t=function(e,t,r,n,i){return{code:e,size:t,name:r,resolvable:Boolean(n),path:Boolean(i)}}(...e);s[t.code]=t,i[t.name]=t}))},16978:function(e,t,r){"use strict";r(72078)},72078:function(e,t,r){"use strict";var n=r(25926),i=r(74078);function s(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}const o=s("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),a=s("ascii","a",(e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}),(e=>{e=e.substring(1);const t=(0,i.E)(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}));n.gh.base16,n.gh},85322:function(e,t,r){"use strict";r.r(t),r.d(t,{base32:function(){return i},base32hex:function(){return c},base32hexpad:function(){return l},base32hexpadupper:function(){return h},base32hexupper:function(){return u},base32pad:function(){return o},base32padupper:function(){return a},base32upper:function(){return s},base32z:function(){return d}});var n=r(59902);const i=(0,n.ET)({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),s=(0,n.ET)({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),o=(0,n.ET)({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),a=(0,n.ET)({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),c=(0,n.ET)({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),u=(0,n.ET)({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),l=(0,n.ET)({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),h=(0,n.ET)({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),d=(0,n.ET)({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})},69620:function(e,t,r){"use strict";r.r(t),r.d(t,{base58btc:function(){return i},base58flickr:function(){return s}});var n=r(59902);const i=(0,n.kU)({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),s=(0,n.kU)({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})},8063:function(e,t,r){"use strict";r.r(t),r.d(t,{base64:function(){return i},base64pad:function(){return s},base64url:function(){return o},base64urlpad:function(){return a}});var n=r(59902);const i=(0,n.ET)({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),s=(0,n.ET)({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),o=(0,n.ET)({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),a=(0,n.ET)({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})},33780:function(e,t,r){"use strict";r.d(t,{BB:function(){return s},mL:function(){return i},oQ:function(){return n}});new Uint8Array(0);const n=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},i=e=>(new TextEncoder).encode(e),s=e=>(new TextDecoder).decode(e)},18616:function(e,t,r){"use strict";r(85322),r(69620),r(33780),r(7188),r(83860);new WeakMap;class n{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:e,multihash:t}=this;if(e!==DAG_PB_CODE)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==SHA_256_CODE)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return n.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:e,digest:t}=this.multihash,r=Digest.create(e,t);return n.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return n.equals(this,e)}static equals(e,t){const r=t;return r&&e.code===r.code&&e.version===r.version&&Digest.equals(e.multihash,r.multihash)}toString(e){return format(this,e)}toJSON(){return{"/":format(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(null==e)return null;const t=e;if(t instanceof n)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){const{version:e,code:r,multihash:i,bytes:s}=t;return new n(e,r,i,s||encodeCID(e,r,i.bytes))}if(!0===t[cidSymbol]){const{version:e,multihash:r,code:i}=t,s=Digest.decode(r);return n.create(e,i,s)}return null}static create(e,t,r){if("number"!=typeof t)throw new Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:if(t!==DAG_PB_CODE)throw new Error(`Version 0 CID must use dag-pb (code: ${DAG_PB_CODE}) block encoding`);return new n(e,t,r,r.bytes);case 1:{const i=encodeCID(e,t,r.bytes);return new n(e,t,r,i)}default:throw new Error("Invalid version")}}static createV0(e){return n.create(0,DAG_PB_CODE,e)}static createV1(e,t){return n.create(1,e,t)}static decode(e){const[t,r]=n.decodeFirst(e);if(r.length)throw new Error("Incorrect length");return t}static decodeFirst(e){const t=n.inspectBytes(e),r=t.size-t.multihashSize,i=coerce(e.subarray(r,r+t.multihashSize));if(i.byteLength!==t.multihashSize)throw new Error("Incorrect length");const s=i.subarray(t.multihashSize-t.digestSize),o=new Digest.Digest(t.multihashCode,t.digestSize,s,i);return[0===t.version?n.createV0(o):n.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0;const r=()=>{const[r,n]=varint.decode(e.subarray(t));return n,r};let n=r(),i=DAG_PB_CODE;if(18===n?(0,0):r(),0!==n&&1!==n)throw new RangeError(`Invalid CID version ${n}`);const s=t,o=r(),a=r(),c=t+a;return{version:n,codec:i,multihashCode:o,digestSize:a,multihashSize:c-s,size:c}}static parse(e,t){const[r,i]=parseCIDtoBytes(e,t),s=n.decode(i);if(0===s.version&&"Q"!==e[0])throw Error("Version 0 CID string must not include multibase prefix");return baseCache(s).set(r,e),s}}Symbol.for("@ipld/js-cid/CID")},7188:function(e,t,r){"use strict";r.d(t,{Ue:function(){return i}});r(33780);var n=r(83860);const i=(e,t)=>{const r=t.byteLength,i=n.P$(e),o=i+n.P$(r),a=new Uint8Array(o+r);return n.mL(e,a,0),n.mL(r,a,i),a.set(t,o),new s(e,r,t,a)};class s{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}},87222:function(e,t,r){"use strict";r.r(t),r.d(t,{identity:function(){return o}});var n=r(33780),i=r(7188);const s=n.oQ,o={code:0,name:"identity",encode:s,digest:e=>i.Ue(0,s(e))}},28769:function(e,t,r){"use strict";r.r(t),r.d(t,{sha256:function(){return s},sha512:function(){return o}});var n=r(92969);const i=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),s=(0,n.D)({name:"sha2-256",code:18,encode:i("SHA-256")}),o=(0,n.D)({name:"sha2-512",code:19,encode:i("SHA-512")})},83860:function(e,t,r){"use strict";r.d(t,{mL:function(){return w},P$:function(){return _}});var n=function e(t,r,n){r=r||[];var a=n=n||0;for(;t>=o;)r[n++]=255&t|i,t/=128;for(;t&s;)r[n++]=255&t|i,t>>>=7;return r[n]=0|t,e.bytes=n-a+1,r},i=128,s=-128,o=Math.pow(2,31);var a=function e(t,r){var n,i=0,s=0,o=r=r||0,a=t.length;do{if(o>=a)throw e.bytes=0,new RangeError("Could not decode varint");n=t[o++],i+=s<28?(n&u)<<s:(n&u)*Math.pow(2,s),s+=7}while(n>=c);return e.bytes=o-r,i},c=128,u=127;var l=Math.pow(2,7),h=Math.pow(2,14),d=Math.pow(2,21),f=Math.pow(2,28),p=Math.pow(2,35),b=Math.pow(2,42),y=Math.pow(2,49),m=Math.pow(2,56),g=Math.pow(2,63),E={encode:n,decode:a,encodingLength:function(e){return e<l?1:e<h?2:e<d?3:e<f?4:e<p?5:e<b?6:e<y?7:e<m?8:e<g?9:10}};const w=(e,t,r=0)=>(E.encode(e,t,r),t),_=e=>E.encodingLength(e)},13651:function(e,t,r){"use strict";r.d(t,{U:function(){return a}});var n=r(15291),i=r(61743),s=r(42999);const o={alg:"A128GCM",ext:!0,k:"scm9jmO_4BJAgdwWGVulLg",key_ops:["encrypt","decrypt"],kty:"oct"};function a(e){const t=e?.algorithm??"AES-GCM";let r=e?.keyLength??16;const a=e?.nonceLength??12,c=e?.digest??"SHA-256",u=e?.saltLength??16,l=e?.iterations??32767,h=s.Z.get();r*=8;return{encrypt:async function(e,s){const d=h.getRandomValues(new Uint8Array(u)),f=h.getRandomValues(new Uint8Array(a)),p={name:t,iv:f};let b;if("string"==typeof s&&(s=(0,i.m)(s)),0===s.length){b=await h.subtle.importKey("jwk",o,{name:"AES-GCM"},!0,["encrypt"]);try{const e={name:"PBKDF2",salt:d,iterations:l,hash:{name:c}},n=await h.subtle.importKey("raw",s,{name:"PBKDF2"},!1,["deriveKey"]);b=await h.subtle.deriveKey(e,n,{name:t,length:r},!0,["encrypt"])}catch{b=await h.subtle.importKey("jwk",o,{name:"AES-GCM"},!0,["encrypt"])}}else{const e={name:"PBKDF2",salt:d,iterations:l,hash:{name:c}},n=await h.subtle.importKey("raw",s,{name:"PBKDF2"},!1,["deriveKey"]);b=await h.subtle.deriveKey(e,n,{name:t,length:r},!0,["encrypt"])}const y=await h.subtle.encrypt(p,b,e);return(0,n.z)([d,p.iv,new Uint8Array(y)])},decrypt:async function(e,n){const s=e.subarray(0,u),d=e.subarray(u,u+a),f=e.subarray(u+a),p={name:t,iv:d};let b;if("string"==typeof n&&(n=(0,i.m)(n)),0===n.length)try{const e={name:"PBKDF2",salt:s,iterations:l,hash:{name:c}},i=await h.subtle.importKey("raw",n,{name:"PBKDF2"},!1,["deriveKey"]);b=await h.subtle.deriveKey(e,i,{name:t,length:r},!0,["decrypt"])}catch{b=await h.subtle.importKey("jwk",o,{name:"AES-GCM"},!0,["decrypt"])}else{const e={name:"PBKDF2",salt:s,iterations:l,hash:{name:c}},i=await h.subtle.importKey("raw",n,{name:"PBKDF2"},!1,["deriveKey"]);b=await h.subtle.deriveKey(e,i,{name:t,length:r},!0,["decrypt"])}const y=await h.subtle.decrypt(p,b,f);return new Uint8Array(y)}}}},51097:function(e,t,r){"use strict";r.d(t,{Jz:function(){return n},_q:function(){return o},nh:function(){return s}});var n,i,s,o,a=r(46888);!function(e){e.RSA="RSA",e.Ed25519="Ed25519",e.Secp256k1="Secp256k1"}(n||(n={})),function(e){e[e.RSA=0]="RSA",e[e.Ed25519=1]="Ed25519",e[e.Secp256k1=2]="Secp256k1"}(i||(i={})),function(e){e.codec=()=>(0,a.Ji)(i)}(n||(n={})),function(e){let t;e.codec=()=>(null==t&&(t=(0,a.yw)(((e,t,r={})=>{!1!==r.lengthDelimited&&t.fork(),null!=e.Type&&(t.uint32(8),n.codec().encode(e.Type,t)),null!=e.Data&&(t.uint32(18),t.bytes(e.Data)),!1!==r.lengthDelimited&&t.ldelim()}),((e,t)=>{const r={},i=null==t?e.len:e.pos+t;for(;e.pos<i;){const t=e.uint32();switch(t>>>3){case 1:r.Type=n.codec().decode(e);break;case 2:r.Data=e.bytes();break;default:e.skipType(7&t)}}return r}))),t),e.encode=t=>(0,a.LE)(t,e.codec()),e.decode=t=>(0,a.C6)(t,e.codec())}(s||(s={})),function(e){let t;e.codec=()=>(null==t&&(t=(0,a.yw)(((e,t,r={})=>{!1!==r.lengthDelimited&&t.fork(),null!=e.Type&&(t.uint32(8),n.codec().encode(e.Type,t)),null!=e.Data&&(t.uint32(18),t.bytes(e.Data)),!1!==r.lengthDelimited&&t.ldelim()}),((e,t)=>{const r={},i=null==t?e.len:e.pos+t;for(;e.pos<i;){const t=e.uint32();switch(t>>>3){case 1:r.Type=n.codec().decode(e);break;case 2:r.Data=e.bytes();break;default:e.skipType(7&t)}}return r}))),t),e.encode=t=>(0,a.LE)(t,e.codec()),e.decode=t=>(0,a.C6)(t,e.codec())}(o||(o={}))},29727:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(49541),i=r(40909);function s(e){if(isNaN(e)||e<=0)throw new n.sv("random bytes length must be a Number bigger than 0","ERR_INVALID_LENGTH");return(0,i.O6)(e)}},71301:function(e,t,r){"use strict";r.r(t),r.d(t,{base32:function(){return i},base32hex:function(){return c},base32hexpad:function(){return l},base32hexpadupper:function(){return h},base32hexupper:function(){return u},base32pad:function(){return o},base32padupper:function(){return a},base32upper:function(){return s},base32z:function(){return d}});var n=r(67583);const i=(0,n.ET)({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),s=(0,n.ET)({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),o=(0,n.ET)({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),a=(0,n.ET)({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),c=(0,n.ET)({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),u=(0,n.ET)({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),l=(0,n.ET)({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),h=(0,n.ET)({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),d=(0,n.ET)({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})},39646:function(e,t,r){"use strict";r.r(t),r.d(t,{base58btc:function(){return i},base58flickr:function(){return s}});var n=r(67583);const i=(0,n.kU)({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),s=(0,n.kU)({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})},1337:function(e,t,r){"use strict";r.r(t),r.d(t,{base64:function(){return i},base64pad:function(){return s},base64url:function(){return o},base64urlpad:function(){return a}});var n=r(67583);const i=(0,n.ET)({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),s=(0,n.ET)({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),o=(0,n.ET)({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),a=(0,n.ET)({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})},71855:function(e,t,r){"use strict";r.d(t,{BB:function(){return s},mL:function(){return i},oQ:function(){return n}});new Uint8Array(0);const n=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},i=e=>(new TextEncoder).encode(e),s=e=>(new TextDecoder).decode(e)},71030:function(e,t,r){"use strict";r(71301),r(39646),r(71855),r(88580),r(64447);new WeakMap;class n{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:e,multihash:t}=this;if(e!==DAG_PB_CODE)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==SHA_256_CODE)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return n.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:e,digest:t}=this.multihash,r=Digest.create(e,t);return n.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return n.equals(this,e)}static equals(e,t){const r=t;return r&&e.code===r.code&&e.version===r.version&&Digest.equals(e.multihash,r.multihash)}toString(e){return format(this,e)}toJSON(){return{"/":format(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(null==e)return null;const t=e;if(t instanceof n)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){const{version:e,code:r,multihash:i,bytes:s}=t;return new n(e,r,i,s||encodeCID(e,r,i.bytes))}if(!0===t[cidSymbol]){const{version:e,multihash:r,code:i}=t,s=Digest.decode(r);return n.create(e,i,s)}return null}static create(e,t,r){if("number"!=typeof t)throw new Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:if(t!==DAG_PB_CODE)throw new Error(`Version 0 CID must use dag-pb (code: ${DAG_PB_CODE}) block encoding`);return new n(e,t,r,r.bytes);case 1:{const i=encodeCID(e,t,r.bytes);return new n(e,t,r,i)}default:throw new Error("Invalid version")}}static createV0(e){return n.create(0,DAG_PB_CODE,e)}static createV1(e,t){return n.create(1,e,t)}static decode(e){const[t,r]=n.decodeFirst(e);if(r.length)throw new Error("Incorrect length");return t}static decodeFirst(e){const t=n.inspectBytes(e),r=t.size-t.multihashSize,i=coerce(e.subarray(r,r+t.multihashSize));if(i.byteLength!==t.multihashSize)throw new Error("Incorrect length");const s=i.subarray(t.multihashSize-t.digestSize),o=new Digest.Digest(t.multihashCode,t.digestSize,s,i);return[0===t.version?n.createV0(o):n.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0;const r=()=>{const[r,n]=varint.decode(e.subarray(t));return n,r};let n=r(),i=DAG_PB_CODE;if(18===n?(0,0):r(),0!==n&&1!==n)throw new RangeError(`Invalid CID version ${n}`);const s=t,o=r(),a=r(),c=t+a;return{version:n,codec:i,multihashCode:o,digestSize:a,multihashSize:c-s,size:c}}static parse(e,t){const[r,i]=parseCIDtoBytes(e,t),s=n.decode(i);if(0===s.version&&"Q"!==e[0])throw Error("Version 0 CID string must not include multibase prefix");return baseCache(s).set(r,e),s}}Symbol.for("@ipld/js-cid/CID")},88580:function(e,t,r){"use strict";r.d(t,{Ue:function(){return i}});r(71855);var n=r(64447);const i=(e,t)=>{const r=t.byteLength,i=n.P$(e),o=i+n.P$(r),a=new Uint8Array(o+r);return n.mL(e,a,0),n.mL(r,a,i),a.set(t,o),new s(e,r,t,a)};class s{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}},28214:function(e,t,r){"use strict";r.r(t),r.d(t,{identity:function(){return o}});var n=r(71855),i=r(88580);const s=n.oQ,o={code:0,name:"identity",encode:s,digest:e=>i.Ue(0,s(e))}},14413:function(e,t,r){"use strict";r.r(t),r.d(t,{sha256:function(){return s},sha512:function(){return o}});var n=r(59635);const i=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),s=(0,n.D)({name:"sha2-256",code:18,encode:i("SHA-256")}),o=(0,n.D)({name:"sha2-512",code:19,encode:i("SHA-512")})},64447:function(e,t,r){"use strict";r.d(t,{mL:function(){return w},P$:function(){return _}});var n=function e(t,r,n){r=r||[];var a=n=n||0;for(;t>=o;)r[n++]=255&t|i,t/=128;for(;t&s;)r[n++]=255&t|i,t>>>=7;return r[n]=0|t,e.bytes=n-a+1,r},i=128,s=-128,o=Math.pow(2,31);var a=function e(t,r){var n,i=0,s=0,o=r=r||0,a=t.length;do{if(o>=a)throw e.bytes=0,new RangeError("Could not decode varint");n=t[o++],i+=s<28?(n&u)<<s:(n&u)*Math.pow(2,s),s+=7}while(n>=c);return e.bytes=o-r,i},c=128,u=127;var l=Math.pow(2,7),h=Math.pow(2,14),d=Math.pow(2,21),f=Math.pow(2,28),p=Math.pow(2,35),b=Math.pow(2,42),y=Math.pow(2,49),m=Math.pow(2,56),g=Math.pow(2,63),E={encode:n,decode:a,encodingLength:function(e){return e<l?1:e<h?2:e<d?3:e<f?4:e<p?5:e<b?6:e<y?7:e<m?8:e<g?9:10}};const w=(e,t,r=0)=>(E.encode(e,t,r),t),_=e=>E.encodingLength(e)},83633:function(e,t,r){"use strict";var n=r(98721),i=r(64701);function s(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}const o=s("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),a=s("ascii","a",(e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}),(e=>{e=e.substring(1);const t=(0,i.E)(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t})),c={utf8:o,"utf-8":o,hex:n.gh.base16,latin1:a,ascii:a,binary:a,...n.gh};t.Z=c},67483:function(e,t,r){"use strict";r(39729);class n{map;constructor(e){if(this.map=new Map,null!=e)for(const[t,r]of e.entries())this.map.set(t.toString(),r)}[Symbol.iterator](){return this.entries()}clear(){this.map.clear()}delete(e){this.map.delete(e.toString())}entries(){return mapIterable(this.map.entries(),(e=>[peerIdFromString(e[0]),e[1]]))}forEach(e){this.map.forEach(((t,r)=>{e(t,peerIdFromString(r),this)}))}get(e){return this.map.get(e.toString())}has(e){return this.map.has(e.toString())}set(e,t){this.map.set(e.toString(),t)}keys(){return mapIterable(this.map.keys(),(e=>peerIdFromString(e)))}values(){return this.map.values()}get size(){return this.map.size}}class i{set;constructor(e){if(this.set=new Set,null!=e)for(const t of e)this.set.add(t.toString())}get size(){return this.set.size}[Symbol.iterator](){return this.values()}add(e){this.set.add(e.toString())}clear(){this.set.clear()}delete(e){this.set.delete(e.toString())}entries(){return mapIterable(this.set.entries(),(e=>{const t=peerIdFromString(e[0]);return[t,t]}))}forEach(e){this.set.forEach((t=>{const r=peerIdFromString(t);e(r,r,this)}))}has(e){return this.set.has(e.toString())}values(){return mapIterable(this.set.values(),(e=>peerIdFromString(e)))}intersection(e){const t=new i;for(const r of e)this.has(r)&&t.add(r);return t}difference(e){const t=new i;for(const r of this)e.has(r)||t.add(r);return t}union(e){const t=new i;for(const r of e)t.add(r);for(const e of this)t.add(e);return t}}r(35269)},39729:function(e,t,r){"use strict";r(49541);var n=r(5681),i=(r(27483),r(3010));r(73500),r(8824),r(43550),r(27658);Symbol.for("nodejs.util.inspect.custom"),Object.values(i.gh).map((e=>e.decoder)).reduce(((e,t)=>e.or(t)),i.gh.identity.decoder);class s{type;multihash;privateKey;publicKey;string;constructor(e){this.type=e.type,this.multihash=e.multihash,this.privateKey=e.privateKey,Object.defineProperty(this,"string",{enumerable:!1,writable:!0})}get[Symbol.toStringTag](){return`PeerId(${this.toString()})`}[n.N]=!0;toString(){return null==this.string&&(this.string=base58btc.encode(this.multihash.bytes).slice(1)),this.string}toCID(){return CID.createV1(LIBP2P_KEY_CODE,this.multihash)}toBytes(){return this.multihash.bytes}toJSON(){return this.toString()}equals(e){if(e instanceof Uint8Array)return uint8ArrayEquals(this.multihash.bytes,e);if("string"==typeof e)return function(e,t){if(t??baseDecoder,"1"===e.charAt(0)||"Q"===e.charAt(0)){const t=Digest.decode(base58btc.decode(`z${e}`));return e.startsWith("12D")?new Ed25519PeerIdImpl({multihash:t}):e.startsWith("16U")?new Secp256k1PeerIdImpl({multihash:t}):new RSAPeerIdImpl({multihash:t})}return function(e){try{const t=Digest.decode(e);if(t.code===identity.code){if(t.digest.length===MARSHALLED_ED225519_PUBLIC_KEY_LENGTH)return new Ed25519PeerIdImpl({multihash:t});if(t.digest.length===MARSHALLED_SECP256K1_PUBLIC_KEY_LENGTH)return new Secp256k1PeerIdImpl({multihash:t})}if(t.code===sha256.code)return new RSAPeerIdImpl({multihash:t})}catch{return function(e){if(null==e||null==e.multihash||null==e.version||1===e.version&&e.code!==LIBP2P_KEY_CODE)throw new Error("Supplied PeerID CID is invalid");const t=e.multihash;if(t.code===sha256.code)return new RSAPeerIdImpl({multihash:e.multihash});if(t.code===identity.code){if(t.digest.length===MARSHALLED_ED225519_PUBLIC_KEY_LENGTH)return new Ed25519PeerIdImpl({multihash:e.multihash});if(t.digest.length===MARSHALLED_SECP256K1_PUBLIC_KEY_LENGTH)return new Secp256k1PeerIdImpl({multihash:e.multihash})}throw new Error("Supplied PeerID CID is invalid")}(CID.decode(e))}throw new Error("Supplied PeerID CID is invalid")}(baseDecoder.decode(e))}(e).equals(this);if(null!=e?.multihash?.bytes)return uint8ArrayEquals(this.multihash.bytes,e.multihash.bytes);throw new Error("not valid Id")}[inspect](){return`PeerId(${this.toString()})`}}},2310:function(e,t,r){"use strict";r.r(t),r.d(t,{base32:function(){return i},base32hex:function(){return c},base32hexpad:function(){return l},base32hexpadupper:function(){return h},base32hexupper:function(){return u},base32pad:function(){return o},base32padupper:function(){return a},base32upper:function(){return s},base32z:function(){return d}});var n=r(87532);const i=(0,n.ET)({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),s=(0,n.ET)({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),o=(0,n.ET)({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),a=(0,n.ET)({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),c=(0,n.ET)({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),u=(0,n.ET)({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),l=(0,n.ET)({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),h=(0,n.ET)({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),d=(0,n.ET)({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})},27483:function(e,t,r){"use strict";r.r(t),r.d(t,{base58btc:function(){return i},base58flickr:function(){return s}});var n=r(87532);const i=(0,n.kU)({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),s=(0,n.kU)({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})},33340:function(e,t,r){"use strict";r.d(t,{BB:function(){return s},mL:function(){return i},oQ:function(){return n}});new Uint8Array(0);const n=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},i=e=>(new TextEncoder).encode(e),s=e=>(new TextDecoder).decode(e)},73500:function(e,t,r){"use strict";r(2310),r(27483),r(33340),r(8824),r(35932);new WeakMap;class n{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:e,multihash:t}=this;if(e!==DAG_PB_CODE)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==SHA_256_CODE)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return n.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:e,digest:t}=this.multihash,r=Digest.create(e,t);return n.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return n.equals(this,e)}static equals(e,t){const r=t;return r&&e.code===r.code&&e.version===r.version&&Digest.equals(e.multihash,r.multihash)}toString(e){return format(this,e)}toJSON(){return{"/":format(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(null==e)return null;const t=e;if(t instanceof n)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){const{version:e,code:r,multihash:i,bytes:s}=t;return new n(e,r,i,s||encodeCID(e,r,i.bytes))}if(!0===t[cidSymbol]){const{version:e,multihash:r,code:i}=t,s=Digest.decode(r);return n.create(e,i,s)}return null}static create(e,t,r){if("number"!=typeof t)throw new Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:if(t!==DAG_PB_CODE)throw new Error(`Version 0 CID must use dag-pb (code: ${DAG_PB_CODE}) block encoding`);return new n(e,t,r,r.bytes);case 1:{const i=encodeCID(e,t,r.bytes);return new n(e,t,r,i)}default:throw new Error("Invalid version")}}static createV0(e){return n.create(0,DAG_PB_CODE,e)}static createV1(e,t){return n.create(1,e,t)}static decode(e){const[t,r]=n.decodeFirst(e);if(r.length)throw new Error("Incorrect length");return t}static decodeFirst(e){const t=n.inspectBytes(e),r=t.size-t.multihashSize,i=coerce(e.subarray(r,r+t.multihashSize));if(i.byteLength!==t.multihashSize)throw new Error("Incorrect length");const s=i.subarray(t.multihashSize-t.digestSize),o=new Digest.Digest(t.multihashCode,t.digestSize,s,i);return[0===t.version?n.createV0(o):n.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0;const r=()=>{const[r,n]=varint.decode(e.subarray(t));return n,r};let n=r(),i=DAG_PB_CODE;if(18===n?(0,0):r(),0!==n&&1!==n)throw new RangeError(`Invalid CID version ${n}`);const s=t,o=r(),a=r(),c=t+a;return{version:n,codec:i,multihashCode:o,digestSize:a,multihashSize:c-s,size:c}}static parse(e,t){const[r,i]=parseCIDtoBytes(e,t),s=n.decode(i);if(0===s.version&&"Q"!==e[0])throw Error("Version 0 CID string must not include multibase prefix");return baseCache(s).set(r,e),s}}Symbol.for("@ipld/js-cid/CID")},8824:function(e,t,r){"use strict";r.d(t,{Ue:function(){return i}});r(33340);var n=r(35932);const i=(e,t)=>{const r=t.byteLength,i=n.P$(e),o=i+n.P$(r),a=new Uint8Array(o+r);return n.mL(e,a,0),n.mL(r,a,i),a.set(t,o),new s(e,r,t,a)};class s{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}},43550:function(e,t,r){"use strict";r.r(t),r.d(t,{identity:function(){return o}});var n=r(33340),i=r(8824);const s=n.oQ,o={code:0,name:"identity",encode:s,digest:e=>i.Ue(0,s(e))}},27658:function(e,t,r){"use strict";r.r(t),r.d(t,{sha256:function(){return s},sha512:function(){return o}});var n=r(47763);const i=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),s=(0,n.D)({name:"sha2-256",code:18,encode:i("SHA-256")}),o=(0,n.D)({name:"sha2-512",code:19,encode:i("SHA-512")})},35932:function(e,t,r){"use strict";r.d(t,{mL:function(){return w},P$:function(){return _}});var n=function e(t,r,n){r=r||[];var a=n=n||0;for(;t>=o;)r[n++]=255&t|i,t/=128;for(;t&s;)r[n++]=255&t|i,t>>>=7;return r[n]=0|t,e.bytes=n-a+1,r},i=128,s=-128,o=Math.pow(2,31);var a=function e(t,r){var n,i=0,s=0,o=r=r||0,a=t.length;do{if(o>=a)throw e.bytes=0,new RangeError("Could not decode varint");n=t[o++],i+=s<28?(n&u)<<s:(n&u)*Math.pow(2,s),s+=7}while(n>=c);return e.bytes=o-r,i},c=128,u=127;var l=Math.pow(2,7),h=Math.pow(2,14),d=Math.pow(2,21),f=Math.pow(2,28),p=Math.pow(2,35),b=Math.pow(2,42),y=Math.pow(2,49),m=Math.pow(2,56),g=Math.pow(2,63),E={encode:n,decode:a,encodingLength:function(e){return e<l?1:e<h?2:e<d?3:e<f?4:e<p?5:e<b?6:e<y?7:e<m?8:e<g?9:10}};const w=(e,t,r=0)=>(E.encode(e,t,r),t),_=e=>E.encodingLength(e)},10618:function(e,t,r){"use strict";r.d(t,{Jz:function(){return n},_q:function(){return o},nh:function(){return s}});var n,i,s,o,a=r(46888);!function(e){e.RSA="RSA",e.Ed25519="Ed25519",e.Secp256k1="Secp256k1"}(n||(n={})),function(e){e[e.RSA=0]="RSA",e[e.Ed25519=1]="Ed25519",e[e.Secp256k1=2]="Secp256k1"}(i||(i={})),function(e){e.codec=()=>(0,a.Ji)(i)}(n||(n={})),function(e){let t;e.codec=()=>(null==t&&(t=(0,a.yw)(((e,t,r={})=>{!1!==r.lengthDelimited&&t.fork(),null!=e.Type&&(t.uint32(8),n.codec().encode(e.Type,t)),null!=e.Data&&(t.uint32(18),t.bytes(e.Data)),!1!==r.lengthDelimited&&t.ldelim()}),((e,t)=>{const r={},i=null==t?e.len:e.pos+t;for(;e.pos<i;){const t=e.uint32();switch(t>>>3){case 1:r.Type=n.codec().decode(e);break;case 2:r.Data=e.bytes();break;default:e.skipType(7&t)}}return r}))),t),e.encode=t=>(0,a.LE)(t,e.codec()),e.decode=t=>(0,a.C6)(t,e.codec())}(s||(s={})),function(e){let t;e.codec=()=>(null==t&&(t=(0,a.yw)(((e,t,r={})=>{!1!==r.lengthDelimited&&t.fork(),null!=e.Type&&(t.uint32(8),n.codec().encode(e.Type,t)),null!=e.Data&&(t.uint32(18),t.bytes(e.Data)),!1!==r.lengthDelimited&&t.ldelim()}),((e,t)=>{const r={},i=null==t?e.len:e.pos+t;for(;e.pos<i;){const t=e.uint32();switch(t>>>3){case 1:r.Type=n.codec().decode(e);break;case 2:r.Data=e.bytes();break;default:e.skipType(7&t)}}return r}))),t),e.encode=t=>(0,a.LE)(t,e.codec()),e.decode=t=>(0,a.C6)(t,e.codec())}(o||(o={}))},94365:function(e,t,r){"use strict";r(9839),r(17314),r(99858);var n=r(834);r(55609),r(52528),r(57050),r(13274);r(60615),r(49736);var i=r(96587);(0,i.Ev)("ip4"),(0,i.Ev)("ip6"),(0,i.Ev)("ipcidr");const s=Object.values(n.gh).map((e=>e.decoder));!function(){let e=s[0].or(s[1]);s.slice(2).forEach((t=>e=e.or(t)))}()},55728:function(e,t,r){"use strict";r(49541),r(99858),r(55609),r(60615),r(57050),r(94365);var n=r(96587);r(6294);Symbol.for("nodejs.util.inspect.custom"),(0,n.Ev)("dns").code,(0,n.Ev)("dns4").code,(0,n.Ev)("dns6").code,(0,n.Ev)("dnsaddr").code,new Map,Symbol.for("@multiformats/js-multiaddr/multiaddr")},96587:function(e,t,r){"use strict";r.d(t,{Ev:function(){return o}});const n=-1,i={},s={};function o(e){if("number"==typeof e){if(null!=s[e])return s[e];throw new Error(`no protocol with code: ${e}`)}if("string"==typeof e){if(null!=i[e])return i[e];throw new Error(`no protocol with name: ${e}`)}throw new Error("invalid protocol id type: "+typeof e)}[[4,32,"ip4"],[6,16,"tcp"],[33,16,"dccp"],[41,128,"ip6"],[42,n,"ip6zone"],[43,8,"ipcidr"],[53,n,"dns",!0],[54,n,"dns4",!0],[55,n,"dns6",!0],[56,n,"dnsaddr",!0],[132,16,"sctp"],[273,16,"udp"],[275,0,"p2p-webrtc-star"],[276,0,"p2p-webrtc-direct"],[277,0,"p2p-stardust"],[280,0,"webrtc-direct"],[281,0,"webrtc"],[290,0,"p2p-circuit"],[301,0,"udt"],[302,0,"utp"],[400,n,"unix",!1,!0],[421,n,"ipfs"],[421,n,"p2p"],[443,0,"https"],[444,96,"onion"],[445,296,"onion3"],[446,n,"garlic64"],[448,0,"tls"],[449,n,"sni"],[460,0,"quic"],[461,0,"quic-v1"],[465,0,"webtransport"],[466,n,"certhash"],[477,0,"ws"],[478,0,"wss"],[479,0,"p2p-websocket-star"],[480,0,"http"],[777,n,"memory"]].forEach((e=>{const t=function(e,t,r,n,i){return{code:e,size:t,name:r,resolvable:Boolean(n),path:Boolean(i)}}(...e);s[t.code]=t,i[t.name]=t}))},60615:function(e,t,r){"use strict";r(13274)},13274:function(e,t,r){"use strict";var n=r(48620),i=r(87388);function s(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}const o=s("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),a=s("ascii","a",(e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}),(e=>{e=e.substring(1);const t=(0,i.E)(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}));n.gh.base16,n.gh},17314:function(e,t,r){"use strict";r.r(t),r.d(t,{base32:function(){return i},base32hex:function(){return c},base32hexpad:function(){return l},base32hexpadupper:function(){return h},base32hexupper:function(){return u},base32pad:function(){return o},base32padupper:function(){return a},base32upper:function(){return s},base32z:function(){return d}});var n=r(15641);const i=(0,n.ET)({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),s=(0,n.ET)({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),o=(0,n.ET)({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),a=(0,n.ET)({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),c=(0,n.ET)({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),u=(0,n.ET)({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),l=(0,n.ET)({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),h=(0,n.ET)({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),d=(0,n.ET)({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})},99858:function(e,t,r){"use strict";r.r(t),r.d(t,{base58btc:function(){return i},base58flickr:function(){return s}});var n=r(15641);const i=(0,n.kU)({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),s=(0,n.kU)({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})},66552:function(e,t,r){"use strict";r.d(t,{BB:function(){return s},mL:function(){return i},oQ:function(){return n}});new Uint8Array(0);const n=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},i=e=>(new TextEncoder).encode(e),s=e=>(new TextDecoder).decode(e)},55609:function(e,t,r){"use strict";r(17314),r(99858),r(66552),r(52528),r(58990);new WeakMap;class n{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:e,multihash:t}=this;if(e!==DAG_PB_CODE)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==SHA_256_CODE)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return n.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:e,digest:t}=this.multihash,r=Digest.create(e,t);return n.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return n.equals(this,e)}static equals(e,t){const r=t;return r&&e.code===r.code&&e.version===r.version&&Digest.equals(e.multihash,r.multihash)}toString(e){return format(this,e)}toJSON(){return{"/":format(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(null==e)return null;const t=e;if(t instanceof n)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){const{version:e,code:r,multihash:i,bytes:s}=t;return new n(e,r,i,s||encodeCID(e,r,i.bytes))}if(!0===t[cidSymbol]){const{version:e,multihash:r,code:i}=t,s=Digest.decode(r);return n.create(e,i,s)}return null}static create(e,t,r){if("number"!=typeof t)throw new Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:if(t!==DAG_PB_CODE)throw new Error(`Version 0 CID must use dag-pb (code: ${DAG_PB_CODE}) block encoding`);return new n(e,t,r,r.bytes);case 1:{const i=encodeCID(e,t,r.bytes);return new n(e,t,r,i)}default:throw new Error("Invalid version")}}static createV0(e){return n.create(0,DAG_PB_CODE,e)}static createV1(e,t){return n.create(1,e,t)}static decode(e){const[t,r]=n.decodeFirst(e);if(r.length)throw new Error("Incorrect length");return t}static decodeFirst(e){const t=n.inspectBytes(e),r=t.size-t.multihashSize,i=coerce(e.subarray(r,r+t.multihashSize));if(i.byteLength!==t.multihashSize)throw new Error("Incorrect length");const s=i.subarray(t.multihashSize-t.digestSize),o=new Digest.Digest(t.multihashCode,t.digestSize,s,i);return[0===t.version?n.createV0(o):n.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0;const r=()=>{const[r,n]=varint.decode(e.subarray(t));return n,r};let n=r(),i=DAG_PB_CODE;if(18===n?(0,0):r(),0!==n&&1!==n)throw new RangeError(`Invalid CID version ${n}`);const s=t,o=r(),a=r(),c=t+a;return{version:n,codec:i,multihashCode:o,digestSize:a,multihashSize:c-s,size:c}}static parse(e,t){const[r,i]=parseCIDtoBytes(e,t),s=n.decode(i);if(0===s.version&&"Q"!==e[0])throw Error("Version 0 CID string must not include multibase prefix");return baseCache(s).set(r,e),s}}Symbol.for("@ipld/js-cid/CID")},52528:function(e,t,r){"use strict";r.d(t,{Ue:function(){return i}});r(66552);var n=r(58990);const i=(e,t)=>{const r=t.byteLength,i=n.P$(e),o=i+n.P$(r),a=new Uint8Array(o+r);return n.mL(e,a,0),n.mL(r,a,i),a.set(t,o),new s(e,r,t,a)};class s{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}},44108:function(e,t,r){"use strict";r.r(t),r.d(t,{identity:function(){return o}});var n=r(66552),i=r(52528);const s=n.oQ,o={code:0,name:"identity",encode:s,digest:e=>i.Ue(0,s(e))}},37566:function(e,t,r){"use strict";r.r(t),r.d(t,{sha256:function(){return s},sha512:function(){return o}});var n=r(86782);const i=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),s=(0,n.D)({name:"sha2-256",code:18,encode:i("SHA-256")}),o=(0,n.D)({name:"sha2-512",code:19,encode:i("SHA-512")})},58990:function(e,t,r){"use strict";r.d(t,{mL:function(){return w},P$:function(){return _}});var n=function e(t,r,n){r=r||[];var a=n=n||0;for(;t>=o;)r[n++]=255&t|i,t/=128;for(;t&s;)r[n++]=255&t|i,t>>>=7;return r[n]=0|t,e.bytes=n-a+1,r},i=128,s=-128,o=Math.pow(2,31);var a=function e(t,r){var n,i=0,s=0,o=r=r||0,a=t.length;do{if(o>=a)throw e.bytes=0,new RangeError("Could not decode varint");n=t[o++],i+=s<28?(n&u)<<s:(n&u)*Math.pow(2,s),s+=7}while(n>=c);return e.bytes=o-r,i},c=128,u=127;var l=Math.pow(2,7),h=Math.pow(2,14),d=Math.pow(2,21),f=Math.pow(2,28),p=Math.pow(2,35),b=Math.pow(2,42),y=Math.pow(2,49),m=Math.pow(2,56),g=Math.pow(2,63),E={encode:n,decode:a,encodingLength:function(e){return e<l?1:e<h?2:e<d?3:e<f?4:e<p?5:e<b?6:e<y?7:e<m?8:e<g?9:10}};const w=(e,t,r=0)=>(E.encode(e,t,r),t),_=e=>E.encodingLength(e)},10023:function(e,t,r){"use strict";var n=r(834),i=r(20273);function s(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}const o=s("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),a=s("ascii","a",(e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}),(e=>{e=e.substring(1);const t=(0,i.E)(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t})),c={utf8:o,"utf-8":o,hex:n.gh.base16,latin1:a,ascii:a,binary:a,...n.gh};t.Z=c},27734:function(e,t,r){"use strict";r(49541);var n=r(55265),i=r(11227),s=r(62630),o=r(52880),a=r(91168);function c(e){let t=function(e){const t=()=>{};return t.enabled=!1,t.color="",t.diff=0,t.log=()=>{},t.namespace=e,t.destroy=()=>!0,t.extend=()=>t,t}(`${e}:trace`);return i.enabled(`${e}:trace`)&&null!=i.names.map((e=>e.toString())).find((e=>e.includes(":trace")))&&(t=i(`${e}:trace`)),Object.assign(i(e),{error:i(`${e}:error`),trace:t})}i.formatters.b=e=>null==e?"undefined":o.base58btc.baseEncode(e),i.formatters.t=e=>null==e?"undefined":s.base32.baseEncode(e),i.formatters.m=e=>null==e?"undefined":a.base64.baseEncode(e),i.formatters.p=e=>null==e?"undefined":e.toString(),i.formatters.c=e=>null==e?"undefined":e.toString(),i.formatters.k=e=>null==e?"undefined":e.toString(),i.formatters.a=e=>null==e?"undefined":e.toString();var u=r(5681),l=r(23235);r(96158),r(46364),r(95955),r(16834);Symbol.for("nodejs.util.inspect.custom"),Object.values(l.gh).map((e=>e.decoder)).reduce(((e,t)=>e.or(t)),l.gh.identity.decoder);class h{type;multihash;privateKey;publicKey;string;constructor(e){this.type=e.type,this.multihash=e.multihash,this.privateKey=e.privateKey,Object.defineProperty(this,"string",{enumerable:!1,writable:!0})}get[Symbol.toStringTag](){return`PeerId(${this.toString()})`}[u.N]=!0;toString(){return null==this.string&&(this.string=base58btc.encode(this.multihash.bytes).slice(1)),this.string}toCID(){return CID.createV1(LIBP2P_KEY_CODE,this.multihash)}toBytes(){return this.multihash.bytes}toJSON(){return this.toString()}equals(e){if(e instanceof Uint8Array)return uint8ArrayEquals(this.multihash.bytes,e);if("string"==typeof e)return function(e,t){if(t??baseDecoder,"1"===e.charAt(0)||"Q"===e.charAt(0)){const t=Digest.decode(base58btc.decode(`z${e}`));return e.startsWith("12D")?new Ed25519PeerIdImpl({multihash:t}):e.startsWith("16U")?new Secp256k1PeerIdImpl({multihash:t}):new RSAPeerIdImpl({multihash:t})}return function(e){try{const t=Digest.decode(e);if(t.code===identity.code){if(t.digest.length===MARSHALLED_ED225519_PUBLIC_KEY_LENGTH)return new Ed25519PeerIdImpl({multihash:t});if(t.digest.length===MARSHALLED_SECP256K1_PUBLIC_KEY_LENGTH)return new Secp256k1PeerIdImpl({multihash:t})}if(t.code===sha256.code)return new RSAPeerIdImpl({multihash:t})}catch{return function(e){if(null==e||null==e.multihash||null==e.version||1===e.version&&e.code!==LIBP2P_KEY_CODE)throw new Error("Supplied PeerID CID is invalid");const t=e.multihash;if(t.code===sha256.code)return new RSAPeerIdImpl({multihash:e.multihash});if(t.code===identity.code){if(t.digest.length===MARSHALLED_ED225519_PUBLIC_KEY_LENGTH)return new Ed25519PeerIdImpl({multihash:e.multihash});if(t.digest.length===MARSHALLED_SECP256K1_PUBLIC_KEY_LENGTH)return new Secp256k1PeerIdImpl({multihash:e.multihash})}throw new Error("Supplied PeerID CID is invalid")}(CID.decode(e))}throw new Error("Supplied PeerID CID is invalid")}(baseDecoder.decode(e))}(e).equals(this);if(null!=e?.multihash?.bytes)return uint8ArrayEquals(this.multihash.bytes,e.multihash.bytes);throw new Error("not valid Id")}[inspect](){return`PeerId(${this.toString()})`}}var d,f=r(34306);r(76201);!function(e){e.ERR_ALREADY_ABORTED="ERR_ALREADY_ABORTED",e.ERR_DATA_CHANNEL="ERR_DATA_CHANNEL",e.ERR_CONNECTION_CLOSED="ERR_CONNECTION_CLOSED",e.ERR_HASH_NOT_SUPPORTED="ERR_HASH_NOT_SUPPORTED",e.ERR_INVALID_MULTIADDR="ERR_INVALID_MULTIADDR",e.ERR_INVALID_FINGERPRINT="ERR_INVALID_FINGERPRINT",e.ERR_INVALID_PARAMETERS="ERR_INVALID_PARAMETERS",e.ERR_NOT_IMPLEMENTED="ERR_NOT_IMPLEMENTED",e.ERR_TOO_MANY_INBOUND_PROTOCOL_STREAMS="ERR_TOO_MANY_INBOUND_PROTOCOL_STREAMS",e.ERR_TOO_MANY_OUTBOUND_PROTOCOL_STREAMS="ERR_TOO_MANY_OUTBOUND_PROTOCOL_STREAMS"}(d||(d={}));const b=(0,r(43631).qY)();null!=b&&b.name,c("libp2p:webrtc:connection");globalThis.RTCPeerConnection,globalThis.RTCSessionDescription,globalThis.RTCIceCandidate;class y extends Error{constructor(e,t){super(e??"The operation was aborted"),this.type="aborted",this.code=t??"ABORT_ERR"}}r(41455),r(6146),r(91893);class m extends Error{type;code;constructor(e,t){super(e??"The operation was aborted"),this.type="aborted",this.code=t??"ABORT_ERR"}}r(90954),r(62308);var g,E=r(46888);!function(e){let t,r,n;!function(e){e.FIN="FIN",e.STOP_SENDING="STOP_SENDING",e.RESET="RESET"}(t=e.Flag||(e.Flag={})),function(e){e[e.FIN=0]="FIN",e[e.STOP_SENDING=1]="STOP_SENDING",e[e.RESET=2]="RESET"}(r||(r={})),function(e){e.codec=()=>(0,E.Ji)(r)}(t=e.Flag||(e.Flag={})),e.codec=()=>(null==n&&(n=(0,E.yw)(((t,r,n={})=>{!1!==n.lengthDelimited&&r.fork(),null!=t.flag&&(r.uint32(8),e.Flag.codec().encode(t.flag,r)),null!=t.message&&(r.uint32(18),r.bytes(t.message)),!1!==n.lengthDelimited&&r.ldelim()}),((t,r)=>{const n={},i=null==r?t.len:t.pos+r;for(;t.pos<i;){const r=t.uint32();switch(r>>>3){case 1:n.flag=e.Flag.codec().decode(t);break;case 2:n.message=t.bytes();break;default:t.skipType(7&r)}}return n}))),n),e.encode=t=>(0,E.LE)(t,e.codec()),e.decode=t=>(0,E.C6)(t,e.codec())}(g||(g={}));var w;!function(e){let t,r,n;!function(e){e.SDP_OFFER="SDP_OFFER",e.SDP_ANSWER="SDP_ANSWER",e.ICE_CANDIDATE="ICE_CANDIDATE"}(t=e.Type||(e.Type={})),function(e){e[e.SDP_OFFER=0]="SDP_OFFER",e[e.SDP_ANSWER=1]="SDP_ANSWER",e[e.ICE_CANDIDATE=2]="ICE_CANDIDATE"}(r||(r={})),function(e){e.codec=()=>(0,E.Ji)(r)}(t=e.Type||(e.Type={})),e.codec=()=>(null==n&&(n=(0,E.yw)(((t,r,n={})=>{!1!==n.lengthDelimited&&r.fork(),null!=t.type&&(r.uint32(8),e.Type.codec().encode(t.type,r)),null!=t.data&&(r.uint32(18),r.string(t.data)),!1!==n.lengthDelimited&&r.ldelim()}),((t,r)=>{const n={},i=null==r?t.len:t.pos+r;for(;t.pos<i;){const r=t.uint32();switch(r>>>3){case 1:n.type=e.Type.codec().decode(t);break;case 2:n.data=t.string();break;default:t.skipType(7&r)}}return n}))),n),e.encode=t=>(0,E.LE)(t,e.codec()),e.decode=t=>(0,E.C6)(t,e.codec())}(w||(w={}));c("libp2p:webrtc:peer:util");c("libp2p:webrtc:peer");r(23247),r(76237);c("libp2p:webrtc:peer");class _{components;init;_started=!1;metrics;constructor(e,t={}){this.components=e,this.init=t,null!=e.metrics&&(this.metrics={dialerEvents:e.metrics.registerCounterGroup("libp2p_webrtc_dialer_events_total",{label:"event",help:"Total count of WebRTC dialer events by type"}),listenerEvents:e.metrics.registerCounterGroup("libp2p_webrtc_listener_events_total",{label:"event",help:"Total count of WebRTC listener events by type"})})}isStarted(){return this._started}async start(){await this.components.registrar.handle(SIGNALING_PROTO_ID,(e=>{this._onProtocol(e).catch((t=>{transport_log.error("failed to handle incoming connect from %p",e.connection.remotePeer,t)}))}),{runOnTransientConnection:!0}),this._started=!0}async stop(){await this.components.registrar.unhandle(SIGNALING_PROTO_ID),cleanup(),this._started=!1}createListener(e){return new WebRTCPeerListener(this.components)}[Symbol.toStringTag]="@libp2p/webrtc";[n.NA]=!0;filter(e){return e.filter(WebRTC.exactMatch)}async dial(e,t){transport_log.trace("dialing address: ",e);const{baseAddr:r,peerId:n}=function(e){const t=e.toString().split(WEBRTC_TRANSPORT+"/");if(2!==t.length)throw new CodeError("webrtc protocol was not present in multiaddr",codes.ERR_INVALID_MULTIADDR);if(!t[0].includes(CIRCUIT_RELAY_TRANSPORT))throw new CodeError("p2p-circuit protocol was not present in multiaddr",codes.ERR_INVALID_MULTIADDR);let r=multiaddr(t[0]);const n=multiaddr("/"+t[1]).getPeerId();if(null==n)throw new CodeError("destination peer id was missing",codes.ERR_INVALID_MULTIADDR);const i=r.protos().pop();if(void 0===i)throw new CodeError("invalid multiaddr",codes.ERR_INVALID_MULTIADDR);"p2p"!==i.name&&r.encapsulate(`/p2p/${n}`);return{baseAddr:r,peerId:peerIdFromString(n)}}(e);if(null==t.signal){const e=new AbortController;t.signal=e.signal}this.metrics?.dialerEvents.increment({open:!0});const i=await this.components.transportManager.dial(r,t),s=await i.newStream(SIGNALING_PROTO_ID,{...t,runOnTransientConnection:!0});try{const{pc:e,muxerFactory:r,remoteAddress:i}=await initiateConnection({stream:s,rtcConfiguration:this.init.rtcConfiguration,dataChannelOptions:this.init.dataChannel,signal:t.signal}),o=await t.upgrader.upgradeOutbound(new WebRTCMultiaddrConnection({peerConnection:e,timeline:{open:Date.now()},remoteAddr:multiaddr(i).encapsulate(`/p2p/${n.toString()}`),metrics:this.metrics?.dialerEvents}),{skipProtection:!0,skipEncryption:!0,muxerFactory:r});return await s.close(),o}catch(e){throw this.metrics?.dialerEvents.increment({error:!0}),s.abort(e),e}finally{await i.close()}}async _onProtocol({connection:e,stream:t}){try{const{pc:r,muxerFactory:n,remoteAddress:i}=await handleIncomingStream({rtcConfiguration:this.init.rtcConfiguration,connection:e,stream:t,dataChannelOptions:this.init.dataChannel});await this.components.upgrader.upgradeInbound(new WebRTCMultiaddrConnection({peerConnection:r,timeline:{open:(new Date).getTime()},remoteAddr:multiaddr(i).encapsulate(`/p2p/${e.remotePeer.toString()}`),metrics:this.metrics?.listenerEvents}),{skipEncryption:!0,skipProtection:!0,muxerFactory:n})}catch(e){throw t.abort(e),e}finally{await e.close()}}}r(6329),r(9886);var v=r(91325);function D(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}const S=D("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),I=D("ascii","a",(e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}),(e=>{e=e.substring(1);const t=(0,v.E)(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}));l.gh.base16,l.gh;c("libp2p:webrtc:sdp"),Object.values(l.gh).map((e=>e.decoder)).reduce(((e,t)=>e.or(t)));Array.from("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),c("libp2p:webrtc:transport"),(0,f.a_)("webrtc-direct").code,(0,f.a_)("certhash").code;class A{metrics;components;init;constructor(e,t={}){this.components=e,this.init=t,null!=e.metrics&&(this.metrics={dialerEvents:e.metrics.registerCounterGroup("libp2p_webrtc-direct_dialer_events_total",{label:"event",help:"Total count of WebRTC-direct dial events by type"})})}async dial(e,t){const r=await this._connect(e,t);return private_to_public_transport_log(`dialing address - ${e.toString()}`),r}createListener(e){throw unimplemented("WebRTCTransport.createListener")}filter(e){return e.filter(WebRTCDirect.exactMatch)}[Symbol.toStringTag]="@libp2p/webrtc-direct";[n.NA]=!0;async _connect(e,t){const r=new AbortController,n=r.signal,i=e.getPeerId();if(null===i)throw inappropriateMultiaddr("we need to have the remote's PeerId");const s=p.peerIdFromString(i),o=sdp.decodeCerthash(sdp.certhash(e)),a=await RTCPeerConnection.generateCertificate({name:"ECDSA",namedCurve:"P-256",hash:sdp.toSupportedHashFunction(o.name)}),c=new RTCPeerConnection({certificates:[a]});try{const i=new Promise(((e,t)=>{const r=c.createDataChannel("",{negotiated:!0,id:0}),n=setTimeout((()=>{const e=`Data channel was never opened: state: ${r.readyState}`;private_to_public_transport_log.error(e),this.metrics?.dialerEvents.increment({open_error:!0}),t(dataChannelError("data",e))}),1e4);r.onopen=t=>{clearTimeout(n),e(r)},r.onerror=e=>{clearTimeout(n);const r=`Error opening a data channel for handshaking: ${e.target?.toString()??"not specified"}`;private_to_public_transport_log.error(r),this.metrics?.dialerEvents.increment({unknown_error:!0}),t(dataChannelError("data",r))}})),a="libp2p+webrtc+v1/"+genUfrag(32),u=await c.createOffer(),l=sdp.munge(u,a);await c.setLocalDescription(l);const h=sdp.fromMultiAddr(e,a);await c.setRemoteDescription(h);const d=await i,f=this.components.peerId,p=this.generateNoisePrologue(c,o.code,e),b=Noise({prologueBytes:p})(),y=createStream({channel:d,direction:"inbound",dataChannelOptions:this.init.dataChannel}),m={...y,sink:y.sink.bind(y),source:async function*(){for await(const e of y.source)for(const t of e)yield t}()},g=new WebRTCMultiaddrConnection({peerConnection:c,remoteAddr:e,timeline:{open:Date.now()},metrics:this.metrics?.dialerEvents}),E=isFirefox?"iceconnectionstatechange":"connectionstatechange";c.addEventListener(E,(()=>{switch(c.connectionState){case"failed":case"disconnected":case"closed":g.close().catch((e=>{private_to_public_transport_log.error("error closing connection",e)})).finally((()=>{r.abort()}))}}),{signal:n}),this.metrics?.dialerEvents.increment({peer_connection:!0});const w=new DataChannelMuxerFactory({peerConnection:c,metrics:this.metrics?.dialerEvents,dataChannelOptions:this.init.dataChannel});return await b.secureInbound(f,m,s),await t.upgrader.upgradeOutbound(g,{skipProtection:!0,skipEncryption:!0,muxerFactory:w})}catch(e){throw c.close(),e}}generateNoisePrologue(e,t,r){if(0===e.getConfiguration().certificates?.length)throw invalidArgument("no local certificate");const n=sdp.getLocalFingerprint(e);if(null==n)throw invalidArgument("no local fingerprint found");const i=n.trim().toLowerCase().replaceAll(":",""),s=uint8arrayFromString(i,"hex"),o=multihashes.encode(s,t),a=sdp.mbdecoder.decode(sdp.certhash(r)),c=uint8arrayFromString("libp2p-webrtc-noise:");return concat([c,o,a])}}},73289:function(e,t,r){"use strict";r(9839),r(62630),r(52880);var n=r(23235);r(96158),r(46364),r(57050),r(5799);r(60731),r(49736);var i=r(14900);(0,i.Ev)("ip4"),(0,i.Ev)("ip6"),(0,i.Ev)("ipcidr");const s=Object.values(n.gh).map((e=>e.decoder));!function(){let e=s[0].or(s[1]);s.slice(2).forEach((t=>e=e.or(t)))}()},34306:function(e,t,r){"use strict";r.d(t,{a_:function(){return n.Ev}});r(49541),r(52880),r(96158),r(60731),r(57050),r(73289);var n=r(14900);r(80747);Symbol.for("nodejs.util.inspect.custom"),(0,n.Ev)("dns").code,(0,n.Ev)("dns4").code,(0,n.Ev)("dns6").code,(0,n.Ev)("dnsaddr").code,new Map,Symbol.for("@multiformats/js-multiaddr/multiaddr")},14900:function(e,t,r){"use strict";r.d(t,{Ev:function(){return o}});const n=-1,i={},s={};function o(e){if("number"==typeof e){if(null!=s[e])return s[e];throw new Error(`no protocol with code: ${e}`)}if("string"==typeof e){if(null!=i[e])return i[e];throw new Error(`no protocol with name: ${e}`)}throw new Error("invalid protocol id type: "+typeof e)}[[4,32,"ip4"],[6,16,"tcp"],[33,16,"dccp"],[41,128,"ip6"],[42,n,"ip6zone"],[43,8,"ipcidr"],[53,n,"dns",!0],[54,n,"dns4",!0],[55,n,"dns6",!0],[56,n,"dnsaddr",!0],[132,16,"sctp"],[273,16,"udp"],[275,0,"p2p-webrtc-star"],[276,0,"p2p-webrtc-direct"],[277,0,"p2p-stardust"],[280,0,"webrtc-direct"],[281,0,"webrtc"],[290,0,"p2p-circuit"],[301,0,"udt"],[302,0,"utp"],[400,n,"unix",!1,!0],[421,n,"ipfs"],[421,n,"p2p"],[443,0,"https"],[444,96,"onion"],[445,296,"onion3"],[446,n,"garlic64"],[448,0,"tls"],[449,n,"sni"],[460,0,"quic"],[461,0,"quic-v1"],[465,0,"webtransport"],[466,n,"certhash"],[477,0,"ws"],[478,0,"wss"],[479,0,"p2p-websocket-star"],[480,0,"http"],[777,n,"memory"]].forEach((e=>{const t=function(e,t,r,n,i){return{code:e,size:t,name:r,resolvable:Boolean(n),path:Boolean(i)}}(...e);s[t.code]=t,i[t.name]=t}))},60731:function(e,t,r){"use strict";r(5799)},5799:function(e,t,r){"use strict";var n=r(81120),i=r(42103);function s(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}const o=s("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),a=s("ascii","a",(e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}),(e=>{e=e.substring(1);const t=(0,i.E)(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}));n.gh.base16,n.gh},62630:function(e,t,r){"use strict";r.r(t),r.d(t,{base32:function(){return i},base32hex:function(){return c},base32hexpad:function(){return l},base32hexpadupper:function(){return h},base32hexupper:function(){return u},base32pad:function(){return o},base32padupper:function(){return a},base32upper:function(){return s},base32z:function(){return d}});var n=r(29363);const i=(0,n.ET)({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),s=(0,n.ET)({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),o=(0,n.ET)({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),a=(0,n.ET)({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),c=(0,n.ET)({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),u=(0,n.ET)({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),l=(0,n.ET)({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),h=(0,n.ET)({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),d=(0,n.ET)({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})},52880:function(e,t,r){"use strict";r.r(t),r.d(t,{base58btc:function(){return i},base58flickr:function(){return s}});var n=r(29363);const i=(0,n.kU)({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),s=(0,n.kU)({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})},37604:function(e,t,r){"use strict";r.d(t,{BB:function(){return s},mL:function(){return i},oQ:function(){return n}});new Uint8Array(0);const n=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},i=e=>(new TextEncoder).encode(e),s=e=>(new TextDecoder).decode(e)},96158:function(e,t,r){"use strict";r(62630),r(52880),r(37604),r(46364),r(31983);new WeakMap;class n{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:e,multihash:t}=this;if(e!==DAG_PB_CODE)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==SHA_256_CODE)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return n.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:e,digest:t}=this.multihash,r=Digest.create(e,t);return n.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return n.equals(this,e)}static equals(e,t){const r=t;return r&&e.code===r.code&&e.version===r.version&&Digest.equals(e.multihash,r.multihash)}toString(e){return format(this,e)}toJSON(){return{"/":format(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(null==e)return null;const t=e;if(t instanceof n)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){const{version:e,code:r,multihash:i,bytes:s}=t;return new n(e,r,i,s||encodeCID(e,r,i.bytes))}if(!0===t[cidSymbol]){const{version:e,multihash:r,code:i}=t,s=Digest.decode(r);return n.create(e,i,s)}return null}static create(e,t,r){if("number"!=typeof t)throw new Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:if(t!==DAG_PB_CODE)throw new Error(`Version 0 CID must use dag-pb (code: ${DAG_PB_CODE}) block encoding`);return new n(e,t,r,r.bytes);case 1:{const i=encodeCID(e,t,r.bytes);return new n(e,t,r,i)}default:throw new Error("Invalid version")}}static createV0(e){return n.create(0,DAG_PB_CODE,e)}static createV1(e,t){return n.create(1,e,t)}static decode(e){const[t,r]=n.decodeFirst(e);if(r.length)throw new Error("Incorrect length");return t}static decodeFirst(e){const t=n.inspectBytes(e),r=t.size-t.multihashSize,i=coerce(e.subarray(r,r+t.multihashSize));if(i.byteLength!==t.multihashSize)throw new Error("Incorrect length");const s=i.subarray(t.multihashSize-t.digestSize),o=new Digest.Digest(t.multihashCode,t.digestSize,s,i);return[0===t.version?n.createV0(o):n.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0;const r=()=>{const[r,n]=varint.decode(e.subarray(t));return n,r};let n=r(),i=DAG_PB_CODE;if(18===n?(0,0):r(),0!==n&&1!==n)throw new RangeError(`Invalid CID version ${n}`);const s=t,o=r(),a=r(),c=t+a;return{version:n,codec:i,multihashCode:o,digestSize:a,multihashSize:c-s,size:c}}static parse(e,t){const[r,i]=parseCIDtoBytes(e,t),s=n.decode(i);if(0===s.version&&"Q"!==e[0])throw Error("Version 0 CID string must not include multibase prefix");return baseCache(s).set(r,e),s}}Symbol.for("@ipld/js-cid/CID")},46364:function(e,t,r){"use strict";r.d(t,{Ue:function(){return i}});r(37604);var n=r(31983);const i=(e,t)=>{const r=t.byteLength,i=n.P$(e),o=i+n.P$(r),a=new Uint8Array(o+r);return n.mL(e,a,0),n.mL(r,a,i),a.set(t,o),new s(e,r,t,a)};class s{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}},95955:function(e,t,r){"use strict";r.r(t),r.d(t,{identity:function(){return o}});var n=r(37604),i=r(46364);const s=n.oQ,o={code:0,name:"identity",encode:s,digest:e=>i.Ue(0,s(e))}},16834:function(e,t,r){"use strict";r.r(t),r.d(t,{sha256:function(){return s},sha512:function(){return o}});var n=r(86593);const i=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),s=(0,n.D)({name:"sha2-256",code:18,encode:i("SHA-256")}),o=(0,n.D)({name:"sha2-512",code:19,encode:i("SHA-512")})},31983:function(e,t,r){"use strict";r.d(t,{mL:function(){return w},P$:function(){return _}});var n=function e(t,r,n){r=r||[];var a=n=n||0;for(;t>=o;)r[n++]=255&t|i,t/=128;for(;t&s;)r[n++]=255&t|i,t>>>=7;return r[n]=0|t,e.bytes=n-a+1,r},i=128,s=-128,o=Math.pow(2,31);var a=function e(t,r){var n,i=0,s=0,o=r=r||0,a=t.length;do{if(o>=a)throw e.bytes=0,new RangeError("Could not decode varint");n=t[o++],i+=s<28?(n&u)<<s:(n&u)*Math.pow(2,s),s+=7}while(n>=c);return e.bytes=o-r,i},c=128,u=127;var l=Math.pow(2,7),h=Math.pow(2,14),d=Math.pow(2,21),f=Math.pow(2,28),p=Math.pow(2,35),b=Math.pow(2,42),y=Math.pow(2,49),m=Math.pow(2,56),g=Math.pow(2,63),E={encode:n,decode:a,encodingLength:function(e){return e<l?1:e<h?2:e<d?3:e<f?4:e<p?5:e<b?6:e<y?7:e<m?8:e<g?9:10}};const w=(e,t,r=0)=>(E.encode(e,t,r),t),_=e=>E.encodingLength(e)},38134:function(e,t,r){"use strict";r(76237)},36985:function(e,t,r){"use strict";r(49541);var n=r(55265),i=r(9183);r(45182),r(90507),r(77408);WebSocket,r(17745);r(14560),r(38134);class s extends Error{constructor(e,t){super(e??"The operation was aborted"),this.type="aborted",this.code=t??"ABORT_ERR"}}(0,i.kg)("libp2p:websockets:socket");(0,i.kg)("libp2p:websockets");class o{init;constructor(e){this.init=e}[Symbol.toStringTag]="@libp2p/websockets";[n.NA]=!0;async dial(e,t){src_log("dialing %s",e),t??{};const r=await this._connect(e,t),n=socketToMaConn(r,e);src_log("new outbound connection %s",n.remoteAddr);const i=await t.upgrader.upgradeOutbound(n);return src_log("outbound connection %s upgraded",n.remoteAddr),i}async _connect(e,t){if(!0===t?.signal?.aborted)throw new AbortError;const r=e.toOptions();src_log("dialing %s:%s",r.host,r.port);const n=pDefer(),i=connect(toUri(e),this.init);if(i.socket.addEventListener("error",(()=>{const t=new CodeError(`Could not connect to ${e.toString()}`,"ERR_CONNECTION_FAILED");src_log.error("connection error:",t),n.reject(t)})),null==t.signal)return await Promise.race([i.connected(),n.promise]),src_log("connected %s",e),i;let s;const o=new Promise(((e,r)=>{()=>{r(new AbortError),i.close().catch((e=>{src_log.error("error closing raw socket",e)}))},!0!==t?.signal?.aborted?t?.signal?.addEventListener("abort",s):s()}));try{await Promise.race([o,n.promise,i.connected()])}finally{null!=s&&t?.signal?.removeEventListener("abort",s)}return src_log("connected %s",e),i}createListener(e){return createListener({...this.init,...e})}filter(e){return Array.isArray(e)?e:[e],null!=this.init?.filter?this.init?.filter(e):isBrowser||isWebWorker?filters.wss(e):filters.all(e)}}},98399:function(e,t,r){"use strict";r(6329);var n=r(55265),i=r(38203);r(46631),r(76201),r(62308);(0,i.kg)("libp2p:webtransport:stream");r(49541);var s=r(5681),o=(r(3901),r(11822));r(50872),r(69890),r(15879),r(79467);Symbol.for("nodejs.util.inspect.custom"),Object.values(o.gh).map((e=>e.decoder)).reduce(((e,t)=>e.or(t)),o.gh.identity.decoder);class a{type;multihash;privateKey;publicKey;string;constructor(e){this.type=e.type,this.multihash=e.multihash,this.privateKey=e.privateKey,Object.defineProperty(this,"string",{enumerable:!1,writable:!0})}get[Symbol.toStringTag](){return`PeerId(${this.toString()})`}[s.N]=!0;toString(){return null==this.string&&(this.string=base58btc.encode(this.multihash.bytes).slice(1)),this.string}toCID(){return CID.createV1(LIBP2P_KEY_CODE,this.multihash)}toBytes(){return this.multihash.bytes}toJSON(){return this.toString()}equals(e){if(e instanceof Uint8Array)return uint8ArrayEquals(this.multihash.bytes,e);if("string"==typeof e)return function(e,t){if(t??baseDecoder,"1"===e.charAt(0)||"Q"===e.charAt(0)){const t=Digest.decode(base58btc.decode(`z${e}`));return e.startsWith("12D")?new Ed25519PeerIdImpl({multihash:t}):e.startsWith("16U")?new Secp256k1PeerIdImpl({multihash:t}):new RSAPeerIdImpl({multihash:t})}return function(e){try{const t=Digest.decode(e);if(t.code===identity.code){if(t.digest.length===MARSHALLED_ED225519_PUBLIC_KEY_LENGTH)return new Ed25519PeerIdImpl({multihash:t});if(t.digest.length===MARSHALLED_SECP256K1_PUBLIC_KEY_LENGTH)return new Secp256k1PeerIdImpl({multihash:t})}if(t.code===sha256.code)return new RSAPeerIdImpl({multihash:t})}catch{return function(e){if(null==e||null==e.multihash||null==e.version||1===e.version&&e.code!==LIBP2P_KEY_CODE)throw new Error("Supplied PeerID CID is invalid");const t=e.multihash;if(t.code===sha256.code)return new RSAPeerIdImpl({multihash:e.multihash});if(t.code===identity.code){if(t.digest.length===MARSHALLED_ED225519_PUBLIC_KEY_LENGTH)return new Ed25519PeerIdImpl({multihash:e.multihash});if(t.digest.length===MARSHALLED_SECP256K1_PUBLIC_KEY_LENGTH)return new Secp256k1PeerIdImpl({multihash:e.multihash})}throw new Error("Supplied PeerID CID is invalid")}(CID.decode(e))}throw new Error("Supplied PeerID CID is invalid")}(baseDecoder.decode(e))}(e).equals(this);if(null!=e?.multihash?.bytes)return uint8ArrayEquals(this.multihash.bytes,e.multihash.bytes);throw new Error("not valid Id")}[inspect](){return`PeerId(${this.toString()})`}}Object.values(o.gh).map((e=>e.decoder)).reduce(((e,t)=>e.or(t)));(0,i.kg)("libp2p:webtransport");class c{components;config;metrics;constructor(e,t={}){this.components=e,this.config={maxInboundStreams:t.maxInboundStreams??1e3},null!=e.metrics&&(this.metrics={dialerEvents:e.metrics.registerCounterGroup("libp2p_webtransport_dialer_events_total",{label:"event",help:"Total count of WebTransport dialer events by type"})})}[Symbol.toStringTag]="@libp2p/webtransport";[n.NA]=!0;async dial(e,t){t?.signal?.throwIfAborted(),src_log("dialing %s",e);const r=this.components.peerId;if(void 0===r)throw new Error("Need a local peerid");t??{};const{url:n,certhashes:i,remotePeer:s}=parseMultiaddr(e);if(null==s)throw new Error("Need a target peerid");if(0===i.length)throw new Error("Expected multiaddr to contain certhashes");let o,a,c=()=>{},u=!1,l=!1,h=!1;try{this.metrics?.dialerEvents.increment({pending:!0});const h=new WebTransport(`${n}/.well-known/libp2p-webtransport?type=noise`,{serverCertificateHashes:i.map((e=>({algorithm:"sha-256",value:e.digest})))});if(e=>{if(!u)try{this.metrics?.dialerEvents.increment({[e]:!0}),h.close()}catch(e){src_log.error("error closing wt session",e)}finally{null!=a&&(a.timeline.close=Date.now()),!0}},()=>{c(l?"noise_timeout":"ready_timeout")},t.signal?.addEventListener("abort",o,{once:!0}),await Promise.race([h.closed,h.ready]),!0,this.metrics?.dialerEvents.increment({ready:!0}),h.closed.catch((e=>{src_log.error("error on remote wt session close",e)})).finally((()=>{c("remote_close")})),!await this.authenticateWebTransport(h,r,s,i))throw new Error("Failed to authenticate webtransport");return this.metrics?.dialerEvents.increment({open:!0}),{close:async()=>{src_log("Closing webtransport"),c("close")},abort:e=>{src_log("aborting webtransport due to passed err",e),c("abort")},remoteAddr:e,timeline:{open:Date.now()},...inertDuplex()},!0,await t.upgrader.upgradeOutbound(a,{skipEncryption:!0,muxerFactory:this.webtransportMuxer(h),skipProtection:!0})}catch(e){throw src_log.error("caught wt session err",e),c(h?"upgrade_error":l?"noise_error":"ready_error"),e}finally{null!=o&&t.signal?.removeEventListener("abort",o)}}async authenticateWebTransport(e,t,r,n){const i=await e.createBidirectionalStream(),s=i.writable.getWriter(),o=i.readable.getReader();await s.ready;const a={source:async function*(){for(;;){const e=await o.read();if(null!=e.value&&(yield e.value),e.done)break}}(),sink:async function(e){for await(const t of e)await s.write(t)}},c=noise()(),{remoteExtensions:u}=await c.secureOutbound(t,a,r);if(s.close().catch((e=>{src_log.error(`Failed to close authentication stream writer: ${e.message}`)})),o.cancel().catch((e=>{src_log.error(`Failed to close authentication stream reader: ${e.message}`)})),!isSubset(u?.webtransportCerthashes??[],n.map((e=>e.bytes))))throw new Error("Our certhashes are not a subset of the remote's reported certhashes");return!0}webtransportMuxer(e){let t=0;const r=this.config;return{protocol:"webtransport",createStreamMuxer:n=>{"function"==typeof n&&{onIncomingStream:n};const i=[];(async function(){const s=e.incomingBidirectionalStreams.getReader();for(;;){const{done:e,value:o}=await s.read();if(e)break;if(i.length>=r.maxInboundStreams)o.writable.close().catch((e=>{src_log.error(`Failed to close inbound stream that crossed our maxInboundStream limit: ${e.message}`)})),o.readable.cancel().catch((e=>{src_log.error(`Failed to close inbound stream that crossed our maxInboundStream limit: ${e.message}`)}));else{const e=await webtransportBiDiStreamToStream(o,String(t++),"inbound",i,n?.onStreamEnd);i.push(e),n?.onIncomingStream?.(e)}}})().catch((()=>{src_log.error("WebTransport failed to receive incoming stream")}));return{protocol:"webtransport",streams:i,newStream:async r=>{const s=await e.createBidirectionalStream(),o=await webtransportBiDiStreamToStream(s,String(t++),n?.direction??"outbound",i,n?.onStreamEnd);return i.push(o),o},close:async e=>{src_log("Closing webtransport muxer"),await Promise.all(i.map((async t=>t.close(e))))},abort:e=>{src_log("Aborting webtransport muxer with err:",e);for(const t of i)t.abort(e)},...inertDuplex()}}}}createListener(e){throw new Error("Webtransport servers are not supported in Node or the browser")}filter(e){return e.filter(WebTransportMatcher.exactMatch)}}},46631:function(e,t,r){"use strict";r(49541),r(3901),r(50872),r(33064),r(79407);var n=r(46598);r(89560);Symbol.for("nodejs.util.inspect.custom"),(0,n.Ev)("dns").code,(0,n.Ev)("dns4").code,(0,n.Ev)("dns6").code,(0,n.Ev)("dnsaddr").code,new Map,Symbol.for("@multiformats/js-multiaddr/multiaddr")},11822:function(e,t,r){"use strict";r.d(t,{gh:function(){return b}});var n=r(45027),i=r(66316),s=r(10527),o=r(6788),a=r(3746),c=r(60671),u=r(3901),l=r(36702),h=r(93458),d=r(29466),f=(r(12693),r(44745),r(15879)),p=r(79467);r(63129),r(50872),r(69890),r(37562),r(36043);const b={...d,...s,...h,...n,...i,...a,...c,...u,...l,...o}},63129:function(e,t,r){"use strict";r.d(t,{BB:function(){return s},mL:function(){return i},oQ:function(){return n}});new Uint8Array(0);const n=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},i=e=>(new TextEncoder).encode(e),s=e=>(new TextDecoder).decode(e)},50872:function(e,t,r){"use strict";r(3746),r(3901),r(63129),r(69890),r(36043);new WeakMap;class n{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:e,multihash:t}=this;if(e!==DAG_PB_CODE)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==SHA_256_CODE)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return n.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:e,digest:t}=this.multihash,r=Digest.create(e,t);return n.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return n.equals(this,e)}static equals(e,t){const r=t;return r&&e.code===r.code&&e.version===r.version&&Digest.equals(e.multihash,r.multihash)}toString(e){return format(this,e)}toJSON(){return{"/":format(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(null==e)return null;const t=e;if(t instanceof n)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){const{version:e,code:r,multihash:i,bytes:s}=t;return new n(e,r,i,s||encodeCID(e,r,i.bytes))}if(!0===t[cidSymbol]){const{version:e,multihash:r,code:i}=t,s=Digest.decode(r);return n.create(e,i,s)}return null}static create(e,t,r){if("number"!=typeof t)throw new Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:if(t!==DAG_PB_CODE)throw new Error(`Version 0 CID must use dag-pb (code: ${DAG_PB_CODE}) block encoding`);return new n(e,t,r,r.bytes);case 1:{const i=encodeCID(e,t,r.bytes);return new n(e,t,r,i)}default:throw new Error("Invalid version")}}static createV0(e){return n.create(0,DAG_PB_CODE,e)}static createV1(e,t){return n.create(1,e,t)}static decode(e){const[t,r]=n.decodeFirst(e);if(r.length)throw new Error("Incorrect length");return t}static decodeFirst(e){const t=n.inspectBytes(e),r=t.size-t.multihashSize,i=coerce(e.subarray(r,r+t.multihashSize));if(i.byteLength!==t.multihashSize)throw new Error("Incorrect length");const s=i.subarray(t.multihashSize-t.digestSize),o=new Digest.Digest(t.multihashCode,t.digestSize,s,i);return[0===t.version?n.createV0(o):n.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0;const r=()=>{const[r,n]=varint.decode(e.subarray(t));return n,r};let n=r(),i=DAG_PB_CODE;if(18===n?(0,0):r(),0!==n&&1!==n)throw new RangeError(`Invalid CID version ${n}`);const s=t,o=r(),a=r(),c=t+a;return{version:n,codec:i,multihashCode:o,digestSize:a,multihashSize:c-s,size:c}}static parse(e,t){const[r,i]=parseCIDtoBytes(e,t),s=n.decode(i);if(0===s.version&&"Q"!==e[0])throw Error("Version 0 CID string must not include multibase prefix");return baseCache(s).set(r,e),s}}Symbol.for("@ipld/js-cid/CID")},69890:function(e,t,r){"use strict";r.d(t,{create:function(){return i}});r(63129);var n=r(36043);const i=(e,t)=>{const r=t.byteLength,i=n.P$(e),o=i+n.P$(r),a=new Uint8Array(o+r);return n.mL(e,a,0),n.mL(r,a,i),a.set(t,o),new s(e,r,t,a)};class s{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}},15879:function(e,t,r){"use strict";r.r(t),r.d(t,{identity:function(){return o}});var n=r(63129),i=r(69890);const s=n.oQ,o={code:0,name:"identity",encode:s,digest:e=>i.create(0,s(e))}},79467:function(e,t,r){"use strict";r.r(t),r.d(t,{sha256:function(){return s},sha512:function(){return o}});var n=r(37562);const i=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),s=(0,n.D)({name:"sha2-256",code:18,encode:i("SHA-256")}),o=(0,n.D)({name:"sha2-512",code:19,encode:i("SHA-512")})},36043:function(e,t,r){"use strict";r.d(t,{mL:function(){return w},P$:function(){return _}});var n=function e(t,r,n){r=r||[];var a=n=n||0;for(;t>=o;)r[n++]=255&t|i,t/=128;for(;t&s;)r[n++]=255&t|i,t>>>=7;return r[n]=0|t,e.bytes=n-a+1,r},i=128,s=-128,o=Math.pow(2,31);var a=function e(t,r){var n,i=0,s=0,o=r=r||0,a=t.length;do{if(o>=a)throw e.bytes=0,new RangeError("Could not decode varint");n=t[o++],i+=s<28?(n&u)<<s:(n&u)*Math.pow(2,s),s+=7}while(n>=c);return e.bytes=o-r,i},c=128,u=127;var l=Math.pow(2,7),h=Math.pow(2,14),d=Math.pow(2,21),f=Math.pow(2,28),p=Math.pow(2,35),b=Math.pow(2,42),y=Math.pow(2,49),m=Math.pow(2,56),g=Math.pow(2,63),E={encode:n,decode:a,encodingLength:function(e){return e<l?1:e<h?2:e<d?3:e<f?4:e<p?5:e<b?6:e<y?7:e<m?8:e<g?9:10}};const w=(e,t,r=0)=>(E.encode(e,t,r),t),_=e=>E.encodingLength(e)},76237:function(e,t,r){"use strict";var n=r(67387);const i=N("dns4"),s=N("dns6"),o=N("dnsaddr"),a=O(N("dns"),o,i,s),c=O(N("ip4"),N("ip6")),u=O(k(c,N("tcp")),k(a,N("tcp"))),l=k(c,N("udp")),h=k(l,N("utp")),d=k(l,N("quic")),f=k(l,N("quic-v1")),p=O(k(u,N("ws")),k(a,N("ws"))),b=O(k(p,N("p2p")),p),y=O(k(u,N("wss")),k(a,N("wss")),k(u,N("tls"),N("ws")),k(a,N("tls"),N("ws"))),m=O(k(y,N("p2p")),y),g=O(k(u,N("http")),k(c,N("http")),k(a,N("http"))),E=O(k(u,N("https")),k(c,N("https")),k(a,N("https"))),w=k(l,N("webrtc-direct"),N("certhash")),_=O(k(w,N("p2p")),w),v=k(f,N("webtransport"),N("certhash"),N("certhash")),D=O(k(v,N("p2p")),v),S=O(k(b,N("p2p-webrtc-star"),N("p2p")),k(m,N("p2p-webrtc-star"),N("p2p")),k(b,N("p2p-webrtc-star")),k(m,N("p2p-webrtc-star"))),I=(O(k(b,N("p2p-websocket-star"),N("p2p")),k(m,N("p2p-websocket-star"),N("p2p")),k(b,N("p2p-websocket-star")),k(m,N("p2p-websocket-star"))),O(k(g,N("p2p-webrtc-direct"),N("p2p")),k(E,N("p2p-webrtc-direct"),N("p2p")),k(g,N("p2p-webrtc-direct")),k(E,N("p2p-webrtc-direct")))),A=O(p,y,g,E,S,I,u,h,d,a,_,D),C=(O(k(A,N("p2p-stardust"),N("p2p")),k(A,N("p2p-stardust"))),O(k(A,N("p2p")),S,I,_,D,N("p2p"))),R=O(k(C,N("p2p-circuit"),C),k(C,N("p2p-circuit")),k(N("p2p-circuit"),C),k(A,N("p2p-circuit")),k(N("p2p-circuit"),A),N("p2p-circuit")),T=()=>O(k(R,T),R),P=T();O(k(P,C,P),k(C,P),k(P,C),P,C),O(k(P,N("webrtc"),N("p2p")),k(P,N("webrtc")),k(A,N("webrtc"),N("p2p")),k(A,N("webrtc")),N("webrtc"));function L(e){return function(t){let r;try{r=(0,n.HM)(t)}catch(e){return!1}const i=e(r.protoNames());return null!==i&&(!0===i||!1===i?i:0===i.length)}}function k(...e){function t(t){if(t.length<e.length)return null;let r=t;return e.some((e=>(r="function"==typeof e?e().partialMatch(t):e.partialMatch(t),Array.isArray(r)&&(t=r),null===r))),r}return{toString:function(){return"{ "+e.join(" ")+" }"},input:e,matches:L(t),partialMatch:t}}function O(...e){function t(t){let r=null;return e.some((e=>{const n="function"==typeof e?e().partialMatch(t):e.partialMatch(t);return null!=n&&(r=n,!0)})),r}return{toString:function(){return"{ "+e.join(" ")+" }"},input:e,matches:L(t),partialMatch:t}}function N(e){const t=e;return{toString:function(){return t},matches:function(e){let r;try{r=(0,n.HM)(e)}catch(e){return!1}const i=r.protoNames();return 1===i.length&&i[0]===t},partialMatch:function(e){return 0===e.length?null:e[0]===t?e.slice(1):null}}}},76201:function(e,t,r){"use strict";r.d(t,{dx:function(){return M}});var n=r(49736),i=(r(29074),r(7187)),s=r(37649);const o=e=>({match:t=>!(t.length<1)&&(!!e(t[0])&&t.slice(1)),pattern:"fn"}),a=e=>({match:t=>o((t=>t===e)).match(t),pattern:e}),c=()=>({match:e=>o((e=>"string"==typeof e)).match(e),pattern:"{string}"}),u=()=>({match:e=>o((e=>!isNaN(parseInt(e)))).match(e),pattern:"{number}"}),l=()=>({match:e=>{if(e.length<2)return!1;if("p2p"!==e[0]&&"ipfs"!==e[0])return!1;if(!e[1].startsWith("Q")&&!e[1].startsWith("1"))return!1;try{i.i.decode(`z${e[1]}`)}catch(e){return!1}return e.slice(2)},pattern:"/p2p/{peerid}"}),h=()=>({match:e=>{if(e.length<2)return!1;if("certhash"!==e[0])return!1;try{s.tH.decode(e[1])}catch{return!1}return e.slice(2)},pattern:"/certhash/{certhash}"}),d=e=>({match:t=>{const r=e.match(t);return!1===r?t:r},pattern:`optional(${e.pattern})`}),f=(...e)=>({match:t=>{let r;for(const n of e){const e=n.match(t);!1!==e&&((null==r||e.length<r.length)&&(r=e))}return null!=r&&r},pattern:`or(${e.map((e=>e.pattern)).join(", ")})`}),p=(...e)=>({match:t=>{for(const r of e){const e=r.match(t);if(!1===e)return!1;t=e}return t},pattern:`and(${e.map((e=>e.pattern)).join(", ")})`});function b(...e){function t(t){let r=(e=>e.toString().split("/").slice(1))(t);for(const t of e){const e=t.match(r);if(!1===e)return!1;r=e}return r}return{matches:function(e){return!1!==t(e)},exactMatch:function(e){const r=t(e);return!1!==r&&0===r.length}}}const y=p(a("dns4"),c()),m=p(a("dns6"),c()),g=p(a("dnsaddr"),c()),E=p(a("dns"),c()),w=(b(y),b(m),b(g),b(f(E,g,y,m)),p(a("ip4"),o(n.C))),_=p(a("ip6"),o(n.aY)),v=f(w,_),D=f(v,E,y,m,g),S=(b(w),b(_),b(v),p(D,a("tcp"),u())),I=p(D,a("udp"),u()),A=f(S,I),C=(b(S),b(I),p(I,a("quic"))),R=p(I,a("quic-v1")),T=f(C,R),P=(b(C),b(R),f(D,S,I,C,R)),L=f(p(P,a("ws"),d(l()))),k=(b(L),f(p(P,a("wss"),d(l())),p(P,a("tls"),a("ws"),d(l())))),O=(b(k),p(A,a("webrtc-direct"),h(),d(h()),d(l()))),N=(b(O),p(R,a("webtransport"),h(),h(),d(l()))),x=(b(N),f(L,k,p(S,d(l())),p(T,d(l())),p(D,d(l())),O,N,l())),M=(b(x),b(p(x,a("p2p-circuit"),l())));b(f(p(x,a("p2p-circuit"),a("webrtc"),l()),p(x,a("webrtc"),d(l())),a("webrtc")))},45182:function(e,t,r){"use strict";r(63058)},11133:function(e,t,r){"use strict";r(49736),r(49784);var n=r(55986),i=(r(38161),r(14249),r(81653),r(93387));r(29094),r(90309),r(77408),r(9839);(0,n.Ev)("ip4"),(0,n.Ev)("ip6"),(0,n.Ev)("ipcidr");const s=Object.values(i.gh).map((e=>e.decoder));!function(){let e=s[0].or(s[1]);s.slice(2).forEach((t=>e=e.or(t)))}()},63058:function(e,t,r){"use strict";r(11133);var n=r(55986);r(90309),r(49784);r(38161),r(81653),r(32114),r(8710);const i=Symbol.for("nodejs.util.inspect.custom"),s=((0,n.Ev)("dns").code,(0,n.Ev)("dns4").code,(0,n.Ev)("dns6").code,(0,n.Ev)("dnsaddr").code,new Map,Symbol.for("@multiformats/js-multiaddr/multiaddr"));class o{constructor(e){if(_DefaultMultiaddr_string.set(this,void 0),_DefaultMultiaddr_tuples.set(this,void 0),_DefaultMultiaddr_stringTuples.set(this,void 0),this[_a]=!0,null==e&&"",e instanceof Uint8Array)this.bytes=codec.fromBytes(e);else if("string"==typeof e){if(e.length>0&&"/"!==e.charAt(0))throw new Error(`multiaddr "${e}" must start with a "/"`);this.bytes=codec.fromString(e)}else{if(!isMultiaddr(e))throw new Error("addr must be a string, Buffer, or another Multiaddr");this.bytes=codec.fromBytes(e.bytes)}}toString(){return null==__classPrivateFieldGet(this,_DefaultMultiaddr_string,"f")&&__classPrivateFieldSet(this,_DefaultMultiaddr_string,codec.bytesToString(this.bytes),"f"),__classPrivateFieldGet(this,_DefaultMultiaddr_string,"f")}toJSON(){return this.toString()}toOptions(){let e,t,r,n,i="";const s=getProtocol("tcp"),o=getProtocol("udp"),a=getProtocol("ip4"),c=getProtocol("ip6"),u=getProtocol("dns6"),l=getProtocol("ip6zone");for(const[e,t]of this.stringTuples())e===l.code&&`%${t??""}`,DNS_CODES.includes(e)&&(s.name,443,`${t??""}${i}`,e===u.code?6:4),e!==s.code&&e!==o.code||(getProtocol(e).name,parseInt(t??"")),e!==a.code&&e!==c.code||(getProtocol(e).name,`${t??""}${i}`,e===c.code?6:4);if(null==e||null==t||null==r||null==n)throw new Error('multiaddr must have a valid format: "/{ip4, ip6, dns4, dns6, dnsaddr}/{address}/{tcp, udp}/{port}".');return{family:e,host:r,transport:t,port:n}}protos(){return this.protoCodes().map((e=>Object.assign({},getProtocol(e))))}protoCodes(){const e=[],t=this.bytes;let r=0;for(;r<t.length;){const n=varint.decode(t,r),i=varint.decode.bytes??0,s=getProtocol(n);codec.sizeForAddr(s,t.slice(r+i))+i,e.push(n)}return e}protoNames(){return this.protos().map((e=>e.name))}tuples(){return null==__classPrivateFieldGet(this,_DefaultMultiaddr_tuples,"f")&&__classPrivateFieldSet(this,_DefaultMultiaddr_tuples,codec.bytesToTuples(this.bytes),"f"),__classPrivateFieldGet(this,_DefaultMultiaddr_tuples,"f")}stringTuples(){return null==__classPrivateFieldGet(this,_DefaultMultiaddr_stringTuples,"f")&&__classPrivateFieldSet(this,_DefaultMultiaddr_stringTuples,codec.tuplesToStringTuples(this.tuples()),"f"),__classPrivateFieldGet(this,_DefaultMultiaddr_stringTuples,"f")}encapsulate(e){return new o(e),new o(this.toString()+e.toString())}decapsulate(e){const t=e.toString(),r=this.toString(),n=r.lastIndexOf(t);if(n<0)throw new Error(`Address ${this.toString()} does not contain subaddress: ${e.toString()}`);return new o(r.slice(0,n))}decapsulateCode(e){const t=this.tuples();for(let r=t.length-1;r>=0;r--)if(t[r][0]===e)return new o(codec.tuplesToBytes(t.slice(0,r)));return this}getPeerId(){try{const e=this.stringTuples().filter((e=>e[0]===names.ipfs.code)),t=e.pop();if(null!=t?.[1]){const e=t[1];return"Q"===e[0]||"1"===e[0]?uint8ArrayToString(base58btc.decode(`z${e}`),"base58btc"):uint8ArrayToString(CID.parse(e).multihash.bytes,"base58btc")}return null}catch(e){return null}}getPath(){let e=null;try{this.stringTuples().filter((e=>!0===getProtocol(e[0]).path))[0][1],null==e&&null}catch{null}return e}equals(e){return uint8ArrayEquals(this.bytes,e.bytes)}async resolve(e){const t=this.protos().find((e=>e.resolvable));if(null==t)return[this];const r=resolvers.get(t.name);if(null==r)throw errCode(new Error(`no available resolver for ${t.name}`),"ERR_NO_AVAILABLE_RESOLVER");return(await r(this,e)).map((e=>new o(e)))}nodeAddress(){const e=this.toOptions();if("tcp"!==e.transport&&"udp"!==e.transport)throw new Error(`multiaddr must have a valid format - no protocol with name: "${e.transport}". Must have a valid transport protocol: "{tcp, udp}"`);return{family:e.family,address:e.host,port:e.port}}isThinWaistAddress(e){const t=(e??this).protos();return 2===t.length&&((4===t[0].code||41===t[0].code)&&(6===t[1].code||273===t[1].code))}[(new WeakMap,new WeakMap,new WeakMap,s,i)](){return`Multiaddr(${codec.bytesToString(this.bytes)})`}}},55986:function(e,t,r){"use strict";r.d(t,{Ev:function(){return o}});const n=-1,i={},s={};function o(e){if("number"==typeof e){if(null!=s[e])return s[e];throw new Error(`no protocol with code: ${e}`)}if("string"==typeof e){if(null!=i[e])return i[e];throw new Error(`no protocol with name: ${e}`)}throw new Error("invalid protocol id type: "+typeof e)}[[4,32,"ip4"],[6,16,"tcp"],[33,16,"dccp"],[41,128,"ip6"],[42,n,"ip6zone"],[43,8,"ipcidr"],[53,n,"dns",!0],[54,n,"dns4",!0],[55,n,"dns6",!0],[56,n,"dnsaddr",!0],[132,16,"sctp"],[273,16,"udp"],[275,0,"p2p-webrtc-star"],[276,0,"p2p-webrtc-direct"],[277,0,"p2p-stardust"],[280,0,"webrtc-direct"],[281,0,"webrtc"],[290,0,"p2p-circuit"],[301,0,"udt"],[302,0,"utp"],[400,n,"unix",!1,!0],[421,n,"ipfs"],[421,n,"p2p"],[443,0,"https"],[444,96,"onion"],[445,296,"onion3"],[446,n,"garlic64"],[448,0,"tls"],[449,n,"sni"],[460,0,"quic"],[461,0,"quic-v1"],[465,0,"webtransport"],[466,n,"certhash"],[477,0,"ws"],[478,0,"wss"],[479,0,"p2p-websocket-star"],[480,0,"http"],[777,n,"memory"]].forEach((e=>{const t=function(e,t,r,n,i){return{code:e,size:t,name:r,resolvable:Boolean(n),path:Boolean(i)}}(...e);s[t.code]=t,i[t.name]=t}))},48727:function(e,t,r){"use strict";r.r(t),r.d(t,{abortedError:function(){return h},closeFailedError:function(){return s},deleteFailedError:function(){return c},getFailedError:function(){return a},hasFailedError:function(){return u},notFoundError:function(){return l},openFailedError:function(){return i},putFailedError:function(){return o}});var n=r(32114);function i(e){return e=e??new Error("Open failed"),n(e,"ERR_OPEN_FAILED")}function s(e){return e=e??new Error("Close failed"),n(e,"ERR_CLOSE_FAILED")}function o(e){return e=e??new Error("Put failed"),n(e,"ERR_PUT_FAILED")}function a(e){return e=e??new Error("Get failed"),n(e,"ERR_GET_FAILED")}function c(e){return e=e??new Error("Delete failed"),n(e,"ERR_DELETE_FAILED")}function u(e){return e=e??new Error("Has failed"),n(e,"ERR_HAS_FAILED")}function l(e){return e=e??new Error("Not Found"),n(e,"ERR_NOT_FOUND")}function h(e){return e=e??new Error("Aborted"),n(e,"ERR_ABORTED")}},66293:function(e,t,r){"use strict";var n=r(48727);r(8589),r(44883),r(4745),Math.pow(2,31);Math.pow(2,7),Math.pow(2,14),Math.pow(2,21),Math.pow(2,28),Math.pow(2,35),Math.pow(2,42),Math.pow(2,49),Math.pow(2,56),Math.pow(2,63);new WeakMap;class i{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:e,multihash:t}=this;if(e!==DAG_PB_CODE)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==SHA_256_CODE)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return i.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:e,digest:t}=this.multihash,r=Digest.create(e,t);return i.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return i.equals(this,e)}static equals(e,t){const r=t;return r&&e.code===r.code&&e.version===r.version&&Digest.equals(e.multihash,r.multihash)}toString(e){return format(this,e)}toJSON(){return{"/":format(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(null==e)return null;const t=e;if(t instanceof i)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){const{version:e,code:r,multihash:n,bytes:s}=t;return new i(e,r,n,s||encodeCID(e,r,n.bytes))}if(!0===t[cidSymbol]){const{version:e,multihash:r,code:n}=t,s=Digest.decode(r);return i.create(e,n,s)}return null}static create(e,t,r){if("number"!=typeof t)throw new Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:if(t!==DAG_PB_CODE)throw new Error(`Version 0 CID must use dag-pb (code: ${DAG_PB_CODE}) block encoding`);return new i(e,t,r,r.bytes);case 1:{const n=encodeCID(e,t,r.bytes);return new i(e,t,r,n)}default:throw new Error("Invalid version")}}static createV0(e){return i.create(0,DAG_PB_CODE,e)}static createV1(e,t){return i.create(1,e,t)}static decode(e){const[t,r]=i.decodeFirst(e);if(r.length)throw new Error("Incorrect length");return t}static decodeFirst(e){const t=i.inspectBytes(e),r=t.size-t.multihashSize,n=coerce(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw new Error("Incorrect length");const s=n.subarray(t.multihashSize-t.digestSize),o=new Digest.Digest(t.multihashCode,t.digestSize,s,n);return[0===t.version?i.createV0(o):i.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0;const r=()=>{const[r,n]=varint.decode(e.subarray(t));return n,r};let n=r(),i=DAG_PB_CODE;if(18===n?(0,0):r(),0!==n&&1!==n)throw new RangeError(`Invalid CID version ${n}`);const s=t,o=r(),a=r(),c=t+a;return{version:n,codec:i,multihashCode:o,digestSize:a,multihashSize:c-s,size:c}}static parse(e,t){const[r,n]=parseCIDtoBytes(e,t),s=i.decode(n);if(0===s.version&&"Q"!==e[0])throw Error("Version 0 CID string must not include multibase prefix");return baseCache(s).set(r,e),s}}Symbol.for("@ipld/js-cid/CID");r(90067),r(53694)},8589:function(e,t,r){"use strict";r.d(t,{pJ:function(){return i}});var n=r(73994);const i=(0,n.ET)({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});(0,n.ET)({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),(0,n.ET)({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),(0,n.ET)({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),(0,n.ET)({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),(0,n.ET)({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),(0,n.ET)({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),(0,n.ET)({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),(0,n.ET)({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})},44883:function(e,t,r){"use strict";r.d(t,{i:function(){return i}});var n=r(73994);const i=(0,n.kU)({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});(0,n.kU)({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})},4745:function(e,t,r){"use strict";r.d(t,{oQ:function(){return n}});new Uint8Array(0);const n=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")}},64936:function(e,t,r){"use strict";r.d(t,{Dy:function(){return n.D},WU:function(){return n.W}});r(37463),r(61287);var n=r(59787)},22042:function(e,t,r){"use strict";r.d(t,{BB:function(){return a},mL:function(){return c},nI:function(){return u},qu:function(){return f},tP:function(){return l},un:function(){return d},zo:function(){return h}});const n=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&"function"==typeof globalThis.Buffer.isBuffer,i=new TextDecoder,s=new TextEncoder;function o(e){return n&&globalThis.Buffer.isBuffer(e)}const a=n?(e,t,r)=>r-t>64?globalThis.Buffer.from(e.subarray(t,r)).toString("utf8"):b(e,t,r):(e,t,r)=>r-t>64?i.decode(e.subarray(t,r)):b(e,t,r),c=n?e=>e.length>64?globalThis.Buffer.from(e):p(e):e=>e.length>64?s.encode(e):p(e),u=e=>Uint8Array.from(e),l=n?(e,t,r)=>o(e)?new Uint8Array(e.subarray(t,r)):e.slice(t,r):(e,t,r)=>e.slice(t,r),h=n?(e,t)=>{return e=e.map((e=>e instanceof Uint8Array?e:globalThis.Buffer.from(e))),(r=globalThis.Buffer.concat(e,t))instanceof Uint8Array?o(r)?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r:Uint8Array.from(r);var r}:(e,t)=>{const r=new Uint8Array(t);let n=0;for(let t of e)n+t.length>r.length&&(t=t.subarray(0,r.length-n)),r.set(t,n),n+=t.length;return r},d=n?e=>globalThis.Buffer.allocUnsafe(e):e=>new Uint8Array(e);function f(e,t){if(o(e)&&o(t))return e.compare(t);for(let r=0;r<e.length;r++)if(e[r]!==t[r])return e[r]<t[r]?-1:1;return 0}function p(e,t=1/0){let r;const n=e.length;let i=null;const s=[];for(let o=0;o<n;++o){if(r=e.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function b(e,t,r){const n=[];for(;t<r;){const i=e[t];let s=null,o=i>239?4:i>223?3:i>191?2:1;if(t+o<=r){let r,n,a,c;switch(o){case 1:i<128&&(s=i);break;case 2:r=e[t+1],128==(192&r)&&(c=(31&i)<<6|63&r,c>127&&(s=c));break;case 3:r=e[t+1],n=e[t+2],128==(192&r)&&128==(192&n)&&(c=(15&i)<<12|(63&r)<<6|63&n,c>2047&&(c<55296||c>57343)&&(s=c));break;case 4:r=e[t+1],n=e[t+2],a=e[t+3],128==(192&r)&&128==(192&n)&&128==(192&a)&&(c=(15&i)<<18|(63&r)<<12|(63&n)<<6|63&a,c>65535&&c<1114112&&(s=c))}}null===s?(s=65533,o=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|1023&s),n.push(s),t+=o}return function(e){const t=e.length;if(t<=y)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=y));return r}(n)}const y=4096},85590:function(e,t,r){"use strict";r.d(t,{DO:function(){return o},IR:function(){return n},OO:function(){return i}});const n="CBOR decode error:",i="CBOR encode error:",s=[];function o(e,t,r){if(e.length-t<r)throw new Error(`${n} not enough data for type`)}s[23]=1,s[24]=2,s[25]=3,s[26]=5,s[27]=9},61287:function(e,t,r){"use strict";r(85590),r(59787),r(53741);Symbol.for("DONE"),Symbol.for("BREAK")},37463:function(e,t,r){"use strict";var n=r(50579),i=r(59787),s=r(74320),o=r(85590),a=r(53741),c=(r(22042),r(55580)),u=r(53929),l=r(11560),h=r(50768),d=r(8278),f=r(59283),p=r(82428),b=r(73851),y=r(25108);a.JN;const m=function(){const e=[];return e[i.D.uint.major]=c.Fh,e[i.D.negint.major]=u.UT,e[i.D.bytes.major]=l.hg,e[i.D.string.major]=h.YW,e[i.D.array.major]=d.HF,e[i.D.map.major]=f.KI,e[i.D.tag.major]=p.xy,e[i.D.float.major]=b.tA,e}();new s.Bl;class g{constructor(e,t){this.obj=e,this.parent=t}includes(e){let t=this;do{if(t.obj===e)return!0}while(t=t.parent);return!1}static createCheck(e,t){if(e&&e.includes(t))throw new Error(`${o.OO} object contains circular references`);return new g(t,e)}}const E={null:new i.W(i.D.null,null),undefined:new i.W(i.D.undefined,void 0),true:new i.W(i.D.true,!0),false:new i.W(i.D.false,!1),emptyArray:new i.W(i.D.array,0),emptyMap:new i.W(i.D.map,0)},w={number:(e,t,r,n)=>Number.isInteger(e)&&Number.isSafeInteger(e)?e>=0?new i.W(i.D.uint,e):new i.W(i.D.negint,e):new i.W(i.D.float,e),bigint:(e,t,r,n)=>e>=BigInt(0)?new i.W(i.D.uint,e):new i.W(i.D.negint,e),Uint8Array:(e,t,r,n)=>new i.W(i.D.bytes,e),string:(e,t,r,n)=>new i.W(i.D.string,e),boolean:(e,t,r,n)=>e?E.true:E.false,null:(e,t,r,n)=>E.null,undefined:(e,t,r,n)=>E.undefined,ArrayBuffer:(e,t,r,n)=>new i.W(i.D.bytes,new Uint8Array(e)),DataView:(e,t,r,n)=>new i.W(i.D.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),Array(e,t,r,n){if(!e.length)return!0===r.addBreakTokens?[E.emptyArray,new i.W(i.D.break)]:E.emptyArray;n=g.createCheck(n,e);const s=[];let o=0;for(const t of e)s[o++]=_(t,r,n);return r.addBreakTokens?[new i.W(i.D.array,e.length),s,new i.W(i.D.break)]:[new i.W(i.D.array,e.length),s]},Object(e,t,r,n){const s="Object"!==t,o=s?e.keys():Object.keys(e),a=s?e.size:o.length;if(!a)return!0===r.addBreakTokens?[E.emptyMap,new i.W(i.D.break)]:E.emptyMap;n=g.createCheck(n,e);const c=[];let u=0;for(const t of o)c[u++]=[_(t,r,n),_(s?e.get(t):e[t],r,n)];return function(e,t){t.mapSorter&&e.sort(t.mapSorter)}(c,r),r.addBreakTokens?[new i.W(i.D.map,a),c,new i.W(i.D.break)]:[new i.W(i.D.map,a),c]}};w.Map=w.Object,w.Buffer=w.Uint8Array;for(const e of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))w[`${e}Array`]=w.DataView;function _(e,t={},r){const i=(0,n.is)(e),s=t&&t.typeEncoders&&t.typeEncoders[i]||w[i];if("function"==typeof s){const n=s(e,i,t,r);if(null!=n)return n}const a=w[i];if(!a)throw new Error(`${o.OO} unsupported type: ${i}`);return a(e,i,t,r)}},53741:function(e,t,r){"use strict";r.d(t,{JN:function(){return g}});var n=r(59787),i=r(55580),s=r(53929),o=r(11560),a=r(50768),c=r(8278),u=r(59283),l=r(82428),h=r(73851),d=r(85590),f=r(22042);function p(e,t,r){throw new Error(`${d.IR} encountered invalid minor (${r}) for major ${e[t]>>>5}`)}function b(e){return()=>{throw new Error(`${d.IR} ${e}`)}}const y=[];for(let e=0;e<=23;e++)y[e]=p;y[24]=i.Km,y[25]=i.Zh,y[26]=i.cs,y[27]=i.uN,y[28]=p,y[29]=p,y[30]=p,y[31]=p;for(let e=32;e<=55;e++)y[e]=p;y[56]=s.yr,y[57]=s.r0,y[58]=s.wy,y[59]=s.ec,y[60]=p,y[61]=p,y[62]=p,y[63]=p;for(let e=64;e<=87;e++)y[e]=o.Ii;y[88]=o.UQ,y[89]=o.BS,y[90]=o.zU,y[91]=o.ME,y[92]=p,y[93]=p,y[94]=p,y[95]=b("indefinite length bytes/strings are not supported");for(let e=96;e<=119;e++)y[e]=a.nt;y[120]=a.Bq,y[121]=a.h,y[122]=a.q0,y[123]=a.bc,y[124]=p,y[125]=p,y[126]=p,y[127]=b("indefinite length bytes/strings are not supported");for(let e=128;e<=151;e++)y[e]=c.Ju;y[152]=c.h7,y[153]=c.OC,y[154]=c.lY,y[155]=c.a8,y[156]=p,y[157]=p,y[158]=p,y[159]=c.s5;for(let e=160;e<=183;e++)y[e]=u._K;y[184]=u.G,y[185]=u.qe,y[186]=u.IY,y[187]=u.F2,y[188]=p,y[189]=p,y[190]=p,y[191]=u.ng;for(let e=192;e<=215;e++)y[e]=l.qJ;y[216]=l.ZR,y[217]=l.CF,y[218]=l.vP,y[219]=l.MV,y[220]=p,y[221]=p,y[222]=p,y[223]=p;for(let e=224;e<=243;e++)y[e]=b("simple values are not supported");y[244]=p,y[245]=p,y[246]=p,y[247]=h.h1,y[248]=b("simple values are not supported"),y[249]=h.mW,y[250]=h.GI,y[251]=h.vV,y[252]=p,y[253]=p,y[254]=p,y[255]=h.y7;const m=[];for(let e=0;e<24;e++)m[e]=new n.W(n.D.uint,e,1);for(let e=-1;e>=-24;e--)m[31-e]=new n.W(n.D.negint,e,1);function g(e){switch(e.type){case n.D.false:return(0,f.nI)([244]);case n.D.true:return(0,f.nI)([245]);case n.D.null:return(0,f.nI)([246]);case n.D.bytes:return e.value.length?void 0:(0,f.nI)([64]);case n.D.string:return""===e.value?(0,f.nI)([96]):void 0;case n.D.array:return 0===e.value?(0,f.nI)([128]):void 0;case n.D.map:return 0===e.value?(0,f.nI)([160]):void 0;case n.D.uint:return e.value<24?(0,f.nI)([Number(e.value)]):void 0;case n.D.negint:if(e.value>=-24)return(0,f.nI)([31-Number(e.value)])}}m[64]=new n.W(n.D.bytes,new Uint8Array(0),1),m[96]=new n.W(n.D.string,"",1),m[128]=new n.W(n.D.array,0,1),m[160]=new n.W(n.D.map,0,1),m[244]=new n.W(n.D.false,!1,1),m[245]=new n.W(n.D.true,!0,1),m[246]=new n.W(n.D.null,null,1)},59787:function(e,t,r){"use strict";r.d(t,{D:function(){return n},W:function(){return i}});class n{constructor(e,t,r){this.major=e,this.majorEncoded=e<<5,this.name=t,this.terminal=r}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}}n.uint=new n(0,"uint",!0),n.negint=new n(1,"negint",!0),n.bytes=new n(2,"bytes",!0),n.string=new n(3,"string",!0),n.array=new n(4,"array",!1),n.map=new n(5,"map",!1),n.tag=new n(6,"tag",!1),n.float=new n(7,"float",!0),n.false=new n(7,"false",!0),n.true=new n(7,"true",!0),n.null=new n(7,"null",!0),n.undefined=new n(7,"undefined",!0),n.break=new n(7,"break",!0);class i{constructor(e,t,r){this.type=e,this.value=t,this.encodedLength=r,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}},66801:function(e,t,r){"use strict";r(32114)},52292:function(e,t,r){"use strict";r(66801),r(72745),r(92291),r(97341),r(24462),r(85865),r(27794),r(47916)},92291:function(e,t,r){"use strict";r(88309),r(66801)},71066:function(e,t,r){"use strict";var n=r(11227),i=r(38578),s=r(16459),o=r(84738);function a(e){let t=function(e){const t=()=>{};return t.enabled=!1,t.color="",t.diff=0,t.log=()=>{},t.namespace=e,t.destroy=()=>!0,t.extend=()=>t,t}(`${e}:trace`);return n.enabled(`${e}:trace`)&&null!=n.names.map((e=>e.toString())).find((e=>e.includes(":trace")))&&(t=n(`${e}:trace`)),Object.assign(n(e),{error:n(`${e}:error`),trace:t})}n.formatters.b=e=>null==e?"undefined":s.base58btc.baseEncode(e),n.formatters.t=e=>null==e?"undefined":i.base32.baseEncode(e),n.formatters.m=e=>null==e?"undefined":o.base64.baseEncode(e),n.formatters.p=e=>null==e?"undefined":e.toString(),n.formatters.c=e=>null==e?"undefined":e.toString(),n.formatters.k=e=>null==e?"undefined":e.toString(),n.formatters.a=e=>null==e?"undefined":e.toString();r(66293),r(52292);var c=r(19446);const u=(0,c.ET)({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5});(0,c.ET)({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),(0,c.ET)({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),(0,c.ET)({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),(0,c.ET)({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),(0,c.ET)({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),(0,c.ET)({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),(0,c.ET)({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),(0,c.ET)({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var l=r(77519);r(83747),r(63468),r(43085);new WeakMap;class h{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:e,multihash:t}=this;if(e!==DAG_PB_CODE)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==SHA_256_CODE)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return h.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:e,digest:t}=this.multihash,r=hashes_digest.Ue(e,t);return h.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return h.equals(this,e)}static equals(e,t){const r=t;return r&&e.code===r.code&&e.version===r.version&&hashes_digest.fS(e.multihash,r.multihash)}toString(e){return format(this,e)}toJSON(){return{"/":format(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(null==e)return null;const t=e;if(t instanceof h)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){const{version:e,code:r,multihash:n,bytes:i}=t;return new h(e,r,n,i||encodeCID(e,r,n.bytes))}if(!0===t[cidSymbol]){const{version:e,multihash:r,code:n}=t,i=hashes_digest.Jx(r);return h.create(e,n,i)}return null}static create(e,t,r){if("number"!=typeof t)throw new Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:if(t!==DAG_PB_CODE)throw new Error(`Version 0 CID must use dag-pb (code: ${DAG_PB_CODE}) block encoding`);return new h(e,t,r,r.bytes);case 1:{const n=encodeCID(e,t,r.bytes);return new h(e,t,r,n)}default:throw new Error("Invalid version")}}static createV0(e){return h.create(0,DAG_PB_CODE,e)}static createV1(e,t){return h.create(1,e,t)}static decode(e){const[t,r]=h.decodeFirst(e);if(r.length)throw new Error("Incorrect length");return t}static decodeFirst(e){const t=h.inspectBytes(e),r=t.size-t.multihashSize,n=(0,src_bytes.oQ)(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw new Error("Incorrect length");const i=n.subarray(t.multihashSize-t.digestSize),s=new hashes_digest.zZ(t.multihashCode,t.digestSize,i,n);return[0===t.version?h.createV0(s):h.createV1(t.codec,s),e.subarray(t.size)]}static inspectBytes(e){let t=0;const r=()=>{const[r,n]=src_varint.Jx(e.subarray(t));return n,r};let n=r(),i=DAG_PB_CODE;if(18===n?(0,0):r(),0!==n&&1!==n)throw new RangeError(`Invalid CID version ${n}`);const s=t,o=r(),a=r(),c=t+a;return{version:n,codec:i,multihashCode:o,digestSize:a,multihashSize:c-s,size:c}}static parse(e,t){const[r,n]=parseCIDtoBytes(e,t),i=h.decode(n);if(0===i.version&&"Q"!==e[0])throw Error("Version 0 CID string must not include multibase prefix");return baseCache(i).set(r,e),i}}Symbol.for("@ipld/js-cid/CID");r(40480),r(49541),r(1546),r(82838);var d=r(56624);n.formatters.b=e=>null==e?"undefined":l.i.baseEncode(e),n.formatters.t=e=>null==e?"undefined":u.baseEncode(e),n.formatters.m=e=>null==e?"undefined":d.US.baseEncode(e),n.formatters.p=e=>null==e?"undefined":e.toString(),n.formatters.c=e=>null==e?"undefined":e.toString(),n.formatters.k=e=>null==e?"undefined":e.toString(),n.formatters.a=e=>null==e?"undefined":e.toString();r(73062);var f=r(21787);r(70925);var p=r(56880);class b{static Entry=f.b;static WantType={Block:p.v.Wantlist.WantType.Block,Have:p.v.Wantlist.WantType.Have};static BlockPresenceType={Have:p.v.BlockPresenceType.Have,DontHave:p.v.BlockPresenceType.DontHave};static deserialize=async(e,t)=>{const r=p.v.decode(e),n=!0===r.wantlist?.full,i=new b(n);return r.wantlist?.entries.forEach((e=>{if(null==e.block)return;const t=h.decode(e.block);i.addEntry(t,e.priority??0,e.wantType,Boolean(e.cancel),Boolean(e.sendDontHave))})),r.blockPresences.forEach((e=>{if(null==e.cid)return;const t=h.decode(e.cid);e.type===b.BlockPresenceType.Have?i.addHave(t):i.addDontHave(t)})),r.blocks.length>0?(await Promise.all(r.blocks.map((async e=>{const t=await sha2_browser.J.digest(e),r=h.createV0(t);i.addBlock(r,e)}))),i):r.payload.length>0?(await Promise.all(r.payload.map((async e=>{if(null==e.prefix||null==e.data)return;const r=varint_decoder_src(e.prefix),n=r[0],s=r[1],o=r[2],a=o===sha2_browser.J.code?sha2_browser.J:await(t?.getHasher(o));if(null==a)throw new errors.sv("Unknown hash algorithm","ERR_UNKNOWN_HASH_ALG");const c=await a.digest(e.data),u=h.create(n,s,c);i.addBlock(u,e.data)}))),i.setPendingBytes(r.pendingBytes),i):i};static blockPresenceSize=e=>e.bytes.length+1;full;wantlist;blocks;blockPresences;pendingBytes;constructor(e){this.full=e,this.wantlist=new Map,this.blocks=new Map,this.blockPresences=new Map,this.pendingBytes=0}get empty(){return 0===this.blocks.size&&0===this.wantlist.size&&0===this.blockPresences.size}addEntry(e,t,r,n,i){null==r&&b.WantType.Block;const s=e.toString(l.i),o=this.wantlist.get(s);null!=o?(o.wantType===r&&(o.priority=t),!0===n&&(o.cancel=Boolean(n)),!0===i&&(o.sendDontHave=Boolean(i)),r===b.WantType.Block&&o.wantType===b.WantType.Have&&(o.wantType=r)):this.wantlist.set(s,new f.b(e,t,r,n,i))}addBlock(e,t){const r=e.toString(l.i);this.blocks.set(r,t)}addHave(e){const t=e.toString(l.i);this.blockPresences.has(t)||this.blockPresences.set(t,b.BlockPresenceType.Have)}addDontHave(e){const t=e.toString(l.i);this.blockPresences.has(t)||this.blockPresences.set(t,b.BlockPresenceType.DontHave)}cancel(e){const t=e.toString(l.i);this.wantlist.delete(t),this.addEntry(e,0,b.WantType.Block,!0,!1)}setPendingBytes(e){this.pendingBytes=e}serializeToBitswap100(){return p.v.encode({wantlist:{entries:Array.from(this.wantlist.values()).map((e=>({block:e.cid.bytes,priority:Number(e.priority),cancel:Boolean(e.cancel),wantType:p.v.Wantlist.WantType.Block,sendDontHave:!1}))),full:Boolean(this.full)},blocks:Array.from(this.blocks.values())})}serializeToBitswap110(){const e={wantlist:{entries:Array.from(this.wantlist.values()).map((e=>({block:e.cid.bytes,priority:Number(e.priority),wantType:e.wantType,cancel:Boolean(e.cancel),sendDontHave:Boolean(e.sendDontHave)}))),full:Boolean(this.full)},blockPresences:[],payload:[],pendingBytes:this.pendingBytes,blocks:[]};for(const[t,r]of this.blocks.entries()){const n=h.parse(t),i=n.version,s=n.code,o=n.multihash.code,a=n.multihash.digest.length,c=(0,varint_encoder.Z)([i,s,o,a]);e.payload.push({prefix:c,data:r})}for(const[t,r]of this.blockPresences)e.blockPresences.push({cid:h.parse(t).bytes,type:r});return this.pendingBytes>0&&(e.pendingBytes=this.pendingBytes),p.v.encode(e)}equals(e){return!!(this.full===e.full&&this.pendingBytes===e.pendingBytes&&isMapEqual(this.wantlist,e.wantlist)&&isMapEqual(this.blocks,e.blocks)&&isMapEqual(this.blockPresences,e.blockPresences))}get[Symbol.toStringTag](){const e=Array.from(this.wantlist.keys()),t=Array.from(this.blocks.keys());return`BitswapMessage <full: ${this.full}, list: ${e}, blocks: ${t}>`}}r(28807);p.v.Wantlist.WantType.Block,p.v.Wantlist.WantType.Have;class y extends Map{_cmp;_keys;constructor(e,t){super(),this._cmp=t??this._defaultSort,this._keys=[];for(const[t,r]of e??[])this.set(t,r)}update(e){if(e<0||e>=this._keys.length)return;const t=this._keys[e];this._keys.splice(e,1);const r=this._find(t);this._keys.splice(r,0,t)}set(e,t){if(this.has(e)){const t=this.indexOf(e);this._keys.splice(t,1)}super.set(e,t);const r=this._find(e);return this._keys.splice(r,0,e),this}clear(){super.clear(),this._keys=[]}delete(e){if(!this.has(e))return!1;const t=this.indexOf(e);return this._keys.splice(t,1),super.delete(e)}indexOf(e){if(!this.has(e))return-1;const t=this._find(e);if(this._keys[t]===e)return t;for(let r=1;r<this._keys.length;r++){if(this._keys[t+r]===e)return t+r;if(this._keys[t-r]===e)return t-r}return-1}_find(e){let t=0,r=this._keys.length;for(;t<r;){const n=t+r>>>1,i=this._kCmp(this._keys[n],e);if(i<0)n+1;else{if(!(i>0))return n;n}}return t}*keys(){for(const e of this._keys)yield e}*values(){for(const e of this._keys)yield this.get(e)}*entries(){for(const e of this._keys)yield[e,this.get(e)]}*[Symbol.iterator](){yield*this.entries()}forEach(e,t=this){if(null!=e)for(const r of this._keys){const n=this.get(r);if(null==n)throw new Error("Value cannot be undefined");e.apply(t,[[r,n]])}}_defaultSort(e,t){return e[0]<t[0]?-1:t[0]<e[0]?1:0}_kCmp(e,t){return this._cmp([e,this.get(e)],[t,this.get(t)])}}r(91893),r(90212),r(43905),r(10715);Math.pow(2,31);r(17187),r(49784);r(63573);r(5879),r(96984),r(8487);var m=r(70306);r(26199),r(69736),r(85923),r(71198);new WeakMap;var g,E,w,_,v,D,S,I,A,C,R,T,P,L,k,O,N,x,M,U,B,V=function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},F=function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};class K extends Error{}E=new WeakMap,w=new WeakMap,_=new WeakMap,v=new WeakMap,D=new WeakMap,S=new WeakMap,I=new WeakMap,A=new WeakMap,C=new WeakMap,new WeakMap,R=new WeakMap,T=new WeakMap,P=new WeakMap,new WeakMap,g=new WeakSet,L=function(){return F(this,w,"f")||F(this,_,"f")<F(this,v,"f")},k=function(){return F(this,R,"f")<F(this,T,"f")},O=function(){F(this,g,"m",U).call(this),F(this,g,"m",M).call(this),V(this,A,void 0,"f")},N=function(){const e=Date.now();if(void 0===F(this,I,"f")){const t=F(this,S,"f")-e;if(!(t<0))return void 0===F(this,A,"f")&&V(this,A,setTimeout((()=>{F(this,g,"m",O).call(this)}),t),"f"),!0;V(this,_,F(this,E,"f")?F(this,R,"f"):0,"f")}return!1},x=function(){if(0===F(this,C,"f").size)return F(this,I,"f")&&clearInterval(F(this,I,"f")),V(this,I,void 0,"f"),this.emit("empty"),0===F(this,R,"f")&&this.emit("idle"),!1;if(!F(this,P,"f")){const e=!F(this,g,"a",N);if(F(this,g,"a",L)&&F(this,g,"a",k)){const t=F(this,C,"f").dequeue();return!!t&&(this.emit("active"),t(),e&&F(this,g,"m",M).call(this),!0)}}return!1},M=function(){F(this,w,"f")||void 0!==F(this,I,"f")||(V(this,I,setInterval((()=>{F(this,g,"m",U).call(this)}),F(this,D,"f")),"f"),V(this,S,Date.now()+F(this,D,"f"),"f"))},U=function(){0===F(this,_,"f")&&0===F(this,R,"f")&&F(this,I,"f")&&(clearInterval(F(this,I,"f")),V(this,I,void 0,"f")),V(this,_,F(this,E,"f")?F(this,R,"f"):0,"f"),F(this,g,"m",B).call(this)},B=function(){for(;F(this,g,"m",x).call(this););};var z=r(76944);z.Zr,z.AW,z.H0,z.bY,z.eN;r(56027);var $=r(77408);new m.s("/version");a("helia");r(12021);var W=r(5681),G=r(1465),j=r(28375);r(46023),r(46232),r(78227),r(49943);Symbol.for("nodejs.util.inspect.custom"),Object.values(j.gh).map((e=>e.decoder)).reduce(((e,t)=>e.or(t)),j.gh.identity.decoder);class H{type;multihash;privateKey;publicKey;string;constructor(e){this.type=e.type,this.multihash=e.multihash,this.privateKey=e.privateKey,Object.defineProperty(this,"string",{enumerable:!1,writable:!0})}get[Symbol.toStringTag](){return`PeerId(${this.toString()})`}[W.N]=!0;toString(){return null==this.string&&(this.string=base58btc.encode(this.multihash.bytes).slice(1)),this.string}toCID(){return CID.createV1(LIBP2P_KEY_CODE,this.multihash)}toBytes(){return this.multihash.bytes}toJSON(){return this.toString()}equals(e){if(e instanceof Uint8Array)return uint8ArrayEquals(this.multihash.bytes,e);if("string"==typeof e)return function(e,t){if(t??baseDecoder,"1"===e.charAt(0)||"Q"===e.charAt(0)){const t=Digest.decode(base58btc.decode(`z${e}`));return e.startsWith("12D")?new Ed25519PeerIdImpl({multihash:t}):e.startsWith("16U")?new Secp256k1PeerIdImpl({multihash:t}):new RSAPeerIdImpl({multihash:t})}return function(e){try{const t=Digest.decode(e);if(t.code===identity.code){if(t.digest.length===MARSHALLED_ED225519_PUBLIC_KEY_LENGTH)return new Ed25519PeerIdImpl({multihash:t});if(t.digest.length===MARSHALLED_SECP256K1_PUBLIC_KEY_LENGTH)return new Secp256k1PeerIdImpl({multihash:t})}if(t.code===sha256.code)return new RSAPeerIdImpl({multihash:t})}catch{return function(e){if(null==e||null==e.multihash||null==e.version||1===e.version&&e.code!==LIBP2P_KEY_CODE)throw new Error("Supplied PeerID CID is invalid");const t=e.multihash;if(t.code===sha256.code)return new RSAPeerIdImpl({multihash:e.multihash});if(t.code===identity.code){if(t.digest.length===MARSHALLED_ED225519_PUBLIC_KEY_LENGTH)return new Ed25519PeerIdImpl({multihash:e.multihash});if(t.digest.length===MARSHALLED_SECP256K1_PUBLIC_KEY_LENGTH)return new Secp256k1PeerIdImpl({multihash:e.multihash})}throw new Error("Supplied PeerID CID is invalid")}(CID.decode(e))}throw new Error("Supplied PeerID CID is invalid")}(baseDecoder.decode(e))}(e).equals(this);if(null!=e?.multihash?.bytes)return uint8ArrayEquals(this.multihash.bytes,e.multihash.bytes);throw new Error("not valid Id")}[inspect](){return`PeerId(${this.toString()})`}}var q=r(17663),Y=r(98924);n.formatters.b=e=>null==e?"undefined":G.base58btc.baseEncode(e),n.formatters.t=e=>null==e?"undefined":q.base32.baseEncode(e),n.formatters.m=e=>null==e?"undefined":Y.base64.baseEncode(e),n.formatters.p=e=>null==e?"undefined":e.toString(),n.formatters.c=e=>null==e?"undefined":e.toString(),n.formatters.k=e=>null==e?"undefined":e.toString(),n.formatters.a=e=>null==e?"undefined":e.toString();r(23247);var Q=r(64482);const{RPC:J}=Q;r(50786);r(3068),r(97450),r(3832);var Z=r(26826),X=r(77767);r(17487),r(82596),r(41313),r(95577);r(51382),r(31815);var ee,te,re,ne,ie;r(92679);!function(e){e.StrictSign="StrictSign",e.StrictNoSign="StrictNoSign"}(ee||(ee={})),function(e){e[e.Signing=0]="Signing",e[e.Anonymous=1]="Anonymous"}(te||(te={})),function(e){e.Error="error",e.Ignore="ignore",e.Reject="reject",e.Blacklisted="blacklisted"}(re||(re={})),function(e){e.InvalidSignature="invalid_signature",e.InvalidSeqno="invalid_seqno",e.InvalidPeerId="invalid_peerid",e.SignaturePresent="signature_present",e.SeqnoPresent="seqno_present",e.FromPresent="from_present",e.TransformFailed="transform_failed"}(ne||(ne={})),function(e){e.duplicate="duplicate",e.invalid="invalid",e.valid="valid"}(ie||(ie={}));new Set;var se;r(45001);!function(e){e[e.unknown=0]="unknown",e[e.valid=1]="valid",e[e.invalid=2]="invalid",e[e.ignored=3]="ignored"}(se||(se={}));class oe extends Map{getDefault;constructor(e){super(),this.getDefault=e}getOrDefault(e){let t=super.get(e);return void 0===t&&(this.getDefault(),this.set(e,t)),t}}!function(e){let t=function(e){const t=()=>{};return t.enabled=!1,t.color="",t.diff=0,t.log=()=>{},t.namespace=e,t.destroy=()=>!0,t.extend=()=>t,t}(`${e}:trace`);n.enabled(`${e}:trace`)&&null!=n.names.map((e=>e.toString())).find((e=>e.includes(":trace")))&&(t=n(`${e}:trace`)),Object.assign(n(e),{error:n(`${e}:error`),trace:t})}("libp2p:gossipsub:score");var ae,ce,ue,le,he,de;!function(e){e.forward="forward",e.publish="publish"}(ae||(ae={})),function(e){e.Fanout="fanout",e.Random="random",e.Subscribed="subscribed",e.Outbound="outbound",e.NotEnough="not_enough",e.Opportunistic="opportunistic"}(ce||(ce={})),function(e){e.Dc="disconnected",e.BadScore="bad_score",e.Prune="prune",e.Excess="excess"}(ue||(ue={})),function(e){e.GraftBackoff="graft_backoff",e.BrokenPromise="broken_promise",e.MessageDeficit="message_deficit",e.IPColocation="IP_colocation"}(le||(le={})),function(e){e.LowScore="low_score",e.MaxIhave="max_ihave",e.MaxIasked="max_iasked"}(he||(he={})),function(e){e.graylist="graylist",e.publish="publish",e.gossip="gossip",e.mesh="mesh"}(de||(de={}));r(30793),r(26422),r(13412),r(98900);(0,Z.m)("libp2p-pubsub:");r(69391);class fe extends Error{type;code;constructor(e,t){super(e??"The operation was aborted"),this.type="aborted",this.code=t??"ABORT_ERR"}}class pe extends Error{constructor(e,t){super(e??"The operation was aborted"),this.type="aborted",this.code=t??"ABORT_ERR"}}r(42450);r(9839);var be=r(57050);r(72069),r(17610);r(49736);var ye=r(62073);(0,ye.Ev)("ip4"),(0,ye.Ev)("ip6"),(0,ye.Ev)("ipcidr");const me=Object.values(j.gh).map((e=>e.decoder));!function(){let e=me[0].or(me[1]);me.slice(2).forEach((t=>e=e.or(t)))}();var ge;!function(e){e[e.ip4=4]="ip4",e[e.ip6=41]="ip6"}(ge||(ge={}));var Ee;!function(e){e[e.started=0]="started",e[e.stopped=1]="stopped"}(Ee||(Ee={}));r(6329),r(16397),r(75845),r(49796),r(90391);class we extends Error{constructor(e,t){super(e??"The operation was aborted"),this.type="aborted",this.code=t??"ABORT_ERR"}}class _e extends Error{type;code;constructor(e,t){super(e??"The operation was aborted"),this.type="aborted",this.code=t??"ABORT_ERR"}}r(28050);var ve=r(73482),De=r(99459);function Se(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}const Ie=Se("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),Ae=Se("ascii","a",(e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}),(e=>{e=e.substring(1);const t=(0,De.E)(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}));ve.gh.base16,ve.gh;var Ce;r(62308);!function(e){e[e.NEW_STREAM=0]="NEW_STREAM",e[e.MESSAGE_RECEIVER=1]="MESSAGE_RECEIVER",e[e.MESSAGE_INITIATOR=2]="MESSAGE_INITIATOR",e[e.CLOSE_RECEIVER=3]="CLOSE_RECEIVER",e[e.CLOSE_INITIATOR=4]="CLOSE_INITIATOR",e[e.RESET_RECEIVER=5]="RESET_RECEIVER",e[e.RESET_INITIATOR=6]="RESET_INITIATOR"}(Ce||(Ce={}));Object.freeze({0:"NEW_STREAM",1:"MESSAGE_RECEIVER",2:"MESSAGE_INITIATOR",3:"CLOSE_RECEIVER",4:"CLOSE_INITIATOR",5:"RESET_RECEIVER",6:"RESET_INITIATOR"}),Object.freeze({NEW_STREAM:Ce.NEW_STREAM,MESSAGE:Ce.MESSAGE_INITIATOR,CLOSE:Ce.CLOSE_INITIATOR,RESET:Ce.RESET_INITIATOR}),Object.freeze({MESSAGE:Ce.MESSAGE_RECEIVER,CLOSE:Ce.CLOSE_RECEIVER,RESET:Ce.RESET_RECEIVER});var Re=r(81646);const Te=10240;new class{_pool;_poolOffset;constructor(){this._pool=(0,Re.E)(Te),this._poolOffset=0}write(e,t){const r=this._pool;let n=this._poolOffset;be.cv(e.id<<3|e.type,r,n),n+=be.P$(e.id<<3|e.type),e.type!==Ce.NEW_STREAM&&e.type!==Ce.MESSAGE_INITIATOR&&e.type!==Ce.MESSAGE_RECEIVER||null==e.data?(be.cv(0,r,n),n+=be.P$(0)):(be.cv(e.data.length,r,n),n+=be.P$(e.data.length));const i=r.subarray(this._poolOffset,n);Te-n<100?(this._pool=(0,Re.E)(Te),this._poolOffset=0):this._poolOffset=n,t.append(i),e.type!==Ce.NEW_STREAM&&e.type!==Ce.MESSAGE_INITIATOR&&e.type!==Ce.MESSAGE_RECEIVER||null==e.data||t.append(e.data)}};r(6146);a("libp2p:mplex");r(27734),r(36985),r(98399),r(6568);var Pe=r(55859);r(63790),r(32562),r(78560),r(59830);r(64460),r(9143);r(89668);Symbol.for("nodejs.util.inspect.custom"),Object.values(ve.gh).map((e=>e.decoder)).reduce(((e,t)=>e.or(t)),ve.gh.identity.decoder);class Le{type;multihash;privateKey;publicKey;string;constructor(e){this.type=e.type,this.multihash=e.multihash,this.privateKey=e.privateKey,Object.defineProperty(this,"string",{enumerable:!1,writable:!0})}get[Symbol.toStringTag](){return`PeerId(${this.toString()})`}[W.N]=!0;toString(){return null==this.string&&(this.string=base58btc.encode(this.multihash.bytes).slice(1)),this.string}toCID(){return CID.createV1(src_LIBP2P_KEY_CODE,this.multihash)}toBytes(){return this.multihash.bytes}toJSON(){return this.toString()}equals(e){if(e instanceof Uint8Array)return uint8ArrayEquals(this.multihash.bytes,e);if("string"==typeof e)return function(e,t){if(t??src_baseDecoder,"1"===e.charAt(0)||"Q"===e.charAt(0)){const t=Digest.decode(base58btc.decode(`z${e}`));return e.startsWith("12D")?new src_Ed25519PeerIdImpl({multihash:t}):e.startsWith("16U")?new src_Secp256k1PeerIdImpl({multihash:t}):new src_RSAPeerIdImpl({multihash:t})}return function(e){try{const t=Digest.decode(e);if(t.code===identity.code){if(t.digest.length===src_MARSHALLED_ED225519_PUBLIC_KEY_LENGTH)return new src_Ed25519PeerIdImpl({multihash:t});if(t.digest.length===src_MARSHALLED_SECP256K1_PUBLIC_KEY_LENGTH)return new src_Secp256k1PeerIdImpl({multihash:t})}if(t.code===sha256.code)return new src_RSAPeerIdImpl({multihash:t})}catch{return function(e){if(null==e||null==e.multihash||null==e.version||1===e.version&&e.code!==src_LIBP2P_KEY_CODE)throw new Error("Supplied PeerID CID is invalid");const t=e.multihash;if(t.code===sha256.code)return new src_RSAPeerIdImpl({multihash:e.multihash});if(t.code===identity.code){if(t.digest.length===src_MARSHALLED_ED225519_PUBLIC_KEY_LENGTH)return new src_Ed25519PeerIdImpl({multihash:e.multihash});if(t.digest.length===src_MARSHALLED_SECP256K1_PUBLIC_KEY_LENGTH)return new src_Secp256k1PeerIdImpl({multihash:e.multihash})}throw new Error("Supplied PeerID CID is invalid")}(CID.decode(e))}throw new Error("Supplied PeerID CID is invalid")}(src_baseDecoder.decode(e))}(e).equals(this);if(null!=e?.multihash?.bytes)return uint8ArrayEquals(this.multihash.bytes,e.multihash.bytes);throw new Error("not valid Id")}[src_inspect](){return`PeerId(${this.toString()})`}}r(32114),r(79297);var ke,Oe=r(46888);!function(e){let t,r,n;!function(e){e.EOL="EOL"}(t=e.ValidityType||(e.ValidityType={})),function(e){e[e.EOL=0]="EOL"}(r||(r={})),function(e){e.codec=()=>(0,Oe.Ji)(r)}(t=e.ValidityType||(e.ValidityType={})),e.codec=()=>(null==n&&(n=(0,Oe.yw)(((t,r,n={})=>{!1!==n.lengthDelimited&&r.fork(),null!=t.value&&(r.uint32(10),r.bytes(t.value)),null!=t.signatureV1&&(r.uint32(18),r.bytes(t.signatureV1)),null!=t.validityType&&(r.uint32(24),e.ValidityType.codec().encode(t.validityType,r)),null!=t.validity&&(r.uint32(34),r.bytes(t.validity)),null!=t.sequence&&(r.uint32(40),r.uint64(t.sequence)),null!=t.ttl&&(r.uint32(48),r.uint64(t.ttl)),null!=t.pubKey&&(r.uint32(58),r.bytes(t.pubKey)),null!=t.signatureV2&&(r.uint32(66),r.bytes(t.signatureV2)),null!=t.data&&(r.uint32(74),r.bytes(t.data)),!1!==n.lengthDelimited&&r.ldelim()}),((t,r)=>{const n={},i=null==r?t.len:t.pos+r;for(;t.pos<i;){const r=t.uint32();switch(r>>>3){case 1:n.value=t.bytes();break;case 2:n.signatureV1=t.bytes();break;case 3:n.validityType=e.ValidityType.codec().decode(t);break;case 4:n.validity=t.bytes();break;case 5:n.sequence=t.uint64();break;case 6:n.ttl=t.uint64();break;case 7:n.pubKey=t.bytes();break;case 8:n.signatureV2=t.bytes();break;case 9:n.data=t.bytes();break;default:t.skipType(7&r)}}return n}))),n),e.encode=t=>(0,Oe.LE)(t,e.codec()),e.decode=t=>(0,Oe.C6)(t,e.codec())}(ke||(ke={}));a("ipns:utils"),(0,$.m)("/ipns/");a("ipns:validator");r(25887),r(537),r(90704),r(31027),r(58541);a("helia")},59830:function(e,t,r){"use strict";r.d(t,{Jz:function(){return n},_q:function(){return o},nh:function(){return s}});var n,i,s,o,a=r(46888);!function(e){e.RSA="RSA",e.Ed25519="Ed25519",e.Secp256k1="Secp256k1"}(n||(n={})),function(e){e[e.RSA=0]="RSA",e[e.Ed25519=1]="Ed25519",e[e.Secp256k1=2]="Secp256k1"}(i||(i={})),function(e){e.codec=()=>(0,a.Ji)(i)}(n||(n={})),function(e){let t;e.codec=()=>(null==t&&(t=(0,a.yw)(((e,t,r={})=>{!1!==r.lengthDelimited&&t.fork(),null!=e.Type&&(t.uint32(8),n.codec().encode(e.Type,t)),null!=e.Data&&(t.uint32(18),t.bytes(e.Data)),!1!==r.lengthDelimited&&t.ldelim()}),((e,t)=>{const r={},i=null==t?e.len:e.pos+t;for(;e.pos<i;){const t=e.uint32();switch(t>>>3){case 1:r.Type=n.codec().decode(e);break;case 2:r.Data=e.bytes();break;default:e.skipType(7&t)}}return r}))),t),e.encode=t=>(0,a.LE)(t,e.codec()),e.decode=t=>(0,a.C6)(t,e.codec())}(s||(s={})),function(e){let t;e.codec=()=>(null==t&&(t=(0,a.yw)(((e,t,r={})=>{!1!==r.lengthDelimited&&t.fork(),null!=e.Type&&(t.uint32(8),n.codec().encode(e.Type,t)),null!=e.Data&&(t.uint32(18),t.bytes(e.Data)),!1!==r.lengthDelimited&&t.ldelim()}),((e,t)=>{const r={},i=null==t?e.len:e.pos+t;for(;e.pos<i;){const t=e.uint32();switch(t>>>3){case 1:r.Type=n.codec().decode(e);break;case 2:r.Data=e.bytes();break;default:e.skipType(7&t)}}return r}))),t),e.encode=t=>(0,a.LE)(t,e.codec()),e.decode=t=>(0,a.C6)(t,e.codec())}(o||(o={}))},8487:function(e,t,r){"use strict";r.d(t,{Dy:function(){return i.D},Jx:function(){return n.Jx},WU:function(){return i.W}});r(16017);var n=r(44608),i=r(3435)},22898:function(e,t,r){"use strict";r.d(t,{BB:function(){return a},Pu:function(){return m},mL:function(){return c},nI:function(){return u},qu:function(){return f},tP:function(){return l},un:function(){return d},zo:function(){return h}});const n=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&"function"==typeof globalThis.Buffer.isBuffer,i=new TextDecoder,s=new TextEncoder;function o(e){return n&&globalThis.Buffer.isBuffer(e)}const a=n?(e,t,r)=>r-t>64?globalThis.Buffer.from(e.subarray(t,r)).toString("utf8"):b(e,t,r):(e,t,r)=>r-t>64?i.decode(e.subarray(t,r)):b(e,t,r),c=n?e=>e.length>64?globalThis.Buffer.from(e):p(e):e=>e.length>64?s.encode(e):p(e),u=e=>Uint8Array.from(e),l=n?(e,t,r)=>o(e)?new Uint8Array(e.subarray(t,r)):e.slice(t,r):(e,t,r)=>e.slice(t,r),h=n?(e,t)=>{return e=e.map((e=>e instanceof Uint8Array?e:globalThis.Buffer.from(e))),(r=globalThis.Buffer.concat(e,t))instanceof Uint8Array?o(r)?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r:Uint8Array.from(r);var r}:(e,t)=>{const r=new Uint8Array(t);let n=0;for(let t of e)n+t.length>r.length&&(t=t.subarray(0,r.length-n)),r.set(t,n),n+=t.length;return r},d=n?e=>globalThis.Buffer.allocUnsafe(e):e=>new Uint8Array(e);function f(e,t){if(o(e)&&o(t))return e.compare(t);for(let r=0;r<e.length;r++)if(e[r]!==t[r])return e[r]<t[r]?-1:1;return 0}function p(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);i<128?t[r++]=i:i<2048?(t[r++]=i>>6|192,t[r++]=63&i|128):55296==(64512&i)&&n+1<e.length&&56320==(64512&e.charCodeAt(n+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n)),t[r++]=i>>18|240,t[r++]=i>>12&63|128,t[r++]=i>>6&63|128,t[r++]=63&i|128):(t[r++]=i>>12|224,t[r++]=i>>6&63|128,t[r++]=63&i|128)}return t}function b(e,t,r){const n=[];for(;t<r;){const i=e[t];let s=null,o=i>239?4:i>223?3:i>191?2:1;if(t+o<=r){let r,n,a,c;switch(o){case 1:i<128&&(s=i);break;case 2:r=e[t+1],128==(192&r)&&(c=(31&i)<<6|63&r,c>127&&(s=c));break;case 3:r=e[t+1],n=e[t+2],128==(192&r)&&128==(192&n)&&(c=(15&i)<<12|(63&r)<<6|63&n,c>2047&&(c<55296||c>57343)&&(s=c));break;case 4:r=e[t+1],n=e[t+2],a=e[t+3],128==(192&r)&&128==(192&n)&&128==(192&a)&&(c=(15&i)<<18|(63&r)<<12|(63&n)<<6|63&a,c>65535&&c<1114112&&(s=c))}}null===s?(s=65533,o=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|1023&s),n.push(s),t+=o}return m(n)}const y=4096;function m(e){const t=e.length;if(t<=y)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=y));return r}},65870:function(e,t,r){"use strict";r.d(t,{DO:function(){return o},IR:function(){return n},OO:function(){return i}});const n="CBOR decode error:",i="CBOR encode error:",s=[];function o(e,t,r){if(e.length-t<r)throw new Error(`${n} not enough data for type`)}s[23]=1,s[24]=2,s[25]=3,s[26]=5,s[27]=9},44608:function(e,t,r){"use strict";r.d(t,{Jx:function(){return h}});var n=r(65870),i=r(3435),s=r(65678);const o={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class a{constructor(e,t={}){this._pos=0,this.data=e,this.options=t}pos(){return this._pos}done(){return this._pos>=this.data.length}next(){const e=this.data[this._pos];let t=s.PS[e];if(void 0===t){const r=s.cW[e];if(!r)throw new Error(`${n.IR} no decoder for major type ${e>>>5} (byte 0x${e.toString(16).padStart(2,"0")})`);const i=31&e;t=r(this.data,this._pos,i,this.options)}return this._pos+=t.encodedLength,t}}const c=Symbol.for("DONE"),u=Symbol.for("BREAK");function l(e,t){if(e.done())return c;const r=e.next();if(r.type===i.D.break)return u;if(r.type.terminal)return r.value;if(r.type===i.D.array)return function(e,t,r){const i=[];for(let s=0;s<e.value;s++){const o=l(t,r);if(o===u){if(e.value===1/0)break;throw new Error(`${n.IR} got unexpected break to lengthed array`)}if(o===c)throw new Error(`${n.IR} found array but not enough entries (got ${s}, expected ${e.value})`);i[s]=o}return i}(r,e,t);if(r.type===i.D.map)return function(e,t,r){const i=!0===r.useMaps,s=i?void 0:{},o=i?new Map:void 0;for(let a=0;a<e.value;a++){const h=l(t,r);if(h===u){if(e.value===1/0)break;throw new Error(`${n.IR} got unexpected break to lengthed map`)}if(h===c)throw new Error(`${n.IR} found map but not enough entries (got ${a} [no key], expected ${e.value})`);if(!0!==i&&"string"!=typeof h)throw new Error(`${n.IR} non-string keys not supported (got ${typeof h})`);if(!0===r.rejectDuplicateMapKeys&&(i&&o.has(h)||!i&&h in s))throw new Error(`${n.IR} found repeat map key "${h}"`);const d=l(t,r);if(d===c)throw new Error(`${n.IR} found map but not enough entries (got ${a} [no value], expected ${e.value})`);i?o.set(h,d):s[h]=d}return i?o:s}(r,e,t);if(r.type===i.D.tag){if(t.tags&&"function"==typeof t.tags[r.value]){const n=l(e,t);return t.tags[r.value](n)}throw new Error(`${n.IR} tag not supported (${r.value})`)}throw new Error("unsupported")}function h(e,t){const[r,i]=function(e,t){if(!(e instanceof Uint8Array))throw new Error(`${n.IR} data to decode must be a Uint8Array`);const r=(t=Object.assign({},o,t)).tokenizer||new a(e,t),i=l(r,t);if(i===c)throw new Error(`${n.IR} did not find any content to decode`);if(i===u)throw new Error(`${n.IR} got unexpected break`);return[i,e.subarray(r.pos())]}(e,t);if(i.length>0)throw new Error(`${n.IR} too many terminals, data makes no sense`);return r}},16017:function(e,t,r){"use strict";var n=r(13026),i=r(3435),s=r(48561),o=r(65870),a=r(65678),c=(r(22898),r(40640)),u=r(63625),l=r(28027),h=r(10253),d=r(63789),f=r(7332),p=r(94049),b=r(32763),y=r(25108);a.JN;const m=function(){const e=[];return e[i.D.uint.major]=c.Fh,e[i.D.negint.major]=u.UT,e[i.D.bytes.major]=l.hg,e[i.D.string.major]=h.YW,e[i.D.array.major]=d.HF,e[i.D.map.major]=f.KI,e[i.D.tag.major]=p.xy,e[i.D.float.major]=b.tA,e}();new s.Bl;class g{constructor(e,t){this.obj=e,this.parent=t}includes(e){let t=this;do{if(t.obj===e)return!0}while(t=t.parent);return!1}static createCheck(e,t){if(e&&e.includes(t))throw new Error(`${o.OO} object contains circular references`);return new g(t,e)}}const E={null:new i.W(i.D.null,null),undefined:new i.W(i.D.undefined,void 0),true:new i.W(i.D.true,!0),false:new i.W(i.D.false,!1),emptyArray:new i.W(i.D.array,0),emptyMap:new i.W(i.D.map,0)},w={number:(e,t,r,n)=>Number.isInteger(e)&&Number.isSafeInteger(e)?e>=0?new i.W(i.D.uint,e):new i.W(i.D.negint,e):new i.W(i.D.float,e),bigint:(e,t,r,n)=>e>=BigInt(0)?new i.W(i.D.uint,e):new i.W(i.D.negint,e),Uint8Array:(e,t,r,n)=>new i.W(i.D.bytes,e),string:(e,t,r,n)=>new i.W(i.D.string,e),boolean:(e,t,r,n)=>e?E.true:E.false,null:(e,t,r,n)=>E.null,undefined:(e,t,r,n)=>E.undefined,ArrayBuffer:(e,t,r,n)=>new i.W(i.D.bytes,new Uint8Array(e)),DataView:(e,t,r,n)=>new i.W(i.D.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),Array(e,t,r,n){if(!e.length)return!0===r.addBreakTokens?[E.emptyArray,new i.W(i.D.break)]:E.emptyArray;n=g.createCheck(n,e);const s=[];let o=0;for(const t of e)s[o++]=_(t,r,n);return r.addBreakTokens?[new i.W(i.D.array,e.length),s,new i.W(i.D.break)]:[new i.W(i.D.array,e.length),s]},Object(e,t,r,n){const s="Object"!==t,o=s?e.keys():Object.keys(e),a=s?e.size:o.length;if(!a)return!0===r.addBreakTokens?[E.emptyMap,new i.W(i.D.break)]:E.emptyMap;n=g.createCheck(n,e);const c=[];let u=0;for(const t of o)c[u++]=[_(t,r,n),_(s?e.get(t):e[t],r,n)];return function(e,t){t.mapSorter&&e.sort(t.mapSorter)}(c,r),r.addBreakTokens?[new i.W(i.D.map,a),c,new i.W(i.D.break)]:[new i.W(i.D.map,a),c]}};w.Map=w.Object,w.Buffer=w.Uint8Array;for(const e of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))w[`${e}Array`]=w.DataView;function _(e,t={},r){const i=(0,n.is)(e),s=t&&t.typeEncoders&&t.typeEncoders[i]||w[i];if("function"==typeof s){const n=s(e,i,t,r);if(null!=n)return n}const a=w[i];if(!a)throw new Error(`${o.OO} unsupported type: ${i}`);return a(e,i,t,r)}},65678:function(e,t,r){"use strict";r.d(t,{JN:function(){return g},PS:function(){return m},cW:function(){return y}});var n=r(3435),i=r(40640),s=r(63625),o=r(28027),a=r(10253),c=r(63789),u=r(7332),l=r(94049),h=r(32763),d=r(65870),f=r(22898);function p(e,t,r){throw new Error(`${d.IR} encountered invalid minor (${r}) for major ${e[t]>>>5}`)}function b(e){return()=>{throw new Error(`${d.IR} ${e}`)}}const y=[];for(let e=0;e<=23;e++)y[e]=p;y[24]=i.Km,y[25]=i.Zh,y[26]=i.cs,y[27]=i.uN,y[28]=p,y[29]=p,y[30]=p,y[31]=p;for(let e=32;e<=55;e++)y[e]=p;y[56]=s.yr,y[57]=s.r0,y[58]=s.wy,y[59]=s.ec,y[60]=p,y[61]=p,y[62]=p,y[63]=p;for(let e=64;e<=87;e++)y[e]=o.Ii;y[88]=o.UQ,y[89]=o.BS,y[90]=o.zU,y[91]=o.ME,y[92]=p,y[93]=p,y[94]=p,y[95]=b("indefinite length bytes/strings are not supported");for(let e=96;e<=119;e++)y[e]=a.nt;y[120]=a.Bq,y[121]=a.h,y[122]=a.q0,y[123]=a.bc,y[124]=p,y[125]=p,y[126]=p,y[127]=b("indefinite length bytes/strings are not supported");for(let e=128;e<=151;e++)y[e]=c.Ju;y[152]=c.h7,y[153]=c.OC,y[154]=c.lY,y[155]=c.a8,y[156]=p,y[157]=p,y[158]=p,y[159]=c.s5;for(let e=160;e<=183;e++)y[e]=u._K;y[184]=u.G,y[185]=u.qe,y[186]=u.IY,y[187]=u.F2,y[188]=p,y[189]=p,y[190]=p,y[191]=u.ng;for(let e=192;e<=215;e++)y[e]=l.qJ;y[216]=l.ZR,y[217]=l.CF,y[218]=l.vP,y[219]=l.MV,y[220]=p,y[221]=p,y[222]=p,y[223]=p;for(let e=224;e<=243;e++)y[e]=b("simple values are not supported");y[244]=p,y[245]=p,y[246]=p,y[247]=h.h1,y[248]=b("simple values are not supported"),y[249]=h.mW,y[250]=h.GI,y[251]=h.vV,y[252]=p,y[253]=p,y[254]=p,y[255]=h.y7;const m=[];for(let e=0;e<24;e++)m[e]=new n.W(n.D.uint,e,1);for(let e=-1;e>=-24;e--)m[31-e]=new n.W(n.D.negint,e,1);function g(e){switch(e.type){case n.D.false:return(0,f.nI)([244]);case n.D.true:return(0,f.nI)([245]);case n.D.null:return(0,f.nI)([246]);case n.D.bytes:return e.value.length?void 0:(0,f.nI)([64]);case n.D.string:return""===e.value?(0,f.nI)([96]):void 0;case n.D.array:return 0===e.value?(0,f.nI)([128]):void 0;case n.D.map:return 0===e.value?(0,f.nI)([160]):void 0;case n.D.uint:return e.value<24?(0,f.nI)([Number(e.value)]):void 0;case n.D.negint:if(e.value>=-24)return(0,f.nI)([31-Number(e.value)])}}m[64]=new n.W(n.D.bytes,new Uint8Array(0),1),m[96]=new n.W(n.D.string,"",1),m[128]=new n.W(n.D.array,0,1),m[160]=new n.W(n.D.map,0,1),m[244]=new n.W(n.D.false,!1,1),m[245]=new n.W(n.D.true,!0,1),m[246]=new n.W(n.D.null,null,1)},38578:function(e,t,r){"use strict";r.r(t),r.d(t,{base32:function(){return i},base32hex:function(){return c},base32hexpad:function(){return l},base32hexpadupper:function(){return h},base32hexupper:function(){return u},base32pad:function(){return o},base32padupper:function(){return a},base32upper:function(){return s},base32z:function(){return d}});var n=r(56731);const i=(0,n.ET)({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),s=(0,n.ET)({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),o=(0,n.ET)({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),a=(0,n.ET)({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),c=(0,n.ET)({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),u=(0,n.ET)({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),l=(0,n.ET)({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),h=(0,n.ET)({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),d=(0,n.ET)({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})},26199:function(e,t,r){"use strict";r.r(t),r.d(t,{base36:function(){return i},base36upper:function(){return s}});var n=r(56731);const i=(0,n.kU)({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),s=(0,n.kU)({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})},16459:function(e,t,r){"use strict";r.r(t),r.d(t,{base58btc:function(){return i},base58flickr:function(){return s}});var n=r(56731);const i=(0,n.kU)({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),s=(0,n.kU)({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})},5879:function(e,t,r){"use strict";r.r(t),r.d(t,{identity:function(){return o}});var n=r(91655),i=r(89668);const s=n.oQ,o={code:0,name:"identity",encode:s,digest:e=>i.Ue(0,s(e))}},96984:function(e,t,r){"use strict";r.r(t),r.d(t,{sha256:function(){return s},sha512:function(){return o}});var n=r(31919);const i=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),s=(0,n.D)({name:"sha2-256",code:18,encode:i("SHA-256")}),o=(0,n.D)({name:"sha2-512",code:19,encode:i("SHA-512")})},3287:function(e,t){"use strict";const r="[a-fA-F\\d:]",n=e=>e&&e.includeBoundaries?`(?:(?<=\\s|^)(?=${r})|(?<=${r})(?=\\s|$))`:"",i="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",s="[a-fA-F\\d]{1,4}",o=`\n(?:\n(?:${s}:){7}(?:${s}|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8\n(?:${s}:){6}(?:${i}|:${s}|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4\n(?:${s}:){5}(?::${i}|(?::${s}){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4\n(?:${s}:){4}(?:(?::${s}){0,1}:${i}|(?::${s}){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4\n(?:${s}:){3}(?:(?::${s}){0,2}:${i}|(?::${s}){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4\n(?:${s}:){2}(?:(?::${s}){0,3}:${i}|(?::${s}){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4\n(?:${s}:){1}(?:(?::${s}){0,4}:${i}|(?::${s}){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4\n(?::(?:(?::${s}){0,5}:${i}|(?::${s}){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4\n)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1\n`.replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),a=new RegExp(`(?:^${i}$)|(?:^${o}$)`),c=new RegExp(`^${i}$`),u=new RegExp(`^${o}$`),l=e=>e&&e.exact?a:new RegExp(`(?:${n(e)}${i}${n(e)})|(?:${n(e)}${o}${n(e)})`,"g");l.v4=e=>e&&e.exact?c:new RegExp(`${n(e)}${i}${n(e)}`,"g"),l.v6=e=>e&&e.exact?u:new RegExp(`${n(e)}${o}${n(e)}`,"g"),t.Z=l},28807:function(e,t,r){"use strict";r.d(t,{D:function(){return i}});var n=r(77519);class i{_refCounter;cid;priority;wantType;constructor(e,t,r){this._refCounter=1,this.cid=e,this.priority=t??1,this.wantType=r}inc(){this._refCounter+=1}dec(){this._refCounter=Math.max(0,this._refCounter-1)}hasRefs(){return this._refCounter>0}get[Symbol.toStringTag](){return`WantlistEntry <key: ${this.cid.toString(n.i)}, priority: ${this.priority}, refs: ${this._refCounter}>`}equals(e){return this._refCounter===e._refCounter&&this.cid.equals(e.cid)&&this.priority===e.priority&&this.wantType===e.wantType}}},77519:function(e,t,r){"use strict";r.d(t,{i:function(){return i}});var n=r(19446);const i=(0,n.kU)({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"});(0,n.kU)({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})},83747:function(e,t,r){"use strict";r.d(t,{fS:function(){return n},oQ:function(){return i}});new Uint8Array(0);const n=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},i=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")}},63468:function(e,t,r){"use strict";r.d(t,{Jx:function(){return o},Ue:function(){return s},fS:function(){return a},zZ:function(){return c}});var n=r(83747),i=r(43085);const s=(e,t)=>{const r=t.byteLength,n=i.P$(e),s=n+i.P$(r),o=new Uint8Array(s+r);return i.mL(e,o,0),i.mL(r,o,n),o.set(t,s),new c(e,r,t,o)},o=e=>{const t=(0,n.oQ)(e),[r,s]=i.Jx(t),[o,a]=i.Jx(t.subarray(s)),u=t.subarray(s+a);if(u.byteLength!==o)throw new Error("Incorrect length");return new c(r,o,u,t)},a=(e,t)=>{if(e===t)return!0;{const r=t;return e.code===r.code&&e.size===r.size&&r.bytes instanceof Uint8Array&&(0,n.fS)(e.bytes,r.bytes)}};class c{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}},43085:function(e,t,r){"use strict";r.d(t,{Jx:function(){return w},mL:function(){return _},P$:function(){return v}});var n=function e(t,r,n){r=r||[];var a=n=n||0;for(;t>=o;)r[n++]=255&t|i,t/=128;for(;t&s;)r[n++]=255&t|i,t>>>=7;return r[n]=0|t,e.bytes=n-a+1,r},i=128,s=-128,o=Math.pow(2,31);var a=function e(t,r){var n,i=0,s=0,o=r=r||0,a=t.length;do{if(o>=a)throw e.bytes=0,new RangeError("Could not decode varint");n=t[o++],i+=s<28?(n&u)<<s:(n&u)*Math.pow(2,s),s+=7}while(n>=c);return e.bytes=o-r,i},c=128,u=127;var l=Math.pow(2,7),h=Math.pow(2,14),d=Math.pow(2,21),f=Math.pow(2,28),p=Math.pow(2,35),b=Math.pow(2,42),y=Math.pow(2,49),m=Math.pow(2,56),g=Math.pow(2,63),E={encode:n,decode:a,encodingLength:function(e){return e<l?1:e<h?2:e<d?3:e<f?4:e<p?5:e<b?6:e<y?7:e<m?8:e<g?9:10}};const w=(e,t=0)=>[E.decode(e,t),E.decode.bytes],_=(e,t,r=0)=>(E.encode(e,t,r),t),v=e=>E.encodingLength(e)},36638:function(e,t,r){"use strict";class n extends Error{type;code;constructor(e,t){super(e??"The operation was aborted"),this.type="aborted",this.code=t??"ABORT_ERR"}}r(62308);class i extends Error{code;constructor(e,t){super(e),this.code=t}}r(91893);var s=r(57050);class o extends Error{code;constructor(e,t){super(e),this.code=t}}const a=e=>s.Jx(e);a.bytes=0},91893:function(e,t,r){"use strict";var n=r(57050),i=r(62308),s=r(66574),o=r(35946);const a=e=>{const t=n.P$(e),r=(0,s.E)(t);return n.cv(e,r),a.bytes=t,r};a.bytes=0;var c=r(32114);var u;!function(e){e[e.LENGTH=0]="LENGTH",e[e.DATA=1]="DATA"}(u||(u={}));const l=e=>{const t=n.Jx(e);return l.bytes=n.P$(t),t};function h(e,t){const r=new i.H;let n=u.LENGTH,s=-1;const a=t?.lengthDecoder??l,h=t?.maxLengthLength??8,d=t?.maxDataLength??4194304;function*f(){for(;r.byteLength>0;){if(n===u.LENGTH)try{if(s=a(r),s<0)throw c(new Error("invalid message length"),"ERR_INVALID_MSG_LENGTH");if(s>d)throw c(new Error("message length too long"),"ERR_MSG_DATA_TOO_LONG");const e=a.bytes;r.consume(e),null!=t?.onLength&&t.onLength(s),n=u.DATA}catch(e){if(e instanceof RangeError){if(r.byteLength>h)throw c(new Error("message length length too long"),"ERR_MSG_LENGTH_TOO_LONG");break}throw e}if(n===u.DATA){if(r.byteLength<s)break;const e=r.sublist(0,s);r.consume(s),null!=t?.onData&&t.onData(e),yield e,n=u.LENGTH}}}return(0,o.D)(e)?async function*(){for await(const t of e)r.append(t),yield*f();if(r.byteLength>0)throw c(new Error("unexpected end of input"),"ERR_UNEXPECTED_EOF")}():function*(){for(const t of e)r.append(t),yield*f();if(r.byteLength>0)throw c(new Error("unexpected end of input"),"ERR_UNEXPECTED_EOF")}()}l.bytes=0,h.fromReader=(e,t)=>{let r=1;return h(async function*(){for(;;)try{const{done:t,value:n}=await e.next(r);if(!0===t)return;null!=n&&(yield n)}catch(e){if("ERR_UNDER_READ"===e.code)return{done:!0,value:null};throw e}finally{r=1}}(),{...t??{},onLength:e=>{r=e}})}},69849:function(e,t,r){"use strict";globalThis.CustomEvent??Event},90212:function(){"use strict";class e extends Error{type;code;constructor(e,t){super(e??"The operation was aborted"),this.type="aborted",this.code=t??"ABORT_ERR"}}},41455:function(e,t,r){"use strict";r(36638)},93489:function(e,t,r){"use strict";r(62308)},25887:function(e,t,r){"use strict";r(17187),r(49541);var n,i=r(38699),s=(r(34042),r(45045),r(6540),r(91893),r(69849),r(90212),r(53749),r(64188),r(46888));!function(e){let t,r,n,i,o,a,c,u;!function(e){e.DIAL="DIAL",e.DIAL_RESPONSE="DIAL_RESPONSE"}(t=e.MessageType||(e.MessageType={})),function(e){e[e.DIAL=0]="DIAL",e[e.DIAL_RESPONSE=1]="DIAL_RESPONSE"}(r||(r={})),function(e){e.codec=()=>(0,s.Ji)(r)}(t=e.MessageType||(e.MessageType={})),function(e){e.OK="OK",e.E_DIAL_ERROR="E_DIAL_ERROR",e.E_DIAL_REFUSED="E_DIAL_REFUSED",e.E_BAD_REQUEST="E_BAD_REQUEST",e.E_INTERNAL_ERROR="E_INTERNAL_ERROR"}(n=e.ResponseStatus||(e.ResponseStatus={})),function(e){e[e.OK=0]="OK",e[e.E_DIAL_ERROR=100]="E_DIAL_ERROR",e[e.E_DIAL_REFUSED=101]="E_DIAL_REFUSED",e[e.E_BAD_REQUEST=200]="E_BAD_REQUEST",e[e.E_INTERNAL_ERROR=300]="E_INTERNAL_ERROR"}(i||(i={})),function(e){e.codec=()=>(0,s.Ji)(i)}(n=e.ResponseStatus||(e.ResponseStatus={})),function(e){let t;e.codec=()=>(null==t&&(t=(0,s.yw)(((e,t,r={})=>{if(!1!==r.lengthDelimited&&t.fork(),null!=e.id&&(t.uint32(10),t.bytes(e.id)),null!=e.addrs)for(const r of e.addrs)t.uint32(18),t.bytes(r);!1!==r.lengthDelimited&&t.ldelim()}),((e,t)=>{const r={addrs:[]},n=null==t?e.len:e.pos+t;for(;e.pos<n;){const t=e.uint32();switch(t>>>3){case 1:r.id=e.bytes();break;case 2:r.addrs.push(e.bytes());break;default:e.skipType(7&t)}}return r}))),t),e.encode=t=>(0,s.LE)(t,e.codec()),e.decode=t=>(0,s.C6)(t,e.codec())}(o=e.PeerInfo||(e.PeerInfo={})),function(t){let r;t.codec=()=>(null==r&&(r=(0,s.yw)(((t,r,n={})=>{!1!==n.lengthDelimited&&r.fork(),null!=t.peer&&(r.uint32(10),e.PeerInfo.codec().encode(t.peer,r)),!1!==n.lengthDelimited&&r.ldelim()}),((t,r)=>{const n={},i=null==r?t.len:t.pos+r;for(;t.pos<i;){const r=t.uint32();if(r>>>3==1)n.peer=e.PeerInfo.codec().decode(t,t.uint32());else t.skipType(7&r)}return n}))),r),t.encode=e=>(0,s.LE)(e,t.codec()),t.decode=e=>(0,s.C6)(e,t.codec())}(a=e.Dial||(e.Dial={})),function(t){let r;t.codec=()=>(null==r&&(r=(0,s.yw)(((t,r,n={})=>{!1!==n.lengthDelimited&&r.fork(),null!=t.status&&(r.uint32(8),e.ResponseStatus.codec().encode(t.status,r)),null!=t.statusText&&(r.uint32(18),r.string(t.statusText)),null!=t.addr&&(r.uint32(26),r.bytes(t.addr)),!1!==n.lengthDelimited&&r.ldelim()}),((t,r)=>{const n={},i=null==r?t.len:t.pos+r;for(;t.pos<i;){const r=t.uint32();switch(r>>>3){case 1:n.status=e.ResponseStatus.codec().decode(t);break;case 2:n.statusText=t.string();break;case 3:n.addr=t.bytes();break;default:t.skipType(7&r)}}return n}))),r),t.encode=e=>(0,s.LE)(e,t.codec()),t.decode=e=>(0,s.C6)(e,t.codec())}(c=e.DialResponse||(e.DialResponse={})),e.codec=()=>(null==u&&(u=(0,s.yw)(((t,r,n={})=>{!1!==n.lengthDelimited&&r.fork(),null!=t.type&&(r.uint32(8),e.MessageType.codec().encode(t.type,r)),null!=t.dial&&(r.uint32(18),e.Dial.codec().encode(t.dial,r)),null!=t.dialResponse&&(r.uint32(26),e.DialResponse.codec().encode(t.dialResponse,r)),!1!==n.lengthDelimited&&r.ldelim()}),((t,r)=>{const n={},i=null==r?t.len:t.pos+r;for(;t.pos<i;){const r=t.uint32();switch(r>>>3){case 1:n.type=e.MessageType.codec().decode(t);break;case 2:n.dial=e.Dial.codec().decode(t,t.uint32());break;case 3:n.dialResponse=e.DialResponse.codec().decode(t,t.uint32());break;default:t.skipType(7&r)}}return n}))),u),e.encode=t=>(0,s.LE)(t,e.codec()),e.decode=t=>(0,s.C6)(t,e.codec())}(n||(n={}));(0,i.kg)("libp2p:autonat")},46289:function(e,t,r){"use strict";BigInt(1<<17)},537:function(e,t,r){"use strict";r(11353),r(49541);var n=r(55265),i=r(38699);r(34042);(0,i.kg)("libp2p:stream:converter");r(76237),r(6540),r(41455);var s=r(12229);r(64188),r(46289),r(21747),r(23247),r(52694);(0,i.kg)("libp2p:circuit-relay:discover-relays");r(67483);(0,i.kg)("libp2p:circuit-relay:transport:listener");r(95554);(0,i.kg)("libp2p:circuit-relay:transport:reservation-store");(0,i.kg)("libp2p:circuit-relay:transport"),s.aX,s.aX;class o{discovery;registrar;peerStore;connectionManager;peerId;upgrader;addressManager;connectionGater;reservationStore;maxInboundStopStreams;maxOutboundStopStreams;stopTimeout;started;constructor(e,t){this.registrar=e.registrar,this.peerStore=e.peerStore,this.connectionManager=e.connectionManager,this.peerId=e.peerId,this.upgrader=e.upgrader,this.addressManager=e.addressManager,this.connectionGater=e.connectionGater,this.maxInboundStopStreams=t.maxInboundStopStreams??defaults.maxInboundStopStreams,this.maxOutboundStopStreams=t.maxOutboundStopStreams??defaults.maxOutboundStopStreams,this.stopTimeout=t.stopTimeout??defaults.stopTimeout,null!=t.discoverRelays&&t.discoverRelays>0&&(this.discovery=new RelayDiscovery(e),this.discovery.addEventListener("relay:discover",(e=>{this.reservationStore.addRelay(e.detail,"discovered").catch((t=>{transport_log.error("could not add discovered relay %p",e.detail,t)}))}))),this.reservationStore=new ReservationStore(e,t),this.reservationStore.addEventListener("relay:not-enough-relays",(()=>{this.discovery?.discover().catch((e=>{transport_log.error("could not discover relays",e)}))})),this.started=!1}isStarted(){return this.started}async start(){await this.reservationStore.start(),await(this.discovery?.start()),await this.registrar.handle(RELAY_V2_STOP_CODEC,(e=>{this.onStop(e).catch((t=>{transport_log.error("error while handling STOP protocol",t),e.stream.abort(t)}))}),{maxInboundStreams:this.maxInboundStopStreams,maxOutboundStreams:this.maxOutboundStopStreams,runOnTransientConnection:!0}),this.started=!0}async stop(){this.discovery?.stop(),await this.reservationStore.stop(),await this.registrar.unhandle(RELAY_V2_STOP_CODEC),this.started=!1}[n.NA]=!0;[Symbol.toStringTag]="libp2p/circuit-relay-v2";async dial(e,t={}){if(1!==e.protoCodes().filter((e=>e===CIRCUIT_PROTO_CODE)).length){const t="Invalid circuit relay address";throw transport_log.error(t,e),new CodeError(t,codes.ERR_RELAYED_DIAL)}const r=e.toString().split("/p2p-circuit"),n=multiaddr(r[0]),i=multiaddr(r[r.length-1]),s=n.getPeerId(),o=i.getPeerId();if(null==s||null==o){const t=`Circuit relay dial to ${e.toString()} failed as address did not have peer ids`;throw transport_log.error(t),new CodeError(t,codes.ERR_RELAYED_DIAL)}const a=peerIdFromString(s),c=peerIdFromString(o);let u=!1;let l,h=this.connectionManager.getConnections(a)[0];null==h&&(await this.peerStore.merge(a,{multiaddrs:[n]}),await this.connectionManager.openConnection(a,t),!0);try{return await h.newStream([RELAY_V2_HOP_CODEC]),await this.connectV2({stream:l,connection:h,destinationPeer:c,destinationAddr:i,relayAddr:n,ma:e,disconnectOnFailure:u})}catch(e){throw transport_log.error("circuit relay dial to destination %p via relay %p failed",c,a,e),null!=l&&l.abort(e),u&&await h.close(),e}}async connectV2({stream:e,connection:t,destinationPeer:r,destinationAddr:n,relayAddr:i,ma:s,disconnectOnFailure:o}){try{const t=pbStream(e),o=t.pb(HopMessage);await o.write({type:HopMessage.Type.CONNECT,peer:{id:r.toBytes(),addrs:[multiaddr(n).bytes]}});const a=await o.read();if(a.status!==Status.OK)throw new CodeError(`failed to connect via relay with status ${a?.status?.toString()??"undefined"}`,codes.ERR_HOP_REQUEST_FAILED);const c=streamToMaConnection({stream:t.unwrap(),remoteAddr:s,localAddr:i.encapsulate(`/p2p-circuit/p2p/${this.peerId.toString()}`)});return transport_log("new outbound transient connection %a",c.remoteAddr),await this.upgrader.upgradeOutbound(c,{transient:!0})}catch(e){throw transport_log.error(`Circuit relay dial to destination ${r.toString()} via relay ${t.remotePeer.toString()} failed`,e),o&&await t.close(),e}}createListener(e){return createListener({connectionManager:this.connectionManager,relayStore:this.reservationStore})}filter(e){return(Array.isArray(e)?e:[e]).filter((e=>mafmt.Circuit.matches(e)))}async onStop({connection:e,stream:t}){const r=AbortSignal.timeout(this.stopTimeout),n=pbStream(t).pb(StopMessage),i=await n.read({signal:r});if(transport_log("new circuit relay v2 stop stream from %p with type %s",e.remotePeer,i.type),void 0===i?.type)return transport_log.error("type was missing from circuit v2 stop protocol request from %s",e.remotePeer),await n.write({type:StopMessage.Type.STATUS,status:Status.MALFORMED_MESSAGE},{signal:r}),void await t.close();if(i.type!==StopMessage.Type.CONNECT)return transport_log.error("invalid stop connect request via peer %p",e.remotePeer),await n.write({type:StopMessage.Type.STATUS,status:Status.UNEXPECTED_MESSAGE},{signal:r}),void await t.close();if(!(e=>{if(null==e.peer)return!1;try{e.peer.addrs.forEach(multiaddr)}catch{return!1}return!0})(i))return transport_log.error("invalid stop connect request via peer %p",e.remotePeer),await n.write({type:StopMessage.Type.STATUS,status:Status.MALFORMED_MESSAGE},{signal:r}),void await t.close();const s=peerIdFromBytes(i.peer.id);if(!0===await(this.connectionGater.denyInboundRelayedConnection?.(e.remotePeer,s)))return transport_log.error("connection gater denied inbound relayed connection from %p",e.remotePeer),await n.write({type:StopMessage.Type.STATUS,status:Status.PERMISSION_DENIED},{signal:r}),void await t.close();transport_log.trace("sending success response to %p",e.remotePeer),await n.write({type:StopMessage.Type.STATUS,status:Status.OK},{signal:r});const o=e.remoteAddr.encapsulate(`/p2p-circuit/p2p/${s.toString()}`),a=this.addressManager.getAddresses()[0],c=streamToMaConnection({stream:n.unwrap().unwrap(),remoteAddr:o,localAddr:a});transport_log("new inbound transient connection %a",c.remoteAddr),await this.upgrader.upgradeInbound(c,{transient:!0}),transport_log("%s connection %a upgraded","inbound",c.remoteAddr)}}},21747:function(e,t,r){"use strict";var n,i,s,o,a,c,u,l,h=r(46888);!function(e){let t,r,n;!function(e){e.RESERVE="RESERVE",e.CONNECT="CONNECT",e.STATUS="STATUS"}(t=e.Type||(e.Type={})),function(e){e[e.RESERVE=0]="RESERVE",e[e.CONNECT=1]="CONNECT",e[e.STATUS=2]="STATUS"}(r||(r={})),function(e){e.codec=()=>(0,h.Ji)(r)}(t=e.Type||(e.Type={})),e.codec=()=>(null==n&&(n=(0,h.yw)(((t,r,n={})=>{!1!==n.lengthDelimited&&r.fork(),null!=t.type&&(r.uint32(8),e.Type.codec().encode(t.type,r)),null!=t.peer&&(r.uint32(18),s.codec().encode(t.peer,r)),null!=t.reservation&&(r.uint32(26),o.codec().encode(t.reservation,r)),null!=t.limit&&(r.uint32(34),a.codec().encode(t.limit,r)),null!=t.status&&(r.uint32(40),c.codec().encode(t.status,r)),!1!==n.lengthDelimited&&r.ldelim()}),((t,r)=>{const n={},i=null==r?t.len:t.pos+r;for(;t.pos<i;){const r=t.uint32();switch(r>>>3){case 1:n.type=e.Type.codec().decode(t);break;case 2:n.peer=s.codec().decode(t,t.uint32());break;case 3:n.reservation=o.codec().decode(t,t.uint32());break;case 4:n.limit=a.codec().decode(t,t.uint32());break;case 5:n.status=c.codec().decode(t);break;default:t.skipType(7&r)}}return n}))),n),e.encode=t=>(0,h.LE)(t,e.codec()),e.decode=t=>(0,h.C6)(t,e.codec())}(n||(n={})),function(e){let t,r,n;!function(e){e.CONNECT="CONNECT",e.STATUS="STATUS"}(t=e.Type||(e.Type={})),function(e){e[e.CONNECT=0]="CONNECT",e[e.STATUS=1]="STATUS"}(r||(r={})),function(e){e.codec=()=>(0,h.Ji)(r)}(t=e.Type||(e.Type={})),e.codec=()=>(null==n&&(n=(0,h.yw)(((t,r,n={})=>{!1!==n.lengthDelimited&&r.fork(),null!=t.type&&(r.uint32(8),e.Type.codec().encode(t.type,r)),null!=t.peer&&(r.uint32(18),s.codec().encode(t.peer,r)),null!=t.limit&&(r.uint32(26),a.codec().encode(t.limit,r)),null!=t.status&&(r.uint32(32),c.codec().encode(t.status,r)),!1!==n.lengthDelimited&&r.ldelim()}),((t,r)=>{const n={},i=null==r?t.len:t.pos+r;for(;t.pos<i;){const r=t.uint32();switch(r>>>3){case 1:n.type=e.Type.codec().decode(t);break;case 2:n.peer=s.codec().decode(t,t.uint32());break;case 3:n.limit=a.codec().decode(t,t.uint32());break;case 4:n.status=c.codec().decode(t);break;default:t.skipType(7&r)}}return n}))),n),e.encode=t=>(0,h.LE)(t,e.codec()),e.decode=t=>(0,h.C6)(t,e.codec())}(i||(i={})),function(e){let t;e.codec=()=>(null==t&&(t=(0,h.yw)(((e,t,r={})=>{if(!1!==r.lengthDelimited&&t.fork(),null!=e.id&&e.id.byteLength>0&&(t.uint32(10),t.bytes(e.id)),null!=e.addrs)for(const r of e.addrs)t.uint32(18),t.bytes(r);!1!==r.lengthDelimited&&t.ldelim()}),((e,t)=>{const r={id:new Uint8Array(0),addrs:[]},n=null==t?e.len:e.pos+t;for(;e.pos<n;){const t=e.uint32();switch(t>>>3){case 1:r.id=e.bytes();break;case 2:r.addrs.push(e.bytes());break;default:e.skipType(7&t)}}return r}))),t),e.encode=t=>(0,h.LE)(t,e.codec()),e.decode=t=>(0,h.C6)(t,e.codec())}(s||(s={})),function(e){let t;e.codec=()=>(null==t&&(t=(0,h.yw)(((e,t,r={})=>{if(!1!==r.lengthDelimited&&t.fork(),null!=e.expire&&0n!==e.expire&&(t.uint32(8),t.uint64(e.expire)),null!=e.addrs)for(const r of e.addrs)t.uint32(18),t.bytes(r);null!=e.voucher&&(t.uint32(26),t.bytes(e.voucher)),!1!==r.lengthDelimited&&t.ldelim()}),((e,t)=>{const r={expire:0n,addrs:[]},n=null==t?e.len:e.pos+t;for(;e.pos<n;){const t=e.uint32();switch(t>>>3){case 1:r.expire=e.uint64();break;case 2:r.addrs.push(e.bytes());break;case 3:r.voucher=e.bytes();break;default:e.skipType(7&t)}}return r}))),t),e.encode=t=>(0,h.LE)(t,e.codec()),e.decode=t=>(0,h.C6)(t,e.codec())}(o||(o={})),function(e){let t;e.codec=()=>(null==t&&(t=(0,h.yw)(((e,t,r={})=>{!1!==r.lengthDelimited&&t.fork(),null!=e.duration&&(t.uint32(8),t.uint32(e.duration)),null!=e.data&&(t.uint32(16),t.uint64(e.data)),!1!==r.lengthDelimited&&t.ldelim()}),((e,t)=>{const r={},n=null==t?e.len:e.pos+t;for(;e.pos<n;){const t=e.uint32();switch(t>>>3){case 1:r.duration=e.uint32();break;case 2:r.data=e.uint64();break;default:e.skipType(7&t)}}return r}))),t),e.encode=t=>(0,h.LE)(t,e.codec()),e.decode=t=>(0,h.C6)(t,e.codec())}(a||(a={})),function(e){e.UNUSED="UNUSED",e.OK="OK",e.RESERVATION_REFUSED="RESERVATION_REFUSED",e.RESOURCE_LIMIT_EXCEEDED="RESOURCE_LIMIT_EXCEEDED",e.PERMISSION_DENIED="PERMISSION_DENIED",e.CONNECTION_FAILED="CONNECTION_FAILED",e.NO_RESERVATION="NO_RESERVATION",e.MALFORMED_MESSAGE="MALFORMED_MESSAGE",e.UNEXPECTED_MESSAGE="UNEXPECTED_MESSAGE"}(c||(c={})),function(e){e[e.UNUSED=0]="UNUSED",e[e.OK=100]="OK",e[e.RESERVATION_REFUSED=200]="RESERVATION_REFUSED",e[e.RESOURCE_LIMIT_EXCEEDED=201]="RESOURCE_LIMIT_EXCEEDED",e[e.PERMISSION_DENIED=202]="PERMISSION_DENIED",e[e.CONNECTION_FAILED=203]="CONNECTION_FAILED",e[e.NO_RESERVATION=204]="NO_RESERVATION",e[e.MALFORMED_MESSAGE=400]="MALFORMED_MESSAGE",e[e.UNEXPECTED_MESSAGE=401]="UNEXPECTED_MESSAGE"}(u||(u={})),function(e){e.codec=()=>(0,h.Ji)(u)}(c||(c={})),function(e){let t;e.codec=()=>(null==t&&(t=(0,h.yw)(((e,t,r={})=>{!1!==r.lengthDelimited&&t.fork(),null!=e.relay&&e.relay.byteLength>0&&(t.uint32(10),t.bytes(e.relay)),null!=e.peer&&e.peer.byteLength>0&&(t.uint32(18),t.bytes(e.peer)),null!=e.expiration&&0n!==e.expiration&&(t.uint32(24),t.uint64(e.expiration)),!1!==r.lengthDelimited&&t.ldelim()}),((e,t)=>{const r={relay:new Uint8Array(0),peer:new Uint8Array(0),expiration:0n},n=null==t?e.len:e.pos+t;for(;e.pos<n;){const t=e.uint32();switch(t>>>3){case 1:r.relay=e.bytes();break;case 2:r.peer=e.bytes();break;case 3:r.expiration=e.uint64();break;default:e.skipType(7&t)}}return r}))),t),e.encode=t=>(0,h.LE)(t,e.codec()),e.decode=t=>(0,h.C6)(t,e.codec())}(l||(l={}))},52694:function(e,t,r){"use strict";r(49541);var n=r(38699);r(25674),r(59425),r(64188),r(46289);(0,n.kg)("libp2p:circuit-relay:utils")},20103:function(e,t,r){"use strict";r.d(t,{Bv:function(){return a},C4:function(){return h},D8:function(){return l},G9:function(){return c},Hi:function(){return s},Lw:function(){return n},Oe:function(){return u},PW:function(){return o},b4:function(){return d},wt:function(){return i}});const n=3e4,i=25,s=1,o=5e3,a=25,c=0,u=100,l=10,h=5,d=10},90704:function(e,t,r){"use strict";r(49541);var n=r(38699);r(6540),r(76201);const i=()=>{const e=new Error("Delay aborted");return e.name="AbortError",e},s=new WeakMap;r(41455),r(53749),r(64188);var o,a=r(46888);!function(e){let t,r,n;!function(e){e.UNUSED="UNUSED",e.CONNECT="CONNECT",e.SYNC="SYNC"}(t=e.Type||(e.Type={})),function(e){e[e.UNUSED=0]="UNUSED",e[e.CONNECT=100]="CONNECT",e[e.SYNC=300]="SYNC"}(r||(r={})),function(e){e.codec=()=>(0,a.Ji)(r)}(t=e.Type||(e.Type={})),e.codec=()=>(null==n&&(n=(0,a.yw)(((t,r,n={})=>{if(!1!==n.lengthDelimited&&r.fork(),null!=t.type&&(r.uint32(8),e.Type.codec().encode(t.type,r)),null!=t.observedAddresses)for(const e of t.observedAddresses)r.uint32(18),r.bytes(e);!1!==n.lengthDelimited&&r.ldelim()}),((t,r)=>{const n={observedAddresses:[]},i=null==r?t.len:t.pos+r;for(;t.pos<i;){const r=t.uint32();switch(r>>>3){case 1:n.type=e.Type.codec().decode(t);break;case 2:n.observedAddresses.push(t.bytes());break;default:t.skipType(7&r)}}return n}))),n),e.encode=t=>(0,a.LE)(t,e.codec()),e.decode=t=>(0,a.C6)(t,e.codec())}(o||(o={}));(0,n.kg)("libp2p:dcutr")},64188:function(e,t,r){"use strict";var n,i;!function(e){e.NOT_STARTED_YET="The libp2p node is not started yet",e.DHT_DISABLED="DHT is not available",e.PUBSUB_DISABLED="PubSub is not available",e.CONN_ENCRYPTION_REQUIRED="At least one connection encryption module is required",e.ERR_TRANSPORTS_REQUIRED="At least one transport module is required",e.ERR_PROTECTOR_REQUIRED="Private network is enforced, but no protector was provided",e.NOT_FOUND="Not found"}(n||(n={})),function(e){e.DHT_DISABLED="ERR_DHT_DISABLED",e.ERR_PUBSUB_DISABLED="ERR_PUBSUB_DISABLED",e.PUBSUB_NOT_STARTED="ERR_PUBSUB_NOT_STARTED",e.DHT_NOT_STARTED="ERR_DHT_NOT_STARTED",e.CONN_ENCRYPTION_REQUIRED="ERR_CONN_ENCRYPTION_REQUIRED",e.ERR_TRANSPORTS_REQUIRED="ERR_TRANSPORTS_REQUIRED",e.ERR_PROTECTOR_REQUIRED="ERR_PROTECTOR_REQUIRED",e.ERR_PEER_DIAL_INTERCEPTED="ERR_PEER_DIAL_INTERCEPTED",e.ERR_CONNECTION_INTERCEPTED="ERR_CONNECTION_INTERCEPTED",e.ERR_INVALID_PROTOCOLS_FOR_STREAM="ERR_INVALID_PROTOCOLS_FOR_STREAM",e.ERR_CONNECTION_ENDED="ERR_CONNECTION_ENDED",e.ERR_CONNECTION_FAILED="ERR_CONNECTION_FAILED",e.ERR_NODE_NOT_STARTED="ERR_NODE_NOT_STARTED",e.ERR_ALREADY_ABORTED="ERR_ALREADY_ABORTED",e.ERR_TOO_MANY_ADDRESSES="ERR_TOO_MANY_ADDRESSES",e.ERR_NO_VALID_ADDRESSES="ERR_NO_VALID_ADDRESSES",e.ERR_RELAYED_DIAL="ERR_RELAYED_DIAL",e.ERR_DIALED_SELF="ERR_DIALED_SELF",e.ERR_DISCOVERED_SELF="ERR_DISCOVERED_SELF",e.ERR_DUPLICATE_TRANSPORT="ERR_DUPLICATE_TRANSPORT",e.ERR_ENCRYPTION_FAILED="ERR_ENCRYPTION_FAILED",e.ERR_HOP_REQUEST_FAILED="ERR_HOP_REQUEST_FAILED",e.ERR_INVALID_KEY="ERR_INVALID_KEY",e.ERR_INVALID_MESSAGE="ERR_INVALID_MESSAGE",e.ERR_INVALID_PARAMETERS="ERR_INVALID_PARAMETERS",e.ERR_INVALID_PEER="ERR_INVALID_PEER",e.ERR_MUXER_UNAVAILABLE="ERR_MUXER_UNAVAILABLE",e.ERR_NOT_FOUND="ERR_NOT_FOUND",e.ERR_TIMEOUT="ERR_TIMEOUT",e.ERR_TRANSPORT_UNAVAILABLE="ERR_TRANSPORT_UNAVAILABLE",e.ERR_TRANSPORT_DIAL_FAILED="ERR_TRANSPORT_DIAL_FAILED",e.ERR_UNSUPPORTED_PROTOCOL="ERR_UNSUPPORTED_PROTOCOL",e.ERR_PROTOCOL_HANDLER_ALREADY_REGISTERED="ERR_PROTOCOL_HANDLER_ALREADY_REGISTERED",e.ERR_INVALID_MULTIADDR="ERR_INVALID_MULTIADDR",e.ERR_SIGNATURE_NOT_VALID="ERR_SIGNATURE_NOT_VALID",e.ERR_FIND_SELF="ERR_FIND_SELF",e.ERR_NO_ROUTERS_AVAILABLE="ERR_NO_ROUTERS_AVAILABLE",e.ERR_CONNECTION_NOT_MULTIPLEXED="ERR_CONNECTION_NOT_MULTIPLEXED",e.ERR_NO_DIAL_TOKENS="ERR_NO_DIAL_TOKENS",e.ERR_KEYCHAIN_REQUIRED="ERR_KEYCHAIN_REQUIRED",e.ERR_INVALID_CMS="ERR_INVALID_CMS",e.ERR_MISSING_KEYS="ERR_MISSING_KEYS",e.ERR_NO_KEY="ERR_NO_KEY",e.ERR_INVALID_KEY_NAME="ERR_INVALID_KEY_NAME",e.ERR_INVALID_KEY_TYPE="ERR_INVALID_KEY_TYPE",e.ERR_KEY_ALREADY_EXISTS="ERR_KEY_ALREADY_EXISTS",e.ERR_INVALID_KEY_SIZE="ERR_INVALID_KEY_SIZE",e.ERR_KEY_NOT_FOUND="ERR_KEY_NOT_FOUND",e.ERR_OLD_KEY_NAME_INVALID="ERR_OLD_KEY_NAME_INVALID",e.ERR_NEW_KEY_NAME_INVALID="ERR_NEW_KEY_NAME_INVALID",e.ERR_PASSWORD_REQUIRED="ERR_PASSWORD_REQUIRED",e.ERR_PEM_REQUIRED="ERR_PEM_REQUIRED",e.ERR_CANNOT_READ_KEY="ERR_CANNOT_READ_KEY",e.ERR_MISSING_PRIVATE_KEY="ERR_MISSING_PRIVATE_KEY",e.ERR_MISSING_PUBLIC_KEY="ERR_MISSING_PUBLIC_KEY",e.ERR_INVALID_OLD_PASS_TYPE="ERR_INVALID_OLD_PASS_TYPE",e.ERR_INVALID_NEW_PASS_TYPE="ERR_INVALID_NEW_PASS_TYPE",e.ERR_INVALID_PASS_LENGTH="ERR_INVALID_PASS_LENGTH",e.ERR_NOT_IMPLEMENTED="ERR_NOT_IMPLEMENTED",e.ERR_WRONG_PING_ACK="ERR_WRONG_PING_ACK",e.ERR_INVALID_RECORD="ERR_INVALID_RECORD",e.ERR_ALREADY_SUCCEEDED="ERR_ALREADY_SUCCEEDED",e.ERR_NO_HANDLER_FOR_PROTOCOL="ERR_NO_HANDLER_FOR_PROTOCOL",e.ERR_TOO_MANY_OUTBOUND_PROTOCOL_STREAMS="ERR_TOO_MANY_OUTBOUND_PROTOCOL_STREAMS",e.ERR_TOO_MANY_INBOUND_PROTOCOL_STREAMS="ERR_TOO_MANY_INBOUND_PROTOCOL_STREAMS",e.ERR_CONNECTION_DENIED="ERR_CONNECTION_DENIED",e.ERR_TRANSFER_LIMIT_EXCEEDED="ERR_TRANSFER_LIMIT_EXCEEDED"}(i||(i={}))},31027:function(e,t,r){"use strict";r(11877).i;r(17187),r(49541);var n,i=r(38699),s=(r(34042),r(76626),r(6540),r(41455),r(97858),r(2291),r(14560),r(64188),r(46888));!function(e){let t;e.codec=()=>(null==t&&(t=(0,s.yw)(((e,t,r={})=>{if(!1!==r.lengthDelimited&&t.fork(),null!=e.protocolVersion&&(t.uint32(42),t.string(e.protocolVersion)),null!=e.agentVersion&&(t.uint32(50),t.string(e.agentVersion)),null!=e.publicKey&&(t.uint32(10),t.bytes(e.publicKey)),null!=e.listenAddrs)for(const r of e.listenAddrs)t.uint32(18),t.bytes(r);if(null!=e.observedAddr&&(t.uint32(34),t.bytes(e.observedAddr)),null!=e.protocols)for(const r of e.protocols)t.uint32(26),t.string(r);null!=e.signedPeerRecord&&(t.uint32(66),t.bytes(e.signedPeerRecord)),!1!==r.lengthDelimited&&t.ldelim()}),((e,t)=>{const r={listenAddrs:[],protocols:[]},n=null==t?e.len:e.pos+t;for(;e.pos<n;){const t=e.uint32();switch(t>>>3){case 5:r.protocolVersion=e.string();break;case 6:r.agentVersion=e.string();break;case 1:r.publicKey=e.bytes();break;case 2:r.listenAddrs.push(e.bytes());break;case 4:r.observedAddr=e.bytes();break;case 3:r.protocols.push(e.string());break;case 8:r.signedPeerRecord=e.bytes();break;default:e.skipType(7&t)}}return r}))),t),e.encode=t=>(0,s.LE)(t,e.codec()),e.decode=t=>(0,s.C6)(t,e.codec())}(n||(n={}));(0,i.kg)("libp2p:identify")},12021:function(e,t,r){"use strict";r(17187),r(77755),r(27710),r(49541),r(23247),r(85521),r(77309),r(12899),r(63894),r(3068),r(97450),r(3832),r(61743);var n=r(45199);r(41277),r(1337),r(13651);r(3138),r(51097);r(91618),r(91882);r(98960),r(97116);r(29727);var i=r(93480),s=r(5681),o=(r(39646),r(98721));r(71030),r(88580),r(28214),r(14413);Symbol.for("nodejs.util.inspect.custom"),Object.values(o.gh).map((e=>e.decoder)).reduce(((e,t)=>e.or(t)),o.gh.identity.decoder);class a{type;multihash;privateKey;publicKey;string;constructor(e){this.type=e.type,this.multihash=e.multihash,this.privateKey=e.privateKey,Object.defineProperty(this,"string",{enumerable:!1,writable:!0})}get[Symbol.toStringTag](){return`PeerId(${this.toString()})`}[s.N]=!0;toString(){return null==this.string&&(this.string=base58btc.encode(this.multihash.bytes).slice(1)),this.string}toCID(){return CID.createV1(LIBP2P_KEY_CODE,this.multihash)}toBytes(){return this.multihash.bytes}toJSON(){return this.toString()}equals(e){if(e instanceof Uint8Array)return uint8ArrayEquals(this.multihash.bytes,e);if("string"==typeof e)return function(e,t){if(t??baseDecoder,"1"===e.charAt(0)||"Q"===e.charAt(0)){const t=Digest.decode(base58btc.decode(`z${e}`));return e.startsWith("12D")?new Ed25519PeerIdImpl({multihash:t}):e.startsWith("16U")?new Secp256k1PeerIdImpl({multihash:t}):new RSAPeerIdImpl({multihash:t})}return function(e){try{const t=Digest.decode(e);if(t.code===identity.code){if(t.digest.length===MARSHALLED_ED225519_PUBLIC_KEY_LENGTH)return new Ed25519PeerIdImpl({multihash:t});if(t.digest.length===MARSHALLED_SECP256K1_PUBLIC_KEY_LENGTH)return new Secp256k1PeerIdImpl({multihash:t})}if(t.code===sha256.code)return new RSAPeerIdImpl({multihash:t})}catch{return function(e){if(null==e||null==e.multihash||null==e.version||1===e.version&&e.code!==LIBP2P_KEY_CODE)throw new Error("Supplied PeerID CID is invalid");const t=e.multihash;if(t.code===sha256.code)return new RSAPeerIdImpl({multihash:e.multihash});if(t.code===identity.code){if(t.digest.length===MARSHALLED_ED225519_PUBLIC_KEY_LENGTH)return new Ed25519PeerIdImpl({multihash:e.multihash});if(t.digest.length===MARSHALLED_SECP256K1_PUBLIC_KEY_LENGTH)return new Secp256k1PeerIdImpl({multihash:e.multihash})}throw new Error("Supplied PeerID CID is invalid")}(CID.decode(e))}throw new Error("Supplied PeerID CID is invalid")}(baseDecoder.decode(e))}(e).equals(this);if(null!=e?.multihash?.bytes)return uint8ArrayEquals(this.multihash.bytes,e.multihash.bytes);throw new Error("not valid Id")}[inspect](){return`PeerId(${this.toString()})`}}var c=r(9135),u=r(58018);function l(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}const h=l("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),d=l("ascii","a",(e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}),(e=>{e=e.substring(1);const t=(0,u.E)(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}));c.gh.base16,c.gh;const f="/",p=(new TextEncoder).encode(f);p[0];class b{_buf;constructor(e,t){if("string"==typeof e)this._buf=uint8ArrayFromString(e);else{if(!(e instanceof Uint8Array))throw new Error("Invalid key, should be String of Uint8Array");this._buf=e}if(null==t&&!0,t&&this.clean(),0===this._buf.byteLength||this._buf[0]!==pathSep)throw new Error("Invalid key")}toString(e="utf8"){return uint8ArrayToString(this._buf,e)}uint8Array(){return this._buf}get[Symbol.toStringTag](){return`Key(${this.toString()})`}static withNamespaces(e){return new b(e.join(f))}static random(){return new b(nanoid().replace(/-/g,""))}static asKey(e){return e instanceof Uint8Array||"string"==typeof e?new b(e):"function"==typeof e.uint8Array?new b(e.uint8Array()):null}clean(){if(null!=this._buf&&0!==this._buf.byteLength||(this._buf=p),this._buf[0]!==pathSep){const e=new Uint8Array(this._buf.byteLength+1);e.fill(pathSep,0,1),e.set(this._buf,1),this._buf=e}for(;this._buf.byteLength>1&&this._buf[this._buf.byteLength-1]===pathSep;)this._buf=this._buf.subarray(0,-1)}less(e){const t=this.list(),r=e.list();for(let e=0;e<t.length;e++){if(r.length<e+1)return!1;const n=t[e],i=r[e];if(n<i)return!0;if(n>i)return!1}return t.length<r.length}reverse(){return b.withNamespaces(this.list().slice().reverse())}namespaces(){return this.list()}baseNamespace(){const e=this.namespaces();return e[e.length-1]}list(){return this.toString().split(f).slice(1)}type(){return function(e){const t=e.split(":");if(t.length<2)return"";return t.slice(0,-1).join(":")}(this.baseNamespace())}name(){return function(e){const t=e.split(":");return t[t.length-1]}(this.baseNamespace())}instance(e){return new b(this.toString()+":"+e)}path(){let e=this.parent().toString();return e.endsWith(f)||f,this.type(),new b(e)}parent(){const e=this.list();return 1===e.length?new b(f):new b(e.slice(0,-1).join(f))}child(e){return this.toString()===f?e:e.toString()===f?this:new b(this.toString()+e.toString(),!1)}isAncestorOf(e){return e.toString()!==this.toString()&&e.toString().startsWith(this.toString())}isDecendantOf(e){return e.toString()!==this.toString()&&this.toString().startsWith(e.toString())}isTopLevel(){return 1===this.list().length}concat(...e){return b.withNamespaces([...this.namespaces(),...(e.map((e=>e.namespaces())),[].concat(...t))]);var t}}var y;r(79221),r(50202),r(42393);!function(e){e.ERR_INVALID_PARAMETERS="ERR_INVALID_PARAMETERS",e.ERR_INVALID_KEY_NAME="ERR_INVALID_KEY_NAME",e.ERR_INVALID_KEY_TYPE="ERR_INVALID_KEY_TYPE",e.ERR_KEY_ALREADY_EXISTS="ERR_KEY_ALREADY_EXISTS",e.ERR_INVALID_KEY_SIZE="ERR_INVALID_KEY_SIZE",e.ERR_KEY_NOT_FOUND="ERR_KEY_NOT_FOUND",e.ERR_OLD_KEY_NAME_INVALID="ERR_OLD_KEY_NAME_INVALID",e.ERR_NEW_KEY_NAME_INVALID="ERR_NEW_KEY_NAME_INVALID",e.ERR_PASSWORD_REQUIRED="ERR_PASSWORD_REQUIRED",e.ERR_PEM_REQUIRED="ERR_PEM_REQUIRED",e.ERR_CANNOT_READ_KEY="ERR_CANNOT_READ_KEY",e.ERR_MISSING_PRIVATE_KEY="ERR_MISSING_PRIVATE_KEY",e.ERR_INVALID_OLD_PASS_TYPE="ERR_INVALID_OLD_PASS_TYPE",e.ERR_INVALID_NEW_PASS_TYPE="ERR_INVALID_NEW_PASS_TYPE",e.ERR_INVALID_PASS_LENGTH="ERR_INVALID_PASS_LENGTH"}(y||(y={}));(0,i.kg)("libp2p:keychain"),new WeakMap;var m=r(38699),g=(r(67483),r(34042),r(45045),r(81992)),E=(r(59526),r(52801));r(28619),r(79288),r(94454),r(10618);r(11842),r(26253);r(99858);var w=r(834);r(55609),r(52528),r(44108),r(37566);Symbol.for("nodejs.util.inspect.custom"),Object.values(w.gh).map((e=>e.decoder)).reduce(((e,t)=>e.or(t)),w.gh.identity.decoder);class _{type;multihash;privateKey;publicKey;string;constructor(e){this.type=e.type,this.multihash=e.multihash,this.privateKey=e.privateKey,Object.defineProperty(this,"string",{enumerable:!1,writable:!0})}get[Symbol.toStringTag](){return`PeerId(${this.toString()})`}[s.N]=!0;toString(){return null==this.string&&(this.string=base58btc.encode(this.multihash.bytes).slice(1)),this.string}toCID(){return CID.createV1(src_LIBP2P_KEY_CODE,this.multihash)}toBytes(){return this.multihash.bytes}toJSON(){return this.toString()}equals(e){if(e instanceof Uint8Array)return uint8ArrayEquals(this.multihash.bytes,e);if("string"==typeof e)return function(e,t){if(t??src_baseDecoder,"1"===e.charAt(0)||"Q"===e.charAt(0)){const t=Digest.decode(base58btc.decode(`z${e}`));return e.startsWith("12D")?new src_Ed25519PeerIdImpl({multihash:t}):e.startsWith("16U")?new src_Secp256k1PeerIdImpl({multihash:t}):new src_RSAPeerIdImpl({multihash:t})}return function(e){try{const t=Digest.decode(e);if(t.code===identity.code){if(t.digest.length===src_MARSHALLED_ED225519_PUBLIC_KEY_LENGTH)return new src_Ed25519PeerIdImpl({multihash:t});if(t.digest.length===src_MARSHALLED_SECP256K1_PUBLIC_KEY_LENGTH)return new src_Secp256k1PeerIdImpl({multihash:t})}if(t.code===sha256.code)return new src_RSAPeerIdImpl({multihash:t})}catch{return function(e){if(null==e||null==e.multihash||null==e.version||1===e.version&&e.code!==src_LIBP2P_KEY_CODE)throw new Error("Supplied PeerID CID is invalid");const t=e.multihash;if(t.code===sha256.code)return new src_RSAPeerIdImpl({multihash:e.multihash});if(t.code===identity.code){if(t.digest.length===src_MARSHALLED_ED225519_PUBLIC_KEY_LENGTH)return new src_Ed25519PeerIdImpl({multihash:e.multihash});if(t.digest.length===src_MARSHALLED_SECP256K1_PUBLIC_KEY_LENGTH)return new src_Secp256k1PeerIdImpl({multihash:e.multihash})}throw new Error("Supplied PeerID CID is invalid")}(CID.decode(e))}throw new Error("Supplied PeerID CID is invalid")}(src_baseDecoder.decode(e))}(e).equals(this);if(null!=e?.multihash?.bytes)return uint8ArrayEquals(this.multihash.bytes,e.multihash.bytes);throw new Error("not valid Id")}[src_inspect](){return`PeerId(${this.toString()})`}}r(57050),r(62308);var v,D=r(46888);!function(e){let t;e.codec=()=>(null==t&&(t=(0,D.yw)(((e,t,r={})=>{!1!==r.lengthDelimited&&t.fork(),null!=e.publicKey&&e.publicKey.byteLength>0&&(t.uint32(10),t.bytes(e.publicKey)),null!=e.payloadType&&e.payloadType.byteLength>0&&(t.uint32(18),t.bytes(e.payloadType)),null!=e.payload&&e.payload.byteLength>0&&(t.uint32(26),t.bytes(e.payload)),null!=e.signature&&e.signature.byteLength>0&&(t.uint32(42),t.bytes(e.signature)),!1!==r.lengthDelimited&&t.ldelim()}),((e,t)=>{const r={publicKey:new Uint8Array(0),payloadType:new Uint8Array(0),payload:new Uint8Array(0),signature:new Uint8Array(0)},n=null==t?e.len:e.pos+t;for(;e.pos<n;){const t=e.uint32();switch(t>>>3){case 1:r.publicKey=e.bytes();break;case 2:r.payloadType=e.bytes();break;case 3:r.payload=e.bytes();break;case 5:r.signature=e.bytes();break;default:e.skipType(7&t)}}return r}))),t),e.encode=t=>(0,D.LE)(t,e.codec()),e.decode=t=>(0,D.C6)(t,e.codec())}(v||(v={}));r(55728);Uint8Array.from([3,1]);var S;!function(e){let t,r;!function(e){let t;e.codec=()=>(null==t&&(t=(0,D.yw)(((e,t,r={})=>{!1!==r.lengthDelimited&&t.fork(),null!=e.multiaddr&&e.multiaddr.byteLength>0&&(t.uint32(10),t.bytes(e.multiaddr)),!1!==r.lengthDelimited&&t.ldelim()}),((e,t)=>{const r={multiaddr:new Uint8Array(0)},n=null==t?e.len:e.pos+t;for(;e.pos<n;){const t=e.uint32();if(t>>>3==1)r.multiaddr=e.bytes();else e.skipType(7&t)}return r}))),t),e.encode=t=>(0,D.LE)(t,e.codec()),e.decode=t=>(0,D.C6)(t,e.codec())}(t=e.AddressInfo||(e.AddressInfo={})),e.codec=()=>(null==r&&(r=(0,D.yw)(((t,r,n={})=>{if(!1!==n.lengthDelimited&&r.fork(),null!=t.peerId&&t.peerId.byteLength>0&&(r.uint32(10),r.bytes(t.peerId)),null!=t.seq&&0n!==t.seq&&(r.uint32(16),r.uint64(t.seq)),null!=t.addresses)for(const n of t.addresses)r.uint32(26),e.AddressInfo.codec().encode(n,r);!1!==n.lengthDelimited&&r.ldelim()}),((t,r)=>{const n={peerId:new Uint8Array(0),seq:0n,addresses:[]},i=null==r?t.len:t.pos+r;for(;t.pos<i;){const r=t.uint32();switch(r>>>3){case 1:n.peerId=t.bytes();break;case 2:n.seq=t.uint64();break;case 3:n.addresses.push(e.AddressInfo.codec().decode(t,t.uint32()));break;default:t.skipType(7&r)}}return n}))),r),e.encode=t=>(0,D.LE)(t,e.codec()),e.decode=t=>(0,D.C6)(t,e.codec())}(S||(S={}));r(56027),r(17314);var I,A,C;!function(e){let t,r,n;!function(e){let t;e.codec=()=>(null==t&&(t=(0,D.yw)(((e,t,r={})=>{!1!==r.lengthDelimited&&t.fork(),null!=e.key&&""!==e.key&&(t.uint32(10),t.string(e.key)),null!=e.value&&e.value.byteLength>0&&(t.uint32(18),t.bytes(e.value)),!1!==r.lengthDelimited&&t.ldelim()}),((e,t)=>{const r={key:"",value:new Uint8Array(0)},n=null==t?e.len:e.pos+t;for(;e.pos<n;){const t=e.uint32();switch(t>>>3){case 1:r.key=e.string();break;case 2:r.value=e.bytes();break;default:e.skipType(7&t)}}return r}))),t),e.encode=t=>(0,D.LE)(t,e.codec()),e.decode=t=>(0,D.C6)(t,e.codec())}(t=e.Peer$metadataEntry||(e.Peer$metadataEntry={})),function(e){let t;e.codec=()=>(null==t&&(t=(0,D.yw)(((e,t,r={})=>{!1!==r.lengthDelimited&&t.fork(),null!=e.key&&""!==e.key&&(t.uint32(10),t.string(e.key)),null!=e.value&&(t.uint32(18),C.codec().encode(e.value,t)),!1!==r.lengthDelimited&&t.ldelim()}),((e,t)=>{const r={key:""},n=null==t?e.len:e.pos+t;for(;e.pos<n;){const t=e.uint32();switch(t>>>3){case 1:r.key=e.string();break;case 2:r.value=C.codec().decode(e,e.uint32());break;default:e.skipType(7&t)}}return r}))),t),e.encode=t=>(0,D.LE)(t,e.codec()),e.decode=t=>(0,D.C6)(t,e.codec())}(r=e.Peer$tagsEntry||(e.Peer$tagsEntry={})),e.codec=()=>(null==n&&(n=(0,D.yw)(((t,r,n={})=>{if(!1!==n.lengthDelimited&&r.fork(),null!=t.addresses)for(const e of t.addresses)r.uint32(10),A.codec().encode(e,r);if(null!=t.protocols)for(const e of t.protocols)r.uint32(18),r.string(e);if(null!=t.publicKey&&(r.uint32(34),r.bytes(t.publicKey)),null!=t.peerRecordEnvelope&&(r.uint32(42),r.bytes(t.peerRecordEnvelope)),null!=t.metadata&&0!==t.metadata.size)for(const[n,i]of t.metadata.entries())r.uint32(50),e.Peer$metadataEntry.codec().encode({key:n,value:i},r);if(null!=t.tags&&0!==t.tags.size)for(const[n,i]of t.tags.entries())r.uint32(58),e.Peer$tagsEntry.codec().encode({key:n,value:i},r);!1!==n.lengthDelimited&&r.ldelim()}),((t,r)=>{const n={addresses:[],protocols:[],metadata:new Map,tags:new Map},i=null==r?t.len:t.pos+r;for(;t.pos<i;){const r=t.uint32();switch(r>>>3){case 1:n.addresses.push(A.codec().decode(t,t.uint32()));break;case 2:n.protocols.push(t.string());break;case 4:n.publicKey=t.bytes();break;case 5:n.peerRecordEnvelope=t.bytes();break;case 6:{const r=e.Peer$metadataEntry.codec().decode(t,t.uint32());n.metadata.set(r.key,r.value);break}case 7:{const r=e.Peer$tagsEntry.codec().decode(t,t.uint32());n.tags.set(r.key,r.value);break}default:t.skipType(7&r)}}return n}))),n),e.encode=t=>(0,D.LE)(t,e.codec()),e.decode=t=>(0,D.C6)(t,e.codec())}(I||(I={})),function(e){let t;e.codec=()=>(null==t&&(t=(0,D.yw)(((e,t,r={})=>{!1!==r.lengthDelimited&&t.fork(),null!=e.multiaddr&&e.multiaddr.byteLength>0&&(t.uint32(10),t.bytes(e.multiaddr)),null!=e.isCertified&&(t.uint32(16),t.bool(e.isCertified)),!1!==r.lengthDelimited&&t.ldelim()}),((e,t)=>{const r={multiaddr:new Uint8Array(0)},n=null==t?e.len:e.pos+t;for(;e.pos<n;){const t=e.uint32();switch(t>>>3){case 1:r.multiaddr=e.bytes();break;case 2:r.isCertified=e.bool();break;default:e.skipType(7&t)}}return r}))),t),e.encode=t=>(0,D.LE)(t,e.codec()),e.decode=t=>(0,D.C6)(t,e.codec())}(A||(A={})),function(e){let t;e.codec=()=>(null==t&&(t=(0,D.yw)(((e,t,r={})=>{!1!==r.lengthDelimited&&t.fork(),null!=e.value&&0!==e.value&&(t.uint32(8),t.uint32(e.value)),null!=e.expiry&&(t.uint32(16),t.uint64(e.expiry)),!1!==r.lengthDelimited&&t.ldelim()}),((e,t)=>{const r={value:0},n=null==t?e.len:e.pos+t;for(;e.pos<n;){const t=e.uint32();switch(t>>>3){case 1:r.value=e.uint32();break;case 2:r.expiry=e.uint64();break;default:e.skipType(7&t)}}return r}))),t),e.encode=t=>(0,D.LE)(t,e.codec()),e.decode=t=>(0,D.C6)(t,e.codec())}(C||(C={}));var R=r(16163),T=r(69339);function P(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}const L=P("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),k=P("ascii","a",(e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}),(e=>{e=e.substring(1);const t=(0,T.E)(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}));R.gh.base16,R.gh;const O="/",N=(new TextEncoder).encode(O);N[0];class x{_buf;constructor(e,t){if("string"==typeof e)this._buf=uint8ArrayFromString(e);else{if(!(e instanceof Uint8Array))throw new Error("Invalid key, should be String of Uint8Array");this._buf=e}if(null==t&&!0,t&&this.clean(),0===this._buf.byteLength||this._buf[0]!==key_pathSep)throw new Error("Invalid key")}toString(e="utf8"){return uint8ArrayToString(this._buf,e)}uint8Array(){return this._buf}get[Symbol.toStringTag](){return`Key(${this.toString()})`}static withNamespaces(e){return new x(e.join(O))}static random(){return new x(nanoid().replace(/-/g,""))}static asKey(e){return e instanceof Uint8Array||"string"==typeof e?new x(e):"function"==typeof e.uint8Array?new x(e.uint8Array()):null}clean(){if(null!=this._buf&&0!==this._buf.byteLength||(this._buf=N),this._buf[0]!==key_pathSep){const e=new Uint8Array(this._buf.byteLength+1);e.fill(key_pathSep,0,1),e.set(this._buf,1),this._buf=e}for(;this._buf.byteLength>1&&this._buf[this._buf.byteLength-1]===key_pathSep;)this._buf=this._buf.subarray(0,-1)}less(e){const t=this.list(),r=e.list();for(let e=0;e<t.length;e++){if(r.length<e+1)return!1;const n=t[e],i=r[e];if(n<i)return!0;if(n>i)return!1}return t.length<r.length}reverse(){return x.withNamespaces(this.list().slice().reverse())}namespaces(){return this.list()}baseNamespace(){const e=this.namespaces();return e[e.length-1]}list(){return this.toString().split(O).slice(1)}type(){return function(e){const t=e.split(":");if(t.length<2)return"";return t.slice(0,-1).join(":")}(this.baseNamespace())}name(){return function(e){const t=e.split(":");return t[t.length-1]}(this.baseNamespace())}instance(e){return new x(this.toString()+":"+e)}path(){let e=this.parent().toString();return e.endsWith(O)||O,this.type(),new x(e)}parent(){const e=this.list();return 1===e.length?new x(O):new x(e.slice(0,-1).join(O))}child(e){return this.toString()===O?e:e.toString()===O?this:new x(this.toString()+e.toString(),!1)}isAncestorOf(e){return e.toString()!==this.toString()&&e.toString().startsWith(this.toString())}isDecendantOf(e){return e.toString()!==this.toString()&&this.toString().startsWith(e.toString())}isTopLevel(){return 1===this.list().length}concat(...e){return x.withNamespaces([...this.namespaces(),...(e.map((e=>e.namespaces())),[].concat(...t))]);var t}}(0,g.kg)("libp2p:peer-store");r(6540),r(92291),r(97858);(0,m.kg)("libp2p:address-manager");r(53749);var M=r(55265),U=r(76201),B=r(72495);function V(e,t){const r=function(e,t){const r=(0,B.h)(e.multiaddr),n=(0,B.h)(t.multiaddr);return r&&!n?1:!r&&n?-1:0}(e,t);if(0!==r)return r;const n=function(e,t){const r=U.dx.exactMatch(e.multiaddr),n=U.dx.exactMatch(t.multiaddr);return r&&!n?1:!r&&n?-1:0}(e,t);if(0!==n)return n;const i=function(e,t){return e.isCertified&&!t.isCertified?-1:!e.isCertified&&t.isCertified?1:0}(e,t);return i}var F=r(66907),K=r(73170);const{code:z}=(0,F.Ev)("dnsaddr");async function $(e,t={}){const r=new K.Z;null!=t.signal&&t.signal.addEventListener("abort",(()=>{r.cancel()}));const n=e.getPeerId(),[,i]=e.stringTuples().find((([e])=>e===z))??[];if(null==i)throw new Error("No hostname found in multiaddr");let s=(await r.resolveTxt(`_dnsaddr.${i}`)).flat().map((e=>e.split("=")[1])).filter(Boolean);return null!=n&&(s=s.filter((e=>e.includes(n)))),s}r(64188);M.P7.FATAL_ALL;r(60644);(0,m.kg)("libp2p:get-peer");r(2291),r(95554);var W=r(12229),G=r(20103);(0,m.kg)("libp2p:connection-manager:auto-dial"),W.iA,G.Oe,G.Bv,G.G9,G.PW,W.Oq,G.D8;(0,m.kg)("libp2p:connection-manager:connection-pruner"),W.aX;r(48347);(0,m.kg)("libp2p:connection-manager:utils");(0,m.kg)("libp2p:connection-manager:dial-queue"),W.Ui,G.wt,G.Hi,G.Lw;(0,m.kg)("libp2p:connection-manager"),W.iA,W.aX,G.C4,G.b4,G.Bv,G.G9,G.Oe;class j extends Error{type;code;constructor(e,t){super(e??"The operation was aborted"),this.type="aborted",this.code=t??"ABORT_ERR"}}r(90212);(0,m.kg)("libp2p:peer-routing");(0,m.kg)("libp2p:registrar");r(40480);(0,m.kg)("libp2p:transports");var H=r(37953);r(93489);r(48224),r(58287);var q=r(36165),Y=r(53275),Q=r(39195);function J(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}const Z=J("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),X=J("ascii","a",(e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}),(e=>{e=e.substring(1);const t=(0,Q.E)(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}));var ee={utf8:Z,"utf-8":Z,hex:Y.gh.base16,latin1:X,ascii:X,binary:X,...Y.gh};class te extends Error{constructor(e,t){super(e??"The operation was aborted"),this.type="aborted",this.code=t??"ABORT_ERR"}}r(91893);(0,H.kg)("libp2p:mss"),function(e,t="utf8"){const r=ee[t];if(null==r)throw new Error(`Unsupported encoding "${t}"`);"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?r.decoder.decode(`${r.prefix}${e}`):(0,q.P)(globalThis.Buffer.from(e,"utf-8"))}("\n");(0,H.kg)("libp2p:mss:select");(0,H.kg)("libp2p:mss:handle");var re=r(50508);(0,m.kg)("libp2p:connection");class ne{id;remoteAddr;remotePeer;direction;timeline;multiplexer;encryption;status;transient;tags;_newStream;_close;_abort;_getStreams;constructor(e){const{remoteAddr:t,remotePeer:r,newStream:n,close:i,abort:s,getStreams:o}=e;this.id=`${parseInt(String(1e9*Math.random())).toString(36)}${Date.now()}`,this.remoteAddr=t,this.remotePeer=r,this.direction=e.direction,this.status="open",this.timeline=e.timeline,this.multiplexer=e.multiplexer,this.encryption=e.encryption,this.transient=e.transient??!1,this._newStream=n,this._close=i,this._abort=s,this._getStreams=o,this.tags=[]}[Symbol.toStringTag]="Connection";[re.N]=!0;get streams(){return this._getStreams()}async newStream(e,t){if("closing"===this.status)throw new CodeError("the connection is being closed","ERR_CONNECTION_BEING_CLOSED");if("closed"===this.status)throw new CodeError("the connection is closed","ERR_CONNECTION_CLOSED");if(Array.isArray(e)||[e],this.transient&&!0!==t?.runOnTransientConnection)throw new CodeError("Cannot open protocol stream on transient connection","ERR_TRANSIENT_CONNECTION");const r=await this._newStream(e,t);return r.direction="outbound",r}async close(e={}){if("closed"!==this.status&&"closing"!==this.status){connection_log("closing connection to %a",this.remoteAddr),this.status="closing",e.signal=e?.signal??AbortSignal.timeout(500);try{setMaxListeners?.(1/0,e.signal)}catch{}try{await Promise.all(this.streams.map((async t=>t.close(e)))),await this._close(e),this.timeline.close=Date.now(),this.status="closed"}catch(e){connection_log.error("error encountered during graceful close of connection to %a",this.remoteAddr,e),this.abort(e)}}}abort(e){connection_log.error("aborting connection to %a due to error",this.remoteAddr,e),this.status="closing",this.streams.forEach((t=>{t.abort(e)})),connection_log.error("all streams aborted",this.streams.length),this._abort(e),this.timeline.close=Date.now(),this.status="closed"}}(0,m.kg)("libp2p:upgrader");(0,m.kg)("libp2p")},58541:function(e,t,r){"use strict";r(27002),r(23352),r(77755),r(11643),r(18054),r(49541);var n=r(38699);r(90212),r(64188);(0,n.kg)("libp2p:ping")},95554:function(e,t,r){"use strict";r(49541),r(48347),r(64188)},77755:function(e,t,r){"use strict";r(3068),r(97450),r(49541),r(3832),r(97858);var n=r(36536);r(54638),r(21979),r(92105),r(44216);r(55363),r(86995)},44216:function(e,t,r){"use strict";r.d(t,{Jz:function(){return n},_q:function(){return o},nh:function(){return s}});var n,i,s,o,a=r(46888);!function(e){e.RSA="RSA",e.Ed25519="Ed25519",e.Secp256k1="Secp256k1"}(n||(n={})),function(e){e[e.RSA=0]="RSA",e[e.Ed25519=1]="Ed25519",e[e.Secp256k1=2]="Secp256k1"}(i||(i={})),function(e){e.codec=()=>(0,a.Ji)(i)}(n||(n={})),function(e){let t;e.codec=()=>(null==t&&(t=(0,a.yw)(((e,t,r={})=>{!1!==r.lengthDelimited&&t.fork(),null!=e.Type&&(t.uint32(8),n.codec().encode(e.Type,t)),null!=e.Data&&(t.uint32(18),t.bytes(e.Data)),!1!==r.lengthDelimited&&t.ldelim()}),((e,t)=>{const r={},i=null==t?e.len:e.pos+t;for(;e.pos<i;){const t=e.uint32();switch(t>>>3){case 1:r.Type=n.codec().decode(e);break;case 2:r.Data=e.bytes();break;default:e.skipType(7&t)}}return r}))),t),e.encode=t=>(0,a.LE)(t,e.codec()),e.decode=t=>(0,a.C6)(t,e.codec())}(s||(s={})),function(e){let t;e.codec=()=>(null==t&&(t=(0,a.yw)(((e,t,r={})=>{!1!==r.lengthDelimited&&t.fork(),null!=e.Type&&(t.uint32(8),n.codec().encode(e.Type,t)),null!=e.Data&&(t.uint32(18),t.bytes(e.Data)),!1!==r.lengthDelimited&&t.ldelim()}),((e,t)=>{const r={},i=null==t?e.len:e.pos+t;for(;e.pos<i;){const t=e.uint32();switch(t>>>3){case 1:r.Type=n.codec().decode(e);break;case 2:r.Data=e.bytes();break;default:e.skipType(7&t)}}return r}))),t),e.encode=t=>(0,a.LE)(t,e.codec()),e.decode=t=>(0,a.C6)(t,e.codec())}(o||(o={}))},18054:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(49541),i=r(41105);function s(e){if(isNaN(e)||e<=0)throw new n.sv("random bytes length must be a Number bigger than 0","ERR_INVALID_LENGTH");return(0,i.O6)(e)}},45045:function(e,t,r){"use strict";r(77755),r(34042),r(97858),r(25763)},34042:function(e,t,r){"use strict";r(49541);var n=r(5681),i=(r(55729),r(13351));r(25674),r(62550),r(60150),r(59425);Symbol.for("nodejs.util.inspect.custom"),Object.values(i.gh).map((e=>e.decoder)).reduce(((e,t)=>e.or(t)),i.gh.identity.decoder);class s{type;multihash;privateKey;publicKey;string;constructor(e){this.type=e.type,this.multihash=e.multihash,this.privateKey=e.privateKey,Object.defineProperty(this,"string",{enumerable:!1,writable:!0})}get[Symbol.toStringTag](){return`PeerId(${this.toString()})`}[n.N]=!0;toString(){return null==this.string&&(this.string=base58btc.encode(this.multihash.bytes).slice(1)),this.string}toCID(){return CID.createV1(LIBP2P_KEY_CODE,this.multihash)}toBytes(){return this.multihash.bytes}toJSON(){return this.toString()}equals(e){if(e instanceof Uint8Array)return uint8ArrayEquals(this.multihash.bytes,e);if("string"==typeof e)return function(e,t){if(t??baseDecoder,"1"===e.charAt(0)||"Q"===e.charAt(0)){const t=Digest.decode(base58btc.decode(`z${e}`));return e.startsWith("12D")?new Ed25519PeerIdImpl({multihash:t}):e.startsWith("16U")?new Secp256k1PeerIdImpl({multihash:t}):new RSAPeerIdImpl({multihash:t})}return function(e){try{const t=Digest.decode(e);if(t.code===identity.code){if(t.digest.length===MARSHALLED_ED225519_PUBLIC_KEY_LENGTH)return new Ed25519PeerIdImpl({multihash:t});if(t.digest.length===MARSHALLED_SECP256K1_PUBLIC_KEY_LENGTH)return new Secp256k1PeerIdImpl({multihash:t})}if(t.code===sha256.code)return new RSAPeerIdImpl({multihash:t})}catch{return function(e){if(null==e||null==e.multihash||null==e.version||1===e.version&&e.code!==LIBP2P_KEY_CODE)throw new Error("Supplied PeerID CID is invalid");const t=e.multihash;if(t.code===sha256.code)return new RSAPeerIdImpl({multihash:e.multihash});if(t.code===identity.code){if(t.digest.length===MARSHALLED_ED225519_PUBLIC_KEY_LENGTH)return new Ed25519PeerIdImpl({multihash:e.multihash});if(t.digest.length===MARSHALLED_SECP256K1_PUBLIC_KEY_LENGTH)return new Secp256k1PeerIdImpl({multihash:e.multihash})}throw new Error("Supplied PeerID CID is invalid")}(CID.decode(e))}throw new Error("Supplied PeerID CID is invalid")}(baseDecoder.decode(e))}(e).equals(this);if(null!=e?.multihash?.bytes)return uint8ArrayEquals(this.multihash.bytes,e.multihash.bytes);throw new Error("not valid Id")}[inspect](){return`PeerId(${this.toString()})`}}},76626:function(e,t,r){"use strict";r(77755),r(49541),r(34042),r(57050),r(62308),r(97858);var n,i=r(46888);!function(e){let t;e.codec=()=>(null==t&&(t=(0,i.yw)(((e,t,r={})=>{!1!==r.lengthDelimited&&t.fork(),null!=e.publicKey&&e.publicKey.byteLength>0&&(t.uint32(10),t.bytes(e.publicKey)),null!=e.payloadType&&e.payloadType.byteLength>0&&(t.uint32(18),t.bytes(e.payloadType)),null!=e.payload&&e.payload.byteLength>0&&(t.uint32(26),t.bytes(e.payload)),null!=e.signature&&e.signature.byteLength>0&&(t.uint32(42),t.bytes(e.signature)),!1!==r.lengthDelimited&&t.ldelim()}),((e,t)=>{const r={publicKey:new Uint8Array(0),payloadType:new Uint8Array(0),payload:new Uint8Array(0),signature:new Uint8Array(0)},n=null==t?e.len:e.pos+t;for(;e.pos<n;){const t=e.uint32();switch(t>>>3){case 1:r.publicKey=e.bytes();break;case 2:r.payloadType=e.bytes();break;case 3:r.payload=e.bytes();break;case 5:r.signature=e.bytes();break;default:e.skipType(7&t)}}return r}))),t),e.encode=t=>(0,i.LE)(t,e.codec()),e.decode=t=>(0,i.C6)(t,e.codec())}(n||(n={}));r(6540);Uint8Array.from([3,1]);var s;!function(e){let t,r;!function(e){let t;e.codec=()=>(null==t&&(t=(0,i.yw)(((e,t,r={})=>{!1!==r.lengthDelimited&&t.fork(),null!=e.multiaddr&&e.multiaddr.byteLength>0&&(t.uint32(10),t.bytes(e.multiaddr)),!1!==r.lengthDelimited&&t.ldelim()}),((e,t)=>{const r={multiaddr:new Uint8Array(0)},n=null==t?e.len:e.pos+t;for(;e.pos<n;){const t=e.uint32();if(t>>>3==1)r.multiaddr=e.bytes();else e.skipType(7&t)}return r}))),t),e.encode=t=>(0,i.LE)(t,e.codec()),e.decode=t=>(0,i.C6)(t,e.codec())}(t=e.AddressInfo||(e.AddressInfo={})),e.codec=()=>(null==r&&(r=(0,i.yw)(((t,r,n={})=>{if(!1!==n.lengthDelimited&&r.fork(),null!=t.peerId&&t.peerId.byteLength>0&&(r.uint32(10),r.bytes(t.peerId)),null!=t.seq&&0n!==t.seq&&(r.uint32(16),r.uint64(t.seq)),null!=t.addresses)for(const n of t.addresses)r.uint32(26),e.AddressInfo.codec().encode(n,r);!1!==n.lengthDelimited&&r.ldelim()}),((t,r)=>{const n={peerId:new Uint8Array(0),seq:0n,addresses:[]},i=null==r?t.len:t.pos+r;for(;t.pos<i;){const r=t.uint32();switch(r>>>3){case 1:n.peerId=t.bytes();break;case 2:n.seq=t.uint64();break;case 3:n.addresses.push(e.AddressInfo.codec().decode(t,t.uint32()));break;default:t.skipType(7&r)}}return n}))),r),e.encode=t=>(0,i.LE)(t,e.codec()),e.decode=t=>(0,i.C6)(t,e.codec())}(s||(s={}))},87744:function(e,t,r){"use strict";r(9839),r(10430),r(55729);var n=r(13351);r(25674),r(62550),r(57050),r(53890);r(20253),r(49736);var i=r(66907);(0,i.Ev)("ip4"),(0,i.Ev)("ip6"),(0,i.Ev)("ipcidr");const s=Object.values(n.gh).map((e=>e.decoder));!function(){let e=s[0].or(s[1]);s.slice(2).forEach((t=>e=e.or(t)))}()},6540:function(e,t,r){"use strict";r(49541),r(55729),r(25674),r(20253),r(57050),r(87744);var n=r(66907);r(48098);Symbol.for("nodejs.util.inspect.custom"),(0,n.Ev)("dns").code,(0,n.Ev)("dns4").code,(0,n.Ev)("dns6").code,(0,n.Ev)("dnsaddr").code,new Map,Symbol.for("@multiformats/js-multiaddr/multiaddr")},66907:function(e,t,r){"use strict";r.d(t,{Ev:function(){return o}});const n=-1,i={},s={};function o(e){if("number"==typeof e){if(null!=s[e])return s[e];throw new Error(`no protocol with code: ${e}`)}if("string"==typeof e){if(null!=i[e])return i[e];throw new Error(`no protocol with name: ${e}`)}throw new Error("invalid protocol id type: "+typeof e)}[[4,32,"ip4"],[6,16,"tcp"],[33,16,"dccp"],[41,128,"ip6"],[42,n,"ip6zone"],[43,8,"ipcidr"],[53,n,"dns",!0],[54,n,"dns4",!0],[55,n,"dns6",!0],[56,n,"dnsaddr",!0],[132,16,"sctp"],[273,16,"udp"],[275,0,"p2p-webrtc-star"],[276,0,"p2p-webrtc-direct"],[277,0,"p2p-stardust"],[280,0,"webrtc-direct"],[281,0,"webrtc"],[290,0,"p2p-circuit"],[301,0,"udt"],[302,0,"utp"],[400,n,"unix",!1,!0],[421,n,"ipfs"],[421,n,"p2p"],[443,0,"https"],[444,96,"onion"],[445,296,"onion3"],[446,n,"garlic64"],[448,0,"tls"],[449,n,"sni"],[460,0,"quic"],[461,0,"quic-v1"],[465,0,"webtransport"],[466,n,"certhash"],[477,0,"ws"],[478,0,"wss"],[479,0,"p2p-websocket-star"],[480,0,"http"],[777,n,"memory"]].forEach((e=>{const t=function(e,t,r,n,i){return{code:e,size:t,name:r,resolvable:Boolean(n),path:Boolean(i)}}(...e);s[t.code]=t,i[t.name]=t}))},20253:function(e,t,r){"use strict";r(53890)},53890:function(e,t,r){"use strict";var n=r(39262),i=r(65844);function s(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}const o=s("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),a=s("ascii","a",(e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}),(e=>{e=e.substring(1);const t=(0,i.E)(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}));n.gh.base16,n.gh},10430:function(e,t,r){"use strict";r.r(t),r.d(t,{base32:function(){return i},base32hex:function(){return c},base32hexpad:function(){return l},base32hexpadupper:function(){return h},base32hexupper:function(){return u},base32pad:function(){return o},base32padupper:function(){return a},base32upper:function(){return s},base32z:function(){return d}});var n=r(86317);const i=(0,n.ET)({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),s=(0,n.ET)({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),o=(0,n.ET)({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),a=(0,n.ET)({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),c=(0,n.ET)({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),u=(0,n.ET)({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),l=(0,n.ET)({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),h=(0,n.ET)({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),d=(0,n.ET)({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})},55729:function(e,t,r){"use strict";r.r(t),r.d(t,{base58btc:function(){return i},base58flickr:function(){return s}});var n=r(86317);const i=(0,n.kU)({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),s=(0,n.kU)({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})},59081:function(e,t,r){"use strict";r.d(t,{BB:function(){return s},mL:function(){return i},oQ:function(){return n}});new Uint8Array(0);const n=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},i=e=>(new TextEncoder).encode(e),s=e=>(new TextDecoder).decode(e)},25674:function(e,t,r){"use strict";r(10430),r(55729),r(59081),r(62550),r(24231);new WeakMap;class n{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{const{code:e,multihash:t}=this;if(e!==DAG_PB_CODE)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==SHA_256_CODE)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return n.createV0(t)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{const{code:e,digest:t}=this.multihash,r=Digest.create(e,t);return n.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return n.equals(this,e)}static equals(e,t){const r=t;return r&&e.code===r.code&&e.version===r.version&&Digest.equals(e.multihash,r.multihash)}toString(e){return format(this,e)}toJSON(){return{"/":format(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(null==e)return null;const t=e;if(t instanceof n)return t;if(null!=t["/"]&&t["/"]===t.bytes||t.asCID===t){const{version:e,code:r,multihash:i,bytes:s}=t;return new n(e,r,i,s||encodeCID(e,r,i.bytes))}if(!0===t[cidSymbol]){const{version:e,multihash:r,code:i}=t,s=Digest.decode(r);return n.create(e,i,s)}return null}static create(e,t,r){if("number"!=typeof t)throw new Error("String codecs are no longer supported");if(!(r.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:if(t!==DAG_PB_CODE)throw new Error(`Version 0 CID must use dag-pb (code: ${DAG_PB_CODE}) block encoding`);return new n(e,t,r,r.bytes);case 1:{const i=encodeCID(e,t,r.bytes);return new n(e,t,r,i)}default:throw new Error("Invalid version")}}static createV0(e){return n.create(0,DAG_PB_CODE,e)}static createV1(e,t){return n.create(1,e,t)}static decode(e){const[t,r]=n.decodeFirst(e);if(r.length)throw new Error("Incorrect length");return t}static decodeFirst(e){const t=n.inspectBytes(e),r=t.size-t.multihashSize,i=coerce(e.subarray(r,r+t.multihashSize));if(i.byteLength!==t.multihashSize)throw new Error("Incorrect length");const s=i.subarray(t.multihashSize-t.digestSize),o=new Digest.Digest(t.multihashCode,t.digestSize,s,i);return[0===t.version?n.createV0(o):n.createV1(t.codec,o),e.subarray(t.size)]}static inspectBytes(e){let t=0;const r=()=>{const[r,n]=varint.decode(e.subarray(t));return n,r};let n=r(),i=DAG_PB_CODE;if(18===n?(0,0):r(),0!==n&&1!==n)throw new RangeError(`Invalid CID version ${n}`);const s=t,o=r(),a=r(),c=t+a;return{version:n,codec:i,multihashCode:o,digestSize:a,multihashSize:c-s,size:c}}static parse(e,t){const[r,i]=parseCIDtoBytes(e,t),s=n.decode(i);if(0===s.version&&"Q"!==e[0])throw Error("Version 0 CID string must not include multibase prefix");return baseCache(s).set(r,e),s}}Symbol.for("@ipld/js-cid/CID")},62550:function(e,t,r){"use strict";r.d(t,{Ue:function(){return i}});r(59081);var n=r(24231);const i=(e,t)=>{const r=t.byteLength,i=n.P$(e),o=i+n.P$(r),a=new Uint8Array(o+r);return n.mL(e,a,0),n.mL(r,a,i),a.set(t,o),new s(e,r,t,a)};class s{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}},60150:function(e,t,r){"use strict";r.r(t),r.d(t,{identity:function(){return o}});var n=r(59081),i=r(62550);const s=n.oQ,o={code:0,name:"identity",encode:s,digest:e=>i.Ue(0,s(e))}},24231:function(e,t,r){"use strict";r.d(t,{mL:function(){return w},P$:function(){return _}});var n=function e(t,r,n){r=r||[];var a=n=n||0;for(;t>=o;)r[n++]=255&t|i,t/=128;for(;t&s;)r[n++]=255&t|i,t>>>=7;return r[n]=0|t,e.bytes=n-a+1,r},i=128,s=-128,o=Math.pow(2,31);var a=function e(t,r){var n,i=0,s=0,o=r=r||0,a=t.length;do{if(o>=a)throw e.bytes=0,new RangeError("Could not decode varint");n=t[o++],i+=s<28?(n&u)<<s:(n&u)*Math.pow(2,s),s+=7}while(n>=c);return e.bytes=o-r,i},c=128,u=127;var l=Math.pow(2,7),h=Math.pow(2,14),d=Math.pow(2,21),f=Math.pow(2,28),p=Math.pow(2,35),b=Math.pow(2,42),y=Math.pow(2,49),m=Math.pow(2,56),g=Math.pow(2,63),E={encode:n,decode:a,encodingLength:function(e){return e<l?1:e<h?2:e<d?3:e<f?4:e<p?5:e<b?6:e<y?7:e<m?8:e<g?9:10}};const w=(e,t,r=0)=>(E.encode(e,t,r),t),_=e=>E.encodingLength(e)},48347:function(e,t,r){"use strict";r(72287),r(71198);new WeakMap;var n,i,s,o,a,c,u,l,h,d,f,p,b,y,m,g,E,w,_,v,D,S=function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},I=function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};class A extends Error{}i=new WeakMap,s=new WeakMap,o=new WeakMap,a=new WeakMap,c=new WeakMap,u=new WeakMap,l=new WeakMap,h=new WeakMap,d=new WeakMap,new WeakMap,f=new WeakMap,p=new WeakMap,b=new WeakMap,new WeakMap,n=new WeakSet,y=function(){return I(this,s,"f")||I(this,o,"f")<I(this,a,"f")},m=function(){return I(this,f,"f")<I(this,p,"f")},g=function(){I(this,n,"m",v).call(this),I(this,n,"m",_).call(this),S(this,h,void 0,"f")},E=function(){const e=Date.now();if(void 0===I(this,l,"f")){const t=I(this,u,"f")-e;if(!(t<0))return void 0===I(this,h,"f")&&S(this,h,setTimeout((()=>{I(this,n,"m",g).call(this)}),t),"f"),!0;S(this,o,I(this,i,"f")?I(this,f,"f"):0,"f")}return!1},w=function(){if(0===I(this,d,"f").size)return I(this,l,"f")&&clearInterval(I(this,l,"f")),S(this,l,void 0,"f"),this.emit("empty"),0===I(this,f,"f")&&this.emit("idle"),!1;if(!I(this,b,"f")){const e=!I(this,n,"a",E);if(I(this,n,"a",y)&&I(this,n,"a",m)){const t=I(this,d,"f").dequeue();return!!t&&(this.emit("active"),t(),e&&I(this,n,"m",_).call(this),!0)}}return!1},_=function(){I(this,s,"f")||void 0!==I(this,l,"f")||(S(this,l,setInterval((()=>{I(this,n,"m",v).call(this)}),I(this,c,"f")),"f"),S(this,u,Date.now()+I(this,c,"f"),"f"))},v=function(){0===I(this,o,"f")&&0===I(this,f,"f")&&I(this,l,"f")&&(clearInterval(I(this,l,"f")),S(this,l,void 0,"f")),S(this,o,I(this,i,"f")?I(this,f,"f"):0,"f"),I(this,n,"m",D).call(this)},D=function(){for(;I(this,n,"m",w).call(this););}},7394:function(e,t,r){"use strict";var n=r(13351),i=r(77539);function s(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}const o=s("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),a=s("ascii","a",(e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}),(e=>{e=e.substring(1);const t=(0,i.E)(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t})),c={utf8:o,"utf-8":o,hex:n.gh.base16,latin1:a,ascii:a,binary:a,...n.gh};t.Z=c},56027:function(e,t,r){"use strict";r(95972);class n extends Error{constructor(e){super(e),this.name="TimeoutError"}}class i extends Error{constructor(e){super(),this.name="AbortError",this.message=e}}const s={},o=e=>{e.addEventListener("message",(t=>{o.dispatchEvent("message",e,t)})),null!=e.port&&e.port.addEventListener("message",(t=>{o.dispatchEvent("message",e,t)}))};o.addEventListener=(e,t)=>{null==s[e]&&(s[e]=[]),s[e].push(t)},o.removeEventListener=(e,t)=>{null!=s[e]&&(s[e]=s[e].filter((e=>e===t)))},o.dispatchEvent=function(e,t,r){null!=s[e]&&s[e].forEach((e=>e(t,r)))}},14249:function(e,t,r){"use strict";r.r(t),r.d(t,{base32:function(){return i},base32hex:function(){return c},base32hexpad:function(){return l},base32hexpadupper:function(){return h},base32hexupper:function(){return u},base32pad:function(){return o},base32padupper:function(){return a},base32upper:function(){return s},base32z:function(){return d}});var n=r(75385);const i=(0,n.ET)({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),s=(0,n.ET)({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),o=(0,n.ET)({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),a=(0,n.ET)({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),c=(0,n.ET)({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),u=(0,n.ET)({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),l=(0,n.ET)({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),h=(0,n.ET)({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),d=(0,n.ET)({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})},68673:function(e,t,r){"use strict";r.r(t),r.d(t,{base36:function(){return i},base36upper:function(){return s}});var n=r(75385);const i=(0,n.kU)({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),s=(0,n.kU)({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})},99382:function(e,t,r){"use strict";r.r(t),r.d(t,{base64:function(){return i},base64pad:function(){return s},base64url:function(){return o},base64urlpad:function(){return a}});var n=r(75385);const i=(0,n.ET)({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),s=(0,n.ET)({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),o=(0,n.ET)({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),a=(0,n.ET)({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6})},93387:function(e,t,r){"use strict";r.d(t,{gh:function(){return b}});var n=r(6020),i=r(87083),s=r(23173),o=r(40204),a=r(54743),c=r(14249),u=r(68673),l=r(81653),h=r(99382),d=r(66433),f=r(27353),p=r(38566);r(53137),r(22188),r(11015);const b={...n,...i,...s,...o,...a,...c,...u,...l,...h,...d}},7176:function(e,t,r){"use strict";r.d(t,{coerce:function(){return i},equals:function(){return n},fromString:function(){return s},toString:function(){return o}});new Uint8Array(0);const n=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},i=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},s=e=>(new TextEncoder).encode(e),o=e=>(new TextDecoder).decode(e)},22188:function(e,t,r){"use strict";r.r(t),r.d(t,{code:function(){return o},decode:function(){return c},encode:function(){return a},name:function(){return s}});const n=new TextEncoder,i=new TextDecoder,s="json",o=512,a=e=>n.encode(JSON.stringify(e)),c=e=>JSON.parse(i.decode(e))},53137:function(e,t,r){"use strict";r.r(t),r.d(t,{code:function(){return s},decode:function(){return a},encode:function(){return o},name:function(){return i}});var n=r(7176);const i="raw",s=85,o=e=>(0,n.coerce)(e),a=e=>(0,n.coerce)(e)},38566:function(e,t,r){"use strict";r.r(t),r.d(t,{identity:function(){return o}});var n=r(7176),i=r(29094);const s=n.coerce,o={code:0,name:"identity",encode:s,digest:e=>i.Ue(0,s(e))}},27353:function(e,t,r){"use strict";r.r(t),r.d(t,{sha256:function(){return s},sha512:function(){return o}});var n=r(22688);const i=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),s=(0,n.D)({name:"sha2-256",code:18,encode:i("SHA-256")}),o=(0,n.D)({name:"sha2-512",code:19,encode:i("SHA-512")})},11015:function(e,t,r){"use strict";r(38161),r(73438),r(7176),r(22688),r(29094)},90954:function(){"use strict";class e extends Error{constructor(e){super(e),this.name="TimeoutError"}}class t extends Error{constructor(e){super(),this.name="AbortError",this.message=e}}},95972:function(e,t,r){"use strict";r(78939),r(71198);new WeakMap;var n,i,s,o,a,c,u,l,h,d,f,p,b,y,m,g,E,w,_,v,D,S=function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},I=function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};class A extends Error{}i=new WeakMap,s=new WeakMap,o=new WeakMap,a=new WeakMap,c=new WeakMap,u=new WeakMap,l=new WeakMap,h=new WeakMap,d=new WeakMap,new WeakMap,f=new WeakMap,p=new WeakMap,b=new WeakMap,new WeakMap,n=new WeakSet,y=function(){return I(this,s,"f")||I(this,o,"f")<I(this,a,"f")},m=function(){return I(this,f,"f")<I(this,p,"f")},g=function(){I(this,n,"m",v).call(this),I(this,n,"m",_).call(this),S(this,h,void 0,"f")},E=function(){const e=Date.now();if(void 0===I(this,l,"f")){const t=I(this,u,"f")-e;if(!(t<0))return void 0===I(this,h,"f")&&S(this,h,setTimeout((()=>{I(this,n,"m",g).call(this)}),t),"f"),!0;S(this,o,I(this,i,"f")?I(this,f,"f"):0,"f")}return!1},w=function(){if(0===I(this,d,"f").size)return I(this,l,"f")&&clearInterval(I(this,l,"f")),S(this,l,void 0,"f"),this.emit("empty"),0===I(this,f,"f")&&this.emit("idle"),!1;if(!I(this,b,"f")){const e=!I(this,n,"a",E);if(I(this,n,"a",y)&&I(this,n,"a",m)){const t=I(this,d,"f").dequeue();return!!t&&(this.emit("active"),t(),e&&I(this,n,"m",_).call(this),!0)}}return!1},_=function(){I(this,s,"f")||void 0!==I(this,l,"f")||(S(this,l,setInterval((()=>{I(this,n,"m",v).call(this)}),I(this,c,"f")),"f"),S(this,u,Date.now()+I(this,c,"f"),"f"))},v=function(){0===I(this,o,"f")&&0===I(this,f,"f")&&I(this,l,"f")&&(clearInterval(I(this,l,"f")),S(this,l,void 0,"f")),S(this,o,I(this,i,"f")?I(this,f,"f"):0,"f"),I(this,n,"m",D).call(this)},D=function(){for(;I(this,n,"m",w).call(this););}},71198:function(e,t,r){"use strict";class n extends Error{constructor(e){super(e),this.name="TimeoutError"}}class i extends Error{constructor(e){super(),this.name="AbortError",this.message=e}}},53749:function(e,t,r){"use strict";r.d(t,{Z:function(){return h}});var n=r(28951),i=r(3287),s=r(49736),o=r(56512);const{isValid:a,parse:c}=o,u=["0.0.0.0/8","10.0.0.0/8","100.64.0.0/10","127.0.0.0/8","169.254.0.0/16","172.16.0.0/12","192.0.0.0/24","192.0.0.0/29","192.0.0.8/32","192.0.0.9/32","192.0.0.10/32","192.0.0.170/32","192.0.0.171/32","192.0.2.0/24","192.31.196.0/24","192.52.193.0/24","192.88.99.0/24","192.168.0.0/16","192.175.48.0/24","198.18.0.0/15","198.51.100.0/24","203.0.113.0/24","240.0.0.0/4","255.255.255.255/32"].map((e=>new n.Netmask(e)));function l(e){return/^::$/.test(e)||/^::1$/.test(e)||/^::f{4}:([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/.test(e)||/^::f{4}:0.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/.test(e)||/^64:ff9b::([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/.test(e)||/^100::([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4})$/.test(e)||/^2001::([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4})$/.test(e)||/^2001:2[0-9a-fA-F]:([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4})$/.test(e)||/^2001:db8:([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4})$/.test(e)||/^2002:([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4}):?([0-9a-fA-F]{0,4})$/.test(e)||/^f[c-d]([0-9a-fA-F]{2,2}):/i.test(e)||/^fe[8-9a-bA-B][0-9a-fA-F]:/i.test(e)||/^ff([0-9a-fA-F]{2,2}):/i.test(e)}var h=e=>{if(a(e)){const t=c(e);if("ipv4"===t.kind())return function(e){for(let t of u)if(t.contains(e))return!0;return!1}(t.toNormalizedString());if("ipv6"===t.kind())return l(e)}else if((0,s.h6)(e)&&i.Z.v6().test(e))return l(e)}},43905:function(e,t,r){"use strict";class n extends Event{constructor(e,t){super(e),this.detail=t}}},62308:function(e,t,r){"use strict";r.d(t,{H:function(){return u}});var n=r(41690),i=r(73062),s=r(66574);const o=Symbol.for("@achingbrain/uint8arraylist");function a(e,t){if(null==t||t<0)throw new RangeError("index is out of bounds");let r=0;for(const n of e){const e=r+n.byteLength;if(t<e)return{buf:n,index:t-r};r=e}throw new RangeError("index is out of bounds")}function c(e){return Boolean(e?.[o])}class u{constructor(...e){Object.defineProperty(this,o,{value:!0}),this.bufs=[],this.length=0,e.length>0&&this.appendAll(e)}*[Symbol.iterator](){yield*this.bufs}get byteLength(){return this.length}append(...e){this.appendAll(e)}appendAll(e){let t=0;for(const r of e)if(r instanceof Uint8Array)t+=r.byteLength,this.bufs.push(r);else{if(!c(r))throw new Error("Could not append value, must be an Uint8Array or a Uint8ArrayList");t+=r.byteLength,this.bufs.push(...r.bufs)}this.length+=t}prepend(...e){this.prependAll(e)}prependAll(e){let t=0;for(const r of e.reverse())if(r instanceof Uint8Array)t+=r.byteLength,this.bufs.unshift(r);else{if(!c(r))throw new Error("Could not prepend value, must be an Uint8Array or a Uint8ArrayList");t+=r.byteLength,this.bufs.unshift(...r.bufs)}this.length+=t}get(e){const t=a(this.bufs,e);return t.buf[t.index]}set(e,t){const r=a(this.bufs,e);r.buf[r.index]=t}write(e,t=0){if(e instanceof Uint8Array)for(let r=0;r<e.length;r++)this.set(t+r,e[r]);else{if(!c(e))throw new Error("Could not write value, must be an Uint8Array or a Uint8ArrayList");for(let r=0;r<e.length;r++)this.set(t+r,e.get(r))}}consume(e){if(e=Math.trunc(e),!(Number.isNaN(e)||e<=0)){if(e===this.byteLength)return this.bufs=[],void(this.length=0);for(;this.bufs.length>0;){if(!(e>=this.bufs[0].byteLength)){this.bufs[0]=this.bufs[0].subarray(e),this.length-=e;break}e-=this.bufs[0].byteLength,this.length-=this.bufs[0].byteLength,this.bufs.shift()}}}slice(e,t){const{bufs:r,length:i}=this._subList(e,t);return(0,n.z)(r,i)}subarray(e,t){const{bufs:r,length:i}=this._subList(e,t);return 1===r.length?r[0]:(0,n.z)(r,i)}sublist(e,t){const{bufs:r,length:n}=this._subList(e,t),i=new u;return i.length=n,i.bufs=r,i}_subList(e,t){if(e=e??0,t=t??this.length,e<0&&(e=this.length+e),t<0&&(t=this.length+t),e<0||t>this.length)throw new RangeError("index is out of bounds");if(e===t)return{bufs:[],length:0};if(0===e&&t===this.length)return{bufs:[...this.bufs],length:this.length};const r=[];let n=0;for(let i=0;i<this.bufs.length;i++){const s=this.bufs[i],o=n,a=o+s.byteLength;if(n=a,e>=a)continue;const c=e>=o&&e<a,u=t>o&&t<=a;if(c&&u){if(e===o&&t===a){r.push(s);break}const n=e-o;r.push(s.subarray(n,n+(t-e)));break}if(c){if(0===e){r.push(s);continue}r.push(s.subarray(e-o))}else{if(u){if(t===a){r.push(s);break}r.push(s.subarray(0,t-o));break}r.push(s)}}return{bufs:r,length:t-e}}indexOf(e,t=0){if(!(c(e)||e instanceof Uint8Array))throw new TypeError('The "value" argument must be a Uint8ArrayList or Uint8Array');const r=e instanceof Uint8Array?e:e.subarray();if(t=Number(t??0),isNaN(t)&&(t=0),t<0&&(t=this.length+t),t<0&&(t=0),0===e.length)return t>this.length?this.length:t;const n=r.byteLength;if(0===n)throw new TypeError("search must be at least 1 byte long");const i=new Int32Array(256);for(let e=0;e<256;e++)i[e]=-1;for(let e=0;e<n;e++)i[r[e]]=e;const s=i,o=this.byteLength-r.byteLength,a=r.byteLength-1;let u;for(let e=t;e<=o;e+=u){u=0;for(let t=a;t>=0;t--){const n=this.get(e+t);if(r[t]!==n){u=Math.max(1,t-s[n]);break}}if(0===u)return e}return-1}getInt8(e){const t=this.subarray(e,e+1);return new DataView(t.buffer,t.byteOffset,t.byteLength).getInt8(0)}setInt8(e,t){const r=(0,s.E)(1);new DataView(r.buffer,r.byteOffset,r.byteLength).setInt8(0,t),this.write(r,e)}getInt16(e,t){const r=this.subarray(e,e+2);return new DataView(r.buffer,r.byteOffset,r.byteLength).getInt16(0,t)}setInt16(e,t,r){const n=(0,s.u)(2);new DataView(n.buffer,n.byteOffset,n.byteLength).setInt16(0,t,r),this.write(n,e)}getInt32(e,t){const r=this.subarray(e,e+4);return new DataView(r.buffer,r.byteOffset,r.byteLength).getInt32(0,t)}setInt32(e,t,r){const n=(0,s.u)(4);new DataView(n.buffer,n.byteOffset,n.byteLength).setInt32(0,t,r),this.write(n,e)}getBigInt64(e,t){const r=this.subarray(e,e+8);return new DataView(r.buffer,r.byteOffset,r.byteLength).getBigInt64(0,t)}setBigInt64(e,t,r){const n=(0,s.u)(8);new DataView(n.buffer,n.byteOffset,n.byteLength).setBigInt64(0,t,r),this.write(n,e)}getUint8(e){const t=this.subarray(e,e+1);return new DataView(t.buffer,t.byteOffset,t.byteLength).getUint8(0)}setUint8(e,t){const r=(0,s.E)(1);new DataView(r.buffer,r.byteOffset,r.byteLength).setUint8(0,t),this.write(r,e)}getUint16(e,t){const r=this.subarray(e,e+2);return new DataView(r.buffer,r.byteOffset,r.byteLength).getUint16(0,t)}setUint16(e,t,r){const n=(0,s.u)(2);new DataView(n.buffer,n.byteOffset,n.byteLength).setUint16(0,t,r),this.write(n,e)}getUint32(e,t){const r=this.subarray(e,e+4);return new DataView(r.buffer,r.byteOffset,r.byteLength).getUint32(0,t)}setUint32(e,t,r){const n=(0,s.u)(4);new DataView(n.buffer,n.byteOffset,n.byteLength).setUint32(0,t,r),this.write(n,e)}getBigUint64(e,t){const r=this.subarray(e,e+8);return new DataView(r.buffer,r.byteOffset,r.byteLength).getBigUint64(0,t)}setBigUint64(e,t,r){const n=(0,s.u)(8);new DataView(n.buffer,n.byteOffset,n.byteLength).setBigUint64(0,t,r),this.write(n,e)}getFloat32(e,t){const r=this.subarray(e,e+4);return new DataView(r.buffer,r.byteOffset,r.byteLength).getFloat32(0,t)}setFloat32(e,t,r){const n=(0,s.u)(4);new DataView(n.buffer,n.byteOffset,n.byteLength).setFloat32(0,t,r),this.write(n,e)}getFloat64(e,t){const r=this.subarray(e,e+8);return new DataView(r.buffer,r.byteOffset,r.byteLength).getFloat64(0,t)}setFloat64(e,t,r){const n=(0,s.u)(8);new DataView(n.buffer,n.byteOffset,n.byteLength).setFloat64(0,t,r),this.write(n,e)}equals(e){if(null==e)return!1;if(!(e instanceof u))return!1;if(e.bufs.length!==this.bufs.length)return!1;for(let t=0;t<this.bufs.length;t++)if(!(0,i.f)(this.bufs[t],e.bufs[t]))return!1;return!0}static fromUint8Arrays(e,t){const r=new u;return r.bufs=e,null==t&&(t=e.reduce(((e,t)=>e+t.byteLength),0)),r.length=t,r}}},13353:function(e,t,r){"use strict";var n=r(93387),i=r(66574);function s(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}const o=s("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),a=s("ascii","a",(e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}),(e=>{e=e.substring(1);const t=(0,i.E)(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t})),c={utf8:o,"utf-8":o,hex:n.gh.base16,latin1:a,ascii:a,binary:a,...n.gh};t.Z=c},14560:function(e,t,r){"use strict";var n=r(59134);"object"==typeof window&&"object"==typeof document&&document.nodeType;const i=n();void 0!==globalThis.process&&void 0!==globalThis.process.release&&globalThis.process.release.name,"function"==typeof importScripts&&"undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&(self,WorkerGlobalScope),void 0!==globalThis.process&&void 0!==globalThis.process.env&&globalThis.process.env.NODE_ENV,"undefined"!=typeof navigator&&navigator.product}}]);
//# sourceMappingURL=644.2e2b2aee.js.map